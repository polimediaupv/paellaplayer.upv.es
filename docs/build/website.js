
(function(l, r) { if (!l || l.getElementById('livereloadscript')) return; r = l.createElement('script'); r.async = 1; r.src = '//' + (self.location.host || 'localhost').split(':')[0] + ':35729/livereload.js?snipver=1'; r.id = 'livereloadscript'; l.getElementsByTagName('head')[0].appendChild(r) })(self.document);
var app = (function () {
    'use strict';

    function noop() { }
    function assign(tar, src) {
        // @ts-ignore
        for (const k in src)
            tar[k] = src[k];
        return tar;
    }
    function add_location(element, file, line, column, char) {
        element.__svelte_meta = {
            loc: { file, line, column, char }
        };
    }
    function run(fn) {
        return fn();
    }
    function blank_object() {
        return Object.create(null);
    }
    function run_all(fns) {
        fns.forEach(run);
    }
    function is_function(thing) {
        return typeof thing === 'function';
    }
    function safe_not_equal(a, b) {
        return a != a ? b == b : a !== b || ((a && typeof a === 'object') || typeof a === 'function');
    }
    let src_url_equal_anchor;
    function src_url_equal(element_src, url) {
        if (!src_url_equal_anchor) {
            src_url_equal_anchor = document.createElement('a');
        }
        src_url_equal_anchor.href = url;
        return element_src === src_url_equal_anchor.href;
    }
    function is_empty(obj) {
        return Object.keys(obj).length === 0;
    }
    function subscribe(store, ...callbacks) {
        if (store == null) {
            return noop;
        }
        const unsub = store.subscribe(...callbacks);
        return unsub.unsubscribe ? () => unsub.unsubscribe() : unsub;
    }
    function create_slot(definition, ctx, $$scope, fn) {
        if (definition) {
            const slot_ctx = get_slot_context(definition, ctx, $$scope, fn);
            return definition[0](slot_ctx);
        }
    }
    function get_slot_context(definition, ctx, $$scope, fn) {
        return definition[1] && fn
            ? assign($$scope.ctx.slice(), definition[1](fn(ctx)))
            : $$scope.ctx;
    }
    function get_slot_changes(definition, $$scope, dirty, fn) {
        if (definition[2] && fn) {
            const lets = definition[2](fn(dirty));
            if ($$scope.dirty === undefined) {
                return lets;
            }
            if (typeof lets === 'object') {
                const merged = [];
                const len = Math.max($$scope.dirty.length, lets.length);
                for (let i = 0; i < len; i += 1) {
                    merged[i] = $$scope.dirty[i] | lets[i];
                }
                return merged;
            }
            return $$scope.dirty | lets;
        }
        return $$scope.dirty;
    }
    function update_slot_base(slot, slot_definition, ctx, $$scope, slot_changes, get_slot_context_fn) {
        if (slot_changes) {
            const slot_context = get_slot_context(slot_definition, ctx, $$scope, get_slot_context_fn);
            slot.p(slot_context, slot_changes);
        }
    }
    function get_all_dirty_from_scope($$scope) {
        if ($$scope.ctx.length > 32) {
            const dirty = [];
            const length = $$scope.ctx.length / 32;
            for (let i = 0; i < length; i++) {
                dirty[i] = -1;
            }
            return dirty;
        }
        return -1;
    }
    function exclude_internal_props(props) {
        const result = {};
        for (const k in props)
            if (k[0] !== '$')
                result[k] = props[k];
        return result;
    }
    function compute_rest_props(props, keys) {
        const rest = {};
        keys = new Set(keys);
        for (const k in props)
            if (!keys.has(k) && k[0] !== '$')
                rest[k] = props[k];
        return rest;
    }
    function null_to_empty(value) {
        return value == null ? '' : value;
    }
    function append(target, node) {
        target.appendChild(node);
    }
    function insert(target, node, anchor) {
        target.insertBefore(node, anchor || null);
    }
    function detach(node) {
        node.parentNode.removeChild(node);
    }
    function destroy_each(iterations, detaching) {
        for (let i = 0; i < iterations.length; i += 1) {
            if (iterations[i])
                iterations[i].d(detaching);
        }
    }
    function element(name) {
        return document.createElement(name);
    }
    function svg_element(name) {
        return document.createElementNS('http://www.w3.org/2000/svg', name);
    }
    function text(data) {
        return document.createTextNode(data);
    }
    function space() {
        return text(' ');
    }
    function empty() {
        return text('');
    }
    function listen(node, event, handler, options) {
        node.addEventListener(event, handler, options);
        return () => node.removeEventListener(event, handler, options);
    }
    function attr(node, attribute, value) {
        if (value == null)
            node.removeAttribute(attribute);
        else if (node.getAttribute(attribute) !== value)
            node.setAttribute(attribute, value);
    }
    function children(element) {
        return Array.from(element.childNodes);
    }
    function set_input_value(input, value) {
        input.value = value == null ? '' : value;
    }
    function select_option(select, value) {
        for (let i = 0; i < select.options.length; i += 1) {
            const option = select.options[i];
            if (option.__value === value) {
                option.selected = true;
                return;
            }
        }
        select.selectedIndex = -1; // no option should be selected
    }
    function custom_event(type, detail, { bubbles = false, cancelable = false } = {}) {
        const e = document.createEvent('CustomEvent');
        e.initCustomEvent(type, bubbles, cancelable, detail);
        return e;
    }
    class HtmlTag {
        constructor(is_svg = false) {
            this.is_svg = false;
            this.is_svg = is_svg;
            this.e = this.n = null;
        }
        c(html) {
            this.h(html);
        }
        m(html, target, anchor = null) {
            if (!this.e) {
                if (this.is_svg)
                    this.e = svg_element(target.nodeName);
                else
                    this.e = element(target.nodeName);
                this.t = target;
                this.c(html);
            }
            this.i(anchor);
        }
        h(html) {
            this.e.innerHTML = html;
            this.n = Array.from(this.e.childNodes);
        }
        i(anchor) {
            for (let i = 0; i < this.n.length; i += 1) {
                insert(this.t, this.n[i], anchor);
            }
        }
        p(html) {
            this.d();
            this.h(html);
            this.i(this.a);
        }
        d() {
            this.n.forEach(detach);
        }
    }

    let current_component;
    function set_current_component(component) {
        current_component = component;
    }
    function get_current_component() {
        if (!current_component)
            throw new Error('Function called outside component initialization');
        return current_component;
    }
    /**
     * The `onMount` function schedules a callback to run as soon as the component has been mounted to the DOM.
     * It must be called during the component's initialisation (but doesn't need to live *inside* the component;
     * it can be called from an external module).
     *
     * `onMount` does not run inside a [server-side component](/docs#run-time-server-side-component-api).
     *
     * https://svelte.dev/docs#run-time-svelte-onmount
     */
    function onMount(fn) {
        get_current_component().$$.on_mount.push(fn);
    }
    /**
     * Schedules a callback to run immediately after the component has been updated.
     *
     * The first time the callback runs will be after the initial `onMount`
     */
    function afterUpdate(fn) {
        get_current_component().$$.after_update.push(fn);
    }
    /**
     * Schedules a callback to run immediately before the component is unmounted.
     *
     * Out of `onMount`, `beforeUpdate`, `afterUpdate` and `onDestroy`, this is the
     * only one that runs inside a server-side component.
     *
     * https://svelte.dev/docs#run-time-svelte-ondestroy
     */
    function onDestroy(fn) {
        get_current_component().$$.on_destroy.push(fn);
    }
    /**
     * Creates an event dispatcher that can be used to dispatch [component events](/docs#template-syntax-component-directives-on-eventname).
     * Event dispatchers are functions that can take two arguments: `name` and `detail`.
     *
     * Component events created with `createEventDispatcher` create a
     * [CustomEvent](https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent).
     * These events do not [bubble](https://developer.mozilla.org/en-US/docs/Learn/JavaScript/Building_blocks/Events#Event_bubbling_and_capture).
     * The `detail` argument corresponds to the [CustomEvent.detail](https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent/detail)
     * property and can contain any type of data.
     *
     * https://svelte.dev/docs#run-time-svelte-createeventdispatcher
     */
    function createEventDispatcher() {
        const component = get_current_component();
        return (type, detail, { cancelable = false } = {}) => {
            const callbacks = component.$$.callbacks[type];
            if (callbacks) {
                // TODO are there situations where events could be dispatched
                // in a server (non-DOM) environment?
                const event = custom_event(type, detail, { cancelable });
                callbacks.slice().forEach(fn => {
                    fn.call(component, event);
                });
                return !event.defaultPrevented;
            }
            return true;
        };
    }
    /**
     * Associates an arbitrary `context` object with the current component and the specified `key`
     * and returns that object. The context is then available to children of the component
     * (including slotted content) with `getContext`.
     *
     * Like lifecycle functions, this must be called during component initialisation.
     *
     * https://svelte.dev/docs#run-time-svelte-setcontext
     */
    function setContext(key, context) {
        get_current_component().$$.context.set(key, context);
        return context;
    }
    /**
     * Retrieves the context that belongs to the closest parent component with the specified `key`.
     * Must be called during component initialisation.
     *
     * https://svelte.dev/docs#run-time-svelte-getcontext
     */
    function getContext(key) {
        return get_current_component().$$.context.get(key);
    }
    // TODO figure out if we still want to support
    // shorthand events, or if we want to implement
    // a real bubbling mechanism
    function bubble(component, event) {
        const callbacks = component.$$.callbacks[event.type];
        if (callbacks) {
            // @ts-ignore
            callbacks.slice().forEach(fn => fn.call(this, event));
        }
    }

    const dirty_components = [];
    const binding_callbacks = [];
    const render_callbacks = [];
    const flush_callbacks = [];
    const resolved_promise = Promise.resolve();
    let update_scheduled = false;
    function schedule_update() {
        if (!update_scheduled) {
            update_scheduled = true;
            resolved_promise.then(flush);
        }
    }
    function tick() {
        schedule_update();
        return resolved_promise;
    }
    function add_render_callback(fn) {
        render_callbacks.push(fn);
    }
    function add_flush_callback(fn) {
        flush_callbacks.push(fn);
    }
    // flush() calls callbacks in this order:
    // 1. All beforeUpdate callbacks, in order: parents before children
    // 2. All bind:this callbacks, in reverse order: children before parents.
    // 3. All afterUpdate callbacks, in order: parents before children. EXCEPT
    //    for afterUpdates called during the initial onMount, which are called in
    //    reverse order: children before parents.
    // Since callbacks might update component values, which could trigger another
    // call to flush(), the following steps guard against this:
    // 1. During beforeUpdate, any updated components will be added to the
    //    dirty_components array and will cause a reentrant call to flush(). Because
    //    the flush index is kept outside the function, the reentrant call will pick
    //    up where the earlier call left off and go through all dirty components. The
    //    current_component value is saved and restored so that the reentrant call will
    //    not interfere with the "parent" flush() call.
    // 2. bind:this callbacks cannot trigger new flush() calls.
    // 3. During afterUpdate, any updated components will NOT have their afterUpdate
    //    callback called a second time; the seen_callbacks set, outside the flush()
    //    function, guarantees this behavior.
    const seen_callbacks = new Set();
    let flushidx = 0; // Do *not* move this inside the flush() function
    function flush() {
        const saved_component = current_component;
        do {
            // first, call beforeUpdate functions
            // and update components
            while (flushidx < dirty_components.length) {
                const component = dirty_components[flushidx];
                flushidx++;
                set_current_component(component);
                update(component.$$);
            }
            set_current_component(null);
            dirty_components.length = 0;
            flushidx = 0;
            while (binding_callbacks.length)
                binding_callbacks.pop()();
            // then, once components are updated, call
            // afterUpdate functions. This may cause
            // subsequent updates...
            for (let i = 0; i < render_callbacks.length; i += 1) {
                const callback = render_callbacks[i];
                if (!seen_callbacks.has(callback)) {
                    // ...so guard against infinite loops
                    seen_callbacks.add(callback);
                    callback();
                }
            }
            render_callbacks.length = 0;
        } while (dirty_components.length);
        while (flush_callbacks.length) {
            flush_callbacks.pop()();
        }
        update_scheduled = false;
        seen_callbacks.clear();
        set_current_component(saved_component);
    }
    function update($$) {
        if ($$.fragment !== null) {
            $$.update();
            run_all($$.before_update);
            const dirty = $$.dirty;
            $$.dirty = [-1];
            $$.fragment && $$.fragment.p($$.ctx, dirty);
            $$.after_update.forEach(add_render_callback);
        }
    }
    const outroing = new Set();
    let outros;
    function group_outros() {
        outros = {
            r: 0,
            c: [],
            p: outros // parent group
        };
    }
    function check_outros() {
        if (!outros.r) {
            run_all(outros.c);
        }
        outros = outros.p;
    }
    function transition_in(block, local) {
        if (block && block.i) {
            outroing.delete(block);
            block.i(local);
        }
    }
    function transition_out(block, local, detach, callback) {
        if (block && block.o) {
            if (outroing.has(block))
                return;
            outroing.add(block);
            outros.c.push(() => {
                outroing.delete(block);
                if (callback) {
                    if (detach)
                        block.d(1);
                    callback();
                }
            });
            block.o(local);
        }
        else if (callback) {
            callback();
        }
    }

    const globals = (typeof window !== 'undefined'
        ? window
        : typeof globalThis !== 'undefined'
            ? globalThis
            : global);

    function destroy_block(block, lookup) {
        block.d(1);
        lookup.delete(block.key);
    }
    function update_keyed_each(old_blocks, dirty, get_key, dynamic, ctx, list, lookup, node, destroy, create_each_block, next, get_context) {
        let o = old_blocks.length;
        let n = list.length;
        let i = o;
        const old_indexes = {};
        while (i--)
            old_indexes[old_blocks[i].key] = i;
        const new_blocks = [];
        const new_lookup = new Map();
        const deltas = new Map();
        i = n;
        while (i--) {
            const child_ctx = get_context(ctx, list, i);
            const key = get_key(child_ctx);
            let block = lookup.get(key);
            if (!block) {
                block = create_each_block(key, child_ctx);
                block.c();
            }
            else if (dynamic) {
                block.p(child_ctx, dirty);
            }
            new_lookup.set(key, new_blocks[i] = block);
            if (key in old_indexes)
                deltas.set(key, Math.abs(i - old_indexes[key]));
        }
        const will_move = new Set();
        const did_move = new Set();
        function insert(block) {
            transition_in(block, 1);
            block.m(node, next);
            lookup.set(block.key, block);
            next = block.first;
            n--;
        }
        while (o && n) {
            const new_block = new_blocks[n - 1];
            const old_block = old_blocks[o - 1];
            const new_key = new_block.key;
            const old_key = old_block.key;
            if (new_block === old_block) {
                // do nothing
                next = new_block.first;
                o--;
                n--;
            }
            else if (!new_lookup.has(old_key)) {
                // remove old block
                destroy(old_block, lookup);
                o--;
            }
            else if (!lookup.has(new_key) || will_move.has(new_key)) {
                insert(new_block);
            }
            else if (did_move.has(old_key)) {
                o--;
            }
            else if (deltas.get(new_key) > deltas.get(old_key)) {
                did_move.add(new_key);
                insert(new_block);
            }
            else {
                will_move.add(old_key);
                o--;
            }
        }
        while (o--) {
            const old_block = old_blocks[o];
            if (!new_lookup.has(old_block.key))
                destroy(old_block, lookup);
        }
        while (n)
            insert(new_blocks[n - 1]);
        return new_blocks;
    }
    function validate_each_keys(ctx, list, get_context, get_key) {
        const keys = new Set();
        for (let i = 0; i < list.length; i++) {
            const key = get_key(get_context(ctx, list, i));
            if (keys.has(key)) {
                throw new Error('Cannot have duplicate keys in a keyed each');
            }
            keys.add(key);
        }
    }

    function get_spread_update(levels, updates) {
        const update = {};
        const to_null_out = {};
        const accounted_for = { $$scope: 1 };
        let i = levels.length;
        while (i--) {
            const o = levels[i];
            const n = updates[i];
            if (n) {
                for (const key in o) {
                    if (!(key in n))
                        to_null_out[key] = 1;
                }
                for (const key in n) {
                    if (!accounted_for[key]) {
                        update[key] = n[key];
                        accounted_for[key] = 1;
                    }
                }
                levels[i] = n;
            }
            else {
                for (const key in o) {
                    accounted_for[key] = 1;
                }
            }
        }
        for (const key in to_null_out) {
            if (!(key in update))
                update[key] = undefined;
        }
        return update;
    }
    function get_spread_object(spread_props) {
        return typeof spread_props === 'object' && spread_props !== null ? spread_props : {};
    }

    function bind(component, name, callback) {
        const index = component.$$.props[name];
        if (index !== undefined) {
            component.$$.bound[index] = callback;
            callback(component.$$.ctx[index]);
        }
    }
    function create_component(block) {
        block && block.c();
    }
    function mount_component(component, target, anchor, customElement) {
        const { fragment, after_update } = component.$$;
        fragment && fragment.m(target, anchor);
        if (!customElement) {
            // onMount happens before the initial afterUpdate
            add_render_callback(() => {
                const new_on_destroy = component.$$.on_mount.map(run).filter(is_function);
                // if the component was destroyed immediately
                // it will update the `$$.on_destroy` reference to `null`.
                // the destructured on_destroy may still reference to the old array
                if (component.$$.on_destroy) {
                    component.$$.on_destroy.push(...new_on_destroy);
                }
                else {
                    // Edge case - component was destroyed immediately,
                    // most likely as a result of a binding initialising
                    run_all(new_on_destroy);
                }
                component.$$.on_mount = [];
            });
        }
        after_update.forEach(add_render_callback);
    }
    function destroy_component(component, detaching) {
        const $$ = component.$$;
        if ($$.fragment !== null) {
            run_all($$.on_destroy);
            $$.fragment && $$.fragment.d(detaching);
            // TODO null out other refs, including component.$$ (but need to
            // preserve final state?)
            $$.on_destroy = $$.fragment = null;
            $$.ctx = [];
        }
    }
    function make_dirty(component, i) {
        if (component.$$.dirty[0] === -1) {
            dirty_components.push(component);
            schedule_update();
            component.$$.dirty.fill(0);
        }
        component.$$.dirty[(i / 31) | 0] |= (1 << (i % 31));
    }
    function init$1(component, options, instance, create_fragment, not_equal, props, append_styles, dirty = [-1]) {
        const parent_component = current_component;
        set_current_component(component);
        const $$ = component.$$ = {
            fragment: null,
            ctx: [],
            // state
            props,
            update: noop,
            not_equal,
            bound: blank_object(),
            // lifecycle
            on_mount: [],
            on_destroy: [],
            on_disconnect: [],
            before_update: [],
            after_update: [],
            context: new Map(options.context || (parent_component ? parent_component.$$.context : [])),
            // everything else
            callbacks: blank_object(),
            dirty,
            skip_bound: false,
            root: options.target || parent_component.$$.root
        };
        append_styles && append_styles($$.root);
        let ready = false;
        $$.ctx = instance
            ? instance(component, options.props || {}, (i, ret, ...rest) => {
                const value = rest.length ? rest[0] : ret;
                if ($$.ctx && not_equal($$.ctx[i], $$.ctx[i] = value)) {
                    if (!$$.skip_bound && $$.bound[i])
                        $$.bound[i](value);
                    if (ready)
                        make_dirty(component, i);
                }
                return ret;
            })
            : [];
        $$.update();
        ready = true;
        run_all($$.before_update);
        // `false` as a special case of no DOM component
        $$.fragment = create_fragment ? create_fragment($$.ctx) : false;
        if (options.target) {
            if (options.hydrate) {
                const nodes = children(options.target);
                // eslint-disable-next-line @typescript-eslint/no-non-null-assertion
                $$.fragment && $$.fragment.l(nodes);
                nodes.forEach(detach);
            }
            else {
                // eslint-disable-next-line @typescript-eslint/no-non-null-assertion
                $$.fragment && $$.fragment.c();
            }
            if (options.intro)
                transition_in(component.$$.fragment);
            mount_component(component, options.target, options.anchor, options.customElement);
            flush();
        }
        set_current_component(parent_component);
    }
    /**
     * Base class for Svelte components. Used when dev=false.
     */
    class SvelteComponent {
        $destroy() {
            destroy_component(this, 1);
            this.$destroy = noop;
        }
        $on(type, callback) {
            if (!is_function(callback)) {
                return noop;
            }
            const callbacks = (this.$$.callbacks[type] || (this.$$.callbacks[type] = []));
            callbacks.push(callback);
            return () => {
                const index = callbacks.indexOf(callback);
                if (index !== -1)
                    callbacks.splice(index, 1);
            };
        }
        $set($$props) {
            if (this.$$set && !is_empty($$props)) {
                this.$$.skip_bound = true;
                this.$$set($$props);
                this.$$.skip_bound = false;
            }
        }
    }

    function dispatch_dev(type, detail) {
        document.dispatchEvent(custom_event(type, Object.assign({ version: '3.52.0' }, detail), { bubbles: true }));
    }
    function append_dev(target, node) {
        dispatch_dev('SvelteDOMInsert', { target, node });
        append(target, node);
    }
    function insert_dev(target, node, anchor) {
        dispatch_dev('SvelteDOMInsert', { target, node, anchor });
        insert(target, node, anchor);
    }
    function detach_dev(node) {
        dispatch_dev('SvelteDOMRemove', { node });
        detach(node);
    }
    function listen_dev(node, event, handler, options, has_prevent_default, has_stop_propagation) {
        const modifiers = options === true ? ['capture'] : options ? Array.from(Object.keys(options)) : [];
        if (has_prevent_default)
            modifiers.push('preventDefault');
        if (has_stop_propagation)
            modifiers.push('stopPropagation');
        dispatch_dev('SvelteDOMAddEventListener', { node, event, handler, modifiers });
        const dispose = listen(node, event, handler, options);
        return () => {
            dispatch_dev('SvelteDOMRemoveEventListener', { node, event, handler, modifiers });
            dispose();
        };
    }
    function attr_dev(node, attribute, value) {
        attr(node, attribute, value);
        if (value == null)
            dispatch_dev('SvelteDOMRemoveAttribute', { node, attribute });
        else
            dispatch_dev('SvelteDOMSetAttribute', { node, attribute, value });
    }
    function prop_dev(node, property, value) {
        node[property] = value;
        dispatch_dev('SvelteDOMSetProperty', { node, property, value });
    }
    function set_data_dev(text, data) {
        data = '' + data;
        if (text.wholeText === data)
            return;
        dispatch_dev('SvelteDOMSetData', { node: text, data });
        text.data = data;
    }
    function validate_each_argument(arg) {
        if (typeof arg !== 'string' && !(arg && typeof arg === 'object' && 'length' in arg)) {
            let msg = '{#each} only iterates over array-like objects.';
            if (typeof Symbol === 'function' && arg && Symbol.iterator in arg) {
                msg += ' You can use a spread to convert this iterable into an array.';
            }
            throw new Error(msg);
        }
    }
    function validate_slots(name, slot, keys) {
        for (const slot_key of Object.keys(slot)) {
            if (!~keys.indexOf(slot_key)) {
                console.warn(`<${name}> received an unexpected slot "${slot_key}".`);
            }
        }
    }
    function construct_svelte_component_dev(component, props) {
        const error_message = 'this={...} of <svelte:component> should specify a Svelte component.';
        try {
            const instance = new component(props);
            if (!instance.$$ || !instance.$set || !instance.$on || !instance.$destroy) {
                throw new Error(error_message);
            }
            return instance;
        }
        catch (err) {
            const { message } = err;
            if (typeof message === 'string' && message.indexOf('is not a constructor') !== -1) {
                throw new Error(error_message);
            }
            else {
                throw err;
            }
        }
    }
    /**
     * Base class for Svelte components with some minor dev-enhancements. Used when dev=true.
     */
    class SvelteComponentDev extends SvelteComponent {
        constructor(options) {
            if (!options || (!options.target && !options.$$inline)) {
                throw new Error("'target' is a required option");
            }
            super();
        }
        $destroy() {
            super.$destroy();
            this.$destroy = () => {
                console.warn('Component was already destroyed'); // eslint-disable-line no-console
            };
        }
        $capture_state() { }
        $inject_state() { }
    }

    const setCookie = (cname,cvalue,exdays=365) => {
        const d = new Date();
        d.setTime(d.getTime() + (exdays*24*60*60*1000));
        let expires = "expires="+ d.toUTCString();
        document.cookie = cname + "=" + cvalue + ";" + expires + ";path=/;SameSite=None; Secure";
    };

    const getCookie = (cname) => {
        let name = cname + "=";
        let decodedCookie = decodeURIComponent(document.cookie);
        let ca = decodedCookie.split(';');
        for(let i = 0; i <ca.length; i++) {
          let c = ca[i];
          while (c.charAt(0) == ' ') {
            c = c.substring(1);
          }
          if (c.indexOf(name) == 0) {
            return c.substring(name.length, c.length);
          }
        }
        return "";
    };

    const getCookieConsentData = () => {
      const analytical = getCookie('enable-analytics');
      return {
        analytical: /true/i.test(analytical) || false
      };
    };

    const setCookieConsentData = ({ analytical = false }) => {
      setCookie('enable-analytics', analytical ? "true" : "false" );
    };

    const isConsentSaved = () => {
      return getCookie('enable-analytics') !== "";
    };

    const clearConsentData = () => {
      setCookie('enable-analytics','');
    };

    async function lastPacakgeVersion(user,repo) {
        const cookieName = `packageVersion_${user}_${repo}`;
        const current = getCookie(cookieName);
        if (current !== "") {
            return current;
        }

        const githubApiTags = await fetch(`https://api.github.com/repos/${user}/${repo}/tags`);
        if (githubApiTags.ok) {
            const tagData = await githubApiTags.json();
            const lastVersion = [0,0,0];
            const re = /^(\d+)\.(\d+)\.(\d+)$/;
            tagData.forEach(tagData => {
                const { name } = tagData;
                const version = re.exec(name);
                if (version) {
                    if (version[1]>=Number(lastVersion[0]) && 
                        version[2]>=Number(lastVersion[1]) && 
                        version[3]>=Number(lastVersion[2])) {
                        lastVersion[0] = Number(version[1]);
                        lastVersion[1] = Number(version[2]);
                        lastVersion[2] = Number(version[3]);
                    }
                }
            });
            const version = `${lastVersion[0]}.${lastVersion[1]}.${lastVersion[2]}`;
            setCookie(cookieName, version, 1/24);
            return version;
        }
        return "0.0.0";
    }

    /* src\Menu.svelte generated by Svelte v3.52.0 */
    const file$u = "src\\Menu.svelte";

    function get_each_context$5(ctx, list, i) {
    	const child_ctx = ctx.slice();
    	child_ctx[2] = list[i];
    	child_ctx[4] = i;
    	return child_ctx;
    }

    // (35:20) {#each menuSections as menuItem, i (menuItem) }
    function create_each_block$5(key_1, ctx) {
    	let li;
    	let a;
    	let t0_value = /*menuItem*/ ctx[2].title + "";
    	let t0;
    	let t1;

    	const block = {
    		key: key_1,
    		first: null,
    		c: function create() {
    			li = element("li");
    			a = element("a");
    			t0 = text(t0_value);
    			t1 = space();
    			attr_dev(a, "href", /*menuItem*/ ctx[2].link);
    			attr_dev(a, "class", "svelte-ocdara");
    			add_location(a, file$u, 37, 24, 1295);
    			attr_dev(li, "class", "svelte-ocdara");
    			add_location(li, file$u, 36, 20, 1265);
    			this.first = li;
    		},
    		m: function mount(target, anchor) {
    			insert_dev(target, li, anchor);
    			append_dev(li, a);
    			append_dev(a, t0);
    			append_dev(li, t1);
    		},
    		p: function update(new_ctx, dirty) {
    			ctx = new_ctx;
    		},
    		d: function destroy(detaching) {
    			if (detaching) detach_dev(li);
    		}
    	};

    	dispatch_dev("SvelteRegisterBlock", {
    		block,
    		id: create_each_block$5.name,
    		type: "each",
    		source: "(35:20) {#each menuSections as menuItem, i (menuItem) }",
    		ctx
    	});

    	return block;
    }

    function create_fragment$F(ctx) {
    	let header;
    	let nav;
    	let div3;
    	let div0;
    	let a0;
    	let img;
    	let img_src_value;
    	let t0;
    	let div1;
    	let a1;
    	let t1;
    	let br;
    	let t2;
    	let div2;
    	let ul;
    	let each_blocks = [];
    	let each_1_lookup = new Map();
    	let each_value = /*menuSections*/ ctx[0];
    	validate_each_argument(each_value);
    	const get_key = ctx => /*menuItem*/ ctx[2];
    	validate_each_keys(ctx, each_value, get_each_context$5, get_key);

    	for (let i = 0; i < each_value.length; i += 1) {
    		let child_ctx = get_each_context$5(ctx, each_value, i);
    		let key = get_key(child_ctx);
    		each_1_lookup.set(key, each_blocks[i] = create_each_block$5(key, child_ctx));
    	}

    	const block = {
    		c: function create() {
    			header = element("header");
    			nav = element("nav");
    			div3 = element("div");
    			div0 = element("div");
    			a0 = element("a");
    			img = element("img");
    			t0 = space();
    			div1 = element("div");
    			a1 = element("a");
    			t1 = text("Download");
    			br = element("br");
    			t2 = space();
    			div2 = element("div");
    			ul = element("ul");

    			for (let i = 0; i < each_blocks.length; i += 1) {
    				each_blocks[i].c();
    			}

    			if (!src_url_equal(img.src, img_src_value = "img/logo_paella.png")) attr_dev(img, "src", img_src_value);
    			attr_dev(img, "alt", "paella player logo");
    			attr_dev(img, "class", "svelte-ocdara");
    			add_location(img, file$u, 25, 20, 764);
    			attr_dev(a0, "href", "#/");
    			attr_dev(a0, "class", "svelte-ocdara");
    			add_location(a0, file$u, 24, 16, 729);
    			attr_dev(div0, "class", "navbar-header svelte-ocdara");
    			add_location(div0, file$u, 23, 12, 684);
    			add_location(br, file$u, 29, 85, 993);
    			attr_dev(a1, "href", "#/download");
    			attr_dev(a1, "class", "linkButton svelte-ocdara");
    			attr_dev(a1, "id", "downloadPaella3");
    			add_location(a1, file$u, 29, 16, 924);
    			attr_dev(div1, "class", "download-group svelte-ocdara");
    			add_location(div1, file$u, 28, 12, 878);
    			attr_dev(ul, "class", "svelte-ocdara");
    			add_location(ul, file$u, 33, 16, 1081);
    			attr_dev(div2, "class", "menu svelte-ocdara");
    			add_location(div2, file$u, 32, 12, 1045);
    			attr_dev(div3, "class", "menu-container svelte-ocdara");
    			add_location(div3, file$u, 22, 8, 642);
    			attr_dev(nav, "class", "svelte-ocdara");
    			add_location(nav, file$u, 21, 1, 627);
    			add_location(header, file$u, 20, 0, 616);
    		},
    		l: function claim(nodes) {
    			throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option");
    		},
    		m: function mount(target, anchor) {
    			insert_dev(target, header, anchor);
    			append_dev(header, nav);
    			append_dev(nav, div3);
    			append_dev(div3, div0);
    			append_dev(div0, a0);
    			append_dev(a0, img);
    			append_dev(div3, t0);
    			append_dev(div3, div1);
    			append_dev(div1, a1);
    			append_dev(a1, t1);
    			append_dev(a1, br);
    			append_dev(div3, t2);
    			append_dev(div3, div2);
    			append_dev(div2, ul);

    			for (let i = 0; i < each_blocks.length; i += 1) {
    				each_blocks[i].m(ul, null);
    			}
    		},
    		p: function update(ctx, [dirty]) {
    			if (dirty & /*menuSections*/ 1) {
    				each_value = /*menuSections*/ ctx[0];
    				validate_each_argument(each_value);
    				validate_each_keys(ctx, each_value, get_each_context$5, get_key);
    				each_blocks = update_keyed_each(each_blocks, dirty, get_key, 1, ctx, each_value, each_1_lookup, ul, destroy_block, create_each_block$5, null, get_each_context$5);
    			}
    		},
    		i: noop,
    		o: noop,
    		d: function destroy(detaching) {
    			if (detaching) detach_dev(header);

    			for (let i = 0; i < each_blocks.length; i += 1) {
    				each_blocks[i].d();
    			}
    		}
    	};

    	dispatch_dev("SvelteRegisterBlock", {
    		block,
    		id: create_fragment$F.name,
    		type: "component",
    		source: "",
    		ctx
    	});

    	return block;
    }

    function instance$F($$self, $$props, $$invalidate) {
    	let { $$slots: slots = {}, $$scope } = $$props;
    	validate_slots('Menu', slots, []);

    	const menuSections = [
    		{ link: "#/", title: "Home" },
    		{ link: "#/features", title: "Features" },
    		{ link: "#/demos", title: "Demos" },
    		{ link: "#/about", title: "About" },
    		{
    			link: "#/doc/index.md",
    			title: "Documentation"
    		}
    	];

    	let paellaCoreVersion = '0.0.0';

    	onMount(async () => {
    		paellaCoreVersion = await lastPacakgeVersion('polimediaupv', 'paella-core');
    	});

    	const writable_props = [];

    	Object.keys($$props).forEach(key => {
    		if (!~writable_props.indexOf(key) && key.slice(0, 2) !== '$$' && key !== 'slot') console.warn(`<Menu> was created with unknown prop '${key}'`);
    	});

    	$$self.$capture_state = () => ({
    		onMount,
    		lastPacakgeVersion,
    		menuSections,
    		paellaCoreVersion
    	});

    	$$self.$inject_state = $$props => {
    		if ('paellaCoreVersion' in $$props) paellaCoreVersion = $$props.paellaCoreVersion;
    	};

    	if ($$props && "$$inject" in $$props) {
    		$$self.$inject_state($$props.$$inject);
    	}

    	return [menuSections];
    }

    class Menu extends SvelteComponentDev {
    	constructor(options) {
    		super(options);
    		init$1(this, options, instance$F, create_fragment$F, safe_not_equal, {});

    		dispatch_dev("SvelteRegisterComponent", {
    			component: this,
    			tagName: "Menu",
    			options,
    			id: create_fragment$F.name
    		});
    	}
    }

    /* src\Footer.svelte generated by Svelte v3.52.0 */

    const file$t = "src\\Footer.svelte";

    function create_fragment$E(ctx) {
    	let div1;
    	let div0;
    	let t1;
    	let a;
    	let img;
    	let img_src_value;
    	let t2;
    	let button;
    	let mounted;
    	let dispose;

    	const block = {
    		c: function create() {
    			div1 = element("div");
    			div0 = element("div");
    			div0.textContent = "Supported by:";
    			t1 = space();
    			a = element("a");
    			img = element("img");
    			t2 = space();
    			button = element("button");
    			button.textContent = "Update cookie settings";
    			attr_dev(div0, "class", "footerText svelte-129j4h3");
    			add_location(div0, file$t, 12, 4, 218);
    			if (!src_url_equal(img.src, img_src_value = "img/upvlogo.png")) attr_dev(img, "src", img_src_value);
    			attr_dev(img, "alt", "upvlogo");
    			attr_dev(img, "class", "sponsorLogo svelte-129j4h3");
    			add_location(img, file$t, 13, 48, 311);
    			attr_dev(a, "href", "http://www.upv.es");
    			attr_dev(a, "class", "upvlogo");
    			add_location(a, file$t, 13, 4, 267);
    			attr_dev(button, "class", "cookies-button svelte-129j4h3");
    			add_location(button, file$t, 14, 4, 382);
    			attr_dev(div1, "class", "section-container footer svelte-129j4h3");
    			add_location(div1, file$t, 11, 0, 174);
    		},
    		l: function claim(nodes) {
    			throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option");
    		},
    		m: function mount(target, anchor) {
    			insert_dev(target, div1, anchor);
    			append_dev(div1, div0);
    			append_dev(div1, t1);
    			append_dev(div1, a);
    			append_dev(a, img);
    			append_dev(div1, t2);
    			append_dev(div1, button);

    			if (!mounted) {
    				dispose = listen_dev(button, "click", /*updateCookies*/ ctx[0], false, false, false);
    				mounted = true;
    			}
    		},
    		p: noop,
    		i: noop,
    		o: noop,
    		d: function destroy(detaching) {
    			if (detaching) detach_dev(div1);
    			mounted = false;
    			dispose();
    		}
    	};

    	dispatch_dev("SvelteRegisterBlock", {
    		block,
    		id: create_fragment$E.name,
    		type: "component",
    		source: "",
    		ctx
    	});

    	return block;
    }

    function instance$E($$self, $$props, $$invalidate) {
    	let { $$slots: slots = {}, $$scope } = $$props;
    	validate_slots('Footer', slots, []);
    	let { onUpdateCookies } = $$props;

    	function updateCookies() {
    		if (onUpdateCookies) {
    			onUpdateCookies();
    		}
    	}

    	$$self.$$.on_mount.push(function () {
    		if (onUpdateCookies === undefined && !('onUpdateCookies' in $$props || $$self.$$.bound[$$self.$$.props['onUpdateCookies']])) {
    			console.warn("<Footer> was created without expected prop 'onUpdateCookies'");
    		}
    	});

    	const writable_props = ['onUpdateCookies'];

    	Object.keys($$props).forEach(key => {
    		if (!~writable_props.indexOf(key) && key.slice(0, 2) !== '$$' && key !== 'slot') console.warn(`<Footer> was created with unknown prop '${key}'`);
    	});

    	$$self.$$set = $$props => {
    		if ('onUpdateCookies' in $$props) $$invalidate(1, onUpdateCookies = $$props.onUpdateCookies);
    	};

    	$$self.$capture_state = () => ({ onUpdateCookies, updateCookies });

    	$$self.$inject_state = $$props => {
    		if ('onUpdateCookies' in $$props) $$invalidate(1, onUpdateCookies = $$props.onUpdateCookies);
    	};

    	if ($$props && "$$inject" in $$props) {
    		$$self.$inject_state($$props.$$inject);
    	}

    	return [updateCookies, onUpdateCookies];
    }

    class Footer extends SvelteComponentDev {
    	constructor(options) {
    		super(options);
    		init$1(this, options, instance$E, create_fragment$E, safe_not_equal, { onUpdateCookies: 1 });

    		dispatch_dev("SvelteRegisterComponent", {
    			component: this,
    			tagName: "Footer",
    			options,
    			id: create_fragment$E.name
    		});
    	}

    	get onUpdateCookies() {
    		throw new Error("<Footer>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
    	}

    	set onUpdateCookies(value) {
    		throw new Error("<Footer>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
    	}
    }

    function supressWarnings() {
      const origWarn = console.warn;

      console.warn = (message) => {
        if (message.includes('unknown prop')) return
        if (message.includes('unexpected slot')) return
        origWarn(message);
      };

      onMount(() => {
        console.warn = origWarn;
      });
    }

    /* node_modules\svelte-markdown\src\Parser.svelte generated by Svelte v3.52.0 */

    function get_each_context_5(ctx, list, i) {
    	const child_ctx = ctx.slice();
    	child_ctx[18] = list[i];
    	return child_ctx;
    }

    function get_each_context_4(ctx, list, i) {
    	const child_ctx = ctx.slice();
    	child_ctx[18] = list[i];
    	return child_ctx;
    }

    function get_each_context_1$3(ctx, list, i) {
    	const child_ctx = ctx.slice();
    	child_ctx[10] = list[i];
    	return child_ctx;
    }

    function get_each_context_2$2(ctx, list, i) {
    	const child_ctx = ctx.slice();
    	child_ctx[13] = list[i];
    	child_ctx[15] = i;
    	return child_ctx;
    }

    function get_each_context_3$1(ctx, list, i) {
    	const child_ctx = ctx.slice();
    	child_ctx[16] = list[i];
    	child_ctx[15] = i;
    	return child_ctx;
    }

    function get_each_context$4(ctx, list, i) {
    	const child_ctx = ctx.slice();
    	child_ctx[7] = list[i];
    	return child_ctx;
    }

    // (19:2) {#if renderers[type]}
    function create_if_block_1$4(ctx) {
    	let current_block_type_index;
    	let if_block;
    	let if_block_anchor;
    	let current;
    	const if_block_creators = [create_if_block_2$3, create_if_block_3$1, create_else_block_1];
    	const if_blocks = [];

    	function select_block_type_1(ctx, dirty) {
    		if (/*type*/ ctx[0] === 'table') return 0;
    		if (/*type*/ ctx[0] === 'list') return 1;
    		return 2;
    	}

    	current_block_type_index = select_block_type_1(ctx);
    	if_block = if_blocks[current_block_type_index] = if_block_creators[current_block_type_index](ctx);

    	const block = {
    		c: function create() {
    			if_block.c();
    			if_block_anchor = empty();
    		},
    		m: function mount(target, anchor) {
    			if_blocks[current_block_type_index].m(target, anchor);
    			insert_dev(target, if_block_anchor, anchor);
    			current = true;
    		},
    		p: function update(ctx, dirty) {
    			let previous_block_index = current_block_type_index;
    			current_block_type_index = select_block_type_1(ctx);

    			if (current_block_type_index === previous_block_index) {
    				if_blocks[current_block_type_index].p(ctx, dirty);
    			} else {
    				group_outros();

    				transition_out(if_blocks[previous_block_index], 1, 1, () => {
    					if_blocks[previous_block_index] = null;
    				});

    				check_outros();
    				if_block = if_blocks[current_block_type_index];

    				if (!if_block) {
    					if_block = if_blocks[current_block_type_index] = if_block_creators[current_block_type_index](ctx);
    					if_block.c();
    				} else {
    					if_block.p(ctx, dirty);
    				}

    				transition_in(if_block, 1);
    				if_block.m(if_block_anchor.parentNode, if_block_anchor);
    			}
    		},
    		i: function intro(local) {
    			if (current) return;
    			transition_in(if_block);
    			current = true;
    		},
    		o: function outro(local) {
    			transition_out(if_block);
    			current = false;
    		},
    		d: function destroy(detaching) {
    			if_blocks[current_block_type_index].d(detaching);
    			if (detaching) detach_dev(if_block_anchor);
    		}
    	};

    	dispatch_dev("SvelteRegisterBlock", {
    		block,
    		id: create_if_block_1$4.name,
    		type: "if",
    		source: "(19:2) {#if renderers[type]}",
    		ctx
    	});

    	return block;
    }

    // (14:0) {#if !type}
    function create_if_block$9(ctx) {
    	let each_1_anchor;
    	let current;
    	let each_value = /*tokens*/ ctx[1];
    	validate_each_argument(each_value);
    	let each_blocks = [];

    	for (let i = 0; i < each_value.length; i += 1) {
    		each_blocks[i] = create_each_block$4(get_each_context$4(ctx, each_value, i));
    	}

    	const out = i => transition_out(each_blocks[i], 1, 1, () => {
    		each_blocks[i] = null;
    	});

    	const block = {
    		c: function create() {
    			for (let i = 0; i < each_blocks.length; i += 1) {
    				each_blocks[i].c();
    			}

    			each_1_anchor = empty();
    		},
    		m: function mount(target, anchor) {
    			for (let i = 0; i < each_blocks.length; i += 1) {
    				each_blocks[i].m(target, anchor);
    			}

    			insert_dev(target, each_1_anchor, anchor);
    			current = true;
    		},
    		p: function update(ctx, dirty) {
    			if (dirty & /*tokens, renderers*/ 34) {
    				each_value = /*tokens*/ ctx[1];
    				validate_each_argument(each_value);
    				let i;

    				for (i = 0; i < each_value.length; i += 1) {
    					const child_ctx = get_each_context$4(ctx, each_value, i);

    					if (each_blocks[i]) {
    						each_blocks[i].p(child_ctx, dirty);
    						transition_in(each_blocks[i], 1);
    					} else {
    						each_blocks[i] = create_each_block$4(child_ctx);
    						each_blocks[i].c();
    						transition_in(each_blocks[i], 1);
    						each_blocks[i].m(each_1_anchor.parentNode, each_1_anchor);
    					}
    				}

    				group_outros();

    				for (i = each_value.length; i < each_blocks.length; i += 1) {
    					out(i);
    				}

    				check_outros();
    			}
    		},
    		i: function intro(local) {
    			if (current) return;

    			for (let i = 0; i < each_value.length; i += 1) {
    				transition_in(each_blocks[i]);
    			}

    			current = true;
    		},
    		o: function outro(local) {
    			each_blocks = each_blocks.filter(Boolean);

    			for (let i = 0; i < each_blocks.length; i += 1) {
    				transition_out(each_blocks[i]);
    			}

    			current = false;
    		},
    		d: function destroy(detaching) {
    			destroy_each(each_blocks, detaching);
    			if (detaching) detach_dev(each_1_anchor);
    		}
    	};

    	dispatch_dev("SvelteRegisterBlock", {
    		block,
    		id: create_if_block$9.name,
    		type: "if",
    		source: "(14:0) {#if !type}",
    		ctx
    	});

    	return block;
    }

    // (69:4) {:else}
    function create_else_block_1(ctx) {
    	let switch_instance;
    	let switch_instance_anchor;
    	let current;
    	const switch_instance_spread_levels = [/*$$restProps*/ ctx[6]];
    	var switch_value = /*renderers*/ ctx[5][/*type*/ ctx[0]];

    	function switch_props(ctx) {
    		let switch_instance_props = {
    			$$slots: { default: [create_default_slot_11] },
    			$$scope: { ctx }
    		};

    		for (let i = 0; i < switch_instance_spread_levels.length; i += 1) {
    			switch_instance_props = assign(switch_instance_props, switch_instance_spread_levels[i]);
    		}

    		return {
    			props: switch_instance_props,
    			$$inline: true
    		};
    	}

    	if (switch_value) {
    		switch_instance = construct_svelte_component_dev(switch_value, switch_props(ctx));
    	}

    	const block = {
    		c: function create() {
    			if (switch_instance) create_component(switch_instance.$$.fragment);
    			switch_instance_anchor = empty();
    		},
    		m: function mount(target, anchor) {
    			if (switch_instance) mount_component(switch_instance, target, anchor);
    			insert_dev(target, switch_instance_anchor, anchor);
    			current = true;
    		},
    		p: function update(ctx, dirty) {
    			const switch_instance_changes = (dirty & /*$$restProps*/ 64)
    			? get_spread_update(switch_instance_spread_levels, [get_spread_object(/*$$restProps*/ ctx[6])])
    			: {};

    			if (dirty & /*$$scope, tokens, renderers, $$restProps*/ 8388706) {
    				switch_instance_changes.$$scope = { dirty, ctx };
    			}

    			if (switch_value !== (switch_value = /*renderers*/ ctx[5][/*type*/ ctx[0]])) {
    				if (switch_instance) {
    					group_outros();
    					const old_component = switch_instance;

    					transition_out(old_component.$$.fragment, 1, 0, () => {
    						destroy_component(old_component, 1);
    					});

    					check_outros();
    				}

    				if (switch_value) {
    					switch_instance = construct_svelte_component_dev(switch_value, switch_props(ctx));
    					create_component(switch_instance.$$.fragment);
    					transition_in(switch_instance.$$.fragment, 1);
    					mount_component(switch_instance, switch_instance_anchor.parentNode, switch_instance_anchor);
    				} else {
    					switch_instance = null;
    				}
    			} else if (switch_value) {
    				switch_instance.$set(switch_instance_changes);
    			}
    		},
    		i: function intro(local) {
    			if (current) return;
    			if (switch_instance) transition_in(switch_instance.$$.fragment, local);
    			current = true;
    		},
    		o: function outro(local) {
    			if (switch_instance) transition_out(switch_instance.$$.fragment, local);
    			current = false;
    		},
    		d: function destroy(detaching) {
    			if (detaching) detach_dev(switch_instance_anchor);
    			if (switch_instance) destroy_component(switch_instance, detaching);
    		}
    	};

    	dispatch_dev("SvelteRegisterBlock", {
    		block,
    		id: create_else_block_1.name,
    		type: "else",
    		source: "(69:4) {:else}",
    		ctx
    	});

    	return block;
    }

    // (51:30) 
    function create_if_block_3$1(ctx) {
    	let current_block_type_index;
    	let if_block;
    	let if_block_anchor;
    	let current;
    	const if_block_creators = [create_if_block_4$1, create_else_block$5];
    	const if_blocks = [];

    	function select_block_type_2(ctx, dirty) {
    		if (/*ordered*/ ctx[4]) return 0;
    		return 1;
    	}

    	current_block_type_index = select_block_type_2(ctx);
    	if_block = if_blocks[current_block_type_index] = if_block_creators[current_block_type_index](ctx);

    	const block = {
    		c: function create() {
    			if_block.c();
    			if_block_anchor = empty();
    		},
    		m: function mount(target, anchor) {
    			if_blocks[current_block_type_index].m(target, anchor);
    			insert_dev(target, if_block_anchor, anchor);
    			current = true;
    		},
    		p: function update(ctx, dirty) {
    			let previous_block_index = current_block_type_index;
    			current_block_type_index = select_block_type_2(ctx);

    			if (current_block_type_index === previous_block_index) {
    				if_blocks[current_block_type_index].p(ctx, dirty);
    			} else {
    				group_outros();

    				transition_out(if_blocks[previous_block_index], 1, 1, () => {
    					if_blocks[previous_block_index] = null;
    				});

    				check_outros();
    				if_block = if_blocks[current_block_type_index];

    				if (!if_block) {
    					if_block = if_blocks[current_block_type_index] = if_block_creators[current_block_type_index](ctx);
    					if_block.c();
    				} else {
    					if_block.p(ctx, dirty);
    				}

    				transition_in(if_block, 1);
    				if_block.m(if_block_anchor.parentNode, if_block_anchor);
    			}
    		},
    		i: function intro(local) {
    			if (current) return;
    			transition_in(if_block);
    			current = true;
    		},
    		o: function outro(local) {
    			transition_out(if_block);
    			current = false;
    		},
    		d: function destroy(detaching) {
    			if_blocks[current_block_type_index].d(detaching);
    			if (detaching) detach_dev(if_block_anchor);
    		}
    	};

    	dispatch_dev("SvelteRegisterBlock", {
    		block,
    		id: create_if_block_3$1.name,
    		type: "if",
    		source: "(51:30) ",
    		ctx
    	});

    	return block;
    }

    // (20:4) {#if type === 'table'}
    function create_if_block_2$3(ctx) {
    	let switch_instance;
    	let switch_instance_anchor;
    	let current;
    	var switch_value = /*renderers*/ ctx[5].table;

    	function switch_props(ctx) {
    		return {
    			props: {
    				$$slots: { default: [create_default_slot] },
    				$$scope: { ctx }
    			},
    			$$inline: true
    		};
    	}

    	if (switch_value) {
    		switch_instance = construct_svelte_component_dev(switch_value, switch_props(ctx));
    	}

    	const block = {
    		c: function create() {
    			if (switch_instance) create_component(switch_instance.$$.fragment);
    			switch_instance_anchor = empty();
    		},
    		m: function mount(target, anchor) {
    			if (switch_instance) mount_component(switch_instance, target, anchor);
    			insert_dev(target, switch_instance_anchor, anchor);
    			current = true;
    		},
    		p: function update(ctx, dirty) {
    			const switch_instance_changes = {};

    			if (dirty & /*$$scope, renderers, rows, $$restProps, header*/ 8388716) {
    				switch_instance_changes.$$scope = { dirty, ctx };
    			}

    			if (switch_value !== (switch_value = /*renderers*/ ctx[5].table)) {
    				if (switch_instance) {
    					group_outros();
    					const old_component = switch_instance;

    					transition_out(old_component.$$.fragment, 1, 0, () => {
    						destroy_component(old_component, 1);
    					});

    					check_outros();
    				}

    				if (switch_value) {
    					switch_instance = construct_svelte_component_dev(switch_value, switch_props(ctx));
    					create_component(switch_instance.$$.fragment);
    					transition_in(switch_instance.$$.fragment, 1);
    					mount_component(switch_instance, switch_instance_anchor.parentNode, switch_instance_anchor);
    				} else {
    					switch_instance = null;
    				}
    			} else if (switch_value) {
    				switch_instance.$set(switch_instance_changes);
    			}
    		},
    		i: function intro(local) {
    			if (current) return;
    			if (switch_instance) transition_in(switch_instance.$$.fragment, local);
    			current = true;
    		},
    		o: function outro(local) {
    			if (switch_instance) transition_out(switch_instance.$$.fragment, local);
    			current = false;
    		},
    		d: function destroy(detaching) {
    			if (detaching) detach_dev(switch_instance_anchor);
    			if (switch_instance) destroy_component(switch_instance, detaching);
    		}
    	};

    	dispatch_dev("SvelteRegisterBlock", {
    		block,
    		id: create_if_block_2$3.name,
    		type: "if",
    		source: "(20:4) {#if type === 'table'}",
    		ctx
    	});

    	return block;
    }

    // (73:8) {:else}
    function create_else_block_2(ctx) {
    	let t_value = /*$$restProps*/ ctx[6].raw + "";
    	let t;

    	const block = {
    		c: function create() {
    			t = text(t_value);
    		},
    		m: function mount(target, anchor) {
    			insert_dev(target, t, anchor);
    		},
    		p: function update(ctx, dirty) {
    			if (dirty & /*$$restProps*/ 64 && t_value !== (t_value = /*$$restProps*/ ctx[6].raw + "")) set_data_dev(t, t_value);
    		},
    		i: noop,
    		o: noop,
    		d: function destroy(detaching) {
    			if (detaching) detach_dev(t);
    		}
    	};

    	dispatch_dev("SvelteRegisterBlock", {
    		block,
    		id: create_else_block_2.name,
    		type: "else",
    		source: "(73:8) {:else}",
    		ctx
    	});

    	return block;
    }

    // (71:8) {#if tokens}
    function create_if_block_5$1(ctx) {
    	let parser;
    	let current;

    	parser = new Parser$1({
    			props: {
    				tokens: /*tokens*/ ctx[1],
    				renderers: /*renderers*/ ctx[5]
    			},
    			$$inline: true
    		});

    	const block = {
    		c: function create() {
    			create_component(parser.$$.fragment);
    		},
    		m: function mount(target, anchor) {
    			mount_component(parser, target, anchor);
    			current = true;
    		},
    		p: function update(ctx, dirty) {
    			const parser_changes = {};
    			if (dirty & /*tokens*/ 2) parser_changes.tokens = /*tokens*/ ctx[1];
    			if (dirty & /*renderers*/ 32) parser_changes.renderers = /*renderers*/ ctx[5];
    			parser.$set(parser_changes);
    		},
    		i: function intro(local) {
    			if (current) return;
    			transition_in(parser.$$.fragment, local);
    			current = true;
    		},
    		o: function outro(local) {
    			transition_out(parser.$$.fragment, local);
    			current = false;
    		},
    		d: function destroy(detaching) {
    			destroy_component(parser, detaching);
    		}
    	};

    	dispatch_dev("SvelteRegisterBlock", {
    		block,
    		id: create_if_block_5$1.name,
    		type: "if",
    		source: "(71:8) {#if tokens}",
    		ctx
    	});

    	return block;
    }

    // (70:6) <svelte:component this={renderers[type]} {...$$restProps}>
    function create_default_slot_11(ctx) {
    	let current_block_type_index;
    	let if_block;
    	let if_block_anchor;
    	let current;
    	const if_block_creators = [create_if_block_5$1, create_else_block_2];
    	const if_blocks = [];

    	function select_block_type_3(ctx, dirty) {
    		if (/*tokens*/ ctx[1]) return 0;
    		return 1;
    	}

    	current_block_type_index = select_block_type_3(ctx);
    	if_block = if_blocks[current_block_type_index] = if_block_creators[current_block_type_index](ctx);

    	const block = {
    		c: function create() {
    			if_block.c();
    			if_block_anchor = empty();
    		},
    		m: function mount(target, anchor) {
    			if_blocks[current_block_type_index].m(target, anchor);
    			insert_dev(target, if_block_anchor, anchor);
    			current = true;
    		},
    		p: function update(ctx, dirty) {
    			let previous_block_index = current_block_type_index;
    			current_block_type_index = select_block_type_3(ctx);

    			if (current_block_type_index === previous_block_index) {
    				if_blocks[current_block_type_index].p(ctx, dirty);
    			} else {
    				group_outros();

    				transition_out(if_blocks[previous_block_index], 1, 1, () => {
    					if_blocks[previous_block_index] = null;
    				});

    				check_outros();
    				if_block = if_blocks[current_block_type_index];

    				if (!if_block) {
    					if_block = if_blocks[current_block_type_index] = if_block_creators[current_block_type_index](ctx);
    					if_block.c();
    				} else {
    					if_block.p(ctx, dirty);
    				}

    				transition_in(if_block, 1);
    				if_block.m(if_block_anchor.parentNode, if_block_anchor);
    			}
    		},
    		i: function intro(local) {
    			if (current) return;
    			transition_in(if_block);
    			current = true;
    		},
    		o: function outro(local) {
    			transition_out(if_block);
    			current = false;
    		},
    		d: function destroy(detaching) {
    			if_blocks[current_block_type_index].d(detaching);
    			if (detaching) detach_dev(if_block_anchor);
    		}
    	};

    	dispatch_dev("SvelteRegisterBlock", {
    		block,
    		id: create_default_slot_11.name,
    		type: "slot",
    		source: "(70:6) <svelte:component this={renderers[type]} {...$$restProps}>",
    		ctx
    	});

    	return block;
    }

    // (60:6) {:else}
    function create_else_block$5(ctx) {
    	let switch_instance;
    	let switch_instance_anchor;
    	let current;
    	const switch_instance_spread_levels = [{ ordered: /*ordered*/ ctx[4] }, /*$$restProps*/ ctx[6]];
    	var switch_value = /*renderers*/ ctx[5].list;

    	function switch_props(ctx) {
    		let switch_instance_props = {
    			$$slots: { default: [create_default_slot_9] },
    			$$scope: { ctx }
    		};

    		for (let i = 0; i < switch_instance_spread_levels.length; i += 1) {
    			switch_instance_props = assign(switch_instance_props, switch_instance_spread_levels[i]);
    		}

    		return {
    			props: switch_instance_props,
    			$$inline: true
    		};
    	}

    	if (switch_value) {
    		switch_instance = construct_svelte_component_dev(switch_value, switch_props(ctx));
    	}

    	const block = {
    		c: function create() {
    			if (switch_instance) create_component(switch_instance.$$.fragment);
    			switch_instance_anchor = empty();
    		},
    		m: function mount(target, anchor) {
    			if (switch_instance) mount_component(switch_instance, target, anchor);
    			insert_dev(target, switch_instance_anchor, anchor);
    			current = true;
    		},
    		p: function update(ctx, dirty) {
    			const switch_instance_changes = (dirty & /*ordered, $$restProps*/ 80)
    			? get_spread_update(switch_instance_spread_levels, [
    					dirty & /*ordered*/ 16 && { ordered: /*ordered*/ ctx[4] },
    					dirty & /*$$restProps*/ 64 && get_spread_object(/*$$restProps*/ ctx[6])
    				])
    			: {};

    			if (dirty & /*$$scope, $$restProps, renderers*/ 8388704) {
    				switch_instance_changes.$$scope = { dirty, ctx };
    			}

    			if (switch_value !== (switch_value = /*renderers*/ ctx[5].list)) {
    				if (switch_instance) {
    					group_outros();
    					const old_component = switch_instance;

    					transition_out(old_component.$$.fragment, 1, 0, () => {
    						destroy_component(old_component, 1);
    					});

    					check_outros();
    				}

    				if (switch_value) {
    					switch_instance = construct_svelte_component_dev(switch_value, switch_props(ctx));
    					create_component(switch_instance.$$.fragment);
    					transition_in(switch_instance.$$.fragment, 1);
    					mount_component(switch_instance, switch_instance_anchor.parentNode, switch_instance_anchor);
    				} else {
    					switch_instance = null;
    				}
    			} else if (switch_value) {
    				switch_instance.$set(switch_instance_changes);
    			}
    		},
    		i: function intro(local) {
    			if (current) return;
    			if (switch_instance) transition_in(switch_instance.$$.fragment, local);
    			current = true;
    		},
    		o: function outro(local) {
    			if (switch_instance) transition_out(switch_instance.$$.fragment, local);
    			current = false;
    		},
    		d: function destroy(detaching) {
    			if (detaching) detach_dev(switch_instance_anchor);
    			if (switch_instance) destroy_component(switch_instance, detaching);
    		}
    	};

    	dispatch_dev("SvelteRegisterBlock", {
    		block,
    		id: create_else_block$5.name,
    		type: "else",
    		source: "(60:6) {:else}",
    		ctx
    	});

    	return block;
    }

    // (52:6) {#if ordered}
    function create_if_block_4$1(ctx) {
    	let switch_instance;
    	let switch_instance_anchor;
    	let current;
    	const switch_instance_spread_levels = [{ ordered: /*ordered*/ ctx[4] }, /*$$restProps*/ ctx[6]];
    	var switch_value = /*renderers*/ ctx[5].list;

    	function switch_props(ctx) {
    		let switch_instance_props = {
    			$$slots: { default: [create_default_slot_7] },
    			$$scope: { ctx }
    		};

    		for (let i = 0; i < switch_instance_spread_levels.length; i += 1) {
    			switch_instance_props = assign(switch_instance_props, switch_instance_spread_levels[i]);
    		}

    		return {
    			props: switch_instance_props,
    			$$inline: true
    		};
    	}

    	if (switch_value) {
    		switch_instance = construct_svelte_component_dev(switch_value, switch_props(ctx));
    	}

    	const block = {
    		c: function create() {
    			if (switch_instance) create_component(switch_instance.$$.fragment);
    			switch_instance_anchor = empty();
    		},
    		m: function mount(target, anchor) {
    			if (switch_instance) mount_component(switch_instance, target, anchor);
    			insert_dev(target, switch_instance_anchor, anchor);
    			current = true;
    		},
    		p: function update(ctx, dirty) {
    			const switch_instance_changes = (dirty & /*ordered, $$restProps*/ 80)
    			? get_spread_update(switch_instance_spread_levels, [
    					dirty & /*ordered*/ 16 && { ordered: /*ordered*/ ctx[4] },
    					dirty & /*$$restProps*/ 64 && get_spread_object(/*$$restProps*/ ctx[6])
    				])
    			: {};

    			if (dirty & /*$$scope, $$restProps, renderers*/ 8388704) {
    				switch_instance_changes.$$scope = { dirty, ctx };
    			}

    			if (switch_value !== (switch_value = /*renderers*/ ctx[5].list)) {
    				if (switch_instance) {
    					group_outros();
    					const old_component = switch_instance;

    					transition_out(old_component.$$.fragment, 1, 0, () => {
    						destroy_component(old_component, 1);
    					});

    					check_outros();
    				}

    				if (switch_value) {
    					switch_instance = construct_svelte_component_dev(switch_value, switch_props(ctx));
    					create_component(switch_instance.$$.fragment);
    					transition_in(switch_instance.$$.fragment, 1);
    					mount_component(switch_instance, switch_instance_anchor.parentNode, switch_instance_anchor);
    				} else {
    					switch_instance = null;
    				}
    			} else if (switch_value) {
    				switch_instance.$set(switch_instance_changes);
    			}
    		},
    		i: function intro(local) {
    			if (current) return;
    			if (switch_instance) transition_in(switch_instance.$$.fragment, local);
    			current = true;
    		},
    		o: function outro(local) {
    			if (switch_instance) transition_out(switch_instance.$$.fragment, local);
    			current = false;
    		},
    		d: function destroy(detaching) {
    			if (detaching) detach_dev(switch_instance_anchor);
    			if (switch_instance) destroy_component(switch_instance, detaching);
    		}
    	};

    	dispatch_dev("SvelteRegisterBlock", {
    		block,
    		id: create_if_block_4$1.name,
    		type: "if",
    		source: "(52:6) {#if ordered}",
    		ctx
    	});

    	return block;
    }

    // (63:12) <svelte:component this={renderers.unorderedlistitem || renderers.listitem} {...item}>
    function create_default_slot_10(ctx) {
    	let parser;
    	let t;
    	let current;

    	parser = new Parser$1({
    			props: {
    				tokens: /*item*/ ctx[18].tokens,
    				renderers: /*renderers*/ ctx[5]
    			},
    			$$inline: true
    		});

    	const block = {
    		c: function create() {
    			create_component(parser.$$.fragment);
    			t = space();
    		},
    		m: function mount(target, anchor) {
    			mount_component(parser, target, anchor);
    			insert_dev(target, t, anchor);
    			current = true;
    		},
    		p: function update(ctx, dirty) {
    			const parser_changes = {};
    			if (dirty & /*$$restProps*/ 64) parser_changes.tokens = /*item*/ ctx[18].tokens;
    			if (dirty & /*renderers*/ 32) parser_changes.renderers = /*renderers*/ ctx[5];
    			parser.$set(parser_changes);
    		},
    		i: function intro(local) {
    			if (current) return;
    			transition_in(parser.$$.fragment, local);
    			current = true;
    		},
    		o: function outro(local) {
    			transition_out(parser.$$.fragment, local);
    			current = false;
    		},
    		d: function destroy(detaching) {
    			destroy_component(parser, detaching);
    			if (detaching) detach_dev(t);
    		}
    	};

    	dispatch_dev("SvelteRegisterBlock", {
    		block,
    		id: create_default_slot_10.name,
    		type: "slot",
    		source: "(63:12) <svelte:component this={renderers.unorderedlistitem || renderers.listitem} {...item}>",
    		ctx
    	});

    	return block;
    }

    // (62:10) {#each $$restProps.items as item}
    function create_each_block_5(ctx) {
    	let switch_instance;
    	let switch_instance_anchor;
    	let current;
    	const switch_instance_spread_levels = [/*item*/ ctx[18]];
    	var switch_value = /*renderers*/ ctx[5].unorderedlistitem || /*renderers*/ ctx[5].listitem;

    	function switch_props(ctx) {
    		let switch_instance_props = {
    			$$slots: { default: [create_default_slot_10] },
    			$$scope: { ctx }
    		};

    		for (let i = 0; i < switch_instance_spread_levels.length; i += 1) {
    			switch_instance_props = assign(switch_instance_props, switch_instance_spread_levels[i]);
    		}

    		return {
    			props: switch_instance_props,
    			$$inline: true
    		};
    	}

    	if (switch_value) {
    		switch_instance = construct_svelte_component_dev(switch_value, switch_props(ctx));
    	}

    	const block = {
    		c: function create() {
    			if (switch_instance) create_component(switch_instance.$$.fragment);
    			switch_instance_anchor = empty();
    		},
    		m: function mount(target, anchor) {
    			if (switch_instance) mount_component(switch_instance, target, anchor);
    			insert_dev(target, switch_instance_anchor, anchor);
    			current = true;
    		},
    		p: function update(ctx, dirty) {
    			const switch_instance_changes = (dirty & /*$$restProps*/ 64)
    			? get_spread_update(switch_instance_spread_levels, [get_spread_object(/*item*/ ctx[18])])
    			: {};

    			if (dirty & /*$$scope, $$restProps, renderers*/ 8388704) {
    				switch_instance_changes.$$scope = { dirty, ctx };
    			}

    			if (switch_value !== (switch_value = /*renderers*/ ctx[5].unorderedlistitem || /*renderers*/ ctx[5].listitem)) {
    				if (switch_instance) {
    					group_outros();
    					const old_component = switch_instance;

    					transition_out(old_component.$$.fragment, 1, 0, () => {
    						destroy_component(old_component, 1);
    					});

    					check_outros();
    				}

    				if (switch_value) {
    					switch_instance = construct_svelte_component_dev(switch_value, switch_props(ctx));
    					create_component(switch_instance.$$.fragment);
    					transition_in(switch_instance.$$.fragment, 1);
    					mount_component(switch_instance, switch_instance_anchor.parentNode, switch_instance_anchor);
    				} else {
    					switch_instance = null;
    				}
    			} else if (switch_value) {
    				switch_instance.$set(switch_instance_changes);
    			}
    		},
    		i: function intro(local) {
    			if (current) return;
    			if (switch_instance) transition_in(switch_instance.$$.fragment, local);
    			current = true;
    		},
    		o: function outro(local) {
    			if (switch_instance) transition_out(switch_instance.$$.fragment, local);
    			current = false;
    		},
    		d: function destroy(detaching) {
    			if (detaching) detach_dev(switch_instance_anchor);
    			if (switch_instance) destroy_component(switch_instance, detaching);
    		}
    	};

    	dispatch_dev("SvelteRegisterBlock", {
    		block,
    		id: create_each_block_5.name,
    		type: "each",
    		source: "(62:10) {#each $$restProps.items as item}",
    		ctx
    	});

    	return block;
    }

    // (61:8) <svelte:component this={renderers.list} {ordered} {...$$restProps}>
    function create_default_slot_9(ctx) {
    	let each_1_anchor;
    	let current;
    	let each_value_5 = /*$$restProps*/ ctx[6].items;
    	validate_each_argument(each_value_5);
    	let each_blocks = [];

    	for (let i = 0; i < each_value_5.length; i += 1) {
    		each_blocks[i] = create_each_block_5(get_each_context_5(ctx, each_value_5, i));
    	}

    	const out = i => transition_out(each_blocks[i], 1, 1, () => {
    		each_blocks[i] = null;
    	});

    	const block = {
    		c: function create() {
    			for (let i = 0; i < each_blocks.length; i += 1) {
    				each_blocks[i].c();
    			}

    			each_1_anchor = empty();
    		},
    		m: function mount(target, anchor) {
    			for (let i = 0; i < each_blocks.length; i += 1) {
    				each_blocks[i].m(target, anchor);
    			}

    			insert_dev(target, each_1_anchor, anchor);
    			current = true;
    		},
    		p: function update(ctx, dirty) {
    			if (dirty & /*renderers, $$restProps*/ 96) {
    				each_value_5 = /*$$restProps*/ ctx[6].items;
    				validate_each_argument(each_value_5);
    				let i;

    				for (i = 0; i < each_value_5.length; i += 1) {
    					const child_ctx = get_each_context_5(ctx, each_value_5, i);

    					if (each_blocks[i]) {
    						each_blocks[i].p(child_ctx, dirty);
    						transition_in(each_blocks[i], 1);
    					} else {
    						each_blocks[i] = create_each_block_5(child_ctx);
    						each_blocks[i].c();
    						transition_in(each_blocks[i], 1);
    						each_blocks[i].m(each_1_anchor.parentNode, each_1_anchor);
    					}
    				}

    				group_outros();

    				for (i = each_value_5.length; i < each_blocks.length; i += 1) {
    					out(i);
    				}

    				check_outros();
    			}
    		},
    		i: function intro(local) {
    			if (current) return;

    			for (let i = 0; i < each_value_5.length; i += 1) {
    				transition_in(each_blocks[i]);
    			}

    			current = true;
    		},
    		o: function outro(local) {
    			each_blocks = each_blocks.filter(Boolean);

    			for (let i = 0; i < each_blocks.length; i += 1) {
    				transition_out(each_blocks[i]);
    			}

    			current = false;
    		},
    		d: function destroy(detaching) {
    			destroy_each(each_blocks, detaching);
    			if (detaching) detach_dev(each_1_anchor);
    		}
    	};

    	dispatch_dev("SvelteRegisterBlock", {
    		block,
    		id: create_default_slot_9.name,
    		type: "slot",
    		source: "(61:8) <svelte:component this={renderers.list} {ordered} {...$$restProps}>",
    		ctx
    	});

    	return block;
    }

    // (55:12) <svelte:component this={renderers.orderedlistitem || renderers.listitem} {...item}>
    function create_default_slot_8(ctx) {
    	let parser;
    	let t;
    	let current;

    	parser = new Parser$1({
    			props: {
    				tokens: /*item*/ ctx[18].tokens,
    				renderers: /*renderers*/ ctx[5]
    			},
    			$$inline: true
    		});

    	const block = {
    		c: function create() {
    			create_component(parser.$$.fragment);
    			t = space();
    		},
    		m: function mount(target, anchor) {
    			mount_component(parser, target, anchor);
    			insert_dev(target, t, anchor);
    			current = true;
    		},
    		p: function update(ctx, dirty) {
    			const parser_changes = {};
    			if (dirty & /*$$restProps*/ 64) parser_changes.tokens = /*item*/ ctx[18].tokens;
    			if (dirty & /*renderers*/ 32) parser_changes.renderers = /*renderers*/ ctx[5];
    			parser.$set(parser_changes);
    		},
    		i: function intro(local) {
    			if (current) return;
    			transition_in(parser.$$.fragment, local);
    			current = true;
    		},
    		o: function outro(local) {
    			transition_out(parser.$$.fragment, local);
    			current = false;
    		},
    		d: function destroy(detaching) {
    			destroy_component(parser, detaching);
    			if (detaching) detach_dev(t);
    		}
    	};

    	dispatch_dev("SvelteRegisterBlock", {
    		block,
    		id: create_default_slot_8.name,
    		type: "slot",
    		source: "(55:12) <svelte:component this={renderers.orderedlistitem || renderers.listitem} {...item}>",
    		ctx
    	});

    	return block;
    }

    // (54:10) {#each $$restProps.items as item}
    function create_each_block_4(ctx) {
    	let switch_instance;
    	let switch_instance_anchor;
    	let current;
    	const switch_instance_spread_levels = [/*item*/ ctx[18]];
    	var switch_value = /*renderers*/ ctx[5].orderedlistitem || /*renderers*/ ctx[5].listitem;

    	function switch_props(ctx) {
    		let switch_instance_props = {
    			$$slots: { default: [create_default_slot_8] },
    			$$scope: { ctx }
    		};

    		for (let i = 0; i < switch_instance_spread_levels.length; i += 1) {
    			switch_instance_props = assign(switch_instance_props, switch_instance_spread_levels[i]);
    		}

    		return {
    			props: switch_instance_props,
    			$$inline: true
    		};
    	}

    	if (switch_value) {
    		switch_instance = construct_svelte_component_dev(switch_value, switch_props(ctx));
    	}

    	const block = {
    		c: function create() {
    			if (switch_instance) create_component(switch_instance.$$.fragment);
    			switch_instance_anchor = empty();
    		},
    		m: function mount(target, anchor) {
    			if (switch_instance) mount_component(switch_instance, target, anchor);
    			insert_dev(target, switch_instance_anchor, anchor);
    			current = true;
    		},
    		p: function update(ctx, dirty) {
    			const switch_instance_changes = (dirty & /*$$restProps*/ 64)
    			? get_spread_update(switch_instance_spread_levels, [get_spread_object(/*item*/ ctx[18])])
    			: {};

    			if (dirty & /*$$scope, $$restProps, renderers*/ 8388704) {
    				switch_instance_changes.$$scope = { dirty, ctx };
    			}

    			if (switch_value !== (switch_value = /*renderers*/ ctx[5].orderedlistitem || /*renderers*/ ctx[5].listitem)) {
    				if (switch_instance) {
    					group_outros();
    					const old_component = switch_instance;

    					transition_out(old_component.$$.fragment, 1, 0, () => {
    						destroy_component(old_component, 1);
    					});

    					check_outros();
    				}

    				if (switch_value) {
    					switch_instance = construct_svelte_component_dev(switch_value, switch_props(ctx));
    					create_component(switch_instance.$$.fragment);
    					transition_in(switch_instance.$$.fragment, 1);
    					mount_component(switch_instance, switch_instance_anchor.parentNode, switch_instance_anchor);
    				} else {
    					switch_instance = null;
    				}
    			} else if (switch_value) {
    				switch_instance.$set(switch_instance_changes);
    			}
    		},
    		i: function intro(local) {
    			if (current) return;
    			if (switch_instance) transition_in(switch_instance.$$.fragment, local);
    			current = true;
    		},
    		o: function outro(local) {
    			if (switch_instance) transition_out(switch_instance.$$.fragment, local);
    			current = false;
    		},
    		d: function destroy(detaching) {
    			if (detaching) detach_dev(switch_instance_anchor);
    			if (switch_instance) destroy_component(switch_instance, detaching);
    		}
    	};

    	dispatch_dev("SvelteRegisterBlock", {
    		block,
    		id: create_each_block_4.name,
    		type: "each",
    		source: "(54:10) {#each $$restProps.items as item}",
    		ctx
    	});

    	return block;
    }

    // (53:8) <svelte:component this={renderers.list} {ordered} {...$$restProps}>
    function create_default_slot_7(ctx) {
    	let each_1_anchor;
    	let current;
    	let each_value_4 = /*$$restProps*/ ctx[6].items;
    	validate_each_argument(each_value_4);
    	let each_blocks = [];

    	for (let i = 0; i < each_value_4.length; i += 1) {
    		each_blocks[i] = create_each_block_4(get_each_context_4(ctx, each_value_4, i));
    	}

    	const out = i => transition_out(each_blocks[i], 1, 1, () => {
    		each_blocks[i] = null;
    	});

    	const block = {
    		c: function create() {
    			for (let i = 0; i < each_blocks.length; i += 1) {
    				each_blocks[i].c();
    			}

    			each_1_anchor = empty();
    		},
    		m: function mount(target, anchor) {
    			for (let i = 0; i < each_blocks.length; i += 1) {
    				each_blocks[i].m(target, anchor);
    			}

    			insert_dev(target, each_1_anchor, anchor);
    			current = true;
    		},
    		p: function update(ctx, dirty) {
    			if (dirty & /*renderers, $$restProps*/ 96) {
    				each_value_4 = /*$$restProps*/ ctx[6].items;
    				validate_each_argument(each_value_4);
    				let i;

    				for (i = 0; i < each_value_4.length; i += 1) {
    					const child_ctx = get_each_context_4(ctx, each_value_4, i);

    					if (each_blocks[i]) {
    						each_blocks[i].p(child_ctx, dirty);
    						transition_in(each_blocks[i], 1);
    					} else {
    						each_blocks[i] = create_each_block_4(child_ctx);
    						each_blocks[i].c();
    						transition_in(each_blocks[i], 1);
    						each_blocks[i].m(each_1_anchor.parentNode, each_1_anchor);
    					}
    				}

    				group_outros();

    				for (i = each_value_4.length; i < each_blocks.length; i += 1) {
    					out(i);
    				}

    				check_outros();
    			}
    		},
    		i: function intro(local) {
    			if (current) return;

    			for (let i = 0; i < each_value_4.length; i += 1) {
    				transition_in(each_blocks[i]);
    			}

    			current = true;
    		},
    		o: function outro(local) {
    			each_blocks = each_blocks.filter(Boolean);

    			for (let i = 0; i < each_blocks.length; i += 1) {
    				transition_out(each_blocks[i]);
    			}

    			current = false;
    		},
    		d: function destroy(detaching) {
    			destroy_each(each_blocks, detaching);
    			if (detaching) detach_dev(each_1_anchor);
    		}
    	};

    	dispatch_dev("SvelteRegisterBlock", {
    		block,
    		id: create_default_slot_7.name,
    		type: "slot",
    		source: "(53:8) <svelte:component this={renderers.list} {ordered} {...$$restProps}>",
    		ctx
    	});

    	return block;
    }

    // (25:14) <svelte:component                 this={renderers.tablecell}                 header={true}                 align={$$restProps.align[i] || 'center'}                 >
    function create_default_slot_6(ctx) {
    	let parser;
    	let t;
    	let current;

    	parser = new Parser$1({
    			props: {
    				tokens: /*headerItem*/ ctx[16].tokens,
    				renderers: /*renderers*/ ctx[5]
    			},
    			$$inline: true
    		});

    	const block = {
    		c: function create() {
    			create_component(parser.$$.fragment);
    			t = space();
    		},
    		m: function mount(target, anchor) {
    			mount_component(parser, target, anchor);
    			insert_dev(target, t, anchor);
    			current = true;
    		},
    		p: function update(ctx, dirty) {
    			const parser_changes = {};
    			if (dirty & /*header*/ 4) parser_changes.tokens = /*headerItem*/ ctx[16].tokens;
    			if (dirty & /*renderers*/ 32) parser_changes.renderers = /*renderers*/ ctx[5];
    			parser.$set(parser_changes);
    		},
    		i: function intro(local) {
    			if (current) return;
    			transition_in(parser.$$.fragment, local);
    			current = true;
    		},
    		o: function outro(local) {
    			transition_out(parser.$$.fragment, local);
    			current = false;
    		},
    		d: function destroy(detaching) {
    			destroy_component(parser, detaching);
    			if (detaching) detach_dev(t);
    		}
    	};

    	dispatch_dev("SvelteRegisterBlock", {
    		block,
    		id: create_default_slot_6.name,
    		type: "slot",
    		source: "(25:14) <svelte:component                 this={renderers.tablecell}                 header={true}                 align={$$restProps.align[i] || 'center'}                 >",
    		ctx
    	});

    	return block;
    }

    // (24:12) {#each header as headerItem, i}
    function create_each_block_3$1(ctx) {
    	let switch_instance;
    	let switch_instance_anchor;
    	let current;
    	var switch_value = /*renderers*/ ctx[5].tablecell;

    	function switch_props(ctx) {
    		return {
    			props: {
    				header: true,
    				align: /*$$restProps*/ ctx[6].align[/*i*/ ctx[15]] || 'center',
    				$$slots: { default: [create_default_slot_6] },
    				$$scope: { ctx }
    			},
    			$$inline: true
    		};
    	}

    	if (switch_value) {
    		switch_instance = construct_svelte_component_dev(switch_value, switch_props(ctx));
    	}

    	const block = {
    		c: function create() {
    			if (switch_instance) create_component(switch_instance.$$.fragment);
    			switch_instance_anchor = empty();
    		},
    		m: function mount(target, anchor) {
    			if (switch_instance) mount_component(switch_instance, target, anchor);
    			insert_dev(target, switch_instance_anchor, anchor);
    			current = true;
    		},
    		p: function update(ctx, dirty) {
    			const switch_instance_changes = {};
    			if (dirty & /*$$restProps*/ 64) switch_instance_changes.align = /*$$restProps*/ ctx[6].align[/*i*/ ctx[15]] || 'center';

    			if (dirty & /*$$scope, header, renderers*/ 8388644) {
    				switch_instance_changes.$$scope = { dirty, ctx };
    			}

    			if (switch_value !== (switch_value = /*renderers*/ ctx[5].tablecell)) {
    				if (switch_instance) {
    					group_outros();
    					const old_component = switch_instance;

    					transition_out(old_component.$$.fragment, 1, 0, () => {
    						destroy_component(old_component, 1);
    					});

    					check_outros();
    				}

    				if (switch_value) {
    					switch_instance = construct_svelte_component_dev(switch_value, switch_props(ctx));
    					create_component(switch_instance.$$.fragment);
    					transition_in(switch_instance.$$.fragment, 1);
    					mount_component(switch_instance, switch_instance_anchor.parentNode, switch_instance_anchor);
    				} else {
    					switch_instance = null;
    				}
    			} else if (switch_value) {
    				switch_instance.$set(switch_instance_changes);
    			}
    		},
    		i: function intro(local) {
    			if (current) return;
    			if (switch_instance) transition_in(switch_instance.$$.fragment, local);
    			current = true;
    		},
    		o: function outro(local) {
    			if (switch_instance) transition_out(switch_instance.$$.fragment, local);
    			current = false;
    		},
    		d: function destroy(detaching) {
    			if (detaching) detach_dev(switch_instance_anchor);
    			if (switch_instance) destroy_component(switch_instance, detaching);
    		}
    	};

    	dispatch_dev("SvelteRegisterBlock", {
    		block,
    		id: create_each_block_3$1.name,
    		type: "each",
    		source: "(24:12) {#each header as headerItem, i}",
    		ctx
    	});

    	return block;
    }

    // (23:10) <svelte:component this={renderers.tablerow}>
    function create_default_slot_5(ctx) {
    	let each_1_anchor;
    	let current;
    	let each_value_3 = /*header*/ ctx[2];
    	validate_each_argument(each_value_3);
    	let each_blocks = [];

    	for (let i = 0; i < each_value_3.length; i += 1) {
    		each_blocks[i] = create_each_block_3$1(get_each_context_3$1(ctx, each_value_3, i));
    	}

    	const out = i => transition_out(each_blocks[i], 1, 1, () => {
    		each_blocks[i] = null;
    	});

    	const block = {
    		c: function create() {
    			for (let i = 0; i < each_blocks.length; i += 1) {
    				each_blocks[i].c();
    			}

    			each_1_anchor = empty();
    		},
    		m: function mount(target, anchor) {
    			for (let i = 0; i < each_blocks.length; i += 1) {
    				each_blocks[i].m(target, anchor);
    			}

    			insert_dev(target, each_1_anchor, anchor);
    			current = true;
    		},
    		p: function update(ctx, dirty) {
    			if (dirty & /*renderers, $$restProps, header*/ 100) {
    				each_value_3 = /*header*/ ctx[2];
    				validate_each_argument(each_value_3);
    				let i;

    				for (i = 0; i < each_value_3.length; i += 1) {
    					const child_ctx = get_each_context_3$1(ctx, each_value_3, i);

    					if (each_blocks[i]) {
    						each_blocks[i].p(child_ctx, dirty);
    						transition_in(each_blocks[i], 1);
    					} else {
    						each_blocks[i] = create_each_block_3$1(child_ctx);
    						each_blocks[i].c();
    						transition_in(each_blocks[i], 1);
    						each_blocks[i].m(each_1_anchor.parentNode, each_1_anchor);
    					}
    				}

    				group_outros();

    				for (i = each_value_3.length; i < each_blocks.length; i += 1) {
    					out(i);
    				}

    				check_outros();
    			}
    		},
    		i: function intro(local) {
    			if (current) return;

    			for (let i = 0; i < each_value_3.length; i += 1) {
    				transition_in(each_blocks[i]);
    			}

    			current = true;
    		},
    		o: function outro(local) {
    			each_blocks = each_blocks.filter(Boolean);

    			for (let i = 0; i < each_blocks.length; i += 1) {
    				transition_out(each_blocks[i]);
    			}

    			current = false;
    		},
    		d: function destroy(detaching) {
    			destroy_each(each_blocks, detaching);
    			if (detaching) detach_dev(each_1_anchor);
    		}
    	};

    	dispatch_dev("SvelteRegisterBlock", {
    		block,
    		id: create_default_slot_5.name,
    		type: "slot",
    		source: "(23:10) <svelte:component this={renderers.tablerow}>",
    		ctx
    	});

    	return block;
    }

    // (22:8) <svelte:component this={renderers.tablehead}>
    function create_default_slot_4(ctx) {
    	let switch_instance;
    	let switch_instance_anchor;
    	let current;
    	var switch_value = /*renderers*/ ctx[5].tablerow;

    	function switch_props(ctx) {
    		return {
    			props: {
    				$$slots: { default: [create_default_slot_5] },
    				$$scope: { ctx }
    			},
    			$$inline: true
    		};
    	}

    	if (switch_value) {
    		switch_instance = construct_svelte_component_dev(switch_value, switch_props(ctx));
    	}

    	const block = {
    		c: function create() {
    			if (switch_instance) create_component(switch_instance.$$.fragment);
    			switch_instance_anchor = empty();
    		},
    		m: function mount(target, anchor) {
    			if (switch_instance) mount_component(switch_instance, target, anchor);
    			insert_dev(target, switch_instance_anchor, anchor);
    			current = true;
    		},
    		p: function update(ctx, dirty) {
    			const switch_instance_changes = {};

    			if (dirty & /*$$scope, header, renderers, $$restProps*/ 8388708) {
    				switch_instance_changes.$$scope = { dirty, ctx };
    			}

    			if (switch_value !== (switch_value = /*renderers*/ ctx[5].tablerow)) {
    				if (switch_instance) {
    					group_outros();
    					const old_component = switch_instance;

    					transition_out(old_component.$$.fragment, 1, 0, () => {
    						destroy_component(old_component, 1);
    					});

    					check_outros();
    				}

    				if (switch_value) {
    					switch_instance = construct_svelte_component_dev(switch_value, switch_props(ctx));
    					create_component(switch_instance.$$.fragment);
    					transition_in(switch_instance.$$.fragment, 1);
    					mount_component(switch_instance, switch_instance_anchor.parentNode, switch_instance_anchor);
    				} else {
    					switch_instance = null;
    				}
    			} else if (switch_value) {
    				switch_instance.$set(switch_instance_changes);
    			}
    		},
    		i: function intro(local) {
    			if (current) return;
    			if (switch_instance) transition_in(switch_instance.$$.fragment, local);
    			current = true;
    		},
    		o: function outro(local) {
    			if (switch_instance) transition_out(switch_instance.$$.fragment, local);
    			current = false;
    		},
    		d: function destroy(detaching) {
    			if (detaching) detach_dev(switch_instance_anchor);
    			if (switch_instance) destroy_component(switch_instance, detaching);
    		}
    	};

    	dispatch_dev("SvelteRegisterBlock", {
    		block,
    		id: create_default_slot_4.name,
    		type: "slot",
    		source: "(22:8) <svelte:component this={renderers.tablehead}>",
    		ctx
    	});

    	return block;
    }

    // (39:16) <svelte:component                   this={renderers.tablecell}                   header={false}                   align={$$restProps.align[i] || 'center'}                   >
    function create_default_slot_3(ctx) {
    	let parser;
    	let current;

    	parser = new Parser$1({
    			props: {
    				tokens: /*cells*/ ctx[13].tokens,
    				renderers: /*renderers*/ ctx[5]
    			},
    			$$inline: true
    		});

    	const block = {
    		c: function create() {
    			create_component(parser.$$.fragment);
    		},
    		m: function mount(target, anchor) {
    			mount_component(parser, target, anchor);
    			current = true;
    		},
    		p: function update(ctx, dirty) {
    			const parser_changes = {};
    			if (dirty & /*rows*/ 8) parser_changes.tokens = /*cells*/ ctx[13].tokens;
    			if (dirty & /*renderers*/ 32) parser_changes.renderers = /*renderers*/ ctx[5];
    			parser.$set(parser_changes);
    		},
    		i: function intro(local) {
    			if (current) return;
    			transition_in(parser.$$.fragment, local);
    			current = true;
    		},
    		o: function outro(local) {
    			transition_out(parser.$$.fragment, local);
    			current = false;
    		},
    		d: function destroy(detaching) {
    			destroy_component(parser, detaching);
    		}
    	};

    	dispatch_dev("SvelteRegisterBlock", {
    		block,
    		id: create_default_slot_3.name,
    		type: "slot",
    		source: "(39:16) <svelte:component                   this={renderers.tablecell}                   header={false}                   align={$$restProps.align[i] || 'center'}                   >",
    		ctx
    	});

    	return block;
    }

    // (38:14) {#each row as cells, i}
    function create_each_block_2$2(ctx) {
    	let switch_instance;
    	let switch_instance_anchor;
    	let current;
    	var switch_value = /*renderers*/ ctx[5].tablecell;

    	function switch_props(ctx) {
    		return {
    			props: {
    				header: false,
    				align: /*$$restProps*/ ctx[6].align[/*i*/ ctx[15]] || 'center',
    				$$slots: { default: [create_default_slot_3] },
    				$$scope: { ctx }
    			},
    			$$inline: true
    		};
    	}

    	if (switch_value) {
    		switch_instance = construct_svelte_component_dev(switch_value, switch_props(ctx));
    	}

    	const block = {
    		c: function create() {
    			if (switch_instance) create_component(switch_instance.$$.fragment);
    			switch_instance_anchor = empty();
    		},
    		m: function mount(target, anchor) {
    			if (switch_instance) mount_component(switch_instance, target, anchor);
    			insert_dev(target, switch_instance_anchor, anchor);
    			current = true;
    		},
    		p: function update(ctx, dirty) {
    			const switch_instance_changes = {};
    			if (dirty & /*$$restProps*/ 64) switch_instance_changes.align = /*$$restProps*/ ctx[6].align[/*i*/ ctx[15]] || 'center';

    			if (dirty & /*$$scope, rows, renderers*/ 8388648) {
    				switch_instance_changes.$$scope = { dirty, ctx };
    			}

    			if (switch_value !== (switch_value = /*renderers*/ ctx[5].tablecell)) {
    				if (switch_instance) {
    					group_outros();
    					const old_component = switch_instance;

    					transition_out(old_component.$$.fragment, 1, 0, () => {
    						destroy_component(old_component, 1);
    					});

    					check_outros();
    				}

    				if (switch_value) {
    					switch_instance = construct_svelte_component_dev(switch_value, switch_props(ctx));
    					create_component(switch_instance.$$.fragment);
    					transition_in(switch_instance.$$.fragment, 1);
    					mount_component(switch_instance, switch_instance_anchor.parentNode, switch_instance_anchor);
    				} else {
    					switch_instance = null;
    				}
    			} else if (switch_value) {
    				switch_instance.$set(switch_instance_changes);
    			}
    		},
    		i: function intro(local) {
    			if (current) return;
    			if (switch_instance) transition_in(switch_instance.$$.fragment, local);
    			current = true;
    		},
    		o: function outro(local) {
    			if (switch_instance) transition_out(switch_instance.$$.fragment, local);
    			current = false;
    		},
    		d: function destroy(detaching) {
    			if (detaching) detach_dev(switch_instance_anchor);
    			if (switch_instance) destroy_component(switch_instance, detaching);
    		}
    	};

    	dispatch_dev("SvelteRegisterBlock", {
    		block,
    		id: create_each_block_2$2.name,
    		type: "each",
    		source: "(38:14) {#each row as cells, i}",
    		ctx
    	});

    	return block;
    }

    // (37:12) <svelte:component this={renderers.tablerow}>
    function create_default_slot_2(ctx) {
    	let t;
    	let current;
    	let each_value_2 = /*row*/ ctx[10];
    	validate_each_argument(each_value_2);
    	let each_blocks = [];

    	for (let i = 0; i < each_value_2.length; i += 1) {
    		each_blocks[i] = create_each_block_2$2(get_each_context_2$2(ctx, each_value_2, i));
    	}

    	const out = i => transition_out(each_blocks[i], 1, 1, () => {
    		each_blocks[i] = null;
    	});

    	const block = {
    		c: function create() {
    			for (let i = 0; i < each_blocks.length; i += 1) {
    				each_blocks[i].c();
    			}

    			t = space();
    		},
    		m: function mount(target, anchor) {
    			for (let i = 0; i < each_blocks.length; i += 1) {
    				each_blocks[i].m(target, anchor);
    			}

    			insert_dev(target, t, anchor);
    			current = true;
    		},
    		p: function update(ctx, dirty) {
    			if (dirty & /*renderers, $$restProps, rows*/ 104) {
    				each_value_2 = /*row*/ ctx[10];
    				validate_each_argument(each_value_2);
    				let i;

    				for (i = 0; i < each_value_2.length; i += 1) {
    					const child_ctx = get_each_context_2$2(ctx, each_value_2, i);

    					if (each_blocks[i]) {
    						each_blocks[i].p(child_ctx, dirty);
    						transition_in(each_blocks[i], 1);
    					} else {
    						each_blocks[i] = create_each_block_2$2(child_ctx);
    						each_blocks[i].c();
    						transition_in(each_blocks[i], 1);
    						each_blocks[i].m(t.parentNode, t);
    					}
    				}

    				group_outros();

    				for (i = each_value_2.length; i < each_blocks.length; i += 1) {
    					out(i);
    				}

    				check_outros();
    			}
    		},
    		i: function intro(local) {
    			if (current) return;

    			for (let i = 0; i < each_value_2.length; i += 1) {
    				transition_in(each_blocks[i]);
    			}

    			current = true;
    		},
    		o: function outro(local) {
    			each_blocks = each_blocks.filter(Boolean);

    			for (let i = 0; i < each_blocks.length; i += 1) {
    				transition_out(each_blocks[i]);
    			}

    			current = false;
    		},
    		d: function destroy(detaching) {
    			destroy_each(each_blocks, detaching);
    			if (detaching) detach_dev(t);
    		}
    	};

    	dispatch_dev("SvelteRegisterBlock", {
    		block,
    		id: create_default_slot_2.name,
    		type: "slot",
    		source: "(37:12) <svelte:component this={renderers.tablerow}>",
    		ctx
    	});

    	return block;
    }

    // (36:10) {#each rows as row}
    function create_each_block_1$3(ctx) {
    	let switch_instance;
    	let switch_instance_anchor;
    	let current;
    	var switch_value = /*renderers*/ ctx[5].tablerow;

    	function switch_props(ctx) {
    		return {
    			props: {
    				$$slots: { default: [create_default_slot_2] },
    				$$scope: { ctx }
    			},
    			$$inline: true
    		};
    	}

    	if (switch_value) {
    		switch_instance = construct_svelte_component_dev(switch_value, switch_props(ctx));
    	}

    	const block = {
    		c: function create() {
    			if (switch_instance) create_component(switch_instance.$$.fragment);
    			switch_instance_anchor = empty();
    		},
    		m: function mount(target, anchor) {
    			if (switch_instance) mount_component(switch_instance, target, anchor);
    			insert_dev(target, switch_instance_anchor, anchor);
    			current = true;
    		},
    		p: function update(ctx, dirty) {
    			const switch_instance_changes = {};

    			if (dirty & /*$$scope, rows, renderers, $$restProps*/ 8388712) {
    				switch_instance_changes.$$scope = { dirty, ctx };
    			}

    			if (switch_value !== (switch_value = /*renderers*/ ctx[5].tablerow)) {
    				if (switch_instance) {
    					group_outros();
    					const old_component = switch_instance;

    					transition_out(old_component.$$.fragment, 1, 0, () => {
    						destroy_component(old_component, 1);
    					});

    					check_outros();
    				}

    				if (switch_value) {
    					switch_instance = construct_svelte_component_dev(switch_value, switch_props(ctx));
    					create_component(switch_instance.$$.fragment);
    					transition_in(switch_instance.$$.fragment, 1);
    					mount_component(switch_instance, switch_instance_anchor.parentNode, switch_instance_anchor);
    				} else {
    					switch_instance = null;
    				}
    			} else if (switch_value) {
    				switch_instance.$set(switch_instance_changes);
    			}
    		},
    		i: function intro(local) {
    			if (current) return;
    			if (switch_instance) transition_in(switch_instance.$$.fragment, local);
    			current = true;
    		},
    		o: function outro(local) {
    			if (switch_instance) transition_out(switch_instance.$$.fragment, local);
    			current = false;
    		},
    		d: function destroy(detaching) {
    			if (detaching) detach_dev(switch_instance_anchor);
    			if (switch_instance) destroy_component(switch_instance, detaching);
    		}
    	};

    	dispatch_dev("SvelteRegisterBlock", {
    		block,
    		id: create_each_block_1$3.name,
    		type: "each",
    		source: "(36:10) {#each rows as row}",
    		ctx
    	});

    	return block;
    }

    // (35:8) <svelte:component this={renderers.tablebody}>
    function create_default_slot_1(ctx) {
    	let each_1_anchor;
    	let current;
    	let each_value_1 = /*rows*/ ctx[3];
    	validate_each_argument(each_value_1);
    	let each_blocks = [];

    	for (let i = 0; i < each_value_1.length; i += 1) {
    		each_blocks[i] = create_each_block_1$3(get_each_context_1$3(ctx, each_value_1, i));
    	}

    	const out = i => transition_out(each_blocks[i], 1, 1, () => {
    		each_blocks[i] = null;
    	});

    	const block = {
    		c: function create() {
    			for (let i = 0; i < each_blocks.length; i += 1) {
    				each_blocks[i].c();
    			}

    			each_1_anchor = empty();
    		},
    		m: function mount(target, anchor) {
    			for (let i = 0; i < each_blocks.length; i += 1) {
    				each_blocks[i].m(target, anchor);
    			}

    			insert_dev(target, each_1_anchor, anchor);
    			current = true;
    		},
    		p: function update(ctx, dirty) {
    			if (dirty & /*renderers, rows, $$restProps*/ 104) {
    				each_value_1 = /*rows*/ ctx[3];
    				validate_each_argument(each_value_1);
    				let i;

    				for (i = 0; i < each_value_1.length; i += 1) {
    					const child_ctx = get_each_context_1$3(ctx, each_value_1, i);

    					if (each_blocks[i]) {
    						each_blocks[i].p(child_ctx, dirty);
    						transition_in(each_blocks[i], 1);
    					} else {
    						each_blocks[i] = create_each_block_1$3(child_ctx);
    						each_blocks[i].c();
    						transition_in(each_blocks[i], 1);
    						each_blocks[i].m(each_1_anchor.parentNode, each_1_anchor);
    					}
    				}

    				group_outros();

    				for (i = each_value_1.length; i < each_blocks.length; i += 1) {
    					out(i);
    				}

    				check_outros();
    			}
    		},
    		i: function intro(local) {
    			if (current) return;

    			for (let i = 0; i < each_value_1.length; i += 1) {
    				transition_in(each_blocks[i]);
    			}

    			current = true;
    		},
    		o: function outro(local) {
    			each_blocks = each_blocks.filter(Boolean);

    			for (let i = 0; i < each_blocks.length; i += 1) {
    				transition_out(each_blocks[i]);
    			}

    			current = false;
    		},
    		d: function destroy(detaching) {
    			destroy_each(each_blocks, detaching);
    			if (detaching) detach_dev(each_1_anchor);
    		}
    	};

    	dispatch_dev("SvelteRegisterBlock", {
    		block,
    		id: create_default_slot_1.name,
    		type: "slot",
    		source: "(35:8) <svelte:component this={renderers.tablebody}>",
    		ctx
    	});

    	return block;
    }

    // (21:6) <svelte:component this={renderers.table}>
    function create_default_slot(ctx) {
    	let switch_instance0;
    	let t;
    	let switch_instance1;
    	let switch_instance1_anchor;
    	let current;
    	var switch_value = /*renderers*/ ctx[5].tablehead;

    	function switch_props(ctx) {
    		return {
    			props: {
    				$$slots: { default: [create_default_slot_4] },
    				$$scope: { ctx }
    			},
    			$$inline: true
    		};
    	}

    	if (switch_value) {
    		switch_instance0 = construct_svelte_component_dev(switch_value, switch_props(ctx));
    	}

    	var switch_value_1 = /*renderers*/ ctx[5].tablebody;

    	function switch_props_1(ctx) {
    		return {
    			props: {
    				$$slots: { default: [create_default_slot_1] },
    				$$scope: { ctx }
    			},
    			$$inline: true
    		};
    	}

    	if (switch_value_1) {
    		switch_instance1 = construct_svelte_component_dev(switch_value_1, switch_props_1(ctx));
    	}

    	const block = {
    		c: function create() {
    			if (switch_instance0) create_component(switch_instance0.$$.fragment);
    			t = space();
    			if (switch_instance1) create_component(switch_instance1.$$.fragment);
    			switch_instance1_anchor = empty();
    		},
    		m: function mount(target, anchor) {
    			if (switch_instance0) mount_component(switch_instance0, target, anchor);
    			insert_dev(target, t, anchor);
    			if (switch_instance1) mount_component(switch_instance1, target, anchor);
    			insert_dev(target, switch_instance1_anchor, anchor);
    			current = true;
    		},
    		p: function update(ctx, dirty) {
    			const switch_instance0_changes = {};

    			if (dirty & /*$$scope, renderers, header, $$restProps*/ 8388708) {
    				switch_instance0_changes.$$scope = { dirty, ctx };
    			}

    			if (switch_value !== (switch_value = /*renderers*/ ctx[5].tablehead)) {
    				if (switch_instance0) {
    					group_outros();
    					const old_component = switch_instance0;

    					transition_out(old_component.$$.fragment, 1, 0, () => {
    						destroy_component(old_component, 1);
    					});

    					check_outros();
    				}

    				if (switch_value) {
    					switch_instance0 = construct_svelte_component_dev(switch_value, switch_props(ctx));
    					create_component(switch_instance0.$$.fragment);
    					transition_in(switch_instance0.$$.fragment, 1);
    					mount_component(switch_instance0, t.parentNode, t);
    				} else {
    					switch_instance0 = null;
    				}
    			} else if (switch_value) {
    				switch_instance0.$set(switch_instance0_changes);
    			}

    			const switch_instance1_changes = {};

    			if (dirty & /*$$scope, rows, renderers, $$restProps*/ 8388712) {
    				switch_instance1_changes.$$scope = { dirty, ctx };
    			}

    			if (switch_value_1 !== (switch_value_1 = /*renderers*/ ctx[5].tablebody)) {
    				if (switch_instance1) {
    					group_outros();
    					const old_component = switch_instance1;

    					transition_out(old_component.$$.fragment, 1, 0, () => {
    						destroy_component(old_component, 1);
    					});

    					check_outros();
    				}

    				if (switch_value_1) {
    					switch_instance1 = construct_svelte_component_dev(switch_value_1, switch_props_1(ctx));
    					create_component(switch_instance1.$$.fragment);
    					transition_in(switch_instance1.$$.fragment, 1);
    					mount_component(switch_instance1, switch_instance1_anchor.parentNode, switch_instance1_anchor);
    				} else {
    					switch_instance1 = null;
    				}
    			} else if (switch_value_1) {
    				switch_instance1.$set(switch_instance1_changes);
    			}
    		},
    		i: function intro(local) {
    			if (current) return;
    			if (switch_instance0) transition_in(switch_instance0.$$.fragment, local);
    			if (switch_instance1) transition_in(switch_instance1.$$.fragment, local);
    			current = true;
    		},
    		o: function outro(local) {
    			if (switch_instance0) transition_out(switch_instance0.$$.fragment, local);
    			if (switch_instance1) transition_out(switch_instance1.$$.fragment, local);
    			current = false;
    		},
    		d: function destroy(detaching) {
    			if (switch_instance0) destroy_component(switch_instance0, detaching);
    			if (detaching) detach_dev(t);
    			if (detaching) detach_dev(switch_instance1_anchor);
    			if (switch_instance1) destroy_component(switch_instance1, detaching);
    		}
    	};

    	dispatch_dev("SvelteRegisterBlock", {
    		block,
    		id: create_default_slot.name,
    		type: "slot",
    		source: "(21:6) <svelte:component this={renderers.table}>",
    		ctx
    	});

    	return block;
    }

    // (15:2) {#each tokens as token}
    function create_each_block$4(ctx) {
    	let parser;
    	let current;
    	const parser_spread_levels = [/*token*/ ctx[7], { renderers: /*renderers*/ ctx[5] }];
    	let parser_props = {};

    	for (let i = 0; i < parser_spread_levels.length; i += 1) {
    		parser_props = assign(parser_props, parser_spread_levels[i]);
    	}

    	parser = new Parser$1({ props: parser_props, $$inline: true });

    	const block = {
    		c: function create() {
    			create_component(parser.$$.fragment);
    		},
    		m: function mount(target, anchor) {
    			mount_component(parser, target, anchor);
    			current = true;
    		},
    		p: function update(ctx, dirty) {
    			const parser_changes = (dirty & /*tokens, renderers*/ 34)
    			? get_spread_update(parser_spread_levels, [
    					dirty & /*tokens*/ 2 && get_spread_object(/*token*/ ctx[7]),
    					dirty & /*renderers*/ 32 && { renderers: /*renderers*/ ctx[5] }
    				])
    			: {};

    			parser.$set(parser_changes);
    		},
    		i: function intro(local) {
    			if (current) return;
    			transition_in(parser.$$.fragment, local);
    			current = true;
    		},
    		o: function outro(local) {
    			transition_out(parser.$$.fragment, local);
    			current = false;
    		},
    		d: function destroy(detaching) {
    			destroy_component(parser, detaching);
    		}
    	};

    	dispatch_dev("SvelteRegisterBlock", {
    		block,
    		id: create_each_block$4.name,
    		type: "each",
    		source: "(15:2) {#each tokens as token}",
    		ctx
    	});

    	return block;
    }

    function create_fragment$D(ctx) {
    	let current_block_type_index;
    	let if_block;
    	let if_block_anchor;
    	let current;
    	const if_block_creators = [create_if_block$9, create_if_block_1$4];
    	const if_blocks = [];

    	function select_block_type(ctx, dirty) {
    		if (!/*type*/ ctx[0]) return 0;
    		if (/*renderers*/ ctx[5][/*type*/ ctx[0]]) return 1;
    		return -1;
    	}

    	if (~(current_block_type_index = select_block_type(ctx))) {
    		if_block = if_blocks[current_block_type_index] = if_block_creators[current_block_type_index](ctx);
    	}

    	const block = {
    		c: function create() {
    			if (if_block) if_block.c();
    			if_block_anchor = empty();
    		},
    		l: function claim(nodes) {
    			throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option");
    		},
    		m: function mount(target, anchor) {
    			if (~current_block_type_index) {
    				if_blocks[current_block_type_index].m(target, anchor);
    			}

    			insert_dev(target, if_block_anchor, anchor);
    			current = true;
    		},
    		p: function update(ctx, [dirty]) {
    			let previous_block_index = current_block_type_index;
    			current_block_type_index = select_block_type(ctx);

    			if (current_block_type_index === previous_block_index) {
    				if (~current_block_type_index) {
    					if_blocks[current_block_type_index].p(ctx, dirty);
    				}
    			} else {
    				if (if_block) {
    					group_outros();

    					transition_out(if_blocks[previous_block_index], 1, 1, () => {
    						if_blocks[previous_block_index] = null;
    					});

    					check_outros();
    				}

    				if (~current_block_type_index) {
    					if_block = if_blocks[current_block_type_index];

    					if (!if_block) {
    						if_block = if_blocks[current_block_type_index] = if_block_creators[current_block_type_index](ctx);
    						if_block.c();
    					} else {
    						if_block.p(ctx, dirty);
    					}

    					transition_in(if_block, 1);
    					if_block.m(if_block_anchor.parentNode, if_block_anchor);
    				} else {
    					if_block = null;
    				}
    			}
    		},
    		i: function intro(local) {
    			if (current) return;
    			transition_in(if_block);
    			current = true;
    		},
    		o: function outro(local) {
    			transition_out(if_block);
    			current = false;
    		},
    		d: function destroy(detaching) {
    			if (~current_block_type_index) {
    				if_blocks[current_block_type_index].d(detaching);
    			}

    			if (detaching) detach_dev(if_block_anchor);
    		}
    	};

    	dispatch_dev("SvelteRegisterBlock", {
    		block,
    		id: create_fragment$D.name,
    		type: "component",
    		source: "",
    		ctx
    	});

    	return block;
    }

    function instance$D($$self, $$props, $$invalidate) {
    	const omit_props_names = ["type","tokens","header","rows","ordered","renderers"];
    	let $$restProps = compute_rest_props($$props, omit_props_names);
    	let { $$slots: slots = {}, $$scope } = $$props;
    	validate_slots('Parser', slots, []);
    	let { type = undefined } = $$props;
    	let { tokens = undefined } = $$props;
    	let { header = undefined } = $$props;
    	let { rows = undefined } = $$props;
    	let { ordered = false } = $$props;
    	let { renderers } = $$props;
    	supressWarnings();

    	$$self.$$.on_mount.push(function () {
    		if (renderers === undefined && !('renderers' in $$props || $$self.$$.bound[$$self.$$.props['renderers']])) {
    			console.warn("<Parser> was created without expected prop 'renderers'");
    		}
    	});

    	$$self.$$set = $$new_props => {
    		$$props = assign(assign({}, $$props), exclude_internal_props($$new_props));
    		$$invalidate(6, $$restProps = compute_rest_props($$props, omit_props_names));
    		if ('type' in $$new_props) $$invalidate(0, type = $$new_props.type);
    		if ('tokens' in $$new_props) $$invalidate(1, tokens = $$new_props.tokens);
    		if ('header' in $$new_props) $$invalidate(2, header = $$new_props.header);
    		if ('rows' in $$new_props) $$invalidate(3, rows = $$new_props.rows);
    		if ('ordered' in $$new_props) $$invalidate(4, ordered = $$new_props.ordered);
    		if ('renderers' in $$new_props) $$invalidate(5, renderers = $$new_props.renderers);
    	};

    	$$self.$capture_state = () => ({
    		supressWarnings,
    		type,
    		tokens,
    		header,
    		rows,
    		ordered,
    		renderers
    	});

    	$$self.$inject_state = $$new_props => {
    		if ('type' in $$props) $$invalidate(0, type = $$new_props.type);
    		if ('tokens' in $$props) $$invalidate(1, tokens = $$new_props.tokens);
    		if ('header' in $$props) $$invalidate(2, header = $$new_props.header);
    		if ('rows' in $$props) $$invalidate(3, rows = $$new_props.rows);
    		if ('ordered' in $$props) $$invalidate(4, ordered = $$new_props.ordered);
    		if ('renderers' in $$props) $$invalidate(5, renderers = $$new_props.renderers);
    	};

    	if ($$props && "$$inject" in $$props) {
    		$$self.$inject_state($$props.$$inject);
    	}

    	return [type, tokens, header, rows, ordered, renderers, $$restProps];
    }

    class Parser$1 extends SvelteComponentDev {
    	constructor(options) {
    		super(options);

    		init$1(this, options, instance$D, create_fragment$D, safe_not_equal, {
    			type: 0,
    			tokens: 1,
    			header: 2,
    			rows: 3,
    			ordered: 4,
    			renderers: 5
    		});

    		dispatch_dev("SvelteRegisterComponent", {
    			component: this,
    			tagName: "Parser",
    			options,
    			id: create_fragment$D.name
    		});
    	}

    	get type() {
    		throw new Error("<Parser>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
    	}

    	set type(value) {
    		throw new Error("<Parser>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
    	}

    	get tokens() {
    		throw new Error("<Parser>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
    	}

    	set tokens(value) {
    		throw new Error("<Parser>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
    	}

    	get header() {
    		throw new Error("<Parser>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
    	}

    	set header(value) {
    		throw new Error("<Parser>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
    	}

    	get rows() {
    		throw new Error("<Parser>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
    	}

    	set rows(value) {
    		throw new Error("<Parser>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
    	}

    	get ordered() {
    		throw new Error("<Parser>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
    	}

    	set ordered(value) {
    		throw new Error("<Parser>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
    	}

    	get renderers() {
    		throw new Error("<Parser>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
    	}

    	set renderers(value) {
    		throw new Error("<Parser>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
    	}
    }

    /**
     * marked - a markdown parser
     * Copyright (c) 2011-2022, Christopher Jeffrey. (MIT Licensed)
     * https://github.com/markedjs/marked
     */

    /**
     * DO NOT EDIT THIS FILE
     * The code in this file is generated from files in ./src/
     */

    function getDefaults() {
      return {
        async: false,
        baseUrl: null,
        breaks: false,
        extensions: null,
        gfm: true,
        headerIds: true,
        headerPrefix: '',
        highlight: null,
        langPrefix: 'language-',
        mangle: true,
        pedantic: false,
        renderer: null,
        sanitize: false,
        sanitizer: null,
        silent: false,
        smartypants: false,
        tokenizer: null,
        walkTokens: null,
        xhtml: false
      };
    }

    let defaults = getDefaults();

    function changeDefaults(newDefaults) {
      defaults = newDefaults;
    }

    /**
     * Helpers
     */
    const escapeTest = /[&<>"']/;
    const escapeReplace = /[&<>"']/g;
    const escapeTestNoEncode = /[<>"']|&(?!#?\w+;)/;
    const escapeReplaceNoEncode = /[<>"']|&(?!#?\w+;)/g;
    const escapeReplacements = {
      '&': '&amp;',
      '<': '&lt;',
      '>': '&gt;',
      '"': '&quot;',
      "'": '&#39;'
    };
    const getEscapeReplacement = (ch) => escapeReplacements[ch];
    function escape(html, encode) {
      if (encode) {
        if (escapeTest.test(html)) {
          return html.replace(escapeReplace, getEscapeReplacement);
        }
      } else {
        if (escapeTestNoEncode.test(html)) {
          return html.replace(escapeReplaceNoEncode, getEscapeReplacement);
        }
      }

      return html;
    }

    const unescapeTest = /&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;

    /**
     * @param {string} html
     */
    function unescape$1(html) {
      // explicitly match decimal, hex, and named HTML entities
      return html.replace(unescapeTest, (_, n) => {
        n = n.toLowerCase();
        if (n === 'colon') return ':';
        if (n.charAt(0) === '#') {
          return n.charAt(1) === 'x'
            ? String.fromCharCode(parseInt(n.substring(2), 16))
            : String.fromCharCode(+n.substring(1));
        }
        return '';
      });
    }

    const caret = /(^|[^\[])\^/g;

    /**
     * @param {string | RegExp} regex
     * @param {string} opt
     */
    function edit(regex, opt) {
      regex = typeof regex === 'string' ? regex : regex.source;
      opt = opt || '';
      const obj = {
        replace: (name, val) => {
          val = val.source || val;
          val = val.replace(caret, '$1');
          regex = regex.replace(name, val);
          return obj;
        },
        getRegex: () => {
          return new RegExp(regex, opt);
        }
      };
      return obj;
    }

    const nonWordAndColonTest = /[^\w:]/g;
    const originIndependentUrl = /^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;

    /**
     * @param {boolean} sanitize
     * @param {string} base
     * @param {string} href
     */
    function cleanUrl(sanitize, base, href) {
      if (sanitize) {
        let prot;
        try {
          prot = decodeURIComponent(unescape$1(href))
            .replace(nonWordAndColonTest, '')
            .toLowerCase();
        } catch (e) {
          return null;
        }
        if (prot.indexOf('javascript:') === 0 || prot.indexOf('vbscript:') === 0 || prot.indexOf('data:') === 0) {
          return null;
        }
      }
      if (base && !originIndependentUrl.test(href)) {
        href = resolveUrl(base, href);
      }
      try {
        href = encodeURI(href).replace(/%25/g, '%');
      } catch (e) {
        return null;
      }
      return href;
    }

    const baseUrls = {};
    const justDomain = /^[^:]+:\/*[^/]*$/;
    const protocol = /^([^:]+:)[\s\S]*$/;
    const domain = /^([^:]+:\/*[^/]*)[\s\S]*$/;

    /**
     * @param {string} base
     * @param {string} href
     */
    function resolveUrl(base, href) {
      if (!baseUrls[' ' + base]) {
        // we can ignore everything in base after the last slash of its path component,
        // but we might need to add _that_
        // https://tools.ietf.org/html/rfc3986#section-3
        if (justDomain.test(base)) {
          baseUrls[' ' + base] = base + '/';
        } else {
          baseUrls[' ' + base] = rtrim(base, '/', true);
        }
      }
      base = baseUrls[' ' + base];
      const relativeBase = base.indexOf(':') === -1;

      if (href.substring(0, 2) === '//') {
        if (relativeBase) {
          return href;
        }
        return base.replace(protocol, '$1') + href;
      } else if (href.charAt(0) === '/') {
        if (relativeBase) {
          return href;
        }
        return base.replace(domain, '$1') + href;
      } else {
        return base + href;
      }
    }

    const noopTest = { exec: function noopTest() {} };

    function merge(obj) {
      let i = 1,
        target,
        key;

      for (; i < arguments.length; i++) {
        target = arguments[i];
        for (key in target) {
          if (Object.prototype.hasOwnProperty.call(target, key)) {
            obj[key] = target[key];
          }
        }
      }

      return obj;
    }

    function splitCells(tableRow, count) {
      // ensure that every cell-delimiting pipe has a space
      // before it to distinguish it from an escaped pipe
      const row = tableRow.replace(/\|/g, (match, offset, str) => {
          let escaped = false,
            curr = offset;
          while (--curr >= 0 && str[curr] === '\\') escaped = !escaped;
          if (escaped) {
            // odd number of slashes means | is escaped
            // so we leave it alone
            return '|';
          } else {
            // add space before unescaped |
            return ' |';
          }
        }),
        cells = row.split(/ \|/);
      let i = 0;

      // First/last cell in a row cannot be empty if it has no leading/trailing pipe
      if (!cells[0].trim()) { cells.shift(); }
      if (cells.length > 0 && !cells[cells.length - 1].trim()) { cells.pop(); }

      if (cells.length > count) {
        cells.splice(count);
      } else {
        while (cells.length < count) cells.push('');
      }

      for (; i < cells.length; i++) {
        // leading or trailing whitespace is ignored per the gfm spec
        cells[i] = cells[i].trim().replace(/\\\|/g, '|');
      }
      return cells;
    }

    /**
     * Remove trailing 'c's. Equivalent to str.replace(/c*$/, '').
     * /c*$/ is vulnerable to REDOS.
     *
     * @param {string} str
     * @param {string} c
     * @param {boolean} invert Remove suffix of non-c chars instead. Default falsey.
     */
    function rtrim(str, c, invert) {
      const l = str.length;
      if (l === 0) {
        return '';
      }

      // Length of suffix matching the invert condition.
      let suffLen = 0;

      // Step left until we fail to match the invert condition.
      while (suffLen < l) {
        const currChar = str.charAt(l - suffLen - 1);
        if (currChar === c && !invert) {
          suffLen++;
        } else if (currChar !== c && invert) {
          suffLen++;
        } else {
          break;
        }
      }

      return str.slice(0, l - suffLen);
    }

    function findClosingBracket(str, b) {
      if (str.indexOf(b[1]) === -1) {
        return -1;
      }
      const l = str.length;
      let level = 0,
        i = 0;
      for (; i < l; i++) {
        if (str[i] === '\\') {
          i++;
        } else if (str[i] === b[0]) {
          level++;
        } else if (str[i] === b[1]) {
          level--;
          if (level < 0) {
            return i;
          }
        }
      }
      return -1;
    }

    function checkSanitizeDeprecation(opt) {
      if (opt && opt.sanitize && !opt.silent) {
        console.warn('marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options');
      }
    }

    // copied from https://stackoverflow.com/a/5450113/806777
    /**
     * @param {string} pattern
     * @param {number} count
     */
    function repeatString(pattern, count) {
      if (count < 1) {
        return '';
      }
      let result = '';
      while (count > 1) {
        if (count & 1) {
          result += pattern;
        }
        count >>= 1;
        pattern += pattern;
      }
      return result + pattern;
    }

    function outputLink(cap, link, raw, lexer) {
      const href = link.href;
      const title = link.title ? escape(link.title) : null;
      const text = cap[1].replace(/\\([\[\]])/g, '$1');

      if (cap[0].charAt(0) !== '!') {
        lexer.state.inLink = true;
        const token = {
          type: 'link',
          raw,
          href,
          title,
          text,
          tokens: lexer.inlineTokens(text)
        };
        lexer.state.inLink = false;
        return token;
      }
      return {
        type: 'image',
        raw,
        href,
        title,
        text: escape(text)
      };
    }

    function indentCodeCompensation(raw, text) {
      const matchIndentToCode = raw.match(/^(\s+)(?:```)/);

      if (matchIndentToCode === null) {
        return text;
      }

      const indentToCode = matchIndentToCode[1];

      return text
        .split('\n')
        .map(node => {
          const matchIndentInNode = node.match(/^\s+/);
          if (matchIndentInNode === null) {
            return node;
          }

          const [indentInNode] = matchIndentInNode;

          if (indentInNode.length >= indentToCode.length) {
            return node.slice(indentToCode.length);
          }

          return node;
        })
        .join('\n');
    }

    /**
     * Tokenizer
     */
    class Tokenizer {
      constructor(options) {
        this.options = options || defaults;
      }

      space(src) {
        const cap = this.rules.block.newline.exec(src);
        if (cap && cap[0].length > 0) {
          return {
            type: 'space',
            raw: cap[0]
          };
        }
      }

      code(src) {
        const cap = this.rules.block.code.exec(src);
        if (cap) {
          const text = cap[0].replace(/^ {1,4}/gm, '');
          return {
            type: 'code',
            raw: cap[0],
            codeBlockStyle: 'indented',
            text: !this.options.pedantic
              ? rtrim(text, '\n')
              : text
          };
        }
      }

      fences(src) {
        const cap = this.rules.block.fences.exec(src);
        if (cap) {
          const raw = cap[0];
          const text = indentCodeCompensation(raw, cap[3] || '');

          return {
            type: 'code',
            raw,
            lang: cap[2] ? cap[2].trim() : cap[2],
            text
          };
        }
      }

      heading(src) {
        const cap = this.rules.block.heading.exec(src);
        if (cap) {
          let text = cap[2].trim();

          // remove trailing #s
          if (/#$/.test(text)) {
            const trimmed = rtrim(text, '#');
            if (this.options.pedantic) {
              text = trimmed.trim();
            } else if (!trimmed || / $/.test(trimmed)) {
              // CommonMark requires space before trailing #s
              text = trimmed.trim();
            }
          }

          return {
            type: 'heading',
            raw: cap[0],
            depth: cap[1].length,
            text,
            tokens: this.lexer.inline(text)
          };
        }
      }

      hr(src) {
        const cap = this.rules.block.hr.exec(src);
        if (cap) {
          return {
            type: 'hr',
            raw: cap[0]
          };
        }
      }

      blockquote(src) {
        const cap = this.rules.block.blockquote.exec(src);
        if (cap) {
          const text = cap[0].replace(/^ *>[ \t]?/gm, '');

          return {
            type: 'blockquote',
            raw: cap[0],
            tokens: this.lexer.blockTokens(text, []),
            text
          };
        }
      }

      list(src) {
        let cap = this.rules.block.list.exec(src);
        if (cap) {
          let raw, istask, ischecked, indent, i, blankLine, endsWithBlankLine,
            line, nextLine, rawLine, itemContents, endEarly;

          let bull = cap[1].trim();
          const isordered = bull.length > 1;

          const list = {
            type: 'list',
            raw: '',
            ordered: isordered,
            start: isordered ? +bull.slice(0, -1) : '',
            loose: false,
            items: []
          };

          bull = isordered ? `\\d{1,9}\\${bull.slice(-1)}` : `\\${bull}`;

          if (this.options.pedantic) {
            bull = isordered ? bull : '[*+-]';
          }

          // Get next list item
          const itemRegex = new RegExp(`^( {0,3}${bull})((?:[\t ][^\\n]*)?(?:\\n|$))`);

          // Check if current bullet point can start a new List Item
          while (src) {
            endEarly = false;
            if (!(cap = itemRegex.exec(src))) {
              break;
            }

            if (this.rules.block.hr.test(src)) { // End list if bullet was actually HR (possibly move into itemRegex?)
              break;
            }

            raw = cap[0];
            src = src.substring(raw.length);

            line = cap[2].split('\n', 1)[0];
            nextLine = src.split('\n', 1)[0];

            if (this.options.pedantic) {
              indent = 2;
              itemContents = line.trimLeft();
            } else {
              indent = cap[2].search(/[^ ]/); // Find first non-space char
              indent = indent > 4 ? 1 : indent; // Treat indented code blocks (> 4 spaces) as having only 1 indent
              itemContents = line.slice(indent);
              indent += cap[1].length;
            }

            blankLine = false;

            if (!line && /^ *$/.test(nextLine)) { // Items begin with at most one blank line
              raw += nextLine + '\n';
              src = src.substring(nextLine.length + 1);
              endEarly = true;
            }

            if (!endEarly) {
              const nextBulletRegex = new RegExp(`^ {0,${Math.min(3, indent - 1)}}(?:[*+-]|\\d{1,9}[.)])((?: [^\\n]*)?(?:\\n|$))`);
              const hrRegex = new RegExp(`^ {0,${Math.min(3, indent - 1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`);
              const fencesBeginRegex = new RegExp(`^ {0,${Math.min(3, indent - 1)}}(?:\`\`\`|~~~)`);
              const headingBeginRegex = new RegExp(`^ {0,${Math.min(3, indent - 1)}}#`);

              // Check if following lines should be included in List Item
              while (src) {
                rawLine = src.split('\n', 1)[0];
                line = rawLine;

                // Re-align to follow commonmark nesting rules
                if (this.options.pedantic) {
                  line = line.replace(/^ {1,4}(?=( {4})*[^ ])/g, '  ');
                }

                // End list item if found code fences
                if (fencesBeginRegex.test(line)) {
                  break;
                }

                // End list item if found start of new heading
                if (headingBeginRegex.test(line)) {
                  break;
                }

                // End list item if found start of new bullet
                if (nextBulletRegex.test(line)) {
                  break;
                }

                // Horizontal rule found
                if (hrRegex.test(src)) {
                  break;
                }

                if (line.search(/[^ ]/) >= indent || !line.trim()) { // Dedent if possible
                  itemContents += '\n' + line.slice(indent);
                } else if (!blankLine) { // Until blank line, item doesn't need indentation
                  itemContents += '\n' + line;
                } else { // Otherwise, improper indentation ends this item
                  break;
                }

                if (!blankLine && !line.trim()) { // Check if current line is blank
                  blankLine = true;
                }

                raw += rawLine + '\n';
                src = src.substring(rawLine.length + 1);
              }
            }

            if (!list.loose) {
              // If the previous item ended with a blank line, the list is loose
              if (endsWithBlankLine) {
                list.loose = true;
              } else if (/\n *\n *$/.test(raw)) {
                endsWithBlankLine = true;
              }
            }

            // Check for task list items
            if (this.options.gfm) {
              istask = /^\[[ xX]\] /.exec(itemContents);
              if (istask) {
                ischecked = istask[0] !== '[ ] ';
                itemContents = itemContents.replace(/^\[[ xX]\] +/, '');
              }
            }

            list.items.push({
              type: 'list_item',
              raw,
              task: !!istask,
              checked: ischecked,
              loose: false,
              text: itemContents
            });

            list.raw += raw;
          }

          // Do not consume newlines at end of final item. Alternatively, make itemRegex *start* with any newlines to simplify/speed up endsWithBlankLine logic
          list.items[list.items.length - 1].raw = raw.trimRight();
          list.items[list.items.length - 1].text = itemContents.trimRight();
          list.raw = list.raw.trimRight();

          const l = list.items.length;

          // Item child tokens handled here at end because we needed to have the final item to trim it first
          for (i = 0; i < l; i++) {
            this.lexer.state.top = false;
            list.items[i].tokens = this.lexer.blockTokens(list.items[i].text, []);
            const spacers = list.items[i].tokens.filter(t => t.type === 'space');
            const hasMultipleLineBreaks = spacers.every(t => {
              const chars = t.raw.split('');
              let lineBreaks = 0;
              for (const char of chars) {
                if (char === '\n') {
                  lineBreaks += 1;
                }
                if (lineBreaks > 1) {
                  return true;
                }
              }

              return false;
            });

            if (!list.loose && spacers.length && hasMultipleLineBreaks) {
              // Having a single line break doesn't mean a list is loose. A single line break is terminating the last list item
              list.loose = true;
              list.items[i].loose = true;
            }
          }

          return list;
        }
      }

      html(src) {
        const cap = this.rules.block.html.exec(src);
        if (cap) {
          const token = {
            type: 'html',
            raw: cap[0],
            pre: !this.options.sanitizer
              && (cap[1] === 'pre' || cap[1] === 'script' || cap[1] === 'style'),
            text: cap[0]
          };
          if (this.options.sanitize) {
            const text = this.options.sanitizer ? this.options.sanitizer(cap[0]) : escape(cap[0]);
            token.type = 'paragraph';
            token.text = text;
            token.tokens = this.lexer.inline(text);
          }
          return token;
        }
      }

      def(src) {
        const cap = this.rules.block.def.exec(src);
        if (cap) {
          if (cap[3]) cap[3] = cap[3].substring(1, cap[3].length - 1);
          const tag = cap[1].toLowerCase().replace(/\s+/g, ' ');
          return {
            type: 'def',
            tag,
            raw: cap[0],
            href: cap[2],
            title: cap[3]
          };
        }
      }

      table(src) {
        const cap = this.rules.block.table.exec(src);
        if (cap) {
          const item = {
            type: 'table',
            header: splitCells(cap[1]).map(c => { return { text: c }; }),
            align: cap[2].replace(/^ *|\| *$/g, '').split(/ *\| */),
            rows: cap[3] && cap[3].trim() ? cap[3].replace(/\n[ \t]*$/, '').split('\n') : []
          };

          if (item.header.length === item.align.length) {
            item.raw = cap[0];

            let l = item.align.length;
            let i, j, k, row;
            for (i = 0; i < l; i++) {
              if (/^ *-+: *$/.test(item.align[i])) {
                item.align[i] = 'right';
              } else if (/^ *:-+: *$/.test(item.align[i])) {
                item.align[i] = 'center';
              } else if (/^ *:-+ *$/.test(item.align[i])) {
                item.align[i] = 'left';
              } else {
                item.align[i] = null;
              }
            }

            l = item.rows.length;
            for (i = 0; i < l; i++) {
              item.rows[i] = splitCells(item.rows[i], item.header.length).map(c => { return { text: c }; });
            }

            // parse child tokens inside headers and cells

            // header child tokens
            l = item.header.length;
            for (j = 0; j < l; j++) {
              item.header[j].tokens = this.lexer.inline(item.header[j].text);
            }

            // cell child tokens
            l = item.rows.length;
            for (j = 0; j < l; j++) {
              row = item.rows[j];
              for (k = 0; k < row.length; k++) {
                row[k].tokens = this.lexer.inline(row[k].text);
              }
            }

            return item;
          }
        }
      }

      lheading(src) {
        const cap = this.rules.block.lheading.exec(src);
        if (cap) {
          return {
            type: 'heading',
            raw: cap[0],
            depth: cap[2].charAt(0) === '=' ? 1 : 2,
            text: cap[1],
            tokens: this.lexer.inline(cap[1])
          };
        }
      }

      paragraph(src) {
        const cap = this.rules.block.paragraph.exec(src);
        if (cap) {
          const text = cap[1].charAt(cap[1].length - 1) === '\n'
            ? cap[1].slice(0, -1)
            : cap[1];
          return {
            type: 'paragraph',
            raw: cap[0],
            text,
            tokens: this.lexer.inline(text)
          };
        }
      }

      text(src) {
        const cap = this.rules.block.text.exec(src);
        if (cap) {
          return {
            type: 'text',
            raw: cap[0],
            text: cap[0],
            tokens: this.lexer.inline(cap[0])
          };
        }
      }

      escape(src) {
        const cap = this.rules.inline.escape.exec(src);
        if (cap) {
          return {
            type: 'escape',
            raw: cap[0],
            text: escape(cap[1])
          };
        }
      }

      tag(src) {
        const cap = this.rules.inline.tag.exec(src);
        if (cap) {
          if (!this.lexer.state.inLink && /^<a /i.test(cap[0])) {
            this.lexer.state.inLink = true;
          } else if (this.lexer.state.inLink && /^<\/a>/i.test(cap[0])) {
            this.lexer.state.inLink = false;
          }
          if (!this.lexer.state.inRawBlock && /^<(pre|code|kbd|script)(\s|>)/i.test(cap[0])) {
            this.lexer.state.inRawBlock = true;
          } else if (this.lexer.state.inRawBlock && /^<\/(pre|code|kbd|script)(\s|>)/i.test(cap[0])) {
            this.lexer.state.inRawBlock = false;
          }

          return {
            type: this.options.sanitize
              ? 'text'
              : 'html',
            raw: cap[0],
            inLink: this.lexer.state.inLink,
            inRawBlock: this.lexer.state.inRawBlock,
            text: this.options.sanitize
              ? (this.options.sanitizer
                ? this.options.sanitizer(cap[0])
                : escape(cap[0]))
              : cap[0]
          };
        }
      }

      link(src) {
        const cap = this.rules.inline.link.exec(src);
        if (cap) {
          const trimmedUrl = cap[2].trim();
          if (!this.options.pedantic && /^</.test(trimmedUrl)) {
            // commonmark requires matching angle brackets
            if (!(/>$/.test(trimmedUrl))) {
              return;
            }

            // ending angle bracket cannot be escaped
            const rtrimSlash = rtrim(trimmedUrl.slice(0, -1), '\\');
            if ((trimmedUrl.length - rtrimSlash.length) % 2 === 0) {
              return;
            }
          } else {
            // find closing parenthesis
            const lastParenIndex = findClosingBracket(cap[2], '()');
            if (lastParenIndex > -1) {
              const start = cap[0].indexOf('!') === 0 ? 5 : 4;
              const linkLen = start + cap[1].length + lastParenIndex;
              cap[2] = cap[2].substring(0, lastParenIndex);
              cap[0] = cap[0].substring(0, linkLen).trim();
              cap[3] = '';
            }
          }
          let href = cap[2];
          let title = '';
          if (this.options.pedantic) {
            // split pedantic href and title
            const link = /^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(href);

            if (link) {
              href = link[1];
              title = link[3];
            }
          } else {
            title = cap[3] ? cap[3].slice(1, -1) : '';
          }

          href = href.trim();
          if (/^</.test(href)) {
            if (this.options.pedantic && !(/>$/.test(trimmedUrl))) {
              // pedantic allows starting angle bracket without ending angle bracket
              href = href.slice(1);
            } else {
              href = href.slice(1, -1);
            }
          }
          return outputLink(cap, {
            href: href ? href.replace(this.rules.inline._escapes, '$1') : href,
            title: title ? title.replace(this.rules.inline._escapes, '$1') : title
          }, cap[0], this.lexer);
        }
      }

      reflink(src, links) {
        let cap;
        if ((cap = this.rules.inline.reflink.exec(src))
            || (cap = this.rules.inline.nolink.exec(src))) {
          let link = (cap[2] || cap[1]).replace(/\s+/g, ' ');
          link = links[link.toLowerCase()];
          if (!link || !link.href) {
            const text = cap[0].charAt(0);
            return {
              type: 'text',
              raw: text,
              text
            };
          }
          return outputLink(cap, link, cap[0], this.lexer);
        }
      }

      emStrong(src, maskedSrc, prevChar = '') {
        let match = this.rules.inline.emStrong.lDelim.exec(src);
        if (!match) return;

        // _ can't be between two alphanumerics. \p{L}\p{N} includes non-english alphabet/numbers as well
        if (match[3] && prevChar.match(/[\p{L}\p{N}]/u)) return;

        const nextChar = match[1] || match[2] || '';

        if (!nextChar || (nextChar && (prevChar === '' || this.rules.inline.punctuation.exec(prevChar)))) {
          const lLength = match[0].length - 1;
          let rDelim, rLength, delimTotal = lLength, midDelimTotal = 0;

          const endReg = match[0][0] === '*' ? this.rules.inline.emStrong.rDelimAst : this.rules.inline.emStrong.rDelimUnd;
          endReg.lastIndex = 0;

          // Clip maskedSrc to same section of string as src (move to lexer?)
          maskedSrc = maskedSrc.slice(-1 * src.length + lLength);

          while ((match = endReg.exec(maskedSrc)) != null) {
            rDelim = match[1] || match[2] || match[3] || match[4] || match[5] || match[6];

            if (!rDelim) continue; // skip single * in __abc*abc__

            rLength = rDelim.length;

            if (match[3] || match[4]) { // found another Left Delim
              delimTotal += rLength;
              continue;
            } else if (match[5] || match[6]) { // either Left or Right Delim
              if (lLength % 3 && !((lLength + rLength) % 3)) {
                midDelimTotal += rLength;
                continue; // CommonMark Emphasis Rules 9-10
              }
            }

            delimTotal -= rLength;

            if (delimTotal > 0) continue; // Haven't found enough closing delimiters

            // Remove extra characters. *a*** -> *a*
            rLength = Math.min(rLength, rLength + delimTotal + midDelimTotal);

            // Create `em` if smallest delimiter has odd char count. *a***
            if (Math.min(lLength, rLength) % 2) {
              const text = src.slice(1, lLength + match.index + rLength);
              return {
                type: 'em',
                raw: src.slice(0, lLength + match.index + rLength + 1),
                text,
                tokens: this.lexer.inlineTokens(text)
              };
            }

            // Create 'strong' if smallest delimiter has even char count. **a***
            const text = src.slice(2, lLength + match.index + rLength - 1);
            return {
              type: 'strong',
              raw: src.slice(0, lLength + match.index + rLength + 1),
              text,
              tokens: this.lexer.inlineTokens(text)
            };
          }
        }
      }

      codespan(src) {
        const cap = this.rules.inline.code.exec(src);
        if (cap) {
          let text = cap[2].replace(/\n/g, ' ');
          const hasNonSpaceChars = /[^ ]/.test(text);
          const hasSpaceCharsOnBothEnds = /^ /.test(text) && / $/.test(text);
          if (hasNonSpaceChars && hasSpaceCharsOnBothEnds) {
            text = text.substring(1, text.length - 1);
          }
          text = escape(text, true);
          return {
            type: 'codespan',
            raw: cap[0],
            text
          };
        }
      }

      br(src) {
        const cap = this.rules.inline.br.exec(src);
        if (cap) {
          return {
            type: 'br',
            raw: cap[0]
          };
        }
      }

      del(src) {
        const cap = this.rules.inline.del.exec(src);
        if (cap) {
          return {
            type: 'del',
            raw: cap[0],
            text: cap[2],
            tokens: this.lexer.inlineTokens(cap[2])
          };
        }
      }

      autolink(src, mangle) {
        const cap = this.rules.inline.autolink.exec(src);
        if (cap) {
          let text, href;
          if (cap[2] === '@') {
            text = escape(this.options.mangle ? mangle(cap[1]) : cap[1]);
            href = 'mailto:' + text;
          } else {
            text = escape(cap[1]);
            href = text;
          }

          return {
            type: 'link',
            raw: cap[0],
            text,
            href,
            tokens: [
              {
                type: 'text',
                raw: text,
                text
              }
            ]
          };
        }
      }

      url(src, mangle) {
        let cap;
        if (cap = this.rules.inline.url.exec(src)) {
          let text, href;
          if (cap[2] === '@') {
            text = escape(this.options.mangle ? mangle(cap[0]) : cap[0]);
            href = 'mailto:' + text;
          } else {
            // do extended autolink path validation
            let prevCapZero;
            do {
              prevCapZero = cap[0];
              cap[0] = this.rules.inline._backpedal.exec(cap[0])[0];
            } while (prevCapZero !== cap[0]);
            text = escape(cap[0]);
            if (cap[1] === 'www.') {
              href = 'http://' + text;
            } else {
              href = text;
            }
          }
          return {
            type: 'link',
            raw: cap[0],
            text,
            href,
            tokens: [
              {
                type: 'text',
                raw: text,
                text
              }
            ]
          };
        }
      }

      inlineText(src, smartypants) {
        const cap = this.rules.inline.text.exec(src);
        if (cap) {
          let text;
          if (this.lexer.state.inRawBlock) {
            text = this.options.sanitize ? (this.options.sanitizer ? this.options.sanitizer(cap[0]) : escape(cap[0])) : cap[0];
          } else {
            text = escape(this.options.smartypants ? smartypants(cap[0]) : cap[0]);
          }
          return {
            type: 'text',
            raw: cap[0],
            text
          };
        }
      }
    }

    /**
     * Block-Level Grammar
     */
    const block = {
      newline: /^(?: *(?:\n|$))+/,
      code: /^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,
      fences: /^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,
      hr: /^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,
      heading: /^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,
      blockquote: /^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,
      list: /^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,
      html: '^ {0,3}(?:' // optional indentation
        + '<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)' // (1)
        + '|comment[^\\n]*(\\n+|$)' // (2)
        + '|<\\?[\\s\\S]*?(?:\\?>\\n*|$)' // (3)
        + '|<![A-Z][\\s\\S]*?(?:>\\n*|$)' // (4)
        + '|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)' // (5)
        + '|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)' // (6)
        + '|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)' // (7) open tag
        + '|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)' // (7) closing tag
        + ')',
      def: /^ {0,3}\[(label)\]: *(?:\n *)?<?([^\s>]+)>?(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,
      table: noopTest,
      lheading: /^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,
      // regex template, placeholders will be replaced according to different paragraph
      // interruption rules of commonmark and the original markdown spec:
      _paragraph: /^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,
      text: /^[^\n]+/
    };

    block._label = /(?!\s*\])(?:\\.|[^\[\]\\])+/;
    block._title = /(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/;
    block.def = edit(block.def)
      .replace('label', block._label)
      .replace('title', block._title)
      .getRegex();

    block.bullet = /(?:[*+-]|\d{1,9}[.)])/;
    block.listItemStart = edit(/^( *)(bull) */)
      .replace('bull', block.bullet)
      .getRegex();

    block.list = edit(block.list)
      .replace(/bull/g, block.bullet)
      .replace('hr', '\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))')
      .replace('def', '\\n+(?=' + block.def.source + ')')
      .getRegex();

    block._tag = 'address|article|aside|base|basefont|blockquote|body|caption'
      + '|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption'
      + '|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe'
      + '|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option'
      + '|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr'
      + '|track|ul';
    block._comment = /<!--(?!-?>)[\s\S]*?(?:-->|$)/;
    block.html = edit(block.html, 'i')
      .replace('comment', block._comment)
      .replace('tag', block._tag)
      .replace('attribute', / +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/)
      .getRegex();

    block.paragraph = edit(block._paragraph)
      .replace('hr', block.hr)
      .replace('heading', ' {0,3}#{1,6} ')
      .replace('|lheading', '') // setex headings don't interrupt commonmark paragraphs
      .replace('|table', '')
      .replace('blockquote', ' {0,3}>')
      .replace('fences', ' {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n')
      .replace('list', ' {0,3}(?:[*+-]|1[.)]) ') // only lists starting from 1 can interrupt
      .replace('html', '</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)')
      .replace('tag', block._tag) // pars can be interrupted by type (6) html blocks
      .getRegex();

    block.blockquote = edit(block.blockquote)
      .replace('paragraph', block.paragraph)
      .getRegex();

    /**
     * Normal Block Grammar
     */

    block.normal = merge({}, block);

    /**
     * GFM Block Grammar
     */

    block.gfm = merge({}, block.normal, {
      table: '^ *([^\\n ].*\\|.*)\\n' // Header
        + ' {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?' // Align
        + '(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)' // Cells
    });

    block.gfm.table = edit(block.gfm.table)
      .replace('hr', block.hr)
      .replace('heading', ' {0,3}#{1,6} ')
      .replace('blockquote', ' {0,3}>')
      .replace('code', ' {4}[^\\n]')
      .replace('fences', ' {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n')
      .replace('list', ' {0,3}(?:[*+-]|1[.)]) ') // only lists starting from 1 can interrupt
      .replace('html', '</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)')
      .replace('tag', block._tag) // tables can be interrupted by type (6) html blocks
      .getRegex();

    block.gfm.paragraph = edit(block._paragraph)
      .replace('hr', block.hr)
      .replace('heading', ' {0,3}#{1,6} ')
      .replace('|lheading', '') // setex headings don't interrupt commonmark paragraphs
      .replace('table', block.gfm.table) // interrupt paragraphs with table
      .replace('blockquote', ' {0,3}>')
      .replace('fences', ' {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n')
      .replace('list', ' {0,3}(?:[*+-]|1[.)]) ') // only lists starting from 1 can interrupt
      .replace('html', '</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)')
      .replace('tag', block._tag) // pars can be interrupted by type (6) html blocks
      .getRegex();
    /**
     * Pedantic grammar (original John Gruber's loose markdown specification)
     */

    block.pedantic = merge({}, block.normal, {
      html: edit(
        '^ *(?:comment *(?:\\n|\\s*$)'
        + '|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)' // closed tag
        + '|<tag(?:"[^"]*"|\'[^\']*\'|\\s[^\'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))')
        .replace('comment', block._comment)
        .replace(/tag/g, '(?!(?:'
          + 'a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub'
          + '|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)'
          + '\\b)\\w+(?!:|[^\\w\\s@]*@)\\b')
        .getRegex(),
      def: /^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,
      heading: /^(#{1,6})(.*)(?:\n+|$)/,
      fences: noopTest, // fences not supported
      paragraph: edit(block.normal._paragraph)
        .replace('hr', block.hr)
        .replace('heading', ' *#{1,6} *[^\n]')
        .replace('lheading', block.lheading)
        .replace('blockquote', ' {0,3}>')
        .replace('|fences', '')
        .replace('|list', '')
        .replace('|html', '')
        .getRegex()
    });

    /**
     * Inline-Level Grammar
     */
    const inline = {
      escape: /^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,
      autolink: /^<(scheme:[^\s\x00-\x1f<>]*|email)>/,
      url: noopTest,
      tag: '^comment'
        + '|^</[a-zA-Z][\\w:-]*\\s*>' // self-closing tag
        + '|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>' // open tag
        + '|^<\\?[\\s\\S]*?\\?>' // processing instruction, e.g. <?php ?>
        + '|^<![a-zA-Z]+\\s[\\s\\S]*?>' // declaration, e.g. <!DOCTYPE html>
        + '|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>', // CDATA section
      link: /^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,
      reflink: /^!?\[(label)\]\[(ref)\]/,
      nolink: /^!?\[(ref)\](?:\[\])?/,
      reflinkSearch: 'reflink|nolink(?!\\()',
      emStrong: {
        lDelim: /^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,
        //        (1) and (2) can only be a Right Delimiter. (3) and (4) can only be Left.  (5) and (6) can be either Left or Right.
        //          () Skip orphan inside strong  () Consume to delim (1) #***                (2) a***#, a***                   (3) #***a, ***a                 (4) ***#              (5) #***#                 (6) a***a
        rDelimAst: /^[^_*]*?\_\_[^_*]*?\*[^_*]*?(?=\_\_)|[^*]+(?=[^*])|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,
        rDelimUnd: /^[^_*]*?\*\*[^_*]*?\_[^_*]*?(?=\*\*)|[^_]+(?=[^_])|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/ // ^- Not allowed for _
      },
      code: /^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,
      br: /^( {2,}|\\)\n(?!\s*$)/,
      del: noopTest,
      text: /^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,
      punctuation: /^([\spunctuation])/
    };

    // list of punctuation marks from CommonMark spec
    // without * and _ to handle the different emphasis markers * and _
    inline._punctuation = '!"#$%&\'()+\\-.,/:;<=>?@\\[\\]`^{|}~';
    inline.punctuation = edit(inline.punctuation).replace(/punctuation/g, inline._punctuation).getRegex();

    // sequences em should skip over [title](link), `code`, <html>
    inline.blockSkip = /\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g;
    inline.escapedEmSt = /\\\*|\\_/g;

    inline._comment = edit(block._comment).replace('(?:-->|$)', '-->').getRegex();

    inline.emStrong.lDelim = edit(inline.emStrong.lDelim)
      .replace(/punct/g, inline._punctuation)
      .getRegex();

    inline.emStrong.rDelimAst = edit(inline.emStrong.rDelimAst, 'g')
      .replace(/punct/g, inline._punctuation)
      .getRegex();

    inline.emStrong.rDelimUnd = edit(inline.emStrong.rDelimUnd, 'g')
      .replace(/punct/g, inline._punctuation)
      .getRegex();

    inline._escapes = /\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g;

    inline._scheme = /[a-zA-Z][a-zA-Z0-9+.-]{1,31}/;
    inline._email = /[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/;
    inline.autolink = edit(inline.autolink)
      .replace('scheme', inline._scheme)
      .replace('email', inline._email)
      .getRegex();

    inline._attribute = /\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/;

    inline.tag = edit(inline.tag)
      .replace('comment', inline._comment)
      .replace('attribute', inline._attribute)
      .getRegex();

    inline._label = /(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/;
    inline._href = /<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/;
    inline._title = /"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/;

    inline.link = edit(inline.link)
      .replace('label', inline._label)
      .replace('href', inline._href)
      .replace('title', inline._title)
      .getRegex();

    inline.reflink = edit(inline.reflink)
      .replace('label', inline._label)
      .replace('ref', block._label)
      .getRegex();

    inline.nolink = edit(inline.nolink)
      .replace('ref', block._label)
      .getRegex();

    inline.reflinkSearch = edit(inline.reflinkSearch, 'g')
      .replace('reflink', inline.reflink)
      .replace('nolink', inline.nolink)
      .getRegex();

    /**
     * Normal Inline Grammar
     */

    inline.normal = merge({}, inline);

    /**
     * Pedantic Inline Grammar
     */

    inline.pedantic = merge({}, inline.normal, {
      strong: {
        start: /^__|\*\*/,
        middle: /^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,
        endAst: /\*\*(?!\*)/g,
        endUnd: /__(?!_)/g
      },
      em: {
        start: /^_|\*/,
        middle: /^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,
        endAst: /\*(?!\*)/g,
        endUnd: /_(?!_)/g
      },
      link: edit(/^!?\[(label)\]\((.*?)\)/)
        .replace('label', inline._label)
        .getRegex(),
      reflink: edit(/^!?\[(label)\]\s*\[([^\]]*)\]/)
        .replace('label', inline._label)
        .getRegex()
    });

    /**
     * GFM Inline Grammar
     */

    inline.gfm = merge({}, inline.normal, {
      escape: edit(inline.escape).replace('])', '~|])').getRegex(),
      _extended_email: /[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,
      url: /^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,
      _backpedal: /(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,
      del: /^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,
      text: /^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/
    });

    inline.gfm.url = edit(inline.gfm.url, 'i')
      .replace('email', inline.gfm._extended_email)
      .getRegex();
    /**
     * GFM + Line Breaks Inline Grammar
     */

    inline.breaks = merge({}, inline.gfm, {
      br: edit(inline.br).replace('{2,}', '*').getRegex(),
      text: edit(inline.gfm.text)
        .replace('\\b_', '\\b_| {2,}\\n')
        .replace(/\{2,\}/g, '*')
        .getRegex()
    });

    /**
     * smartypants text replacement
     * @param {string} text
     */
    function smartypants(text) {
      return text
        // em-dashes
        .replace(/---/g, '\u2014')
        // en-dashes
        .replace(/--/g, '\u2013')
        // opening singles
        .replace(/(^|[-\u2014/(\[{"\s])'/g, '$1\u2018')
        // closing singles & apostrophes
        .replace(/'/g, '\u2019')
        // opening doubles
        .replace(/(^|[-\u2014/(\[{\u2018\s])"/g, '$1\u201c')
        // closing doubles
        .replace(/"/g, '\u201d')
        // ellipses
        .replace(/\.{3}/g, '\u2026');
    }

    /**
     * mangle email addresses
     * @param {string} text
     */
    function mangle(text) {
      let out = '',
        i,
        ch;

      const l = text.length;
      for (i = 0; i < l; i++) {
        ch = text.charCodeAt(i);
        if (Math.random() > 0.5) {
          ch = 'x' + ch.toString(16);
        }
        out += '&#' + ch + ';';
      }

      return out;
    }

    /**
     * Block Lexer
     */
    class Lexer {
      constructor(options) {
        this.tokens = [];
        this.tokens.links = Object.create(null);
        this.options = options || defaults;
        this.options.tokenizer = this.options.tokenizer || new Tokenizer();
        this.tokenizer = this.options.tokenizer;
        this.tokenizer.options = this.options;
        this.tokenizer.lexer = this;
        this.inlineQueue = [];
        this.state = {
          inLink: false,
          inRawBlock: false,
          top: true
        };

        const rules = {
          block: block.normal,
          inline: inline.normal
        };

        if (this.options.pedantic) {
          rules.block = block.pedantic;
          rules.inline = inline.pedantic;
        } else if (this.options.gfm) {
          rules.block = block.gfm;
          if (this.options.breaks) {
            rules.inline = inline.breaks;
          } else {
            rules.inline = inline.gfm;
          }
        }
        this.tokenizer.rules = rules;
      }

      /**
       * Expose Rules
       */
      static get rules() {
        return {
          block,
          inline
        };
      }

      /**
       * Static Lex Method
       */
      static lex(src, options) {
        const lexer = new Lexer(options);
        return lexer.lex(src);
      }

      /**
       * Static Lex Inline Method
       */
      static lexInline(src, options) {
        const lexer = new Lexer(options);
        return lexer.inlineTokens(src);
      }

      /**
       * Preprocessing
       */
      lex(src) {
        src = src
          .replace(/\r\n|\r/g, '\n');

        this.blockTokens(src, this.tokens);

        let next;
        while (next = this.inlineQueue.shift()) {
          this.inlineTokens(next.src, next.tokens);
        }

        return this.tokens;
      }

      /**
       * Lexing
       */
      blockTokens(src, tokens = []) {
        if (this.options.pedantic) {
          src = src.replace(/\t/g, '    ').replace(/^ +$/gm, '');
        } else {
          src = src.replace(/^( *)(\t+)/gm, (_, leading, tabs) => {
            return leading + '    '.repeat(tabs.length);
          });
        }

        let token, lastToken, cutSrc, lastParagraphClipped;

        while (src) {
          if (this.options.extensions
            && this.options.extensions.block
            && this.options.extensions.block.some((extTokenizer) => {
              if (token = extTokenizer.call({ lexer: this }, src, tokens)) {
                src = src.substring(token.raw.length);
                tokens.push(token);
                return true;
              }
              return false;
            })) {
            continue;
          }

          // newline
          if (token = this.tokenizer.space(src)) {
            src = src.substring(token.raw.length);
            if (token.raw.length === 1 && tokens.length > 0) {
              // if there's a single \n as a spacer, it's terminating the last line,
              // so move it there so that we don't get unecessary paragraph tags
              tokens[tokens.length - 1].raw += '\n';
            } else {
              tokens.push(token);
            }
            continue;
          }

          // code
          if (token = this.tokenizer.code(src)) {
            src = src.substring(token.raw.length);
            lastToken = tokens[tokens.length - 1];
            // An indented code block cannot interrupt a paragraph.
            if (lastToken && (lastToken.type === 'paragraph' || lastToken.type === 'text')) {
              lastToken.raw += '\n' + token.raw;
              lastToken.text += '\n' + token.text;
              this.inlineQueue[this.inlineQueue.length - 1].src = lastToken.text;
            } else {
              tokens.push(token);
            }
            continue;
          }

          // fences
          if (token = this.tokenizer.fences(src)) {
            src = src.substring(token.raw.length);
            tokens.push(token);
            continue;
          }

          // heading
          if (token = this.tokenizer.heading(src)) {
            src = src.substring(token.raw.length);
            tokens.push(token);
            continue;
          }

          // hr
          if (token = this.tokenizer.hr(src)) {
            src = src.substring(token.raw.length);
            tokens.push(token);
            continue;
          }

          // blockquote
          if (token = this.tokenizer.blockquote(src)) {
            src = src.substring(token.raw.length);
            tokens.push(token);
            continue;
          }

          // list
          if (token = this.tokenizer.list(src)) {
            src = src.substring(token.raw.length);
            tokens.push(token);
            continue;
          }

          // html
          if (token = this.tokenizer.html(src)) {
            src = src.substring(token.raw.length);
            tokens.push(token);
            continue;
          }

          // def
          if (token = this.tokenizer.def(src)) {
            src = src.substring(token.raw.length);
            lastToken = tokens[tokens.length - 1];
            if (lastToken && (lastToken.type === 'paragraph' || lastToken.type === 'text')) {
              lastToken.raw += '\n' + token.raw;
              lastToken.text += '\n' + token.raw;
              this.inlineQueue[this.inlineQueue.length - 1].src = lastToken.text;
            } else if (!this.tokens.links[token.tag]) {
              this.tokens.links[token.tag] = {
                href: token.href,
                title: token.title
              };
            }
            continue;
          }

          // table (gfm)
          if (token = this.tokenizer.table(src)) {
            src = src.substring(token.raw.length);
            tokens.push(token);
            continue;
          }

          // lheading
          if (token = this.tokenizer.lheading(src)) {
            src = src.substring(token.raw.length);
            tokens.push(token);
            continue;
          }

          // top-level paragraph
          // prevent paragraph consuming extensions by clipping 'src' to extension start
          cutSrc = src;
          if (this.options.extensions && this.options.extensions.startBlock) {
            let startIndex = Infinity;
            const tempSrc = src.slice(1);
            let tempStart;
            this.options.extensions.startBlock.forEach(function(getStartIndex) {
              tempStart = getStartIndex.call({ lexer: this }, tempSrc);
              if (typeof tempStart === 'number' && tempStart >= 0) { startIndex = Math.min(startIndex, tempStart); }
            });
            if (startIndex < Infinity && startIndex >= 0) {
              cutSrc = src.substring(0, startIndex + 1);
            }
          }
          if (this.state.top && (token = this.tokenizer.paragraph(cutSrc))) {
            lastToken = tokens[tokens.length - 1];
            if (lastParagraphClipped && lastToken.type === 'paragraph') {
              lastToken.raw += '\n' + token.raw;
              lastToken.text += '\n' + token.text;
              this.inlineQueue.pop();
              this.inlineQueue[this.inlineQueue.length - 1].src = lastToken.text;
            } else {
              tokens.push(token);
            }
            lastParagraphClipped = (cutSrc.length !== src.length);
            src = src.substring(token.raw.length);
            continue;
          }

          // text
          if (token = this.tokenizer.text(src)) {
            src = src.substring(token.raw.length);
            lastToken = tokens[tokens.length - 1];
            if (lastToken && lastToken.type === 'text') {
              lastToken.raw += '\n' + token.raw;
              lastToken.text += '\n' + token.text;
              this.inlineQueue.pop();
              this.inlineQueue[this.inlineQueue.length - 1].src = lastToken.text;
            } else {
              tokens.push(token);
            }
            continue;
          }

          if (src) {
            const errMsg = 'Infinite loop on byte: ' + src.charCodeAt(0);
            if (this.options.silent) {
              console.error(errMsg);
              break;
            } else {
              throw new Error(errMsg);
            }
          }
        }

        this.state.top = true;
        return tokens;
      }

      inline(src, tokens = []) {
        this.inlineQueue.push({ src, tokens });
        return tokens;
      }

      /**
       * Lexing/Compiling
       */
      inlineTokens(src, tokens = []) {
        let token, lastToken, cutSrc;

        // String with links masked to avoid interference with em and strong
        let maskedSrc = src;
        let match;
        let keepPrevChar, prevChar;

        // Mask out reflinks
        if (this.tokens.links) {
          const links = Object.keys(this.tokens.links);
          if (links.length > 0) {
            while ((match = this.tokenizer.rules.inline.reflinkSearch.exec(maskedSrc)) != null) {
              if (links.includes(match[0].slice(match[0].lastIndexOf('[') + 1, -1))) {
                maskedSrc = maskedSrc.slice(0, match.index) + '[' + repeatString('a', match[0].length - 2) + ']' + maskedSrc.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex);
              }
            }
          }
        }
        // Mask out other blocks
        while ((match = this.tokenizer.rules.inline.blockSkip.exec(maskedSrc)) != null) {
          maskedSrc = maskedSrc.slice(0, match.index) + '[' + repeatString('a', match[0].length - 2) + ']' + maskedSrc.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);
        }

        // Mask out escaped em & strong delimiters
        while ((match = this.tokenizer.rules.inline.escapedEmSt.exec(maskedSrc)) != null) {
          maskedSrc = maskedSrc.slice(0, match.index) + '++' + maskedSrc.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);
        }

        while (src) {
          if (!keepPrevChar) {
            prevChar = '';
          }
          keepPrevChar = false;

          // extensions
          if (this.options.extensions
            && this.options.extensions.inline
            && this.options.extensions.inline.some((extTokenizer) => {
              if (token = extTokenizer.call({ lexer: this }, src, tokens)) {
                src = src.substring(token.raw.length);
                tokens.push(token);
                return true;
              }
              return false;
            })) {
            continue;
          }

          // escape
          if (token = this.tokenizer.escape(src)) {
            src = src.substring(token.raw.length);
            tokens.push(token);
            continue;
          }

          // tag
          if (token = this.tokenizer.tag(src)) {
            src = src.substring(token.raw.length);
            lastToken = tokens[tokens.length - 1];
            if (lastToken && token.type === 'text' && lastToken.type === 'text') {
              lastToken.raw += token.raw;
              lastToken.text += token.text;
            } else {
              tokens.push(token);
            }
            continue;
          }

          // link
          if (token = this.tokenizer.link(src)) {
            src = src.substring(token.raw.length);
            tokens.push(token);
            continue;
          }

          // reflink, nolink
          if (token = this.tokenizer.reflink(src, this.tokens.links)) {
            src = src.substring(token.raw.length);
            lastToken = tokens[tokens.length - 1];
            if (lastToken && token.type === 'text' && lastToken.type === 'text') {
              lastToken.raw += token.raw;
              lastToken.text += token.text;
            } else {
              tokens.push(token);
            }
            continue;
          }

          // em & strong
          if (token = this.tokenizer.emStrong(src, maskedSrc, prevChar)) {
            src = src.substring(token.raw.length);
            tokens.push(token);
            continue;
          }

          // code
          if (token = this.tokenizer.codespan(src)) {
            src = src.substring(token.raw.length);
            tokens.push(token);
            continue;
          }

          // br
          if (token = this.tokenizer.br(src)) {
            src = src.substring(token.raw.length);
            tokens.push(token);
            continue;
          }

          // del (gfm)
          if (token = this.tokenizer.del(src)) {
            src = src.substring(token.raw.length);
            tokens.push(token);
            continue;
          }

          // autolink
          if (token = this.tokenizer.autolink(src, mangle)) {
            src = src.substring(token.raw.length);
            tokens.push(token);
            continue;
          }

          // url (gfm)
          if (!this.state.inLink && (token = this.tokenizer.url(src, mangle))) {
            src = src.substring(token.raw.length);
            tokens.push(token);
            continue;
          }

          // text
          // prevent inlineText consuming extensions by clipping 'src' to extension start
          cutSrc = src;
          if (this.options.extensions && this.options.extensions.startInline) {
            let startIndex = Infinity;
            const tempSrc = src.slice(1);
            let tempStart;
            this.options.extensions.startInline.forEach(function(getStartIndex) {
              tempStart = getStartIndex.call({ lexer: this }, tempSrc);
              if (typeof tempStart === 'number' && tempStart >= 0) { startIndex = Math.min(startIndex, tempStart); }
            });
            if (startIndex < Infinity && startIndex >= 0) {
              cutSrc = src.substring(0, startIndex + 1);
            }
          }
          if (token = this.tokenizer.inlineText(cutSrc, smartypants)) {
            src = src.substring(token.raw.length);
            if (token.raw.slice(-1) !== '_') { // Track prevChar before string of ____ started
              prevChar = token.raw.slice(-1);
            }
            keepPrevChar = true;
            lastToken = tokens[tokens.length - 1];
            if (lastToken && lastToken.type === 'text') {
              lastToken.raw += token.raw;
              lastToken.text += token.text;
            } else {
              tokens.push(token);
            }
            continue;
          }

          if (src) {
            const errMsg = 'Infinite loop on byte: ' + src.charCodeAt(0);
            if (this.options.silent) {
              console.error(errMsg);
              break;
            } else {
              throw new Error(errMsg);
            }
          }
        }

        return tokens;
      }
    }

    /**
     * Renderer
     */
    class Renderer {
      constructor(options) {
        this.options = options || defaults;
      }

      code(code, infostring, escaped) {
        const lang = (infostring || '').match(/\S*/)[0];
        if (this.options.highlight) {
          const out = this.options.highlight(code, lang);
          if (out != null && out !== code) {
            escaped = true;
            code = out;
          }
        }

        code = code.replace(/\n$/, '') + '\n';

        if (!lang) {
          return '<pre><code>'
            + (escaped ? code : escape(code, true))
            + '</code></pre>\n';
        }

        return '<pre><code class="'
          + this.options.langPrefix
          + escape(lang, true)
          + '">'
          + (escaped ? code : escape(code, true))
          + '</code></pre>\n';
      }

      /**
       * @param {string} quote
       */
      blockquote(quote) {
        return `<blockquote>\n${quote}</blockquote>\n`;
      }

      html(html) {
        return html;
      }

      /**
       * @param {string} text
       * @param {string} level
       * @param {string} raw
       * @param {any} slugger
       */
      heading(text, level, raw, slugger) {
        if (this.options.headerIds) {
          const id = this.options.headerPrefix + slugger.slug(raw);
          return `<h${level} id="${id}">${text}</h${level}>\n`;
        }

        // ignore IDs
        return `<h${level}>${text}</h${level}>\n`;
      }

      hr() {
        return this.options.xhtml ? '<hr/>\n' : '<hr>\n';
      }

      list(body, ordered, start) {
        const type = ordered ? 'ol' : 'ul',
          startatt = (ordered && start !== 1) ? (' start="' + start + '"') : '';
        return '<' + type + startatt + '>\n' + body + '</' + type + '>\n';
      }

      /**
       * @param {string} text
       */
      listitem(text) {
        return `<li>${text}</li>\n`;
      }

      checkbox(checked) {
        return '<input '
          + (checked ? 'checked="" ' : '')
          + 'disabled="" type="checkbox"'
          + (this.options.xhtml ? ' /' : '')
          + '> ';
      }

      /**
       * @param {string} text
       */
      paragraph(text) {
        return `<p>${text}</p>\n`;
      }

      /**
       * @param {string} header
       * @param {string} body
       */
      table(header, body) {
        if (body) body = `<tbody>${body}</tbody>`;

        return '<table>\n'
          + '<thead>\n'
          + header
          + '</thead>\n'
          + body
          + '</table>\n';
      }

      /**
       * @param {string} content
       */
      tablerow(content) {
        return `<tr>\n${content}</tr>\n`;
      }

      tablecell(content, flags) {
        const type = flags.header ? 'th' : 'td';
        const tag = flags.align
          ? `<${type} align="${flags.align}">`
          : `<${type}>`;
        return tag + content + `</${type}>\n`;
      }

      /**
       * span level renderer
       * @param {string} text
       */
      strong(text) {
        return `<strong>${text}</strong>`;
      }

      /**
       * @param {string} text
       */
      em(text) {
        return `<em>${text}</em>`;
      }

      /**
       * @param {string} text
       */
      codespan(text) {
        return `<code>${text}</code>`;
      }

      br() {
        return this.options.xhtml ? '<br/>' : '<br>';
      }

      /**
       * @param {string} text
       */
      del(text) {
        return `<del>${text}</del>`;
      }

      /**
       * @param {string} href
       * @param {string} title
       * @param {string} text
       */
      link(href, title, text) {
        href = cleanUrl(this.options.sanitize, this.options.baseUrl, href);
        if (href === null) {
          return text;
        }
        let out = '<a href="' + escape(href) + '"';
        if (title) {
          out += ' title="' + title + '"';
        }
        out += '>' + text + '</a>';
        return out;
      }

      /**
       * @param {string} href
       * @param {string} title
       * @param {string} text
       */
      image(href, title, text) {
        href = cleanUrl(this.options.sanitize, this.options.baseUrl, href);
        if (href === null) {
          return text;
        }

        let out = `<img src="${href}" alt="${text}"`;
        if (title) {
          out += ` title="${title}"`;
        }
        out += this.options.xhtml ? '/>' : '>';
        return out;
      }

      text(text) {
        return text;
      }
    }

    /**
     * TextRenderer
     * returns only the textual part of the token
     */
    class TextRenderer {
      // no need for block level renderers
      strong(text) {
        return text;
      }

      em(text) {
        return text;
      }

      codespan(text) {
        return text;
      }

      del(text) {
        return text;
      }

      html(text) {
        return text;
      }

      text(text) {
        return text;
      }

      link(href, title, text) {
        return '' + text;
      }

      image(href, title, text) {
        return '' + text;
      }

      br() {
        return '';
      }
    }

    /**
     * Slugger generates header id
     */
    class Slugger {
      constructor() {
        this.seen = {};
      }

      /**
       * @param {string} value
       */
      serialize(value) {
        return value
          .toLowerCase()
          .trim()
          // remove html tags
          .replace(/<[!\/a-z].*?>/ig, '')
          // remove unwanted chars
          .replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g, '')
          .replace(/\s/g, '-');
      }

      /**
       * Finds the next safe (unique) slug to use
       * @param {string} originalSlug
       * @param {boolean} isDryRun
       */
      getNextSafeSlug(originalSlug, isDryRun) {
        let slug = originalSlug;
        let occurenceAccumulator = 0;
        if (this.seen.hasOwnProperty(slug)) {
          occurenceAccumulator = this.seen[originalSlug];
          do {
            occurenceAccumulator++;
            slug = originalSlug + '-' + occurenceAccumulator;
          } while (this.seen.hasOwnProperty(slug));
        }
        if (!isDryRun) {
          this.seen[originalSlug] = occurenceAccumulator;
          this.seen[slug] = 0;
        }
        return slug;
      }

      /**
       * Convert string to unique id
       * @param {object} [options]
       * @param {boolean} [options.dryrun] Generates the next unique slug without
       * updating the internal accumulator.
       */
      slug(value, options = {}) {
        const slug = this.serialize(value);
        return this.getNextSafeSlug(slug, options.dryrun);
      }
    }

    /**
     * Parsing & Compiling
     */
    class Parser {
      constructor(options) {
        this.options = options || defaults;
        this.options.renderer = this.options.renderer || new Renderer();
        this.renderer = this.options.renderer;
        this.renderer.options = this.options;
        this.textRenderer = new TextRenderer();
        this.slugger = new Slugger();
      }

      /**
       * Static Parse Method
       */
      static parse(tokens, options) {
        const parser = new Parser(options);
        return parser.parse(tokens);
      }

      /**
       * Static Parse Inline Method
       */
      static parseInline(tokens, options) {
        const parser = new Parser(options);
        return parser.parseInline(tokens);
      }

      /**
       * Parse Loop
       */
      parse(tokens, top = true) {
        let out = '',
          i,
          j,
          k,
          l2,
          l3,
          row,
          cell,
          header,
          body,
          token,
          ordered,
          start,
          loose,
          itemBody,
          item,
          checked,
          task,
          checkbox,
          ret;

        const l = tokens.length;
        for (i = 0; i < l; i++) {
          token = tokens[i];

          // Run any renderer extensions
          if (this.options.extensions && this.options.extensions.renderers && this.options.extensions.renderers[token.type]) {
            ret = this.options.extensions.renderers[token.type].call({ parser: this }, token);
            if (ret !== false || !['space', 'hr', 'heading', 'code', 'table', 'blockquote', 'list', 'html', 'paragraph', 'text'].includes(token.type)) {
              out += ret || '';
              continue;
            }
          }

          switch (token.type) {
            case 'space': {
              continue;
            }
            case 'hr': {
              out += this.renderer.hr();
              continue;
            }
            case 'heading': {
              out += this.renderer.heading(
                this.parseInline(token.tokens),
                token.depth,
                unescape$1(this.parseInline(token.tokens, this.textRenderer)),
                this.slugger);
              continue;
            }
            case 'code': {
              out += this.renderer.code(token.text,
                token.lang,
                token.escaped);
              continue;
            }
            case 'table': {
              header = '';

              // header
              cell = '';
              l2 = token.header.length;
              for (j = 0; j < l2; j++) {
                cell += this.renderer.tablecell(
                  this.parseInline(token.header[j].tokens),
                  { header: true, align: token.align[j] }
                );
              }
              header += this.renderer.tablerow(cell);

              body = '';
              l2 = token.rows.length;
              for (j = 0; j < l2; j++) {
                row = token.rows[j];

                cell = '';
                l3 = row.length;
                for (k = 0; k < l3; k++) {
                  cell += this.renderer.tablecell(
                    this.parseInline(row[k].tokens),
                    { header: false, align: token.align[k] }
                  );
                }

                body += this.renderer.tablerow(cell);
              }
              out += this.renderer.table(header, body);
              continue;
            }
            case 'blockquote': {
              body = this.parse(token.tokens);
              out += this.renderer.blockquote(body);
              continue;
            }
            case 'list': {
              ordered = token.ordered;
              start = token.start;
              loose = token.loose;
              l2 = token.items.length;

              body = '';
              for (j = 0; j < l2; j++) {
                item = token.items[j];
                checked = item.checked;
                task = item.task;

                itemBody = '';
                if (item.task) {
                  checkbox = this.renderer.checkbox(checked);
                  if (loose) {
                    if (item.tokens.length > 0 && item.tokens[0].type === 'paragraph') {
                      item.tokens[0].text = checkbox + ' ' + item.tokens[0].text;
                      if (item.tokens[0].tokens && item.tokens[0].tokens.length > 0 && item.tokens[0].tokens[0].type === 'text') {
                        item.tokens[0].tokens[0].text = checkbox + ' ' + item.tokens[0].tokens[0].text;
                      }
                    } else {
                      item.tokens.unshift({
                        type: 'text',
                        text: checkbox
                      });
                    }
                  } else {
                    itemBody += checkbox;
                  }
                }

                itemBody += this.parse(item.tokens, loose);
                body += this.renderer.listitem(itemBody, task, checked);
              }

              out += this.renderer.list(body, ordered, start);
              continue;
            }
            case 'html': {
              // TODO parse inline content if parameter markdown=1
              out += this.renderer.html(token.text);
              continue;
            }
            case 'paragraph': {
              out += this.renderer.paragraph(this.parseInline(token.tokens));
              continue;
            }
            case 'text': {
              body = token.tokens ? this.parseInline(token.tokens) : token.text;
              while (i + 1 < l && tokens[i + 1].type === 'text') {
                token = tokens[++i];
                body += '\n' + (token.tokens ? this.parseInline(token.tokens) : token.text);
              }
              out += top ? this.renderer.paragraph(body) : body;
              continue;
            }

            default: {
              const errMsg = 'Token with "' + token.type + '" type was not found.';
              if (this.options.silent) {
                console.error(errMsg);
                return;
              } else {
                throw new Error(errMsg);
              }
            }
          }
        }

        return out;
      }

      /**
       * Parse Inline Tokens
       */
      parseInline(tokens, renderer) {
        renderer = renderer || this.renderer;
        let out = '',
          i,
          token,
          ret;

        const l = tokens.length;
        for (i = 0; i < l; i++) {
          token = tokens[i];

          // Run any renderer extensions
          if (this.options.extensions && this.options.extensions.renderers && this.options.extensions.renderers[token.type]) {
            ret = this.options.extensions.renderers[token.type].call({ parser: this }, token);
            if (ret !== false || !['escape', 'html', 'link', 'image', 'strong', 'em', 'codespan', 'br', 'del', 'text'].includes(token.type)) {
              out += ret || '';
              continue;
            }
          }

          switch (token.type) {
            case 'escape': {
              out += renderer.text(token.text);
              break;
            }
            case 'html': {
              out += renderer.html(token.text);
              break;
            }
            case 'link': {
              out += renderer.link(token.href, token.title, this.parseInline(token.tokens, renderer));
              break;
            }
            case 'image': {
              out += renderer.image(token.href, token.title, token.text);
              break;
            }
            case 'strong': {
              out += renderer.strong(this.parseInline(token.tokens, renderer));
              break;
            }
            case 'em': {
              out += renderer.em(this.parseInline(token.tokens, renderer));
              break;
            }
            case 'codespan': {
              out += renderer.codespan(token.text);
              break;
            }
            case 'br': {
              out += renderer.br();
              break;
            }
            case 'del': {
              out += renderer.del(this.parseInline(token.tokens, renderer));
              break;
            }
            case 'text': {
              out += renderer.text(token.text);
              break;
            }
            default: {
              const errMsg = 'Token with "' + token.type + '" type was not found.';
              if (this.options.silent) {
                console.error(errMsg);
                return;
              } else {
                throw new Error(errMsg);
              }
            }
          }
        }
        return out;
      }
    }

    /**
     * Marked
     */
    function marked(src, opt, callback) {
      // throw error in case of non string input
      if (typeof src === 'undefined' || src === null) {
        throw new Error('marked(): input parameter is undefined or null');
      }
      if (typeof src !== 'string') {
        throw new Error('marked(): input parameter is of type '
          + Object.prototype.toString.call(src) + ', string expected');
      }

      if (typeof opt === 'function') {
        callback = opt;
        opt = null;
      }

      opt = merge({}, marked.defaults, opt || {});
      checkSanitizeDeprecation(opt);

      if (callback) {
        const highlight = opt.highlight;
        let tokens;

        try {
          tokens = Lexer.lex(src, opt);
        } catch (e) {
          return callback(e);
        }

        const done = function(err) {
          let out;

          if (!err) {
            try {
              if (opt.walkTokens) {
                marked.walkTokens(tokens, opt.walkTokens);
              }
              out = Parser.parse(tokens, opt);
            } catch (e) {
              err = e;
            }
          }

          opt.highlight = highlight;

          return err
            ? callback(err)
            : callback(null, out);
        };

        if (!highlight || highlight.length < 3) {
          return done();
        }

        delete opt.highlight;

        if (!tokens.length) return done();

        let pending = 0;
        marked.walkTokens(tokens, function(token) {
          if (token.type === 'code') {
            pending++;
            setTimeout(() => {
              highlight(token.text, token.lang, function(err, code) {
                if (err) {
                  return done(err);
                }
                if (code != null && code !== token.text) {
                  token.text = code;
                  token.escaped = true;
                }

                pending--;
                if (pending === 0) {
                  done();
                }
              });
            }, 0);
          }
        });

        if (pending === 0) {
          done();
        }

        return;
      }

      function onError(e) {
        e.message += '\nPlease report this to https://github.com/markedjs/marked.';
        if (opt.silent) {
          return '<p>An error occurred:</p><pre>'
            + escape(e.message + '', true)
            + '</pre>';
        }
        throw e;
      }

      try {
        const tokens = Lexer.lex(src, opt);
        if (opt.walkTokens) {
          if (opt.async) {
            return Promise.all(marked.walkTokens(tokens, opt.walkTokens))
              .then(() => {
                return Parser.parse(tokens, opt);
              })
              .catch(onError);
          }
          marked.walkTokens(tokens, opt.walkTokens);
        }
        return Parser.parse(tokens, opt);
      } catch (e) {
        onError(e);
      }
    }

    /**
     * Options
     */

    marked.options =
    marked.setOptions = function(opt) {
      merge(marked.defaults, opt);
      changeDefaults(marked.defaults);
      return marked;
    };

    marked.getDefaults = getDefaults;

    marked.defaults = defaults;

    /**
     * Use Extension
     */

    marked.use = function(...args) {
      const opts = merge({}, ...args);
      const extensions = marked.defaults.extensions || { renderers: {}, childTokens: {} };
      let hasExtensions;

      args.forEach((pack) => {
        // ==-- Parse "addon" extensions --== //
        if (pack.extensions) {
          hasExtensions = true;
          pack.extensions.forEach((ext) => {
            if (!ext.name) {
              throw new Error('extension name required');
            }
            if (ext.renderer) { // Renderer extensions
              const prevRenderer = extensions.renderers ? extensions.renderers[ext.name] : null;
              if (prevRenderer) {
                // Replace extension with func to run new extension but fall back if false
                extensions.renderers[ext.name] = function(...args) {
                  let ret = ext.renderer.apply(this, args);
                  if (ret === false) {
                    ret = prevRenderer.apply(this, args);
                  }
                  return ret;
                };
              } else {
                extensions.renderers[ext.name] = ext.renderer;
              }
            }
            if (ext.tokenizer) { // Tokenizer Extensions
              if (!ext.level || (ext.level !== 'block' && ext.level !== 'inline')) {
                throw new Error("extension level must be 'block' or 'inline'");
              }
              if (extensions[ext.level]) {
                extensions[ext.level].unshift(ext.tokenizer);
              } else {
                extensions[ext.level] = [ext.tokenizer];
              }
              if (ext.start) { // Function to check for start of token
                if (ext.level === 'block') {
                  if (extensions.startBlock) {
                    extensions.startBlock.push(ext.start);
                  } else {
                    extensions.startBlock = [ext.start];
                  }
                } else if (ext.level === 'inline') {
                  if (extensions.startInline) {
                    extensions.startInline.push(ext.start);
                  } else {
                    extensions.startInline = [ext.start];
                  }
                }
              }
            }
            if (ext.childTokens) { // Child tokens to be visited by walkTokens
              extensions.childTokens[ext.name] = ext.childTokens;
            }
          });
        }

        // ==-- Parse "overwrite" extensions --== //
        if (pack.renderer) {
          const renderer = marked.defaults.renderer || new Renderer();
          for (const prop in pack.renderer) {
            const prevRenderer = renderer[prop];
            // Replace renderer with func to run extension, but fall back if false
            renderer[prop] = (...args) => {
              let ret = pack.renderer[prop].apply(renderer, args);
              if (ret === false) {
                ret = prevRenderer.apply(renderer, args);
              }
              return ret;
            };
          }
          opts.renderer = renderer;
        }
        if (pack.tokenizer) {
          const tokenizer = marked.defaults.tokenizer || new Tokenizer();
          for (const prop in pack.tokenizer) {
            const prevTokenizer = tokenizer[prop];
            // Replace tokenizer with func to run extension, but fall back if false
            tokenizer[prop] = (...args) => {
              let ret = pack.tokenizer[prop].apply(tokenizer, args);
              if (ret === false) {
                ret = prevTokenizer.apply(tokenizer, args);
              }
              return ret;
            };
          }
          opts.tokenizer = tokenizer;
        }

        // ==-- Parse WalkTokens extensions --== //
        if (pack.walkTokens) {
          const walkTokens = marked.defaults.walkTokens;
          opts.walkTokens = function(token) {
            let values = [];
            values.push(pack.walkTokens.call(this, token));
            if (walkTokens) {
              values = values.concat(walkTokens.call(this, token));
            }
            return values;
          };
        }

        if (hasExtensions) {
          opts.extensions = extensions;
        }

        marked.setOptions(opts);
      });
    };

    /**
     * Run callback for every token
     */

    marked.walkTokens = function(tokens, callback) {
      let values = [];
      for (const token of tokens) {
        values = values.concat(callback.call(marked, token));
        switch (token.type) {
          case 'table': {
            for (const cell of token.header) {
              values = values.concat(marked.walkTokens(cell.tokens, callback));
            }
            for (const row of token.rows) {
              for (const cell of row) {
                values = values.concat(marked.walkTokens(cell.tokens, callback));
              }
            }
            break;
          }
          case 'list': {
            values = values.concat(marked.walkTokens(token.items, callback));
            break;
          }
          default: {
            if (marked.defaults.extensions && marked.defaults.extensions.childTokens && marked.defaults.extensions.childTokens[token.type]) { // Walk any extensions
              marked.defaults.extensions.childTokens[token.type].forEach(function(childTokens) {
                values = values.concat(marked.walkTokens(token[childTokens], callback));
              });
            } else if (token.tokens) {
              values = values.concat(marked.walkTokens(token.tokens, callback));
            }
          }
        }
      }
      return values;
    };

    /**
     * Parse Inline
     * @param {string} src
     */
    marked.parseInline = function(src, opt) {
      // throw error in case of non string input
      if (typeof src === 'undefined' || src === null) {
        throw new Error('marked.parseInline(): input parameter is undefined or null');
      }
      if (typeof src !== 'string') {
        throw new Error('marked.parseInline(): input parameter is of type '
          + Object.prototype.toString.call(src) + ', string expected');
      }

      opt = merge({}, marked.defaults, opt || {});
      checkSanitizeDeprecation(opt);

      try {
        const tokens = Lexer.lexInline(src, opt);
        if (opt.walkTokens) {
          marked.walkTokens(tokens, opt.walkTokens);
        }
        return Parser.parseInline(tokens, opt);
      } catch (e) {
        e.message += '\nPlease report this to https://github.com/markedjs/marked.';
        if (opt.silent) {
          return '<p>An error occurred:</p><pre>'
            + escape(e.message + '', true)
            + '</pre>';
        }
        throw e;
      }
    };

    /**
     * Expose
     */
    marked.Parser = Parser;
    marked.parser = Parser.parse;
    marked.Renderer = Renderer;
    marked.TextRenderer = TextRenderer;
    marked.Lexer = Lexer;
    marked.lexer = Lexer.lex;
    marked.Tokenizer = Tokenizer;
    marked.Slugger = Slugger;
    marked.parse = marked;

    marked.options;
    marked.setOptions;
    marked.use;
    marked.walkTokens;
    marked.parseInline;
    Parser.parse;
    Lexer.lex;

    const key = {};

    /* node_modules\svelte-markdown\src\renderers\Heading.svelte generated by Svelte v3.52.0 */
    const file$s = "node_modules\\svelte-markdown\\src\\renderers\\Heading.svelte";

    // (28:0) {:else}
    function create_else_block$4(ctx) {
    	let t;

    	const block = {
    		c: function create() {
    			t = text(/*raw*/ ctx[1]);
    		},
    		m: function mount(target, anchor) {
    			insert_dev(target, t, anchor);
    		},
    		p: function update(ctx, dirty) {
    			if (dirty & /*raw*/ 2) set_data_dev(t, /*raw*/ ctx[1]);
    		},
    		i: noop,
    		o: noop,
    		d: function destroy(detaching) {
    			if (detaching) detach_dev(t);
    		}
    	};

    	dispatch_dev("SvelteRegisterBlock", {
    		block,
    		id: create_else_block$4.name,
    		type: "else",
    		source: "(28:0) {:else}",
    		ctx
    	});

    	return block;
    }

    // (26:22) 
    function create_if_block_5(ctx) {
    	let h6;
    	let current;
    	const default_slot_template = /*#slots*/ ctx[5].default;
    	const default_slot = create_slot(default_slot_template, ctx, /*$$scope*/ ctx[4], null);

    	const block = {
    		c: function create() {
    			h6 = element("h6");
    			if (default_slot) default_slot.c();
    			attr_dev(h6, "id", /*id*/ ctx[2]);
    			add_location(h6, file$s, 26, 2, 596);
    		},
    		m: function mount(target, anchor) {
    			insert_dev(target, h6, anchor);

    			if (default_slot) {
    				default_slot.m(h6, null);
    			}

    			current = true;
    		},
    		p: function update(ctx, dirty) {
    			if (default_slot) {
    				if (default_slot.p && (!current || dirty & /*$$scope*/ 16)) {
    					update_slot_base(
    						default_slot,
    						default_slot_template,
    						ctx,
    						/*$$scope*/ ctx[4],
    						!current
    						? get_all_dirty_from_scope(/*$$scope*/ ctx[4])
    						: get_slot_changes(default_slot_template, /*$$scope*/ ctx[4], dirty, null),
    						null
    					);
    				}
    			}

    			if (!current || dirty & /*id*/ 4) {
    				attr_dev(h6, "id", /*id*/ ctx[2]);
    			}
    		},
    		i: function intro(local) {
    			if (current) return;
    			transition_in(default_slot, local);
    			current = true;
    		},
    		o: function outro(local) {
    			transition_out(default_slot, local);
    			current = false;
    		},
    		d: function destroy(detaching) {
    			if (detaching) detach_dev(h6);
    			if (default_slot) default_slot.d(detaching);
    		}
    	};

    	dispatch_dev("SvelteRegisterBlock", {
    		block,
    		id: create_if_block_5.name,
    		type: "if",
    		source: "(26:22) ",
    		ctx
    	});

    	return block;
    }

    // (24:22) 
    function create_if_block_4(ctx) {
    	let h5;
    	let current;
    	const default_slot_template = /*#slots*/ ctx[5].default;
    	const default_slot = create_slot(default_slot_template, ctx, /*$$scope*/ ctx[4], null);

    	const block = {
    		c: function create() {
    			h5 = element("h5");
    			if (default_slot) default_slot.c();
    			attr_dev(h5, "id", /*id*/ ctx[2]);
    			add_location(h5, file$s, 24, 2, 543);
    		},
    		m: function mount(target, anchor) {
    			insert_dev(target, h5, anchor);

    			if (default_slot) {
    				default_slot.m(h5, null);
    			}

    			current = true;
    		},
    		p: function update(ctx, dirty) {
    			if (default_slot) {
    				if (default_slot.p && (!current || dirty & /*$$scope*/ 16)) {
    					update_slot_base(
    						default_slot,
    						default_slot_template,
    						ctx,
    						/*$$scope*/ ctx[4],
    						!current
    						? get_all_dirty_from_scope(/*$$scope*/ ctx[4])
    						: get_slot_changes(default_slot_template, /*$$scope*/ ctx[4], dirty, null),
    						null
    					);
    				}
    			}

    			if (!current || dirty & /*id*/ 4) {
    				attr_dev(h5, "id", /*id*/ ctx[2]);
    			}
    		},
    		i: function intro(local) {
    			if (current) return;
    			transition_in(default_slot, local);
    			current = true;
    		},
    		o: function outro(local) {
    			transition_out(default_slot, local);
    			current = false;
    		},
    		d: function destroy(detaching) {
    			if (detaching) detach_dev(h5);
    			if (default_slot) default_slot.d(detaching);
    		}
    	};

    	dispatch_dev("SvelteRegisterBlock", {
    		block,
    		id: create_if_block_4.name,
    		type: "if",
    		source: "(24:22) ",
    		ctx
    	});

    	return block;
    }

    // (22:22) 
    function create_if_block_3(ctx) {
    	let h4;
    	let current;
    	const default_slot_template = /*#slots*/ ctx[5].default;
    	const default_slot = create_slot(default_slot_template, ctx, /*$$scope*/ ctx[4], null);

    	const block = {
    		c: function create() {
    			h4 = element("h4");
    			if (default_slot) default_slot.c();
    			attr_dev(h4, "id", /*id*/ ctx[2]);
    			add_location(h4, file$s, 22, 2, 490);
    		},
    		m: function mount(target, anchor) {
    			insert_dev(target, h4, anchor);

    			if (default_slot) {
    				default_slot.m(h4, null);
    			}

    			current = true;
    		},
    		p: function update(ctx, dirty) {
    			if (default_slot) {
    				if (default_slot.p && (!current || dirty & /*$$scope*/ 16)) {
    					update_slot_base(
    						default_slot,
    						default_slot_template,
    						ctx,
    						/*$$scope*/ ctx[4],
    						!current
    						? get_all_dirty_from_scope(/*$$scope*/ ctx[4])
    						: get_slot_changes(default_slot_template, /*$$scope*/ ctx[4], dirty, null),
    						null
    					);
    				}
    			}

    			if (!current || dirty & /*id*/ 4) {
    				attr_dev(h4, "id", /*id*/ ctx[2]);
    			}
    		},
    		i: function intro(local) {
    			if (current) return;
    			transition_in(default_slot, local);
    			current = true;
    		},
    		o: function outro(local) {
    			transition_out(default_slot, local);
    			current = false;
    		},
    		d: function destroy(detaching) {
    			if (detaching) detach_dev(h4);
    			if (default_slot) default_slot.d(detaching);
    		}
    	};

    	dispatch_dev("SvelteRegisterBlock", {
    		block,
    		id: create_if_block_3.name,
    		type: "if",
    		source: "(22:22) ",
    		ctx
    	});

    	return block;
    }

    // (20:22) 
    function create_if_block_2$2(ctx) {
    	let h3;
    	let current;
    	const default_slot_template = /*#slots*/ ctx[5].default;
    	const default_slot = create_slot(default_slot_template, ctx, /*$$scope*/ ctx[4], null);

    	const block = {
    		c: function create() {
    			h3 = element("h3");
    			if (default_slot) default_slot.c();
    			attr_dev(h3, "id", /*id*/ ctx[2]);
    			add_location(h3, file$s, 20, 2, 437);
    		},
    		m: function mount(target, anchor) {
    			insert_dev(target, h3, anchor);

    			if (default_slot) {
    				default_slot.m(h3, null);
    			}

    			current = true;
    		},
    		p: function update(ctx, dirty) {
    			if (default_slot) {
    				if (default_slot.p && (!current || dirty & /*$$scope*/ 16)) {
    					update_slot_base(
    						default_slot,
    						default_slot_template,
    						ctx,
    						/*$$scope*/ ctx[4],
    						!current
    						? get_all_dirty_from_scope(/*$$scope*/ ctx[4])
    						: get_slot_changes(default_slot_template, /*$$scope*/ ctx[4], dirty, null),
    						null
    					);
    				}
    			}

    			if (!current || dirty & /*id*/ 4) {
    				attr_dev(h3, "id", /*id*/ ctx[2]);
    			}
    		},
    		i: function intro(local) {
    			if (current) return;
    			transition_in(default_slot, local);
    			current = true;
    		},
    		o: function outro(local) {
    			transition_out(default_slot, local);
    			current = false;
    		},
    		d: function destroy(detaching) {
    			if (detaching) detach_dev(h3);
    			if (default_slot) default_slot.d(detaching);
    		}
    	};

    	dispatch_dev("SvelteRegisterBlock", {
    		block,
    		id: create_if_block_2$2.name,
    		type: "if",
    		source: "(20:22) ",
    		ctx
    	});

    	return block;
    }

    // (18:22) 
    function create_if_block_1$3(ctx) {
    	let h2;
    	let current;
    	const default_slot_template = /*#slots*/ ctx[5].default;
    	const default_slot = create_slot(default_slot_template, ctx, /*$$scope*/ ctx[4], null);

    	const block = {
    		c: function create() {
    			h2 = element("h2");
    			if (default_slot) default_slot.c();
    			attr_dev(h2, "id", /*id*/ ctx[2]);
    			add_location(h2, file$s, 18, 2, 384);
    		},
    		m: function mount(target, anchor) {
    			insert_dev(target, h2, anchor);

    			if (default_slot) {
    				default_slot.m(h2, null);
    			}

    			current = true;
    		},
    		p: function update(ctx, dirty) {
    			if (default_slot) {
    				if (default_slot.p && (!current || dirty & /*$$scope*/ 16)) {
    					update_slot_base(
    						default_slot,
    						default_slot_template,
    						ctx,
    						/*$$scope*/ ctx[4],
    						!current
    						? get_all_dirty_from_scope(/*$$scope*/ ctx[4])
    						: get_slot_changes(default_slot_template, /*$$scope*/ ctx[4], dirty, null),
    						null
    					);
    				}
    			}

    			if (!current || dirty & /*id*/ 4) {
    				attr_dev(h2, "id", /*id*/ ctx[2]);
    			}
    		},
    		i: function intro(local) {
    			if (current) return;
    			transition_in(default_slot, local);
    			current = true;
    		},
    		o: function outro(local) {
    			transition_out(default_slot, local);
    			current = false;
    		},
    		d: function destroy(detaching) {
    			if (detaching) detach_dev(h2);
    			if (default_slot) default_slot.d(detaching);
    		}
    	};

    	dispatch_dev("SvelteRegisterBlock", {
    		block,
    		id: create_if_block_1$3.name,
    		type: "if",
    		source: "(18:22) ",
    		ctx
    	});

    	return block;
    }

    // (16:0) {#if depth === 1}
    function create_if_block$8(ctx) {
    	let h1;
    	let current;
    	const default_slot_template = /*#slots*/ ctx[5].default;
    	const default_slot = create_slot(default_slot_template, ctx, /*$$scope*/ ctx[4], null);

    	const block = {
    		c: function create() {
    			h1 = element("h1");
    			if (default_slot) default_slot.c();
    			attr_dev(h1, "id", /*id*/ ctx[2]);
    			add_location(h1, file$s, 16, 2, 331);
    		},
    		m: function mount(target, anchor) {
    			insert_dev(target, h1, anchor);

    			if (default_slot) {
    				default_slot.m(h1, null);
    			}

    			current = true;
    		},
    		p: function update(ctx, dirty) {
    			if (default_slot) {
    				if (default_slot.p && (!current || dirty & /*$$scope*/ 16)) {
    					update_slot_base(
    						default_slot,
    						default_slot_template,
    						ctx,
    						/*$$scope*/ ctx[4],
    						!current
    						? get_all_dirty_from_scope(/*$$scope*/ ctx[4])
    						: get_slot_changes(default_slot_template, /*$$scope*/ ctx[4], dirty, null),
    						null
    					);
    				}
    			}

    			if (!current || dirty & /*id*/ 4) {
    				attr_dev(h1, "id", /*id*/ ctx[2]);
    			}
    		},
    		i: function intro(local) {
    			if (current) return;
    			transition_in(default_slot, local);
    			current = true;
    		},
    		o: function outro(local) {
    			transition_out(default_slot, local);
    			current = false;
    		},
    		d: function destroy(detaching) {
    			if (detaching) detach_dev(h1);
    			if (default_slot) default_slot.d(detaching);
    		}
    	};

    	dispatch_dev("SvelteRegisterBlock", {
    		block,
    		id: create_if_block$8.name,
    		type: "if",
    		source: "(16:0) {#if depth === 1}",
    		ctx
    	});

    	return block;
    }

    function create_fragment$C(ctx) {
    	let current_block_type_index;
    	let if_block;
    	let if_block_anchor;
    	let current;

    	const if_block_creators = [
    		create_if_block$8,
    		create_if_block_1$3,
    		create_if_block_2$2,
    		create_if_block_3,
    		create_if_block_4,
    		create_if_block_5,
    		create_else_block$4
    	];

    	const if_blocks = [];

    	function select_block_type(ctx, dirty) {
    		if (/*depth*/ ctx[0] === 1) return 0;
    		if (/*depth*/ ctx[0] === 2) return 1;
    		if (/*depth*/ ctx[0] === 3) return 2;
    		if (/*depth*/ ctx[0] === 4) return 3;
    		if (/*depth*/ ctx[0] === 5) return 4;
    		if (/*depth*/ ctx[0] === 6) return 5;
    		return 6;
    	}

    	current_block_type_index = select_block_type(ctx);
    	if_block = if_blocks[current_block_type_index] = if_block_creators[current_block_type_index](ctx);

    	const block = {
    		c: function create() {
    			if_block.c();
    			if_block_anchor = empty();
    		},
    		l: function claim(nodes) {
    			throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option");
    		},
    		m: function mount(target, anchor) {
    			if_blocks[current_block_type_index].m(target, anchor);
    			insert_dev(target, if_block_anchor, anchor);
    			current = true;
    		},
    		p: function update(ctx, [dirty]) {
    			let previous_block_index = current_block_type_index;
    			current_block_type_index = select_block_type(ctx);

    			if (current_block_type_index === previous_block_index) {
    				if_blocks[current_block_type_index].p(ctx, dirty);
    			} else {
    				group_outros();

    				transition_out(if_blocks[previous_block_index], 1, 1, () => {
    					if_blocks[previous_block_index] = null;
    				});

    				check_outros();
    				if_block = if_blocks[current_block_type_index];

    				if (!if_block) {
    					if_block = if_blocks[current_block_type_index] = if_block_creators[current_block_type_index](ctx);
    					if_block.c();
    				} else {
    					if_block.p(ctx, dirty);
    				}

    				transition_in(if_block, 1);
    				if_block.m(if_block_anchor.parentNode, if_block_anchor);
    			}
    		},
    		i: function intro(local) {
    			if (current) return;
    			transition_in(if_block);
    			current = true;
    		},
    		o: function outro(local) {
    			transition_out(if_block);
    			current = false;
    		},
    		d: function destroy(detaching) {
    			if_blocks[current_block_type_index].d(detaching);
    			if (detaching) detach_dev(if_block_anchor);
    		}
    	};

    	dispatch_dev("SvelteRegisterBlock", {
    		block,
    		id: create_fragment$C.name,
    		type: "component",
    		source: "",
    		ctx
    	});

    	return block;
    }

    function instance$C($$self, $$props, $$invalidate) {
    	let id;
    	let { $$slots: slots = {}, $$scope } = $$props;
    	validate_slots('Heading', slots, ['default']);
    	let { depth } = $$props;
    	let { raw } = $$props;
    	let { text } = $$props;
    	const { slug, getOptions } = getContext(key);
    	const options = getOptions();

    	$$self.$$.on_mount.push(function () {
    		if (depth === undefined && !('depth' in $$props || $$self.$$.bound[$$self.$$.props['depth']])) {
    			console.warn("<Heading> was created without expected prop 'depth'");
    		}

    		if (raw === undefined && !('raw' in $$props || $$self.$$.bound[$$self.$$.props['raw']])) {
    			console.warn("<Heading> was created without expected prop 'raw'");
    		}

    		if (text === undefined && !('text' in $$props || $$self.$$.bound[$$self.$$.props['text']])) {
    			console.warn("<Heading> was created without expected prop 'text'");
    		}
    	});

    	const writable_props = ['depth', 'raw', 'text'];

    	Object.keys($$props).forEach(key => {
    		if (!~writable_props.indexOf(key) && key.slice(0, 2) !== '$$' && key !== 'slot') console.warn(`<Heading> was created with unknown prop '${key}'`);
    	});

    	$$self.$$set = $$props => {
    		if ('depth' in $$props) $$invalidate(0, depth = $$props.depth);
    		if ('raw' in $$props) $$invalidate(1, raw = $$props.raw);
    		if ('text' in $$props) $$invalidate(3, text = $$props.text);
    		if ('$$scope' in $$props) $$invalidate(4, $$scope = $$props.$$scope);
    	};

    	$$self.$capture_state = () => ({
    		getContext,
    		key,
    		depth,
    		raw,
    		text,
    		slug,
    		getOptions,
    		options,
    		id
    	});

    	$$self.$inject_state = $$props => {
    		if ('depth' in $$props) $$invalidate(0, depth = $$props.depth);
    		if ('raw' in $$props) $$invalidate(1, raw = $$props.raw);
    		if ('text' in $$props) $$invalidate(3, text = $$props.text);
    		if ('id' in $$props) $$invalidate(2, id = $$props.id);
    	};

    	if ($$props && "$$inject" in $$props) {
    		$$self.$inject_state($$props.$$inject);
    	}

    	$$self.$$.update = () => {
    		if ($$self.$$.dirty & /*text*/ 8) {
    			$$invalidate(2, id = options.headerIds
    			? options.headerPrefix + slug(text)
    			: undefined);
    		}
    	};

    	return [depth, raw, id, text, $$scope, slots];
    }

    class Heading extends SvelteComponentDev {
    	constructor(options) {
    		super(options);
    		init$1(this, options, instance$C, create_fragment$C, safe_not_equal, { depth: 0, raw: 1, text: 3 });

    		dispatch_dev("SvelteRegisterComponent", {
    			component: this,
    			tagName: "Heading",
    			options,
    			id: create_fragment$C.name
    		});
    	}

    	get depth() {
    		throw new Error("<Heading>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
    	}

    	set depth(value) {
    		throw new Error("<Heading>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
    	}

    	get raw() {
    		throw new Error("<Heading>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
    	}

    	set raw(value) {
    		throw new Error("<Heading>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
    	}

    	get text() {
    		throw new Error("<Heading>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
    	}

    	set text(value) {
    		throw new Error("<Heading>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
    	}
    }

    /* node_modules\svelte-markdown\src\renderers\Paragraph.svelte generated by Svelte v3.52.0 */

    const file$r = "node_modules\\svelte-markdown\\src\\renderers\\Paragraph.svelte";

    function create_fragment$B(ctx) {
    	let p;
    	let current;
    	const default_slot_template = /*#slots*/ ctx[1].default;
    	const default_slot = create_slot(default_slot_template, ctx, /*$$scope*/ ctx[0], null);

    	const block = {
    		c: function create() {
    			p = element("p");
    			if (default_slot) default_slot.c();
    			add_location(p, file$r, 0, 0, 0);
    		},
    		l: function claim(nodes) {
    			throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option");
    		},
    		m: function mount(target, anchor) {
    			insert_dev(target, p, anchor);

    			if (default_slot) {
    				default_slot.m(p, null);
    			}

    			current = true;
    		},
    		p: function update(ctx, [dirty]) {
    			if (default_slot) {
    				if (default_slot.p && (!current || dirty & /*$$scope*/ 1)) {
    					update_slot_base(
    						default_slot,
    						default_slot_template,
    						ctx,
    						/*$$scope*/ ctx[0],
    						!current
    						? get_all_dirty_from_scope(/*$$scope*/ ctx[0])
    						: get_slot_changes(default_slot_template, /*$$scope*/ ctx[0], dirty, null),
    						null
    					);
    				}
    			}
    		},
    		i: function intro(local) {
    			if (current) return;
    			transition_in(default_slot, local);
    			current = true;
    		},
    		o: function outro(local) {
    			transition_out(default_slot, local);
    			current = false;
    		},
    		d: function destroy(detaching) {
    			if (detaching) detach_dev(p);
    			if (default_slot) default_slot.d(detaching);
    		}
    	};

    	dispatch_dev("SvelteRegisterBlock", {
    		block,
    		id: create_fragment$B.name,
    		type: "component",
    		source: "",
    		ctx
    	});

    	return block;
    }

    function instance$B($$self, $$props, $$invalidate) {
    	let { $$slots: slots = {}, $$scope } = $$props;
    	validate_slots('Paragraph', slots, ['default']);
    	const writable_props = [];

    	Object.keys($$props).forEach(key => {
    		if (!~writable_props.indexOf(key) && key.slice(0, 2) !== '$$' && key !== 'slot') console.warn(`<Paragraph> was created with unknown prop '${key}'`);
    	});

    	$$self.$$set = $$props => {
    		if ('$$scope' in $$props) $$invalidate(0, $$scope = $$props.$$scope);
    	};

    	return [$$scope, slots];
    }

    class Paragraph extends SvelteComponentDev {
    	constructor(options) {
    		super(options);
    		init$1(this, options, instance$B, create_fragment$B, safe_not_equal, {});

    		dispatch_dev("SvelteRegisterComponent", {
    			component: this,
    			tagName: "Paragraph",
    			options,
    			id: create_fragment$B.name
    		});
    	}
    }

    /* node_modules\svelte-markdown\src\renderers\Text.svelte generated by Svelte v3.52.0 */

    function create_fragment$A(ctx) {
    	let current;
    	const default_slot_template = /*#slots*/ ctx[3].default;
    	const default_slot = create_slot(default_slot_template, ctx, /*$$scope*/ ctx[2], null);

    	const block = {
    		c: function create() {
    			if (default_slot) default_slot.c();
    		},
    		l: function claim(nodes) {
    			throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option");
    		},
    		m: function mount(target, anchor) {
    			if (default_slot) {
    				default_slot.m(target, anchor);
    			}

    			current = true;
    		},
    		p: function update(ctx, [dirty]) {
    			if (default_slot) {
    				if (default_slot.p && (!current || dirty & /*$$scope*/ 4)) {
    					update_slot_base(
    						default_slot,
    						default_slot_template,
    						ctx,
    						/*$$scope*/ ctx[2],
    						!current
    						? get_all_dirty_from_scope(/*$$scope*/ ctx[2])
    						: get_slot_changes(default_slot_template, /*$$scope*/ ctx[2], dirty, null),
    						null
    					);
    				}
    			}
    		},
    		i: function intro(local) {
    			if (current) return;
    			transition_in(default_slot, local);
    			current = true;
    		},
    		o: function outro(local) {
    			transition_out(default_slot, local);
    			current = false;
    		},
    		d: function destroy(detaching) {
    			if (default_slot) default_slot.d(detaching);
    		}
    	};

    	dispatch_dev("SvelteRegisterBlock", {
    		block,
    		id: create_fragment$A.name,
    		type: "component",
    		source: "",
    		ctx
    	});

    	return block;
    }

    function instance$A($$self, $$props, $$invalidate) {
    	let { $$slots: slots = {}, $$scope } = $$props;
    	validate_slots('Text', slots, ['default']);
    	let { text } = $$props;
    	let { raw } = $$props;

    	$$self.$$.on_mount.push(function () {
    		if (text === undefined && !('text' in $$props || $$self.$$.bound[$$self.$$.props['text']])) {
    			console.warn("<Text> was created without expected prop 'text'");
    		}

    		if (raw === undefined && !('raw' in $$props || $$self.$$.bound[$$self.$$.props['raw']])) {
    			console.warn("<Text> was created without expected prop 'raw'");
    		}
    	});

    	const writable_props = ['text', 'raw'];

    	Object.keys($$props).forEach(key => {
    		if (!~writable_props.indexOf(key) && key.slice(0, 2) !== '$$' && key !== 'slot') console.warn(`<Text> was created with unknown prop '${key}'`);
    	});

    	$$self.$$set = $$props => {
    		if ('text' in $$props) $$invalidate(0, text = $$props.text);
    		if ('raw' in $$props) $$invalidate(1, raw = $$props.raw);
    		if ('$$scope' in $$props) $$invalidate(2, $$scope = $$props.$$scope);
    	};

    	$$self.$capture_state = () => ({ text, raw });

    	$$self.$inject_state = $$props => {
    		if ('text' in $$props) $$invalidate(0, text = $$props.text);
    		if ('raw' in $$props) $$invalidate(1, raw = $$props.raw);
    	};

    	if ($$props && "$$inject" in $$props) {
    		$$self.$inject_state($$props.$$inject);
    	}

    	return [text, raw, $$scope, slots];
    }

    class Text extends SvelteComponentDev {
    	constructor(options) {
    		super(options);
    		init$1(this, options, instance$A, create_fragment$A, safe_not_equal, { text: 0, raw: 1 });

    		dispatch_dev("SvelteRegisterComponent", {
    			component: this,
    			tagName: "Text",
    			options,
    			id: create_fragment$A.name
    		});
    	}

    	get text() {
    		throw new Error("<Text>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
    	}

    	set text(value) {
    		throw new Error("<Text>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
    	}

    	get raw() {
    		throw new Error("<Text>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
    	}

    	set raw(value) {
    		throw new Error("<Text>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
    	}
    }

    /* node_modules\svelte-markdown\src\renderers\Image.svelte generated by Svelte v3.52.0 */

    const file$q = "node_modules\\svelte-markdown\\src\\renderers\\Image.svelte";

    function create_fragment$z(ctx) {
    	let img;
    	let img_src_value;

    	const block = {
    		c: function create() {
    			img = element("img");
    			if (!src_url_equal(img.src, img_src_value = /*href*/ ctx[0])) attr_dev(img, "src", img_src_value);
    			attr_dev(img, "title", /*title*/ ctx[1]);
    			attr_dev(img, "alt", /*text*/ ctx[2]);
    			add_location(img, file$q, 6, 0, 97);
    		},
    		l: function claim(nodes) {
    			throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option");
    		},
    		m: function mount(target, anchor) {
    			insert_dev(target, img, anchor);
    		},
    		p: function update(ctx, [dirty]) {
    			if (dirty & /*href*/ 1 && !src_url_equal(img.src, img_src_value = /*href*/ ctx[0])) {
    				attr_dev(img, "src", img_src_value);
    			}

    			if (dirty & /*title*/ 2) {
    				attr_dev(img, "title", /*title*/ ctx[1]);
    			}

    			if (dirty & /*text*/ 4) {
    				attr_dev(img, "alt", /*text*/ ctx[2]);
    			}
    		},
    		i: noop,
    		o: noop,
    		d: function destroy(detaching) {
    			if (detaching) detach_dev(img);
    		}
    	};

    	dispatch_dev("SvelteRegisterBlock", {
    		block,
    		id: create_fragment$z.name,
    		type: "component",
    		source: "",
    		ctx
    	});

    	return block;
    }

    function instance$z($$self, $$props, $$invalidate) {
    	let { $$slots: slots = {}, $$scope } = $$props;
    	validate_slots('Image', slots, []);
    	let { href = '' } = $$props;
    	let { title = undefined } = $$props;
    	let { text = '' } = $$props;
    	const writable_props = ['href', 'title', 'text'];

    	Object.keys($$props).forEach(key => {
    		if (!~writable_props.indexOf(key) && key.slice(0, 2) !== '$$' && key !== 'slot') console.warn(`<Image> was created with unknown prop '${key}'`);
    	});

    	$$self.$$set = $$props => {
    		if ('href' in $$props) $$invalidate(0, href = $$props.href);
    		if ('title' in $$props) $$invalidate(1, title = $$props.title);
    		if ('text' in $$props) $$invalidate(2, text = $$props.text);
    	};

    	$$self.$capture_state = () => ({ href, title, text });

    	$$self.$inject_state = $$props => {
    		if ('href' in $$props) $$invalidate(0, href = $$props.href);
    		if ('title' in $$props) $$invalidate(1, title = $$props.title);
    		if ('text' in $$props) $$invalidate(2, text = $$props.text);
    	};

    	if ($$props && "$$inject" in $$props) {
    		$$self.$inject_state($$props.$$inject);
    	}

    	return [href, title, text];
    }

    class Image$1 extends SvelteComponentDev {
    	constructor(options) {
    		super(options);
    		init$1(this, options, instance$z, create_fragment$z, safe_not_equal, { href: 0, title: 1, text: 2 });

    		dispatch_dev("SvelteRegisterComponent", {
    			component: this,
    			tagName: "Image",
    			options,
    			id: create_fragment$z.name
    		});
    	}

    	get href() {
    		throw new Error("<Image>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
    	}

    	set href(value) {
    		throw new Error("<Image>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
    	}

    	get title() {
    		throw new Error("<Image>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
    	}

    	set title(value) {
    		throw new Error("<Image>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
    	}

    	get text() {
    		throw new Error("<Image>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
    	}

    	set text(value) {
    		throw new Error("<Image>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
    	}
    }

    /* node_modules\svelte-markdown\src\renderers\Link.svelte generated by Svelte v3.52.0 */

    const file$p = "node_modules\\svelte-markdown\\src\\renderers\\Link.svelte";

    function create_fragment$y(ctx) {
    	let a;
    	let current;
    	const default_slot_template = /*#slots*/ ctx[3].default;
    	const default_slot = create_slot(default_slot_template, ctx, /*$$scope*/ ctx[2], null);

    	const block = {
    		c: function create() {
    			a = element("a");
    			if (default_slot) default_slot.c();
    			attr_dev(a, "href", /*href*/ ctx[0]);
    			attr_dev(a, "title", /*title*/ ctx[1]);
    			add_location(a, file$p, 5, 0, 74);
    		},
    		l: function claim(nodes) {
    			throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option");
    		},
    		m: function mount(target, anchor) {
    			insert_dev(target, a, anchor);

    			if (default_slot) {
    				default_slot.m(a, null);
    			}

    			current = true;
    		},
    		p: function update(ctx, [dirty]) {
    			if (default_slot) {
    				if (default_slot.p && (!current || dirty & /*$$scope*/ 4)) {
    					update_slot_base(
    						default_slot,
    						default_slot_template,
    						ctx,
    						/*$$scope*/ ctx[2],
    						!current
    						? get_all_dirty_from_scope(/*$$scope*/ ctx[2])
    						: get_slot_changes(default_slot_template, /*$$scope*/ ctx[2], dirty, null),
    						null
    					);
    				}
    			}

    			if (!current || dirty & /*href*/ 1) {
    				attr_dev(a, "href", /*href*/ ctx[0]);
    			}

    			if (!current || dirty & /*title*/ 2) {
    				attr_dev(a, "title", /*title*/ ctx[1]);
    			}
    		},
    		i: function intro(local) {
    			if (current) return;
    			transition_in(default_slot, local);
    			current = true;
    		},
    		o: function outro(local) {
    			transition_out(default_slot, local);
    			current = false;
    		},
    		d: function destroy(detaching) {
    			if (detaching) detach_dev(a);
    			if (default_slot) default_slot.d(detaching);
    		}
    	};

    	dispatch_dev("SvelteRegisterBlock", {
    		block,
    		id: create_fragment$y.name,
    		type: "component",
    		source: "",
    		ctx
    	});

    	return block;
    }

    function instance$y($$self, $$props, $$invalidate) {
    	let { $$slots: slots = {}, $$scope } = $$props;
    	validate_slots('Link', slots, ['default']);
    	let { href = '' } = $$props;
    	let { title = undefined } = $$props;
    	const writable_props = ['href', 'title'];

    	Object.keys($$props).forEach(key => {
    		if (!~writable_props.indexOf(key) && key.slice(0, 2) !== '$$' && key !== 'slot') console.warn(`<Link> was created with unknown prop '${key}'`);
    	});

    	$$self.$$set = $$props => {
    		if ('href' in $$props) $$invalidate(0, href = $$props.href);
    		if ('title' in $$props) $$invalidate(1, title = $$props.title);
    		if ('$$scope' in $$props) $$invalidate(2, $$scope = $$props.$$scope);
    	};

    	$$self.$capture_state = () => ({ href, title });

    	$$self.$inject_state = $$props => {
    		if ('href' in $$props) $$invalidate(0, href = $$props.href);
    		if ('title' in $$props) $$invalidate(1, title = $$props.title);
    	};

    	if ($$props && "$$inject" in $$props) {
    		$$self.$inject_state($$props.$$inject);
    	}

    	return [href, title, $$scope, slots];
    }

    class Link extends SvelteComponentDev {
    	constructor(options) {
    		super(options);
    		init$1(this, options, instance$y, create_fragment$y, safe_not_equal, { href: 0, title: 1 });

    		dispatch_dev("SvelteRegisterComponent", {
    			component: this,
    			tagName: "Link",
    			options,
    			id: create_fragment$y.name
    		});
    	}

    	get href() {
    		throw new Error("<Link>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
    	}

    	set href(value) {
    		throw new Error("<Link>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
    	}

    	get title() {
    		throw new Error("<Link>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
    	}

    	set title(value) {
    		throw new Error("<Link>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
    	}
    }

    /* node_modules\svelte-markdown\src\renderers\Em.svelte generated by Svelte v3.52.0 */

    const file$o = "node_modules\\svelte-markdown\\src\\renderers\\Em.svelte";

    function create_fragment$x(ctx) {
    	let em;
    	let current;
    	const default_slot_template = /*#slots*/ ctx[1].default;
    	const default_slot = create_slot(default_slot_template, ctx, /*$$scope*/ ctx[0], null);

    	const block = {
    		c: function create() {
    			em = element("em");
    			if (default_slot) default_slot.c();
    			add_location(em, file$o, 0, 0, 0);
    		},
    		l: function claim(nodes) {
    			throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option");
    		},
    		m: function mount(target, anchor) {
    			insert_dev(target, em, anchor);

    			if (default_slot) {
    				default_slot.m(em, null);
    			}

    			current = true;
    		},
    		p: function update(ctx, [dirty]) {
    			if (default_slot) {
    				if (default_slot.p && (!current || dirty & /*$$scope*/ 1)) {
    					update_slot_base(
    						default_slot,
    						default_slot_template,
    						ctx,
    						/*$$scope*/ ctx[0],
    						!current
    						? get_all_dirty_from_scope(/*$$scope*/ ctx[0])
    						: get_slot_changes(default_slot_template, /*$$scope*/ ctx[0], dirty, null),
    						null
    					);
    				}
    			}
    		},
    		i: function intro(local) {
    			if (current) return;
    			transition_in(default_slot, local);
    			current = true;
    		},
    		o: function outro(local) {
    			transition_out(default_slot, local);
    			current = false;
    		},
    		d: function destroy(detaching) {
    			if (detaching) detach_dev(em);
    			if (default_slot) default_slot.d(detaching);
    		}
    	};

    	dispatch_dev("SvelteRegisterBlock", {
    		block,
    		id: create_fragment$x.name,
    		type: "component",
    		source: "",
    		ctx
    	});

    	return block;
    }

    function instance$x($$self, $$props, $$invalidate) {
    	let { $$slots: slots = {}, $$scope } = $$props;
    	validate_slots('Em', slots, ['default']);
    	const writable_props = [];

    	Object.keys($$props).forEach(key => {
    		if (!~writable_props.indexOf(key) && key.slice(0, 2) !== '$$' && key !== 'slot') console.warn(`<Em> was created with unknown prop '${key}'`);
    	});

    	$$self.$$set = $$props => {
    		if ('$$scope' in $$props) $$invalidate(0, $$scope = $$props.$$scope);
    	};

    	return [$$scope, slots];
    }

    class Em extends SvelteComponentDev {
    	constructor(options) {
    		super(options);
    		init$1(this, options, instance$x, create_fragment$x, safe_not_equal, {});

    		dispatch_dev("SvelteRegisterComponent", {
    			component: this,
    			tagName: "Em",
    			options,
    			id: create_fragment$x.name
    		});
    	}
    }

    /* node_modules\svelte-markdown\src\renderers\Del.svelte generated by Svelte v3.52.0 */

    const file$n = "node_modules\\svelte-markdown\\src\\renderers\\Del.svelte";

    function create_fragment$w(ctx) {
    	let del;
    	let current;
    	const default_slot_template = /*#slots*/ ctx[1].default;
    	const default_slot = create_slot(default_slot_template, ctx, /*$$scope*/ ctx[0], null);

    	const block = {
    		c: function create() {
    			del = element("del");
    			if (default_slot) default_slot.c();
    			add_location(del, file$n, 0, 0, 0);
    		},
    		l: function claim(nodes) {
    			throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option");
    		},
    		m: function mount(target, anchor) {
    			insert_dev(target, del, anchor);

    			if (default_slot) {
    				default_slot.m(del, null);
    			}

    			current = true;
    		},
    		p: function update(ctx, [dirty]) {
    			if (default_slot) {
    				if (default_slot.p && (!current || dirty & /*$$scope*/ 1)) {
    					update_slot_base(
    						default_slot,
    						default_slot_template,
    						ctx,
    						/*$$scope*/ ctx[0],
    						!current
    						? get_all_dirty_from_scope(/*$$scope*/ ctx[0])
    						: get_slot_changes(default_slot_template, /*$$scope*/ ctx[0], dirty, null),
    						null
    					);
    				}
    			}
    		},
    		i: function intro(local) {
    			if (current) return;
    			transition_in(default_slot, local);
    			current = true;
    		},
    		o: function outro(local) {
    			transition_out(default_slot, local);
    			current = false;
    		},
    		d: function destroy(detaching) {
    			if (detaching) detach_dev(del);
    			if (default_slot) default_slot.d(detaching);
    		}
    	};

    	dispatch_dev("SvelteRegisterBlock", {
    		block,
    		id: create_fragment$w.name,
    		type: "component",
    		source: "",
    		ctx
    	});

    	return block;
    }

    function instance$w($$self, $$props, $$invalidate) {
    	let { $$slots: slots = {}, $$scope } = $$props;
    	validate_slots('Del', slots, ['default']);
    	const writable_props = [];

    	Object.keys($$props).forEach(key => {
    		if (!~writable_props.indexOf(key) && key.slice(0, 2) !== '$$' && key !== 'slot') console.warn(`<Del> was created with unknown prop '${key}'`);
    	});

    	$$self.$$set = $$props => {
    		if ('$$scope' in $$props) $$invalidate(0, $$scope = $$props.$$scope);
    	};

    	return [$$scope, slots];
    }

    class Del extends SvelteComponentDev {
    	constructor(options) {
    		super(options);
    		init$1(this, options, instance$w, create_fragment$w, safe_not_equal, {});

    		dispatch_dev("SvelteRegisterComponent", {
    			component: this,
    			tagName: "Del",
    			options,
    			id: create_fragment$w.name
    		});
    	}
    }

    /* node_modules\svelte-markdown\src\renderers\Codespan.svelte generated by Svelte v3.52.0 */

    const file$m = "node_modules\\svelte-markdown\\src\\renderers\\Codespan.svelte";

    function create_fragment$v(ctx) {
    	let code;
    	let t_value = /*raw*/ ctx[0].replace(/`/g, '') + "";
    	let t;

    	const block = {
    		c: function create() {
    			code = element("code");
    			t = text(t_value);
    			add_location(code, file$m, 4, 0, 37);
    		},
    		l: function claim(nodes) {
    			throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option");
    		},
    		m: function mount(target, anchor) {
    			insert_dev(target, code, anchor);
    			append_dev(code, t);
    		},
    		p: function update(ctx, [dirty]) {
    			if (dirty & /*raw*/ 1 && t_value !== (t_value = /*raw*/ ctx[0].replace(/`/g, '') + "")) set_data_dev(t, t_value);
    		},
    		i: noop,
    		o: noop,
    		d: function destroy(detaching) {
    			if (detaching) detach_dev(code);
    		}
    	};

    	dispatch_dev("SvelteRegisterBlock", {
    		block,
    		id: create_fragment$v.name,
    		type: "component",
    		source: "",
    		ctx
    	});

    	return block;
    }

    function instance$v($$self, $$props, $$invalidate) {
    	let { $$slots: slots = {}, $$scope } = $$props;
    	validate_slots('Codespan', slots, []);
    	let { raw } = $$props;

    	$$self.$$.on_mount.push(function () {
    		if (raw === undefined && !('raw' in $$props || $$self.$$.bound[$$self.$$.props['raw']])) {
    			console.warn("<Codespan> was created without expected prop 'raw'");
    		}
    	});

    	const writable_props = ['raw'];

    	Object.keys($$props).forEach(key => {
    		if (!~writable_props.indexOf(key) && key.slice(0, 2) !== '$$' && key !== 'slot') console.warn(`<Codespan> was created with unknown prop '${key}'`);
    	});

    	$$self.$$set = $$props => {
    		if ('raw' in $$props) $$invalidate(0, raw = $$props.raw);
    	};

    	$$self.$capture_state = () => ({ raw });

    	$$self.$inject_state = $$props => {
    		if ('raw' in $$props) $$invalidate(0, raw = $$props.raw);
    	};

    	if ($$props && "$$inject" in $$props) {
    		$$self.$inject_state($$props.$$inject);
    	}

    	return [raw];
    }

    class Codespan extends SvelteComponentDev {
    	constructor(options) {
    		super(options);
    		init$1(this, options, instance$v, create_fragment$v, safe_not_equal, { raw: 0 });

    		dispatch_dev("SvelteRegisterComponent", {
    			component: this,
    			tagName: "Codespan",
    			options,
    			id: create_fragment$v.name
    		});
    	}

    	get raw() {
    		throw new Error("<Codespan>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
    	}

    	set raw(value) {
    		throw new Error("<Codespan>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
    	}
    }

    /* node_modules\svelte-markdown\src\renderers\Strong.svelte generated by Svelte v3.52.0 */

    const file$l = "node_modules\\svelte-markdown\\src\\renderers\\Strong.svelte";

    function create_fragment$u(ctx) {
    	let strong;
    	let current;
    	const default_slot_template = /*#slots*/ ctx[1].default;
    	const default_slot = create_slot(default_slot_template, ctx, /*$$scope*/ ctx[0], null);

    	const block = {
    		c: function create() {
    			strong = element("strong");
    			if (default_slot) default_slot.c();
    			add_location(strong, file$l, 0, 0, 0);
    		},
    		l: function claim(nodes) {
    			throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option");
    		},
    		m: function mount(target, anchor) {
    			insert_dev(target, strong, anchor);

    			if (default_slot) {
    				default_slot.m(strong, null);
    			}

    			current = true;
    		},
    		p: function update(ctx, [dirty]) {
    			if (default_slot) {
    				if (default_slot.p && (!current || dirty & /*$$scope*/ 1)) {
    					update_slot_base(
    						default_slot,
    						default_slot_template,
    						ctx,
    						/*$$scope*/ ctx[0],
    						!current
    						? get_all_dirty_from_scope(/*$$scope*/ ctx[0])
    						: get_slot_changes(default_slot_template, /*$$scope*/ ctx[0], dirty, null),
    						null
    					);
    				}
    			}
    		},
    		i: function intro(local) {
    			if (current) return;
    			transition_in(default_slot, local);
    			current = true;
    		},
    		o: function outro(local) {
    			transition_out(default_slot, local);
    			current = false;
    		},
    		d: function destroy(detaching) {
    			if (detaching) detach_dev(strong);
    			if (default_slot) default_slot.d(detaching);
    		}
    	};

    	dispatch_dev("SvelteRegisterBlock", {
    		block,
    		id: create_fragment$u.name,
    		type: "component",
    		source: "",
    		ctx
    	});

    	return block;
    }

    function instance$u($$self, $$props, $$invalidate) {
    	let { $$slots: slots = {}, $$scope } = $$props;
    	validate_slots('Strong', slots, ['default']);
    	const writable_props = [];

    	Object.keys($$props).forEach(key => {
    		if (!~writable_props.indexOf(key) && key.slice(0, 2) !== '$$' && key !== 'slot') console.warn(`<Strong> was created with unknown prop '${key}'`);
    	});

    	$$self.$$set = $$props => {
    		if ('$$scope' in $$props) $$invalidate(0, $$scope = $$props.$$scope);
    	};

    	return [$$scope, slots];
    }

    class Strong extends SvelteComponentDev {
    	constructor(options) {
    		super(options);
    		init$1(this, options, instance$u, create_fragment$u, safe_not_equal, {});

    		dispatch_dev("SvelteRegisterComponent", {
    			component: this,
    			tagName: "Strong",
    			options,
    			id: create_fragment$u.name
    		});
    	}
    }

    /* node_modules\svelte-markdown\src\renderers\Table.svelte generated by Svelte v3.52.0 */

    const file$k = "node_modules\\svelte-markdown\\src\\renderers\\Table.svelte";

    function create_fragment$t(ctx) {
    	let table;
    	let current;
    	const default_slot_template = /*#slots*/ ctx[1].default;
    	const default_slot = create_slot(default_slot_template, ctx, /*$$scope*/ ctx[0], null);

    	const block = {
    		c: function create() {
    			table = element("table");
    			if (default_slot) default_slot.c();
    			add_location(table, file$k, 0, 0, 0);
    		},
    		l: function claim(nodes) {
    			throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option");
    		},
    		m: function mount(target, anchor) {
    			insert_dev(target, table, anchor);

    			if (default_slot) {
    				default_slot.m(table, null);
    			}

    			current = true;
    		},
    		p: function update(ctx, [dirty]) {
    			if (default_slot) {
    				if (default_slot.p && (!current || dirty & /*$$scope*/ 1)) {
    					update_slot_base(
    						default_slot,
    						default_slot_template,
    						ctx,
    						/*$$scope*/ ctx[0],
    						!current
    						? get_all_dirty_from_scope(/*$$scope*/ ctx[0])
    						: get_slot_changes(default_slot_template, /*$$scope*/ ctx[0], dirty, null),
    						null
    					);
    				}
    			}
    		},
    		i: function intro(local) {
    			if (current) return;
    			transition_in(default_slot, local);
    			current = true;
    		},
    		o: function outro(local) {
    			transition_out(default_slot, local);
    			current = false;
    		},
    		d: function destroy(detaching) {
    			if (detaching) detach_dev(table);
    			if (default_slot) default_slot.d(detaching);
    		}
    	};

    	dispatch_dev("SvelteRegisterBlock", {
    		block,
    		id: create_fragment$t.name,
    		type: "component",
    		source: "",
    		ctx
    	});

    	return block;
    }

    function instance$t($$self, $$props, $$invalidate) {
    	let { $$slots: slots = {}, $$scope } = $$props;
    	validate_slots('Table', slots, ['default']);
    	const writable_props = [];

    	Object.keys($$props).forEach(key => {
    		if (!~writable_props.indexOf(key) && key.slice(0, 2) !== '$$' && key !== 'slot') console.warn(`<Table> was created with unknown prop '${key}'`);
    	});

    	$$self.$$set = $$props => {
    		if ('$$scope' in $$props) $$invalidate(0, $$scope = $$props.$$scope);
    	};

    	return [$$scope, slots];
    }

    class Table extends SvelteComponentDev {
    	constructor(options) {
    		super(options);
    		init$1(this, options, instance$t, create_fragment$t, safe_not_equal, {});

    		dispatch_dev("SvelteRegisterComponent", {
    			component: this,
    			tagName: "Table",
    			options,
    			id: create_fragment$t.name
    		});
    	}
    }

    /* node_modules\svelte-markdown\src\renderers\TableHead.svelte generated by Svelte v3.52.0 */

    const file$j = "node_modules\\svelte-markdown\\src\\renderers\\TableHead.svelte";

    function create_fragment$s(ctx) {
    	let thead;
    	let current;
    	const default_slot_template = /*#slots*/ ctx[1].default;
    	const default_slot = create_slot(default_slot_template, ctx, /*$$scope*/ ctx[0], null);

    	const block = {
    		c: function create() {
    			thead = element("thead");
    			if (default_slot) default_slot.c();
    			add_location(thead, file$j, 0, 0, 0);
    		},
    		l: function claim(nodes) {
    			throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option");
    		},
    		m: function mount(target, anchor) {
    			insert_dev(target, thead, anchor);

    			if (default_slot) {
    				default_slot.m(thead, null);
    			}

    			current = true;
    		},
    		p: function update(ctx, [dirty]) {
    			if (default_slot) {
    				if (default_slot.p && (!current || dirty & /*$$scope*/ 1)) {
    					update_slot_base(
    						default_slot,
    						default_slot_template,
    						ctx,
    						/*$$scope*/ ctx[0],
    						!current
    						? get_all_dirty_from_scope(/*$$scope*/ ctx[0])
    						: get_slot_changes(default_slot_template, /*$$scope*/ ctx[0], dirty, null),
    						null
    					);
    				}
    			}
    		},
    		i: function intro(local) {
    			if (current) return;
    			transition_in(default_slot, local);
    			current = true;
    		},
    		o: function outro(local) {
    			transition_out(default_slot, local);
    			current = false;
    		},
    		d: function destroy(detaching) {
    			if (detaching) detach_dev(thead);
    			if (default_slot) default_slot.d(detaching);
    		}
    	};

    	dispatch_dev("SvelteRegisterBlock", {
    		block,
    		id: create_fragment$s.name,
    		type: "component",
    		source: "",
    		ctx
    	});

    	return block;
    }

    function instance$s($$self, $$props, $$invalidate) {
    	let { $$slots: slots = {}, $$scope } = $$props;
    	validate_slots('TableHead', slots, ['default']);
    	const writable_props = [];

    	Object.keys($$props).forEach(key => {
    		if (!~writable_props.indexOf(key) && key.slice(0, 2) !== '$$' && key !== 'slot') console.warn(`<TableHead> was created with unknown prop '${key}'`);
    	});

    	$$self.$$set = $$props => {
    		if ('$$scope' in $$props) $$invalidate(0, $$scope = $$props.$$scope);
    	};

    	return [$$scope, slots];
    }

    class TableHead extends SvelteComponentDev {
    	constructor(options) {
    		super(options);
    		init$1(this, options, instance$s, create_fragment$s, safe_not_equal, {});

    		dispatch_dev("SvelteRegisterComponent", {
    			component: this,
    			tagName: "TableHead",
    			options,
    			id: create_fragment$s.name
    		});
    	}
    }

    /* node_modules\svelte-markdown\src\renderers\TableBody.svelte generated by Svelte v3.52.0 */

    const file$i = "node_modules\\svelte-markdown\\src\\renderers\\TableBody.svelte";

    function create_fragment$r(ctx) {
    	let tbody;
    	let current;
    	const default_slot_template = /*#slots*/ ctx[1].default;
    	const default_slot = create_slot(default_slot_template, ctx, /*$$scope*/ ctx[0], null);

    	const block = {
    		c: function create() {
    			tbody = element("tbody");
    			if (default_slot) default_slot.c();
    			add_location(tbody, file$i, 0, 0, 0);
    		},
    		l: function claim(nodes) {
    			throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option");
    		},
    		m: function mount(target, anchor) {
    			insert_dev(target, tbody, anchor);

    			if (default_slot) {
    				default_slot.m(tbody, null);
    			}

    			current = true;
    		},
    		p: function update(ctx, [dirty]) {
    			if (default_slot) {
    				if (default_slot.p && (!current || dirty & /*$$scope*/ 1)) {
    					update_slot_base(
    						default_slot,
    						default_slot_template,
    						ctx,
    						/*$$scope*/ ctx[0],
    						!current
    						? get_all_dirty_from_scope(/*$$scope*/ ctx[0])
    						: get_slot_changes(default_slot_template, /*$$scope*/ ctx[0], dirty, null),
    						null
    					);
    				}
    			}
    		},
    		i: function intro(local) {
    			if (current) return;
    			transition_in(default_slot, local);
    			current = true;
    		},
    		o: function outro(local) {
    			transition_out(default_slot, local);
    			current = false;
    		},
    		d: function destroy(detaching) {
    			if (detaching) detach_dev(tbody);
    			if (default_slot) default_slot.d(detaching);
    		}
    	};

    	dispatch_dev("SvelteRegisterBlock", {
    		block,
    		id: create_fragment$r.name,
    		type: "component",
    		source: "",
    		ctx
    	});

    	return block;
    }

    function instance$r($$self, $$props, $$invalidate) {
    	let { $$slots: slots = {}, $$scope } = $$props;
    	validate_slots('TableBody', slots, ['default']);
    	const writable_props = [];

    	Object.keys($$props).forEach(key => {
    		if (!~writable_props.indexOf(key) && key.slice(0, 2) !== '$$' && key !== 'slot') console.warn(`<TableBody> was created with unknown prop '${key}'`);
    	});

    	$$self.$$set = $$props => {
    		if ('$$scope' in $$props) $$invalidate(0, $$scope = $$props.$$scope);
    	};

    	return [$$scope, slots];
    }

    class TableBody extends SvelteComponentDev {
    	constructor(options) {
    		super(options);
    		init$1(this, options, instance$r, create_fragment$r, safe_not_equal, {});

    		dispatch_dev("SvelteRegisterComponent", {
    			component: this,
    			tagName: "TableBody",
    			options,
    			id: create_fragment$r.name
    		});
    	}
    }

    /* node_modules\svelte-markdown\src\renderers\TableRow.svelte generated by Svelte v3.52.0 */

    const file$h = "node_modules\\svelte-markdown\\src\\renderers\\TableRow.svelte";

    function create_fragment$q(ctx) {
    	let tr;
    	let current;
    	const default_slot_template = /*#slots*/ ctx[1].default;
    	const default_slot = create_slot(default_slot_template, ctx, /*$$scope*/ ctx[0], null);

    	const block = {
    		c: function create() {
    			tr = element("tr");
    			if (default_slot) default_slot.c();
    			add_location(tr, file$h, 0, 0, 0);
    		},
    		l: function claim(nodes) {
    			throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option");
    		},
    		m: function mount(target, anchor) {
    			insert_dev(target, tr, anchor);

    			if (default_slot) {
    				default_slot.m(tr, null);
    			}

    			current = true;
    		},
    		p: function update(ctx, [dirty]) {
    			if (default_slot) {
    				if (default_slot.p && (!current || dirty & /*$$scope*/ 1)) {
    					update_slot_base(
    						default_slot,
    						default_slot_template,
    						ctx,
    						/*$$scope*/ ctx[0],
    						!current
    						? get_all_dirty_from_scope(/*$$scope*/ ctx[0])
    						: get_slot_changes(default_slot_template, /*$$scope*/ ctx[0], dirty, null),
    						null
    					);
    				}
    			}
    		},
    		i: function intro(local) {
    			if (current) return;
    			transition_in(default_slot, local);
    			current = true;
    		},
    		o: function outro(local) {
    			transition_out(default_slot, local);
    			current = false;
    		},
    		d: function destroy(detaching) {
    			if (detaching) detach_dev(tr);
    			if (default_slot) default_slot.d(detaching);
    		}
    	};

    	dispatch_dev("SvelteRegisterBlock", {
    		block,
    		id: create_fragment$q.name,
    		type: "component",
    		source: "",
    		ctx
    	});

    	return block;
    }

    function instance$q($$self, $$props, $$invalidate) {
    	let { $$slots: slots = {}, $$scope } = $$props;
    	validate_slots('TableRow', slots, ['default']);
    	const writable_props = [];

    	Object.keys($$props).forEach(key => {
    		if (!~writable_props.indexOf(key) && key.slice(0, 2) !== '$$' && key !== 'slot') console.warn(`<TableRow> was created with unknown prop '${key}'`);
    	});

    	$$self.$$set = $$props => {
    		if ('$$scope' in $$props) $$invalidate(0, $$scope = $$props.$$scope);
    	};

    	return [$$scope, slots];
    }

    class TableRow extends SvelteComponentDev {
    	constructor(options) {
    		super(options);
    		init$1(this, options, instance$q, create_fragment$q, safe_not_equal, {});

    		dispatch_dev("SvelteRegisterComponent", {
    			component: this,
    			tagName: "TableRow",
    			options,
    			id: create_fragment$q.name
    		});
    	}
    }

    /* node_modules\svelte-markdown\src\renderers\TableCell.svelte generated by Svelte v3.52.0 */

    const file$g = "node_modules\\svelte-markdown\\src\\renderers\\TableCell.svelte";

    // (8:0) {:else}
    function create_else_block$3(ctx) {
    	let td;
    	let current;
    	const default_slot_template = /*#slots*/ ctx[3].default;
    	const default_slot = create_slot(default_slot_template, ctx, /*$$scope*/ ctx[2], null);

    	const block = {
    		c: function create() {
    			td = element("td");
    			if (default_slot) default_slot.c();
    			attr_dev(td, "align", /*align*/ ctx[1]);
    			add_location(td, file$g, 8, 2, 115);
    		},
    		m: function mount(target, anchor) {
    			insert_dev(target, td, anchor);

    			if (default_slot) {
    				default_slot.m(td, null);
    			}

    			current = true;
    		},
    		p: function update(ctx, dirty) {
    			if (default_slot) {
    				if (default_slot.p && (!current || dirty & /*$$scope*/ 4)) {
    					update_slot_base(
    						default_slot,
    						default_slot_template,
    						ctx,
    						/*$$scope*/ ctx[2],
    						!current
    						? get_all_dirty_from_scope(/*$$scope*/ ctx[2])
    						: get_slot_changes(default_slot_template, /*$$scope*/ ctx[2], dirty, null),
    						null
    					);
    				}
    			}

    			if (!current || dirty & /*align*/ 2) {
    				attr_dev(td, "align", /*align*/ ctx[1]);
    			}
    		},
    		i: function intro(local) {
    			if (current) return;
    			transition_in(default_slot, local);
    			current = true;
    		},
    		o: function outro(local) {
    			transition_out(default_slot, local);
    			current = false;
    		},
    		d: function destroy(detaching) {
    			if (detaching) detach_dev(td);
    			if (default_slot) default_slot.d(detaching);
    		}
    	};

    	dispatch_dev("SvelteRegisterBlock", {
    		block,
    		id: create_else_block$3.name,
    		type: "else",
    		source: "(8:0) {:else}",
    		ctx
    	});

    	return block;
    }

    // (6:0) {#if header}
    function create_if_block$7(ctx) {
    	let th;
    	let current;
    	const default_slot_template = /*#slots*/ ctx[3].default;
    	const default_slot = create_slot(default_slot_template, ctx, /*$$scope*/ ctx[2], null);

    	const block = {
    		c: function create() {
    			th = element("th");
    			if (default_slot) default_slot.c();
    			attr_dev(th, "align", /*align*/ ctx[1]);
    			add_location(th, file$g, 6, 2, 74);
    		},
    		m: function mount(target, anchor) {
    			insert_dev(target, th, anchor);

    			if (default_slot) {
    				default_slot.m(th, null);
    			}

    			current = true;
    		},
    		p: function update(ctx, dirty) {
    			if (default_slot) {
    				if (default_slot.p && (!current || dirty & /*$$scope*/ 4)) {
    					update_slot_base(
    						default_slot,
    						default_slot_template,
    						ctx,
    						/*$$scope*/ ctx[2],
    						!current
    						? get_all_dirty_from_scope(/*$$scope*/ ctx[2])
    						: get_slot_changes(default_slot_template, /*$$scope*/ ctx[2], dirty, null),
    						null
    					);
    				}
    			}

    			if (!current || dirty & /*align*/ 2) {
    				attr_dev(th, "align", /*align*/ ctx[1]);
    			}
    		},
    		i: function intro(local) {
    			if (current) return;
    			transition_in(default_slot, local);
    			current = true;
    		},
    		o: function outro(local) {
    			transition_out(default_slot, local);
    			current = false;
    		},
    		d: function destroy(detaching) {
    			if (detaching) detach_dev(th);
    			if (default_slot) default_slot.d(detaching);
    		}
    	};

    	dispatch_dev("SvelteRegisterBlock", {
    		block,
    		id: create_if_block$7.name,
    		type: "if",
    		source: "(6:0) {#if header}",
    		ctx
    	});

    	return block;
    }

    function create_fragment$p(ctx) {
    	let current_block_type_index;
    	let if_block;
    	let if_block_anchor;
    	let current;
    	const if_block_creators = [create_if_block$7, create_else_block$3];
    	const if_blocks = [];

    	function select_block_type(ctx, dirty) {
    		if (/*header*/ ctx[0]) return 0;
    		return 1;
    	}

    	current_block_type_index = select_block_type(ctx);
    	if_block = if_blocks[current_block_type_index] = if_block_creators[current_block_type_index](ctx);

    	const block = {
    		c: function create() {
    			if_block.c();
    			if_block_anchor = empty();
    		},
    		l: function claim(nodes) {
    			throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option");
    		},
    		m: function mount(target, anchor) {
    			if_blocks[current_block_type_index].m(target, anchor);
    			insert_dev(target, if_block_anchor, anchor);
    			current = true;
    		},
    		p: function update(ctx, [dirty]) {
    			let previous_block_index = current_block_type_index;
    			current_block_type_index = select_block_type(ctx);

    			if (current_block_type_index === previous_block_index) {
    				if_blocks[current_block_type_index].p(ctx, dirty);
    			} else {
    				group_outros();

    				transition_out(if_blocks[previous_block_index], 1, 1, () => {
    					if_blocks[previous_block_index] = null;
    				});

    				check_outros();
    				if_block = if_blocks[current_block_type_index];

    				if (!if_block) {
    					if_block = if_blocks[current_block_type_index] = if_block_creators[current_block_type_index](ctx);
    					if_block.c();
    				} else {
    					if_block.p(ctx, dirty);
    				}

    				transition_in(if_block, 1);
    				if_block.m(if_block_anchor.parentNode, if_block_anchor);
    			}
    		},
    		i: function intro(local) {
    			if (current) return;
    			transition_in(if_block);
    			current = true;
    		},
    		o: function outro(local) {
    			transition_out(if_block);
    			current = false;
    		},
    		d: function destroy(detaching) {
    			if_blocks[current_block_type_index].d(detaching);
    			if (detaching) detach_dev(if_block_anchor);
    		}
    	};

    	dispatch_dev("SvelteRegisterBlock", {
    		block,
    		id: create_fragment$p.name,
    		type: "component",
    		source: "",
    		ctx
    	});

    	return block;
    }

    function instance$p($$self, $$props, $$invalidate) {
    	let { $$slots: slots = {}, $$scope } = $$props;
    	validate_slots('TableCell', slots, ['default']);
    	let { header } = $$props;
    	let { align } = $$props;

    	$$self.$$.on_mount.push(function () {
    		if (header === undefined && !('header' in $$props || $$self.$$.bound[$$self.$$.props['header']])) {
    			console.warn("<TableCell> was created without expected prop 'header'");
    		}

    		if (align === undefined && !('align' in $$props || $$self.$$.bound[$$self.$$.props['align']])) {
    			console.warn("<TableCell> was created without expected prop 'align'");
    		}
    	});

    	const writable_props = ['header', 'align'];

    	Object.keys($$props).forEach(key => {
    		if (!~writable_props.indexOf(key) && key.slice(0, 2) !== '$$' && key !== 'slot') console.warn(`<TableCell> was created with unknown prop '${key}'`);
    	});

    	$$self.$$set = $$props => {
    		if ('header' in $$props) $$invalidate(0, header = $$props.header);
    		if ('align' in $$props) $$invalidate(1, align = $$props.align);
    		if ('$$scope' in $$props) $$invalidate(2, $$scope = $$props.$$scope);
    	};

    	$$self.$capture_state = () => ({ header, align });

    	$$self.$inject_state = $$props => {
    		if ('header' in $$props) $$invalidate(0, header = $$props.header);
    		if ('align' in $$props) $$invalidate(1, align = $$props.align);
    	};

    	if ($$props && "$$inject" in $$props) {
    		$$self.$inject_state($$props.$$inject);
    	}

    	return [header, align, $$scope, slots];
    }

    class TableCell extends SvelteComponentDev {
    	constructor(options) {
    		super(options);
    		init$1(this, options, instance$p, create_fragment$p, safe_not_equal, { header: 0, align: 1 });

    		dispatch_dev("SvelteRegisterComponent", {
    			component: this,
    			tagName: "TableCell",
    			options,
    			id: create_fragment$p.name
    		});
    	}

    	get header() {
    		throw new Error("<TableCell>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
    	}

    	set header(value) {
    		throw new Error("<TableCell>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
    	}

    	get align() {
    		throw new Error("<TableCell>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
    	}

    	set align(value) {
    		throw new Error("<TableCell>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
    	}
    }

    /* node_modules\svelte-markdown\src\renderers\List.svelte generated by Svelte v3.52.0 */

    const file$f = "node_modules\\svelte-markdown\\src\\renderers\\List.svelte";

    // (8:0) {:else}
    function create_else_block$2(ctx) {
    	let ul;
    	let current;
    	const default_slot_template = /*#slots*/ ctx[3].default;
    	const default_slot = create_slot(default_slot_template, ctx, /*$$scope*/ ctx[2], null);

    	const block = {
    		c: function create() {
    			ul = element("ul");
    			if (default_slot) default_slot.c();
    			add_location(ul, file$f, 8, 2, 117);
    		},
    		m: function mount(target, anchor) {
    			insert_dev(target, ul, anchor);

    			if (default_slot) {
    				default_slot.m(ul, null);
    			}

    			current = true;
    		},
    		p: function update(ctx, dirty) {
    			if (default_slot) {
    				if (default_slot.p && (!current || dirty & /*$$scope*/ 4)) {
    					update_slot_base(
    						default_slot,
    						default_slot_template,
    						ctx,
    						/*$$scope*/ ctx[2],
    						!current
    						? get_all_dirty_from_scope(/*$$scope*/ ctx[2])
    						: get_slot_changes(default_slot_template, /*$$scope*/ ctx[2], dirty, null),
    						null
    					);
    				}
    			}
    		},
    		i: function intro(local) {
    			if (current) return;
    			transition_in(default_slot, local);
    			current = true;
    		},
    		o: function outro(local) {
    			transition_out(default_slot, local);
    			current = false;
    		},
    		d: function destroy(detaching) {
    			if (detaching) detach_dev(ul);
    			if (default_slot) default_slot.d(detaching);
    		}
    	};

    	dispatch_dev("SvelteRegisterBlock", {
    		block,
    		id: create_else_block$2.name,
    		type: "else",
    		source: "(8:0) {:else}",
    		ctx
    	});

    	return block;
    }

    // (6:0) {#if ordered}
    function create_if_block$6(ctx) {
    	let ol;
    	let current;
    	const default_slot_template = /*#slots*/ ctx[3].default;
    	const default_slot = create_slot(default_slot_template, ctx, /*$$scope*/ ctx[2], null);

    	const block = {
    		c: function create() {
    			ol = element("ol");
    			if (default_slot) default_slot.c();
    			attr_dev(ol, "start", /*start*/ ctx[1]);
    			add_location(ol, file$f, 6, 2, 76);
    		},
    		m: function mount(target, anchor) {
    			insert_dev(target, ol, anchor);

    			if (default_slot) {
    				default_slot.m(ol, null);
    			}

    			current = true;
    		},
    		p: function update(ctx, dirty) {
    			if (default_slot) {
    				if (default_slot.p && (!current || dirty & /*$$scope*/ 4)) {
    					update_slot_base(
    						default_slot,
    						default_slot_template,
    						ctx,
    						/*$$scope*/ ctx[2],
    						!current
    						? get_all_dirty_from_scope(/*$$scope*/ ctx[2])
    						: get_slot_changes(default_slot_template, /*$$scope*/ ctx[2], dirty, null),
    						null
    					);
    				}
    			}

    			if (!current || dirty & /*start*/ 2) {
    				attr_dev(ol, "start", /*start*/ ctx[1]);
    			}
    		},
    		i: function intro(local) {
    			if (current) return;
    			transition_in(default_slot, local);
    			current = true;
    		},
    		o: function outro(local) {
    			transition_out(default_slot, local);
    			current = false;
    		},
    		d: function destroy(detaching) {
    			if (detaching) detach_dev(ol);
    			if (default_slot) default_slot.d(detaching);
    		}
    	};

    	dispatch_dev("SvelteRegisterBlock", {
    		block,
    		id: create_if_block$6.name,
    		type: "if",
    		source: "(6:0) {#if ordered}",
    		ctx
    	});

    	return block;
    }

    function create_fragment$o(ctx) {
    	let current_block_type_index;
    	let if_block;
    	let if_block_anchor;
    	let current;
    	const if_block_creators = [create_if_block$6, create_else_block$2];
    	const if_blocks = [];

    	function select_block_type(ctx, dirty) {
    		if (/*ordered*/ ctx[0]) return 0;
    		return 1;
    	}

    	current_block_type_index = select_block_type(ctx);
    	if_block = if_blocks[current_block_type_index] = if_block_creators[current_block_type_index](ctx);

    	const block = {
    		c: function create() {
    			if_block.c();
    			if_block_anchor = empty();
    		},
    		l: function claim(nodes) {
    			throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option");
    		},
    		m: function mount(target, anchor) {
    			if_blocks[current_block_type_index].m(target, anchor);
    			insert_dev(target, if_block_anchor, anchor);
    			current = true;
    		},
    		p: function update(ctx, [dirty]) {
    			let previous_block_index = current_block_type_index;
    			current_block_type_index = select_block_type(ctx);

    			if (current_block_type_index === previous_block_index) {
    				if_blocks[current_block_type_index].p(ctx, dirty);
    			} else {
    				group_outros();

    				transition_out(if_blocks[previous_block_index], 1, 1, () => {
    					if_blocks[previous_block_index] = null;
    				});

    				check_outros();
    				if_block = if_blocks[current_block_type_index];

    				if (!if_block) {
    					if_block = if_blocks[current_block_type_index] = if_block_creators[current_block_type_index](ctx);
    					if_block.c();
    				} else {
    					if_block.p(ctx, dirty);
    				}

    				transition_in(if_block, 1);
    				if_block.m(if_block_anchor.parentNode, if_block_anchor);
    			}
    		},
    		i: function intro(local) {
    			if (current) return;
    			transition_in(if_block);
    			current = true;
    		},
    		o: function outro(local) {
    			transition_out(if_block);
    			current = false;
    		},
    		d: function destroy(detaching) {
    			if_blocks[current_block_type_index].d(detaching);
    			if (detaching) detach_dev(if_block_anchor);
    		}
    	};

    	dispatch_dev("SvelteRegisterBlock", {
    		block,
    		id: create_fragment$o.name,
    		type: "component",
    		source: "",
    		ctx
    	});

    	return block;
    }

    function instance$o($$self, $$props, $$invalidate) {
    	let { $$slots: slots = {}, $$scope } = $$props;
    	validate_slots('List', slots, ['default']);
    	let { ordered } = $$props;
    	let { start } = $$props;

    	$$self.$$.on_mount.push(function () {
    		if (ordered === undefined && !('ordered' in $$props || $$self.$$.bound[$$self.$$.props['ordered']])) {
    			console.warn("<List> was created without expected prop 'ordered'");
    		}

    		if (start === undefined && !('start' in $$props || $$self.$$.bound[$$self.$$.props['start']])) {
    			console.warn("<List> was created without expected prop 'start'");
    		}
    	});

    	const writable_props = ['ordered', 'start'];

    	Object.keys($$props).forEach(key => {
    		if (!~writable_props.indexOf(key) && key.slice(0, 2) !== '$$' && key !== 'slot') console.warn(`<List> was created with unknown prop '${key}'`);
    	});

    	$$self.$$set = $$props => {
    		if ('ordered' in $$props) $$invalidate(0, ordered = $$props.ordered);
    		if ('start' in $$props) $$invalidate(1, start = $$props.start);
    		if ('$$scope' in $$props) $$invalidate(2, $$scope = $$props.$$scope);
    	};

    	$$self.$capture_state = () => ({ ordered, start });

    	$$self.$inject_state = $$props => {
    		if ('ordered' in $$props) $$invalidate(0, ordered = $$props.ordered);
    		if ('start' in $$props) $$invalidate(1, start = $$props.start);
    	};

    	if ($$props && "$$inject" in $$props) {
    		$$self.$inject_state($$props.$$inject);
    	}

    	return [ordered, start, $$scope, slots];
    }

    class List extends SvelteComponentDev {
    	constructor(options) {
    		super(options);
    		init$1(this, options, instance$o, create_fragment$o, safe_not_equal, { ordered: 0, start: 1 });

    		dispatch_dev("SvelteRegisterComponent", {
    			component: this,
    			tagName: "List",
    			options,
    			id: create_fragment$o.name
    		});
    	}

    	get ordered() {
    		throw new Error("<List>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
    	}

    	set ordered(value) {
    		throw new Error("<List>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
    	}

    	get start() {
    		throw new Error("<List>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
    	}

    	set start(value) {
    		throw new Error("<List>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
    	}
    }

    /* node_modules\svelte-markdown\src\renderers\ListItem.svelte generated by Svelte v3.52.0 */

    const file$e = "node_modules\\svelte-markdown\\src\\renderers\\ListItem.svelte";

    function create_fragment$n(ctx) {
    	let li;
    	let current;
    	const default_slot_template = /*#slots*/ ctx[1].default;
    	const default_slot = create_slot(default_slot_template, ctx, /*$$scope*/ ctx[0], null);

    	const block = {
    		c: function create() {
    			li = element("li");
    			if (default_slot) default_slot.c();
    			add_location(li, file$e, 0, 0, 0);
    		},
    		l: function claim(nodes) {
    			throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option");
    		},
    		m: function mount(target, anchor) {
    			insert_dev(target, li, anchor);

    			if (default_slot) {
    				default_slot.m(li, null);
    			}

    			current = true;
    		},
    		p: function update(ctx, [dirty]) {
    			if (default_slot) {
    				if (default_slot.p && (!current || dirty & /*$$scope*/ 1)) {
    					update_slot_base(
    						default_slot,
    						default_slot_template,
    						ctx,
    						/*$$scope*/ ctx[0],
    						!current
    						? get_all_dirty_from_scope(/*$$scope*/ ctx[0])
    						: get_slot_changes(default_slot_template, /*$$scope*/ ctx[0], dirty, null),
    						null
    					);
    				}
    			}
    		},
    		i: function intro(local) {
    			if (current) return;
    			transition_in(default_slot, local);
    			current = true;
    		},
    		o: function outro(local) {
    			transition_out(default_slot, local);
    			current = false;
    		},
    		d: function destroy(detaching) {
    			if (detaching) detach_dev(li);
    			if (default_slot) default_slot.d(detaching);
    		}
    	};

    	dispatch_dev("SvelteRegisterBlock", {
    		block,
    		id: create_fragment$n.name,
    		type: "component",
    		source: "",
    		ctx
    	});

    	return block;
    }

    function instance$n($$self, $$props, $$invalidate) {
    	let { $$slots: slots = {}, $$scope } = $$props;
    	validate_slots('ListItem', slots, ['default']);
    	const writable_props = [];

    	Object.keys($$props).forEach(key => {
    		if (!~writable_props.indexOf(key) && key.slice(0, 2) !== '$$' && key !== 'slot') console.warn(`<ListItem> was created with unknown prop '${key}'`);
    	});

    	$$self.$$set = $$props => {
    		if ('$$scope' in $$props) $$invalidate(0, $$scope = $$props.$$scope);
    	};

    	return [$$scope, slots];
    }

    class ListItem extends SvelteComponentDev {
    	constructor(options) {
    		super(options);
    		init$1(this, options, instance$n, create_fragment$n, safe_not_equal, {});

    		dispatch_dev("SvelteRegisterComponent", {
    			component: this,
    			tagName: "ListItem",
    			options,
    			id: create_fragment$n.name
    		});
    	}
    }

    /* node_modules\svelte-markdown\src\renderers\Hr.svelte generated by Svelte v3.52.0 */

    const file$d = "node_modules\\svelte-markdown\\src\\renderers\\Hr.svelte";

    function create_fragment$m(ctx) {
    	let hr;

    	const block = {
    		c: function create() {
    			hr = element("hr");
    			add_location(hr, file$d, 0, 0, 0);
    		},
    		l: function claim(nodes) {
    			throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option");
    		},
    		m: function mount(target, anchor) {
    			insert_dev(target, hr, anchor);
    		},
    		p: noop,
    		i: noop,
    		o: noop,
    		d: function destroy(detaching) {
    			if (detaching) detach_dev(hr);
    		}
    	};

    	dispatch_dev("SvelteRegisterBlock", {
    		block,
    		id: create_fragment$m.name,
    		type: "component",
    		source: "",
    		ctx
    	});

    	return block;
    }

    function instance$m($$self, $$props) {
    	let { $$slots: slots = {}, $$scope } = $$props;
    	validate_slots('Hr', slots, []);
    	const writable_props = [];

    	Object.keys($$props).forEach(key => {
    		if (!~writable_props.indexOf(key) && key.slice(0, 2) !== '$$' && key !== 'slot') console.warn(`<Hr> was created with unknown prop '${key}'`);
    	});

    	return [];
    }

    class Hr extends SvelteComponentDev {
    	constructor(options) {
    		super(options);
    		init$1(this, options, instance$m, create_fragment$m, safe_not_equal, {});

    		dispatch_dev("SvelteRegisterComponent", {
    			component: this,
    			tagName: "Hr",
    			options,
    			id: create_fragment$m.name
    		});
    	}
    }

    /* node_modules\svelte-markdown\src\renderers\Html.svelte generated by Svelte v3.52.0 */

    function create_fragment$l(ctx) {
    	let html_tag;
    	let html_anchor;

    	const block = {
    		c: function create() {
    			html_tag = new HtmlTag(false);
    			html_anchor = empty();
    			html_tag.a = html_anchor;
    		},
    		l: function claim(nodes) {
    			throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option");
    		},
    		m: function mount(target, anchor) {
    			html_tag.m(/*text*/ ctx[0], target, anchor);
    			insert_dev(target, html_anchor, anchor);
    		},
    		p: function update(ctx, [dirty]) {
    			if (dirty & /*text*/ 1) html_tag.p(/*text*/ ctx[0]);
    		},
    		i: noop,
    		o: noop,
    		d: function destroy(detaching) {
    			if (detaching) detach_dev(html_anchor);
    			if (detaching) html_tag.d();
    		}
    	};

    	dispatch_dev("SvelteRegisterBlock", {
    		block,
    		id: create_fragment$l.name,
    		type: "component",
    		source: "",
    		ctx
    	});

    	return block;
    }

    function instance$l($$self, $$props, $$invalidate) {
    	let { $$slots: slots = {}, $$scope } = $$props;
    	validate_slots('Html', slots, []);
    	let { text } = $$props;

    	$$self.$$.on_mount.push(function () {
    		if (text === undefined && !('text' in $$props || $$self.$$.bound[$$self.$$.props['text']])) {
    			console.warn("<Html> was created without expected prop 'text'");
    		}
    	});

    	const writable_props = ['text'];

    	Object.keys($$props).forEach(key => {
    		if (!~writable_props.indexOf(key) && key.slice(0, 2) !== '$$' && key !== 'slot') console.warn(`<Html> was created with unknown prop '${key}'`);
    	});

    	$$self.$$set = $$props => {
    		if ('text' in $$props) $$invalidate(0, text = $$props.text);
    	};

    	$$self.$capture_state = () => ({ text });

    	$$self.$inject_state = $$props => {
    		if ('text' in $$props) $$invalidate(0, text = $$props.text);
    	};

    	if ($$props && "$$inject" in $$props) {
    		$$self.$inject_state($$props.$$inject);
    	}

    	return [text];
    }

    class Html extends SvelteComponentDev {
    	constructor(options) {
    		super(options);
    		init$1(this, options, instance$l, create_fragment$l, safe_not_equal, { text: 0 });

    		dispatch_dev("SvelteRegisterComponent", {
    			component: this,
    			tagName: "Html",
    			options,
    			id: create_fragment$l.name
    		});
    	}

    	get text() {
    		throw new Error("<Html>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
    	}

    	set text(value) {
    		throw new Error("<Html>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
    	}
    }

    /* node_modules\svelte-markdown\src\renderers\Blockquote.svelte generated by Svelte v3.52.0 */

    const file$c = "node_modules\\svelte-markdown\\src\\renderers\\Blockquote.svelte";

    function create_fragment$k(ctx) {
    	let blockquote;
    	let current;
    	const default_slot_template = /*#slots*/ ctx[1].default;
    	const default_slot = create_slot(default_slot_template, ctx, /*$$scope*/ ctx[0], null);

    	const block = {
    		c: function create() {
    			blockquote = element("blockquote");
    			if (default_slot) default_slot.c();
    			add_location(blockquote, file$c, 0, 0, 0);
    		},
    		l: function claim(nodes) {
    			throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option");
    		},
    		m: function mount(target, anchor) {
    			insert_dev(target, blockquote, anchor);

    			if (default_slot) {
    				default_slot.m(blockquote, null);
    			}

    			current = true;
    		},
    		p: function update(ctx, [dirty]) {
    			if (default_slot) {
    				if (default_slot.p && (!current || dirty & /*$$scope*/ 1)) {
    					update_slot_base(
    						default_slot,
    						default_slot_template,
    						ctx,
    						/*$$scope*/ ctx[0],
    						!current
    						? get_all_dirty_from_scope(/*$$scope*/ ctx[0])
    						: get_slot_changes(default_slot_template, /*$$scope*/ ctx[0], dirty, null),
    						null
    					);
    				}
    			}
    		},
    		i: function intro(local) {
    			if (current) return;
    			transition_in(default_slot, local);
    			current = true;
    		},
    		o: function outro(local) {
    			transition_out(default_slot, local);
    			current = false;
    		},
    		d: function destroy(detaching) {
    			if (detaching) detach_dev(blockquote);
    			if (default_slot) default_slot.d(detaching);
    		}
    	};

    	dispatch_dev("SvelteRegisterBlock", {
    		block,
    		id: create_fragment$k.name,
    		type: "component",
    		source: "",
    		ctx
    	});

    	return block;
    }

    function instance$k($$self, $$props, $$invalidate) {
    	let { $$slots: slots = {}, $$scope } = $$props;
    	validate_slots('Blockquote', slots, ['default']);
    	const writable_props = [];

    	Object.keys($$props).forEach(key => {
    		if (!~writable_props.indexOf(key) && key.slice(0, 2) !== '$$' && key !== 'slot') console.warn(`<Blockquote> was created with unknown prop '${key}'`);
    	});

    	$$self.$$set = $$props => {
    		if ('$$scope' in $$props) $$invalidate(0, $$scope = $$props.$$scope);
    	};

    	return [$$scope, slots];
    }

    class Blockquote extends SvelteComponentDev {
    	constructor(options) {
    		super(options);
    		init$1(this, options, instance$k, create_fragment$k, safe_not_equal, {});

    		dispatch_dev("SvelteRegisterComponent", {
    			component: this,
    			tagName: "Blockquote",
    			options,
    			id: create_fragment$k.name
    		});
    	}
    }

    /* node_modules\svelte-markdown\src\renderers\Code.svelte generated by Svelte v3.52.0 */

    const file$b = "node_modules\\svelte-markdown\\src\\renderers\\Code.svelte";

    function create_fragment$j(ctx) {
    	let pre;
    	let code;
    	let t;

    	const block = {
    		c: function create() {
    			pre = element("pre");
    			code = element("code");
    			t = text(/*text*/ ctx[1]);
    			add_location(code, file$b, 5, 18, 74);
    			attr_dev(pre, "class", /*lang*/ ctx[0]);
    			add_location(pre, file$b, 5, 0, 56);
    		},
    		l: function claim(nodes) {
    			throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option");
    		},
    		m: function mount(target, anchor) {
    			insert_dev(target, pre, anchor);
    			append_dev(pre, code);
    			append_dev(code, t);
    		},
    		p: function update(ctx, [dirty]) {
    			if (dirty & /*text*/ 2) set_data_dev(t, /*text*/ ctx[1]);

    			if (dirty & /*lang*/ 1) {
    				attr_dev(pre, "class", /*lang*/ ctx[0]);
    			}
    		},
    		i: noop,
    		o: noop,
    		d: function destroy(detaching) {
    			if (detaching) detach_dev(pre);
    		}
    	};

    	dispatch_dev("SvelteRegisterBlock", {
    		block,
    		id: create_fragment$j.name,
    		type: "component",
    		source: "",
    		ctx
    	});

    	return block;
    }

    function instance$j($$self, $$props, $$invalidate) {
    	let { $$slots: slots = {}, $$scope } = $$props;
    	validate_slots('Code', slots, []);
    	let { lang } = $$props;
    	let { text } = $$props;

    	$$self.$$.on_mount.push(function () {
    		if (lang === undefined && !('lang' in $$props || $$self.$$.bound[$$self.$$.props['lang']])) {
    			console.warn("<Code> was created without expected prop 'lang'");
    		}

    		if (text === undefined && !('text' in $$props || $$self.$$.bound[$$self.$$.props['text']])) {
    			console.warn("<Code> was created without expected prop 'text'");
    		}
    	});

    	const writable_props = ['lang', 'text'];

    	Object.keys($$props).forEach(key => {
    		if (!~writable_props.indexOf(key) && key.slice(0, 2) !== '$$' && key !== 'slot') console.warn(`<Code> was created with unknown prop '${key}'`);
    	});

    	$$self.$$set = $$props => {
    		if ('lang' in $$props) $$invalidate(0, lang = $$props.lang);
    		if ('text' in $$props) $$invalidate(1, text = $$props.text);
    	};

    	$$self.$capture_state = () => ({ lang, text });

    	$$self.$inject_state = $$props => {
    		if ('lang' in $$props) $$invalidate(0, lang = $$props.lang);
    		if ('text' in $$props) $$invalidate(1, text = $$props.text);
    	};

    	if ($$props && "$$inject" in $$props) {
    		$$self.$inject_state($$props.$$inject);
    	}

    	return [lang, text];
    }

    class Code extends SvelteComponentDev {
    	constructor(options) {
    		super(options);
    		init$1(this, options, instance$j, create_fragment$j, safe_not_equal, { lang: 0, text: 1 });

    		dispatch_dev("SvelteRegisterComponent", {
    			component: this,
    			tagName: "Code",
    			options,
    			id: create_fragment$j.name
    		});
    	}

    	get lang() {
    		throw new Error("<Code>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
    	}

    	set lang(value) {
    		throw new Error("<Code>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
    	}

    	get text() {
    		throw new Error("<Code>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
    	}

    	set text(value) {
    		throw new Error("<Code>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
    	}
    }

    /* node_modules\svelte-markdown\src\renderers\Br.svelte generated by Svelte v3.52.0 */

    const file$a = "node_modules\\svelte-markdown\\src\\renderers\\Br.svelte";

    function create_fragment$i(ctx) {
    	let br;
    	let current;
    	const default_slot_template = /*#slots*/ ctx[1].default;
    	const default_slot = create_slot(default_slot_template, ctx, /*$$scope*/ ctx[0], null);

    	const block = {
    		c: function create() {
    			br = element("br");
    			if (default_slot) default_slot.c();
    			add_location(br, file$a, 0, 0, 0);
    		},
    		l: function claim(nodes) {
    			throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option");
    		},
    		m: function mount(target, anchor) {
    			insert_dev(target, br, anchor);

    			if (default_slot) {
    				default_slot.m(target, anchor);
    			}

    			current = true;
    		},
    		p: function update(ctx, [dirty]) {
    			if (default_slot) {
    				if (default_slot.p && (!current || dirty & /*$$scope*/ 1)) {
    					update_slot_base(
    						default_slot,
    						default_slot_template,
    						ctx,
    						/*$$scope*/ ctx[0],
    						!current
    						? get_all_dirty_from_scope(/*$$scope*/ ctx[0])
    						: get_slot_changes(default_slot_template, /*$$scope*/ ctx[0], dirty, null),
    						null
    					);
    				}
    			}
    		},
    		i: function intro(local) {
    			if (current) return;
    			transition_in(default_slot, local);
    			current = true;
    		},
    		o: function outro(local) {
    			transition_out(default_slot, local);
    			current = false;
    		},
    		d: function destroy(detaching) {
    			if (detaching) detach_dev(br);
    			if (default_slot) default_slot.d(detaching);
    		}
    	};

    	dispatch_dev("SvelteRegisterBlock", {
    		block,
    		id: create_fragment$i.name,
    		type: "component",
    		source: "",
    		ctx
    	});

    	return block;
    }

    function instance$i($$self, $$props, $$invalidate) {
    	let { $$slots: slots = {}, $$scope } = $$props;
    	validate_slots('Br', slots, ['default']);
    	const writable_props = [];

    	Object.keys($$props).forEach(key => {
    		if (!~writable_props.indexOf(key) && key.slice(0, 2) !== '$$' && key !== 'slot') console.warn(`<Br> was created with unknown prop '${key}'`);
    	});

    	$$self.$$set = $$props => {
    		if ('$$scope' in $$props) $$invalidate(0, $$scope = $$props.$$scope);
    	};

    	return [$$scope, slots];
    }

    class Br extends SvelteComponentDev {
    	constructor(options) {
    		super(options);
    		init$1(this, options, instance$i, create_fragment$i, safe_not_equal, {});

    		dispatch_dev("SvelteRegisterComponent", {
    			component: this,
    			tagName: "Br",
    			options,
    			id: create_fragment$i.name
    		});
    	}
    }

    const defaultRenderers = {
      heading: Heading,
      paragraph: Paragraph,
      text: Text,
      image: Image$1,
      link: Link,
      em: Em,
      strong: Strong,
      codespan: Codespan,
      del: Del,
      table: Table,
      tablehead: TableHead,
      tablebody: TableBody,
      tablerow: TableRow,
      tablecell: TableCell,
      list: List,
      orderedlistitem: null,
      unorderedlistitem: null,
      listitem: ListItem,
      hr: Hr,
      html: Html,
      blockquote: Blockquote,
      code: Code,
      br: Br,
    };
    const defaultOptions = {
      baseUrl: null,
      breaks: false,
      gfm: true,
      headerIds: true,
      headerPrefix: '',
      highlight: null,
      langPrefix: 'language-',
      mangle: true,
      pedantic: false,
      renderer: null,
      sanitize: false,
      sanitizer: null,
      silent: false,
      smartLists: false,
      smartypants: false,
      tokenizer: null,
      xhtml: false,
    };

    /* node_modules\svelte-markdown\src\SvelteMarkdown.svelte generated by Svelte v3.52.0 */

    function create_fragment$h(ctx) {
    	let parser;
    	let current;

    	parser = new Parser$1({
    			props: {
    				tokens: /*tokens*/ ctx[0],
    				renderers: /*combinedRenderers*/ ctx[1]
    			},
    			$$inline: true
    		});

    	const block = {
    		c: function create() {
    			create_component(parser.$$.fragment);
    		},
    		l: function claim(nodes) {
    			throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option");
    		},
    		m: function mount(target, anchor) {
    			mount_component(parser, target, anchor);
    			current = true;
    		},
    		p: function update(ctx, [dirty]) {
    			const parser_changes = {};
    			if (dirty & /*tokens*/ 1) parser_changes.tokens = /*tokens*/ ctx[0];
    			if (dirty & /*combinedRenderers*/ 2) parser_changes.renderers = /*combinedRenderers*/ ctx[1];
    			parser.$set(parser_changes);
    		},
    		i: function intro(local) {
    			if (current) return;
    			transition_in(parser.$$.fragment, local);
    			current = true;
    		},
    		o: function outro(local) {
    			transition_out(parser.$$.fragment, local);
    			current = false;
    		},
    		d: function destroy(detaching) {
    			destroy_component(parser, detaching);
    		}
    	};

    	dispatch_dev("SvelteRegisterBlock", {
    		block,
    		id: create_fragment$h.name,
    		type: "component",
    		source: "",
    		ctx
    	});

    	return block;
    }

    function instance$h($$self, $$props, $$invalidate) {
    	let preprocessed;
    	let slugger;
    	let combinedOptions;
    	let combinedRenderers;
    	let { $$slots: slots = {}, $$scope } = $$props;
    	validate_slots('SvelteMarkdown', slots, []);
    	let { source = [] } = $$props;
    	let { renderers = {} } = $$props;
    	let { options = {} } = $$props;
    	let { isInline = false } = $$props;
    	const dispatch = createEventDispatcher();
    	let tokens;
    	let lexer;
    	let mounted;

    	setContext(key, {
    		slug: val => slugger ? slugger.slug(val) : '',
    		getOptions: () => combinedOptions
    	});

    	onMount(() => {
    		$$invalidate(7, mounted = true);
    	});

    	const writable_props = ['source', 'renderers', 'options', 'isInline'];

    	Object.keys($$props).forEach(key => {
    		if (!~writable_props.indexOf(key) && key.slice(0, 2) !== '$$' && key !== 'slot') console.warn(`<SvelteMarkdown> was created with unknown prop '${key}'`);
    	});

    	$$self.$$set = $$props => {
    		if ('source' in $$props) $$invalidate(2, source = $$props.source);
    		if ('renderers' in $$props) $$invalidate(3, renderers = $$props.renderers);
    		if ('options' in $$props) $$invalidate(4, options = $$props.options);
    		if ('isInline' in $$props) $$invalidate(5, isInline = $$props.isInline);
    	};

    	$$self.$capture_state = () => ({
    		setContext,
    		createEventDispatcher,
    		onMount,
    		Parser: Parser$1,
    		Lexer,
    		Slugger,
    		defaultOptions,
    		defaultRenderers,
    		key,
    		source,
    		renderers,
    		options,
    		isInline,
    		dispatch,
    		tokens,
    		lexer,
    		mounted,
    		preprocessed,
    		combinedOptions,
    		slugger,
    		combinedRenderers
    	});

    	$$self.$inject_state = $$props => {
    		if ('source' in $$props) $$invalidate(2, source = $$props.source);
    		if ('renderers' in $$props) $$invalidate(3, renderers = $$props.renderers);
    		if ('options' in $$props) $$invalidate(4, options = $$props.options);
    		if ('isInline' in $$props) $$invalidate(5, isInline = $$props.isInline);
    		if ('tokens' in $$props) $$invalidate(0, tokens = $$props.tokens);
    		if ('lexer' in $$props) $$invalidate(6, lexer = $$props.lexer);
    		if ('mounted' in $$props) $$invalidate(7, mounted = $$props.mounted);
    		if ('preprocessed' in $$props) $$invalidate(8, preprocessed = $$props.preprocessed);
    		if ('combinedOptions' in $$props) $$invalidate(9, combinedOptions = $$props.combinedOptions);
    		if ('slugger' in $$props) slugger = $$props.slugger;
    		if ('combinedRenderers' in $$props) $$invalidate(1, combinedRenderers = $$props.combinedRenderers);
    	};

    	if ($$props && "$$inject" in $$props) {
    		$$self.$inject_state($$props.$$inject);
    	}

    	$$self.$$.update = () => {
    		if ($$self.$$.dirty & /*source*/ 4) {
    			$$invalidate(8, preprocessed = Array.isArray(source));
    		}

    		if ($$self.$$.dirty & /*source*/ 4) {
    			slugger = source ? new Slugger() : undefined;
    		}

    		if ($$self.$$.dirty & /*options*/ 16) {
    			$$invalidate(9, combinedOptions = { ...defaultOptions, ...options });
    		}

    		if ($$self.$$.dirty & /*preprocessed, source, combinedOptions, isInline, lexer, tokens*/ 869) {
    			if (preprocessed) {
    				$$invalidate(0, tokens = source);
    			} else {
    				$$invalidate(6, lexer = new Lexer(combinedOptions));

    				$$invalidate(0, tokens = isInline
    				? lexer.inlineTokens(source)
    				: lexer.lex(source));

    				dispatch('parsed', { tokens });
    			}
    		}

    		if ($$self.$$.dirty & /*renderers*/ 8) {
    			$$invalidate(1, combinedRenderers = { ...defaultRenderers, ...renderers });
    		}

    		if ($$self.$$.dirty & /*mounted, preprocessed, tokens*/ 385) {
    			mounted && !preprocessed && dispatch('parsed', { tokens });
    		}
    	};

    	return [
    		tokens,
    		combinedRenderers,
    		source,
    		renderers,
    		options,
    		isInline,
    		lexer,
    		mounted,
    		preprocessed,
    		combinedOptions
    	];
    }

    class SvelteMarkdown extends SvelteComponentDev {
    	constructor(options) {
    		super(options);

    		init$1(this, options, instance$h, create_fragment$h, safe_not_equal, {
    			source: 2,
    			renderers: 3,
    			options: 4,
    			isInline: 5
    		});

    		dispatch_dev("SvelteRegisterComponent", {
    			component: this,
    			tagName: "SvelteMarkdown",
    			options,
    			id: create_fragment$h.name
    		});
    	}

    	get source() {
    		throw new Error("<SvelteMarkdown>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
    	}

    	set source(value) {
    		throw new Error("<SvelteMarkdown>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
    	}

    	get renderers() {
    		throw new Error("<SvelteMarkdown>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
    	}

    	set renderers(value) {
    		throw new Error("<SvelteMarkdown>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
    	}

    	get options() {
    		throw new Error("<SvelteMarkdown>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
    	}

    	set options(value) {
    		throw new Error("<SvelteMarkdown>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
    	}

    	get isInline() {
    		throw new Error("<SvelteMarkdown>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
    	}

    	set isInline(value) {
    		throw new Error("<SvelteMarkdown>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
    	}
    }

    var source$8 = "The Paella (pronounced `paeja`) Player is an Open Source Javascript video player capable of playing an unlimited number of audio & video streams synchronously, Live Streaming, Zoom, Captions, contributed user plugins and a lot more. It is easy to install and customize for your own needs.\r\n\r\nPaella has been specially designed for lecture recordings, and currently is the default video player of the [Opencast Community](https://opencast.org/). It works with all HTML5 browsers (Chrome, Firefox, Safari and Edge) and within iOS and Android.\r\n\r\nHave a look to the [features list](#/features), see them live on our demo page, or browse the source code in Github.\r\n\r\nYou may also take your first contact with Paella looking at the next example video.";

    var commonjsGlobal = typeof globalThis !== 'undefined' ? globalThis : typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};

    function getDefaultExportFromCjs (x) {
    	return x && x.__esModule && Object.prototype.hasOwnProperty.call(x, 'default') ? x['default'] : x;
    }

    function createCommonjsModule(fn) {
      var module = { exports: {} };
    	return fn(module, module.exports), module.exports;
    }

    /*! For license information please see paella-core.js.LICENSE.txt */

    var paellaCore = createCommonjsModule(function (module, exports) {
    !function(t,e){module.exports=e();}(self,(()=>(()=>{var t={1993:(t,e,r)=>{r.r(e),r.d(e,{AudioCanvas:()=>p,default:()=>y});var n=r(4382);function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function o(){o=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value;},a="function"==typeof Symbol?Symbol:{},s=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"");}catch(t){l=function(t,e,r){return t[e]=r};}function f(t,e,r,i){var o=e&&e.prototype instanceof p?e:p,a=Object.create(o.prototype),s=new C(i||[]);return n(a,"_invoke",{value:x(t,r,s)}),a}function h(t,e,r){try{return {type:"normal",arg:t.call(e,r)}}catch(t){return {type:"throw",arg:t}}}t.wrap=f;var d={};function p(){}function y(){}function v(){}var g={};l(g,s,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(S([])));b&&b!==e&&r.call(b,s)&&(g=b);var w=v.prototype=p.prototype=Object.create(g);function A(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}));}));}function E(t,e){function o(n,a,s,c){var u=h(t[n],t,a);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==i(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,s,c);}),(function(t){o("throw",t,s,c);})):e.resolve(f).then((function(t){l.value=t,s(l);}),(function(t){return o("throw",t,s,c)}))}c(u.arg);}var a;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n);}))}return a=a?a.then(n,n):n()}});}function x(t,e,r){var n="suspendedStart";return function(i,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===i)throw o;return {value:void 0,done:!0}}for(r.method=i,r.arg=o;;){var a=r.delegate;if(a){var s=L(a,r);if(s){if(s===d)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg);}else "return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=h(t,e,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===d)continue;return {value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg);}}}function L(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,L(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),d;var i=h(n,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,d;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e);}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e;}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0);}function S(t){if(t){var e=t[s];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return {next:T}}function T(){return {value:void 0,done:!0}}return y.prototype=v,n(w,"constructor",{value:v,configurable:!0}),n(v,"constructor",{value:y,configurable:!0}),y.displayName=l(v,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return !!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,l(t,u,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return {__await:t}},A(E.prototype),l(E.prototype,c,(function(){return this})),t.AsyncIterator=E,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new E(f(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},A(w),l(w,u,"Generator"),l(w,s,(function(){return this})),l(w,"toString",(function(){return "[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=S,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0);},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else {if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return "break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;k(r);}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:S(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},t}function a(t,e,r,n,i,o,a){try{var s=t[o](a),c=s.value;}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,i);}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(o=function(t,e){if("object"!==i(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===i(o)?o:String(o)),n);}var o;}function u(t,e,r){return e&&c(t.prototype,e),r&&c(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&f(t,e);}function f(t,e){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},f(t,e)}function h(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return !1;if(Reflect.construct.sham)return !1;if("function"==typeof Proxy)return !0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return !1}}();return function(){var r,n=d(t);if(e){var o=d(this).constructor;r=Reflect.construct(n,arguments,o);}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===i(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function d(t){return d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},d(t)}var p=function(t){l(i,t);var e,r,n=h(i);function i(t,e){var r;return s(this,i),(r=n.call(this,"div",t,e)).element.classList.add("image-canvas"),r}return u(i,[{key:"loadCanvas",value:(e=o().mark((function t(e){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.element.style.width="100%",e.element.style.height="100%";case 2:case"end":return t.stop()}}),t)})),r=function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function s(t){a(o,n,i,s,c,"next",t);}function c(t){a(o,n,i,s,c,"throw",t);}s(void 0);}))},function(t){return r.apply(this,arguments)})}]),i}(n.Xz),y=function(t){l(r,t);var e=h(r);function r(){return s(this,r),e.apply(this,arguments)}return u(r,[{key:"canvasType",get:function(){return "audio"}},{key:"getCanvasInstance",value:function(t){return new p(this.player,t)}}]),r}(n.ZP);},1425:(t,e,r)=>{r.r(e),r.d(e,{TestVideoCanvas:()=>v,default:()=>g});var n=r(4382);function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function o(){return o="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=y(t)););return t}(t,e);if(n){var i=Object.getOwnPropertyDescriptor(n,e);return i.get?i.get.call(arguments.length<3?t:r):i.value}},o.apply(this,arguments)}function a(){a=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value;},o="function"==typeof Symbol?Symbol:{},s=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"");}catch(t){l=function(t,e,r){return t[e]=r};}function f(t,e,r,i){var o=e&&e.prototype instanceof p?e:p,a=Object.create(o.prototype),s=new C(i||[]);return n(a,"_invoke",{value:x(t,r,s)}),a}function h(t,e,r){try{return {type:"normal",arg:t.call(e,r)}}catch(t){return {type:"throw",arg:t}}}t.wrap=f;var d={};function p(){}function y(){}function v(){}var g={};l(g,s,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(S([])));b&&b!==e&&r.call(b,s)&&(g=b);var w=v.prototype=p.prototype=Object.create(g);function A(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}));}));}function E(t,e){function o(n,a,s,c){var u=h(t[n],t,a);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==i(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,s,c);}),(function(t){o("throw",t,s,c);})):e.resolve(f).then((function(t){l.value=t,s(l);}),(function(t){return o("throw",t,s,c)}))}c(u.arg);}var a;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n);}))}return a=a?a.then(n,n):n()}});}function x(t,e,r){var n="suspendedStart";return function(i,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===i)throw o;return {value:void 0,done:!0}}for(r.method=i,r.arg=o;;){var a=r.delegate;if(a){var s=L(a,r);if(s){if(s===d)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg);}else "return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=h(t,e,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===d)continue;return {value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg);}}}function L(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,L(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),d;var i=h(n,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,d;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e);}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e;}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0);}function S(t){if(t){var e=t[s];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return {next:T}}function T(){return {value:void 0,done:!0}}return y.prototype=v,n(w,"constructor",{value:v,configurable:!0}),n(v,"constructor",{value:y,configurable:!0}),y.displayName=l(v,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return !!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,l(t,u,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return {__await:t}},A(E.prototype),l(E.prototype,c,(function(){return this})),t.AsyncIterator=E,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new E(f(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},A(w),l(w,u,"Generator"),l(w,s,(function(){return this})),l(w,"toString",(function(){return "[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=S,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0);},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else {if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return "break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;k(r);}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:S(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},t}function s(t,e,r,n,i,o,a){try{var s=t[o](a),c=s.value;}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,i);}function c(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){s(o,n,i,a,c,"next",t);}function c(t){s(o,n,i,a,c,"throw",t);}a(void 0);}))}}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(o=function(t,e){if("object"!==i(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===i(o)?o:String(o)),n);}var o;}function f(t,e,r){return e&&l(t.prototype,e),r&&l(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function h(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&d(t,e);}function d(t,e){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},d(t,e)}function p(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return !1;if(Reflect.construct.sham)return !1;if("function"==typeof Proxy)return !0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return !1}}();return function(){var r,n=y(t);if(e){var o=y(this).constructor;r=Reflect.construct(n,arguments,o);}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===i(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function y(t){return y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},y(t)}var v=function(t){h(n,t);var e,r=p(n);function n(t,e){return u(this,n),r.call(this,"div",t,e)}return f(n,[{key:"loadCanvas",value:(e=c(a().mark((function t(e){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.parent,e.element.style.width="200%",e.element.style.height="200%",e.element.style.top="-25%",e.element.style.left="-25%",e.element.style.position="absolute",this.element.style.overflow="hidden",this.element.style.position="relative",this.player.log.debug("test video canvas");case 9:case"end":return t.stop()}}),t,this)}))),function(t){return e.apply(this,arguments)})}]),n}(n.Xz),g=function(t){h(n,t);var e,r=p(n);function n(){return u(this,n),r.apply(this,arguments)}return f(n,[{key:"canvasType",get:function(){return "video"}},{key:"isEnabled",value:(e=c(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.player.log.debug("TestVideoCanvasPlugin"),t.abrupt("return",o(y(n.prototype),"isEnabled",this).call(this));case 2:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})},{key:"isCompatible",value:function(t){return !Array.isArray(t.canvas)||0===t.canvas.length||o(y(n.prototype),"isCompatible",this).call(this,t)}},{key:"getCanvasInstance",value:function(t){return new v(this.player,t)}}]),n}(n.ZP);},6280:(t,e,r)=>{r.r(e),r.d(e,{VideoCanvas:()=>y,default:()=>v});var n=r(4382);function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function o(){return o="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=p(t)););return t}(t,e);if(n){var i=Object.getOwnPropertyDescriptor(n,e);return i.get?i.get.call(arguments.length<3?t:r):i.value}},o.apply(this,arguments)}function a(){a=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value;},o="function"==typeof Symbol?Symbol:{},s=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"");}catch(t){l=function(t,e,r){return t[e]=r};}function f(t,e,r,i){var o=e&&e.prototype instanceof p?e:p,a=Object.create(o.prototype),s=new C(i||[]);return n(a,"_invoke",{value:x(t,r,s)}),a}function h(t,e,r){try{return {type:"normal",arg:t.call(e,r)}}catch(t){return {type:"throw",arg:t}}}t.wrap=f;var d={};function p(){}function y(){}function v(){}var g={};l(g,s,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(S([])));b&&b!==e&&r.call(b,s)&&(g=b);var w=v.prototype=p.prototype=Object.create(g);function A(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}));}));}function E(t,e){function o(n,a,s,c){var u=h(t[n],t,a);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==i(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,s,c);}),(function(t){o("throw",t,s,c);})):e.resolve(f).then((function(t){l.value=t,s(l);}),(function(t){return o("throw",t,s,c)}))}c(u.arg);}var a;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n);}))}return a=a?a.then(n,n):n()}});}function x(t,e,r){var n="suspendedStart";return function(i,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===i)throw o;return {value:void 0,done:!0}}for(r.method=i,r.arg=o;;){var a=r.delegate;if(a){var s=L(a,r);if(s){if(s===d)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg);}else "return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=h(t,e,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===d)continue;return {value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg);}}}function L(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,L(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),d;var i=h(n,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,d;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e);}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e;}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0);}function S(t){if(t){var e=t[s];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return {next:T}}function T(){return {value:void 0,done:!0}}return y.prototype=v,n(w,"constructor",{value:v,configurable:!0}),n(v,"constructor",{value:y,configurable:!0}),y.displayName=l(v,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return !!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,l(t,u,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return {__await:t}},A(E.prototype),l(E.prototype,c,(function(){return this})),t.AsyncIterator=E,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new E(f(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},A(w),l(w,u,"Generator"),l(w,s,(function(){return this})),l(w,"toString",(function(){return "[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=S,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0);},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else {if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return "break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;k(r);}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:S(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},t}function s(t,e,r,n,i,o,a){try{var s=t[o](a),c=s.value;}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,i);}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(o=function(t,e){if("object"!==i(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===i(o)?o:String(o)),n);}var o;}function l(t,e,r){return e&&u(t.prototype,e),r&&u(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function f(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&h(t,e);}function h(t,e){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},h(t,e)}function d(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return !1;if(Reflect.construct.sham)return !1;if("function"==typeof Proxy)return !0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return !1}}();return function(){var r,n=p(t);if(e){var o=p(this).constructor;r=Reflect.construct(n,arguments,o);}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===i(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function p(t){return p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},p(t)}var y=function(t){f(i,t);var e,r,n=d(i);function i(t,e){return c(this,i),n.call(this,"div",t,e)}return l(i,[{key:"loadCanvas",value:(e=a().mark((function t(e){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.element.style.width="100%",e.element.style.height="100%";case 2:case"end":return t.stop()}}),t)})),r=function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(t){s(o,n,i,a,c,"next",t);}function c(t){s(o,n,i,a,c,"throw",t);}a(void 0);}))},function(t){return r.apply(this,arguments)})}]),i}(n.Xz),v=function(t){f(r,t);var e=d(r);function r(){return c(this,r),e.apply(this,arguments)}return l(r,[{key:"canvasType",get:function(){return "video"}},{key:"isCompatible",value:function(t){return !Array.isArray(t.canvas)||0===t.canvas.length||o(p(r.prototype),"isCompatible",this).call(this,t)}},{key:"getCanvasInstance",value:function(t){return new y(this.player,t)}}]),r}(n.ZP);},7096:(t,e,r)=>{r.d(e,{Z:()=>a});var n=r(1401);function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function o(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(o=function(t,e){if("object"!==i(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===i(o)?o:String(o)),n);}var o;}var a=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._cues=[],this._label=e,this._lang=r;}var e,r;return e=t,(r=[{key:"cues",get:function(){return this._cues}},{key:"label",get:function(){return this._label},set:function(t){this._label=t;}},{key:"language",get:function(){return this._lang},set:function(t){this._lang=t;}},{key:"addCue",value:function(t){var e=t.label,r=void 0===e?"":e,i=t.start,o=t.end,a=t.captions,s={label:r};if("string"==typeof a)s.captions=[a];else {if(!Array.isArray(a))throw Error("Invalid cue caption format: must be an array of strings or a string");s.captions=a;}if("string"==typeof i)s.start=(0, n.timeToSeconds)(i),s.startString=i;else {if("number"!=typeof i)throw Error("Invalid cue timestamp format: must be a valid time string or a number of seconds");s.start=i,s.startString=(0, n.secondsToTime)(i);}if("string"==typeof o)s.end=(0, n.timeToSeconds)(o),s.endString=o;else {if("number"!=typeof o)throw Error("Invalid cue timestamp format: must be a valid time string or a number of seconds");s.end=o,s.endString=(0, n.secondsToTime)(o);}return this._cues.push(s),s}},{key:"getCue",value:function(t){if("string"==typeof t)t=(0, n.timeToSeconds)(t);else if("number"!=typeof t)throw Error("Invalid time instant format getting cue");var e=null;return this._cues.some((function(r){if(t>=r.start&&t<=r.end)return e=r,!0})),e}}])&&o(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();},8704:(t,e,r)=>{r.d(e,{N:()=>h,Z:()=>p});var n=r(9076),i=r(8450);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function a(){a=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value;},i="function"==typeof Symbol?Symbol:{},s=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"");}catch(t){l=function(t,e,r){return t[e]=r};}function f(t,e,r,i){var o=e&&e.prototype instanceof p?e:p,a=Object.create(o.prototype),s=new C(i||[]);return n(a,"_invoke",{value:x(t,r,s)}),a}function h(t,e,r){try{return {type:"normal",arg:t.call(e,r)}}catch(t){return {type:"throw",arg:t}}}t.wrap=f;var d={};function p(){}function y(){}function v(){}var g={};l(g,s,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(S([])));b&&b!==e&&r.call(b,s)&&(g=b);var w=v.prototype=p.prototype=Object.create(g);function A(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}));}));}function E(t,e){function i(n,a,s,c){var u=h(t[n],t,a);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==o(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){i("next",t,s,c);}),(function(t){i("throw",t,s,c);})):e.resolve(f).then((function(t){l.value=t,s(l);}),(function(t){return i("throw",t,s,c)}))}c(u.arg);}var a;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){i(t,r,e,n);}))}return a=a?a.then(n,n):n()}});}function x(t,e,r){var n="suspendedStart";return function(i,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===i)throw o;return {value:void 0,done:!0}}for(r.method=i,r.arg=o;;){var a=r.delegate;if(a){var s=L(a,r);if(s){if(s===d)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg);}else "return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=h(t,e,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===d)continue;return {value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg);}}}function L(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,L(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),d;var i=h(n,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,d;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e);}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e;}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0);}function S(t){if(t){var e=t[s];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return {next:T}}function T(){return {value:void 0,done:!0}}return y.prototype=v,n(w,"constructor",{value:v,configurable:!0}),n(v,"constructor",{value:y,configurable:!0}),y.displayName=l(v,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return !!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,l(t,u,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return {__await:t}},A(E.prototype),l(E.prototype,c,(function(){return this})),t.AsyncIterator=E,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new E(f(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},A(w),l(w,u,"Generator"),l(w,s,(function(){return this})),l(w,"toString",(function(){return "[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=S,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0);},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else {if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return "break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;k(r);}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:S(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},t}function s(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(i=function(t,e){if("object"!==o(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===o(i)?i:String(i)),n);}var i;}function c(t,e){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},c(t,e)}function u(t){return u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},u(t)}function l(t,e,r,n,i,o,a){try{var s=t[o](a),c=s.value;}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,i);}function f(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){l(o,n,i,a,s,"next",t);}function s(t){l(o,n,i,a,s,"throw",t);}a(void 0);}))}}function h(t){return d.apply(this,arguments)}function d(){return d=f(a().mark((function t(e){var r,n,o;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=[],t.next=3,(0, i.FP)(e,"captions",function(){var t=f(a().mark((function t(e){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r.push(e);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 3:n=a().mark((function t(){var n,i,s;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r[o],t.next=3,n.getCaptions();case 3:i=t.sent,s=e.captionsCanvas,i.forEach((function(t){return s.addCaptions(t)}));case 6:case"end":return t.stop()}}),t)})),t.t0=a().keys(r);case 5:if((t.t1=t.t0()).done){t.next=10;break}return o=t.t1.value,t.delegateYield(n(),"t2",8);case 8:t.next=5;break;case 10:case"end":return t.stop()}}),t)}))),d.apply(this,arguments)}var p=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&c(t,e);}(p,t);var e,r,n,i,l,h,d=(l=p,h=function(){if("undefined"==typeof Reflect||!Reflect.construct)return !1;if(Reflect.construct.sham)return !1;if("function"==typeof Proxy)return !0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return !1}}(),function(){var t,e=u(l);if(h){var r=u(this).constructor;t=Reflect.construct(e,arguments,r);}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===o(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function p(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,p),d.apply(this,arguments)}return e=p,r=[{key:"type",get:function(){return "captions"}},{key:"load",value:(i=f(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.player.log.debug("load captions plugin");case 1:case"end":return t.stop()}}),t,this)}))),function(){return i.apply(this,arguments)})},{key:"getCaptions",value:(n=f(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.player.log.warn("CaptionsPlugin ".concat(this.name,": getCaptions() is not implemented.")),t.abrupt("return",[]);case 2:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})}],r&&s(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),p}(n.Z);},1309:(t,e,r)=>{r.d(e,{Z:()=>f,n:()=>l});var n=r(7096);function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function o(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(o=function(t,e){if("object"!==i(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===i(o)?o:String(o)),n);}var o;}var a="(?:\\d*:){1,2}\\d*(?:\\.\\d+)?",s="(".concat(a,")\\s*\\-\\->\\s*(").concat(a,")"),c={cueTiming:new RegExp(s)},u=function(t,e,r,n){var i=c.cueTiming.exec(e);if(i){for(var o=n[r-1],a=[],s=1;r+s<n.length&&""!==n[r+s];++s)a.push(n[r+s]);t.addCue({label:o,start:i[1],end:i[2],captions:a});}};function l(t){var e=new n.Z;return ""!==t&&(t=(t=t.replace(/\r\n/gm,"\n")).replace(/\r/gm,"\n")).split(/\n/).forEach((function(t,r,n){u(e,t,r,n);})),e}var f=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._text=e,this._captions=l(e);}var e,r;return e=t,(r=[{key:"text",get:function(){return this._text},set:function(t){this._text=t,this._captions=l(t);}},{key:"captions",get:function(){return this._captions}}])&&o(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();},2452:(t,e,r)=>{function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function i(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,(o=function(t,e){if("object"!==n(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var i=r.call(t,"string");if("object"!==n(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(i.key),"symbol"===n(o)?o:String(o)),i);}var o;}r.d(e,{Z:()=>o});var o=function(){function t(e){var r=e.id,n=e.name,i=e.groupId,o=void 0===i?"":i,a=e.language,s=void 0===a?"":a,c=e.selected,u=void 0!==c&&c;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._id=r,this._name=n,this._groupId=o,this._lang=s,this._selected=u;}var e,r;return e=t,(r=[{key:"id",get:function(){return this._id}},{key:"name",get:function(){return this._name}},{key:"groupId",get:function(){return this._groupId}},{key:"language",get:function(){return this._lang}},{key:"selected",get:function(){return this._selected},set:function(t){this._selected=t;}}])&&i(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();},7488:(t,e,r)=>{r.d(e,{Z:()=>O});var n=r(7528),i=r(916),o=r(8450),a=r(1768),s=r(629),c=r(3379),u=r.n(c),l=r(7795),f=r.n(l),h=r(569),d=r.n(h),p=r(3565),y=r.n(p),v=r(9216),g=r.n(v),m=r(4589),b=r.n(m),w=r(372),A={};A.styleTagTransform=b(),A.setAttributes=y(),A.insert=d().bind(null,"head"),A.domAPI=f(),A.insertStyleElement=g(),u()(w.Z,A),w.Z&&w.Z.locals&&w.Z.locals;var E=r(1401);function x(t){return x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},x(t)}function L(){L=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value;},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"");}catch(t){c=function(t,e,r){return t[e]=r};}function u(t,e,r,i){var o=e&&e.prototype instanceof h?e:h,a=Object.create(o.prototype),s=new C(i||[]);return n(a,"_invoke",{value:A(t,r,s)}),a}function l(t,e,r){try{return {type:"normal",arg:t.call(e,r)}}catch(t){return {type:"throw",arg:t}}}t.wrap=u;var f={};function h(){}function d(){}function p(){}var y={};c(y,o,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(S([])));g&&g!==e&&r.call(g,o)&&(y=g);var m=p.prototype=h.prototype=Object.create(y);function b(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}));}));}function w(t,e){function i(n,o,a,s){var c=l(t[n],t,o);if("throw"!==c.type){var u=c.arg,f=u.value;return f&&"object"==x(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){i("next",t,a,s);}),(function(t){i("throw",t,a,s);})):e.resolve(f).then((function(t){u.value=t,a(u);}),(function(t){return i("throw",t,a,s)}))}s(c.arg);}var o;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){i(t,r,e,n);}))}return o=o?o.then(n,n):n()}});}function A(t,e,r){var n="suspendedStart";return function(i,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===i)throw o;return {value:void 0,done:!0}}for(r.method=i,r.arg=o;;){var a=r.delegate;if(a){var s=E(a,r);if(s){if(s===f)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg);}else "return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=l(t,e,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===f)continue;return {value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg);}}}function E(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var i=l(n,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,f;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e);}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e;}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0);}function S(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return {next:T}}function T(){return {value:void 0,done:!0}}return d.prototype=p,n(m,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:d,configurable:!0}),d.displayName=c(p,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return !!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,s,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return {__await:t}},b(w.prototype),c(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new w(u(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(m),c(m,s,"Generator"),c(m,o,(function(){return this})),c(m,"toString",(function(){return "[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=S,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0);},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else {if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return "break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;k(r);}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:S(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}function _(t,e,r,n,i,o,a){try{var s=t[o](a),c=s.value;}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,i);}function k(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){_(o,n,i,a,s,"next",t);}function s(t){_(o,n,i,a,s,"throw",t);}a(void 0);}))}}function C(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(i=function(t,e){if("object"!==x(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==x(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===x(i)?i:String(i)),n);}var i;}function S(){return S="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=P(t)););return t}(t,e);if(n){var i=Object.getOwnPropertyDescriptor(n,e);return i.get?i.get.call(arguments.length<3?t:r):i.value}},S.apply(this,arguments)}function T(t,e){return T=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},T(t,e)}function P(t){return P=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},P(t)}var O=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&T(t,e);}(p,t);var e,r,c,u,l,f,h,d=(f=p,h=function(){if("undefined"==typeof Reflect||!Reflect.construct)return !1;if(Reflect.construct.sham)return !1;if("function"==typeof Proxy)return !0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return !1}}(),function(){var t,e=P(f);if(h){var r=P(this).constructor;t=Reflect.construct(e,arguments,r);}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===x(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function p(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,p),d.apply(this,arguments)}return e=p,r=[{key:"load",value:(l=k(L().mark((function t(){return L().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this._iconPath){t.next=4;break}return t.next=3,(0, E.loadSvgIcon)(this._iconPath);case 3:this.icon=t.sent;case 4:case"end":return t.stop()}}),t,this)}))),function(){return l.apply(this,arguments)})},{key:"groupName",get:function(){var t;return (null===(t=this.config)||void 0===t?void 0:t.groupName)||"buttonGroup"}},{key:"popUpType",get:function(){return "no-modal"}},{key:"menuTitle",get:function(){return this.config.menuTitle||null}},{key:"getClosePopUps",value:function(){return !1}},{key:"getContent",value:(u=k(L().mark((function t(){var e,r=this;return L().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=(0, i.jS)('<div class="button-group"></div>'),this._firstItem=null,this._initialized){t.next=8;break}return this.player.log.debug('Load button plugins into "'.concat(this.groupName,'" container')),null!==this.menuTitle&&(0, i.jS)('<div class="button-group-title">'.concat(this.player.translate(this.menuTitle),"</div>"),e),t.next=7,(0, o.FP)(this.player,"button",function(){var t=k(L().mark((function t(o){var c,u;return L().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.player.log.debug(" Button plugin: ".concat(o.name)),c=(0, i.jS)('<div class="button-plugin-wrapper"></div>',e),o instanceof n.Z&&(o.parentPopUp=r._popUp),t.next=5,(0, a.k1)(o,c);case 5:(0, i.jS)('<a class="button-description">'.concat((0, s.Iu)(o.description),"</a>"),c).addEventListener("click",(function(t){o.action(),t.stopPropagation();})),r._firstItem||(u=c.getElementsByTagName("button"),r._firstItem=u&&u[0]);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var t=k(L().mark((function t(e){return L().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.parentContainer!==r.groupName){t.next=7;break}return t.next=4,e.isEnabled();case 4:return t.abrupt("return",t.sent);case 7:return t.abrupt("return",!1);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 7:this._initialized=!0;case 8:return t.abrupt("return",e);case 9:case"end":return t.stop()}}),t,this)}))),function(){return u.apply(this,arguments)})},{key:"showPopUp",value:(c=k(L().mark((function t(){var e=this;return L().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,S(P(p.prototype),"showPopUp",this).call(this);case 2:setTimeout((function(){e._firstItem&&e._firstItem.focus();}),50),this.buttons.forEach((function(t){"none"===t.style.display?e.hideButtonContainer(t):e.showButtonContainer(t);}));case 4:case"end":return t.stop()}}),t,this)}))),function(){return c.apply(this,arguments)})},{key:"buttons",get:function(){return Array.from(this.popUp.element.getElementsByClassName("button-plugin"))}},{key:"hideButtonContainer",value:function(t){var e,r=null===(e=t.parentNode)||void 0===e?void 0:e.parentNode;r&&(r.style.display="none");}},{key:"showButtonContainer",value:function(t){var e,r=null===(e=t.parentNode)||void 0===e?void 0:e.parentNode;r&&(r.style.display=null);}}],r&&C(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),p}(n.Z);},1768:(t,e,r)=>{r.d(e,{ZP:()=>b,k1:()=>g,n:()=>v,nu:()=>y});var n=r(1547),i=(r(8450),r(916)),o=r(980),a=r(629),s=r(6911);function c(t){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c(t)}function u(){u=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value;},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"");}catch(t){l=function(t,e,r){return t[e]=r};}function f(t,e,r,i){var o=e&&e.prototype instanceof p?e:p,a=Object.create(o.prototype),s=new C(i||[]);return n(a,"_invoke",{value:x(t,r,s)}),a}function h(t,e,r){try{return {type:"normal",arg:t.call(e,r)}}catch(t){return {type:"throw",arg:t}}}t.wrap=f;var d={};function p(){}function y(){}function v(){}var g={};l(g,o,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(S([])));b&&b!==e&&r.call(b,o)&&(g=b);var w=v.prototype=p.prototype=Object.create(g);function A(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}));}));}function E(t,e){function i(n,o,a,s){var u=h(t[n],t,o);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==c(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){i("next",t,a,s);}),(function(t){i("throw",t,a,s);})):e.resolve(f).then((function(t){l.value=t,a(l);}),(function(t){return i("throw",t,a,s)}))}s(u.arg);}var o;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){i(t,r,e,n);}))}return o=o?o.then(n,n):n()}});}function x(t,e,r){var n="suspendedStart";return function(i,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===i)throw o;return {value:void 0,done:!0}}for(r.method=i,r.arg=o;;){var a=r.delegate;if(a){var s=L(a,r);if(s){if(s===d)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg);}else "return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=h(t,e,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===d)continue;return {value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg);}}}function L(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,L(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),d;var i=h(n,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,d;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e);}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e;}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0);}function S(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return {next:T}}function T(){return {value:void 0,done:!0}}return y.prototype=v,n(w,"constructor",{value:v,configurable:!0}),n(v,"constructor",{value:y,configurable:!0}),y.displayName=l(v,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return !!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,l(t,s,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return {__await:t}},A(E.prototype),l(E.prototype,a,(function(){return this})),t.AsyncIterator=E,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new E(f(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},A(w),l(w,s,"Generator"),l(w,o,(function(){return this})),l(w,"toString",(function(){return "[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=S,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0);},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else {if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return "break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;k(r);}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:S(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},t}function l(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(i=function(t,e){if("object"!==c(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==c(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===c(i)?i:String(i)),n);}var i;}function f(t,e){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},f(t,e)}function h(t){return h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},h(t)}function d(t,e,r,n,i,o,a){try{var s=t[o](a),c=s.value;}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,i);}function p(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){d(o,n,i,a,s,"next",t);}function s(t){d(o,n,i,a,s,"throw",t);}a(void 0);}))}}function y(t){return t.__tabIndex=t.__tabIndex||0,++t.__tabIndex,t.__tabIndex}function v(t){return t.__tabIndex||0}function g(t,e){return m.apply(this,arguments)}function m(){return m=p(u().mark((function t(e,r){var n,c,l,f,h,d,y,v,g,m,b,w,A,E,x;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(n=(0, i.jS)('<div class="button-plugin-container"></div>',r)).plugin=e,c=e.tabIndex,l=(0, a.Iu)(e.ariaLabel),f=(0, a.Iu)(e.description),h=e.dynamicWidth?"dynamic-width":"fixed-width",d=e.id?'id="'.concat(e.id,'" '):"",y=e.buttonName?'name="'.concat(e.buttonName,'" '):"",e.interactive?(m=(0, i.jS)('\n\t\t\t<div class="button-plugin-side-area left-side '.concat(e.className,'"></div>\n\t\t'),n),b=(0, i.jS)('\n\t\t\t<button type="button" '.concat(d).concat(y,'class="button-plugin ').concat(e.className," ").concat(h,' no-icon" tabindex="').concat(c,'" aria-label="').concat(l,'" title="').concat(f,'">\n\t\t\t\t<div class="interactive-button-content">\n\t\t\t\t\t<i class="button-icon" style="pointer-events: none; display: none">').concat(e.icon,'</i>\n\t\t\t\t\t<span class="button-title button-title-').concat(e.titleSize,'">').concat(e.title||"&nbsp;","</span>\n\t\t\t\t</div>\n\t\t\t</button>\n\t\t"),n),w=(0, i.jS)('\n\t\t\t<div class="button-plugin-side-area right-side '.concat(e.className,'"></div>\n\t\t'),n),A=b.getElementsByClassName("button-title")[0],e._leftArea=m,e._rightArea=w,e._button=b,e._container=n,e._titleContainer=A,b._pluginData=e,m._pluginData=e,w._pluginData=e,n._pluginData=e,n.addEventListener("mouseenter",function(){var t=p(u().mark((function t(e){return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._pluginData.mouseOver(n,e);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),n.addEventListener("mouseleave",function(){var t=p(u().mark((function t(e){return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._pluginData.mouseOut(n,e);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),b.addEventListener("focus",p(u().mark((function t(){return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b._pluginData.focusIn();case 2:case"end":return t.stop()}}),t)})))),b.addEventListener("blur",p(u().mark((function t(){return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b._pluginData.focusOut();case 2:case"end":return t.stop()}}),t)})))),b.addEventListener("click",(function(t){var e=b._pluginData;e.closePopUps&&e.popUp?s.Z.HideNonAncestors(e.popUp):e.closePopUps&&s.Z.HideAllPopUps(!1),(0, o.qe)(e.player,o.ZP.BUTTON_PRESS,{plugin:e}),e.action(t),t.stopPropagation();})),void 0===(null===(v=e.player.config.accessibility)||void 0===v?void 0:v.clickWithSpacebar)||(null===(g=e.player.config.accessibility)||void 0===g?void 0:g.clickWithSpacebar)||(b.addEventListener("keyup",(function(t){32==t.keyCode&&t.preventDefault();})),b.addEventListener("keydown",(function(t){32==t.keyCode&&t.preventDefault();})))):(E=(0, i.jS)("\n\t\t\t<div ".concat(d).concat(y,' class="button-plugin ').concat(e.className," non-interactive ").concat(h,' no-icon" title="').concat(f,'">\n\t\t\t\t<div class="non-interactive-button-content">\n\t\t\t\t\t<i class="button-icon" style="pointer-events: none; display: none;">').concat(e.icon,'</i>\n\t\t\t\t\t<span class="button-title button-title-').concat(e.titleSize,'">').concat(e.title||"&nbsp;","</span>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t"),n),x=E.getElementsByClassName("button-title")[0],e._leftArea=null,e._rightArea=null,e._button=E,e._container=n,e._titleContainer=x,E._pluginData=e,n._pluginData=e);case 9:case"end":return t.stop()}}),t)}))),m.apply(this,arguments)}var b=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&f(t,e);}(m,t);var e,r,n,i,o,a,s,d,v,g=(d=m,v=function(){if("undefined"==typeof Reflect||!Reflect.construct)return !1;if(Reflect.construct.sham)return !1;if("function"==typeof Proxy)return !0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return !1}}(),function(){var t,e=h(d);if(v){var r=h(this).constructor;t=Reflect.construct(e,arguments,r);}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===c(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function m(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,m),g.apply(this,arguments)}return e=m,r=[{key:"type",get:function(){return "button"}},{key:"container",get:function(){return this._container}},{key:"leftArea",get:function(){return this._leftArea}},{key:"rightArea",get:function(){return this._rightArea}},{key:"button",get:function(){return this._button}},{key:"titleContainer",get:function(){return this._titleContainer}},{key:"interactive",get:function(){return !0}},{key:"dynamicWidth",get:function(){return !1}},{key:"getId",value:function(){return null}},{key:"id",get:function(){return this.config.id||this.getId()}},{key:"getButtonName",value:function(){return null}},{key:"buttonName",get:function(){return this.config.name||this.getButtonName()||this.name}},{key:"ariaLabel",get:function(){return this.config.ariaLabel||this.getAriaLabel()}},{key:"getAriaLabel",value:function(){return ""}},{key:"tabIndex",get:function(){return this.config.tabIndex||this.getTabIndex()}},{key:"getTabIndex",value:function(){return y(this.player)}},{key:"getDescription",value:function(){return ""}},{key:"description",get:function(){return this.config.description||this.getDescription()}},{key:"iconElement",get:function(){var t;return null===(t=this.button)||void 0===t?void 0:t.getElementsByClassName("button-icon")[0]}},{key:"minContainerSize",get:function(){return this.config.minContainerSize||this.getMinContainerSize()}},{key:"getMinContainerSize",value:function(){return 0}},{key:"icon",get:function(){return this._icon||(this._icon=""),this._icon},set:function(t){this._icon=t,t?(this.iconElement.innerHTML=t,this.iconElement.style.display="",this.button.classList.remove("no-icon")):(this.iconElement.innerHTML="",this.iconElement.style.display="none",this.button.classList.add("no-icon"));}},{key:"title",get:function(){return this._title||""},set:function(t){this._title=t,this._titleContainer.innerHTML=t;}},{key:"titleSize",get:function(){return "medium"}},{key:"side",get:function(){var t;return (null===(t=this.config)||void 0===t?void 0:t.side)||"left"}},{key:"closePopUps",get:function(){return this.config.closePopUps||this.getClosePopUps()}},{key:"getClosePopUps",value:function(){return !0}},{key:"parentContainer",get:function(){var t;return (null===(t=this.config)||void 0===t?void 0:t.parentContainer)||"playbackBar"}},{key:"className",get:function(){return ""}},{key:"hide",value:function(){this._button&&(this._button.style.display="none");}},{key:"show",value:function(){var t=this.player.playbackBar.containerSize.width;this._button&&(t>this.minContainerSize||"playbackBar"!==this.parentContainer)&&(this._button.style.display="block");}},{key:"mouseOver",value:(s=p(u().mark((function t(e){return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)}))),function(t){return s.apply(this,arguments)})},{key:"mouseOut",value:(a=p(u().mark((function t(e){return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)}))),function(t){return a.apply(this,arguments)})},{key:"focusIn",value:(o=p(u().mark((function t(){return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)}))),function(){return o.apply(this,arguments)})},{key:"focusOut",value:(i=p(u().mark((function t(){return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)}))),function(){return i.apply(this,arguments)})},{key:"action",value:(n=p(u().mark((function t(){return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.player.log.warn("Action not implemented in button plugin ".concat(this.name));case 1:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})},{key:"onResize",value:function(t){var e=t.width;t.height,e<this.minContainerSize?this.hide():this.show();}}],r&&l(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),m}(n.Z);},7118:(t,e,r)=>{r.d(e,{ZP:()=>g,uU:()=>y});var n=r(1768),i=r(1547),o=r(4382),a=r(8450);function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function c(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(i=function(t,e){if("object"!==s(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==s(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===s(i)?i:String(i)),n);}var i;}function u(t,e){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},u(t,e)}function l(t){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},l(t)}function f(){f=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value;},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"");}catch(t){u=function(t,e,r){return t[e]=r};}function l(t,e,r,i){var o=e&&e.prototype instanceof p?e:p,a=Object.create(o.prototype),s=new C(i||[]);return n(a,"_invoke",{value:x(t,r,s)}),a}function h(t,e,r){try{return {type:"normal",arg:t.call(e,r)}}catch(t){return {type:"throw",arg:t}}}t.wrap=l;var d={};function p(){}function y(){}function v(){}var g={};u(g,o,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(S([])));b&&b!==e&&r.call(b,o)&&(g=b);var w=v.prototype=p.prototype=Object.create(g);function A(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}));}));}function E(t,e){function i(n,o,a,c){var u=h(t[n],t,o);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==s(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){i("next",t,a,c);}),(function(t){i("throw",t,a,c);})):e.resolve(f).then((function(t){l.value=t,a(l);}),(function(t){return i("throw",t,a,c)}))}c(u.arg);}var o;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){i(t,r,e,n);}))}return o=o?o.then(n,n):n()}});}function x(t,e,r){var n="suspendedStart";return function(i,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===i)throw o;return {value:void 0,done:!0}}for(r.method=i,r.arg=o;;){var a=r.delegate;if(a){var s=L(a,r);if(s){if(s===d)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg);}else "return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=h(t,e,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===d)continue;return {value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg);}}}function L(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,L(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),d;var i=h(n,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,d;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e);}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e;}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0);}function S(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return {next:T}}function T(){return {value:void 0,done:!0}}return y.prototype=v,n(w,"constructor",{value:v,configurable:!0}),n(v,"constructor",{value:y,configurable:!0}),y.displayName=u(v,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return !!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,u(t,c,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return {__await:t}},A(E.prototype),u(E.prototype,a,(function(){return this})),t.AsyncIterator=E,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new E(l(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},A(w),u(w,c,"Generator"),u(w,o,(function(){return this})),u(w,"toString",(function(){return "[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=S,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0);},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else {if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return "break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;k(r);}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:S(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},t}function h(t,e,r,n,i,o,a){try{var s=t[o](a),c=s.value;}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,i);}function d(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){h(o,n,i,a,s,"next",t);}function s(t){h(o,n,i,a,s,"throw",t);}a(void 0);}))}}function p(t){return {icon:t.icon,position:t.position,title:t.description,ariaLabel:t.ariaLabel,click:(e=d(f().mark((function e(r){var n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.player.videoContainer.streamProvider.streams[r],e.next=3,t.action(r,null==n?void 0:n.player,null==n?void 0:n.canvas,null==n?void 0:n.canvasPlugin);case 3:case"end":return e.stop()}}),e)}))),function(t){return e.apply(this,arguments)})};var e;}function y(t,e){return v.apply(this,arguments)}function v(){return v=d(f().mark((function t(e,r){var n;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=[],t.next=3,(0, a.FP)(e,"canvasButton",function(){var t=d(f().mark((function t(r){return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.log.debug(" Canvas button plugin: ".concat(r.name)),n.push(r);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 3:return t.abrupt("return",n.filter((function(t){return -1!==t.content.indexOf(r.content)})).map((function(t){return p(t)})));case 4:case"end":return t.stop()}}),t)}))),v.apply(this,arguments)}var g=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&u(t,e);}(y,t);var e,r,i,a,h,p=(a=y,h=function(){if("undefined"==typeof Reflect||!Reflect.construct)return !1;if(Reflect.construct.sham)return !1;if("function"==typeof Proxy)return !0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return !1}}(),function(){var t,e=l(a);if(h){var r=l(this).constructor;t=Reflect.construct(e,arguments,r);}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===s(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function y(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,y),p.apply(this,arguments)}return e=y,r=[{key:"type",get:function(){return "canvasButton"}},{key:"content",get:function(){return this._config.content||["presenter"]}},{key:"ariaLabel",get:function(){return this._config.ariaLabel||this.getAriaLabel()}},{key:"getAriaLabel",value:function(){return ""}},{key:"tabIndex",get:function(){return this.config.tabIndex||this.getTabIndex()}},{key:"getTabIndex",value:function(){return (0, n.nu)(this.player)}},{key:"description",get:function(){return this.config.description||this.getDescription()}},{key:"getDescription",value:function(){return ""}},{key:"icon",get:function(){return this._icon},set:function(t){this._icon=t;}},{key:"side",get:function(){var t;return (null===(t=this.config)||void 0===t?void 0:t.side)||"left"}},{key:"position",get:function(){switch(this.side){case"left":return o.iN.LEFT;case"center":return o.iN.CENTER;case"right":return o.iN.RIGHT;default:throw new Error("Invalid CanvasButtonPlugin side set: ".concat(this.side))}}},{key:"action",value:(i=d(f().mark((function t(e){return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.player.log.warn("Action not implemented in canvas button plugin ".concat(this.name));case 1:case"end":return t.stop()}}),t,this)}))),function(t){return i.apply(this,arguments)})}],r&&c(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),y}(i.Z);},4382:(t,e,r)=>{r.d(e,{Xz:()=>K,iN:()=>U,RM:()=>$,ZP:()=>H,in:()=>M,yJ:()=>j,Hl:()=>V,Ke:()=>F});var n=r(9076),i=r(8450),o=r(916),a=r(7118),s=r(3379),c=r.n(s),u=r(7795),l=r.n(u),f=r(569),h=r.n(f),d=r(3565),p=r.n(d),y=r(9216),v=r.n(y),g=r(4589),m=r.n(g),b=r(303),w={};function A(t){return A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},A(t)}function E(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function x(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(i=function(t,e){if("object"!==A(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==A(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===A(i)?i:String(i)),n);}var i;}function L(t,e,r){return e&&x(t.prototype,e),r&&x(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function _(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&k(t,e);}function k(t,e){return k=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},k(t,e)}function C(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return !1;if(Reflect.construct.sham)return !1;if("function"==typeof Proxy)return !0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return !1}}();return function(){var r,n=S(t);if(e){var i=S(this).constructor;r=Reflect.construct(n,arguments,i);}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===A(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function S(t){return S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},S(t)}function T(){T=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value;},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"");}catch(t){c=function(t,e,r){return t[e]=r};}function u(t,e,r,i){var o=e&&e.prototype instanceof h?e:h,a=Object.create(o.prototype),s=new k(i||[]);return n(a,"_invoke",{value:E(t,r,s)}),a}function l(t,e,r){try{return {type:"normal",arg:t.call(e,r)}}catch(t){return {type:"throw",arg:t}}}t.wrap=u;var f={};function h(){}function d(){}function p(){}var y={};c(y,o,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(C([])));g&&g!==e&&r.call(g,o)&&(y=g);var m=p.prototype=h.prototype=Object.create(y);function b(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}));}));}function w(t,e){function i(n,o,a,s){var c=l(t[n],t,o);if("throw"!==c.type){var u=c.arg,f=u.value;return f&&"object"==A(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){i("next",t,a,s);}),(function(t){i("throw",t,a,s);})):e.resolve(f).then((function(t){u.value=t,a(u);}),(function(t){return i("throw",t,a,s)}))}s(c.arg);}var o;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){i(t,r,e,n);}))}return o=o?o.then(n,n):n()}});}function E(t,e,r){var n="suspendedStart";return function(i,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===i)throw o;return {value:void 0,done:!0}}for(r.method=i,r.arg=o;;){var a=r.delegate;if(a){var s=x(a,r);if(s){if(s===f)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg);}else "return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=l(t,e,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===f)continue;return {value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg);}}}function x(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,x(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var i=l(n,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,f;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function L(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e);}function _(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e;}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(L,this),this.reset(!0);}function C(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return {next:S}}function S(){return {value:void 0,done:!0}}return d.prototype=p,n(m,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:d,configurable:!0}),d.displayName=c(p,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return !!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,s,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return {__await:t}},b(w.prototype),c(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new w(u(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(m),c(m,s,"Generator"),c(m,o,(function(){return this})),c(m,"toString",(function(){return "[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=C,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0);},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else {if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return "break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;_(r);}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:C(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}function P(t){return function(t){if(Array.isArray(t))return O(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return O(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return "Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?O(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function I(t,e,r,n,i,o,a){try{var s=t[o](a),c=s.value;}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,i);}function R(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){I(o,n,i,a,s,"next",t);}function s(t){I(o,n,i,a,s,"throw",t);}a(void 0);}))}}w.styleTagTransform=m(),w.setAttributes=p(),w.insert=h().bind(null,"head"),w.domAPI=l(),w.insertStyleElement=v(),c()(b.Z,w),b.Z&&b.Z.locals&&b.Z.locals;var D=[];function j(t){return B.apply(this,arguments)}function B(){return (B=R(T().mark((function t(e){return T().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0, i.FP)(e,"canvas",(function(t){D.push(t);}));case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function F(t){return N.apply(this,arguments)}function N(){return (N=R(T().mark((function t(e){return T().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function M(t,e){if(0===D.length)throw Error("No canvas plugins loaded. Note that `loadCanvasPlugins()` must to be called before use `getCanvasPlugins()`");var r=null;return D.some((function(t){if(t.isCompatible(e))return r=t,!0})),r}var U=Object.freeze({LEFT:"left",CENTER:"center",RIGHT:"right"}),G=function(t){var e=t.icon,r=t.tabIndex,n=t.ariaLabel,i=t.title,a=t.className,s=t.position,c=void 0===s?U.CENTER:s,u=t.click,l=t.content;if(!e)throw new Error("Error in video layout definition. getVideoCanvasButtons(): missing 'icon' attribute.");if(!u)throw new Error("Error in video layout definition. getVideoCanvasButtons(): missing 'click' function.");var f='class="align-'.concat(c).concat(a?" "+a:"",'"');n&&(f+=' aria-label="'.concat(n,'"')),i&&(f+=' title="'.concat(i,'"')),void 0!==r&&(f+=' tabindex="'.concat(r,'"'));var h=(0, o.jS)("\n        <button ".concat(f,'><i class="button-icon" style="pointer-events: none">').concat(e,"</i></button>\n    "));return this.buttonsArea.appendChild(h),h.addEventListener("click",(function(t){return u(l),t.stopPropagation(),!1})),h},$=function(){var t=R(T().mark((function t(e,r,n,i,o){var s,c,u,l;return T().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=r.plugin,c=s.tabIndexStart,t.next=4,(0, a.uU)(e,i);case 4:return u=t.sent,l=[],[].concat(P(u),P(s.getVideoCanvasButtons(r,i.content,i,n))).forEach((function(t){t.tabIndex=c++,t.content=o;var e=G.apply(n,[t]);l.push(e);})),t.abrupt("return",l);case 9:case"end":return t.stop()}}),t)})));return function(e,r,n,i,o){return t.apply(this,arguments)}}(),V=function(t,e,r){var n=e.plugin.tabIndexStart;r.sort((function(t,e){return t.getBoundingClientRect().left-e.getBoundingClientRect().left})).forEach((function(t){t.setAttribute("tabindex",n++);}));},K=function(t){_(n,t);var e,r=C(n);function n(t,e,i){var a;return E(this,n),(a=r.call(this,e,{tag:t,parent:i})).element.className="video-canvas",a._userArea=null,a._buttonsArea=(0, o.jS)('\n        <div class="button-area">\n        </div>\n        ',a.element),a}return L(n,[{key:"loadCanvas",value:(e=R(T().mark((function t(e){return T().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:throw Error("".concat(this.name,": loadCanvas() not implemented"));case 1:case"end":return t.stop()}}),t,this)}))),function(t){return e.apply(this,arguments)})},{key:"userArea",get:function(){return this._userArea||(this._userArea=document.createElement("div"),this._userArea.className="user-area",this.element.appendChild(this._userArea)),this._userArea}},{key:"buttonsArea",get:function(){return this._buttonsArea}},{key:"showButtons",value:function(){this.buttonsArea.style.display=null;}},{key:"hideButtons",value:function(){this.buttonsArea.style.display="none";}}]),n}(o.FZ),H=function(t){_(r,t);var e=C(r);function r(){return E(this,r),e.apply(this,arguments)}return L(r,[{key:"type",get:function(){return "canvas"}},{key:"canvasType",get:function(){return ""}},{key:"isCompatible",value:function(t){return Array.isArray(null==t?void 0:t.canvas)?-1!==t.canvas.indexOf(this.canvasType):t.canvas===this.canvasType}},{key:"getCanvasInstance",value:function(t){throw Error("".concat(this.name," canvas plugin: getCanvasInstance() not implemented"))}}]),r}(n.Z);},1285:(t,e,r)=>{r.d(e,{Z:()=>m,e:()=>g});var n=r(9076),i=r(8450),o=r(2624);function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function s(){s=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value;},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"");}catch(t){l=function(t,e,r){return t[e]=r};}function f(t,e,r,i){var o=e&&e.prototype instanceof p?e:p,a=Object.create(o.prototype),s=new C(i||[]);return n(a,"_invoke",{value:x(t,r,s)}),a}function h(t,e,r){try{return {type:"normal",arg:t.call(e,r)}}catch(t){return {type:"throw",arg:t}}}t.wrap=f;var d={};function p(){}function y(){}function v(){}var g={};l(g,o,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(S([])));b&&b!==e&&r.call(b,o)&&(g=b);var w=v.prototype=p.prototype=Object.create(g);function A(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}));}));}function E(t,e){function i(n,o,s,c){var u=h(t[n],t,o);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==a(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){i("next",t,s,c);}),(function(t){i("throw",t,s,c);})):e.resolve(f).then((function(t){l.value=t,s(l);}),(function(t){return i("throw",t,s,c)}))}c(u.arg);}var o;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){i(t,r,e,n);}))}return o=o?o.then(n,n):n()}});}function x(t,e,r){var n="suspendedStart";return function(i,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===i)throw o;return {value:void 0,done:!0}}for(r.method=i,r.arg=o;;){var a=r.delegate;if(a){var s=L(a,r);if(s){if(s===d)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg);}else "return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=h(t,e,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===d)continue;return {value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg);}}}function L(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,L(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),d;var i=h(n,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,d;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e);}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e;}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0);}function S(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return {next:T}}function T(){return {value:void 0,done:!0}}return y.prototype=v,n(w,"constructor",{value:v,configurable:!0}),n(v,"constructor",{value:y,configurable:!0}),y.displayName=l(v,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return !!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,l(t,u,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return {__await:t}},A(E.prototype),l(E.prototype,c,(function(){return this})),t.AsyncIterator=E,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new E(f(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},A(w),l(w,u,"Generator"),l(w,o,(function(){return this})),l(w,"toString",(function(){return "[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=S,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0);},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else {if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return "break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;k(r);}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:S(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},t}function c(t,e,r,n,i,o,a){try{var s=t[o](a),c=s.value;}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,i);}function u(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){c(o,n,i,a,s,"next",t);}function s(t){c(o,n,i,a,s,"throw",t);}a(void 0);}))}}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(i=function(t,e){if("object"!==a(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===a(i)?i:String(i)),n);}var i;}function h(t,e,r){return e&&f(t.prototype,e),r&&f(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function d(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&p(t,e);}function p(t,e){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},p(t,e)}function y(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return !1;if(Reflect.construct.sham)return !1;if("function"==typeof Proxy)return !0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return !1}}();return function(){var r,n=v(t);if(e){var i=v(this).constructor;r=Reflect.construct(n,arguments,i);}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===a(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function v(t){return v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},v(t)}var g=function(t){d(o,t);var e,r,n,i=y(o);function o(){return l(this,o),i.apply(this,arguments)}return h(o,[{key:"type",get:function(){return "data"}},{key:"context",get:function(){return this.config.context||[]}},{key:"read",value:(n=u(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:throw Error("DataPlugin.read() not implemented in data plugin '".concat(this.name,"'"));case 1:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})},{key:"write",value:(r=u(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:throw Error("DataPlugin.write() not implemented in data plugin '".concat(this.name,"'"));case 1:case"end":return t.stop()}}),t,this)}))),function(){return r.apply(this,arguments)})},{key:"remove",value:(e=u(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:throw Error("DataPlugin.remove() not implemented in data plugin '".concat(this.name,"'"));case 1:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})}]),o}(n.Z),m=function(t){d(a,t);var e,r,n,o=y(a);function a(t){var e;return l(this,a),(e=o.call(this,t))._dataPlugins={},(0, i.FP)(e.player,"data",function(){var t=u(s().mark((function t(r){var n;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:null===(n=r.context)||void 0===n||n.forEach((function(t){e._dataPlugins[t]=e._dataPlugins[t]||[],e._dataPlugins[t].push(r);}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),e}return h(a,[{key:"getDataPlugin",value:function(t){var e=this._dataPlugins[t]&&this._dataPlugins[t].length>0&&this._dataPlugins[t][0];if(e||(e=this._dataPlugins.default&&this._dataPlugins.default.length>0&&this._dataPlugins.default[0]),!e)throw Error("No data plugin found for context '".concat(t,"'"));return e}},{key:"getDataPlugins",value:function(t){var e=this._dataPlugins[t]&&this._dataPlugins[t].length>0&&this._dataPlugins[t];if(e||(e=this._dataPlugins.default&&this._dataPlugins.default.length>0&&this._dataPlugins.default),!e)throw Error("No data plugin found for context '".concat(t,"'"));return e}},{key:"read",value:(n=u(s().mark((function t(e,r){var n,i;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=this.getDataPlugin(e),t.next=3,n.read(e,r);case 3:return i=t.sent,t.abrupt("return",i);case 5:case"end":return t.stop()}}),t,this)}))),function(t,e){return n.apply(this,arguments)})},{key:"write",value:(r=u(s().mark((function t(e,r,n){var i,o,a,c;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=this.getDataPlugins(e),!Array.isArray(i)){t.next=14;break}o=null,a=0;case 4:if(!(a<i.length)){t.next=11;break}return t.next=7,i[a].write(e,r,n);case 7:o=t.sent;case 8:++a,t.next=4;break;case 11:return t.abrupt("return",o);case 14:if(!i){t.next=21;break}return t.next=17,i.write(e,r,n);case 17:return c=t.sent,t.abrupt("return",c);case 21:this.player.log.warn("No such data plugin found for context '".concat(e,"'"));case 22:case"end":return t.stop()}}),t,this)}))),function(t,e,n){return r.apply(this,arguments)})},{key:"remove",value:(e=u(s().mark((function t(e,r){var n,i,o,a;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!((n=this.getDataPlugins(e)).length>1)){t.next=14;break}i=null,o=0;case 4:if(!(o<n.length)){t.next=11;break}return t.next=7,n[o].remove(e,r);case 7:i=t.sent;case 8:++o,t.next=4;break;case 11:return t.abrupt("return",i);case 14:return t.next=16,n.remove(e,r);case 16:return a=t.sent,t.abrupt("return",a);case 18:case"end":return t.stop()}}),t,this)}))),function(t,r){return e.apply(this,arguments)})}]),a}(o.Z);},8984:(t,e,r)=>{r.d(e,{$_:()=>d,ZP:()=>g,v$:()=>y});var n=r(9076),i=r(980),o=r(8450);function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function s(){s=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value;},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"");}catch(t){l=function(t,e,r){return t[e]=r};}function f(t,e,r,i){var o=e&&e.prototype instanceof p?e:p,a=Object.create(o.prototype),s=new C(i||[]);return n(a,"_invoke",{value:x(t,r,s)}),a}function h(t,e,r){try{return {type:"normal",arg:t.call(e,r)}}catch(t){return {type:"throw",arg:t}}}t.wrap=f;var d={};function p(){}function y(){}function v(){}var g={};l(g,o,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(S([])));b&&b!==e&&r.call(b,o)&&(g=b);var w=v.prototype=p.prototype=Object.create(g);function A(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}));}));}function E(t,e){function i(n,o,s,c){var u=h(t[n],t,o);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==a(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){i("next",t,s,c);}),(function(t){i("throw",t,s,c);})):e.resolve(f).then((function(t){l.value=t,s(l);}),(function(t){return i("throw",t,s,c)}))}c(u.arg);}var o;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){i(t,r,e,n);}))}return o=o?o.then(n,n):n()}});}function x(t,e,r){var n="suspendedStart";return function(i,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===i)throw o;return {value:void 0,done:!0}}for(r.method=i,r.arg=o;;){var a=r.delegate;if(a){var s=L(a,r);if(s){if(s===d)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg);}else "return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=h(t,e,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===d)continue;return {value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg);}}}function L(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,L(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),d;var i=h(n,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,d;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e);}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e;}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0);}function S(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return {next:T}}function T(){return {value:void 0,done:!0}}return y.prototype=v,n(w,"constructor",{value:v,configurable:!0}),n(v,"constructor",{value:y,configurable:!0}),y.displayName=l(v,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return !!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,l(t,u,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return {__await:t}},A(E.prototype),l(E.prototype,c,(function(){return this})),t.AsyncIterator=E,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new E(f(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},A(w),l(w,u,"Generator"),l(w,o,(function(){return this})),l(w,"toString",(function(){return "[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=S,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0);},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else {if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return "break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;k(r);}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:S(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},t}function c(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(i=function(t,e){if("object"!==a(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===a(i)?i:String(i)),n);}var i;}function u(t,e){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},u(t,e)}function l(t){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},l(t)}function f(t,e,r,n,i,o,a){try{var s=t[o](a),c=s.value;}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,i);}function h(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){f(o,n,i,a,s,"next",t);}function s(t){f(o,n,i,a,s,"throw",t);}a(void 0);}))}}function d(t){return p.apply(this,arguments)}function p(){return p=h(s().mark((function t(e){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0, o.FP)(e,"eventLog",function(){var t=h(s().mark((function t(r){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r.events.forEach((function(t){(0, i.GT)(e,t,function(){var e=h(s().mark((function e(n){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.onEvent(t,n);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 2:case"end":return t.stop()}}),t)}))),p.apply(this,arguments)}function y(t){return v.apply(this,arguments)}function v(){return (v=h(s().mark((function t(e){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var g=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&u(t,e);}(d,t);var e,r,n,i,o,f=(i=d,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return !1;if(Reflect.construct.sham)return !1;if("function"==typeof Proxy)return !0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return !1}}(),function(){var t,e=l(i);if(o){var r=l(this).constructor;t=Reflect.construct(e,arguments,r);}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===a(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function d(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,d),f.apply(this,arguments)}return e=d,r=[{key:"type",get:function(){return "eventLog"}},{key:"events",get:function(){return []}},{key:"onEvent",value:(n=h(s().mark((function t(e,r){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.player.log.warn("".concat(this.name,": onEvent() function is not overwritten."));case 1:case"end":return t.stop()}}),t,this)}))),function(t,e){return n.apply(this,arguments)})}],r&&c(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),d}(n.Z);},980:(t,e,r)=>{r.d(e,{GT:()=>i,Ii:()=>s,Ss:()=>a,ZP:()=>n,qe:()=>o});const n=Object.freeze({PLAY:"paella:play",PAUSE:"paella:pause",STOP:"paella:stop",ENDED:"paella:ended",SEEK:"paella:seek",FULLSCREEN_CHANGED:"paella:fullscreenchanged",ENTER_FULLSCREEN:"paella:enterfullscreen",EXIT_FULLSCREEN:"paella:exitfullscreen",VOLUME_CHANGED:"paella:volumeChanged",TIMEUPDATE:"paella:timeupdate",TRIMMING_CHANGED:"paella:trimmingChanged",CAPTIONS_CHANGED:"paella:captionsChanged",CAPTIONS_ENABLED:"paella:captionsEnabled",CAPTIONS_DISABLED:"paella:captionsDisabled",BUTTON_PRESS:"paella:buttonPress",SHOW_POPUP:"paella:showPopUp",HIDE_POPUP:"paella:hidePopUp",MANIFEST_LOADED:"paella:manifestLoaded",STREAM_LOADED:"paella:streamLoaded",PLAYER_LOADED:"paella:playerLoaded",PLAYER_UNLOADED:"paella:playerUnloaded",RESIZE:"paella:resize",RESIZE_END:"paella:resizeEnd",LAYOUT_CHANGED:"paella:layoutChanged",PLAYBACK_RATE_CHANGED:"paella:playbackRateChanged",VIDEO_QUALITY_CHANGED:"paella:videoQualityChanged",HIDE_UI:"paella:hideUI",SHOW_UI:"paella:showUI",COOKIE_CONSENT_CHANGED:"paella:cookieConsentChanged"});function i(t,e,r){var n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return t.__eventListeners__=t.__eventListeners__||{},t.__eventListeners__[e]=t.__eventListeners__[e]||[],t.__eventListeners__[e].push({callback:r,unregisterOnUnload:n}),r}function o(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};t.__eventListeners__&&t.__eventListeners__[e]&&t.__eventListeners__[e].forEach((function(t){return t.callback(r)}));}function a(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};t.ready&&o(t,e,r);}function s(t){if(t.__eventListeners__)for(var e in t.__eventListeners__)t.__eventListeners__[e]=t.__eventListeners__[e].filter((function(t){return 0==t.unregisterOnUnload})),t.log.debug("Unregister event: "+t.__eventListeners__[e]);}},9267:(t,e,r)=>{r.d(e,{CZ:()=>b,L:()=>g,ZP:()=>E,gg:()=>v,mW:()=>A});var n=r(9076),i=r(8450),o=r(6911);function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function s(){s=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value;},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"");}catch(t){l=function(t,e,r){return t[e]=r};}function f(t,e,r,i){var o=e&&e.prototype instanceof p?e:p,a=Object.create(o.prototype),s=new C(i||[]);return n(a,"_invoke",{value:x(t,r,s)}),a}function h(t,e,r){try{return {type:"normal",arg:t.call(e,r)}}catch(t){return {type:"throw",arg:t}}}t.wrap=f;var d={};function p(){}function y(){}function v(){}var g={};l(g,o,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(S([])));b&&b!==e&&r.call(b,o)&&(g=b);var w=v.prototype=p.prototype=Object.create(g);function A(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}));}));}function E(t,e){function i(n,o,s,c){var u=h(t[n],t,o);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==a(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){i("next",t,s,c);}),(function(t){i("throw",t,s,c);})):e.resolve(f).then((function(t){l.value=t,s(l);}),(function(t){return i("throw",t,s,c)}))}c(u.arg);}var o;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){i(t,r,e,n);}))}return o=o?o.then(n,n):n()}});}function x(t,e,r){var n="suspendedStart";return function(i,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===i)throw o;return {value:void 0,done:!0}}for(r.method=i,r.arg=o;;){var a=r.delegate;if(a){var s=L(a,r);if(s){if(s===d)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg);}else "return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=h(t,e,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===d)continue;return {value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg);}}}function L(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,L(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),d;var i=h(n,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,d;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e);}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e;}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0);}function S(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return {next:T}}function T(){return {value:void 0,done:!0}}return y.prototype=v,n(w,"constructor",{value:v,configurable:!0}),n(v,"constructor",{value:y,configurable:!0}),y.displayName=l(v,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return !!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,l(t,u,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return {__await:t}},A(E.prototype),l(E.prototype,c,(function(){return this})),t.AsyncIterator=E,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new E(f(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},A(w),l(w,u,"Generator"),l(w,o,(function(){return this})),l(w,"toString",(function(){return "[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=S,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0);},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else {if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return "break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;k(r);}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:S(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},t}function c(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(i=function(t,e){if("object"!==a(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===a(i)?i:String(i)),n);}var i;}function u(t,e){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},u(t,e)}function l(t){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},l(t)}function f(t,e,r,n,i,o,a){try{var s=t[o](a),c=s.value;}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,i);}function h(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){f(o,n,i,a,s,"next",t);}function s(t){f(o,n,i,a,s,"throw",t);}a(void 0);}))}}var d=function(t){var e,r,n;return "alt:".concat((null===(e=t.keyModifiers)||void 0===e?void 0:e.altKey)||!1,", ctrl:").concat((null===(r=t.keyModifiers)||void 0===r?void 0:r.ctrlKey)||!1,", shift:").concat((null===(n=t.keyModifiers)||void 0===n?void 0:n.shiftKey)||!1)},p=function(t){return "".concat(t.keyCode,"_").concat(d(t))},y=function(t){t.keyModifiers=t.keyModifiers||{},t.keyModifiers.altKey=t.keyModifiers.altKey||!1,t.keyModifiers.shiftKey=t.keyModifiers.shiftKey||!1,t.keyModifiers.ctrlKey=t.keyModifiers.ctrlKey||!1;},v=function(t){var e=[];for(var r in t.__shortcuts__)t.__shortcuts__[r].forEach((function(t){t.disabled||e.push(t);}));return e};function g(t){return m.apply(this,arguments)}function m(){return m=h(s().mark((function t(e){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.__shortcuts__=e.__shortcuts__||{},window.__paella_shortcuts_player__){t.next=5;break}window.__paella_shortcuts_player__=e,t.next=8;break;case 5:return e.log.warn("Warning: more than one paella player instance with enabled shortcut plugins."),e.log.warn("Check your code to ensure that only one instance of paella player registers keyboard shortcut plugins."),t.abrupt("return");case 8:return t.next=10,(0, i.FP)(e,"keyshortcut",function(){var t=h(s().mark((function t(r){var n,i,o,a,c;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.getKeys();case 2:return t.sent.forEach((function(t){e.__shortcuts__[t.keyCode]=e.__shortcuts__[t.keyCode]||[],t.plugin=r,e.__shortcuts__[t.keyCode].push(t);})),t.next=6,r.getDictionaries();case 6:for(i in n=t.sent)o=n[i],e.addDictionary(i,o);a=s().mark((function t(r){var n,i;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.__shortcuts__[r],i={},n.length>0&&n.forEach((function(t){var n=p(t);if(y(t),i[n]){e.log.warn("Collision detected in shortcut for key code ".concat(r));var o=i[n];e.log.warn("Enabled shortcut:"),e.log.warn("plugin: ".concat(o.plugin.name,", keyCode: ").concat(o.keyCode,", modifiers: ").concat(d(o),", description: ").concat(o.description)),e.log.warn("Collision shortcut (disabled):"),e.log.warn("plugin: ".concat(t.plugin.name,", keyCode: ").concat(t.keyCode,", modifiers: ").concat(d(t),", description: ").concat(t.description)),t.disabled=!0;}else i[n]=t;}));case 3:case"end":return t.stop()}}),t)})),t.t0=s().keys(e.__shortcuts__);case 10:if((t.t1=t.t0()).done){t.next=15;break}return c=t.t1.value,t.delegateYield(a(c),"t2",13);case 13:t.next=10;break;case 15:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 10:e.__paella_key_event_listener__=function(){var t=h(s().mark((function t(r){var n,i,a,c;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=function(){return document.activeElement&&document.activeElement!==document.body&&!/video/i.test(document.activeElement.tagName)},e.containerElement.contains(document.activeElement)||o.Z.Contains(document.activeElement)||document.activeElement===document.body){t.next=3;break}return t.abrupt("return");case 3:if(void 0!==(null===(n=e.config.accessibility)||void 0===n?void 0:n.clickWithSpacebar)&&!(null===(i=e.config.accessibility)||void 0===i?void 0:i.clickWithSpacebar)||"Space"!==r.code||!a()){t.next=6;break}return t.abrupt("return");case 6:if(!(c=e.__shortcuts__[r.code])){t.next=10;break}return t.next=10,c.forEach(function(){var t=h(s().mark((function t(n){var i,o,a,c,u,l,f,h,p;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(f=!(null!==(i=n.keyModifiers)&&void 0!==i&&i.altKey)||(null===(o=n.keyModifiers)||void 0===o?void 0:o.altKey)&&r.altKey,h=!(null!==(a=n.keyModifiers)&&void 0!==a&&a.ctrlKey)||(null===(c=n.keyModifiers)||void 0===c?void 0:c.ctrlKey)&&r.ctrlKey,p=!(null!==(u=n.keyModifiers)&&void 0!==u&&u.shiftKey)||(null===(l=n.keyModifiers)||void 0===l?void 0:l.shiftKey)&&r.shiftKey,!(f&&h&&p)||n.disabled){t.next=8;break}return t.next=6,n.action(r);case 6:t.next=9;break;case 8:f&&h&&p&&n.disabled&&(e.log.warn("Shortcut not triggered due to collision:"),e.log.warn("plugin: ".concat(n.plugin.name,", keyCode: ").concat(n.keyCode,", modifiers: ").concat(d(n),", description: ").concat(n.description)));case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),window.addEventListener("keyup",e.__paella_key_event_listener__);case 12:case"end":return t.stop()}}),t)}))),m.apply(this,arguments)}function b(t){return w.apply(this,arguments)}function w(){return (w=h(s().mark((function t(e){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:delete e.__shortcuts__,e==window.__paella_shortcuts_player__&&(window.removeEventListener("keyup",e.__paella_key_event_listener__),delete window.__paella_key_event_listener__,delete window.__paella_shortcuts_player__);case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var A={Digit1:"Digit1",Digit2:"Digit2",Digit3:"Digit3",Digit4:"Digit4",Digit5:"Digit5",Digit6:"Digit6",Digit7:"Digit7",Digit8:"Digit8",Digit9:"Digit9",Digit0:"Digit0",KeyA:"KeyA",KeyB:"KeyB",KeyC:"KeyC",KeyD:"KeyD",KeyE:"KeyE",KeyF:"KeyF",KeyG:"KeyG",KeyH:"KeyH",KeyI:"KeyI",KeyJ:"KeyJ",KeyK:"KeyK",KeyL:"KeyL",KeyM:"KeyM",KeyN:"KeyN",KeyO:"KeyO",KeyP:"KeyP",KeyQ:"KeyQ",KeyR:"KeyR",KeyS:"KeyS",KeyT:"KeyT",KeyU:"KeyU",KeyV:"KeyV",KeyW:"KeyW",KeyX:"KeyX",KeyY:"KeyY",KeyZ:"KeyZ",Comma:"Comma",Period:"Period",Semicolon:"Semicolon",Quote:"Quote",BracketLeft:"BracketLeft",BracketRight:"BracketRight",Backquote:"Backquote",Backslash:"Backslash",Minus:"Minus",Equal:"Equal",AltLeft:"AltLeft",AltRight:"AltRight",CapsLock:"CapsLock",ControlLeft:"ControlLeft",ControlRight:"ControlRight",OSLeft:"OSLeft",OSRight:"OSRight",ShiftLeft:"ShiftLeft",ShiftRight:"ShiftRight",ContextMenu:"ContextMenu",Enter:"Enter",Space:"Space",Tab:"Tab",Delete:"Delete",End:"End",Help:"Help",Home:"Home",Insert:"Insert",PageDown:"PageDown",PageUp:"PageUp",ArrowDown:"ArrowDown",ArrowLeft:"ArrowLeft",ArrowRight:"ArrowRight",ArrowUp:"ArrowUp",Escape:"Escape",PrintScreen:"PrintScreen",ScrollLock:"ScrollLock",Pause:"Pause"},E=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&u(t,e);}(p,t);var e,r,n,i,o,f,d=(o=p,f=function(){if("undefined"==typeof Reflect||!Reflect.construct)return !1;if(Reflect.construct.sham)return !1;if("function"==typeof Proxy)return !0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return !1}}(),function(){var t,e=l(o);if(f){var r=l(this).constructor;t=Reflect.construct(e,arguments,r);}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===a(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function p(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,p),d.apply(this,arguments)}return e=p,r=[{key:"type",get:function(){return "keyshortcut"}},{key:"getKeys",value:(i=h(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",[]);case 1:case"end":return t.stop()}}),t)}))),function(){return i.apply(this,arguments)})},{key:"getDictionaries",value:(n=h(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",{});case 1:case"end":return t.stop()}}),t)}))),function(){return n.apply(this,arguments)})}],r&&c(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),p}(n.Z);},629:(t,e,r)=>{r.d(e,{BF:()=>A,D$:()=>s,Fv:()=>S,G3:()=>w,Gj:()=>L,Iu:()=>m,Ji:()=>k,Mb:()=>x,Pb:()=>a,Xx:()=>u,cN:()=>c,eJ:()=>f,fe:()=>C,fo:()=>P,gc:()=>T,m0:()=>b,m6:()=>l,n1:()=>_,rM:()=>E});var n="en",i="",o={};function a(t){var e=o[n]||{},r=o[i]||{};return e[t]||r[t]||t}function s(t){n=t;}function c(){return n}function u(t,e){for(var r in o[t]=o[t]||{},e){var n=e[r];o[t][r]=n;}}function l(){return o}function f(t){return t.config.defaultLanguage||navigator.language}var h=a,d=s,p=c,y=u,v=l,g=f;function m(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=h(t);if(Array.isArray(e)){var n=r;return e.forEach((function(t,e){var r="$".concat(e+1);n=n.replace(r,t);})),n}return r}function b(t){d(t);}function w(){return p()}function A(t,e){y(t,e);}function E(){return v()}function x(t){return g(t)}function L(t){h=t;}function _(t){d=t;}function k(t){p=t;}function C(t){y=t;}function S(t){v=t;}function T(t){g=t;}function P(t){i=x(t);}},143:(t,e,r)=>{r.d(e,{Z:()=>S});var n=r(7528),i=r(916),o=r(6911),a=r(3379),s=r.n(a),c=r(7795),u=r.n(c),l=r(569),f=r.n(l),h=r(3565),d=r.n(h),p=r(9216),y=r.n(p),v=r(4589),g=r.n(v),m=r(1872),b={};function w(t){return w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},w(t)}function A(){A=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value;},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"");}catch(t){c=function(t,e,r){return t[e]=r};}function u(t,e,r,i){var o=e&&e.prototype instanceof h?e:h,a=Object.create(o.prototype),s=new C(i||[]);return n(a,"_invoke",{value:x(t,r,s)}),a}function l(t,e,r){try{return {type:"normal",arg:t.call(e,r)}}catch(t){return {type:"throw",arg:t}}}t.wrap=u;var f={};function h(){}function d(){}function p(){}var y={};c(y,o,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(S([])));g&&g!==e&&r.call(g,o)&&(y=g);var m=p.prototype=h.prototype=Object.create(y);function b(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}));}));}function E(t,e){function i(n,o,a,s){var c=l(t[n],t,o);if("throw"!==c.type){var u=c.arg,f=u.value;return f&&"object"==w(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){i("next",t,a,s);}),(function(t){i("throw",t,a,s);})):e.resolve(f).then((function(t){u.value=t,a(u);}),(function(t){return i("throw",t,a,s)}))}s(c.arg);}var o;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){i(t,r,e,n);}))}return o=o?o.then(n,n):n()}});}function x(t,e,r){var n="suspendedStart";return function(i,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===i)throw o;return {value:void 0,done:!0}}for(r.method=i,r.arg=o;;){var a=r.delegate;if(a){var s=L(a,r);if(s){if(s===f)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg);}else "return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=l(t,e,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===f)continue;return {value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg);}}}function L(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,L(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var i=l(n,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,f;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e);}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e;}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0);}function S(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return {next:T}}function T(){return {value:void 0,done:!0}}return d.prototype=p,n(m,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:d,configurable:!0}),d.displayName=c(p,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return !!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,s,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return {__await:t}},b(E.prototype),c(E.prototype,a,(function(){return this})),t.AsyncIterator=E,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new E(u(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(m),c(m,s,"Generator"),c(m,o,(function(){return this})),c(m,"toString",(function(){return "[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=S,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0);},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else {if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return "break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;k(r);}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:S(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}function E(t,e,r,n,i,o,a){try{var s=t[o](a),c=s.value;}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,i);}function x(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){E(o,n,i,a,s,"next",t);}function s(t){E(o,n,i,a,s,"throw",t);}a(void 0);}))}}function L(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(i=function(t,e){if("object"!==w(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==w(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===w(i)?i:String(i)),n);}var i;}function _(){return _="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=C(t)););return t}(t,e);if(n){var i=Object.getOwnPropertyDescriptor(n,e);return i.get?i.get.call(arguments.length<3?t:r):i.value}},_.apply(this,arguments)}function k(t,e){return k=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},k(t,e)}function C(t){return C=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},C(t)}b.styleTagTransform=g(),b.setAttributes=d(),b.insert=f().bind(null,"head"),b.domAPI=u(),b.insertStyleElement=y(),s()(m.Z,b),m.Z&&m.Z.locals&&m.Z.locals;var S=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&k(t,e);}(f,t);var e,r,n,a,s,c,u,l=(c=f,u=function(){if("undefined"==typeof Reflect||!Reflect.construct)return !1;if(Reflect.construct.sham)return !1;if("function"==typeof Proxy)return !0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return !1}}(),function(){var t,e=C(c);if(u){var r=C(this).constructor;t=Reflect.construct(e,arguments,r);}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===w(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function f(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,f),l.apply(this,arguments)}return e=f,r=[{key:"closeOnSelect",get:function(){return void 0===this.config.closeOnSelect&&("check"!==this.buttonType?this.config.closeOnSelect=!0:this.config.closeOnSelect=!1),this.config.closeOnSelect}},{key:"getContent",value:(s=x(A().mark((function t(){var e,r,n,o,a,s=this;return A().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=(0, i.jS)('<ul class="menu-button-content"></ul>'),r=this.menuTitle,t.next=4,this.getMenu();case 4:return n=t.sent,this._menuItems=n,o=!1,a=null,null!==r&&(0, i.jS)('<li class="menu-button-title">'.concat(this.player.translate(r),"</li>"),e),n.forEach((function(t){var r=(0, i.jS)('<li class="menu-button-item"></li>',e),n="";"button"===s.buttonType?n="menu-item-type-button":"check"===s.buttonType?n="menu-item-type-button"+(t.selected?" selected":""):"radio"===s.buttonType&&(n="menu-item-type-button",!o&&t.selected&&(n+=" selected",o=!0));var c="";t.icon&&t.title&&s.showTitles?c='\n\t\t\t\t<i class="menu-icon">'.concat(t.icon,'</i>\n\t\t\t\t<span class="menu-title">').concat(t.title,"</span>\n\t\t\t\t"):t.icon?c='\n\t\t\t\t<i class="menu-icon">'.concat(t.icon,"</i>\n\t\t\t\t"):t.title&&(c='\n\t\t\t\t<span class="menu-title">'.concat(t.title,"</span>\n\t\t\t\t"));var u=(0, i.jS)('\n\t\t\t\t<button class="'.concat(n,'" aria-label="').concat(t.title,'" title="').concat(t.title,'">').concat(c,"</button>"),r);a||(a=u),t.buttonElement=u,u._itemData=t,u.addEventListener("click",(function(t){"check"===s.buttonType?(t.target._itemData.selected=!t.target._itemData.selected,t.target._itemData.selected?t.target.classList.add("selected"):t.target.classList.remove("selected")):"radio"===s.buttonType&&(s.menuItems.forEach((function(t){t.selected=!1,t.buttonElement.classList.remove("selected");})),t.target._itemData.selected=!t.target._itemData.selected,t.target._itemData.selected?t.target.classList.add("selected"):t.target.classList.remove("selected")),s.itemSelected(t.target._itemData,s._menuItems),t.stopPropagation(),s.closeOnSelect&&s.closeMenu();}));var l=u.getElementsByTagName("svg");l.length>0&&(/%$/.test(l[0].getAttribute("width"))&&l[0].removeAttribute("width"),/%$/.test(l[0].getAttribute("height"))&&l[0].removeAttribute("height"));})),setTimeout((function(){a.focus();}),50),t.abrupt("return",e);case 12:case"end":return t.stop()}}),t,this)}))),function(){return s.apply(this,arguments)})},{key:"menuTitle",get:function(){return this.config.menuTitle||null}},{key:"getMenu",value:(a=x(A().mark((function t(){var e;return A().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=[{id:0,title:"Option 1"},{id:1,title:"Option 2"},{id:2,title:"Option 3"},{id:3,title:"Option 4"},{id:4,title:"Option 5"}],t.abrupt("return",e);case 2:case"end":return t.stop()}}),t)}))),function(){return a.apply(this,arguments)})},{key:"menuItems",get:function(){return this._menuItems}},{key:"showTitles",get:function(){return !0}},{key:"buttonType",value:function(){return "button"}},{key:"itemSelected",value:function(t,e){this.player.log.warn("MenuButtonPlugin (".concat(this.name,"): itemSelected() function not implemented."));}},{key:"closeMenu",value:function(){this.config.closeParentPopUp?o.Z.HideAllPopUps(!1):this._popUp.hide();}},{key:"showPopUp",value:(n=x(A().mark((function t(){return A().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.refreshContent=!0,t.next=3,_(C(f.prototype),"showPopUp",this).call(this);case 3:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})}],r&&L(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),f}(n.Z);},2624:(t,e,r)=>{function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function i(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,(o=function(t,e){if("object"!==n(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var i=r.call(t,"string");if("object"!==n(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(i.key),"symbol"===n(o)?o:String(o)),i);}var o;}r.d(e,{Z:()=>o});var o=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._player=e;}var e,r;return e=t,(r=[{key:"player",get:function(){return this._player}}])&&i(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();},9076:(t,e,r)=>{function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function i(){i=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value;},a="function"==typeof Symbol?Symbol:{},s=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"");}catch(t){l=function(t,e,r){return t[e]=r};}function f(t,e,r,n){var i=e&&e.prototype instanceof p?e:p,a=Object.create(i.prototype),s=new C(n||[]);return o(a,"_invoke",{value:x(t,r,s)}),a}function h(t,e,r){try{return {type:"normal",arg:t.call(e,r)}}catch(t){return {type:"throw",arg:t}}}t.wrap=f;var d={};function p(){}function y(){}function v(){}var g={};l(g,s,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(S([])));b&&b!==e&&r.call(b,s)&&(g=b);var w=v.prototype=p.prototype=Object.create(g);function A(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}));}));}function E(t,e){function i(o,a,s,c){var u=h(t[o],t,a);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==n(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){i("next",t,s,c);}),(function(t){i("throw",t,s,c);})):e.resolve(f).then((function(t){l.value=t,s(l);}),(function(t){return i("throw",t,s,c)}))}c(u.arg);}var a;o(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){i(t,r,e,n);}))}return a=a?a.then(n,n):n()}});}function x(t,e,r){var n="suspendedStart";return function(i,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===i)throw o;return {value:void 0,done:!0}}for(r.method=i,r.arg=o;;){var a=r.delegate;if(a){var s=L(a,r);if(s){if(s===d)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg);}else "return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=h(t,e,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===d)continue;return {value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg);}}}function L(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,L(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),d;var i=h(n,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,d;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e);}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e;}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0);}function S(t){if(t){var e=t[s];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return {next:T}}function T(){return {value:void 0,done:!0}}return y.prototype=v,o(w,"constructor",{value:v,configurable:!0}),o(v,"constructor",{value:y,configurable:!0}),y.displayName=l(v,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return !!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,l(t,u,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return {__await:t}},A(E.prototype),l(E.prototype,c,(function(){return this})),t.AsyncIterator=E,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new E(f(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},A(w),l(w,u,"Generator"),l(w,s,(function(){return this})),l(w,"toString",(function(){return "[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=S,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0);},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else {if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return "break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;k(r);}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:S(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},t}function o(t,e,r,n,i,o,a){try{var s=t[o](a),c=s.value;}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,i);}function a(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var a=t.apply(e,r);function s(t){o(a,n,i,s,c,"next",t);}function c(t){o(a,n,i,s,c,"throw",t);}s(void 0);}))}}function s(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,(o=function(t,e){if("object"!==n(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var i=r.call(t,"string");if("object"!==n(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(i.key),"symbol"===n(o)?o:String(o)),i);}var o;}function c(t,e){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},c(t,e)}function u(t){return u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},u(t)}r.d(e,{Z:()=>l});var l=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&c(t,e);}(y,t);var e,r,o,l,f,h,d,p=(h=y,d=function(){if("undefined"==typeof Reflect||!Reflect.construct)return !1;if(Reflect.construct.sham)return !1;if("function"==typeof Proxy)return !0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return !1}}(),function(){var t,e=u(h);if(d){var r=u(this).constructor;t=Reflect.construct(e,arguments,r);}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===n(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function y(t,e,r){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,y),(n=p.call(this,t))._name=r,n._config=e.plugins[n.name],n}return e=y,r=[{key:"config",get:function(){return this._config}},{key:"type",get:function(){return "none"}},{key:"order",get:function(){var t;return (null===(t=this._config)||void 0===t?void 0:t.order)||0}},{key:"description",get:function(){var t;return (null===(t=this._config)||void 0===t?void 0:t.description)||""}},{key:"name",get:function(){return this._name}},{key:"isEnabled",value:(f=a(i().mark((function t(){var e;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",null===(e=this.config)||void 0===e?void 0:e.enabled);case 1:case"end":return t.stop()}}),t,this)}))),function(){return f.apply(this,arguments)})},{key:"load",value:(l=a(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)}))),function(){return l.apply(this,arguments)})},{key:"unload",value:(o=a(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)}))),function(){return o.apply(this,arguments)})}],r&&s(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),y}(r(2624).Z);},7133:(t,e,r)=>{var n="src\\js\\core\\PluginModule.js";function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function o(){o=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value;},a="function"==typeof Symbol?Symbol:{},s=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"");}catch(t){l=function(t,e,r){return t[e]=r};}function f(t,e,r,i){var o=e&&e.prototype instanceof p?e:p,a=Object.create(o.prototype),s=new C(i||[]);return n(a,"_invoke",{value:x(t,r,s)}),a}function h(t,e,r){try{return {type:"normal",arg:t.call(e,r)}}catch(t){return {type:"throw",arg:t}}}t.wrap=f;var d={};function p(){}function y(){}function v(){}var g={};l(g,s,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(S([])));b&&b!==e&&r.call(b,s)&&(g=b);var w=v.prototype=p.prototype=Object.create(g);function A(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}));}));}function E(t,e){function o(n,a,s,c){var u=h(t[n],t,a);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==i(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,s,c);}),(function(t){o("throw",t,s,c);})):e.resolve(f).then((function(t){l.value=t,s(l);}),(function(t){return o("throw",t,s,c)}))}c(u.arg);}var a;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n);}))}return a=a?a.then(n,n):n()}});}function x(t,e,r){var n="suspendedStart";return function(i,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===i)throw o;return {value:void 0,done:!0}}for(r.method=i,r.arg=o;;){var a=r.delegate;if(a){var s=L(a,r);if(s){if(s===d)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg);}else "return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=h(t,e,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===d)continue;return {value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg);}}}function L(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,L(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),d;var i=h(n,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,d;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e);}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e;}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0);}function S(t){if(t){var e=t[s];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return {next:T}}function T(){return {value:void 0,done:!0}}return y.prototype=v,n(w,"constructor",{value:v,configurable:!0}),n(v,"constructor",{value:y,configurable:!0}),y.displayName=l(v,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return !!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,l(t,u,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return {__await:t}},A(E.prototype),l(E.prototype,c,(function(){return this})),t.AsyncIterator=E,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new E(f(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},A(w),l(w,u,"Generator"),l(w,s,(function(){return this})),l(w,"toString",(function(){return "[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=S,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0);},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else {if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return "break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;k(r);}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:S(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},t}function a(t,e,r,n,i,o,a){try{var s=t[o](a),c=s.value;}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,i);}function s(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(o=function(t,e){if("object"!==i(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===i(o)?o:String(o)),n);}var o;}function c(t,e){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},c(t,e)}function u(t){return u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},u(t)}r.d(e,{Z:()=>l});var l=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&c(t,e);}(y,t);var e,r,l,f,h,d,p=(h=y,d=function(){if("undefined"==typeof Reflect||!Reflect.construct)return !1;if(Reflect.construct.sham)return !1;if("function"==typeof Proxy)return !0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return !1}}(),function(){var t,e=u(h);if(d){var r=u(this).constructor;t=Reflect.construct(e,arguments,r);}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===i(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function y(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,y),p.apply(this,arguments)}return e=y,r=[{key:"moduleName",get:function(){return this.player.log.warn("Incomplete player module definition: '".concat(n,".moduleName'")),"-"}},{key:"moduleVersion",get:function(){return this.player.log.warn("Incomplete player module definition: '".concat(n,".moduleVersion'")),"0.0.0"}},{key:"getDictionaries",value:(l=o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",null);case 1:case"end":return t.stop()}}),t)})),f=function(){var t=this,e=arguments;return new Promise((function(r,n){var i=l.apply(t,e);function o(t){a(i,r,n,o,s,"next",t);}function s(t){a(i,r,n,o,s,"throw",t);}o(void 0);}))},function(){return f.apply(this,arguments)})}],r&&s(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),y}(r(2624).Z);},6911:(t,e,r)=>{r.d(e,{Z:()=>C});var n=r(916),i=r(980),o=r(3379),a=r.n(o),s=r(7795),c=r.n(s),u=r(569),l=r.n(u),f=r(3565),h=r.n(f),d=r(9216),p=r.n(d),y=r(4589),v=r.n(y),g=r(6777),m={};function b(t){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},b(t)}function w(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(i=function(t,e){if("object"!==b(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==b(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===b(i)?i:String(i)),n);}var i;}function A(){return A="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=L(t)););return t}(t,e);if(n){var i=Object.getOwnPropertyDescriptor(n,e);return i.get?i.get.call(arguments.length<3?t:r):i.value}},A.apply(this,arguments)}function E(t,e){return E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},E(t,e)}function x(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function L(t){return L=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},L(t)}m.styleTagTransform=v(),m.setAttributes=h(),m.insert=l().bind(null,"head"),m.domAPI=c(),m.insertStyleElement=p(),a()(g.Z,m),g.Z&&g.Z.locals&&g.Z.locals;var _=[];function k(t,e,r){if(e){var n=e.getBoundingClientRect(),i=n.top,o=n.left,a=n.right,s=n.bottom,c=n.width,u=n.height,l=o+c/2,f=i+u/2,h=document.body.scrollTop,d=window.innerWidth,p=window.innerHeight,y=window.innerWidth/2,v=window.innerHeight/2;if(t.containerElement.getBoundingClientRect(),r.style.overflow="auto",r.style.display="table",r.style.left="",r.style.right="",r.style.bottom="",r.style.top="",y>l&&v<=f){var g=p-(s-u);r.style.left="".concat(o,"px"),r.style.bottom="".concat(g,"px"),r.style.maxHeight="calc(100vh - ".concat(g,"px - 10px)");}else if(y>l&&v>f)r.style.left="".concat(o,"px"),r.style.top="".concat(i+u+h,"px"),r.style.maxHeight="calc(100vh - ".concat(i+u,"px - 10px)");else if(y<=l&&v>f)r.style.right="".concat(d-a,"px"),r.style.top="".concat(i+u+h,"px"),r.style.maxHeight="calc(100vh - ".concat(i+u,"px - 10px)");else if(y<=l&&v<=f){var m=p-(s-u);r.style.right="".concat(d-a,"px"),r.style.bottom="".concat(m,"px"),r.style.maxHeight="calc(100vh - ".concat(m,"px - 10px)");}}}var C=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&E(t,e);}(u,t);var e,r,o,a,s,c=(a=u,s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return !1;if(Reflect.construct.sham)return !1;if("function"==typeof Proxy)return !0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return !1}}(),function(){var t,e=L(a);if(s){var r=L(this).constructor;t=Reflect.construct(e,arguments,r);}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===b(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return x(t)}(this,t)});function u(t,e){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u);var a={class:o?"popup-container":"popup-container no-modal"};return (r=c.call(this,t,{attributes:a,children:'\n\t\t<div class="popup-content"></div>\n\t\t',parent:e}))._lastFocusElement=document.activeElement,r._modal=o,r._contextObject=i,r._id=Symbol(x(r)),_.push(x(r)),r.element.addEventListener("click",(function(){r.hide();})),r._contentElement=r.element.getElementsByClassName("popup-content")[0],r._anchorElement=n,n&&k(t,n,r.contentElement),r._parentPopUp=null,r.hide(),r}return e=u,r=[{key:"lastFocusElement",get:function(){return this._lastFocusElement}},{key:"isModal",get:function(){return this._modal}},{key:"contextObject",get:function(){return this._contextObject}},{key:"id",get:function(){return this._id}},{key:"contentElement",get:function(){return this._contentElement}},{key:"content",get:function(){return this._popupContent}},{key:"parentPopUp",get:function(){return this._parentPopUp}},{key:"isParent",value:function(t){return t===this||null!==this.parentPopUp&&(this.parentPopUp===t||this.parentPopUp.isParent(t))}},{key:"setContent",value:function(t){this.contentElement.innerHTML="","string"==typeof t?this._popupContent=(0, n.jS)(t,this.contentElement):(this._popupContent=t,this.contentElement.appendChild(t));}},{key:"show",value:function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this._anchorElement&&k(this.player,this._anchorElement,this.contentElement),e&&this.setParent(e),this._parentPopUp=r,r&&r.addChild(this),A(L(u.prototype),"show",this).call(this),u.HideNonAncestors(this),(t=this.player).__hidePopUpActionContainer||(t.__hidePopUpActionContainer=(0, n.jS)('<div class="hide-popup-action-container"></div>'),t.videoContainer.element.appendChild(t.__hidePopUpActionContainer),t.__hidePopUpActionContainer.style.position="absolute",t.__hidePopUpActionContainer.style.left="0px",t.__hidePopUpActionContainer.style.top="0px",t.__hidePopUpActionContainer.style.right="0px",t.__hidePopUpActionContainer.style.bottom="0px",t.__hidePopUpActionContainer.style.zIndex=500,t.__hidePopUpActionContainer.addEventListener("click",(function(t){C.HideAllPopUps(!1),t.stopPropagation();}))),t.__hidePopUpActionContainer.style.display="block",(0, i.qe)(this.player,i.ZP.SHOW_POPUP,{popUp:this,plugin:this.contextObject});}},{key:"hide",value:function(){var t;this.isVisible&&(this._children&&this._children.forEach((function(t){return t.hide()})),this._parentPopUp&&this._parentPopUp.removeChild(this),(0, i.qe)(this.player,i.ZP.HIDE_POPUP,{popUp:this,plugin:this.contextObject}),A(L(u.prototype),"hide",this).call(this),this.lastFocusElement&&this.lastFocusElement.focus()),_.some((function(t){return t.isVisible}))||(t=this.player).__hidePopUpActionContainer&&(t.__hidePopUpActionContainer.style.display="none");}},{key:"addChild",value:function(t){this._children=this._children||[],this._children.find((function(e){return e===t}))||this._children.push(t);}},{key:"removeChild",value:function(t){this._children&&(this._children=this._children.filter((function(e){return e!==t})));}},{key:"destroy",value:function(){var t=_.indexOf(this);-1!==t&&(_.splice(t,1),this.removeFromParent());}}],o=[{key:"GetPopUps",value:function(){return _}},{key:"IsSomePopUpVisible",value:function(){return _.some((function(t){return t.isVisible}))}},{key:"GetPopUp",value:function(t){return _.find((function(e){return e.id===t}))}},{key:"Contains",value:function(t){return _.some((function(e){return e.element.contains(t)}))}},{key:"HideAllPopUps",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];_.forEach((function(e){(t&&e.isModal||!t)&&e.hide();}));}},{key:"HideTopPopUp",value:function(){if(_.length){var t,e=null;_.slice().reverse().some((function(t){return t.isVisible&&(e=t),null!==e})),null===(t=e)||void 0===t||t.hide();}}},{key:"Unload",value:function(){_.forEach((function(t){t.removeFromParent();})),_.slice(0);}},{key:"HideNonAncestors",value:function(t){_.forEach((function(e){t.isParent&&!t.isParent(e)&&e.hide();}));}}],r&&w(e.prototype,r),o&&w(e,o),Object.defineProperty(e,"prototype",{writable:!1}),u}(n.FZ);},7528:(t,e,r)=>{r.d(e,{Z:()=>y});var n=r(1768),i=r(6911),o=r(916),a=r(230);function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function c(){c=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value;},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"");}catch(t){l=function(t,e,r){return t[e]=r};}function f(t,e,r,i){var o=e&&e.prototype instanceof p?e:p,a=Object.create(o.prototype),s=new C(i||[]);return n(a,"_invoke",{value:x(t,r,s)}),a}function h(t,e,r){try{return {type:"normal",arg:t.call(e,r)}}catch(t){return {type:"throw",arg:t}}}t.wrap=f;var d={};function p(){}function y(){}function v(){}var g={};l(g,o,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(S([])));b&&b!==e&&r.call(b,o)&&(g=b);var w=v.prototype=p.prototype=Object.create(g);function A(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}));}));}function E(t,e){function i(n,o,a,c){var u=h(t[n],t,o);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==s(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){i("next",t,a,c);}),(function(t){i("throw",t,a,c);})):e.resolve(f).then((function(t){l.value=t,a(l);}),(function(t){return i("throw",t,a,c)}))}c(u.arg);}var o;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){i(t,r,e,n);}))}return o=o?o.then(n,n):n()}});}function x(t,e,r){var n="suspendedStart";return function(i,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===i)throw o;return {value:void 0,done:!0}}for(r.method=i,r.arg=o;;){var a=r.delegate;if(a){var s=L(a,r);if(s){if(s===d)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg);}else "return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=h(t,e,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===d)continue;return {value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg);}}}function L(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,L(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),d;var i=h(n,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,d;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e);}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e;}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0);}function S(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return {next:T}}function T(){return {value:void 0,done:!0}}return y.prototype=v,n(w,"constructor",{value:v,configurable:!0}),n(v,"constructor",{value:y,configurable:!0}),y.displayName=l(v,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return !!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,l(t,u,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return {__await:t}},A(E.prototype),l(E.prototype,a,(function(){return this})),t.AsyncIterator=E,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new E(f(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},A(w),l(w,u,"Generator"),l(w,o,(function(){return this})),l(w,"toString",(function(){return "[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=S,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0);},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else {if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return "break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;k(r);}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:S(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},t}function u(t,e,r,n,i,o,a){try{var s=t[o](a),c=s.value;}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,i);}function l(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){u(o,n,i,a,s,"next",t);}function s(t){u(o,n,i,a,s,"throw",t);}a(void 0);}))}}function f(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(i=function(t,e){if("object"!==s(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==s(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===s(i)?i:String(i)),n);}var i;}function h(t,e){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},h(t,e)}function d(t){return d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},d(t)}function p(){var t=this,e=["modal","timeline","no-modal"],r=function(){return t.player.log.warn('Invalid popUpType set in "'.concat(t.name,'" plugin. Alowed types are "modal", "timeline" and "no-modal"'))};return -1!==e.indexOf(this.config.popUpType)?this.config.popUpType:-1!==e.indexOf(this.popUpType)?(this.config.popUpType&&r(),this.popUpType):(r(),"modal")}var y=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&h(t,e);}(b,t);var e,r,n,u,y,v,g,m=(v=b,g=function(){if("undefined"==typeof Reflect||!Reflect.construct)return !1;if(Reflect.construct.sham)return !1;if("function"==typeof Proxy)return !0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return !1}}(),function(){var t,e=d(v);if(g){var r=d(this).constructor;t=Reflect.construct(e,arguments,r);}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===s(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function b(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,b),(t=m.apply(this,arguments))._refreshContent=!0,t}return e=b,r=[{key:"refreshContent",get:function(){return this._refreshContent},set:function(t){this._refreshContent=t;}},{key:"closeParentPopUp",get:function(){return this.config.closeParentPopUp||this.getCloseParentPopUp()}},{key:"getCloseParentPopUp",value:function(){return !1}},{key:"action",value:(y=l(c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.showPopUp();case 2:case"end":return t.stop()}}),t,this)}))),function(){return y.apply(this,arguments)})},{key:"parentPopUp",get:function(){return this._parentPopUp},set:function(t){this._parentPopUp=t;}},{key:"popUp",get:function(){return this._popUp}},{key:"getContent",value:(u=l(c().mark((function t(){var e;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=(0, o.jS)("<p>Pop Up Button Plugin Content</p>"),t.abrupt("return",e);case 2:case"end":return t.stop()}}),t)}))),function(){return u.apply(this,arguments)})},{key:"popUpType",get:function(){return "modal"}},{key:"hidePopUp",value:function(){this.closeParentPopUp?i.Z.HideAllPopUps(!1):this._popUp&&this._popUp.hide();}},{key:"showPopUp",value:(n=l(c().mark((function t(){var e,r,n,o;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.player.isFullscreen?this.player.containerElement:document.body,this._popUp){t.next=13;break}return this._popUp=null,"modal"===(r=p.apply(this))||"no-modal"===r?this._popUp=new i.Z(this.player,e,this.button,this,"modal"===r):"timeline"===r&&(this._popUp=new a.Z(this.player,this)),t.next=7,this.getContent();case 7:n=t.sent,this._popUp.setContent(n),this._popUp.show(e,this._parentPopUp),this.refreshContent=!1,t.next=28;break;case 13:if("timeline"!==this.popUpType||!this._popUp.isVisible){t.next=17;break}this._popUp.hide(),t.next=28;break;case 17:if(!this._popUp.isVisible){t.next=21;break}this._popUp.hide(),t.next=28;break;case 21:if(!this.refreshContent){t.next=27;break}return t.next=24,this.getContent();case 24:o=t.sent,this._popUp.setContent(o),this.refreshContent=!1;case 27:this._popUp.show(e,this._parentPopUp);case 28:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})}],r&&f(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),b}(n.ZP);},4025:(t,e,r)=>{function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function i(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,(o=function(t,e){if("object"!==n(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var i=r.call(t,"string");if("object"!==n(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(i.key),"symbol"===n(o)?o:String(o)),i);}var o;}function o(t,e){return o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},o(t,e)}function a(t){return a=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},a(t)}r.d(e,{Z:()=>s});var s=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&o(t,e);}(l,t);var e,r,s,c,u=(s=l,c=function(){if("undefined"==typeof Reflect||!Reflect.construct)return !1;if(Reflect.construct.sham)return !1;if("function"==typeof Proxy)return !0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return !1}}(),function(){var t,e=a(s);if(c){var r=a(this).constructor;t=Reflect.construct(e,arguments,r);}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===n(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function l(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,l),u.apply(this,arguments)}return e=l,(r=[{key:"type",get:function(){return "progressIndicator"}},{key:"minHeight",get:function(){return 0}},{key:"minHeightHover",get:function(){return 0}},{key:"drawForeground",value:function(t,e,r,n){}},{key:"drawBackground",value:function(t,e,r,n){}},{key:"requestUpdate",value:function(){this.player.playbackBar.progressIndicator.requestUpdateCanvas();}}])&&i(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),l}(r(9076).Z);},230:(t,e,r)=>{r.d(e,{Z:()=>k});var n=r(916),i=r(980),o=r(3379),a=r.n(o),s=r(7795),c=r.n(s),u=r(569),l=r.n(u),f=r(3565),h=r.n(f),d=r(9216),p=r.n(d),y=r(4589),v=r.n(y),g=r(5352),m={};function b(t){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},b(t)}function w(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(i=function(t,e){if("object"!==b(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==b(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===b(i)?i:String(i)),n);}var i;}function A(){return A="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=L(t)););return t}(t,e);if(n){var i=Object.getOwnPropertyDescriptor(n,e);return i.get?i.get.call(arguments.length<3?t:r):i.value}},A.apply(this,arguments)}function E(t,e){return E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},E(t,e)}function x(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function L(t){return L=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},L(t)}function _(t){t.__timeLinePopUp||(t.__timeLinePopUp={popUps:[],current:null});}m.styleTagTransform=v(),m.setAttributes=h(),m.insert=l().bind(null,"head"),m.domAPI=c(),m.insertStyleElement=p(),a()(g.Z,m),g.Z&&g.Z.locals&&g.Z.locals;var k=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&E(t,e);}(c,t);var e,r,n,o,a,s=(o=c,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return !1;if(Reflect.construct.sham)return !1;if("function"==typeof Proxy)return !0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return !1}}(),function(){var t,e=L(o);if(a){var r=L(this).constructor;t=Reflect.construct(e,arguments,r);}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===b(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return x(t)}(this,t)});function c(t){var e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),_(t);var n=t.containerElement;return (e=s.call(this,t,{attributes:{class:"timeline-popup-content"},parent:n}))._contextObject=r,t.__timeLinePopUp.popUps.forEach((function(t){return t.hide()})),e._id=Symbol(x(e)),t.__timeLinePopUp.popUps.push(x(e)),t.__timeLinePopUp.current=x(e),(0, i.qe)(e.player,i.ZP.SHOW_POPUP,{popUp:x(e),plugin:e.contextObject}),e}return e=c,r=[{key:"contextObject",get:function(){return this._contextObject}},{key:"show",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.isVisible||(this.player.__timeLinePopUp.popUps.forEach((function(t){return t.hide()})),A(L(c.prototype),"show",this).call(this),this.player.__timeLinePopUp.current=this,!0!==t&&(0, i.qe)(this.player,i.ZP.SHOW_POPUP,{popUp:this,plugin:this.contextObject}));}},{key:"hide",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.isVisible&&(A(L(c.prototype),"hide",this).call(this),this.player.__timeLinePopUp.current=null,!0!==t&&(0, i.qe)(this.player,i.ZP.HIDE_POPUP,{popUp:this,plugin:this.contextObject}));}},{key:"setContent",value:function(t){t&&(this.element.innerHTML="",this.element.appendChild(t));}}],n=[{key:"HideUserInterface",value:function(t){if(_(t),t.__timeLinePopUp.current){var e=t.__timeLinePopUp.current;t.__timeLinePopUp.current.hide(!0),t.__timeLinePopUp.current=e;}}},{key:"ShowUserInterface",value:function(t){_(t),t.__timeLinePopUp.current&&t.__timeLinePopUp.current.show(!0);}},{key:"Unload",value:function(t){t.__timeLinePopUp&&(t.__timeLinePopUp.current&&t.__timeLinePopUp.current.removeFromParent(),t.__timeLinePopUp.popUps.forEach((function(t){t.removeFromParent();})),t.__timeLinePopUp.popUps.slice(0),delete t.__timeLinePopUp);}}],r&&w(e.prototype,r),n&&w(e,n),Object.defineProperty(e,"prototype",{writable:!1}),c}(n.FZ);},1547:(t,e,r)=>{function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function i(){i=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value;},a="function"==typeof Symbol?Symbol:{},s=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"");}catch(t){l=function(t,e,r){return t[e]=r};}function f(t,e,r,n){var i=e&&e.prototype instanceof p?e:p,a=Object.create(i.prototype),s=new C(n||[]);return o(a,"_invoke",{value:x(t,r,s)}),a}function h(t,e,r){try{return {type:"normal",arg:t.call(e,r)}}catch(t){return {type:"throw",arg:t}}}t.wrap=f;var d={};function p(){}function y(){}function v(){}var g={};l(g,s,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(S([])));b&&b!==e&&r.call(b,s)&&(g=b);var w=v.prototype=p.prototype=Object.create(g);function A(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}));}));}function E(t,e){function i(o,a,s,c){var u=h(t[o],t,a);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==n(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){i("next",t,s,c);}),(function(t){i("throw",t,s,c);})):e.resolve(f).then((function(t){l.value=t,s(l);}),(function(t){return i("throw",t,s,c)}))}c(u.arg);}var a;o(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){i(t,r,e,n);}))}return a=a?a.then(n,n):n()}});}function x(t,e,r){var n="suspendedStart";return function(i,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===i)throw o;return {value:void 0,done:!0}}for(r.method=i,r.arg=o;;){var a=r.delegate;if(a){var s=L(a,r);if(s){if(s===d)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg);}else "return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=h(t,e,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===d)continue;return {value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg);}}}function L(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,L(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),d;var i=h(n,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,d;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e);}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e;}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0);}function S(t){if(t){var e=t[s];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return {next:T}}function T(){return {value:void 0,done:!0}}return y.prototype=v,o(w,"constructor",{value:v,configurable:!0}),o(v,"constructor",{value:y,configurable:!0}),y.displayName=l(v,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return !!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,l(t,u,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return {__await:t}},A(E.prototype),l(E.prototype,c,(function(){return this})),t.AsyncIterator=E,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new E(f(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},A(w),l(w,u,"Generator"),l(w,s,(function(){return this})),l(w,"toString",(function(){return "[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=S,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0);},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else {if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return "break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;k(r);}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:S(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},t}function o(t,e,r,n,i,o,a){try{var s=t[o](a),c=s.value;}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,i);}function a(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,(o=function(t,e){if("object"!==n(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var i=r.call(t,"string");if("object"!==n(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(i.key),"symbol"===n(o)?o:String(o)),i);}var o;}function s(t,e){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},s(t,e)}function c(t){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},c(t)}r.d(e,{Z:()=>u});var u=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s(t,e);}(p,t);var e,r,u,l,f,h,d=(f=p,h=function(){if("undefined"==typeof Reflect||!Reflect.construct)return !1;if(Reflect.construct.sham)return !1;if("function"==typeof Proxy)return !0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return !1}}(),function(){var t,e=c(f);if(h){var r=c(this).constructor;t=Reflect.construct(e,arguments,r);}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===n(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function p(t,e,r){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,p),(n=d.call(this,t,e,r)).__uiPlugin=!0,n}return e=p,r=[{key:"getDictionaries",value:(u=i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",null);case 1:case"end":return t.stop()}}),t)})),l=function(){var t=this,e=arguments;return new Promise((function(r,n){var i=u.apply(t,e);function a(t){o(i,r,n,a,s,"next",t);}function s(t){o(i,r,n,a,s,"throw",t);}a(void 0);}))},function(){return l.apply(this,arguments)})}],r&&a(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),p}(r(9076).Z);},8985:(t,e,r)=>{r.d(e,{S:()=>E,Z:()=>L});var n=r(916),i=r(3379),o=r.n(i),a=r(7795),s=r.n(a),c=r(569),u=r.n(c),l=r(3565),f=r.n(l),h=r(9216),d=r.n(h),p=r(4589),y=r.n(p),v=r(6213),g={};function m(t){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},m(t)}function b(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(i=function(t,e){if("object"!==m(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==m(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===m(i)?i:String(i)),n);}var i;}function w(t,e){return w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},w(t,e)}function A(t){return A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},A(t)}g.styleTagTransform=y(),g.setAttributes=f(),g.insert=u().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=d(),o()(v.Z,g),v.Z&&v.Z.locals&&v.Z.locals;var E=Object.freeze({TOP_LEFT:"topLeft",TOP_MIDDLE:"topMiddle",TOP_RIGHT:"topRight",CENTER_LEFT:"centerLeft",CENTER_MIDDLE:"centerMiddle",CENTER_RIGHT:"centerRight",BOTTOM_LEFT:"bottomLeft",BOTTOM_MIDDLE:"bottomMiddle",BOTTOM_RIGHT:"bottomRight"}),x=function(t,e,r,i,o){i=i||"",r=r||1e3;var a=(0, n.jS)('\n        <div class="message-content '.concat(i,'">\n            ').concat(t?'<i class="icon">'.concat(t,"</i>"):"","\n            ").concat(e?'<p class="text">'.concat(e,"</p>"):"","\n        </div>\n    "));return o.innerHTML="",o.appendChild(a),o.timer&&(clearTimeout(o.timer),o.timer=null),o.timer=setTimeout((function(){o.removeChild(a);}),r),a},L=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&w(t,e);}(s,t);var e,r,i,o,a=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return !1;if(Reflect.construct.sham)return !1;if("function"==typeof Proxy)return !0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return !1}}(),function(){var t,e=A(i);if(o){var r=A(this).constructor;t=Reflect.construct(e,arguments,r);}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===m(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function s(t,e){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(r=a.call(this,t,{attributes:{class:"video-container-message"},parent:e}))._topLeftContainer=(0, n.jS)('<div class="container top-left"></div>',r.element),r._topMiddleContainer=(0, n.jS)('<div class="container top-middle"></div>',r.element),r._topRightContainer=(0, n.jS)('<div class="container top-right"></div>',r.element),r._centerLeftContainer=(0, n.jS)('<div class="container center-left"></div>',r.element),r._centerMiddleContainer=(0, n.jS)('<div class="container center-middle"></div>',r.element),r._centerRightContainer=(0, n.jS)('<div class="container center-right"></div>',r.element),r._bottomLeftContainer=(0, n.jS)('<div class="container bottom-left"></div>',r.element),r._bottomMiddleContainer=(0, n.jS)('<div class="container bottom-middle"></div>',r.element),r._bottomRightContainer=(0, n.jS)('<div class="container bottom-right"></div>',r.element),r}return e=s,(r=[{key:"show",value:function(t){var e=t.icon,r=void 0===e?null:e,n=t.text,i=void 0===n?"":n,o=t.timeout,a=void 0===o?1e3:o,s=t.position,c=void 0===s?E.CENTER_MIDDLE:s,u=t.cssClass,l=void 0===u?"":u;switch(c){case E.TOP_LEFT:x.apply(this,[r,i,a,l,this._topLeftContainer]);break;case E.TOP_MIDDLE:x.apply(this,[r,i,a,l,this._topMiddleContainer]);break;case E.TOP_RIGHT:x.apply(this,[r,i,a,l,this._topRightContainer]);break;case E.CENTER_LEFT:x.apply(this,[r,i,a,l,this._centerLeftContainer]);break;case E.CENTER_MIDDLE:x.apply(this,[r,i,a,l,this._centerMiddleContainer]);break;case E.CENTER_RIGHT:x.apply(this,[r,i,a,l,this._centerRightContainer]);break;case E.BOTTOM_LEFT:x.apply(this,[r,i,a,l,this._bottomLeftContainer]);break;case E.BOTTOM_MIDDLE:x.apply(this,[r,i,a,l,this._bottomMiddleContainer]);break;case E.BOTTOM_RIGHT:x.apply(this,[r,i,a,l,this._bottomRightContainer]);}}}])&&b(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),s}(n.FZ);},3063:(t,e,r)=>{r.d(e,{Fw:()=>h,OU:()=>p,QW:()=>d,Vc:()=>f,ZP:()=>v,tk:()=>l,yl:()=>y});var n=r(8450);function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function o(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(o=function(t,e){if("object"!==i(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===i(o)?o:String(o)),n);}var o;}function a(t,e){return a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},a(t,e)}function s(t){return s=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},s(t)}function c(t){return function(t){if(Array.isArray(t))return u(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return u(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return "Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?u(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function l(t,e){return (0, n.FN)(t,"layout").filter((function(t){return t.config&&t.config.enabled&&t.canApply(e)}))}function f(t,e){var r=l(t,e),n=[];return r.forEach((function(t){n.push.apply(n,c(t.getValidContentIds(e)));})),n}function h(t,e){var r=[];return (0, n.FN)(t,"layout").filter((function(t){var r;if(null!==(r=t.config)&&void 0!==r&&r.enabled)return t.config.validContent.every((function(t){return t.content.length===e}))})).forEach((function(t){return t.config.validContent.forEach((function(t){return r.push(t.content)}))})),r}function d(t,e,r){var n=l(t,e),i=null;return n.some((function(t){if(-1!==t.getValidContentIds(e).indexOf(r))return i=t,!0})),i}function p(t,e){var r=l(t,e),n=f(t,e),i=[];return r.forEach((function(t){i=[].concat(c(i),c(t.config.validContent));})),i.filter((function(t){return -1!==n.indexOf(t.id)}))}function y(t,e,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=d(t,e,r);if(i){var o=i.getLayoutStructure(e,r,n);return o.plugin=i,o}return null}var v=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&a(t,e);}(l,t);var e,r,n,c,u=(n=l,c=function(){if("undefined"==typeof Reflect||!Reflect.construct)return !1;if(Reflect.construct.sham)return !1;if("function"==typeof Proxy)return !0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return !1}}(),function(){var t,e=s(n);if(c){var r=s(this).constructor;t=Reflect.construct(e,arguments,r);}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===i(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function l(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,l),u.apply(this,arguments)}return e=l,(r=[{key:"type",get:function(){return "layout"}},{key:"layoutType",get:function(){return "static"}},{key:"getTabIndexStart",value:function(){return 10}},{key:"tabIndexStart",get:function(){var t;return (null===(t=this.config)||void 0===t?void 0:t.tabIndexStart)||this.getTabIndexStart()}},{key:"identifier",get:function(){return "default"}},{key:"icon",get:function(){return "icon.png"}},{key:"validContent",get:function(){var t;return null===(t=this.config)||void 0===t?void 0:t.validContent}},{key:"validContentIds",get:function(){var t=[];return this.validContent.forEach((function(e){return t.push(e.id)})),t}},{key:"getValidContentIds",value:function(t){var e=[];return this.validContent.forEach((function(r){r.content.every((function(e){return t.some((function(t){return e===t.content}))}))&&e.push(r.id);})),e}},{key:"getValidStreams",value:function(t){var e=[];return this.validContent.forEach((function(r){var n=[];r.content.every((function(e){return t.some((function(t){if(e===t.content)return n.push(t),!0}))}))&&e.push(n);})),e}},{key:"canApply",value:function(t){return this.getValidStreams(t).length>0}},{key:"getLayoutStructure",value:function(){return {}}},{key:"getVideoCanvasButtons",value:function(t,e,r){return []}}])&&o(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),l}(r(1547).Z);},646:(t,e,r)=>{r.d(e,{Wl:()=>_,ZP:()=>m,m7:()=>E,nk:()=>C,ti:()=>k,zE:()=>w});var n=r(916),i=r(9076),o=r(8450),a=r(1401);function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function c(){c=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value;},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"");}catch(t){l=function(t,e,r){return t[e]=r};}function f(t,e,r,i){var o=e&&e.prototype instanceof p?e:p,a=Object.create(o.prototype),s=new C(i||[]);return n(a,"_invoke",{value:x(t,r,s)}),a}function h(t,e,r){try{return {type:"normal",arg:t.call(e,r)}}catch(t){return {type:"throw",arg:t}}}t.wrap=f;var d={};function p(){}function y(){}function v(){}var g={};l(g,o,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(S([])));b&&b!==e&&r.call(b,o)&&(g=b);var w=v.prototype=p.prototype=Object.create(g);function A(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}));}));}function E(t,e){function i(n,o,a,c){var u=h(t[n],t,o);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==s(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){i("next",t,a,c);}),(function(t){i("throw",t,a,c);})):e.resolve(f).then((function(t){l.value=t,a(l);}),(function(t){return i("throw",t,a,c)}))}c(u.arg);}var o;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){i(t,r,e,n);}))}return o=o?o.then(n,n):n()}});}function x(t,e,r){var n="suspendedStart";return function(i,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===i)throw o;return {value:void 0,done:!0}}for(r.method=i,r.arg=o;;){var a=r.delegate;if(a){var s=L(a,r);if(s){if(s===d)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg);}else "return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=h(t,e,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===d)continue;return {value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg);}}}function L(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,L(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),d;var i=h(n,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,d;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e);}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e;}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0);}function S(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return {next:T}}function T(){return {value:void 0,done:!0}}return y.prototype=v,n(w,"constructor",{value:v,configurable:!0}),n(v,"constructor",{value:y,configurable:!0}),y.displayName=l(v,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return !!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,l(t,u,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return {__await:t}},A(E.prototype),l(E.prototype,a,(function(){return this})),t.AsyncIterator=E,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new E(f(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},A(w),l(w,u,"Generator"),l(w,o,(function(){return this})),l(w,"toString",(function(){return "[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=S,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0);},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else {if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return "break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;k(r);}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:S(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},t}function u(t,e,r,n,i,o,a){try{var s=t[o](a),c=s.value;}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,i);}function l(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){u(o,n,i,a,s,"next",t);}function s(t){u(o,n,i,a,s,"throw",t);}a(void 0);}))}}function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(i=function(t,e){if("object"!==s(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==s(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===s(i)?i:String(i)),n);}var i;}function d(t,e,r){return e&&h(t.prototype,e),r&&h(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function p(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&y(t,e);}function y(t,e){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},y(t,e)}function v(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return !1;if(Reflect.construct.sham)return !1;if("function"==typeof Proxy)return !0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return !1}}();return function(){var r,n=g(t);if(e){var i=g(this).constructor;r=Reflect.construct(n,arguments,i);}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===s(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function g(t){return g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},g(t)}var m=function(t){p(n,t);var e,r=v(n);function n(){return f(this,n),r.apply(this,arguments)}return d(n,[{key:"type",get:function(){return "video"}},{key:"streamType",get:function(){return "mp4"}},{key:"isCompatible",value:function(){return !1}},{key:"getVideoInstance",value:(e=l(c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",null);case 1:case"end":return t.stop()}}),t)}))),function(){return e.apply(this,arguments)})},{key:"getCompatibleFileExtensions",value:function(){return []}},{key:"getManifestData",value:function(t){}}]),n}(i.Z),b=[];function w(t){return A.apply(this,arguments)}function A(){return (A=l(c().mark((function t(e){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0, o.FP)(e,"video",(function(t){b.push(t);}));case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function E(t){return x.apply(this,arguments)}function x(){return (x=l(c().mark((function t(e){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function L(t){if(0===b.length)throw Error("No video plugins loaded. Note that `loadVideoPlugins()` must to be called before using `getVideoPlugins()`.");return b}function _(t,e){var r=(0, a.getFileExtension)(e);return L().find((function(t){return -1!==t.getCompatibleFileExtensions().indexOf(r)}))}function k(t,e){var r=L(),n=null;return r.some((function(t){if(t.isCompatible(e))return n=t,!0})),n}var C=function(t){p(S,t);var e,r,n,i,o,a,s,u,h,y,g,m,b,w,A,E,x,L,_,k,C=v(S);function S(t,e,r){var n;return f(this,S),(n=C.call(this,e,{tag:t,attributes:{class:"video-player"},parent:r}))._streamProvider=null,n._streamData=null,n._ready=!1,n}return d(S,[{key:"streamData",get:function(){return this._streamData}},{key:"ready",get:function(){return this._ready}},{key:"load",value:(k=l(c().mark((function t(e,r){var n;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this._streamProvider=r,this._streamData=e,t.next=4,this.loadStreamData(e);case 4:return n=t.sent,t.abrupt("return",n);case 6:case"end":return t.stop()}}),t,this)}))),function(t,e){return k.apply(this,arguments)})},{key:"isMainAudioPlayer",get:function(){return this._streamProvider.mainAudioPlayer===this}},{key:"onVideoEnded",value:function(t){this._videoEndedCallback=t;}},{key:"play",value:(_=l(c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",!1);case 1:case"end":return t.stop()}}),t)}))),function(){return _.apply(this,arguments)})},{key:"pause",value:(L=l(c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",!1);case 1:case"end":return t.stop()}}),t)}))),function(){return L.apply(this,arguments)})},{key:"duration",value:(x=l(c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",-1);case 1:case"end":return t.stop()}}),t)}))),function(){return x.apply(this,arguments)})},{key:"currentTimeSync",get:function(){return -1}},{key:"currentTime",value:(E=l(c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",-1);case 1:case"end":return t.stop()}}),t)}))),function(){return E.apply(this,arguments)})},{key:"setCurrentTime",value:(A=l(c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",!1);case 1:case"end":return t.stop()}}),t)}))),function(){return A.apply(this,arguments)})},{key:"volume",value:(w=l(c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",-1);case 1:case"end":return t.stop()}}),t)}))),function(){return w.apply(this,arguments)})},{key:"setVolume",value:(b=l(c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",!1);case 1:case"end":return t.stop()}}),t)}))),function(){return b.apply(this,arguments)})},{key:"initVolume",value:function(t){this._initialVolume=t;}},{key:"paused",value:(m=l(c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",!0);case 1:case"end":return t.stop()}}),t)}))),function(){return m.apply(this,arguments)})},{key:"playbackRate",value:(g=l(c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",-1);case 1:case"end":return t.stop()}}),t)}))),function(){return g.apply(this,arguments)})},{key:"setPlaybackRate",value:(y=l(c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",!1);case 1:case"end":return t.stop()}}),t)}))),function(){return y.apply(this,arguments)})},{key:"getQualities",value:(h=l(c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",null);case 1:case"end":return t.stop()}}),t)}))),function(){return h.apply(this,arguments)})},{key:"setQuality",value:(u=l(c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",!1);case 1:case"end":return t.stop()}}),t)}))),function(){return u.apply(this,arguments)})},{key:"currentQuality",get:function(){return null}},{key:"getDimensions",value:(s=l(c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",null);case 1:case"end":return t.stop()}}),t)}))),function(){return s.apply(this,arguments)})},{key:"supportsMultiaudio",value:(a=l(c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",!1);case 1:case"end":return t.stop()}}),t)}))),function(){return a.apply(this,arguments)})},{key:"getAudioTracks",value:(o=l(c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",null);case 1:case"end":return t.stop()}}),t)}))),function(){return o.apply(this,arguments)})},{key:"setCurrentAudioTrack",value:(i=l(c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)}))),function(){return i.apply(this,arguments)})},{key:"currentAudioTrack",get:function(){return null}},{key:"loadStreamData",value:(n=l(c().mark((function t(e){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",!1);case 1:case"end":return t.stop()}}),t)}))),function(t){return n.apply(this,arguments)})},{key:"isEnabled",get:function(){return this._enabled}},{key:"enable",value:(r=l(c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this._enabled=!0;case 1:case"end":return t.stop()}}),t,this)}))),function(){return r.apply(this,arguments)})},{key:"disable",value:(e=l(c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this._enabled=!1;case 1:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})}]),S}(n.FZ);},625:(t,e,r)=>{function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function i(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,(o=function(t,e){if("object"!==n(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var i=r.call(t,"string");if("object"!==n(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(i.key),"symbol"===n(o)?o:String(o)),i);}var o;}r.d(e,{Z:()=>o});var o=function(){function t(e){var r=e.label,n=e.shortLabel,i=e.isAuto,o=void 0!==i&&i,a=e.index,s=void 0===a?0:a,c=e.src,u=void 0===c?"":c,l=e.width,f=void 0===l?-1:l,h=e.height,d=void 0===h?-1:h,p=e.bitrate,y=void 0===p?-1:p;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._label=r,this._shortLabel=n,this._index=s,this._src=u,this._res={w:f,h:d},this._bitrate=y,this._isAuto=o;}var e,r;return e=t,(r=[{key:"label",get:function(){return this._label}},{key:"shortLabel",get:function(){return this._shortLabel}},{key:"index",get:function(){return this._index}},{key:"src",get:function(){return this._src}},{key:"res",get:function(){return this._res}},{key:"bitrate",get:function(){return this._bitrate}},{key:"isAuto",get:function(){return this._isAuto}},{key:"quality",get:function(){return -1!==this._res.w&&-1!==this._res.h?this._res.w*this._res.h:this._bitrate}},{key:"compare",value:function(t){return t.quality-this.quality}}])&&i(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();},916:(t,e,r)=>{function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function i(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,(o=function(t,e){if("object"!==n(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var i=r.call(t,"string");if("object"!==n(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(i.key),"symbol"===n(o)?o:String(o)),i);}var o;}function o(t,e){return o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},o(t,e)}function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function s(t){return s=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},s(t)}function c(t){var e=t.tag,r=void 0===e?"div":e,n=t.attributes,i=void 0===n?{}:n,o=t.children,a=void 0===o?"":o,s=t.innerText,c=void 0===s?"":s,u=t.parent,l=void 0===u?null:u,f=document.createElement(r);for(var h in f.innerText=c,i)f.setAttribute(h,i[h]);return f.innerHTML=a,l&&l.appendChild(f),f}function u(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=document.createElement("div");r.innerHTML=t;var n=r.children[0];return e&&e.appendChild(n),n}r.d(e,{FZ:()=>l,az:()=>c,jS:()=>u});var l=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&o(t,e);}(h,t);var e,r,u,l,f=(u=h,l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return !1;if(Reflect.construct.sham)return !1;if("function"==typeof Proxy)return !0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return !1}}(),function(){var t,e=s(u);if(l){var r=s(this).constructor;t=Reflect.construct(e,arguments,r);}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===n(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return a(t)}(this,t)});function h(t,e){var r,n=e.tag,i=void 0===n?"div":n,o=e.attributes,s=void 0===o?[]:o,u=e.children,l=void 0===u?"":u,d=e.parent,p=void 0===d?null:d;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,h),(r=f.call(this,t))._element=c({tag:i,attributes:s,children:l,parent:p}),Object.defineProperty(a(r),i,{get:function(){return r._element}}),r}return e=h,r=[{key:"element",get:function(){return this._element}},{key:"parent",get:function(){return this._element.parentElement}},{key:"hide",value:function(){this.element.style.display="none";}},{key:"show",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"block";this.element.style.display=t;}},{key:"isVisible",get:function(){var t=window.getComputedStyle(this.element);return "none"!==t.display&&""!==t.display}},{key:"setAttribute",value:function(t,e){this._element.setAttribute(t,e);}},{key:"removeFromParent",value:function(){var t;null===(t=this._element.parentElement)||void 0===t||t.removeChild(this._element);}},{key:"setParent",value:function(t){this.removeFromParent(),t.appendChild(this._element);}}],r&&i(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),h}(r(2624).Z);},8450:(t,e,r)=>{r.d(e,{FN:()=>p,gQ:()=>f,FP:()=>y,zb:()=>h,Dd:()=>g,W:()=>d});const n=[r(591),r(4803),r(6189),r(3855),r(9802)];var i=r(1401),o=r(7488);function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function s(){s=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value;},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"");}catch(t){l=function(t,e,r){return t[e]=r};}function f(t,e,r,i){var o=e&&e.prototype instanceof p?e:p,a=Object.create(o.prototype),s=new C(i||[]);return n(a,"_invoke",{value:x(t,r,s)}),a}function h(t,e,r){try{return {type:"normal",arg:t.call(e,r)}}catch(t){return {type:"throw",arg:t}}}t.wrap=f;var d={};function p(){}function y(){}function v(){}var g={};l(g,o,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(S([])));b&&b!==e&&r.call(b,o)&&(g=b);var w=v.prototype=p.prototype=Object.create(g);function A(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}));}));}function E(t,e){function i(n,o,s,c){var u=h(t[n],t,o);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==a(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){i("next",t,s,c);}),(function(t){i("throw",t,s,c);})):e.resolve(f).then((function(t){l.value=t,s(l);}),(function(t){return i("throw",t,s,c)}))}c(u.arg);}var o;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){i(t,r,e,n);}))}return o=o?o.then(n,n):n()}});}function x(t,e,r){var n="suspendedStart";return function(i,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===i)throw o;return {value:void 0,done:!0}}for(r.method=i,r.arg=o;;){var a=r.delegate;if(a){var s=L(a,r);if(s){if(s===d)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg);}else "return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=h(t,e,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===d)continue;return {value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg);}}}function L(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,L(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),d;var i=h(n,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,d;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e);}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e;}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0);}function S(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return {next:T}}function T(){return {value:void 0,done:!0}}return y.prototype=v,n(w,"constructor",{value:v,configurable:!0}),n(v,"constructor",{value:y,configurable:!0}),y.displayName=l(v,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return !!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,l(t,u,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return {__await:t}},A(E.prototype),l(E.prototype,c,(function(){return this})),t.AsyncIterator=E,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new E(f(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},A(w),l(w,u,"Generator"),l(w,o,(function(){return this})),l(w,"toString",(function(){return "[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=S,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0);},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else {if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return "break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;k(r);}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:S(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},t}function c(t,e,r,n,i,o,a){try{var s=t[o](a),c=s.value;}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,i);}function u(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){c(o,n,i,a,s,"next",t);}function s(t){c(o,n,i,a,s,"throw",t);}a(void 0);}))}}function l(t,e,r,n){var i=r.type;t.__pluginData__.pluginClasses[e]=n,t.__pluginData__.pluginInstances[i]=t.__pluginData__.pluginInstances[i]||[],t.__pluginData__.pluginInstances[i].push(r);}function f(t,e){var r=t.config;e.keys().forEach((function(n){var i=e(n),o=n.substring(2,n.length-3);if(r.plugins[o]){var a=i.default,s=new a(t,r,o);l(t,n,s,a);}else if(/^[a-z0-9]+$/i.test(o)){var c=new(i.default)(t),u=c.moduleName,f=c.moduleVersion;t.log.debug("Plugin module imported: ".concat(u,": v").concat(f)),t.__pluginModules=t.__pluginModules||[],t.__pluginModules.push(c);}}));}function h(t){var e=t.config;if(t.__pluginData__=t.__pluginData__||{pluginClasses:[],pluginInstances:{}},0===t.__pluginData__.pluginClasses.length){n.forEach((function(e){return f(t,e)})),t.initParams.customPluginContext.forEach((function(e){return f(t,e)}));var r=e.buttonGroups;r&&r.forEach((function(e,r){var n="button_group_".concat(r),a={plugins:{}};a.plugins[n]=e;var s=new o.Z(t,a,n);s._iconPath=(0, i.joinPath)([t.configResourcesUrl,e.icon]),l(t,s.type,s,"ButtonGroupPlugin".concat(r));})),t.log.debug("Plugins have been registered:");}}function d(t){delete t.__pluginData__;}function p(t,e){var r;return (null===(r=t.__pluginData__)||void 0===r?void 0:r.pluginInstances[e])||[]}function y(t,e){return v.apply(this,arguments)}function v(){return v=u(s().mark((function t(e,r){var n,i,o,c,l,f,h,d=arguments;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=d.length>2&&void 0!==d[2]?d[2]:null,i=d.length>3&&void 0!==d[3]?d[3]:null,e.__pluginData__.pluginInstances[r]){t.next=5;break}return e.log.info("There are no defined plugins of type '".concat(r,"'")),t.abrupt("return");case 5:e.__pluginData__.pluginInstances[r].sort((function(t,e){return t.order-e.order})),e.__pluginData__.pluginInstances[r].forEach((function(t){return e.log.debug("type: ".concat(r,", name: ").concat(t.name))})),"function"!=typeof i&&(i=function(){var t=u(s().mark((function t(e){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.isEnabled();case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),t.t0=s().keys(e.__pluginData__.pluginInstances[r]);case 9:if((t.t1=t.t0()).done){t.next=28;break}return o=t.t1.value,c=e.__pluginData__.pluginInstances[r][o],t.next=14,i(c);case 14:if(!t.sent){t.next=26;break}if(!c.__uiPlugin){t.next=21;break}return t.next=19,c.getDictionaries();case 19:if("object"===a(l=t.sent))for(f in l)h=l[f],e.addDictionary(f,h);case 21:if("function"!=typeof n){t.next=24;break}return t.next=24,n(c);case 24:return t.next=26,c.load();case 26:t.next=9;break;case 28:case"end":return t.stop()}}),t)}))),v.apply(this,arguments)}function g(t,e){return m.apply(this,arguments)}function m(){return m=u(s().mark((function t(e,r){var n;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:null===(n=e.__pluginData__.pluginInstances[r])||void 0===n||n.forEach(function(){var t=u(s().mark((function t(e){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.unload();case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 1:case"end":return t.stop()}}),t)}))),m.apply(this,arguments)}},1401:(t,e,r)=>{r.r(e),r.d(e,{clearAutoHideTimer:()=>E,getCookie:()=>C,getFileExtension:()=>g,getHashParameter:()=>f,getJSONCookie:()=>T,getNumericCookie:()=>S,getUrlFileName:()=>p,getUrlParameter:()=>l,isAbsoluteUrl:()=>d,joinPath:()=>h,loadStyle:()=>P,loadSvgIcon:()=>u,mergeObjects:()=>I,pauseAutoHideUiTimer:()=>b,removeExtension:()=>y,removeFileName:()=>v,resolveResourcePath:()=>m,resumeAutoHideUiTimer:()=>w,secondsToTime:()=>x,setCookie:()=>_,setCookieIfAllowed:()=>k,setupAutoHideUiTimer:()=>A,timeToSeconds:()=>L,unloadStyle:()=>O});var n=r(980),i=r(6911);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function a(){a=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value;},i="function"==typeof Symbol?Symbol:{},s=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"");}catch(t){l=function(t,e,r){return t[e]=r};}function f(t,e,r,i){var o=e&&e.prototype instanceof p?e:p,a=Object.create(o.prototype),s=new C(i||[]);return n(a,"_invoke",{value:x(t,r,s)}),a}function h(t,e,r){try{return {type:"normal",arg:t.call(e,r)}}catch(t){return {type:"throw",arg:t}}}t.wrap=f;var d={};function p(){}function y(){}function v(){}var g={};l(g,s,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(S([])));b&&b!==e&&r.call(b,s)&&(g=b);var w=v.prototype=p.prototype=Object.create(g);function A(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}));}));}function E(t,e){function i(n,a,s,c){var u=h(t[n],t,a);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==o(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){i("next",t,s,c);}),(function(t){i("throw",t,s,c);})):e.resolve(f).then((function(t){l.value=t,s(l);}),(function(t){return i("throw",t,s,c)}))}c(u.arg);}var a;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){i(t,r,e,n);}))}return a=a?a.then(n,n):n()}});}function x(t,e,r){var n="suspendedStart";return function(i,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===i)throw o;return {value:void 0,done:!0}}for(r.method=i,r.arg=o;;){var a=r.delegate;if(a){var s=L(a,r);if(s){if(s===d)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg);}else "return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=h(t,e,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===d)continue;return {value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg);}}}function L(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,L(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),d;var i=h(n,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,d;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e);}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e;}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0);}function S(t){if(t){var e=t[s];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return {next:T}}function T(){return {value:void 0,done:!0}}return y.prototype=v,n(w,"constructor",{value:v,configurable:!0}),n(v,"constructor",{value:y,configurable:!0}),y.displayName=l(v,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return !!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,l(t,u,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return {__await:t}},A(E.prototype),l(E.prototype,c,(function(){return this})),t.AsyncIterator=E,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new E(f(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},A(w),l(w,u,"Generator"),l(w,s,(function(){return this})),l(w,"toString",(function(){return "[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=S,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0);},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else {if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return "break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;k(r);}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:S(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},t}function s(t,e,r,n,i,o,a){try{var s=t[o](a),c=s.value;}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,i);}function c(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){s(o,n,i,a,c,"next",t);}function c(t){s(o,n,i,a,c,"throw",t);}a(void 0);}))}}function u(t){return new Promise((function(e,r){fetch(t).then((function(t){return t.text()})).then((function(t){e(t);})).catch((function(t){return r(t)}));}))}function l(t){var e=new URLSearchParams(window.location.search);return e.has(t)?e.get(t):null}function f(t){var e=window.location.hash.replace("#","?"),r=new URLSearchParams(e);return r.has(t)?r.get(t):null}function h(t,e){var r=e||"/";return (t=t.map((function(e,n){return n&&(e=e.replace(new RegExp("^"+r),"")),n!==t.length-1&&(e=e.replace(new RegExp(r+"$"),"")),e}))).join(r)}function d(t){return new RegExp("^([a-z]+://|//)","i").test(t)||/^\//.test(t)}function p(t){try{return new URL(t).pathname.split("/").pop()}catch(e){return t.split("/").pop()}}function y(t){return t.split(".").reduce((function(t,e,r,n){return r<n.length-1?""!==t?"".concat(t,".").concat(e):e:t}),"")}function v(t){var e=function(t){var e=t.split("/").reduce((function(t,e,r,n){return r<n.length-1?""!==t?"".concat(t,"/").concat(e):e:t}),"");return ("/"===t[0]?"/".concat(e):e)+"/"};try{var r=new URL(t);return r.origin+e(r.pathname)}catch(r){return e(t)}}function g(t){return p(t).split(".").pop()}function m(t,e){return d(e)?e:h([t.manifestUrl,e])}function b(t){t.__hideTimerPaused__=!0;}function w(t){t.__hideTimerPaused__=!1;}function A(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"hideUiTime";t.__hideTimer__=null;var r=function(){var n=c(a().mark((function n(){return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.__hideTimer__&&clearTimeout(t.__hideTimer__),n.next=3,t.showUserInterface();case 3:t.__hideTimer__=setTimeout(c(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.__hideTimer__=null,!i.Z.IsSomePopUpVisible()){e.next=7;break}t.log.debug("UI not hidden because there are visible pop ups"),r(),e.next=19;break;case 7:if(!t.__hideTimerPaused__){e.next=12;break}t.log.debug("UI not hidden because the auto hide timer is paused"),r(),e.next=19;break;case 12:if(n=document.activeElement,!t.playbackBar.element.contains(n)&&!t.videoContainer.element.contains(n)){e.next=17;break}t.log.debug("UI not hidden because there is a focused element"),r(),e.next=19;break;case 17:return e.next=19,t.hideUserInterface();case 19:case"end":return e.stop()}var n;}),e)}))),t[e]);case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();t.containerElement.addEventListener("mousemove",function(){var t=c(a().mark((function t(e){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r();case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),(0, n.GT)(t,n.ZP.PLAY,c(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r();case 1:case"end":return t.stop()}}),t)})))),(0, n.GT)(t,n.ZP.PAUSE,c(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.showUserInterface();case 2:case"end":return e.stop()}}),e)})))),(0, n.GT)(t,n.ZP.ENDED,c(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.showUserInterface();case 2:case"end":return e.stop()}}),e)})))),document.addEventListener("keydown",c(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r();case 1:case"end":return t.stop()}}),t)}))));}function E(t){t.__hideTimer__&&(clearTimeout(t.__hideTimer__),delete t.__hideTimer__);}function x(t){var e=Math.floor(t/60/60),r=Math.floor(t/60)-60*e,n=Math.floor(t%60);return (e>0?e.toString().padStart(2,"0")+":":"")+r.toString().padStart(2,"0")+":"+n.toString().padStart(2,"0")}function L(t){var e=/^(?:(\d+):){0,1}(\d+):(\d+)(\.\d+)?$/.exec(t);return e?3600*(void 0!==e[1]?Number(e[1]):0)+60*Number(e[2])+Number(e[3]):null}function _(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:365,n=new Date;n.setTime(n.getTime()+24*r*60*60*1e3);var i="expires=".concat(n.toUTCString());document.cookie="".concat(t,"=").concat(e,";").concat(i,";path=/;SameSite=None;")+(/Apple/.test(navigator.vendor)?"":"Secure;");}function k(t,e,r,n){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:365;t.cookieConsent.getConsentForType(e)&&_(r,n,i);}function C(t){for(var e=t+"=",r=decodeURIComponent(document.cookie).split(";"),n=0;n<r.length;++n){for(var i=r[n];" "==i.charAt(0);)i=i.substring(1);if(0==i.indexOf(e))return i.substring(e.length,i.length)}return ""}function S(t){var e=C(t),r=Number(e);return ""===e||isNaN(r)?null:r}function T(t){try{return JSON.parse(C(t))}catch(t){return null}}function P(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return new Promise((function(r){var n=document.createElement("link");n.setAttribute("rel","stylesheet"),n.setAttribute("href",t),n.onload=function(){return r(n)};var i=document.getElementsByTagName("head")[0];e&&i.appendChild(n),r();}))}function O(t){document.getElementsByTagName("head")[0].removeChild(t);}function I(t,e){var r=function(){var r=t[n],i=e[n];Array.isArray(r)&&Array.isArray(i)?(r.forEach((function(t){i=i.filter((function(e){return "object"!==o(t)||"object"!==o(e)||t.id!==e.id||(I(t,e),!1)}));})),i.forEach((function(t){r.push(t);}))):"object"==o(r)&&i?I(r,i):t[n]=e[n];};for(var n in e)r();}},99:(t,e,r)=>{r.r(e),r.d(e,{default:()=>u});var n=r(7133),i=r(4147);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function a(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(i=function(t,e){if("object"!==o(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===o(i)?i:String(i)),n);}var i;}function s(t,e){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},s(t,e)}function c(t){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},c(t)}var u=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s(t,e);}(f,t);var e,r,n,u,l=(n=f,u=function(){if("undefined"==typeof Reflect||!Reflect.construct)return !1;if(Reflect.construct.sham)return !1;if("function"==typeof Proxy)return !0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return !1}}(),function(){var t,e=c(n);if(u){var r=c(this).constructor;t=Reflect.construct(e,arguments,r);}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===o(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function f(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,f),l.apply(this,arguments)}return e=f,(r=[{key:"moduleName",get:function(){return "paella-core default data plugins"}},{key:"moduleVersion",get:function(){return i.version}}])&&a(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),f}(n.Z);},6016:(t,e,r)=>{r.r(e),r.d(e,{default:()=>h});var n=r(1285),i=r(1401);function o(){o=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value;},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"");}catch(t){l=function(t,e,r){return t[e]=r};}function f(t,e,r,i){var o=e&&e.prototype instanceof p?e:p,a=Object.create(o.prototype),s=new C(i||[]);return n(a,"_invoke",{value:x(t,r,s)}),a}function h(t,e,r){try{return {type:"normal",arg:t.call(e,r)}}catch(t){return {type:"throw",arg:t}}}t.wrap=f;var d={};function p(){}function y(){}function v(){}var g={};l(g,a,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(S([])));b&&b!==e&&r.call(b,a)&&(g=b);var w=v.prototype=p.prototype=Object.create(g);function A(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}));}));}function E(t,e){function i(n,o,a,s){var u=h(t[n],t,o);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==c(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){i("next",t,a,s);}),(function(t){i("throw",t,a,s);})):e.resolve(f).then((function(t){l.value=t,a(l);}),(function(t){return i("throw",t,a,s)}))}s(u.arg);}var o;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){i(t,r,e,n);}))}return o=o?o.then(n,n):n()}});}function x(t,e,r){var n="suspendedStart";return function(i,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===i)throw o;return {value:void 0,done:!0}}for(r.method=i,r.arg=o;;){var a=r.delegate;if(a){var s=L(a,r);if(s){if(s===d)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg);}else "return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=h(t,e,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===d)continue;return {value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg);}}}function L(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,L(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),d;var i=h(n,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,d;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e);}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e;}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0);}function S(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return {next:T}}function T(){return {value:void 0,done:!0}}return y.prototype=v,n(w,"constructor",{value:v,configurable:!0}),n(v,"constructor",{value:y,configurable:!0}),y.displayName=l(v,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return !!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,l(t,u,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return {__await:t}},A(E.prototype),l(E.prototype,s,(function(){return this})),t.AsyncIterator=E,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new E(f(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},A(w),l(w,u,"Generator"),l(w,a,(function(){return this})),l(w,"toString",(function(){return "[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=S,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0);},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else {if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return "break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;k(r);}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:S(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},t}function a(t,e,r,n,i,o,a){try{var s=t[o](a),c=s.value;}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,i);}function s(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function s(t){a(o,n,i,s,c,"next",t);}function c(t){a(o,n,i,s,c,"throw",t);}s(void 0);}))}}function c(t){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c(t)}function u(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(i=function(t,e){if("object"!==c(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==c(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===c(i)?i:String(i)),n);}var i;}function l(t,e){return l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},l(t,e)}function f(t){return f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},f(t)}var h=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&l(t,e);}(v,t);var e,r,n,a,h,d,p,y=(d=v,p=function(){if("undefined"==typeof Reflect||!Reflect.construct)return !1;if(Reflect.construct.sham)return !1;if("function"==typeof Proxy)return !0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return !1}}(),function(){var t,e=f(d);if(p){var r=f(this).constructor;t=Reflect.construct(e,arguments,r);}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===c(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function v(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,v),y.apply(this,arguments)}return e=v,r=[{key:"serializeKey",value:function(t,e){return "object"===c(e)&&(e=JSON.stringify(e)),"".concat(t,"|").concat(e)}},{key:"read",value:(h=s(o().mark((function t(e,r){var n,a;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=this.serializeKey(e,r),a=(0, i.getCookie)(n);try{a=JSON.parse(a);}catch(t){}return this.player.log.debug("CookieDataPlugin.read: ".concat(n)),t.abrupt("return",a);case 5:case"end":return t.stop()}}),t,this)}))),function(t,e){return h.apply(this,arguments)})},{key:"write",value:(a=s(o().mark((function t(e,r,n){var a;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=this.serializeKey(e,r),n&&"object"===c(n))try{n=JSON.stringify(n);}catch(t){this.player.log.warn("CookieDataPlugin.write: ".concat(a,": invalid data object.")),n="";}(0, i.setCookie)(a,n),this.player.log.debug("CookieDataPlugin.write: ".concat(a));case 4:case"end":return t.stop()}}),t,this)}))),function(t,e,r){return a.apply(this,arguments)})},{key:"remove",value:(n=s(o().mark((function t(e,r){var n;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=this.serializeKey(e,r),(0, i.setCookie)(n,""),this.player.log.debug("CookieDataPlugin.remove: ".concat(n));case 3:case"end":return t.stop()}}),t,this)}))),function(t,e){return n.apply(this,arguments)})}],r&&u(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),v}(n.e);},4493:(t,e,r)=>{r.r(e),r.d(e,{default:()=>u});var n=r(7133),i=r(4147);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function a(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(i=function(t,e){if("object"!==o(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===o(i)?i:String(i)),n);}var i;}function s(t,e){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},s(t,e)}function c(t){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},c(t)}var u=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s(t,e);}(f,t);var e,r,n,u,l=(n=f,u=function(){if("undefined"==typeof Reflect||!Reflect.construct)return !1;if(Reflect.construct.sham)return !1;if("function"==typeof Proxy)return !0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return !1}}(),function(){var t,e=c(n);if(u){var r=c(this).constructor;t=Reflect.construct(e,arguments,r);}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===o(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function f(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,f),l.apply(this,arguments)}return e=f,(r=[{key:"moduleName",get:function(){return "paella-core default video layouts"}},{key:"moduleVersion",get:function(){return i.version}}])&&a(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),f}(n.Z);},7236:(t,e,r)=>{r.r(e),r.d(e,{default:()=>P});var n=r(3063),i=r(1401),o=r(4382),a=r(6300),s=r.n(a),c=r(8221),u=r.n(c),l=r(6208),f=r.n(l),h=r(1550),d=r.n(h),p=r(1835),y=r.n(p),v=r(1042),g=r.n(v);function m(t){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},m(t)}function b(){b=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value;},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"");}catch(t){c=function(t,e,r){return t[e]=r};}function u(t,e,r,i){var o=e&&e.prototype instanceof h?e:h,a=Object.create(o.prototype),s=new C(i||[]);return n(a,"_invoke",{value:x(t,r,s)}),a}function l(t,e,r){try{return {type:"normal",arg:t.call(e,r)}}catch(t){return {type:"throw",arg:t}}}t.wrap=u;var f={};function h(){}function d(){}function p(){}var y={};c(y,o,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(S([])));g&&g!==e&&r.call(g,o)&&(y=g);var w=p.prototype=h.prototype=Object.create(y);function A(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}));}));}function E(t,e){function i(n,o,a,s){var c=l(t[n],t,o);if("throw"!==c.type){var u=c.arg,f=u.value;return f&&"object"==m(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){i("next",t,a,s);}),(function(t){i("throw",t,a,s);})):e.resolve(f).then((function(t){u.value=t,a(u);}),(function(t){return i("throw",t,a,s)}))}s(c.arg);}var o;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){i(t,r,e,n);}))}return o=o?o.then(n,n):n()}});}function x(t,e,r){var n="suspendedStart";return function(i,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===i)throw o;return {value:void 0,done:!0}}for(r.method=i,r.arg=o;;){var a=r.delegate;if(a){var s=L(a,r);if(s){if(s===f)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg);}else "return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=l(t,e,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===f)continue;return {value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg);}}}function L(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,L(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var i=l(n,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,f;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e);}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e;}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0);}function S(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return {next:T}}function T(){return {value:void 0,done:!0}}return d.prototype=p,n(w,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:d,configurable:!0}),d.displayName=c(p,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return !!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,s,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return {__await:t}},A(E.prototype),c(E.prototype,a,(function(){return this})),t.AsyncIterator=E,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new E(u(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},A(w),c(w,s,"Generator"),c(w,o,(function(){return this})),c(w,"toString",(function(){return "[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=S,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0);},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else {if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return "break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;k(r);}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:S(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}function w(t,e,r,n,i,o,a){try{var s=t[o](a),c=s.value;}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,i);}function A(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){w(o,n,i,a,s,"next",t);}function s(t){w(o,n,i,a,s,"throw",t);}a(void 0);}))}}function E(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(i=function(t,e){if("object"!==m(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==m(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===m(i)?i:String(i)),n);}var i;}function x(){return x="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=_(t)););return t}(t,e);if(n){var i=Object.getOwnPropertyDescriptor(n,e);return i.get?i.get.call(arguments.length<3?t:r):i.value}},x.apply(this,arguments)}function L(t,e){return L=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},L(t,e)}function _(t){return _=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_(t)}var k=0,C=[{id:"side-by-side",videos:[{content:null,rect:[{aspectRatio:"16/9",width:560,height:315,top:218,left:712},{aspectRatio:"16/10",width:560,height:350,top:206,left:712},{aspectRatio:"4/3",width:560,height:420,top:173,left:712},{aspectRatio:"5/3",width:560,height:336,top:206,left:712},{aspectRatio:"5/4",width:560,height:448,top:160,left:712}],visible:!0,layer:1},{content:null,rect:[{aspectRatio:"16/9",width:688,height:387,top:166,left:10},{aspectRatio:"16/10",width:688,height:430,top:148,left:10},{aspectRatio:"4/3",width:688,height:516,top:111,left:10},{aspectRatio:"5/3",width:690,height:414,top:154,left:10},{aspectRatio:"5/4",width:690,height:552,top:96,left:10}],visible:!0,layer:"1"}],buttons:[]},{id:"pip-left",videos:[{content:null,rect:[{aspectRatio:"16/9",left:0,top:0,width:1280,height:720},{aspectRatio:"16/10",left:64,top:0,width:1152,height:720},{aspectRatio:"5/3",left:40,top:0,width:1200,height:720},{aspectRatio:"5/4",left:190,top:0,width:900,height:720},{aspectRatio:"4/3",left:160,top:0,width:960,height:720}],visible:!0,layer:1},{content:null,rect:[{aspectRatio:"16/9",left:50,top:470,width:350,height:197},{aspectRatio:"16/10",left:50,top:448,width:350,height:219},{aspectRatio:"5/3",left:50,top:457,width:350,height:210},{aspectRatio:"5/4",left:50,top:387,width:350,height:280},{aspectRatio:"4/3",left:50,top:404,width:350,height:262}],visible:!0,layer:2}],buttons:[]},{id:"pip-right",videos:[{content:null,rect:[{aspectRatio:"16/9",left:0,top:0,width:1280,height:720},{aspectRatio:"16/10",left:64,top:0,width:1152,height:720},{aspectRatio:"5/3",left:40,top:0,width:1200,height:720},{aspectRatio:"5/4",left:190,top:0,width:900,height:720},{aspectRatio:"4/3",left:160,top:0,width:960,height:720}],visible:!0,layer:1},{content:null,rect:[{aspectRatio:"16/9",left:880,top:470,width:350,height:197},{aspectRatio:"16/10",left:880,top:448,width:350,height:219},{aspectRatio:"5/3",left:880,top:457,width:350,height:210},{aspectRatio:"5/4",left:880,top:387,width:350,height:280},{aspectRatio:"4/3",left:880,top:404,width:350,height:262}],visible:!0,layer:2}],buttons:[]}];function S(t,e){return k=e<C.length?e:k,T(t)}function T(t){var e=JSON.parse(JSON.stringify(C[k]));return e.videos[0].content=t[0],e.videos[1].content=t[1],e}var P=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&L(t,e);}(O,t);var e,r,n,a,c,l,h,p,v,w,P=(v=O,w=function(){if("undefined"==typeof Reflect||!Reflect.construct)return !1;if(Reflect.construct.sham)return !1;if("function"==typeof Proxy)return !0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return !1}}(),function(){var t,e=_(v);if(w){var r=_(this).constructor;t=Reflect.construct(e,arguments,r);}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===m(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function O(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,O),P.apply(this,arguments)}return e=O,r=[{key:"identifier",get:function(){return "dual-video"}},{key:"load",value:(p=A(b().mark((function t(){var e;return b().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:""!==(e=(0, i.getCookie)("dualVideoLayoutIndex"))&&(k=Number(e)),this.player.log.debug("Dual video layout loaded");case 3:case"end":return t.stop()}}),t,this)}))),function(){return p.apply(this,arguments)})},{key:"getValidStreams",value:function(t){return x(_(O.prototype),"getValidStreams",this).call(this,t).filter((function(t){return 2===t.length}))}},{key:"switchContent",value:function(){var t=this._currentContent[0],e=this._currentContent[1];this._currentContent[0]=e,this._currentContent[1]=t,this.player.videoContainer.updateLayout();}},{key:"switchMinimized",value:(h=A(b().mark((function t(){return b().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this._currentContent,k=(k+1)%C.length,T(e),t.next=3,this.player.videoContainer.updateLayout();case 3:case"end":return t.stop()}var e;}),t,this)}))),function(){return h.apply(this,arguments)})},{key:"minimizeVideo",value:(l=A(b().mark((function t(e){var r,n,i;return b().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=!0,e===this._currentContent[0]&&(n=this._currentContent[0],i=this._currentContent[1],this._currentContent[0]=i,this._currentContent[1]=n,r=!1),S(this._currentContent,1===k&&r?2:1),t.next=5,this.player.videoContainer.updateLayout();case 5:case"end":return t.stop()}}),t,this)}))),function(t){return l.apply(this,arguments)})},{key:"maximizeVideo",value:(c=A(b().mark((function t(e){var r,n,i;return b().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=!0,e===this._currentContent[1]&&(n=this._currentContent[0],i=this._currentContent[1],this._currentContent[0]=i,this._currentContent[1]=n,r=!1),S(this._currentContent,1===k&&r?2:1),t.next=5,this.player.videoContainer.updateLayout();case 5:case"end":return t.stop()}}),t,this)}))),function(t){return c.apply(this,arguments)})},{key:"setSideBySide",value:(a=A(b().mark((function t(){return b().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return S(this._currentContent,0),t.next=3,this.player.videoContainer.updateLayout();case 3:case"end":return t.stop()}}),t,this)}))),function(){return a.apply(this,arguments)})},{key:"minimizedContent",get:function(){return 0===k?"":this._currentContent[1]}},{key:"closeVideo",value:(n=A(b().mark((function t(e){var r,n;return b().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.player.videoContainer.validContentIds.filter((function(t){return -1===t.indexOf("-")})),n=r.find((function(t){return t!=e})),t.next=4,this.player.videoContainer.setLayout(n);case 4:case"end":return t.stop()}}),t,this)}))),function(t){return n.apply(this,arguments)})},{key:"getVideoCanvasButtons",value:function(t,e,r,n){var i=this;if("side-by-side"===t.id)return [{icon:this.player.getCustomPluginIcon(this.name,"iconRotate")||s(),position:o.iN.LEFT,title:this.player.translate("Swap position of the videos"),ariaLabel:this.player.translate("Swap position of the videos"),click:(E=A(b().mark((function t(){return b().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.switchContent();case 2:case"end":return t.stop()}}),t)}))),function(){return E.apply(this,arguments)})},{icon:this.player.getCustomPluginIcon(this.name,"iconMaximize")||d(),position:o.iN.LEFT,title:this.player.translate("Maximize video"),ariaLabel:this.player.translate("Maximize video"),click:(w=A(b().mark((function t(){return b().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.maximizeVideo(e);case 2:case"end":return t.stop()}}),t)}))),function(){return w.apply(this,arguments)})},{icon:this.player.getCustomPluginIcon(this.name,"iconClose")||y(),position:o.iN.RIGHT,title:this.player.translate("Close video"),ariaLabel:this.player.translate("Close video"),click:(m=A(b().mark((function t(){return b().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.closeVideo(e);case 2:case"end":return t.stop()}}),t)}))),function(){return m.apply(this,arguments)})}];var a,c,l,h,p,v,m,w,E,x=[];return e===this.minimizedContent?(x.push({icon:this.player.getCustomPluginIcon(this.name,"iconMaximize")||d(),position:o.iN.LEFT,title:this.player.translate("Maximize video"),ariaLabel:this.player.translate("Maximize video"),click:(v=A(b().mark((function t(){return b().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.switchContent();case 2:case"end":return t.stop()}}),t)}))),function(){return v.apply(this,arguments)})}),x.push({icon:this.player.getCustomPluginIcon(this.name,"iconSwitchSide")||f(),position:o.iN.LEFT,title:this.player.translate("Place the video on the other side of the screen"),ariaLabel:this.player.translate("Place the video on the other side of the screen"),click:(p=A(b().mark((function t(){return b().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.minimizeVideo(e);case 2:case"end":return t.stop()}}),t)}))),function(){return p.apply(this,arguments)})}),x.push({icon:this.player.getCustomPluginIcon(this.name,"iconClose")||y(),position:o.iN.RIGHT,title:this.player.translate("Close video"),ariaLabel:this.player.translate("Close video"),click:(h=A(b().mark((function t(){return b().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.closeVideo(e);case 2:case"end":return t.stop()}}),t)}))),function(){return h.apply(this,arguments)})})):(x.push({icon:this.player.getCustomPluginIcon(this.name,"iconMinimize")||u(),position:o.iN.LEFT,title:this.player.translate("Minimize video"),ariaLabel:this.player.translate("Minimize video"),click:(l=A(b().mark((function t(){return b().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.switchContent();case 2:case"end":return t.stop()}}),t)}))),function(){return l.apply(this,arguments)})}),x.push({icon:this.player.getCustomPluginIcon(this.name,"iconSideBySide")||g(),position:o.iN.LEFT,title:this.player.translate("Put the videos side by side"),ariaLabel:this.player.translate("Put the videos side by side"),click:(c=A(b().mark((function t(){return b().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.setSideBySide();case 2:case"end":return t.stop()}}),t)}))),function(){return c.apply(this,arguments)})}),x.push({icon:this.player.getCustomPluginIcon(this.name,"iconClose")||y(),position:o.iN.RIGHT,title:this.player.translate("Close video"),ariaLabel:this.player.translate("Close video"),click:(a=A(b().mark((function t(){return b().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.closeVideo(e);case 2:case"end":return t.stop()}}),t)}))),function(){return a.apply(this,arguments)})})),x}},{key:"getLayoutStructure",value:function(t,e){if(!this._currentContent||this._currentContentId!==e){var r=this.validContent.find((function(t){return t.id===e})),n=r.content;this._currentContent=n,this._currentContentId=e;var o=(0, i.getCookie)("dualVideoLayoutContent0"),a=(0, i.getCookie)("dualVideoLayoutContent1");""!==o&&""!==a&&-1!==this._currentContent.indexOf(o)&&-1!==this._currentContent.indexOf(a)&&(this._currentContent[0]=o,this._currentContent[1]=a);}var s=T(this._currentContent),c={id:s.id,player:this.player,name:{es:"Dos streams con posición dinámica"},hidden:!1,videos:s.videos,buttons:[]};return (0, i.setCookie)("dualVideoLayoutIndex",k),(0, i.setCookie)("dualVideoLayoutContent0",this._currentContent[0]),(0, i.setCookie)("dualVideoLayoutContent1",this._currentContent[1]),c}}],r&&E(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),O}(n.ZP);},675:(t,e,r)=>{r.r(e),r.d(e,{default:()=>E});var n=r(3063),i=r(4382),o=r(6208),a=r.n(o),s=r(1550),c=r.n(s),u=r(1835),l=r.n(u),f=r(1042),h=r.n(f),d=r(4986),p=r.n(d);function y(t){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},y(t)}function v(){v=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value;},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"");}catch(t){c=function(t,e,r){return t[e]=r};}function u(t,e,r,i){var o=e&&e.prototype instanceof h?e:h,a=Object.create(o.prototype),s=new C(i||[]);return n(a,"_invoke",{value:x(t,r,s)}),a}function l(t,e,r){try{return {type:"normal",arg:t.call(e,r)}}catch(t){return {type:"throw",arg:t}}}t.wrap=u;var f={};function h(){}function d(){}function p(){}var g={};c(g,o,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(S([])));b&&b!==e&&r.call(b,o)&&(g=b);var w=p.prototype=h.prototype=Object.create(g);function A(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}));}));}function E(t,e){function i(n,o,a,s){var c=l(t[n],t,o);if("throw"!==c.type){var u=c.arg,f=u.value;return f&&"object"==y(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){i("next",t,a,s);}),(function(t){i("throw",t,a,s);})):e.resolve(f).then((function(t){u.value=t,a(u);}),(function(t){return i("throw",t,a,s)}))}s(c.arg);}var o;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){i(t,r,e,n);}))}return o=o?o.then(n,n):n()}});}function x(t,e,r){var n="suspendedStart";return function(i,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===i)throw o;return {value:void 0,done:!0}}for(r.method=i,r.arg=o;;){var a=r.delegate;if(a){var s=L(a,r);if(s){if(s===f)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg);}else "return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=l(t,e,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===f)continue;return {value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg);}}}function L(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,L(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var i=l(n,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,f;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e);}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e;}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0);}function S(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return {next:T}}function T(){return {value:void 0,done:!0}}return d.prototype=p,n(w,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:d,configurable:!0}),d.displayName=c(p,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return !!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,s,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return {__await:t}},A(E.prototype),c(E.prototype,a,(function(){return this})),t.AsyncIterator=E,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new E(u(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},A(w),c(w,s,"Generator"),c(w,o,(function(){return this})),c(w,"toString",(function(){return "[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=S,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0);},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else {if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return "break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;k(r);}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:S(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}function g(t,e,r,n,i,o,a){try{var s=t[o](a),c=s.value;}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,i);}function m(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){g(o,n,i,a,s,"next",t);}function s(t){g(o,n,i,a,s,"throw",t);}a(void 0);}))}}function b(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(i=function(t,e){if("object"!==y(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==y(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===y(i)?i:String(i)),n);}var i;}function w(t,e){return w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},w(t,e)}function A(t){return A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},A(t)}var E=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&w(t,e);}(f,t);var e,r,n,o,s,u=(o=f,s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return !1;if(Reflect.construct.sham)return !1;if("function"==typeof Proxy)return !0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return !1}}(),function(){var t,e=A(o);if(s){var r=A(this).constructor;t=Reflect.construct(e,arguments,r);}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===y(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function f(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,f),u.apply(this,arguments)}return e=f,r=[{key:"layoutType",get:function(){return "dynamic"}},{key:"load",value:(n=m(v().mark((function t(){return v().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.pipContentIds=this.config.pipContentIds||[],this.allowSwitchSide=void 0===this.config.allowSwitchSide||this.config.allowSwitchSide;case 2:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})},{key:"getVideoCanvasButtons",value:function(t,e,r,n){var o,s,u,f,d,y=this,g=this.player.getCustomPluginIcon(this.name,"iconMaximize")||c(),b=this.player.getCustomPluginIcon(this.name,"iconSideBySide")||h(),w=this.player.getCustomPluginIcon(this.name,"iconSwitchSide")||a(),A=this.player.getCustomPluginIcon(this.name,"iconClose")||l(),E=this.player.getCustomPluginIcon(this.name,"iconPiP")||p(),x=function(){return y._currentContent.find((function(t){return t.id===e}))},L=[];return 25===x().size||x().size>50?L.push({icon:b,position:i.iN.LEFT,title:this.player.translate("Dual stream 50%"),ariaLabel:this.player.translate("Dual stream 50%"),click:(s=m(v().mark((function t(){return v().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return y._currentContent.forEach((function(t){t.size=50;})),t.next=3,y.player.videoContainer.updateLayout();case 3:case"end":return t.stop()}}),t)}))),function(){return s.apply(this,arguments)})}):L.push({icon:g,position:i.iN.LEFT,title:this.player.translate("Maximize video"),ariaLabel:this.player.translate("Maximize video"),click:(o=m(v().mark((function t(){return v().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return y._currentContent.forEach((function(t){t.size=t.id===e?75:25;})),t.next=3,y.player.videoContainer.updateLayout();case 3:case"end":return t.stop()}}),t)}))),function(){return o.apply(this,arguments)})}),this.allowSwitchSide&&L.push({icon:w,position:i.iN.LEFT,title:this.player.translate("Switch side"),ariaLabel:this.player.translate("Switch side"),click:(u=m(v().mark((function t(){var e,r,n,i;return v().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=y._currentContent[0].id,r=y._currentContent[1].id,n=y._currentContent[0].size,i=y._currentContent[1].size,y._currentContent[0].id=r,y._currentContent[0].size=i,y._currentContent[1].id=e,y._currentContent[1].size=n,t.next=10,y.player.videoContainer.updateLayout();case 10:case"end":return t.stop()}}),t)}))),function(){return u.apply(this,arguments)})}),L.push({icon:A,position:i.iN.RIGHT,title:this.player.translate("Close video"),ariaLabel:this.player.translate("Close video"),click:(f=m(v().mark((function t(){var r,n;return v().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=y.player.videoContainer.validContentIds.filter((function(t){return -1===t.indexOf("-")})),n=r.find((function(t){return t!=e})),t.next=4,y.player.videoContainer.setLayout(n);case 4:case"end":return t.stop()}}),t)}))),function(){return f.apply(this,arguments)})}),this.pipContentIds.length>0&&L.push({icon:E,position:i.iN.LEFT,title:this.player.translate("Picture-in-picture"),ariaLabel:this.player.translate("Picture-in-picture"),click:(d=m(v().mark((function t(){var r;return v().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=y.player.videoContainer.validContentIds.find((function(t){return -1!==y.pipContentIds.indexOf(t)})),t.next=3,y.player.videoContainer.setLayout(r,e);case 3:case"end":return t.stop()}}),t)}))),function(){return d.apply(this,arguments)})}),L}},{key:"getLayoutStructure",value:function(t,e,r){if(!this._currentContent){var n=this.validContent.find((function(t){return t.id===e})),i=n.content;this._currentContent=i.map((function(t){return {id:t,size:50}}));}return {id:"dual-dynamic",videos:[{content:this._currentContent[0].id,visible:!0,size:this._currentContent[0].size},{content:this._currentContent[1].id,visible:!0,size:this._currentContent[1].size}]}}}],r&&b(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),f}(n.ZP);},6593:(t,e,r)=>{r.r(e),r.d(e,{default:()=>x});var n=r(3063),i=r(6208),o=r.n(i),a=r(1550),s=r.n(a),c=r(1835),u=r.n(c),l=r(1042),f=r.n(l),h=r(4382);function d(t){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},d(t)}function p(){p=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value;},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"");}catch(t){c=function(t,e,r){return t[e]=r};}function u(t,e,r,i){var o=e&&e.prototype instanceof h?e:h,a=Object.create(o.prototype),s=new C(i||[]);return n(a,"_invoke",{value:x(t,r,s)}),a}function l(t,e,r){try{return {type:"normal",arg:t.call(e,r)}}catch(t){return {type:"throw",arg:t}}}t.wrap=u;var f={};function h(){}function y(){}function v(){}var g={};c(g,o,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(S([])));b&&b!==e&&r.call(b,o)&&(g=b);var w=v.prototype=h.prototype=Object.create(g);function A(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}));}));}function E(t,e){function i(n,o,a,s){var c=l(t[n],t,o);if("throw"!==c.type){var u=c.arg,f=u.value;return f&&"object"==d(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){i("next",t,a,s);}),(function(t){i("throw",t,a,s);})):e.resolve(f).then((function(t){u.value=t,a(u);}),(function(t){return i("throw",t,a,s)}))}s(c.arg);}var o;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){i(t,r,e,n);}))}return o=o?o.then(n,n):n()}});}function x(t,e,r){var n="suspendedStart";return function(i,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===i)throw o;return {value:void 0,done:!0}}for(r.method=i,r.arg=o;;){var a=r.delegate;if(a){var s=L(a,r);if(s){if(s===f)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg);}else "return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=l(t,e,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===f)continue;return {value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg);}}}function L(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,L(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var i=l(n,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,f;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e);}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e;}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0);}function S(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return {next:T}}function T(){return {value:void 0,done:!0}}return y.prototype=v,n(w,"constructor",{value:v,configurable:!0}),n(v,"constructor",{value:y,configurable:!0}),y.displayName=c(v,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return !!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,c(t,s,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return {__await:t}},A(E.prototype),c(E.prototype,a,(function(){return this})),t.AsyncIterator=E,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new E(u(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},A(w),c(w,s,"Generator"),c(w,o,(function(){return this})),c(w,"toString",(function(){return "[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=S,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0);},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else {if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return "break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;k(r);}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:S(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}function y(t,e,r,n,i,o,a){try{var s=t[o](a),c=s.value;}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,i);}function v(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){y(o,n,i,a,s,"next",t);}function s(t){y(o,n,i,a,s,"throw",t);}a(void 0);}))}}function g(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(i=function(t,e){if("object"!==d(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==d(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===d(i)?i:String(i)),n);}var i;}function m(){return m="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=w(t)););return t}(t,e);if(n){var i=Object.getOwnPropertyDescriptor(n,e);return i.get?i.get.call(arguments.length<3?t:r):i.value}},m.apply(this,arguments)}function b(t,e){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},b(t,e)}function w(t){return w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},w(t)}var A={id:"pip-left",name:{es:"Dos streams imagen dentro de imagen"},hidden:!1,videos:[{content:null,rect:[{aspectRatio:"16/9",left:0,top:0,width:1280,height:720},{aspectRatio:"16/10",left:64,top:0,width:1152,height:720},{aspectRatio:"5/3",left:40,top:0,width:1200,height:720},{aspectRatio:"5/4",left:190,top:0,width:900,height:720},{aspectRatio:"4/3",left:160,top:0,width:960,height:720}],visible:!0,layer:1},{content:null,rect:[{aspectRatio:"16/9",left:50,top:470,width:350,height:197},{aspectRatio:"16/10",left:50,top:448,width:350,height:219},{aspectRatio:"5/3",left:50,top:457,width:350,height:210},{aspectRatio:"5/4",left:50,top:387,width:350,height:280},{aspectRatio:"4/3",left:50,top:404,width:350,height:262}],visible:!0,layer:2}],buttons:[]},E={id:"pip-right",name:{es:"Dos streams imagen dentro de imagen a la derecha"},hidden:!1,videos:[{content:null,rect:[{aspectRatio:"16/9",left:0,top:0,width:1280,height:720},{aspectRatio:"16/10",left:64,top:0,width:1152,height:720},{aspectRatio:"5/3",left:40,top:0,width:1200,height:720},{aspectRatio:"5/4",left:190,top:0,width:900,height:720},{aspectRatio:"4/3",left:160,top:0,width:960,height:720}],visible:!0,layer:1},{content:null,rect:[{aspectRatio:"16/9",left:880,top:470,width:350,height:197},{aspectRatio:"16/10",left:880,top:448,width:350,height:219},{aspectRatio:"5/3",left:880,top:457,width:350,height:210},{aspectRatio:"5/4",left:880,top:387,width:350,height:280},{aspectRatio:"4/3",left:880,top:404,width:350,height:262}],visible:!0,layer:2}],buttons:[]},x=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&b(t,e);}(l,t);var e,r,n,i,a,c=(i=l,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return !1;if(Reflect.construct.sham)return !1;if("function"==typeof Proxy)return !0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return !1}}(),function(){var t,e=w(i);if(a){var r=w(this).constructor;t=Reflect.construct(e,arguments,r);}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===d(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function l(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,l),c.apply(this,arguments)}return e=l,r=[{key:"identifier",get:function(){return "dual-video-pip"}},{key:"load",value:(n=v(p().mark((function t(){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this._currentLayout=A,this.dualVideoContentIds=this.config.dualVideoContentIds||[];case 2:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})},{key:"getValidStreams",value:function(t){return m(w(l.prototype),"getValidStreams",this).call(this,t).filter((function(t){return 2===t.length}))}},{key:"getVideoCanvasButtons",value:function(t,e,r,n){var i,a,c,l,d=this,y=this.player.getCustomPluginIcon(this.name,"iconClose")||u(),g=this.player.getCustomPluginIcon(this.name,"iconSwitchSide")||o(),m=this.player.getCustomPluginIcon(this.name,"iconMaximize")||s(),b=this.player.getCustomPluginIcon(this.name,"iconSideBySide")||f(),w=[{icon:y,position:h.iN.RIGHT,title:this.player.translate("Close video"),ariaLabel:this.player.translate("Close video"),click:(i=v(p().mark((function t(){var r,n;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=d.player.videoContainer.validContentIds.filter((function(t){return -1===t.indexOf("-")})),n=r.find((function(t){return t!==e})),t.next=4,d.player.videoContainer.setLayout(n);case 4:case"end":return t.stop()}}),t)}))),function(){return i.apply(this,arguments)})}];return e===this._pipVideo?(w.push({icon:g,position:h.iN.LEFT,title:this.player.translate("Switch side"),ariaLabel:this.player.translate("Switch side"),click:(l=v(p().mark((function t(){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return d.switchSide(),t.next=3,d.player.videoContainer.updateLayout(d._fullVideo);case 3:case"end":return t.stop()}}),t)}))),function(){return l.apply(this,arguments)})}),w.push({icon:m,position:h.iN.LEFT,title:this.player.translate("Maximize video"),ariaLabel:this.player.translate("Maximize video"),click:(c=v(p().mark((function t(){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return d.switchSources(),t.next=3,d.player.videoContainer.updateLayout(d._fullVideo);case 3:case"end":return t.stop()}}),t)}))),function(){return c.apply(this,arguments)})})):this.dualVideoContentIds.length>1&&w.push({icon:b,position:h.iN.LEFT,title:this.player.translate("Set side by side"),ariaLabel:this.player.translate("Set side by side"),click:(a=v(p().mark((function t(){var e,r;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=d.player.videoContainer.validContentIds,(r=d.dualVideoContentIds.find((function(t){return -1!==e.indexOf(t)})))&&d.player.videoContainer.setLayout(r);case 3:case"end":return t.stop()}}),t)}))),function(){return a.apply(this,arguments)})}),w}},{key:"switchSide",value:function(){"pip-left"===this._currentLayout.id?this._currentLayout=E:this._currentLayout=A;}},{key:"switchSources",value:function(){var t=this._pipVideo;this._pipVideo=this._fullVideo,this._fullVideo=t;}},{key:"getLayoutStructure",value:function(t,e,r){var n=this.validContent.find((function(t){return t.id===e})),i=n.content;r&&i.find((function(t){return t===r}))?(this._fullVideo=r,this._pipVideo=i.find((function(t){return t!==r}))):this._pipVideo&&this._fullVideo||(this._pipVideo=i[0],this._fullVideo=i[1]);var o=JSON.parse(JSON.stringify(this._currentLayout));return o.player=this.player,o.videos[0].content=this._fullVideo,o.videos[1].content=this._pipVideo,o}}],r&&g(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),l}(n.ZP);},8785:(t,e,r)=>{r.r(e),r.d(e,{default:()=>p});var n=r(4382),i=r(3063),o=r(1042),a=r.n(o);function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function c(){c=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value;},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"");}catch(t){l=function(t,e,r){return t[e]=r};}function f(t,e,r,i){var o=e&&e.prototype instanceof p?e:p,a=Object.create(o.prototype),s=new C(i||[]);return n(a,"_invoke",{value:x(t,r,s)}),a}function h(t,e,r){try{return {type:"normal",arg:t.call(e,r)}}catch(t){return {type:"throw",arg:t}}}t.wrap=f;var d={};function p(){}function y(){}function v(){}var g={};l(g,o,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(S([])));b&&b!==e&&r.call(b,o)&&(g=b);var w=v.prototype=p.prototype=Object.create(g);function A(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}));}));}function E(t,e){function i(n,o,a,c){var u=h(t[n],t,o);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==s(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){i("next",t,a,c);}),(function(t){i("throw",t,a,c);})):e.resolve(f).then((function(t){l.value=t,a(l);}),(function(t){return i("throw",t,a,c)}))}c(u.arg);}var o;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){i(t,r,e,n);}))}return o=o?o.then(n,n):n()}});}function x(t,e,r){var n="suspendedStart";return function(i,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===i)throw o;return {value:void 0,done:!0}}for(r.method=i,r.arg=o;;){var a=r.delegate;if(a){var s=L(a,r);if(s){if(s===d)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg);}else "return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=h(t,e,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===d)continue;return {value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg);}}}function L(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,L(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),d;var i=h(n,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,d;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e);}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e;}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0);}function S(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return {next:T}}function T(){return {value:void 0,done:!0}}return y.prototype=v,n(w,"constructor",{value:v,configurable:!0}),n(v,"constructor",{value:y,configurable:!0}),y.displayName=l(v,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return !!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,l(t,u,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return {__await:t}},A(E.prototype),l(E.prototype,a,(function(){return this})),t.AsyncIterator=E,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new E(f(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},A(w),l(w,u,"Generator"),l(w,o,(function(){return this})),l(w,"toString",(function(){return "[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=S,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0);},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else {if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return "break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;k(r);}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:S(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},t}function u(t,e,r,n,i,o,a){try{var s=t[o](a),c=s.value;}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,i);}function l(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(i=function(t,e){if("object"!==s(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==s(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===s(i)?i:String(i)),n);}var i;}function f(){return f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=d(t)););return t}(t,e);if(n){var i=Object.getOwnPropertyDescriptor(n,e);return i.get?i.get.call(arguments.length<3?t:r):i.value}},f.apply(this,arguments)}function h(t,e){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},h(t,e)}function d(t){return d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},d(t)}var p=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&h(t,e);}(g,t);var e,r,i,o,p,y,v=(p=g,y=function(){if("undefined"==typeof Reflect||!Reflect.construct)return !1;if(Reflect.construct.sham)return !1;if("function"==typeof Proxy)return !0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return !1}}(),function(){var t,e=d(p);if(y){var r=d(this).constructor;t=Reflect.construct(e,arguments,r);}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===s(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function g(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,g),v.apply(this,arguments)}return e=g,r=[{key:"identifier",get:function(){return "single-video"}},{key:"load",value:(i=c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.player.log.debug("Single video layout loaded"),this.dualVideoContentIds=this.config.dualVideoContentIds||["presenter-presentation-dynamic","presenter-2-presentation-dynamic","presenter-presenter-2-dynamic","presenter-presentation","presenter-2-presentation","presenter-presenter-2"];case 2:case"end":return t.stop()}}),t,this)})),o=function(){var t=this,e=arguments;return new Promise((function(r,n){var o=i.apply(t,e);function a(t){u(o,r,n,a,s,"next",t);}function s(t){u(o,r,n,a,s,"throw",t);}a(void 0);}))},function(){return o.apply(this,arguments)})},{key:"getValidStreams",value:function(t){return f(d(g.prototype),"getValidStreams",this).call(this,t).filter((function(t){return 1===t.length}))}},{key:"getVideoCanvasButtons",value:function(t,e,r,i){var o=this;return this._multiStream?[{icon:this.player.getCustomPluginIcon(this.name,"iconSideBySide")||a(),position:n.iN.LEFT,title:this.player.translate("Two videos 50%"),ariaLabel:this.player.translate("Two videos 50%"),click:function(){var t=o.player.videoContainer.validContentIds,e=o.dualVideoContentIds.find((function(e){return -1!==t.indexOf(e)}));e&&o.player.videoContainer.setLayout(e);}}]:[]}},{key:"getLayoutStructure",value:function(t,e){var r=this.validContent.find((function(t){return t.id===e})),n={player:this.player,name:{es:"One stream"},hidden:!1,videos:[{content:r.content[0],rect:[{aspectRatio:"1/1",left:280,top:0,width:720,height:720},{aspectRatio:"6/5",left:208,top:0,width:864,height:720},{aspectRatio:"5/4",left:190,top:0,width:900,height:720},{aspectRatio:"4/3",left:160,top:0,width:960,height:720},{aspectRatio:"11/8",left:145,top:0,width:990,height:720},{aspectRatio:"1.41/1",left:132,top:0,width:1015,height:720},{aspectRatio:"1.43/1",left:125,top:0,width:1029,height:720},{aspectRatio:"3/2",left:100,top:0,width:1080,height:720},{aspectRatio:"16/10",left:64,top:0,width:1152,height:720},{aspectRatio:"5/3",left:40,top:0,width:1200,height:720},{aspectRatio:"16/9",left:0,top:0,width:1280,height:720},{aspectRatio:"1.85/1",left:0,top:14,width:1280,height:692},{aspectRatio:"2.35/1",left:0,top:87,width:1280,height:544},{aspectRatio:"2.41/1",left:0,top:94,width:1280,height:531},{aspectRatio:"2.76/1",left:0,top:128,width:1280,height:463}],visible:!0,layer:1}],background:{content:"slide_professor_paella.jpg",zIndex:5,rect:{left:0,top:0,width:1280,height:720},visible:!0,layer:0},logos:[{content:"paella_logo.png",zIndex:5,rect:{top:10,left:10,width:49,height:42}}],buttons:[],onApply:function(){}};return t.length>1&&(this._multiStream=!0),n}}],r&&l(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),g}(i.ZP);},2128:(t,e,r)=>{r.r(e),r.d(e,{default:()=>p});var n=r(3063),i=r(6300),o=r.n(i);function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function s(){s=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value;},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"");}catch(t){l=function(t,e,r){return t[e]=r};}function f(t,e,r,i){var o=e&&e.prototype instanceof p?e:p,a=Object.create(o.prototype),s=new C(i||[]);return n(a,"_invoke",{value:x(t,r,s)}),a}function h(t,e,r){try{return {type:"normal",arg:t.call(e,r)}}catch(t){return {type:"throw",arg:t}}}t.wrap=f;var d={};function p(){}function y(){}function v(){}var g={};l(g,o,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(S([])));b&&b!==e&&r.call(b,o)&&(g=b);var w=v.prototype=p.prototype=Object.create(g);function A(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}));}));}function E(t,e){function i(n,o,s,c){var u=h(t[n],t,o);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==a(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){i("next",t,s,c);}),(function(t){i("throw",t,s,c);})):e.resolve(f).then((function(t){l.value=t,s(l);}),(function(t){return i("throw",t,s,c)}))}c(u.arg);}var o;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){i(t,r,e,n);}))}return o=o?o.then(n,n):n()}});}function x(t,e,r){var n="suspendedStart";return function(i,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===i)throw o;return {value:void 0,done:!0}}for(r.method=i,r.arg=o;;){var a=r.delegate;if(a){var s=L(a,r);if(s){if(s===d)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg);}else "return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=h(t,e,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===d)continue;return {value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg);}}}function L(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,L(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),d;var i=h(n,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,d;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e);}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e;}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0);}function S(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return {next:T}}function T(){return {value:void 0,done:!0}}return y.prototype=v,n(w,"constructor",{value:v,configurable:!0}),n(v,"constructor",{value:y,configurable:!0}),y.displayName=l(v,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return !!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,l(t,u,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return {__await:t}},A(E.prototype),l(E.prototype,c,(function(){return this})),t.AsyncIterator=E,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new E(f(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},A(w),l(w,u,"Generator"),l(w,o,(function(){return this})),l(w,"toString",(function(){return "[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=S,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0);},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else {if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return "break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;k(r);}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:S(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},t}function c(t,e,r,n,i,o,a){try{var s=t[o](a),c=s.value;}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,i);}function u(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(i=function(t,e){if("object"!==a(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===a(i)?i:String(i)),n);}var i;}function l(){return l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=h(t)););return t}(t,e);if(n){var i=Object.getOwnPropertyDescriptor(n,e);return i.get?i.get.call(arguments.length<3?t:r):i.value}},l.apply(this,arguments)}function f(t,e){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},f(t,e)}function h(t){return h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},h(t)}var d={videos:[{content:{},rect:[{aspectRatio:"16/9",left:239,top:17,width:803,height:451}],visible:!0,layer:1},{content:{},rect:[{aspectRatio:"16/9",left:44,top:482,width:389,height:218}],visible:!0,layer:1},{content:{},rect:[{aspectRatio:"16/9",left:847,top:482,width:389,height:218}],visible:!0,layer:1}],buttons:[{rect:{left:618,top:495,width:45,height:45},onClick:function(t){this.rotate();},label:"Rotate",icon:"icon_rotate.svg",layer:2}]},p=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&f(t,e);}(g,t);var e,r,n,i,p,y,v=(p=g,y=function(){if("undefined"==typeof Reflect||!Reflect.construct)return !1;if(Reflect.construct.sham)return !1;if("function"==typeof Proxy)return !0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return !1}}(),function(){var t,e=h(p);if(y){var r=h(this).constructor;t=Reflect.construct(e,arguments,r);}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===a(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function g(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,g),v.apply(this,arguments)}return e=g,r=[{key:"identifier",get:function(){return "triple-video"}},{key:"load",value:(n=s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.player.log.debug("Triple video layout loaded");case 1:case"end":return t.stop()}}),t,this)})),i=function(){var t=this,e=arguments;return new Promise((function(r,i){var o=n.apply(t,e);function a(t){c(o,r,i,a,s,"next",t);}function s(t){c(o,r,i,a,s,"throw",t);}a(void 0);}))},function(){return i.apply(this,arguments)})},{key:"getValidStreams",value:function(t){return l(h(g.prototype),"getValidStreams",this).call(this,t).filter((function(t){return 3===t.length}))}},{key:"switchContent",value:function(){var t=this._currentContent[0],e=this._currentContent[1],r=this._currentContent[2];this._currentContent[0]=r,this._currentContent[1]=t,this._currentContent[2]=e,this.player.videoContainer.updateLayout();}},{key:"getLayoutStructure",value:function(t,e){var r=this;if(!this._currentContent||this._currentContentId!==e){this._currentContentId=e;var n=this.validContent.find((function(t){return t.id===e})),i=n.content;this._currentContent=i;}var a=function(t){var e=JSON.parse(JSON.stringify(d));return e.videos[0].content=t[0],e.videos[1].content=t[1],e.videos[2].content=t[2],e}(this._currentContent);return {player:this.player,name:{es:"Three streams with dynamic position"},hidden:!1,videos:a.videos,buttons:[{rect:a.buttons[0].rect,onClick:function(){r.switchContent();},label:"Switch",icon:o(),layer:2,ariaLabel:"Swap the position of the videos",title:"Swap the position of the videos"}]}}}],r&&u(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),g}(n.ZP);},1481:(t,e,r)=>{r.r(e),r.d(e,{default:()=>u});var n=r(7133),i=r(4147);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function a(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(i=function(t,e){if("object"!==o(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===o(i)?i:String(i)),n);}var i;}function s(t,e){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},s(t,e)}function c(t){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},c(t)}var u=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s(t,e);}(f,t);var e,r,n,u,l=(n=f,u=function(){if("undefined"==typeof Reflect||!Reflect.construct)return !1;if(Reflect.construct.sham)return !1;if("function"==typeof Proxy)return !0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return !1}}(),function(){var t,e=c(n);if(u){var r=c(this).constructor;t=Reflect.construct(e,arguments,r);}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===o(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function f(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,f),l.apply(this,arguments)}return e=f,(r=[{key:"moduleName",get:function(){return "paella-core default plugins"}},{key:"moduleVersion",get:function(){return i.version}}])&&a(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),f}(n.Z);},7927:(t,e,r)=>{r.r(e),r.d(e,{default:()=>d});var n=r(7118),i=r(9998),o=r.n(i);function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function s(){s=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value;},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"");}catch(t){l=function(t,e,r){return t[e]=r};}function f(t,e,r,i){var o=e&&e.prototype instanceof p?e:p,a=Object.create(o.prototype),s=new C(i||[]);return n(a,"_invoke",{value:x(t,r,s)}),a}function h(t,e,r){try{return {type:"normal",arg:t.call(e,r)}}catch(t){return {type:"throw",arg:t}}}t.wrap=f;var d={};function p(){}function y(){}function v(){}var g={};l(g,o,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(S([])));b&&b!==e&&r.call(b,o)&&(g=b);var w=v.prototype=p.prototype=Object.create(g);function A(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}));}));}function E(t,e){function i(n,o,s,c){var u=h(t[n],t,o);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==a(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){i("next",t,s,c);}),(function(t){i("throw",t,s,c);})):e.resolve(f).then((function(t){l.value=t,s(l);}),(function(t){return i("throw",t,s,c)}))}c(u.arg);}var o;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){i(t,r,e,n);}))}return o=o?o.then(n,n):n()}});}function x(t,e,r){var n="suspendedStart";return function(i,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===i)throw o;return {value:void 0,done:!0}}for(r.method=i,r.arg=o;;){var a=r.delegate;if(a){var s=L(a,r);if(s){if(s===d)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg);}else "return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=h(t,e,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===d)continue;return {value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg);}}}function L(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,L(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),d;var i=h(n,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,d;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e);}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e;}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0);}function S(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return {next:T}}function T(){return {value:void 0,done:!0}}return y.prototype=v,n(w,"constructor",{value:v,configurable:!0}),n(v,"constructor",{value:y,configurable:!0}),y.displayName=l(v,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return !!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,l(t,u,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return {__await:t}},A(E.prototype),l(E.prototype,c,(function(){return this})),t.AsyncIterator=E,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new E(f(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},A(w),l(w,u,"Generator"),l(w,o,(function(){return this})),l(w,"toString",(function(){return "[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=S,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0);},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else {if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return "break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;k(r);}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:S(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},t}function c(t,e,r,n,i,o,a){try{var s=t[o](a),c=s.value;}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,i);}function u(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){c(o,n,i,a,s,"next",t);}function s(t){c(o,n,i,a,s,"throw",t);}a(void 0);}))}}function l(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(i=function(t,e){if("object"!==a(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===a(i)?i:String(i)),n);}var i;}function f(t,e){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},f(t,e)}function h(t){return h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},h(t)}var d=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&f(t,e);}(y,t);var e,r,n,i,c,d,p=(c=y,d=function(){if("undefined"==typeof Reflect||!Reflect.construct)return !1;if(Reflect.construct.sham)return !1;if("function"==typeof Proxy)return !0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return !1}}(),function(){var t,e=h(c);if(d){var r=h(this).constructor;t=Reflect.construct(e,arguments,r);}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===a(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function y(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,y),p.apply(this,arguments)}return e=y,r=[{key:"load",value:(i=u(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.icon=o();case 1:case"end":return t.stop()}}),t,this)}))),function(){return i.apply(this,arguments)})},{key:"action",value:(n=u(s().mark((function t(e,r,n,i){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:console.log("Content: ".concat(e)),console.log(r),console.log(n),console.log(i);case 4:case"end":return t.stop()}}),t)}))),function(t,e,r,i){return n.apply(this,arguments)})}],r&&l(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),y}(n.ZP);},6384:(t,e,r)=>{r.r(e),r.d(e,{default:()=>f});var n=r(9267);function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function o(){o=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value;},a="function"==typeof Symbol?Symbol:{},s=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"");}catch(t){l=function(t,e,r){return t[e]=r};}function f(t,e,r,i){var o=e&&e.prototype instanceof p?e:p,a=Object.create(o.prototype),s=new C(i||[]);return n(a,"_invoke",{value:x(t,r,s)}),a}function h(t,e,r){try{return {type:"normal",arg:t.call(e,r)}}catch(t){return {type:"throw",arg:t}}}t.wrap=f;var d={};function p(){}function y(){}function v(){}var g={};l(g,s,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(S([])));b&&b!==e&&r.call(b,s)&&(g=b);var w=v.prototype=p.prototype=Object.create(g);function A(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}));}));}function E(t,e){function o(n,a,s,c){var u=h(t[n],t,a);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==i(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,s,c);}),(function(t){o("throw",t,s,c);})):e.resolve(f).then((function(t){l.value=t,s(l);}),(function(t){return o("throw",t,s,c)}))}c(u.arg);}var a;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n);}))}return a=a?a.then(n,n):n()}});}function x(t,e,r){var n="suspendedStart";return function(i,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===i)throw o;return {value:void 0,done:!0}}for(r.method=i,r.arg=o;;){var a=r.delegate;if(a){var s=L(a,r);if(s){if(s===d)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg);}else "return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=h(t,e,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===d)continue;return {value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg);}}}function L(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,L(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),d;var i=h(n,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,d;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e);}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e;}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0);}function S(t){if(t){var e=t[s];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return {next:T}}function T(){return {value:void 0,done:!0}}return y.prototype=v,n(w,"constructor",{value:v,configurable:!0}),n(v,"constructor",{value:y,configurable:!0}),y.displayName=l(v,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return !!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,l(t,u,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return {__await:t}},A(E.prototype),l(E.prototype,c,(function(){return this})),t.AsyncIterator=E,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new E(f(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},A(w),l(w,u,"Generator"),l(w,s,(function(){return this})),l(w,"toString",(function(){return "[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=S,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0);},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else {if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return "break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;k(r);}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:S(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},t}function a(t,e,r,n,i,o,a){try{var s=t[o](a),c=s.value;}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,i);}function s(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function s(t){a(o,n,i,s,c,"next",t);}function c(t){a(o,n,i,s,c,"throw",t);}s(void 0);}))}}function c(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(o=function(t,e){if("object"!==i(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===i(o)?o:String(o)),n);}var o;}function u(t,e){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},u(t,e)}function l(t){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},l(t)}var f=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&u(t,e);}(p,t);var e,r,a,f,h,d=(f=p,h=function(){if("undefined"==typeof Reflect||!Reflect.construct)return !1;if(Reflect.construct.sham)return !1;if("function"==typeof Proxy)return !0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return !1}}(),function(){var t,e=l(f);if(h){var r=l(this).constructor;t=Reflect.construct(e,arguments,r);}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===i(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function p(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,p),d.apply(this,arguments)}return e=p,r=[{key:"getKeys",value:(a=s(o().mark((function t(){var e=this;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",[{keyCode:n.mW.KeyM,description:"Collision key shortcut",keyModifiers:{ctrlKey:!1},action:function(){var t=s(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.player.log.debug("Test collision shortcut");case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()}]);case 1:case"end":return t.stop()}}),t)}))),function(){return a.apply(this,arguments)})}],r&&c(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),p}(n.ZP);},5026:(t,e,r)=>{r.r(e),r.d(e,{default:()=>A});var n=r(9267),i=r(6911),o=r(8985),a=r(6928),s=r.n(a),c=r(9978),u=r.n(c),l=r(2704),f=r.n(l),h=r(9506),d=r.n(h);function p(t){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},p(t)}function y(){y=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value;},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"");}catch(t){c=function(t,e,r){return t[e]=r};}function u(t,e,r,i){var o=e&&e.prototype instanceof h?e:h,a=Object.create(o.prototype),s=new C(i||[]);return n(a,"_invoke",{value:x(t,r,s)}),a}function l(t,e,r){try{return {type:"normal",arg:t.call(e,r)}}catch(t){return {type:"throw",arg:t}}}t.wrap=u;var f={};function h(){}function d(){}function v(){}var g={};c(g,o,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(S([])));b&&b!==e&&r.call(b,o)&&(g=b);var w=v.prototype=h.prototype=Object.create(g);function A(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}));}));}function E(t,e){function i(n,o,a,s){var c=l(t[n],t,o);if("throw"!==c.type){var u=c.arg,f=u.value;return f&&"object"==p(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){i("next",t,a,s);}),(function(t){i("throw",t,a,s);})):e.resolve(f).then((function(t){u.value=t,a(u);}),(function(t){return i("throw",t,a,s)}))}s(c.arg);}var o;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){i(t,r,e,n);}))}return o=o?o.then(n,n):n()}});}function x(t,e,r){var n="suspendedStart";return function(i,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===i)throw o;return {value:void 0,done:!0}}for(r.method=i,r.arg=o;;){var a=r.delegate;if(a){var s=L(a,r);if(s){if(s===f)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg);}else "return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=l(t,e,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===f)continue;return {value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg);}}}function L(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,L(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var i=l(n,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,f;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e);}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e;}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0);}function S(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return {next:T}}function T(){return {value:void 0,done:!0}}return d.prototype=v,n(w,"constructor",{value:v,configurable:!0}),n(v,"constructor",{value:d,configurable:!0}),d.displayName=c(v,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return !!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,c(t,s,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return {__await:t}},A(E.prototype),c(E.prototype,a,(function(){return this})),t.AsyncIterator=E,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new E(u(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},A(w),c(w,s,"Generator"),c(w,o,(function(){return this})),c(w,"toString",(function(){return "[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=S,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0);},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else {if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return "break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;k(r);}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:S(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}function v(t,e,r,n,i,o,a){try{var s=t[o](a),c=s.value;}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,i);}function g(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){v(o,n,i,a,s,"next",t);}function s(t){v(o,n,i,a,s,"throw",t);}a(void 0);}))}}function m(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(i=function(t,e){if("object"!==p(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==p(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===p(i)?i:String(i)),n);}var i;}function b(t,e){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},b(t,e)}function w(t){return w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},w(t)}var A=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&b(t,e);}(S,t);var e,r,a,c,l,h,v,A,E,x,L,_,k,C=(_=S,k=function(){if("undefined"==typeof Reflect||!Reflect.construct)return !1;if(Reflect.construct.sham)return !1;if("function"==typeof Proxy)return !0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return !1}}(),function(){var t,e=w(_);if(k){var r=w(this).constructor;t=Reflect.construct(e,arguments,r);}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===p(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function S(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,S),C.apply(this,arguments)}return e=S,r=[{key:"getVolumeIcon",value:function(t){return 0===t?this.player.getCustomPluginIcon(this.name,"volumeMuteIcon")||s():t<.3?this.player.getCustomPluginIcon(this.name,"volumeLowIcon")||u():t<.6?this.player.getCustomPluginIcon(this.name,"volumeMidIcon")||f():this.player.getCustomPluginIcon(this.name,"volumeHighIcon")||d()}},{key:"toggleCaptions",value:function(){var t,e,r,n=this;if((null===(t=this.player)||void 0===t||null===(e=t.captionsCanvas)||void 0===e||null===(r=e.captions)||void 0===r?void 0:r.length)>0)if(this.player.captionsCanvas.isVisible)this.player.captionsCanvas.disableCaptions();else {var i=null;navigator.languages.some((function(t){return n.player.captionsCanvas.captions.some((function(e,r){return t==e.language&&(i=r,!0)}))})),this.player.captionsCanvas.enableCaptions({index:i||0});}}},{key:"togglePlayPause",value:(L=g(y().mark((function t(){return y().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.player.paused();case 2:if(!t.sent){t.next=8;break}return t.next=6,this.player.play();case 6:t.next=10;break;case 8:return t.next=10,this.player.pause();case 10:case"end":return t.stop()}}),t,this)}))),function(){return L.apply(this,arguments)})},{key:"toggleFullscreen",value:(x=g(y().mark((function t(){return y().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.player.isFullscreen){t.next=5;break}return t.next=3,this.player.exitFullscreen();case 3:t.next=7;break;case 5:return t.next=7,this.player.enterFullscreen();case 7:case"end":return t.stop()}}),t,this)}))),function(){return x.apply(this,arguments)})},{key:"seek",value:(E=g(y().mark((function t(e){var r;return y().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.player.videoContainer.streamProvider.currentTime();case 2:return r=t.sent,t.next=5,this.player.videoContainer.streamProvider.setCurrentTime(r+e);case 5:e<0?this.player.videoContainer.message.show({text:"<< ".concat(Math.abs(e),"s"),position:o.S.CENTER_LEFT,timeout:500}):this.player.videoContainer.message.show({text:"".concat(e,"s >>"),position:o.S.CENTER_RIGHT,timeout:500});case 6:case"end":return t.stop()}}),t,this)}))),function(t){return E.apply(this,arguments)})},{key:"incrementVolume",value:(A=g(y().mark((function t(e){var r,n,i;return y().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.player.videoContainer.streamProvider.volume();case 2:return r=t.sent,n=Math.min(Math.max(0,r+.01*e),1),t.next=6,this.player.videoContainer.setVolume(n);case 6:i=this.getVolumeIcon(n),this.player.videoContainer.message.show({text:"".concat(Math.round(100*n),"%"),position:o.S.CENTER_MIDDLE,icon:i});case 8:case"end":return t.stop()}}),t,this)}))),function(t){return A.apply(this,arguments)})},{key:"closePopUp",value:function(){i.Z.HideTopPopUp();}},{key:"decreaseSpeed",value:(v=g(y().mark((function t(){var e,r;return y().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.player.videoContainer.playbackRate();case 2:return e=t.sent,r=0,this._validPlaybackRates.some((function(t){if(0===r&&(r=t),!(t<e))return !0;r=t;})),t.next=7,this.player.videoContainer.setPlaybackRate(r);case 7:this.player.videoContainer.message.show({text:"".concat(r,"X"),position:o.S.CENTER_MIDDLE});case 8:case"end":return t.stop()}}),t,this)}))),function(){return v.apply(this,arguments)})},{key:"increaseSpeed",value:(h=g(y().mark((function t(){var e,r;return y().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.player.videoContainer.playbackRate();case 2:return e=t.sent,r=0,this._validPlaybackRates.some((function(t){if(t>e)return r=t,!0})),0===r&&(r=this._validPlaybackRates[this._validPlaybackRates.length-1]),t.next=8,this.player.videoContainer.setPlaybackRate(r);case 8:this.player.videoContainer.message.show({text:"".concat(r,"X"),position:o.S.CENTER_MIDDLE});case 9:case"end":return t.stop()}}),t,this)}))),function(){return h.apply(this,arguments)})},{key:"toggleVolume",value:(l=g(y().mark((function t(){var e,r,n;return y().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.player.videoContainer.volume();case 2:return e=t.sent,r=0,e>0?(this._lastVolume=e,r=0):r=this._lastVolume||1,t.next=7,this.player.videoContainer.setVolume(r);case 7:n=this.getVolumeIcon(r),this.player.videoContainer.message.show({text:"volume: ".concat(Math.round(100*r),"%"),position:o.S.CENTER_MIDDLE,icon:n});case 9:case"end":return t.stop()}}),t,this)}))),function(){return l.apply(this,arguments)})},{key:"load",value:(c=g(y().mark((function t(){return y().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this._validPlaybackRates=this.config.validPlaybackRates||[.75,1,1.5,2],this._validPlaybackRates.sort((function(t,e){return t-e}));case 2:case"end":return t.stop()}}),t,this)}))),function(){return c.apply(this,arguments)})},{key:"getKeys",value:(a=g(y().mark((function t(){var e,r,i,o=this;return y().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.player,r=this.config.skipBackwards||30,i=this.config.skipForward||30,t.t0={keyCode:n.mW.KeyM,description:"Toggle audio mute",keyModifiers:{ctrlKey:!1},action:function(){var t=g(y().mark((function t(){return y().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.toggleVolume();case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},t.t1={keyCode:n.mW.KeyK,description:"Toggle play/pause",action:function(){var t=g(y().mark((function t(){return y().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.togglePlayPause();case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},t.t2=n.mW.KeyJ,t.t3=function(){var t=g(y().mark((function t(){return y().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.seek(-r);case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),t.t4={keyCode:t.t2,get description(){return e.translate("Rewind $1 seconds",[r])},action:t.t3},t.t5=n.mW.KeyL,t.t6=function(){var t=g(y().mark((function t(){return y().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.seek(i);case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),t.t7={keyCode:t.t5,get description(){return e.translate("Forward $1 seconds",[i])},action:t.t6},t.t8={keyCode:n.mW.Space,description:"Toggle play/pause",action:function(){var t=g(y().mark((function t(){return y().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.togglePlayPause();case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},t.t9={keyCode:n.mW.KeyF,description:"Toggle fullscreen",action:function(){var t=g(y().mark((function t(){return y().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.toggleFullscreen();case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},t.t10={keyCode:n.mW.KeyC,description:"Toggle captions",action:function(){var t=g(y().mark((function t(){return y().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:o.toggleCaptions();case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},t.t11=n.mW.ArrowLeft,t.t12=function(){var t=g(y().mark((function t(){return y().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.seek(-r);case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),t.t13={keyCode:t.t11,get description(){return e.translate("Rewind $1 seconds",[r])},action:t.t12},t.t14=n.mW.ArrowRight,t.t15=function(){var t=g(y().mark((function t(){return y().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.seek(i);case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),t.t16={keyCode:t.t14,get description(){return e.translate("Forward $1 seconds",[i])},action:t.t15},t.t17={keyCode:n.mW.ArrowUp,description:"Volume up 10%",action:function(){var t=g(y().mark((function t(){return y().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:o.incrementVolume(10);case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},t.t18={keyCode:n.mW.ArrowDown,description:"Volume down 10%",action:function(){var t=g(y().mark((function t(){return y().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:o.incrementVolume(-10);case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},t.t19={keyCode:n.mW.Escape,description:"Close pop-up",action:function(){var t=g(y().mark((function t(){return y().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:o.closePopUp();case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},t.t20={keyCode:n.mW.KeyU,description:"Decrease playback speed",action:function(){var t=g(y().mark((function t(){return y().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.decreaseSpeed();case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},t.t21={keyCode:n.mW.KeyO,description:"Increase playback speed",action:function(){var t=g(y().mark((function t(){return y().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:o.increaseSpeed();case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},t.abrupt("return",[t.t0,t.t1,t.t4,t.t7,t.t8,t.t9,t.t10,t.t13,t.t16,t.t17,t.t18,t.t19,t.t20,t.t21]);case 26:case"end":return t.stop()}}),t,this)}))),function(){return a.apply(this,arguments)})}],r&&m(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),S}(n.ZP);},9911:(t,e,r)=>{r.r(e),r.d(e,{default:()=>d});var n=r(1768),i=r(9998),o=r.n(i);function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function s(){s=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value;},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"");}catch(t){l=function(t,e,r){return t[e]=r};}function f(t,e,r,i){var o=e&&e.prototype instanceof p?e:p,a=Object.create(o.prototype),s=new C(i||[]);return n(a,"_invoke",{value:x(t,r,s)}),a}function h(t,e,r){try{return {type:"normal",arg:t.call(e,r)}}catch(t){return {type:"throw",arg:t}}}t.wrap=f;var d={};function p(){}function y(){}function v(){}var g={};l(g,o,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(S([])));b&&b!==e&&r.call(b,o)&&(g=b);var w=v.prototype=p.prototype=Object.create(g);function A(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}));}));}function E(t,e){function i(n,o,s,c){var u=h(t[n],t,o);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==a(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){i("next",t,s,c);}),(function(t){i("throw",t,s,c);})):e.resolve(f).then((function(t){l.value=t,s(l);}),(function(t){return i("throw",t,s,c)}))}c(u.arg);}var o;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){i(t,r,e,n);}))}return o=o?o.then(n,n):n()}});}function x(t,e,r){var n="suspendedStart";return function(i,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===i)throw o;return {value:void 0,done:!0}}for(r.method=i,r.arg=o;;){var a=r.delegate;if(a){var s=L(a,r);if(s){if(s===d)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg);}else "return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=h(t,e,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===d)continue;return {value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg);}}}function L(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,L(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),d;var i=h(n,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,d;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e);}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e;}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0);}function S(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return {next:T}}function T(){return {value:void 0,done:!0}}return y.prototype=v,n(w,"constructor",{value:v,configurable:!0}),n(v,"constructor",{value:y,configurable:!0}),y.displayName=l(v,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return !!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,l(t,u,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return {__await:t}},A(E.prototype),l(E.prototype,c,(function(){return this})),t.AsyncIterator=E,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new E(f(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},A(w),l(w,u,"Generator"),l(w,o,(function(){return this})),l(w,"toString",(function(){return "[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=S,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0);},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else {if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return "break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;k(r);}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:S(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},t}function c(t,e,r,n,i,o,a){try{var s=t[o](a),c=s.value;}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,i);}function u(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){c(o,n,i,a,s,"next",t);}function s(t){c(o,n,i,a,s,"throw",t);}a(void 0);}))}}function l(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(i=function(t,e){if("object"!==a(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===a(i)?i:String(i)),n);}var i;}function f(t,e){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},f(t,e)}function h(t){return h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},h(t)}var d=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&f(t,e);}(y,t);var e,r,n,i,c,d,p=(c=y,d=function(){if("undefined"==typeof Reflect||!Reflect.construct)return !1;if(Reflect.construct.sham)return !1;if("function"==typeof Proxy)return !0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return !1}}(),function(){var t,e=h(c);if(d){var r=h(this).constructor;t=Reflect.construct(e,arguments,r);}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===a(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function y(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,y),p.apply(this,arguments)}return e=y,r=[{key:"load",value:(i=u(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.icon=o(),this.title="Dynamic width button";case 2:case"end":return t.stop()}}),t,this)}))),function(){return i.apply(this,arguments)})},{key:"dynamicWidth",get:function(){return !0}},{key:"action",value:(n=u(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.player.isFullscreen){t.next=5;break}return t.next=3,this.player.enterFullscreen();case 3:t.next=7;break;case 5:return t.next=7,this.player.exitFullscreen();case 7:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})}],r&&l(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),y}(n.ZP);},4961:(t,e,r)=>{r.r(e),r.d(e,{default:()=>h});var n=r(1768),i=r(9998),o=r.n(i);function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function s(){s=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value;},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"");}catch(t){l=function(t,e,r){return t[e]=r};}function f(t,e,r,i){var o=e&&e.prototype instanceof p?e:p,a=Object.create(o.prototype),s=new C(i||[]);return n(a,"_invoke",{value:x(t,r,s)}),a}function h(t,e,r){try{return {type:"normal",arg:t.call(e,r)}}catch(t){return {type:"throw",arg:t}}}t.wrap=f;var d={};function p(){}function y(){}function v(){}var g={};l(g,o,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(S([])));b&&b!==e&&r.call(b,o)&&(g=b);var w=v.prototype=p.prototype=Object.create(g);function A(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}));}));}function E(t,e){function i(n,o,s,c){var u=h(t[n],t,o);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==a(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){i("next",t,s,c);}),(function(t){i("throw",t,s,c);})):e.resolve(f).then((function(t){l.value=t,s(l);}),(function(t){return i("throw",t,s,c)}))}c(u.arg);}var o;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){i(t,r,e,n);}))}return o=o?o.then(n,n):n()}});}function x(t,e,r){var n="suspendedStart";return function(i,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===i)throw o;return {value:void 0,done:!0}}for(r.method=i,r.arg=o;;){var a=r.delegate;if(a){var s=L(a,r);if(s){if(s===d)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg);}else "return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=h(t,e,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===d)continue;return {value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg);}}}function L(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,L(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),d;var i=h(n,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,d;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e);}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e;}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0);}function S(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return {next:T}}function T(){return {value:void 0,done:!0}}return y.prototype=v,n(w,"constructor",{value:v,configurable:!0}),n(v,"constructor",{value:y,configurable:!0}),y.displayName=l(v,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return !!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,l(t,u,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return {__await:t}},A(E.prototype),l(E.prototype,c,(function(){return this})),t.AsyncIterator=E,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new E(f(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},A(w),l(w,u,"Generator"),l(w,o,(function(){return this})),l(w,"toString",(function(){return "[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=S,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0);},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else {if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return "break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;k(r);}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:S(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},t}function c(t,e,r,n,i,o,a){try{var s=t[o](a),c=s.value;}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,i);}function u(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(i=function(t,e){if("object"!==a(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===a(i)?i:String(i)),n);}var i;}function l(t,e){return l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},l(t,e)}function f(t){return f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},f(t)}var h=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&l(t,e);}(y,t);var e,r,n,i,h,d,p=(h=y,d=function(){if("undefined"==typeof Reflect||!Reflect.construct)return !1;if(Reflect.construct.sham)return !1;if("function"==typeof Proxy)return !0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return !1}}(),function(){var t,e=f(h);if(d){var r=f(this).constructor;t=Reflect.construct(e,arguments,r);}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===a(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function y(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,y),p.apply(this,arguments)}return e=y,r=[{key:"load",value:(n=s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.icon=o(),this.title="aa";case 2:case"end":return t.stop()}}),t,this)})),i=function(){var t=this,e=arguments;return new Promise((function(r,i){var o=n.apply(t,e);function a(t){c(o,r,i,a,s,"next",t);}function s(t){c(o,r,i,a,s,"throw",t);}a(void 0);}))},function(){return i.apply(this,arguments)})},{key:"interactive",get:function(){return !1}},{key:"dynamicWidth",get:function(){return !1}}],r&&u(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),y}(n.ZP);},3591:(t,e,r)=>{r.r(e),r.d(e,{default:()=>m});var n=r(1768),i=r(980),o=r(5372),a=r.n(o),s=r(752),c=r.n(s),u=r(8903),l=r.n(u);function f(t){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},f(t)}function h(){h=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value;},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"");}catch(t){c=function(t,e,r){return t[e]=r};}function u(t,e,r,i){var o=e&&e.prototype instanceof p?e:p,a=Object.create(o.prototype),s=new C(i||[]);return n(a,"_invoke",{value:x(t,r,s)}),a}function l(t,e,r){try{return {type:"normal",arg:t.call(e,r)}}catch(t){return {type:"throw",arg:t}}}t.wrap=u;var d={};function p(){}function y(){}function v(){}var g={};c(g,o,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(S([])));b&&b!==e&&r.call(b,o)&&(g=b);var w=v.prototype=p.prototype=Object.create(g);function A(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}));}));}function E(t,e){function i(n,o,a,s){var c=l(t[n],t,o);if("throw"!==c.type){var u=c.arg,h=u.value;return h&&"object"==f(h)&&r.call(h,"__await")?e.resolve(h.__await).then((function(t){i("next",t,a,s);}),(function(t){i("throw",t,a,s);})):e.resolve(h).then((function(t){u.value=t,a(u);}),(function(t){return i("throw",t,a,s)}))}s(c.arg);}var o;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){i(t,r,e,n);}))}return o=o?o.then(n,n):n()}});}function x(t,e,r){var n="suspendedStart";return function(i,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===i)throw o;return {value:void 0,done:!0}}for(r.method=i,r.arg=o;;){var a=r.delegate;if(a){var s=L(a,r);if(s){if(s===d)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg);}else "return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=l(t,e,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===d)continue;return {value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg);}}}function L(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,L(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),d;var i=l(n,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,d;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e);}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e;}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0);}function S(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return {next:T}}function T(){return {value:void 0,done:!0}}return y.prototype=v,n(w,"constructor",{value:v,configurable:!0}),n(v,"constructor",{value:y,configurable:!0}),y.displayName=c(v,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return !!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,c(t,s,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return {__await:t}},A(E.prototype),c(E.prototype,a,(function(){return this})),t.AsyncIterator=E,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new E(u(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},A(w),c(w,s,"Generator"),c(w,o,(function(){return this})),c(w,"toString",(function(){return "[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=S,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0);},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else {if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return "break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;k(r);}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:S(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},t}function d(t,e,r,n,i,o,a){try{var s=t[o](a),c=s.value;}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,i);}function p(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){d(o,n,i,a,s,"next",t);}function s(t){d(o,n,i,a,s,"throw",t);}a(void 0);}))}}function y(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(i=function(t,e){if("object"!==f(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==f(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===f(i)?i:String(i)),n);}var i;}function v(t,e){return v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},v(t,e)}function g(t){return g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},g(t)}var m=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&v(t,e);}(m,t);var e,r,n,o,s,u,d=(s=m,u=function(){if("undefined"==typeof Reflect||!Reflect.construct)return !1;if(Reflect.construct.sham)return !1;if("function"==typeof Proxy)return !0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return !1}}(),function(){var t,e=g(s);if(u){var r=g(this).constructor;t=Reflect.construct(e,arguments,r);}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===f(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function m(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,m),d.apply(this,arguments)}return e=m,r=[{key:"load",value:(o=p(h().mark((function t(){var e,r,n,o=this;return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=this.player.getCustomPluginIcon(this.name,"play")||a(),r=this.player.getCustomPluginIcon(this.name,"pause")||c(),n=this.player.getCustomPluginIcon(this.name,"replay")||l(),this.icon=e,(0, i.GT)(this.player,i.ZP.PLAY,(function(){o.icon=r;})),(0, i.GT)(this.player,i.ZP.PAUSE,(function(){o.icon=e;})),(0, i.GT)(this.player,i.ZP.ENDED,(function(){o.icon=n;})),(0, i.GT)(this.player,i.ZP.STOP,(function(){o.icon=e;}));case 8:case"end":return t.stop()}}),t,this)}))),function(){return o.apply(this,arguments)})},{key:"action",value:(n=p(h().mark((function t(){return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.player.paused();case 2:if(!t.sent){t.next=7;break}return t.next=5,this.player.videoContainer.play();case 5:t.next=9;break;case 7:return t.next=9,this.player.videoContainer.pause();case 9:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})}],r&&y(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),m}(n.ZP);},7858:(t,e,r)=>{r.r(e),r.d(e,{default:()=>h});var n=r(7488),i=r(9998),o=r.n(i);function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function s(){s=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value;},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"");}catch(t){l=function(t,e,r){return t[e]=r};}function f(t,e,r,i){var o=e&&e.prototype instanceof p?e:p,a=Object.create(o.prototype),s=new C(i||[]);return n(a,"_invoke",{value:x(t,r,s)}),a}function h(t,e,r){try{return {type:"normal",arg:t.call(e,r)}}catch(t){return {type:"throw",arg:t}}}t.wrap=f;var d={};function p(){}function y(){}function v(){}var g={};l(g,o,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(S([])));b&&b!==e&&r.call(b,o)&&(g=b);var w=v.prototype=p.prototype=Object.create(g);function A(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}));}));}function E(t,e){function i(n,o,s,c){var u=h(t[n],t,o);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==a(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){i("next",t,s,c);}),(function(t){i("throw",t,s,c);})):e.resolve(f).then((function(t){l.value=t,s(l);}),(function(t){return i("throw",t,s,c)}))}c(u.arg);}var o;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){i(t,r,e,n);}))}return o=o?o.then(n,n):n()}});}function x(t,e,r){var n="suspendedStart";return function(i,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===i)throw o;return {value:void 0,done:!0}}for(r.method=i,r.arg=o;;){var a=r.delegate;if(a){var s=L(a,r);if(s){if(s===d)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg);}else "return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=h(t,e,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===d)continue;return {value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg);}}}function L(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,L(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),d;var i=h(n,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,d;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e);}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e;}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0);}function S(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return {next:T}}function T(){return {value:void 0,done:!0}}return y.prototype=v,n(w,"constructor",{value:v,configurable:!0}),n(v,"constructor",{value:y,configurable:!0}),y.displayName=l(v,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return !!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,l(t,u,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return {__await:t}},A(E.prototype),l(E.prototype,c,(function(){return this})),t.AsyncIterator=E,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new E(f(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},A(w),l(w,u,"Generator"),l(w,o,(function(){return this})),l(w,"toString",(function(){return "[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=S,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0);},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else {if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return "break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;k(r);}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:S(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},t}function c(t,e,r,n,i,o,a){try{var s=t[o](a),c=s.value;}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,i);}function u(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(i=function(t,e){if("object"!==a(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===a(i)?i:String(i)),n);}var i;}function l(t,e){return l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},l(t,e)}function f(t){return f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},f(t)}var h=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&l(t,e);}(y,t);var e,r,n,i,h,d,p=(h=y,d=function(){if("undefined"==typeof Reflect||!Reflect.construct)return !1;if(Reflect.construct.sham)return !1;if("function"==typeof Proxy)return !0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return !1}}(),function(){var t,e=f(h);if(d){var r=f(this).constructor;t=Reflect.construct(e,arguments,r);}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===a(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function y(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,y),p.apply(this,arguments)}return e=y,r=[{key:"load",value:(n=s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.icon=o();case 1:case"end":return t.stop()}}),t,this)})),i=function(){var t=this,e=arguments;return new Promise((function(r,i){var o=n.apply(t,e);function a(t){c(o,r,i,a,s,"next",t);}function s(t){c(o,r,i,a,s,"throw",t);}a(void 0);}))},function(){return i.apply(this,arguments)})}],r&&u(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),y}(n.Z);},2694:(t,e,r)=>{function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function i(t,e){return i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},i(t,e)}function o(t){return o=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},o(t)}r.r(e),r.d(e,{default:()=>a});var a=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&i(t,e);}(c,t);var e,r,a,s=(r=c,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return !1;if(Reflect.construct.sham)return !1;if("function"==typeof Proxy)return !0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return !1}}(),function(){var t,e=o(r);if(a){var i=o(this).constructor;t=Reflect.construct(e,arguments,i);}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===n(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function c(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),s.apply(this,arguments)}return e=c,Object.defineProperty(e,"prototype",{writable:!1}),e}(r(8704).Z);},5651:(t,e,r)=>{r.r(e),r.d(e,{default:()=>f});var n=r(8984),i=r(980);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function a(){a=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value;},i="function"==typeof Symbol?Symbol:{},s=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"");}catch(t){l=function(t,e,r){return t[e]=r};}function f(t,e,r,i){var o=e&&e.prototype instanceof p?e:p,a=Object.create(o.prototype),s=new C(i||[]);return n(a,"_invoke",{value:x(t,r,s)}),a}function h(t,e,r){try{return {type:"normal",arg:t.call(e,r)}}catch(t){return {type:"throw",arg:t}}}t.wrap=f;var d={};function p(){}function y(){}function v(){}var g={};l(g,s,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(S([])));b&&b!==e&&r.call(b,s)&&(g=b);var w=v.prototype=p.prototype=Object.create(g);function A(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}));}));}function E(t,e){function i(n,a,s,c){var u=h(t[n],t,a);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==o(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){i("next",t,s,c);}),(function(t){i("throw",t,s,c);})):e.resolve(f).then((function(t){l.value=t,s(l);}),(function(t){return i("throw",t,s,c)}))}c(u.arg);}var a;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){i(t,r,e,n);}))}return a=a?a.then(n,n):n()}});}function x(t,e,r){var n="suspendedStart";return function(i,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===i)throw o;return {value:void 0,done:!0}}for(r.method=i,r.arg=o;;){var a=r.delegate;if(a){var s=L(a,r);if(s){if(s===d)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg);}else "return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=h(t,e,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===d)continue;return {value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg);}}}function L(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,L(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),d;var i=h(n,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,d;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e);}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e;}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0);}function S(t){if(t){var e=t[s];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return {next:T}}function T(){return {value:void 0,done:!0}}return y.prototype=v,n(w,"constructor",{value:v,configurable:!0}),n(v,"constructor",{value:y,configurable:!0}),y.displayName=l(v,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return !!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,l(t,u,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return {__await:t}},A(E.prototype),l(E.prototype,c,(function(){return this})),t.AsyncIterator=E,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new E(f(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},A(w),l(w,u,"Generator"),l(w,s,(function(){return this})),l(w,"toString",(function(){return "[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=S,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0);},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else {if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return "break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;k(r);}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:S(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},t}function s(t,e,r,n,i,o,a){try{var s=t[o](a),c=s.value;}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,i);}function c(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(i=function(t,e){if("object"!==o(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===o(i)?i:String(i)),n);}var i;}function u(t,e){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},u(t,e)}function l(t){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},l(t)}var f=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&u(t,e);}(y,t);var e,r,n,f,h,d,p=(h=y,d=function(){if("undefined"==typeof Reflect||!Reflect.construct)return !1;if(Reflect.construct.sham)return !1;if("function"==typeof Proxy)return !0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return !1}}(),function(){var t,e=l(h);if(d){var r=l(this).constructor;t=Reflect.construct(e,arguments,r);}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===o(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function y(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,y),p.apply(this,arguments)}return e=y,r=[{key:"events",get:function(){return [i.ZP.PLAY,i.ZP.PAUSE,i.ZP.TIMEUPDATE,i.ZP.MANIFEST_LOADED,i.ZP.STREAM_LOADED,i.ZP.PLAYER_LOADED]}},{key:"onEvent",value:(n=a().mark((function t(e,r){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.player.log.verbose(e),this.player.log.verbose(r);case 2:case"end":return t.stop()}}),t,this)})),f=function(){var t=this,e=arguments;return new Promise((function(r,i){var o=n.apply(t,e);function a(t){s(o,r,i,a,c,"next",t);}function c(t){s(o,r,i,a,c,"throw",t);}a(void 0);}))},function(t,e){return f.apply(this,arguments)})}],r&&c(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),y}(n.ZP);},3508:(t,e,r)=>{r.r(e),r.d(e,{default:()=>d});var n=r(1768),i=r(9998),o=r.n(i);function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function s(){s=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value;},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"");}catch(t){l=function(t,e,r){return t[e]=r};}function f(t,e,r,i){var o=e&&e.prototype instanceof p?e:p,a=Object.create(o.prototype),s=new C(i||[]);return n(a,"_invoke",{value:x(t,r,s)}),a}function h(t,e,r){try{return {type:"normal",arg:t.call(e,r)}}catch(t){return {type:"throw",arg:t}}}t.wrap=f;var d={};function p(){}function y(){}function v(){}var g={};l(g,o,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(S([])));b&&b!==e&&r.call(b,o)&&(g=b);var w=v.prototype=p.prototype=Object.create(g);function A(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}));}));}function E(t,e){function i(n,o,s,c){var u=h(t[n],t,o);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==a(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){i("next",t,s,c);}),(function(t){i("throw",t,s,c);})):e.resolve(f).then((function(t){l.value=t,s(l);}),(function(t){return i("throw",t,s,c)}))}c(u.arg);}var o;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){i(t,r,e,n);}))}return o=o?o.then(n,n):n()}});}function x(t,e,r){var n="suspendedStart";return function(i,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===i)throw o;return {value:void 0,done:!0}}for(r.method=i,r.arg=o;;){var a=r.delegate;if(a){var s=L(a,r);if(s){if(s===d)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg);}else "return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=h(t,e,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===d)continue;return {value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg);}}}function L(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,L(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),d;var i=h(n,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,d;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e);}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e;}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0);}function S(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return {next:T}}function T(){return {value:void 0,done:!0}}return y.prototype=v,n(w,"constructor",{value:v,configurable:!0}),n(v,"constructor",{value:y,configurable:!0}),y.displayName=l(v,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return !!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,l(t,u,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return {__await:t}},A(E.prototype),l(E.prototype,c,(function(){return this})),t.AsyncIterator=E,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new E(f(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},A(w),l(w,u,"Generator"),l(w,o,(function(){return this})),l(w,"toString",(function(){return "[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=S,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0);},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else {if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return "break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;k(r);}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:S(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},t}function c(t,e,r,n,i,o,a){try{var s=t[o](a),c=s.value;}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,i);}function u(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){c(o,n,i,a,s,"next",t);}function s(t){c(o,n,i,a,s,"throw",t);}a(void 0);}))}}function l(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(i=function(t,e){if("object"!==a(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===a(i)?i:String(i)),n);}var i;}function f(t,e){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},f(t,e)}function h(t){return h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},h(t)}var d=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&f(t,e);}(m,t);var e,r,n,i,c,d,p,y,v,g=(y=m,v=function(){if("undefined"==typeof Reflect||!Reflect.construct)return !1;if(Reflect.construct.sham)return !1;if("function"==typeof Proxy)return !0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return !1}}(),function(){var t,e=h(y);if(v){var r=h(this).constructor;t=Reflect.construct(e,arguments,r);}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===a(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function m(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,m),g.apply(this,arguments)}return e=m,r=[{key:"foldableContainer",get:function(){return "left"===this.config.side?this.rightArea:this.leftArea}},{key:"showFoldableContainer",value:function(){this.foldableContainer.style.display="inline-block";}},{key:"hideFoldableContainer",value:function(){this.foldableContainer.style.display="none";}},{key:"load",value:(p=u(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.icon=o(),this.foldableContainer.style.display="none",this.foldableContainer.innerHTML="Foldable Container";case 3:case"end":return t.stop()}}),t,this)}))),function(){return p.apply(this,arguments)})},{key:"mouseOver",value:(d=u(s().mark((function t(e){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.showFoldableContainer();case 1:case"end":return t.stop()}}),t,this)}))),function(t){return d.apply(this,arguments)})},{key:"mouseOut",value:(c=u(s().mark((function t(e){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.hideFoldableContainer();case 1:case"end":return t.stop()}}),t,this)}))),function(t){return c.apply(this,arguments)})},{key:"focusIn",value:(i=u(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.showFoldableContainer();case 1:case"end":return t.stop()}}),t,this)}))),function(){return i.apply(this,arguments)})},{key:"focusOut",value:(n=u(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.hideFoldableContainer();case 1:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})}],r&&l(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),m}(n.ZP);},7924:(t,e,r)=>{r.r(e),r.d(e,{default:()=>p});var n=r(7528),i=r(916),o=r(9998),a=r.n(o);function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function c(){c=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value;},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"");}catch(t){l=function(t,e,r){return t[e]=r};}function f(t,e,r,i){var o=e&&e.prototype instanceof p?e:p,a=Object.create(o.prototype),s=new C(i||[]);return n(a,"_invoke",{value:x(t,r,s)}),a}function h(t,e,r){try{return {type:"normal",arg:t.call(e,r)}}catch(t){return {type:"throw",arg:t}}}t.wrap=f;var d={};function p(){}function y(){}function v(){}var g={};l(g,o,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(S([])));b&&b!==e&&r.call(b,o)&&(g=b);var w=v.prototype=p.prototype=Object.create(g);function A(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}));}));}function E(t,e){function i(n,o,a,c){var u=h(t[n],t,o);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==s(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){i("next",t,a,c);}),(function(t){i("throw",t,a,c);})):e.resolve(f).then((function(t){l.value=t,a(l);}),(function(t){return i("throw",t,a,c)}))}c(u.arg);}var o;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){i(t,r,e,n);}))}return o=o?o.then(n,n):n()}});}function x(t,e,r){var n="suspendedStart";return function(i,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===i)throw o;return {value:void 0,done:!0}}for(r.method=i,r.arg=o;;){var a=r.delegate;if(a){var s=L(a,r);if(s){if(s===d)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg);}else "return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=h(t,e,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===d)continue;return {value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg);}}}function L(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,L(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),d;var i=h(n,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,d;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e);}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e;}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0);}function S(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return {next:T}}function T(){return {value:void 0,done:!0}}return y.prototype=v,n(w,"constructor",{value:v,configurable:!0}),n(v,"constructor",{value:y,configurable:!0}),y.displayName=l(v,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return !!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,l(t,u,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return {__await:t}},A(E.prototype),l(E.prototype,a,(function(){return this})),t.AsyncIterator=E,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new E(f(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},A(w),l(w,u,"Generator"),l(w,o,(function(){return this})),l(w,"toString",(function(){return "[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=S,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0);},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else {if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return "break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;k(r);}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:S(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},t}function u(t,e,r,n,i,o,a){try{var s=t[o](a),c=s.value;}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,i);}function l(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){u(o,n,i,a,s,"next",t);}function s(t){u(o,n,i,a,s,"throw",t);}a(void 0);}))}}function f(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(i=function(t,e){if("object"!==s(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==s(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===s(i)?i:String(i)),n);}var i;}function h(t,e){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},h(t,e)}function d(t){return d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},d(t)}var p=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&h(t,e);}(v,t);var e,r,n,o,u,p,y=(u=v,p=function(){if("undefined"==typeof Reflect||!Reflect.construct)return !1;if(Reflect.construct.sham)return !1;if("function"==typeof Proxy)return !0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return !1}}(),function(){var t,e=d(u);if(p){var r=d(this).constructor;t=Reflect.construct(e,arguments,r);}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===s(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function v(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,v),y.apply(this,arguments)}return e=v,r=[{key:"popUpType",get:function(){return "timeline"}},{key:"getContent",value:(o=l(c().mark((function t(){var e;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=(0, i.jS)("<p>Pop Up Button Plugin Content 2</p>"),t.abrupt("return",e);case 2:case"end":return t.stop()}}),t)}))),function(){return o.apply(this,arguments)})},{key:"load",value:(n=l(c().mark((function t(){var e;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.icon=a(),this.title="2",e=this.player.captionsCanvas,this.player.log.debug(e);case 4:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})}],r&&f(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),v}(n.Z);},9061:(t,e,r)=>{r.r(e),r.d(e,{default:()=>p});var n=r(7528),i=r(916),o=r(9998),a=r.n(o);function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function c(){c=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value;},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"");}catch(t){l=function(t,e,r){return t[e]=r};}function f(t,e,r,i){var o=e&&e.prototype instanceof p?e:p,a=Object.create(o.prototype),s=new C(i||[]);return n(a,"_invoke",{value:x(t,r,s)}),a}function h(t,e,r){try{return {type:"normal",arg:t.call(e,r)}}catch(t){return {type:"throw",arg:t}}}t.wrap=f;var d={};function p(){}function y(){}function v(){}var g={};l(g,o,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(S([])));b&&b!==e&&r.call(b,o)&&(g=b);var w=v.prototype=p.prototype=Object.create(g);function A(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}));}));}function E(t,e){function i(n,o,a,c){var u=h(t[n],t,o);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==s(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){i("next",t,a,c);}),(function(t){i("throw",t,a,c);})):e.resolve(f).then((function(t){l.value=t,a(l);}),(function(t){return i("throw",t,a,c)}))}c(u.arg);}var o;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){i(t,r,e,n);}))}return o=o?o.then(n,n):n()}});}function x(t,e,r){var n="suspendedStart";return function(i,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===i)throw o;return {value:void 0,done:!0}}for(r.method=i,r.arg=o;;){var a=r.delegate;if(a){var s=L(a,r);if(s){if(s===d)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg);}else "return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=h(t,e,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===d)continue;return {value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg);}}}function L(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,L(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),d;var i=h(n,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,d;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e);}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e;}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0);}function S(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return {next:T}}function T(){return {value:void 0,done:!0}}return y.prototype=v,n(w,"constructor",{value:v,configurable:!0}),n(v,"constructor",{value:y,configurable:!0}),y.displayName=l(v,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return !!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,l(t,u,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return {__await:t}},A(E.prototype),l(E.prototype,a,(function(){return this})),t.AsyncIterator=E,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new E(f(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},A(w),l(w,u,"Generator"),l(w,o,(function(){return this})),l(w,"toString",(function(){return "[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=S,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0);},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else {if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return "break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;k(r);}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:S(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},t}function u(t,e,r,n,i,o,a){try{var s=t[o](a),c=s.value;}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,i);}function l(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){u(o,n,i,a,s,"next",t);}function s(t){u(o,n,i,a,s,"throw",t);}a(void 0);}))}}function f(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(i=function(t,e){if("object"!==s(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==s(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===s(i)?i:String(i)),n);}var i;}function h(t,e){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},h(t,e)}function d(t){return d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},d(t)}var p=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&h(t,e);}(v,t);var e,r,n,o,u,p,y=(u=v,p=function(){if("undefined"==typeof Reflect||!Reflect.construct)return !1;if(Reflect.construct.sham)return !1;if("function"==typeof Proxy)return !0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return !1}}(),function(){var t,e=d(u);if(p){var r=d(this).constructor;t=Reflect.construct(e,arguments,r);}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===s(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function v(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,v),y.apply(this,arguments)}return e=v,r=[{key:"popUpType",get:function(){return "timeline"}},{key:"getContent",value:(o=l(c().mark((function t(){var e;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=(0, i.jS)("<p>Pop Up Button Plugin Content 1</p>"),t.abrupt("return",e);case 2:case"end":return t.stop()}}),t)}))),function(){return o.apply(this,arguments)})},{key:"load",value:(n=l(c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.icon=a(),this.title="1";case 2:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})}],r&&f(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),v}(n.Z);},2786:(t,e,r)=>{function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function i(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,(o=function(t,e){if("object"!==n(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var i=r.call(t,"string");if("object"!==n(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(i.key),"symbol"===n(o)?o:String(o)),i);}var o;}function o(t,e){return o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},o(t,e)}function a(t){return a=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},a(t)}r.r(e),r.d(e,{default:()=>s});var s=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&o(t,e);}(l,t);var e,r,s,c,u=(s=l,c=function(){if("undefined"==typeof Reflect||!Reflect.construct)return !1;if(Reflect.construct.sham)return !1;if("function"==typeof Proxy)return !0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return !1}}(),function(){var t,e=a(s);if(c){var r=a(this).constructor;t=Reflect.construct(e,arguments,r);}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===n(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function l(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,l),u.apply(this,arguments)}return e=l,(r=[{key:"minHeight",get:function(){return 20}},{key:"minHeightHover",get:function(){return 50}},{key:"drawForeground",value:function(t,e,r,n){t.fillStyle="rgba(230, 230, 230)",t.font="12px Arial",t.textAlign="left",t.fillText("foreground text",100,r/2+5);}},{key:"drawBackground",value:function(t,e,r,n){t.fillStyle="rgba(230, 230, 230)",t.font="12px Arial",t.textAlign="right",t.fillText("background text",e-2,r/2+5);}}])&&i(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),l}(r(4025).Z);},8539:(t,e,r)=>{r.r(e),r.d(e,{default:()=>p});var n=r(143),i=r(9998),o=r.n(i);function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function s(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(i=function(t,e){if("object"!==a(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===a(i)?i:String(i)),n);}var i;}function c(t,e){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},c(t,e)}function u(t){return u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},u(t)}function l(){l=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value;},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"");}catch(t){u=function(t,e,r){return t[e]=r};}function f(t,e,r,i){var o=e&&e.prototype instanceof p?e:p,a=Object.create(o.prototype),s=new C(i||[]);return n(a,"_invoke",{value:x(t,r,s)}),a}function h(t,e,r){try{return {type:"normal",arg:t.call(e,r)}}catch(t){return {type:"throw",arg:t}}}t.wrap=f;var d={};function p(){}function y(){}function v(){}var g={};u(g,o,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(S([])));b&&b!==e&&r.call(b,o)&&(g=b);var w=v.prototype=p.prototype=Object.create(g);function A(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}));}));}function E(t,e){function i(n,o,s,c){var u=h(t[n],t,o);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==a(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){i("next",t,s,c);}),(function(t){i("throw",t,s,c);})):e.resolve(f).then((function(t){l.value=t,s(l);}),(function(t){return i("throw",t,s,c)}))}c(u.arg);}var o;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){i(t,r,e,n);}))}return o=o?o.then(n,n):n()}});}function x(t,e,r){var n="suspendedStart";return function(i,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===i)throw o;return {value:void 0,done:!0}}for(r.method=i,r.arg=o;;){var a=r.delegate;if(a){var s=L(a,r);if(s){if(s===d)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg);}else "return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=h(t,e,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===d)continue;return {value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg);}}}function L(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,L(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),d;var i=h(n,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,d;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e);}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e;}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0);}function S(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return {next:T}}function T(){return {value:void 0,done:!0}}return y.prototype=v,n(w,"constructor",{value:v,configurable:!0}),n(v,"constructor",{value:y,configurable:!0}),y.displayName=u(v,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return !!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,u(t,c,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return {__await:t}},A(E.prototype),u(E.prototype,s,(function(){return this})),t.AsyncIterator=E,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new E(f(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},A(w),u(w,c,"Generator"),u(w,o,(function(){return this})),u(w,"toString",(function(){return "[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=S,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0);},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else {if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return "break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;k(r);}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:S(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},t}function f(t,e,r,n,i,o,a){try{var s=t[o](a),c=s.value;}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,i);}function h(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){f(o,n,i,a,s,"next",t);}function s(t){f(o,n,i,a,s,"throw",t);}a(void 0);}))}}var d=function(){var t=h(l().mark((function t(e,r){return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t){setTimeout((function(){e(),t();}),r);})));case 1:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),p=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&c(t,e);}(v,t);var e,r,n,i,f,p,y=(f=v,p=function(){if("undefined"==typeof Reflect||!Reflect.construct)return !1;if(Reflect.construct.sham)return !1;if("function"==typeof Proxy)return !0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return !1}}(),function(){var t,e=u(f);if(p){var r=u(this).constructor;t=Reflect.construct(e,arguments,r);}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===a(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function v(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,v),y.apply(this,arguments)}return e=v,r=[{key:"load",value:(i=h(l().mark((function t(){var e=this;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.icon=o(),this.title="tx",this.hide(),d((function(){return e.show()}),1e3);case 4:case"end":return t.stop()}}),t,this)}))),function(){return i.apply(this,arguments)})},{key:"titleSize",get:function(){return "medium"}},{key:"popUpType",get:function(){return "no-modal"}},{key:"getMenu",value:(n=h(l().mark((function t(){return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this._items||(this._items=[{id:0,title:"Option 1"},{id:1,title:"Option 2"},{id:2,title:"Option 3"},{id:3,title:"Option 4"},{id:4,title:"Option 5"},{id:0,title:"Option 6"},{id:1,title:"Option 7"},{id:2,title:"Option 8"},{id:3,title:"Option 9"},{id:4,title:"Option 10"}]),t.abrupt("return",this._items);case 2:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})},{key:"itemSelected",value:function(t){0===t.id&&(this.refreshContent=!0);}},{key:"buttonType",get:function(){return "check"}}],r&&s(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),v}(n.Z);},6761:(t,e,r)=>{r.r(e),r.d(e,{default:()=>p});var n=r(8704),i=r(1309),o=r(1401);function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function s(){s=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value;},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"");}catch(t){l=function(t,e,r){return t[e]=r};}function f(t,e,r,i){var o=e&&e.prototype instanceof p?e:p,a=Object.create(o.prototype),s=new C(i||[]);return n(a,"_invoke",{value:x(t,r,s)}),a}function h(t,e,r){try{return {type:"normal",arg:t.call(e,r)}}catch(t){return {type:"throw",arg:t}}}t.wrap=f;var d={};function p(){}function y(){}function v(){}var g={};l(g,o,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(S([])));b&&b!==e&&r.call(b,o)&&(g=b);var w=v.prototype=p.prototype=Object.create(g);function A(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}));}));}function E(t,e){function i(n,o,s,c){var u=h(t[n],t,o);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==a(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){i("next",t,s,c);}),(function(t){i("throw",t,s,c);})):e.resolve(f).then((function(t){l.value=t,s(l);}),(function(t){return i("throw",t,s,c)}))}c(u.arg);}var o;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){i(t,r,e,n);}))}return o=o?o.then(n,n):n()}});}function x(t,e,r){var n="suspendedStart";return function(i,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===i)throw o;return {value:void 0,done:!0}}for(r.method=i,r.arg=o;;){var a=r.delegate;if(a){var s=L(a,r);if(s){if(s===d)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg);}else "return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=h(t,e,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===d)continue;return {value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg);}}}function L(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,L(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),d;var i=h(n,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,d;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e);}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e;}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0);}function S(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return {next:T}}function T(){return {value:void 0,done:!0}}return y.prototype=v,n(w,"constructor",{value:v,configurable:!0}),n(v,"constructor",{value:y,configurable:!0}),y.displayName=l(v,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return !!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,l(t,u,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return {__await:t}},A(E.prototype),l(E.prototype,c,(function(){return this})),t.AsyncIterator=E,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new E(f(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},A(w),l(w,u,"Generator"),l(w,o,(function(){return this})),l(w,"toString",(function(){return "[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=S,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0);},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else {if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return "break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;k(r);}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:S(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},t}function c(t,e,r,n,i,o,a){try{var s=t[o](a),c=s.value;}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,i);}function u(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){c(o,n,i,a,s,"next",t);}function s(t){c(o,n,i,a,s,"throw",t);}a(void 0);}))}}function l(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(i=function(t,e){if("object"!==a(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===a(i)?i:String(i)),n);}var i;}function f(){return f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=d(t)););return t}(t,e);if(n){var i=Object.getOwnPropertyDescriptor(n,e);return i.get?i.get.call(arguments.length<3?t:r):i.value}},f.apply(this,arguments)}function h(t,e){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},h(t,e)}function d(t){return d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},d(t)}var p=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&h(t,e);}(g,t);var e,r,n,c,p,y,v=(p=g,y=function(){if("undefined"==typeof Reflect||!Reflect.construct)return !1;if(Reflect.construct.sham)return !1;if("function"==typeof Proxy)return !0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return !1}}(),function(){var t,e=d(p);if(y){var r=d(this).constructor;t=Reflect.construct(e,arguments,r);}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===a(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function g(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,g),v.apply(this,arguments)}return e=g,r=[{key:"isEnabled",value:(c=u(s().mark((function t(){var e;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f(d(g.prototype),"isEnabled",this).call(this);case 2:return e=t.sent,t.abrupt("return",e&&this.player.videoManifest.captions&&this.player.videoManifest.captions.length>0);case 4:case"end":return t.stop()}}),t,this)}))),function(){return c.apply(this,arguments)})},{key:"getCaptions",value:(n=u(s().mark((function t(){var e,r,n=this;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=[],r=[],this.player.videoManifest.captions.forEach((function(t){r.push(new Promise((function(r,a){if(/vtt/i.test(t.format)){var s=(0, o.resolveResourcePath)(n.player,t.url);fetch(s).then((function(t){if(t.ok)return t.text();a();})).then((function(n){var o=new i.Z(n);o.captions.label=t.text,o.captions.language=t.lang,e.push(o.captions),r();}));}})));})),t.next=5,Promise.all(r);case 5:return t.abrupt("return",e);case 6:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})}],r&&l(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),g}(n.Z);},477:(t,e,r)=>{r.r(e),r.d(e,{default:()=>u});var n=r(7133),i=r(4147);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function a(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(i=function(t,e){if("object"!==o(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===o(i)?i:String(i)),n);}var i;}function s(t,e){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},s(t,e)}function c(t){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},c(t)}var u=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s(t,e);}(f,t);var e,r,n,u,l=(n=f,u=function(){if("undefined"==typeof Reflect||!Reflect.construct)return !1;if(Reflect.construct.sham)return !1;if("function"==typeof Proxy)return !0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return !1}}(),function(){var t,e=c(n);if(u){var r=c(this).constructor;t=Reflect.construct(e,arguments,r);}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===o(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function f(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,f),l.apply(this,arguments)}return e=f,(r=[{key:"moduleName",get:function(){return "paella-core default video formats"}},{key:"moduleVersion",get:function(){return i.version}}])&&a(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),f}(n.Z);},6361:(t,e,r)=>{r.r(e),r.d(e,{AudioOnlyVideo:()=>m,default:()=>b});var n=r(646),i=r(1401);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function a(){a=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value;},i="function"==typeof Symbol?Symbol:{},s=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"");}catch(t){l=function(t,e,r){return t[e]=r};}function f(t,e,r,i){var o=e&&e.prototype instanceof p?e:p,a=Object.create(o.prototype),s=new C(i||[]);return n(a,"_invoke",{value:x(t,r,s)}),a}function h(t,e,r){try{return {type:"normal",arg:t.call(e,r)}}catch(t){return {type:"throw",arg:t}}}t.wrap=f;var d={};function p(){}function y(){}function v(){}var g={};l(g,s,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(S([])));b&&b!==e&&r.call(b,s)&&(g=b);var w=v.prototype=p.prototype=Object.create(g);function A(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}));}));}function E(t,e){function i(n,a,s,c){var u=h(t[n],t,a);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==o(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){i("next",t,s,c);}),(function(t){i("throw",t,s,c);})):e.resolve(f).then((function(t){l.value=t,s(l);}),(function(t){return i("throw",t,s,c)}))}c(u.arg);}var a;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){i(t,r,e,n);}))}return a=a?a.then(n,n):n()}});}function x(t,e,r){var n="suspendedStart";return function(i,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===i)throw o;return {value:void 0,done:!0}}for(r.method=i,r.arg=o;;){var a=r.delegate;if(a){var s=L(a,r);if(s){if(s===d)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg);}else "return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=h(t,e,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===d)continue;return {value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg);}}}function L(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,L(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),d;var i=h(n,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,d;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e);}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e;}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0);}function S(t){if(t){var e=t[s];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return {next:T}}function T(){return {value:void 0,done:!0}}return y.prototype=v,n(w,"constructor",{value:v,configurable:!0}),n(v,"constructor",{value:y,configurable:!0}),y.displayName=l(v,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return !!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,l(t,u,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return {__await:t}},A(E.prototype),l(E.prototype,c,(function(){return this})),t.AsyncIterator=E,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new E(f(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},A(w),l(w,u,"Generator"),l(w,s,(function(){return this})),l(w,"toString",(function(){return "[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=S,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0);},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else {if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return "break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;k(r);}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:S(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},t}function s(t,e,r,n,i,o,a){try{var s=t[o](a),c=s.value;}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,i);}function c(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){s(o,n,i,a,c,"next",t);}function c(t){s(o,n,i,a,c,"throw",t);}a(void 0);}))}}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(i=function(t,e){if("object"!==o(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===o(i)?i:String(i)),n);}var i;}function f(t,e,r){return e&&l(t.prototype,e),r&&l(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function h(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&d(t,e);}function d(t,e){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},d(t,e)}function p(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return !1;if(Reflect.construct.sham)return !1;if("function"==typeof Proxy)return !0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return !1}}();return function(){var r,n=y(t);if(e){var i=y(this).constructor;r=Reflect.construct(n,arguments,i);}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===o(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function y(t){return y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},y(t)}function v(t){return new Promise((function(e,r){var n=new Image;n.addEventListener("load",(function(t){e(n);})),n.addEventListener("error",(function(t){r(new Error("Could not load preview image. The preview image is required in audio only streams"));})),n.src=t;}))}function g(t,e,r){return new Promise((function(n,o){e.oncanplay=function(){return n()},e.onerror=function(){return o(new Error(t.translate("Error loading audio: $1",[r])))},e.src=(0, i.resolveResourcePath)(t,r),n();}))}var m=function(t){h(E,t);var e,r,n,i,o,s,l,d,y,m,b,w,A=p(E);function E(t,e,r){var n;return u(this,E),(n=A.call(this,"audio",t,e)).isMainAudio=r,n._ready=!1,n}return f(E,[{key:"streamType",get:function(){return "audio"}},{key:"waitForLoaded",value:function(){var t=this;return new Promise((function(e){!function r(){t._ready?e():setTimeout(r,100);}();}))}},{key:"play",value:(w=c(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.waitForLoaded();case 2:this.audio.play();case 3:case"end":return t.stop()}}),t,this)}))),function(){return w.apply(this,arguments)})},{key:"pause",value:(b=c(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.waitForLoaded();case 2:this.audio.pause();case 3:case"end":return t.stop()}}),t,this)}))),function(){return b.apply(this,arguments)})},{key:"duration",value:(m=c(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.waitForLoaded();case 2:return t.abrupt("return",this.audio.duration);case 3:case"end":return t.stop()}}),t,this)}))),function(){return m.apply(this,arguments)})},{key:"currentTimeSync",get:function(){var t;return (null===(t=this.audio)||void 0===t?void 0:t.currentTime)||0}},{key:"currentTime",value:(y=c(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.waitForLoaded();case 2:return t.abrupt("return",this.audio.currentTime);case 3:case"end":return t.stop()}}),t,this)}))),function(){return y.apply(this,arguments)})},{key:"setCurrentTime",value:(d=c(a().mark((function t(e){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.waitForLoaded();case 2:this.audio.currentTime=e;case 3:case"end":return t.stop()}}),t,this)}))),function(t){return d.apply(this,arguments)})},{key:"volume",value:(l=c(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.waitForLoaded();case 2:return t.abrupt("return",this.audio.volume);case 3:case"end":return t.stop()}}),t,this)}))),function(){return l.apply(this,arguments)})},{key:"setVolume",value:(s=c(a().mark((function t(e){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.waitForLoaded();case 2:this.audio.volume=e;case 3:case"end":return t.stop()}}),t,this)}))),function(t){return s.apply(this,arguments)})},{key:"paused",value:(o=c(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.waitForLoaded();case 2:return t.abrupt("return",this.audio.paused);case 3:case"end":return t.stop()}}),t,this)}))),function(){return o.apply(this,arguments)})},{key:"playbackRate",value:(i=c(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.waitForLoaded();case 2:return t.abrupt("return",this.audio.playbackRate);case 3:case"end":return t.stop()}}),t,this)}))),function(){return i.apply(this,arguments)})},{key:"setPlaybackRate",value:(n=c(a().mark((function t(e){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.waitForLoaded();case 2:this.audio.playbackRate=e;case 3:case"end":return t.stop()}}),t,this)}))),function(t){return n.apply(this,arguments)})},{key:"getDimensions",value:(r=c(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",{w:this._previewImage.width,h:this._previewImage.height});case 1:case"end":return t.stop()}}),t,this)}))),function(){return r.apply(this,arguments)})},{key:"loadStreamData",value:(e=c(a().mark((function t(){var e,r,n=arguments;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=n.length>0&&void 0!==n[0]?n[0]:null,this._streamData=this._streamData||e,this.player.log.debug("es.upv.paella.audioVideoFormat: loadStreamData"),(r=this.player.videoManifest.metadata.preview)&&null!=r){t.next=6;break}throw new Error("Invalid video manifest data: preview image is required");case 6:return t.next=8,v(r);case 8:if(this._previewImage=t.sent,this._previewImage.style.width="100%",this._source=e.sources.audio&&e.sources.audio[0],this._source){t.next=13;break}throw new Error("Invalid source in audio only video stream");case 13:if(this.isMainAudioPlayer){t.next=15;break}throw new Error("Audio only video stream must be main audio player. Check the role property at video manifest");case 15:return t.next=17,g(this.player,this.audio,this._source.src);case 17:this._ready=!0,this.parent.appendChild(this._previewImage);case 19:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})}]),E}(n.nk),b=function(t){h(n,t);var e,r=p(n);function n(){return u(this,n),r.apply(this,arguments)}return f(n,[{key:"streamType",get:function(){return "audio"}},{key:"isCompatible",value:function(t){return null!=t.sources.audio}},{key:"getVideoInstance",value:(e=c(a().mark((function t(e,r){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new m(this.player,e,r));case 1:case"end":return t.stop()}}),t,this)}))),function(t,r){return e.apply(this,arguments)})},{key:"getCompatibleFileExtensions",value:function(){return ["m4a","mp3"]}},{key:"getManifestData",value:function(t){return {audio:t.map((function(t){return {src:t}}))}}}]),n}(n.ZP);},310:(t,e,r)=>{r.r(e),r.d(e,{HlsLiveVideo:()=>x,default:()=>L});var n=r(3041),i=r(980),o=r(8069),a=r(646),s=r(625);function c(t){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c(t)}function u(){u=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value;},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"");}catch(t){l=function(t,e,r){return t[e]=r};}function f(t,e,r,i){var o=e&&e.prototype instanceof p?e:p,a=Object.create(o.prototype),s=new C(i||[]);return n(a,"_invoke",{value:x(t,r,s)}),a}function h(t,e,r){try{return {type:"normal",arg:t.call(e,r)}}catch(t){return {type:"throw",arg:t}}}t.wrap=f;var d={};function p(){}function y(){}function v(){}var g={};l(g,o,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(S([])));b&&b!==e&&r.call(b,o)&&(g=b);var w=v.prototype=p.prototype=Object.create(g);function A(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}));}));}function E(t,e){function i(n,o,a,s){var u=h(t[n],t,o);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==c(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){i("next",t,a,s);}),(function(t){i("throw",t,a,s);})):e.resolve(f).then((function(t){l.value=t,a(l);}),(function(t){return i("throw",t,a,s)}))}s(u.arg);}var o;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){i(t,r,e,n);}))}return o=o?o.then(n,n):n()}});}function x(t,e,r){var n="suspendedStart";return function(i,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===i)throw o;return {value:void 0,done:!0}}for(r.method=i,r.arg=o;;){var a=r.delegate;if(a){var s=L(a,r);if(s){if(s===d)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg);}else "return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=h(t,e,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===d)continue;return {value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg);}}}function L(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,L(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),d;var i=h(n,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,d;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e);}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e;}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0);}function S(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return {next:T}}function T(){return {value:void 0,done:!0}}return y.prototype=v,n(w,"constructor",{value:v,configurable:!0}),n(v,"constructor",{value:y,configurable:!0}),y.displayName=l(v,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return !!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,l(t,s,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return {__await:t}},A(E.prototype),l(E.prototype,a,(function(){return this})),t.AsyncIterator=E,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new E(f(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},A(w),l(w,s,"Generator"),l(w,o,(function(){return this})),l(w,"toString",(function(){return "[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=S,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0);},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else {if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return "break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;k(r);}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:S(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},t}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function f(t,e,r,n,i,o,a){try{var s=t[o](a),c=s.value;}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,i);}function h(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){f(o,n,i,a,s,"next",t);}function s(t){f(o,n,i,a,s,"throw",t);}a(void 0);}))}}function d(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(i=function(t,e){if("object"!==c(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==c(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===c(i)?i:String(i)),n);}var i;}function y(t,e,r){return e&&p(t.prototype,e),r&&p(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function v(){return v="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=w(t)););return t}(t,e);if(n){var i=Object.getOwnPropertyDescriptor(n,e);return i.get?i.get.call(arguments.length<3?t:r):i.value}},v.apply(this,arguments)}function g(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&m(t,e);}function m(t,e){return m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},m(t,e)}function b(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return !1;if(Reflect.construct.sham)return !1;if("function"==typeof Proxy)return !0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return !1}}();return function(){var r,n=w(t);if(e){var i=w(this).constructor;r=Reflect.construct(n,arguments,i);}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===c(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function w(t){return w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},w(t)}var A=(0, o.getHlsSupport)(),E=function(t,e,r,o,a){var s,c;a.withCredentials&&(o.xhrSetup=function(t,e){for(var r in t.withCredentials=a.withCredentials,a.requestHeaders){var n=a.requestHeaders[r];t.setRequestHeader(r,n);}});var u=new n.Z(o),l=(null==e||null===(s=e.sources)||void 0===s||null===(c=s.hlsLive)||void 0===c?void 0:c.length)>0&&e.sources.hlsLive[0];return void 0!==o.initialQualityLevel&&o.initialQualityLevel,[u,new Promise((function(e,a){var s=!1;u.on(n.Z.Events.LEVEL_SWITCHED,(function(e,r){undefined.player.log.debug("HLS: quality level switched to ".concat(r.level)),s||(u.currentLevel=-1,s=!0),(0, i.qe)(t,i.ZP.VIDEO_QUALITY_CHANGED,{});})),u.on(n.Z.Events.ERROR,(function(e,r){if(r.fatal)switch(r.type){case n.Z.ErrorTypes.NETWORK_ERROR:r.details===n.Z.ErrorDetails.MANIFEST_LOAD_ERROR?a(Error("hlsVideoFormatPlugin: unrecoverable error in HLS player. The video is not available")):(t.log.warn("hlsVideoFormatPlugin: Fatal network error. Try to recover"),u.startLoad());break;case n.Z.ErrorTypes.MEDIA_ERROR:t.log.warn("hlsVideoFormatPlugin: Fatal media error encountered. Try to recover"),u.recoverMediaError();break;default:u.destroy(),a(Error("hlsVideoFormat: Fatal error. Can not recover"));}})),u.on(n.Z.Events.MANIFEST_PARSED,(function(){o.autoStartLoad||u.autoStartLoad();}));var c=Math.floor(1e11*Math.random()),f=l.src+(o.enableCache?/\?/.test(l.src)?"&cache=".concat(c):"?cache=".concat(c):"");u.loadSource(f),u.attachMedia(r),u._videoEventListener=function(){e();},r.addEventListener("canplay",u._videoEventListener);}))]},x=function(t){g(n,t);var e,r=b(n);function n(){return d(this,n),r.apply(this,arguments)}return y(n,[{key:"loadStreamData",value:(e=h(u().mark((function t(e){var r,i,a,c,f;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(A!==o.HlsSupport.NATIVE){t.next=5;break}return e.sources.hls=e.sources.hlsLive,t.abrupt("return",v(w(n.prototype),"loadStreamData",this).call(this,e));case 5:return this.player.log.debug("Loading HLS stream"),r=E(this.player,e,this.video,this._config,this._cors),h=2,i=function(t){if(Array.isArray(t))return t}(u=r)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,i,o,a,s=[],c=!0,u=!1;try{if(o=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;c=!1;}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==e);c=!0);}catch(t){u=!0,i=t;}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(u,h)||function(t,e){if(t){if("string"==typeof t)return l(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return "Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?l(t,e):void 0}}(u,h)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),a=i[0],c=i[1],this._hls=a,t.next=10,c;case 10:return this._autoQuality=new s.Z({label:"auto",shortLabel:"auto",index:-1,width:1,height:1,isAuto:!0}),this._currentQuality=this._autoQuality,t.next=14,this.getAudioTracks();case 14:f=t.sent,this._currentAudioTrack=f.find((function(t){return t.selected})),this.saveDisabledProperties(this.video);case 17:case"end":return t.stop()}var u,h;}),t,this)}))),function(t){return e.apply(this,arguments)})}]),n}(o.HlsVideo),L=function(t){g(n,t);var e,r=b(n);function n(){return d(this,n),r.apply(this,arguments)}return y(n,[{key:"streamType",get:function(){return "hlsLive"}},{key:"isCompatible",value:function(t){return t.sources.hlsLive&&A}},{key:"getVideoInstance",value:(e=h(u().mark((function t(e,r){return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new x(this.player,e,this.config,r));case 1:case"end":return t.stop()}}),t,this)}))),function(t,r){return e.apply(this,arguments)})}]),n}(a.ZP);},8069:(t,e,r)=>{r.r(e),r.d(e,{HlsSupport:()=>L,HlsVideo:()=>C,default:()=>S,defaultHlsConfig:()=>E,getHlsSupport:()=>_});var n=r(2604),i=r(646),o=r(625),a=r(2452),s=r(980),c=r(3041);function u(t){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u(t)}function l(){l=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value;},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"");}catch(t){c=function(t,e,r){return t[e]=r};}function f(t,e,r,i){var o=e&&e.prototype instanceof p?e:p,a=Object.create(o.prototype),s=new C(i||[]);return n(a,"_invoke",{value:x(t,r,s)}),a}function h(t,e,r){try{return {type:"normal",arg:t.call(e,r)}}catch(t){return {type:"throw",arg:t}}}t.wrap=f;var d={};function p(){}function y(){}function v(){}var g={};c(g,o,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(S([])));b&&b!==e&&r.call(b,o)&&(g=b);var w=v.prototype=p.prototype=Object.create(g);function A(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}));}));}function E(t,e){function i(n,o,a,s){var c=h(t[n],t,o);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==u(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){i("next",t,a,s);}),(function(t){i("throw",t,a,s);})):e.resolve(f).then((function(t){l.value=t,a(l);}),(function(t){return i("throw",t,a,s)}))}s(c.arg);}var o;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){i(t,r,e,n);}))}return o=o?o.then(n,n):n()}});}function x(t,e,r){var n="suspendedStart";return function(i,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===i)throw o;return {value:void 0,done:!0}}for(r.method=i,r.arg=o;;){var a=r.delegate;if(a){var s=L(a,r);if(s){if(s===d)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg);}else "return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=h(t,e,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===d)continue;return {value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg);}}}function L(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,L(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),d;var i=h(n,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,d;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e);}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e;}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0);}function S(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return {next:T}}function T(){return {value:void 0,done:!0}}return y.prototype=v,n(w,"constructor",{value:v,configurable:!0}),n(v,"constructor",{value:y,configurable:!0}),y.displayName=c(v,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return !!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,c(t,s,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return {__await:t}},A(E.prototype),c(E.prototype,a,(function(){return this})),t.AsyncIterator=E,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new E(f(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},A(w),c(w,s,"Generator"),c(w,o,(function(){return this})),c(w,"toString",(function(){return "[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=S,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0);},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else {if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return "break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;k(r);}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:S(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},t}function f(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function h(t,e,r,n,i,o,a){try{var s=t[o](a),c=s.value;}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,i);}function d(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){h(o,n,i,a,s,"next",t);}function s(t){h(o,n,i,a,s,"throw",t);}a(void 0);}))}}function p(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function y(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(i=function(t,e){if("object"!==u(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==u(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===u(i)?i:String(i)),n);}var i;}function v(t,e,r){return e&&y(t.prototype,e),r&&y(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function g(){return g="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=A(t)););return t}(t,e);if(n){var i=Object.getOwnPropertyDescriptor(n,e);return i.get?i.get.call(arguments.length<3?t:r):i.value}},g.apply(this,arguments)}function m(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&b(t,e);}function b(t,e){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},b(t,e)}function w(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return !1;if(Reflect.construct.sham)return !1;if("function"==typeof Proxy)return !0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return !1}}();return function(){var r,n=A(t);if(e){var i=A(this).constructor;r=Reflect.construct(n,arguments,i);}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===u(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function A(t){return A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},A(t)}var E={autoStartLoad:!0,startPosition:-1,capLevelToPlayerSize:!0,debug:!1,defaultAudioCodec:void 0,initialLiveManifestSize:1,maxBufferLength:6,maxMaxBufferLength:6,maxBufferSize:6e8,maxBufferHole:.5,lowBufferWatchdogPeriod:.5,highBufferWatchdogPeriod:3,nudgeOffset:.1,nudgeMaxRetry:3,maxFragLookUpTolerance:.2,enableWorker:!0,enableSoftwareAES:!0,manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:500,manifestLoadingMaxRetryTimeout:64e3,startLevel:void 0,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:500,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:500,fragLoadingMaxRetryTimeout:64e3,startFragPrefetch:!1,appendErrorMaxRetry:3,enableWebVTT:!0,enableCEA708Captions:!0,stretchShortVideoTrack:!1,maxAudioFramesDrift:1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:5,abrEwmaSlowLive:9,abrEwmaFastVoD:4,abrEwmaSlowVoD:15,abrEwmaDefaultEstimate:5e5,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,minAutoBitrate:0},x={withCredentials:!0,requestHeaders:{"Access-Control-Allow-Headers":"Content-Type, Accept, X-Requested-With","Access-Control-Allow-Origin":"http://localhost:8000","Access-Control-Allow-Credentials":"true"}},L={UNSUPPORTED:0,MEDIA_SOURCE_EXTENSIONS:1,NATIVE:2};function _(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=document.createElement("video");return e.canPlayType("application/vnd.apple.mpegurl")&&t?L.NATIVE:c.Z.isSupported()?L.MEDIA_SOURCE_EXTENSIONS:e.canPlayType("application/vnd.apple.mpegurl")?L.NATIVE:L.UNSUPPORTED}var k=function(t,e,r,n,i){var o,a;i.withCredentials&&(n.xhrSetup=function(t,e){for(var r in t.withCredentials=i.withCredentials,i.requestHeaders){var n=i.requestHeaders[r];t.setRequestHeader(r,n);}}),n.autoStartLoad=!0;var u=new c.Z(n),l=(null==e||null===(o=e.sources)||void 0===o||null===(a=o.hls)||void 0===a?void 0:a.length)>0&&e.sources.hls[0];return [u,new Promise((function(e,i){var o=!1;u.on(c.Z.Events.LEVEL_SWITCHED,(function(e,r){t.log.debug("HLS: quality level switched to ".concat(r.level)),o||(u.currentLevel=-1,o=!0),(0, s.qe)(t,s.ZP.VIDEO_QUALITY_CHANGED,{});})),u.on(c.Z.Events.ERROR,(function(e,r){if(r.fatal)switch(r.type){case c.Z.ErrorTypes.NETWORK_ERROR:r.details===c.Z.ErrorDetails.MANIFEST_LOAD_ERROR?i(Error("hlsVideoFormatPlugin: unrecoverable error in HLS player. The video is not available")):(t.log.warn("hlsVideoFormatPlugin: Fatal network error. Try to recover"),u.startLoad());break;case c.Z.ErrorTypes.MEDIA_ERROR:t.log.warn("hlsVideoFormatPlugin: Fatal media error encountered. Try to recover"),u.recoverMediaError();break;default:u.destroy(),i(Error("hlsVideoFormat: Fatal error. Can not recover"));}else t.log.warn("HLS: error"),t.log.warn(r.details);})),u.on(c.Z.Events.LEVEL_SWITCHING,(function(){t.log.debug("HLS media attached");})),u.on(c.Z.Events.MEDIA_ATTACHED,(function(){t.log.debug("HLS media attached");})),u.on(c.Z.Events.MEDIA_DETACHING,(function(){t.log.debug("HLS media detaching");})),u.on(c.Z.Events.MEDIA_DETACHED,(function(){t.log.debug("HLS media detached");})),u.on(c.Z.Events.MANIFEST_PARSED,(function(){t.log.debug("HLS manifest parsed"),u.startLoad(-1);}));var a=Math.floor(1e11*Math.random()),f=l.src+(n.enableCache?/\?/.test(l.src)?"&cache=".concat(a):"?cache=".concat(a):"");u.loadSource(f),u.attachMedia(r);var h=!1;u._videoEventListener=function(){h=!0,e();},r.addEventListener("canplay",u._videoEventListener),setTimeout((function(){h||r.play();}),1e3);}))]},C=function(t){m(b,t);var e,r,n,i,s,c,u,h,y=w(b);function b(t,e,r,n){var i;for(var o in p(this,b),(i=y.call(this,t,e,n,r))._config=i._config||{audioTrackLabel:r.audioTrackLabel||"name",enableCache:r.enableCache||!1},E)i._config[o]=E[o];for(var a in r.hlsConfig)i._config[a]=r.hlsConfig[a];for(var s in i._cors={},x)i._cors[s]=x[s];for(var c in r.corsConfig)i._cors[c]=r.corsConfig[c];return i._ready=!1,i._autoQuality=!0,i._forceNative=r.forceNative||!1,i}return v(b,[{key:"autoQuality",get:function(){return this._autoQuality}},{key:"forceNative",get:function(){return this._forceNative}},{key:"loadStreamData",value:(h=d(l().mark((function t(e){var r,n,i,a,s,c,u,h,d,p,y=this;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(_(this.forceNative)!==L.NATIVE){t.next=17;break}return e.sources.mp4=e.sources.hls,t.next=4,g(A(b.prototype),"loadStreamData",this).call(this,e);case 4:return r=t.sent,t.next=7,this.getAudioTracks();case 7:return n=t.sent,this._currentAudioTrack=n.find((function(t){return t.selected})),this._autoQuality=new o.Z({label:"auto",shortLabel:"auto",index:-1,width:1,height:1,isAuto:!0}),this._currentQuality=this._autoQuality,this.saveDisabledProperties(this.video),this._endedCallback=this._endedCallback||function(){"function"==typeof y._videoEndedCallback&&y._videoEndedCallback();},this.video.addEventListener("ended",this._endedCallback),t.abrupt("return",r);case 17:return this.player.log.debug("Loading HLS stream"),s=(null==e||null===(i=e.sources)||void 0===i||null===(a=i.hls)||void 0===a?void 0:a.length)&&e.sources.hls[0],this._config.audioTrackLabel=(null==s?void 0:s.audioLabel)||this._config.audioTrackLabel,c=k(this.player,e,this.video,this._config,this._cors),v=2,u=function(t){if(Array.isArray(t))return t}(l=c)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,i,o,a,s=[],c=!0,u=!1;try{if(o=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;c=!1;}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==e);c=!0);}catch(t){u=!0,i=t;}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(l,v)||function(t,e){if(t){if("string"==typeof t)return f(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return "Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?f(t,e):void 0}}(l,v)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),h=u[0],d=u[1],this._hls=h,t.next=24,d;case 24:return this.video.pause(),this._autoQuality=new o.Z({label:"auto",shortLabel:"auto",index:-1,width:1,height:1,isAuto:!0}),this._currentQuality=this._autoQuality,t.next=29,this.getAudioTracks();case 29:p=t.sent,this._currentAudioTrack=p.find((function(t){return t.selected})),this.saveDisabledProperties(this.video),this._endedCallback=this._endedCallback||function(){"function"==typeof y._videoEndedCallback&&y._videoEndedCallback();},this.video.addEventListener("ended",this._endedCallback);case 34:case"end":return t.stop()}var l,v;}),t,this)}))),function(t){return h.apply(this,arguments)})},{key:"waitForLoaded",value:(u=d(l().mark((function t(){var e=this;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(_(this.forceNative)!==L.NATIVE){t.next=4;break}return t.abrupt("return",g(A(b.prototype),"waitForLoaded",this).call(this));case 4:return t.next=6,new Promise((function(t,r){!function r(){e.video.readyState>=2?(e._ready=!0,t()):setTimeout((function(){return r()}),200);}();}));case 6:case"end":return t.stop()}}),t,this)}))),function(){return u.apply(this,arguments)})},{key:"getQualities",value:(c=d(l().mark((function t(){var e;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return (e=[]).push(this._autoQuality),_(this.forceNative)===L.MEDIA_SOURCE_EXTENSIONS&&(this._hls.levels.forEach((function(t,r){e.push(new o.Z({index:r,label:"".concat(t.width,"x").concat(t.height),shortLabel:"".concat(t.height,"p"),width:t.width,height:t.height}));})),e.sort((function(t,e){return t.res.h-e.res.h}))),t.abrupt("return",e);case 4:case"end":return t.stop()}}),t,this)}))),function(){return c.apply(this,arguments)})},{key:"setQuality",value:(s=d(l().mark((function t(e){return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this._videoEnabled){t.next=2;break}return t.abrupt("return");case 2:if(e instanceof o.Z){t.next=4;break}throw Error("Invalid parameter setting video quality. VideoQualityItem object expected.");case 4:_(this.forceNative)===L.MEDIA_SOURCE_EXTENSIONS?(this._currentQuality=e,this._hls.currentLevel=e.index):this.player.log.warn("Could not set video quality of HLS stream, because the HLS support of this browser is native.");case 5:case"end":return t.stop()}}),t,this)}))),function(t){return s.apply(this,arguments)})},{key:"currentQuality",get:function(){return this._currentQuality}},{key:"supportsMultiaudio",value:(i=d(l().mark((function t(){var e,r;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.waitForLoaded();case 2:if((e=_(this.forceNative))!==L.MEDIA_SOURCE_EXTENSIONS){t.next=7;break}return t.abrupt("return",this._hls.audioTracks.length>1);case 7:if(e!==L.NATIVE){t.next=11;break}return t.abrupt("return",(null===(r=this.video.audioTracks)||void 0===r?void 0:r.length)>1);case 11:return t.abrupt("return",!1);case 12:case"end":return t.stop()}}),t,this)}))),function(){return i.apply(this,arguments)})},{key:"getAudioTracks",value:(n=d(l().mark((function t(){var e,r,n,i,o=this;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.waitForLoaded();case 2:if(e=this._config.audioTrackLabel||"name",(r=_(this.forceNative))!==L.MEDIA_SOURCE_EXTENSIONS){t.next=9;break}return n=this._hls.audioTracks.map((function(t){return new a.Z({id:t.id,name:t[e],language:t.lang,selected:o._hls.audioTrack===t.id})})),t.abrupt("return",n);case 9:if(r!==L.NATIVE){t.next=14;break}return i=Array.from(this.video.audioTracks).map((function(t){return new a.Z({id:t.id,name:t.label,language:t.language,selected:t.enabled})})),t.abrupt("return",i);case 14:return t.abrupt("return",null);case 15:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})},{key:"setCurrentAudioTrack",value:(r=d(l().mark((function t(e){var r,n,i;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.waitForLoaded();case 2:return t.next=4,this.getAudioTracks();case 4:return r=t.sent,n=r.find((function(t){return t.id===e.id})),(i=_(this.forceNative))===L.MEDIA_SOURCE_EXTENSIONS&&n?this._hls.audioTrack=n.id:i===L.NATIVE&&n&&Array.from(this.video.audioTracks).forEach((function(t){t.id===n.id?t.enabled=!0:t.enabled=!1;})),this._currentAudioTrack=n,t.abrupt("return",n);case 10:case"end":return t.stop()}}),t,this)}))),function(t){return r.apply(this,arguments)})},{key:"currentAudioTrack",get:function(){return this._currentAudioTrack}},{key:"clearStreamData",value:(e=d(l().mark((function t(){return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.video.removeEventListener("canplay",this._hls._videoEventListener),this.video.src="",this._hls.destroy(),this._ready=!1;case 4:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})}]),b}(n.Mp4Video),S=function(t){m(n,t);var e,r=w(n);function n(){return p(this,n),r.apply(this,arguments)}return v(n,[{key:"streamType",get:function(){return "hls"}},{key:"isCompatible",value:function(t){return t.sources.hls&&_()}},{key:"getVideoInstance",value:(e=d(l().mark((function t(e,r){return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new C(this.player,e,this.config,r));case 1:case"end":return t.stop()}}),t,this)}))),function(t,r){return e.apply(this,arguments)})},{key:"getCompatibleFileExtensions",value:function(){return ["m3u8"]}},{key:"getManifestData",value:function(t){return {hls:t.map((function(t){return {src:t,mimetype:"video/mp4"}}))}}}]),n}(i.ZP);},8755:(t,e,r)=>{r.r(e),r.d(e,{HtmlVideo:()=>g,default:()=>m});var n=r(1401),i=r(646),o=r(2604);function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function s(){s=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value;},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"");}catch(t){l=function(t,e,r){return t[e]=r};}function f(t,e,r,i){var o=e&&e.prototype instanceof p?e:p,a=Object.create(o.prototype),s=new C(i||[]);return n(a,"_invoke",{value:x(t,r,s)}),a}function h(t,e,r){try{return {type:"normal",arg:t.call(e,r)}}catch(t){return {type:"throw",arg:t}}}t.wrap=f;var d={};function p(){}function y(){}function v(){}var g={};l(g,o,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(S([])));b&&b!==e&&r.call(b,o)&&(g=b);var w=v.prototype=p.prototype=Object.create(g);function A(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}));}));}function E(t,e){function i(n,o,s,c){var u=h(t[n],t,o);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==a(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){i("next",t,s,c);}),(function(t){i("throw",t,s,c);})):e.resolve(f).then((function(t){l.value=t,s(l);}),(function(t){return i("throw",t,s,c)}))}c(u.arg);}var o;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){i(t,r,e,n);}))}return o=o?o.then(n,n):n()}});}function x(t,e,r){var n="suspendedStart";return function(i,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===i)throw o;return {value:void 0,done:!0}}for(r.method=i,r.arg=o;;){var a=r.delegate;if(a){var s=L(a,r);if(s){if(s===d)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg);}else "return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=h(t,e,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===d)continue;return {value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg);}}}function L(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,L(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),d;var i=h(n,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,d;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e);}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e;}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0);}function S(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return {next:T}}function T(){return {value:void 0,done:!0}}return y.prototype=v,n(w,"constructor",{value:v,configurable:!0}),n(v,"constructor",{value:y,configurable:!0}),y.displayName=l(v,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return !!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,l(t,u,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return {__await:t}},A(E.prototype),l(E.prototype,c,(function(){return this})),t.AsyncIterator=E,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new E(f(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},A(w),l(w,u,"Generator"),l(w,o,(function(){return this})),l(w,"toString",(function(){return "[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=S,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0);},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else {if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return "break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;k(r);}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:S(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},t}function c(t,e,r,n,i,o,a){try{var s=t[o](a),c=s.value;}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,i);}function u(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){c(o,n,i,a,s,"next",t);}function s(t){c(o,n,i,a,s,"throw",t);}a(void 0);}))}}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(i=function(t,e){if("object"!==a(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===a(i)?i:String(i)),n);}var i;}function h(t,e,r){return e&&f(t.prototype,e),r&&f(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function d(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&p(t,e);}function p(t,e){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},p(t,e)}function y(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return !1;if(Reflect.construct.sham)return !1;if("function"==typeof Proxy)return !0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return !1}}();return function(){var r,n=v(t);if(e){var i=v(this).constructor;r=Reflect.construct(n,arguments,i);}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===a(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function v(t){return v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},v(t)}var g=function(t){d(i,t);var e,r=y(i);function i(t,e,n){return l(this,i),r.call(this,t,e,n)}return h(i,[{key:"loadStreamData",value:(e=u(s().mark((function t(){var e,r=this,i=arguments;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=i.length>0&&void 0!==i[0]?i[0]:null,this._streamData=this._streamData||e,this.player.log.debug("es.upv.paella.htmlVideoFormat: loadStreamData"),this._sources=e.sources.html,this._currentQuality=0,this.isMainAudioPlayer||(this.video.muted=!0),this._sources.forEach((function(t){var e=t.src,i=t.mimetype;e=(0, n.resolveResourcePath)(r.player,e);var o=document.createElement("source");o.src=e,o.type=i,r.video.appendChild(o);})),this._endedCallback=this._endedCallback||function(){"function"==typeof r._videoEndedCallback&&r._videoEndedCallback();},this.video.addEventListener("ended",this._endedCallback),t.next=11,this.waitForLoaded();case 11:this.player.log.debug("es.upv.paella.htmlVideoFormat (".concat(this.streamData.content,"): video loaded and ready.")),this.saveDisabledProperties(this.video);case 13:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})}]),i}(o.Mp4Video),m=function(t){d(i,t);var e,r=y(i);function i(){return l(this,i),r.apply(this,arguments)}return h(i,[{key:"streamType",get:function(){return "html"}},{key:"isCompatible",value:function(t){var e=t.sources.html;return e&&e.some((function(t){return (0, o.supportsVideoType)(t.mimetype)}))}},{key:"getVideoInstance",value:(e=u(s().mark((function t(e,r){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new g(this.player,e,r));case 1:case"end":return t.stop()}}),t,this)}))),function(t,r){return e.apply(this,arguments)})},{key:"getCompatibleFileExtensions",value:function(){return ["m4v","mp4","ogg","webm","ogv"]}},{key:"getManifestData",value:function(t){var e=function(t){switch((0, n.getFileExtension)(t)){case"mp4":case"m4v":return "video/mp4";case"webm":return "video/webm";case"ogg":case"ogv":return "video/ogg";default:return null}};return {html:t.map((function(t){return {src:t,mimetype:e(t)}}))}}}]),i}(i.ZP);},4348:(t,e,r)=>{r.r(e),r.d(e,{ImageVideo:()=>b,default:()=>w});var n=r(646),i=(r(1401),r(625));function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function a(){a=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value;},i="function"==typeof Symbol?Symbol:{},s=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"");}catch(t){l=function(t,e,r){return t[e]=r};}function f(t,e,r,i){var o=e&&e.prototype instanceof p?e:p,a=Object.create(o.prototype),s=new C(i||[]);return n(a,"_invoke",{value:x(t,r,s)}),a}function h(t,e,r){try{return {type:"normal",arg:t.call(e,r)}}catch(t){return {type:"throw",arg:t}}}t.wrap=f;var d={};function p(){}function y(){}function v(){}var g={};l(g,s,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(S([])));b&&b!==e&&r.call(b,s)&&(g=b);var w=v.prototype=p.prototype=Object.create(g);function A(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}));}));}function E(t,e){function i(n,a,s,c){var u=h(t[n],t,a);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==o(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){i("next",t,s,c);}),(function(t){i("throw",t,s,c);})):e.resolve(f).then((function(t){l.value=t,s(l);}),(function(t){return i("throw",t,s,c)}))}c(u.arg);}var a;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){i(t,r,e,n);}))}return a=a?a.then(n,n):n()}});}function x(t,e,r){var n="suspendedStart";return function(i,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===i)throw o;return {value:void 0,done:!0}}for(r.method=i,r.arg=o;;){var a=r.delegate;if(a){var s=L(a,r);if(s){if(s===d)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg);}else "return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=h(t,e,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===d)continue;return {value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg);}}}function L(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,L(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),d;var i=h(n,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,d;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e);}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e;}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0);}function S(t){if(t){var e=t[s];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return {next:T}}function T(){return {value:void 0,done:!0}}return y.prototype=v,n(w,"constructor",{value:v,configurable:!0}),n(v,"constructor",{value:y,configurable:!0}),y.displayName=l(v,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return !!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,l(t,u,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return {__await:t}},A(E.prototype),l(E.prototype,c,(function(){return this})),t.AsyncIterator=E,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new E(f(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},A(w),l(w,u,"Generator"),l(w,s,(function(){return this})),l(w,"toString",(function(){return "[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=S,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0);},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else {if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return "break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;k(r);}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:S(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},t}function s(t,e,r,n,i,o,a){try{var s=t[o](a),c=s.value;}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,i);}function c(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){s(o,n,i,a,c,"next",t);}function c(t){s(o,n,i,a,c,"throw",t);}a(void 0);}))}}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(i=function(t,e){if("object"!==o(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===o(i)?i:String(i)),n);}var i;}function f(t,e,r){return e&&l(t.prototype,e),r&&l(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function h(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&d(t,e);}function d(t,e){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},d(t,e)}function p(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return !1;if(Reflect.construct.sham)return !1;if("function"==typeof Proxy)return !0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return !1}}();return function(){var r,n=y(t);if(e){var i=y(this).constructor;r=Reflect.construct(n,arguments,i);}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===o(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function y(t){return y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},y(t)}function v(t){var e=this,r=this._currentSource.frames[0];this._currentSource.frames.some((function(t){if(!(t.time<=e._currentTime))return !0;r=t;})),this.img.src=r.src;}function g(){var t=this;this._startTimestamp=Date.now(),function e(){t._timer=setTimeout(e,250);var r=Date.now(),n=r-t._startTimestamp;t._currentTime+=n/1e3,t._startTimestamp=r,v.apply(t,[t._currentTime]);}();}function m(){this._timer&&(clearTimeout(this._timer),this._timer=null);}var b=function(t){h(k,t);var e,r,n,o,s,l,d,y,b,w,A,E,x,L,_=p(k);function k(t,e){var r;return u(this,k),(r=_.call(this,"img",t,e))._currentTime=0,r._startTimesamp=0,r._playbackRate=1,r._timer=null,r.video=r.domElement,r}return f(k,[{key:"play",value:(L=c(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:g.apply(this);case 1:case"end":return t.stop()}}),t,this)}))),function(){return L.apply(this,arguments)})},{key:"pause",value:(x=c(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:m.apply(this);case 1:case"end":return t.stop()}}),t,this)}))),function(){return x.apply(this,arguments)})},{key:"duration",value:(E=c(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this._currentSource.duration);case 1:case"end":return t.stop()}}),t,this)}))),function(){return E.apply(this,arguments)})},{key:"currentTimeSync",get:function(){return this._currentTime}},{key:"currentTime",value:(A=c(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this._currentTime);case 1:case"end":return t.stop()}}),t,this)}))),function(){return A.apply(this,arguments)})},{key:"setCurrentTime",value:(w=c(a().mark((function t(e){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this._currentTime=e,v.apply(this,[e]);case 2:case"end":return t.stop()}}),t,this)}))),function(t){return w.apply(this,arguments)})},{key:"volume",value:(b=c(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",0);case 1:case"end":return t.stop()}}),t)}))),function(){return b.apply(this,arguments)})},{key:"setVolume",value:(y=c(a().mark((function t(e){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)}))),function(t){return y.apply(this,arguments)})},{key:"paused",value:(d=c(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",null===this._timer);case 1:case"end":return t.stop()}}),t,this)}))),function(){return d.apply(this,arguments)})},{key:"playbackRate",value:(l=c(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this._playbackRate);case 1:case"end":return t.stop()}}),t,this)}))),function(){return l.apply(this,arguments)})},{key:"setPlaybackRate",value:(s=c(a().mark((function t(e){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this._playbackRate=e;case 1:case"end":return t.stop()}}),t,this)}))),function(t){return s.apply(this,arguments)})},{key:"getQualities",value:(o=c(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this._qualities);case 1:case"end":return t.stop()}}),t,this)}))),function(){return o.apply(this,arguments)})},{key:"setQuality",value:(n=c(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)}))),function(){return n.apply(this,arguments)})},{key:"currentQuality",get:function(){return this._currentQuality}},{key:"getDimensions",value:(r=c(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this._currentSource.res);case 1:case"end":return t.stop()}}),t,this)}))),function(){return r.apply(this,arguments)})},{key:"loadStreamData",value:(e=c(a().mark((function t(e){var r=this;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this._sources=e.sources.image,this._qualities=this._sources.map((function(t){return new i.Z({src:t.frames[0].src,label:"".concat(t.res.w,"x").concat(t.res.h),shortLabel:"".concat(t.res.h,"p"),width:t.res.w,height:t.res.h})})),this._currentQuality=this._qualities.length-1,this._qualities.forEach((function(t,e){r._qualities[r._currentQuality].compare(t)>0&&(r._currentQuality=e);})),this._currentSource=this._sources[this._currentQuality],this._sources.forEach((function(t){t.frames.sort((function(t,e){return t.time-e.time}));})),t.abrupt("return",!0);case 7:case"end":return t.stop()}}),t,this)}))),function(t){return e.apply(this,arguments)})}]),k}(n.nk),w=function(t){h(n,t);var e,r=p(n);function n(){return u(this,n),r.apply(this,arguments)}return f(n,[{key:"streamType",get:function(){return "image"}},{key:"isCompatible",value:function(t){return null!=t.sources.image}},{key:"getVideoInstance",value:(e=c(a().mark((function t(e,r){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new b(this.player,e,this.config,r));case 1:case"end":return t.stop()}}),t,this)}))),function(t,r){return e.apply(this,arguments)})}]),n}(n.ZP);},2604:(t,e,r)=>{r.r(e),r.d(e,{Mp4Video:()=>m,default:()=>b,supportsVideoType:()=>g});var n=r(646),i=r(1401);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function a(){a=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value;},i="function"==typeof Symbol?Symbol:{},s=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"");}catch(t){l=function(t,e,r){return t[e]=r};}function f(t,e,r,i){var o=e&&e.prototype instanceof p?e:p,a=Object.create(o.prototype),s=new C(i||[]);return n(a,"_invoke",{value:x(t,r,s)}),a}function h(t,e,r){try{return {type:"normal",arg:t.call(e,r)}}catch(t){return {type:"throw",arg:t}}}t.wrap=f;var d={};function p(){}function y(){}function v(){}var g={};l(g,s,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(S([])));b&&b!==e&&r.call(b,s)&&(g=b);var w=v.prototype=p.prototype=Object.create(g);function A(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}));}));}function E(t,e){function i(n,a,s,c){var u=h(t[n],t,a);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==o(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){i("next",t,s,c);}),(function(t){i("throw",t,s,c);})):e.resolve(f).then((function(t){l.value=t,s(l);}),(function(t){return i("throw",t,s,c)}))}c(u.arg);}var a;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){i(t,r,e,n);}))}return a=a?a.then(n,n):n()}});}function x(t,e,r){var n="suspendedStart";return function(i,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===i)throw o;return {value:void 0,done:!0}}for(r.method=i,r.arg=o;;){var a=r.delegate;if(a){var s=L(a,r);if(s){if(s===d)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg);}else "return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=h(t,e,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===d)continue;return {value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg);}}}function L(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,L(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),d;var i=h(n,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,d;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e);}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e;}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0);}function S(t){if(t){var e=t[s];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return {next:T}}function T(){return {value:void 0,done:!0}}return y.prototype=v,n(w,"constructor",{value:v,configurable:!0}),n(v,"constructor",{value:y,configurable:!0}),y.displayName=l(v,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return !!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,l(t,u,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return {__await:t}},A(E.prototype),l(E.prototype,c,(function(){return this})),t.AsyncIterator=E,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new E(f(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},A(w),l(w,u,"Generator"),l(w,s,(function(){return this})),l(w,"toString",(function(){return "[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=S,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0);},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else {if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return "break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;k(r);}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:S(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},t}function s(t,e,r,n,i,o,a){try{var s=t[o](a),c=s.value;}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,i);}function c(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){s(o,n,i,a,c,"next",t);}function c(t){s(o,n,i,a,c,"throw",t);}a(void 0);}))}}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(i=function(t,e){if("object"!==o(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===o(i)?i:String(i)),n);}var i;}function f(t,e,r){return e&&l(t.prototype,e),r&&l(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function h(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&d(t,e);}function d(t,e){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},d(t,e)}function p(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return !1;if(Reflect.construct.sham)return !1;if("function"==typeof Proxy)return !0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return !1}}();return function(){var r,n=y(t);if(e){var i=y(this).constructor;r=Reflect.construct(n,arguments,i);}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===o(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function y(t){return y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},y(t)}var v=null;function g(t){if(!t)return !1;v||(v=document.createElement("video"));var e=v.canPlayType(t);return "maybe"===e||"probably"===e}var m=function(t){h(k,t);var e,r,n,o,s,l,d,y,v,g,m,b,w,A,E,x,L,_=p(k);function k(t,e,r,n){var i,o;u(this,k),(o=_.call(this,"video",t,e))._config=n||{};var a=null!==(i=o._config.crossOrigin)&&void 0!==i?i:"";return o.element.setAttribute("playsinline","true"),!1!==a&&o.element.setAttribute("crossorigin",a),o.isMainAudio=r,o.element.setAttribute("autoplay","true"),o.element.autoplay=!0,r||(o.element.muted=!0),o._videoEnabled=!0,o}return f(k,[{key:"play",value:(L=c(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this._videoEnabled){t.next=6;break}return t.next=3,this.waitForLoaded();case 3:return t.abrupt("return",this.video.play());case 6:this._disabledProperties.paused=!1;case 7:case"end":return t.stop()}}),t,this)}))),function(){return L.apply(this,arguments)})},{key:"pause",value:(x=c(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this._videoEnabled){t.next=6;break}return t.next=3,this.waitForLoaded();case 3:return t.abrupt("return",this.video.pause());case 6:this._disabledProperties.paused=!0;case 7:case"end":return t.stop()}}),t,this)}))),function(){return x.apply(this,arguments)})},{key:"duration",value:(E=c(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this._videoEnabled){t.next=6;break}return t.next=3,this.waitForLoaded();case 3:return t.abrupt("return",this.video.duration);case 6:return t.abrupt("return",this._disabledProperties.duration);case 7:case"end":return t.stop()}}),t,this)}))),function(){return E.apply(this,arguments)})},{key:"currentTimeSync",get:function(){return this._videoEnabled?this.ready?this.video.currentTime:-1:this._disabledProperties.currentTime}},{key:"currentTime",value:(A=c(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this._videoEnabled){t.next=6;break}return t.next=3,this.waitForLoaded();case 3:return t.abrupt("return",this.currentTimeSync);case 6:return t.abrupt("return",this._disabledProperties.currentTime);case 7:case"end":return t.stop()}}),t,this)}))),function(){return A.apply(this,arguments)})},{key:"setCurrentTime",value:(w=c(a().mark((function t(e){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this._videoEnabled){t.next=6;break}return t.next=3,this.waitForLoaded();case 3:return t.abrupt("return",this.video.currentTime=e);case 6:return this._disabledProperties.currentTime=e,t.abrupt("return",e);case 8:case"end":return t.stop()}}),t,this)}))),function(t){return w.apply(this,arguments)})},{key:"volume",value:(b=c(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this._videoEnabled){t.next=6;break}return t.next=3,this.waitForLoaded();case 3:return t.abrupt("return",this.video.volume);case 6:return t.abrupt("return",this._disabledProperties.volume);case 7:case"end":return t.stop()}}),t,this)}))),function(){return b.apply(this,arguments)})},{key:"setVolume",value:(m=c(a().mark((function t(e){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this._videoEnabled){t.next=7;break}return t.next=3,this.waitForLoaded();case 3:return 0===e?this.video.setAttribute("muted",!0):this.video.removeAttribute("muted"),t.abrupt("return",this.video.volume=e);case 7:return this._disabledProperties.volume=e,t.abrupt("return",e);case 9:case"end":return t.stop()}}),t,this)}))),function(t){return m.apply(this,arguments)})},{key:"paused",value:(g=c(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this._videoEnabled){t.next=6;break}return t.next=3,this.waitForLoaded();case 3:return t.abrupt("return",this.video.paused);case 6:return t.abrupt("return",this._disabledProperties.paused);case 7:case"end":return t.stop()}}),t,this)}))),function(){return g.apply(this,arguments)})},{key:"playbackRate",value:(v=c(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this._videoEnabled){t.next=8;break}return t.next=3,this.waitForLoaded();case 3:return t.next=5,this.video.playbackRate;case 5:return t.abrupt("return",t.sent);case 8:return t.abrupt("return",this._disabledProperties.playbackRate);case 9:case"end":return t.stop()}}),t,this)}))),function(){return v.apply(this,arguments)})},{key:"setPlaybackRate",value:(y=c(a().mark((function t(e){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this._videoEnabled){t.next=6;break}return t.next=3,this.waitForLoaded();case 3:return t.abrupt("return",this.video.playbackRate=e);case 6:return this._disabledProperties.playbackRate=e,t.abrupt("return",e);case 8:case"end":return t.stop()}}),t,this)}))),function(t){return y.apply(this,arguments)})},{key:"getQualities",value:(d=c(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)}))),function(){return d.apply(this,arguments)})},{key:"setQuality",value:(l=c(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)}))),function(){return l.apply(this,arguments)})},{key:"currentQuality",get:function(){return 0}},{key:"getDimensions",value:(s=c(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this._videoEnabled){t.next=6;break}return t.next=3,this.waitForLoaded();case 3:return t.abrupt("return",{w:this.video.videoWidth,h:this.video.videoHeight});case 6:return t.abrupt("return",{w:this._disabledProperties.videoWidth,h:this._disabledProperties.videoHeight});case 7:case"end":return t.stop()}}),t,this)}))),function(){return s.apply(this,arguments)})},{key:"saveDisabledProperties",value:function(t){this._disabledProperties={duration:t.duration,volume:t.volume,videoWidth:t.videoWidth,videoHeight:t.videoHeight,playbackRate:t.playbackRate,paused:t.paused,currentTime:t.currentTime};}},{key:"loadStreamData",value:(o=c(a().mark((function t(){var e,r=this,n=arguments;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=n.length>0&&void 0!==n[0]?n[0]:null,this._streamData=this._streamData||e,this.player.log.debug("es.upv.paella.mp4VideoFormat: loadStreamData"),this._sources=null,this._currentQuality=0,this._sources=e.sources.mp4,this._sources.sort((function(t,e){return Number(t.res.w)-Number(e.res.w)})),this._currentQuality=this._sources.length-1,this._currentSource=this._sources[this._currentQuality],this.isMainAudioPlayer||(this.video.muted=!0),this._initialVolume&&(this.video.volume=this._initialVolume,0===this._initialVolume&&(this.video.muted=!0)),this.video.src=(0, i.resolveResourcePath)(this.player,this._currentSource.src),this._endedCallback=this._endedCallback||function(){"function"==typeof r._videoEndedCallback&&r._videoEndedCallback();},this.video.addEventListener("ended",this._endedCallback),t.next=16,this.waitForLoaded();case 16:this.player.log.debug("es.upv.paella.mp4VideoFormat (".concat(this.streamData.content,"): video loaded and ready.")),this.saveDisabledProperties(this.video);case 18:case"end":return t.stop()}}),t,this)}))),function(){return o.apply(this,arguments)})},{key:"clearStreamData",value:(n=c(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.video.src="",this.video.removeEventListener("ended",this._endedCallback),this._ready=!1;case 3:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})},{key:"isEnabled",get:function(){return this._videoEnabled}},{key:"enable",value:(r=c(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this._videoEnabled=!0;case 1:case"end":return t.stop()}}),t,this)}))),function(){return r.apply(this,arguments)})},{key:"disable",value:(e=c(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.isMainAudio?this.player.log.debug("video.disable() - the video is not disabled because it is the main audio source."):this._videoEnabled=!1,t.abrupt("return",this._videoEnabled);case 2:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})},{key:"waitForLoaded",value:function(){var t=this;return new Promise((function(e,r){t.ready?e():function n(){t._waitTimer&&clearTimeout(t._waitTimer),t._waitTimer=null,t.video.error?r(new Error(t.player.translate("Error loading video: $1. Code: $2 $3",[t.video.src,t.video.error,t.video.error.message]))):t.video.readyState>=2?(t.video.pause(),t._ready=!0,e()):t._waitTimer=setTimeout((function(){return n()}),100);}();}))}}]),k}(n.nk),b=function(t){h(n,t);var e,r=p(n);function n(){return u(this,n),r.apply(this,arguments)}return f(n,[{key:"streamType",get:function(){return "mp4"}},{key:"isCompatible",value:function(t){var e,r=t.sources.mp4;return r&&g(null===(e=r[0])||void 0===e?void 0:e.mimetype)}},{key:"getVideoInstance",value:(e=c(a().mark((function t(e,r){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new m(this.player,e,r,this.config));case 1:case"end":return t.stop()}}),t,this)}))),function(t,r){return e.apply(this,arguments)})},{key:"getCompatibleFileExtensions",value:function(){return ["m4v","mp4"]}},{key:"getManifestData",value:function(t){return {mp4:t.map((function(t){return {src:t,mimetype:"video/mp4"}}))}}}]),n}(n.ZP);},372:(t,e,r)=>{r.d(e,{Z:()=>s});var n=r(7537),i=r.n(n),o=r(3645),a=r.n(o)()(i());a.push([t.id,".button-group {\r\n}\r\n\r\n.button-group-title {\r\n    font-family: sans-serif;\r\n    text-align: center;\r\n    padding: 5px;\r\n    border-bottom: 1px solid #938e8e;\r\n}\r\n\r\n.button-group .button-plugin-container {\r\n    display: inline;\r\n}\r\n\r\n.button-group .button-plugin-wrapper {\r\n    display: flex;\r\n    flex-direction: row;\r\n    align-content: center;\r\n    align-items: center;\r\n}\r\n\r\n.button-group .button-plugin-container button {\r\n\twidth: 40px;\r\n\theight: 40px;\r\n\tdisplay: block;\r\n\tbackground: none;\r\n\tborder: none;\r\n\tfloat: left;\r\n}\r\n\r\n.button-group button:hover {\r\n\tbackground-color: var(--secondary-bg-color-hover);\r\n}\r\n\r\n.button-group button:active {\r\n\tbackground-color: var(--main-bg-color);\r\n}\r\n\r\n.button-group button i {\r\n\tbackground-size: 50% 50%;\r\n\twidth: 20px;\r\n\theight: 20px;\r\n\tdisplay: block;\r\n\tbackground-repeat: no-repeat;\r\n\tbackground-position: 3px 7px;\r\n\tmargin-left: 5px;\r\n}\r\n\r\n/* Fix default iPad button padding */\r\n.button-group .button-plugin-container button {\r\n\tpadding: 2px 6px 3px 6px;\r\n}\r\n\r\n.video-container .button-plugin-container button {\r\n\tpadding: 2px 6px 3px 6px;\r\n}\r\n\r\n.button-group span.button-title {\r\n    display: block;\r\n}\r\n\r\n.button-group span.button-title.button-title-small {\r\n\tmargin-top: -16px;\r\n    font-size: 8px;\r\n}\r\n\r\n.button-group span.button-title.button-title-medium {\r\n\tmargin-top: -17px;\r\n    font-size: 10px;\r\n}\r\n\r\n.button-group span.button-title.button-title-large {\r\n\tmargin-top: -19px;\r\n    font-size: 12px;\r\n}\r\n\r\n.button-group span.button-title:empty {\r\n\tmargin-top: 0 !important;\r\n}\r\n\r\n.button-group button.dynamic-width span {\r\n    margin-top: 0px;\r\n    color: var(--main-fg-color);\r\n    padding-left: 3px;\r\n    padding-right: 3px;\r\n}\r\n\r\n.button-group button.dynamic-width span.button-title-small {\r\n    margin-top: 0px;\r\n}\r\n\r\n.button-group button.dynamic-width span.button-title-medium {\r\n    margin-top: 0px;\r\n}\r\n\r\n.button-group button.dynamic-width span.button-title-large {\r\n    margin-top: 0px;\r\n}\r\n\r\n\r\n.button-group button i svg {\r\n\twidth: 100%;\r\n    height: 100%;\r\n    fill: var(--main-fg-color);\r\n\tcolor: var(--main-fg-color);\r\n}\r\n\r\n.button-group .button-plugin-wrapper .button-description {\r\n    font-family: sans-serif;\r\n    margin-left: 4px;\r\n\tcursor: pointer;\r\n\theight: 40px;\r\n\tline-height: 40px;\r\n\tpadding-right: 20px;\r\n\tbox-sizing: border-box;\r\n\tcolor: var(--main-fg-color);\r\n\tuser-select: none;\r\n}\r\n\r\n.button-group .button-plugin-wrapper .button-description:hover {\r\n    color: var(--main-fg-color);\r\n\ttext-shadow:0px 0px 2px var(--main-fg-color);\r\n}","",{version:3,sources:["webpack://./src/css/ButtonGroup.css"],names:[],mappings:"AAAA;AACA;;AAEA;IACI,uBAAuB;IACvB,kBAAkB;IAClB,YAAY;IACZ,gCAAgC;AACpC;;AAEA;IACI,eAAe;AACnB;;AAEA;IACI,aAAa;IACb,mBAAmB;IACnB,qBAAqB;IACrB,mBAAmB;AACvB;;AAEA;CACC,WAAW;CACX,YAAY;CACZ,cAAc;CACd,gBAAgB;CAChB,YAAY;CACZ,WAAW;AACZ;;AAEA;CACC,iDAAiD;AAClD;;AAEA;CACC,sCAAsC;AACvC;;AAEA;CACC,wBAAwB;CACxB,WAAW;CACX,YAAY;CACZ,cAAc;CACd,4BAA4B;CAC5B,4BAA4B;CAC5B,gBAAgB;AACjB;;AAEA,oCAAoC;AACpC;CACC,wBAAwB;AACzB;;AAEA;CACC,wBAAwB;AACzB;;AAEA;IACI,cAAc;AAClB;;AAEA;CACC,iBAAiB;IACd,cAAc;AAClB;;AAEA;CACC,iBAAiB;IACd,eAAe;AACnB;;AAEA;CACC,iBAAiB;IACd,eAAe;AACnB;;AAEA;CACC,wBAAwB;AACzB;;AAEA;IACI,eAAe;IACf,2BAA2B;IAC3B,iBAAiB;IACjB,kBAAkB;AACtB;;AAEA;IACI,eAAe;AACnB;;AAEA;IACI,eAAe;AACnB;;AAEA;IACI,eAAe;AACnB;;;AAGA;CACC,WAAW;IACR,YAAY;IACZ,0BAA0B;CAC7B,2BAA2B;AAC5B;;AAEA;IACI,uBAAuB;IACvB,gBAAgB;CACnB,eAAe;CACf,YAAY;CACZ,iBAAiB;CACjB,mBAAmB;CACnB,sBAAsB;CACtB,2BAA2B;CAC3B,iBAAiB;AAClB;;AAEA;IACI,2BAA2B;CAC9B,4CAA4C;AAC7C",sourcesContent:[".button-group {\r\n}\r\n\r\n.button-group-title {\r\n    font-family: sans-serif;\r\n    text-align: center;\r\n    padding: 5px;\r\n    border-bottom: 1px solid #938e8e;\r\n}\r\n\r\n.button-group .button-plugin-container {\r\n    display: inline;\r\n}\r\n\r\n.button-group .button-plugin-wrapper {\r\n    display: flex;\r\n    flex-direction: row;\r\n    align-content: center;\r\n    align-items: center;\r\n}\r\n\r\n.button-group .button-plugin-container button {\r\n\twidth: 40px;\r\n\theight: 40px;\r\n\tdisplay: block;\r\n\tbackground: none;\r\n\tborder: none;\r\n\tfloat: left;\r\n}\r\n\r\n.button-group button:hover {\r\n\tbackground-color: var(--secondary-bg-color-hover);\r\n}\r\n\r\n.button-group button:active {\r\n\tbackground-color: var(--main-bg-color);\r\n}\r\n\r\n.button-group button i {\r\n\tbackground-size: 50% 50%;\r\n\twidth: 20px;\r\n\theight: 20px;\r\n\tdisplay: block;\r\n\tbackground-repeat: no-repeat;\r\n\tbackground-position: 3px 7px;\r\n\tmargin-left: 5px;\r\n}\r\n\r\n/* Fix default iPad button padding */\r\n.button-group .button-plugin-container button {\r\n\tpadding: 2px 6px 3px 6px;\r\n}\r\n\r\n.video-container .button-plugin-container button {\r\n\tpadding: 2px 6px 3px 6px;\r\n}\r\n\r\n.button-group span.button-title {\r\n    display: block;\r\n}\r\n\r\n.button-group span.button-title.button-title-small {\r\n\tmargin-top: -16px;\r\n    font-size: 8px;\r\n}\r\n\r\n.button-group span.button-title.button-title-medium {\r\n\tmargin-top: -17px;\r\n    font-size: 10px;\r\n}\r\n\r\n.button-group span.button-title.button-title-large {\r\n\tmargin-top: -19px;\r\n    font-size: 12px;\r\n}\r\n\r\n.button-group span.button-title:empty {\r\n\tmargin-top: 0 !important;\r\n}\r\n\r\n.button-group button.dynamic-width span {\r\n    margin-top: 0px;\r\n    color: var(--main-fg-color);\r\n    padding-left: 3px;\r\n    padding-right: 3px;\r\n}\r\n\r\n.button-group button.dynamic-width span.button-title-small {\r\n    margin-top: 0px;\r\n}\r\n\r\n.button-group button.dynamic-width span.button-title-medium {\r\n    margin-top: 0px;\r\n}\r\n\r\n.button-group button.dynamic-width span.button-title-large {\r\n    margin-top: 0px;\r\n}\r\n\r\n\r\n.button-group button i svg {\r\n\twidth: 100%;\r\n    height: 100%;\r\n    fill: var(--main-fg-color);\r\n\tcolor: var(--main-fg-color);\r\n}\r\n\r\n.button-group .button-plugin-wrapper .button-description {\r\n    font-family: sans-serif;\r\n    margin-left: 4px;\r\n\tcursor: pointer;\r\n\theight: 40px;\r\n\tline-height: 40px;\r\n\tpadding-right: 20px;\r\n\tbox-sizing: border-box;\r\n\tcolor: var(--main-fg-color);\r\n\tuser-select: none;\r\n}\r\n\r\n.button-group .button-plugin-wrapper .button-description:hover {\r\n    color: var(--main-fg-color);\r\n\ttext-shadow:0px 0px 2px var(--main-fg-color);\r\n}"],sourceRoot:""}]);const s=a;},7046:(t,e,r)=>{r.d(e,{Z:()=>s});var n=r(7537),i=r.n(n),o=r(3645),a=r.n(o)()(i());a.push([t.id,".captions-canvas {\r\n    position: absolute;\r\n    top: 0px;\r\n    left: 0px;\r\n    bottom: 0px;\r\n    width: 100%;\r\n    height: 100%;\r\n    z-index: 50;\r\n    pointer-events: none;\r\n}\r\n\r\n.captions-canvas .text-container {\r\n    width: 80%;\r\n    background-color: var(--main-bg-color);\r\n    border-radius: 5px;\r\n    color: var(--main-fg-color);\r\n    position: absolute;\r\n    bottom: 5px;\r\n    left: 10%;\r\n    right: 10%;\r\n    box-sizing: border-box;\r\n    padding: 10px;\r\n    font-size: 15px;\r\n    text-align: center;\r\n}\r\n\r\n.captions-canvas.visible-ui .text-container {\r\n    bottom: 55px;\r\n}\r\n\r\n.captions-canvas.size-s .text-container {\r\n    font-size: 18px;\r\n}\r\n\r\n.captions-canvas.size-m .text-container {\r\n    font-size: 20px;\r\n}\r\n\r\n.captions-canvas.size-l .text-container {\r\n    font-size: 24px;\r\n}\r\n\r\n.captions-canvas.size-xl .text-container {\r\n    font-size: 30px;\r\n}\r\n\r\n.captions-canvas.size-xxl .text-container {\r\n    font-size: 34px;\r\n}\r\n","",{version:3,sources:["webpack://./src/css/CaptionCanvas.css"],names:[],mappings:"AAAA;IACI,kBAAkB;IAClB,QAAQ;IACR,SAAS;IACT,WAAW;IACX,WAAW;IACX,YAAY;IACZ,WAAW;IACX,oBAAoB;AACxB;;AAEA;IACI,UAAU;IACV,sCAAsC;IACtC,kBAAkB;IAClB,2BAA2B;IAC3B,kBAAkB;IAClB,WAAW;IACX,SAAS;IACT,UAAU;IACV,sBAAsB;IACtB,aAAa;IACb,eAAe;IACf,kBAAkB;AACtB;;AAEA;IACI,YAAY;AAChB;;AAEA;IACI,eAAe;AACnB;;AAEA;IACI,eAAe;AACnB;;AAEA;IACI,eAAe;AACnB;;AAEA;IACI,eAAe;AACnB;;AAEA;IACI,eAAe;AACnB",sourcesContent:[".captions-canvas {\r\n    position: absolute;\r\n    top: 0px;\r\n    left: 0px;\r\n    bottom: 0px;\r\n    width: 100%;\r\n    height: 100%;\r\n    z-index: 50;\r\n    pointer-events: none;\r\n}\r\n\r\n.captions-canvas .text-container {\r\n    width: 80%;\r\n    background-color: var(--main-bg-color);\r\n    border-radius: 5px;\r\n    color: var(--main-fg-color);\r\n    position: absolute;\r\n    bottom: 5px;\r\n    left: 10%;\r\n    right: 10%;\r\n    box-sizing: border-box;\r\n    padding: 10px;\r\n    font-size: 15px;\r\n    text-align: center;\r\n}\r\n\r\n.captions-canvas.visible-ui .text-container {\r\n    bottom: 55px;\r\n}\r\n\r\n.captions-canvas.size-s .text-container {\r\n    font-size: 18px;\r\n}\r\n\r\n.captions-canvas.size-m .text-container {\r\n    font-size: 20px;\r\n}\r\n\r\n.captions-canvas.size-l .text-container {\r\n    font-size: 24px;\r\n}\r\n\r\n.captions-canvas.size-xl .text-container {\r\n    font-size: 30px;\r\n}\r\n\r\n.captions-canvas.size-xxl .text-container {\r\n    font-size: 34px;\r\n}\r\n"],sourceRoot:""}]);const s=a;},3189:(t,e,r)=>{r.d(e,{Z:()=>s});var n=r(7537),i=r.n(n),o=r(3645),a=r.n(o)()(i());a.push([t.id,"\r\ndiv.error-container {\r\n    width: 100%;\r\n    height: 100%;\r\n    position: absolute;\r\n    z-index: 1000;\r\n    pointer-events: none;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    top: 0px;\r\n    bottom: 0px;\r\n}\r\n\r\ndiv.error-container div {\r\n    text-align: center;\r\n}\r\n\r\ndiv.error-container i {\r\n    width: 350px;\r\n    height: 350px;\r\n    display: block;\r\n    margin-left: auto;\r\n    margin-right: auto;\r\n}\r\n\r\n@media (max-width: 500px) {\r\n    div.error-container i {\r\n        width: 100px;\r\n        height: 100px;\r\n    }\r\n}\r\n\r\n@media (max-width: 800px) {\r\n    div.error-container i {\r\n        width: 200px;\r\n        height: 200px;\r\n    }\r\n}\r\n\r\n","",{version:3,sources:["webpack://./src/css/Error.css"],names:[],mappings:";AACA;IACI,WAAW;IACX,YAAY;IACZ,kBAAkB;IAClB,aAAa;IACb,oBAAoB;IACpB,aAAa;IACb,mBAAmB;IACnB,uBAAuB;IACvB,QAAQ;IACR,WAAW;AACf;;AAEA;IACI,kBAAkB;AACtB;;AAEA;IACI,YAAY;IACZ,aAAa;IACb,cAAc;IACd,iBAAiB;IACjB,kBAAkB;AACtB;;AAEA;IACI;QACI,YAAY;QACZ,aAAa;IACjB;AACJ;;AAEA;IACI;QACI,YAAY;QACZ,aAAa;IACjB;AACJ",sourcesContent:["\r\ndiv.error-container {\r\n    width: 100%;\r\n    height: 100%;\r\n    position: absolute;\r\n    z-index: 1000;\r\n    pointer-events: none;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    top: 0px;\r\n    bottom: 0px;\r\n}\r\n\r\ndiv.error-container div {\r\n    text-align: center;\r\n}\r\n\r\ndiv.error-container i {\r\n    width: 350px;\r\n    height: 350px;\r\n    display: block;\r\n    margin-left: auto;\r\n    margin-right: auto;\r\n}\r\n\r\n@media (max-width: 500px) {\r\n    div.error-container i {\r\n        width: 100px;\r\n        height: 100px;\r\n    }\r\n}\r\n\r\n@media (max-width: 800px) {\r\n    div.error-container i {\r\n        width: 200px;\r\n        height: 200px;\r\n    }\r\n}\r\n\r\n"],sourceRoot:""}]);const s=a;},5361:(t,e,r)=>{r.d(e,{Z:()=>s});var n=r(7537),i=r.n(n),o=r(3645),a=r.n(o)()(i());a.push([t.id,"\r\n@media (forced-colors: active) {\r\n    /* selected menu item */\r\n    ul.menu-button-content li.menu-button-item button.selected {\r\n\t\tborder: 2px solid white;\r\n\t}\r\n\r\n    /* Progress indicator */\r\n    .progress-indicator-content {\r\n        border: 5px solid white;\r\n        box-sizing: border-box;\r\n    }\r\n\r\n    .progress-indicator-remaining {\r\n        border: 3px solid gray;\r\n        box-sizing: border-box;\r\n    }\r\n\r\n    .progress-indicator-handler {\r\n        border: 5px solid white;\r\n        box-sizing: border-box;\r\n    }\r\n    \r\n\r\n}\r\n","",{version:3,sources:["webpack://./src/css/ForcedColors.css"],names:[],mappings:";AACA;IACI,uBAAuB;IACvB;EACF,uBAAuB;CACxB;;IAEG,uBAAuB;IACvB;QACI,uBAAuB;QACvB,sBAAsB;IAC1B;;IAEA;QACI,sBAAsB;QACtB,sBAAsB;IAC1B;;IAEA;QACI,uBAAuB;QACvB,sBAAsB;IAC1B;;;AAGJ",sourcesContent:["\r\n@media (forced-colors: active) {\r\n    /* selected menu item */\r\n    ul.menu-button-content li.menu-button-item button.selected {\r\n\t\tborder: 2px solid white;\r\n\t}\r\n\r\n    /* Progress indicator */\r\n    .progress-indicator-content {\r\n        border: 5px solid white;\r\n        box-sizing: border-box;\r\n    }\r\n\r\n    .progress-indicator-remaining {\r\n        border: 3px solid gray;\r\n        box-sizing: border-box;\r\n    }\r\n\r\n    .progress-indicator-handler {\r\n        border: 5px solid white;\r\n        box-sizing: border-box;\r\n    }\r\n    \r\n\r\n}\r\n"],sourceRoot:""}]);const s=a;},7649:(t,e,r)=>{r.d(e,{Z:()=>s});var n=r(7537),i=r.n(n),o=r(3645),a=r.n(o)()(i());a.push([t.id,"\r\ndiv.loader-container {\r\n    width: 100%;\r\n    height: 100%;\r\n    position: absolute;\r\n    z-index: 1000;\r\n    pointer-events: none;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    background-color: rgba(255, 255, 255, 0.6);\r\n}\r\n\r\ndiv.loader-container i {\r\n    width: 350px;\r\n    height: 350px;\r\n    display: block;\r\n    animation: spin 1s linear infinite;\r\n}\r\n\r\n@keyframes spin {\r\n    100% {\r\n        transform: rotate(360deg);\r\n    }\r\n}\r\n\r\n@media (max-width: 500px) {\r\n    div.loader-container i {\r\n        width: 100px;\r\n        height: 100px;\r\n    }\r\n}\r\n\r\n@media (max-width: 800px) {\r\n    div.loader-container i {\r\n        width: 200px;\r\n        height: 200px;\r\n    }\r\n}\r\n\r\n","",{version:3,sources:["webpack://./src/css/Loader.css"],names:[],mappings:";AACA;IACI,WAAW;IACX,YAAY;IACZ,kBAAkB;IAClB,aAAa;IACb,oBAAoB;IACpB,aAAa;IACb,mBAAmB;IACnB,uBAAuB;IACvB,0CAA0C;AAC9C;;AAEA;IACI,YAAY;IACZ,aAAa;IACb,cAAc;IACd,kCAAkC;AACtC;;AAEA;IACI;QACI,yBAAyB;IAC7B;AACJ;;AAEA;IACI;QACI,YAAY;QACZ,aAAa;IACjB;AACJ;;AAEA;IACI;QACI,YAAY;QACZ,aAAa;IACjB;AACJ",sourcesContent:["\r\ndiv.loader-container {\r\n    width: 100%;\r\n    height: 100%;\r\n    position: absolute;\r\n    z-index: 1000;\r\n    pointer-events: none;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    background-color: rgba(255, 255, 255, 0.6);\r\n}\r\n\r\ndiv.loader-container i {\r\n    width: 350px;\r\n    height: 350px;\r\n    display: block;\r\n    animation: spin 1s linear infinite;\r\n}\r\n\r\n@keyframes spin {\r\n    100% {\r\n        transform: rotate(360deg);\r\n    }\r\n}\r\n\r\n@media (max-width: 500px) {\r\n    div.loader-container i {\r\n        width: 100px;\r\n        height: 100px;\r\n    }\r\n}\r\n\r\n@media (max-width: 800px) {\r\n    div.loader-container i {\r\n        width: 200px;\r\n        height: 200px;\r\n    }\r\n}\r\n\r\n"],sourceRoot:""}]);const s=a;},1872:(t,e,r)=>{r.d(e,{Z:()=>s});var n=r(7537),i=r.n(n),o=r(3645),a=r.n(o)()(i());a.push([t.id,"\r\nul.menu-button-content {\r\n\tlist-style-type: none;\r\n\tmargin: 0;\r\n\tpadding: 0;\r\n}\r\n\r\n.menu-button-title {\r\n\tlist-style: none;\r\n    font-family: sans-serif;\r\n    text-align: center;\r\n    padding: 5px;\r\n    border-bottom: 1px solid #938e8e;\r\n}\r\n\r\nul.menu-button-content li.menu-button-item {\r\n\tmin-width:40px;\r\n}\r\n\r\nul.menu-button-content li.menu-button-item button {\r\n\tbackground: none;\r\n\tborder: none;\r\n\twidth: 100%;\r\n\tcolor: var(--main-fg-color);\r\n\tdisplay: flex;\r\n\tjustify-content: space-around;\r\n}\r\n\r\nul.menu-button-content li.menu-button-item button:hover {\r\n\tbackground-color: var(--secondary-bg-color);\r\n}\r\n\r\nul.menu-button-content li.menu-button-item button.selected {\r\n\tbackground-color: var(--highlight-bg-color);\r\n}\r\n\r\nul.menu-button-content li.menu-button-item button.selected:hover {\r\n\tbackground-color: var(--highlight-bg-color-hover);\r\n}\r\n\r\nul.menu-button-content li.menu-button-item button i.menu-icon {\r\n\tpointer-events: none;\r\n}\r\n\r\nul.menu-button-content li.menu-button-item button i.menu-icon svg {\r\n\twidth: 100%;\r\n    height: 100%;\r\n    fill: var(--main-fg-color);\r\n\tcolor: var(--main-fg-color);\r\n\theight: 40px;\r\n}\r\n\r\nul.menu-button-content li.menu-button-item button span.menu-title {\r\n\theight: 40px;\r\n\tline-height: 40px;\r\n\tpadding-left: 4px;\r\n\tpadding-right: 4px;\r\n\tpointer-events: none;\r\n}","",{version:3,sources:["webpack://./src/css/MenuButton.css"],names:[],mappings:";AACA;CACC,qBAAqB;CACrB,SAAS;CACT,UAAU;AACX;;AAEA;CACC,gBAAgB;IACb,uBAAuB;IACvB,kBAAkB;IAClB,YAAY;IACZ,gCAAgC;AACpC;;AAEA;CACC,cAAc;AACf;;AAEA;CACC,gBAAgB;CAChB,YAAY;CACZ,WAAW;CACX,2BAA2B;CAC3B,aAAa;CACb,6BAA6B;AAC9B;;AAEA;CACC,2CAA2C;AAC5C;;AAEA;CACC,2CAA2C;AAC5C;;AAEA;CACC,iDAAiD;AAClD;;AAEA;CACC,oBAAoB;AACrB;;AAEA;CACC,WAAW;IACR,YAAY;IACZ,0BAA0B;CAC7B,2BAA2B;CAC3B,YAAY;AACb;;AAEA;CACC,YAAY;CACZ,iBAAiB;CACjB,iBAAiB;CACjB,kBAAkB;CAClB,oBAAoB;AACrB",sourcesContent:["\r\nul.menu-button-content {\r\n\tlist-style-type: none;\r\n\tmargin: 0;\r\n\tpadding: 0;\r\n}\r\n\r\n.menu-button-title {\r\n\tlist-style: none;\r\n    font-family: sans-serif;\r\n    text-align: center;\r\n    padding: 5px;\r\n    border-bottom: 1px solid #938e8e;\r\n}\r\n\r\nul.menu-button-content li.menu-button-item {\r\n\tmin-width:40px;\r\n}\r\n\r\nul.menu-button-content li.menu-button-item button {\r\n\tbackground: none;\r\n\tborder: none;\r\n\twidth: 100%;\r\n\tcolor: var(--main-fg-color);\r\n\tdisplay: flex;\r\n\tjustify-content: space-around;\r\n}\r\n\r\nul.menu-button-content li.menu-button-item button:hover {\r\n\tbackground-color: var(--secondary-bg-color);\r\n}\r\n\r\nul.menu-button-content li.menu-button-item button.selected {\r\n\tbackground-color: var(--highlight-bg-color);\r\n}\r\n\r\nul.menu-button-content li.menu-button-item button.selected:hover {\r\n\tbackground-color: var(--highlight-bg-color-hover);\r\n}\r\n\r\nul.menu-button-content li.menu-button-item button i.menu-icon {\r\n\tpointer-events: none;\r\n}\r\n\r\nul.menu-button-content li.menu-button-item button i.menu-icon svg {\r\n\twidth: 100%;\r\n    height: 100%;\r\n    fill: var(--main-fg-color);\r\n\tcolor: var(--main-fg-color);\r\n\theight: 40px;\r\n}\r\n\r\nul.menu-button-content li.menu-button-item button span.menu-title {\r\n\theight: 40px;\r\n\tline-height: 40px;\r\n\tpadding-left: 4px;\r\n\tpadding-right: 4px;\r\n\tpointer-events: none;\r\n}"],sourceRoot:""}]);const s=a;},9167:(t,e,r)=>{r.d(e,{Z:()=>s});var n=r(7537),i=r.n(n),o=r(3645),a=r.n(o)()(i());a.push([t.id,"\r\n.playback-bar {\r\n\tposition: absolute;\r\n\tbottom: 0px;\r\n\tleft: 0px;\r\n\tright: 0px;\r\n\tbackground: var(--secondary-bg-color);\r\n\tbackground: var(--main-bg-gradient);\r\n\tz-index: 100;\r\n}\r\n\r\n.playback-bar.inline-mode {\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n}\r\n\r\n.playback-bar:hover {\r\n\tbackground: var(--secondary-bg-color-hover);\r\n}\r\n\r\n.progress-indicator {\r\n\twidth: 98%;\r\n\tmargin-left: 1%;\r\n\theight: 10px;\r\n}\r\n\r\n.progress-indicator.inline-mode {\r\n\tflex: 1;\r\n}\r\n\r\n.progress-indicator-timer {\r\n\tposition: absolute;\r\n\ttop:1px;\r\n\tcolor: var(--main-fg-color);\r\n\tfont-size: 10px;\r\n\tline-height: 11px;\r\n\tpadding-left: 11px;\r\n\tpointer-events: none;\r\n\theight: 100%;\r\n\tdisplay: flex;\r\n\tjustify-content: center;\r\n\talign-items: center;\r\n\tz-index: 1;\r\n}\r\n\r\n.progress-indicator-timer.left-side {\r\n\tleft: 0px;\r\n}\r\n\r\n.progress-indicator-timer.right-side {\r\n\tright: 0px;\r\n}\r\n\r\n.playback-bar .button-plugins {\r\n\theight: var(--button-fixed-height);\r\n}\r\n\r\n.playback-bar .button-plugins.left-side {\r\n\tfloat: left;\r\n}\r\n\r\n.playback-bar .button-plugins.right-side {\r\n\tfloat: right;\r\n}\r\n\r\n.playback-bar .button-plugins .button-plugin-container {\r\n\tdisplay: inline;\r\n}\r\n\r\n.playback-bar .button-plugins .button-plugin-container button {\r\n\theight: var(--button-fixed-height);\r\n\tbackground: none;\r\n\tborder: none;\r\n\tfloat: left;\r\n\talign-items: center;\r\n\talign-items: center;\r\n    justify-content: center;\r\n}\r\n\r\n.playback-bar .button-plugins .button-plugin-container button.dynamic-width div.interactive-button-content {\r\n\tdisplay: flex;\r\n    justify-content: flex-start;\r\n    align-items: center;\r\n    flex-direction: row;\r\n}\r\n\r\n.playback-bar .button-plugins .button-plugin-container button.fixed-width {\r\n\twidth: var(--button-fixed-width);\r\n}\r\n\r\n.playback-bar .button-plugins button:hover {\r\n\tbackground-color: var(--highlight-bg-color-hover);\r\n}\r\n\r\n.playback-bar .button-plugins button:active {\r\n\tbackground-color: var(--secondary-bg-color-hover);\r\n}\r\n\r\n.playback-bar .button-plugins button.dynamic-width span {\r\n\tmargin-top: 0px;\r\n\tcolor: var(--main-fg-color);\r\n\tpadding-left: 3px;\r\n\tpadding-right: 3px;\r\n}\r\n\r\n.playback-bar .button-plugins button i {\r\n\tbackground-size: 50% 50%;\r\n\twidth: var(--button-icon-size);\r\n\tdisplay: block;\r\n\tbackground-repeat: no-repeat;\r\n\tbackground-position: 3px 7px;\r\n\tmargin-left: auto;\r\n\tmargin-right: auto;\r\n}\r\n\r\n/* non-interactive buttons **/\r\n.playback-bar .button-plugins .button-plugin-container div.non-interactive {\r\n\theight: var(--button-fixed-height);\r\n\tbackground: none;\r\n\tborder: none;\r\n\tfloat: left;\r\n\tbox-sizing: border-box;\r\n\tdisplay: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n\tpointer-events: none;\r\n}\r\n\r\n.playback-bar .button-plugins .button-plugin-container div.dynamic-width div.non-interactive-button-content {\r\n\tdisplay: flex;\r\n    justify-content: flex-start;\r\n    align-items: center;\r\n    flex-direction: row;\r\n}\r\n\r\n.playback-bar .button-plugins .button-plugin-container div.non-interactive.fixed-width {\r\n\twidth: var(--button-fixed-width);\r\n}\r\n\r\n.playback-bar .button-plugins div.non-interactive i {\r\n\tbackground-size: 50% 50%;\r\n\twidth: var(--button-icon-size);\r\n\tdisplay: block;\r\n\tbackground-repeat: no-repeat;\r\n\tbackground-position: 3px 7px;\r\n\tmargin-left: auto;\r\n\tmargin-right: auto;\r\n}\r\n\r\n.playback-bar .button-plugins div.non-interactive span {\r\n\tdisplay: block;\r\n\ttext-align: center;\r\n\tmargin-top: -23px;\r\n}\r\n\r\n.playback-bar .button-plugins div.no-icon span {\r\n\tline-height: var(--button-fixed-height);\r\n    margin-top: 0px;\r\n\tcolor: var(--main-fg-color);\r\n}\r\n\r\n.playback-bar .button-plugins div.dynamic-width span {\r\n\tmargin-top: 0px;\r\n\tcolor: var(--main-fg-color);\r\n\tpadding-left: 3px;\r\n\tpadding-right: 3px;\r\n}\r\n\r\n.playback-bar .button-plugins .button-plugin-container div.non-interactive {\r\n\tpadding: 2px 6px 3px 6px;\r\n}\r\n.video-container .button-plugins .button-plugin-container div.non-interactive {\r\n\tpadding: 2px 6px 3px 6px;\r\n}\r\n\r\n.playback-bar .button-plugins div.non-interactive i svg {\r\n\twidth: 100%;\r\n    height: 100%;\r\n    fill: var(--main-fg-color);\r\n\tcolor: var(--main-fg-color);\r\n}\r\n\r\n\r\n/* Fix default iPad button padding */\r\n.playback-bar .button-plugins .button-plugin-container button {\r\n\tpadding: 0px 6px 0px 6px;\r\n}\r\n.video-container .button-plugins .button-plugin-container button {\r\n\tpadding: 0px 6px 0px 6px;\r\n}\r\n\r\n.button-plugins span.button-title {\r\n    display: block;\r\n}\r\n\r\n.button-plugins span.button-title.button-title-small {\r\n\tmargin-top: -13px;\r\n    font-size: 8px;\r\n}\r\n\r\n.button-plugins span.button-title.button-title-medium {\r\n\tmargin-top: -14px;\r\n    font-size: 10px;\r\n}\r\n\r\n.button-plugins span.button-title.button-title-large {\r\n\tmargin-top: -16px;\r\n    font-size: 12px;\r\n}\r\n\r\n.button-plugins span.button-title:empty {\r\n\tmargin-top: 0 !important;\r\n}\r\n\r\n\r\n.playback-bar .button-plugins button i svg {\r\n\twidth: 100%;\r\n    height: 100%;\r\n    fill: var(--main-fg-color);\r\n\tcolor: var(--main-fg-color);\r\n}\r\n\r\n.playback-bar .button-plugin-side-area {\r\n\tdisplay: inline;\r\n\tcolor: var(--main-fg-color);\r\n\theight: 40px;\r\n\tline-height: 40px;\r\n}\r\n\r\n.playback-bar .timer-container {\r\n\theight: 40px;\r\n\tline-height: 40px;\r\n\tdisplay: none;\r\n}\r\n\r\n.playback-bar .timer-container.left-side {\r\n\tfloat: left;\r\n\tdisplay: block;\r\n}\r\n\r\n.playback-bar .timer-container.right-side {\r\n\tfloat: right;\r\n\tdisplay: block;\r\n}\r\n\r\n.progress-indicator {\r\n\tposition: relative;\r\n}\r\n\r\n.progress-indicator canvas {\r\n\tposition: absolute;\r\n\tleft: 0px;\r\n\ttop: 0px;\r\n\tpointer-events: none;\r\n\topacity: 0.5;\r\n}\r\n\r\n.playback-bar:hover .progress-indicator canvas {\r\n\topacity: 1;\r\n}\r\n\r\n.progress-indicator .progress-indicator-container {\r\n\tposition: absolute;\r\n\tleft: 0px;\r\n\ttop: 0px;\r\n\twidth: 100%;\r\n\theight: 100%;\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n}\r\n\r\n.progress-indicator-container .progress-indicator-content {\r\n\theight: 10px;\r\n\tbackground-color: var(--highlight-bg-color-hover);\r\n\topacity: 0.8;\r\n\tpointer-events: none;\r\n}\r\n\r\n.playback-bar:hover .progress-indicator-container .progress-indicator-content {\r\n\tbackground-color: var(--highlight-bg-color-hover);\r\n}\r\n\r\n.progress-indicator-remaining {\r\n\tdisplay: block;\r\n\twidth: 100%;\r\n\tbackground-color: rgb(139, 139, 139);\r\n\theight: 10px;\r\n\tposition: absolute;\r\n\tz-index: -1;\r\n\topacity: 0.4;\r\n}\r\n\r\n.progress-indicator-handler {\r\n\tdisplay: block;\r\n\twidth: 20px;\r\n\theight: 20px;\r\n\tmargin-left: -10px;\r\n\tbackground-color: var(--highlight-bg-color-hover);\r\n\tborder-radius: 10px;\r\n\tz-index: 1;\r\n}\r\n\r\n.frame-thumbnail {\r\n\tbackground-color: var(--secondary-bg-color-hover);\r\n\tmin-width: 100px;\r\n\tmin-height: 100px;\r\n\tbox-shadow: 0px 0px 5px 0px var(--main-bg-color);\r\n\tz-index: 10000;\r\n\tpointer-events: none;\r\n}\r\n\r\n.frame-thumbnail .thumbnail-image {\r\n\tpointer-events: none;\r\n}\r\n\r\n.timer-container .progress-indicator-timer {\r\n\tposition: static;\r\n\theight: 100%;\r\n\tdisplay: flex;\r\n\tjustify-content: center;\r\n\talign-items: center;\r\n}\r\n\r\n\r\n@media (max-width: 500px) {\r\n\t.frame-thumbnail .thumbnail-image {\r\n\t\twidth: 130px;\r\n\t\tpointer-events: none;\r\n\t}\r\n}\r\n\r\n@media (max-width: 750px) {\r\n\t.frame-thumbnail .thumbnail-image {\r\n\t\twidth: 230px;\r\n\t\tpointer-events: none;\r\n\t}\r\n}\r\n\r\n@media (min-width: 750px) {\r\n\t.frame-thumbnail .thumbnail-image {\r\n\t\twidth: 330px;\r\n\t\tpointer-events: none;\r\n\t}\r\n}\r\n\r\n.frame-thumbnail .thumbnail-time {\r\n\tpointer-events: none;\r\n\tfont-size: 12px;\r\n\tline-height: 12px;\r\n\tdisplay: block;\r\n\theight: 12px;\r\n\tcolor: var(--main-fg-color);\r\n\ttext-align: center;\r\n\tmargin: 0;\r\n\tpadding: 1;\r\n}\r\n","",{version:3,sources:["webpack://./src/css/PlaybackBar.css"],names:[],mappings:";AACA;CACC,kBAAkB;CAClB,WAAW;CACX,SAAS;CACT,UAAU;CACV,qCAAqC;CACrC,mCAAmC;CACnC,YAAY;AACb;;AAEA;CACC,aAAa;CACb,mBAAmB;AACpB;;AAEA;CACC,2CAA2C;AAC5C;;AAEA;CACC,UAAU;CACV,eAAe;CACf,YAAY;AACb;;AAEA;CACC,OAAO;AACR;;AAEA;CACC,kBAAkB;CAClB,OAAO;CACP,2BAA2B;CAC3B,eAAe;CACf,iBAAiB;CACjB,kBAAkB;CAClB,oBAAoB;CACpB,YAAY;CACZ,aAAa;CACb,uBAAuB;CACvB,mBAAmB;CACnB,UAAU;AACX;;AAEA;CACC,SAAS;AACV;;AAEA;CACC,UAAU;AACX;;AAEA;CACC,kCAAkC;AACnC;;AAEA;CACC,WAAW;AACZ;;AAEA;CACC,YAAY;AACb;;AAEA;CACC,eAAe;AAChB;;AAEA;CACC,kCAAkC;CAClC,gBAAgB;CAChB,YAAY;CACZ,WAAW;CACX,mBAAmB;CACnB,mBAAmB;IAChB,uBAAuB;AAC3B;;AAEA;CACC,aAAa;IACV,2BAA2B;IAC3B,mBAAmB;IACnB,mBAAmB;AACvB;;AAEA;CACC,gCAAgC;AACjC;;AAEA;CACC,iDAAiD;AAClD;;AAEA;CACC,iDAAiD;AAClD;;AAEA;CACC,eAAe;CACf,2BAA2B;CAC3B,iBAAiB;CACjB,kBAAkB;AACnB;;AAEA;CACC,wBAAwB;CACxB,8BAA8B;CAC9B,cAAc;CACd,4BAA4B;CAC5B,4BAA4B;CAC5B,iBAAiB;CACjB,kBAAkB;AACnB;;AAEA,6BAA6B;AAC7B;CACC,kCAAkC;CAClC,gBAAgB;CAChB,YAAY;CACZ,WAAW;CACX,sBAAsB;CACtB,aAAa;IACV,mBAAmB;IACnB,uBAAuB;CAC1B,oBAAoB;AACrB;;AAEA;CACC,aAAa;IACV,2BAA2B;IAC3B,mBAAmB;IACnB,mBAAmB;AACvB;;AAEA;CACC,gCAAgC;AACjC;;AAEA;CACC,wBAAwB;CACxB,8BAA8B;CAC9B,cAAc;CACd,4BAA4B;CAC5B,4BAA4B;CAC5B,iBAAiB;CACjB,kBAAkB;AACnB;;AAEA;CACC,cAAc;CACd,kBAAkB;CAClB,iBAAiB;AAClB;;AAEA;CACC,uCAAuC;IACpC,eAAe;CAClB,2BAA2B;AAC5B;;AAEA;CACC,eAAe;CACf,2BAA2B;CAC3B,iBAAiB;CACjB,kBAAkB;AACnB;;AAEA;CACC,wBAAwB;AACzB;AACA;CACC,wBAAwB;AACzB;;AAEA;CACC,WAAW;IACR,YAAY;IACZ,0BAA0B;CAC7B,2BAA2B;AAC5B;;;AAGA,oCAAoC;AACpC;CACC,wBAAwB;AACzB;AACA;CACC,wBAAwB;AACzB;;AAEA;IACI,cAAc;AAClB;;AAEA;CACC,iBAAiB;IACd,cAAc;AAClB;;AAEA;CACC,iBAAiB;IACd,eAAe;AACnB;;AAEA;CACC,iBAAiB;IACd,eAAe;AACnB;;AAEA;CACC,wBAAwB;AACzB;;;AAGA;CACC,WAAW;IACR,YAAY;IACZ,0BAA0B;CAC7B,2BAA2B;AAC5B;;AAEA;CACC,eAAe;CACf,2BAA2B;CAC3B,YAAY;CACZ,iBAAiB;AAClB;;AAEA;CACC,YAAY;CACZ,iBAAiB;CACjB,aAAa;AACd;;AAEA;CACC,WAAW;CACX,cAAc;AACf;;AAEA;CACC,YAAY;CACZ,cAAc;AACf;;AAEA;CACC,kBAAkB;AACnB;;AAEA;CACC,kBAAkB;CAClB,SAAS;CACT,QAAQ;CACR,oBAAoB;CACpB,YAAY;AACb;;AAEA;CACC,UAAU;AACX;;AAEA;CACC,kBAAkB;CAClB,SAAS;CACT,QAAQ;CACR,WAAW;CACX,YAAY;CACZ,aAAa;CACb,mBAAmB;AACpB;;AAEA;CACC,YAAY;CACZ,iDAAiD;CACjD,YAAY;CACZ,oBAAoB;AACrB;;AAEA;CACC,iDAAiD;AAClD;;AAEA;CACC,cAAc;CACd,WAAW;CACX,oCAAoC;CACpC,YAAY;CACZ,kBAAkB;CAClB,WAAW;CACX,YAAY;AACb;;AAEA;CACC,cAAc;CACd,WAAW;CACX,YAAY;CACZ,kBAAkB;CAClB,iDAAiD;CACjD,mBAAmB;CACnB,UAAU;AACX;;AAEA;CACC,iDAAiD;CACjD,gBAAgB;CAChB,iBAAiB;CACjB,gDAAgD;CAChD,cAAc;CACd,oBAAoB;AACrB;;AAEA;CACC,oBAAoB;AACrB;;AAEA;CACC,gBAAgB;CAChB,YAAY;CACZ,aAAa;CACb,uBAAuB;CACvB,mBAAmB;AACpB;;;AAGA;CACC;EACC,YAAY;EACZ,oBAAoB;CACrB;AACD;;AAEA;CACC;EACC,YAAY;EACZ,oBAAoB;CACrB;AACD;;AAEA;CACC;EACC,YAAY;EACZ,oBAAoB;CACrB;AACD;;AAEA;CACC,oBAAoB;CACpB,eAAe;CACf,iBAAiB;CACjB,cAAc;CACd,YAAY;CACZ,2BAA2B;CAC3B,kBAAkB;CAClB,SAAS;CACT,UAAU;AACX",sourcesContent:["\r\n.playback-bar {\r\n\tposition: absolute;\r\n\tbottom: 0px;\r\n\tleft: 0px;\r\n\tright: 0px;\r\n\tbackground: var(--secondary-bg-color);\r\n\tbackground: var(--main-bg-gradient);\r\n\tz-index: 100;\r\n}\r\n\r\n.playback-bar.inline-mode {\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n}\r\n\r\n.playback-bar:hover {\r\n\tbackground: var(--secondary-bg-color-hover);\r\n}\r\n\r\n.progress-indicator {\r\n\twidth: 98%;\r\n\tmargin-left: 1%;\r\n\theight: 10px;\r\n}\r\n\r\n.progress-indicator.inline-mode {\r\n\tflex: 1;\r\n}\r\n\r\n.progress-indicator-timer {\r\n\tposition: absolute;\r\n\ttop:1px;\r\n\tcolor: var(--main-fg-color);\r\n\tfont-size: 10px;\r\n\tline-height: 11px;\r\n\tpadding-left: 11px;\r\n\tpointer-events: none;\r\n\theight: 100%;\r\n\tdisplay: flex;\r\n\tjustify-content: center;\r\n\talign-items: center;\r\n\tz-index: 1;\r\n}\r\n\r\n.progress-indicator-timer.left-side {\r\n\tleft: 0px;\r\n}\r\n\r\n.progress-indicator-timer.right-side {\r\n\tright: 0px;\r\n}\r\n\r\n.playback-bar .button-plugins {\r\n\theight: var(--button-fixed-height);\r\n}\r\n\r\n.playback-bar .button-plugins.left-side {\r\n\tfloat: left;\r\n}\r\n\r\n.playback-bar .button-plugins.right-side {\r\n\tfloat: right;\r\n}\r\n\r\n.playback-bar .button-plugins .button-plugin-container {\r\n\tdisplay: inline;\r\n}\r\n\r\n.playback-bar .button-plugins .button-plugin-container button {\r\n\theight: var(--button-fixed-height);\r\n\tbackground: none;\r\n\tborder: none;\r\n\tfloat: left;\r\n\talign-items: center;\r\n\talign-items: center;\r\n    justify-content: center;\r\n}\r\n\r\n.playback-bar .button-plugins .button-plugin-container button.dynamic-width div.interactive-button-content {\r\n\tdisplay: flex;\r\n    justify-content: flex-start;\r\n    align-items: center;\r\n    flex-direction: row;\r\n}\r\n\r\n.playback-bar .button-plugins .button-plugin-container button.fixed-width {\r\n\twidth: var(--button-fixed-width);\r\n}\r\n\r\n.playback-bar .button-plugins button:hover {\r\n\tbackground-color: var(--highlight-bg-color-hover);\r\n}\r\n\r\n.playback-bar .button-plugins button:active {\r\n\tbackground-color: var(--secondary-bg-color-hover);\r\n}\r\n\r\n.playback-bar .button-plugins button.dynamic-width span {\r\n\tmargin-top: 0px;\r\n\tcolor: var(--main-fg-color);\r\n\tpadding-left: 3px;\r\n\tpadding-right: 3px;\r\n}\r\n\r\n.playback-bar .button-plugins button i {\r\n\tbackground-size: 50% 50%;\r\n\twidth: var(--button-icon-size);\r\n\tdisplay: block;\r\n\tbackground-repeat: no-repeat;\r\n\tbackground-position: 3px 7px;\r\n\tmargin-left: auto;\r\n\tmargin-right: auto;\r\n}\r\n\r\n/* non-interactive buttons **/\r\n.playback-bar .button-plugins .button-plugin-container div.non-interactive {\r\n\theight: var(--button-fixed-height);\r\n\tbackground: none;\r\n\tborder: none;\r\n\tfloat: left;\r\n\tbox-sizing: border-box;\r\n\tdisplay: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n\tpointer-events: none;\r\n}\r\n\r\n.playback-bar .button-plugins .button-plugin-container div.dynamic-width div.non-interactive-button-content {\r\n\tdisplay: flex;\r\n    justify-content: flex-start;\r\n    align-items: center;\r\n    flex-direction: row;\r\n}\r\n\r\n.playback-bar .button-plugins .button-plugin-container div.non-interactive.fixed-width {\r\n\twidth: var(--button-fixed-width);\r\n}\r\n\r\n.playback-bar .button-plugins div.non-interactive i {\r\n\tbackground-size: 50% 50%;\r\n\twidth: var(--button-icon-size);\r\n\tdisplay: block;\r\n\tbackground-repeat: no-repeat;\r\n\tbackground-position: 3px 7px;\r\n\tmargin-left: auto;\r\n\tmargin-right: auto;\r\n}\r\n\r\n.playback-bar .button-plugins div.non-interactive span {\r\n\tdisplay: block;\r\n\ttext-align: center;\r\n\tmargin-top: -23px;\r\n}\r\n\r\n.playback-bar .button-plugins div.no-icon span {\r\n\tline-height: var(--button-fixed-height);\r\n    margin-top: 0px;\r\n\tcolor: var(--main-fg-color);\r\n}\r\n\r\n.playback-bar .button-plugins div.dynamic-width span {\r\n\tmargin-top: 0px;\r\n\tcolor: var(--main-fg-color);\r\n\tpadding-left: 3px;\r\n\tpadding-right: 3px;\r\n}\r\n\r\n.playback-bar .button-plugins .button-plugin-container div.non-interactive {\r\n\tpadding: 2px 6px 3px 6px;\r\n}\r\n.video-container .button-plugins .button-plugin-container div.non-interactive {\r\n\tpadding: 2px 6px 3px 6px;\r\n}\r\n\r\n.playback-bar .button-plugins div.non-interactive i svg {\r\n\twidth: 100%;\r\n    height: 100%;\r\n    fill: var(--main-fg-color);\r\n\tcolor: var(--main-fg-color);\r\n}\r\n\r\n\r\n/* Fix default iPad button padding */\r\n.playback-bar .button-plugins .button-plugin-container button {\r\n\tpadding: 0px 6px 0px 6px;\r\n}\r\n.video-container .button-plugins .button-plugin-container button {\r\n\tpadding: 0px 6px 0px 6px;\r\n}\r\n\r\n.button-plugins span.button-title {\r\n    display: block;\r\n}\r\n\r\n.button-plugins span.button-title.button-title-small {\r\n\tmargin-top: -13px;\r\n    font-size: 8px;\r\n}\r\n\r\n.button-plugins span.button-title.button-title-medium {\r\n\tmargin-top: -14px;\r\n    font-size: 10px;\r\n}\r\n\r\n.button-plugins span.button-title.button-title-large {\r\n\tmargin-top: -16px;\r\n    font-size: 12px;\r\n}\r\n\r\n.button-plugins span.button-title:empty {\r\n\tmargin-top: 0 !important;\r\n}\r\n\r\n\r\n.playback-bar .button-plugins button i svg {\r\n\twidth: 100%;\r\n    height: 100%;\r\n    fill: var(--main-fg-color);\r\n\tcolor: var(--main-fg-color);\r\n}\r\n\r\n.playback-bar .button-plugin-side-area {\r\n\tdisplay: inline;\r\n\tcolor: var(--main-fg-color);\r\n\theight: 40px;\r\n\tline-height: 40px;\r\n}\r\n\r\n.playback-bar .timer-container {\r\n\theight: 40px;\r\n\tline-height: 40px;\r\n\tdisplay: none;\r\n}\r\n\r\n.playback-bar .timer-container.left-side {\r\n\tfloat: left;\r\n\tdisplay: block;\r\n}\r\n\r\n.playback-bar .timer-container.right-side {\r\n\tfloat: right;\r\n\tdisplay: block;\r\n}\r\n\r\n.progress-indicator {\r\n\tposition: relative;\r\n}\r\n\r\n.progress-indicator canvas {\r\n\tposition: absolute;\r\n\tleft: 0px;\r\n\ttop: 0px;\r\n\tpointer-events: none;\r\n\topacity: 0.5;\r\n}\r\n\r\n.playback-bar:hover .progress-indicator canvas {\r\n\topacity: 1;\r\n}\r\n\r\n.progress-indicator .progress-indicator-container {\r\n\tposition: absolute;\r\n\tleft: 0px;\r\n\ttop: 0px;\r\n\twidth: 100%;\r\n\theight: 100%;\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n}\r\n\r\n.progress-indicator-container .progress-indicator-content {\r\n\theight: 10px;\r\n\tbackground-color: var(--highlight-bg-color-hover);\r\n\topacity: 0.8;\r\n\tpointer-events: none;\r\n}\r\n\r\n.playback-bar:hover .progress-indicator-container .progress-indicator-content {\r\n\tbackground-color: var(--highlight-bg-color-hover);\r\n}\r\n\r\n.progress-indicator-remaining {\r\n\tdisplay: block;\r\n\twidth: 100%;\r\n\tbackground-color: rgb(139, 139, 139);\r\n\theight: 10px;\r\n\tposition: absolute;\r\n\tz-index: -1;\r\n\topacity: 0.4;\r\n}\r\n\r\n.progress-indicator-handler {\r\n\tdisplay: block;\r\n\twidth: 20px;\r\n\theight: 20px;\r\n\tmargin-left: -10px;\r\n\tbackground-color: var(--highlight-bg-color-hover);\r\n\tborder-radius: 10px;\r\n\tz-index: 1;\r\n}\r\n\r\n.frame-thumbnail {\r\n\tbackground-color: var(--secondary-bg-color-hover);\r\n\tmin-width: 100px;\r\n\tmin-height: 100px;\r\n\tbox-shadow: 0px 0px 5px 0px var(--main-bg-color);\r\n\tz-index: 10000;\r\n\tpointer-events: none;\r\n}\r\n\r\n.frame-thumbnail .thumbnail-image {\r\n\tpointer-events: none;\r\n}\r\n\r\n.timer-container .progress-indicator-timer {\r\n\tposition: static;\r\n\theight: 100%;\r\n\tdisplay: flex;\r\n\tjustify-content: center;\r\n\talign-items: center;\r\n}\r\n\r\n\r\n@media (max-width: 500px) {\r\n\t.frame-thumbnail .thumbnail-image {\r\n\t\twidth: 130px;\r\n\t\tpointer-events: none;\r\n\t}\r\n}\r\n\r\n@media (max-width: 750px) {\r\n\t.frame-thumbnail .thumbnail-image {\r\n\t\twidth: 230px;\r\n\t\tpointer-events: none;\r\n\t}\r\n}\r\n\r\n@media (min-width: 750px) {\r\n\t.frame-thumbnail .thumbnail-image {\r\n\t\twidth: 330px;\r\n\t\tpointer-events: none;\r\n\t}\r\n}\r\n\r\n.frame-thumbnail .thumbnail-time {\r\n\tpointer-events: none;\r\n\tfont-size: 12px;\r\n\tline-height: 12px;\r\n\tdisplay: block;\r\n\theight: 12px;\r\n\tcolor: var(--main-fg-color);\r\n\ttext-align: center;\r\n\tmargin: 0;\r\n\tpadding: 1;\r\n}\r\n"],sourceRoot:""}]);const s=a;},6777:(t,e,r)=>{r.d(e,{Z:()=>s});var n=r(7537),i=r.n(n),o=r(3645),a=r.n(o)()(i());a.push([t.id,".popup-container {\r\n\tz-index: 1000;\r\n\tposition: fixed;\r\n\ttop: 0px;\r\n\tleft: 0px;\r\n\theight: 100vh;\r\n\twidth: 100vw;\r\n}\r\n\r\n.popup-container.no-modal {\r\n\tpointer-events: none;;\r\n}\r\n\r\n.popup-content {\r\n\tposition: absolute;\r\n\tbackground-color: var(--main-bg-color);\r\n\tcolor: var(--main-fg-color);\r\n\tbox-shadow: 0px 0px 4px 0px var(--main-bg-color);\r\n\tborder-radius: 3px;\r\n\tpadding: 5px 5px 5px 5px;\r\n\tforced-color-adjust: none;\r\n}\r\n\r\n.popup-container.no-modal .popup-content {\r\n\tpointer-events: all;\r\n}","",{version:3,sources:["webpack://./src/css/PopUp.css"],names:[],mappings:"AAAA;CACC,aAAa;CACb,eAAe;CACf,QAAQ;CACR,SAAS;CACT,aAAa;CACb,YAAY;AACb;;AAEA;CACC,oBAAoB;AACrB;;AAEA;CACC,kBAAkB;CAClB,sCAAsC;CACtC,2BAA2B;CAC3B,gDAAgD;CAChD,kBAAkB;CAClB,wBAAwB;CACxB,yBAAyB;AAC1B;;AAEA;CACC,mBAAmB;AACpB",sourcesContent:[".popup-container {\r\n\tz-index: 1000;\r\n\tposition: fixed;\r\n\ttop: 0px;\r\n\tleft: 0px;\r\n\theight: 100vh;\r\n\twidth: 100vw;\r\n}\r\n\r\n.popup-container.no-modal {\r\n\tpointer-events: none;;\r\n}\r\n\r\n.popup-content {\r\n\tposition: absolute;\r\n\tbackground-color: var(--main-bg-color);\r\n\tcolor: var(--main-fg-color);\r\n\tbox-shadow: 0px 0px 4px 0px var(--main-bg-color);\r\n\tborder-radius: 3px;\r\n\tpadding: 5px 5px 5px 5px;\r\n\tforced-color-adjust: none;\r\n}\r\n\r\n.popup-container.no-modal .popup-content {\r\n\tpointer-events: all;\r\n}"],sourceRoot:""}]);const s=a;},5352:(t,e,r)=>{r.d(e,{Z:()=>s});var n=r(7537),i=r.n(n),o=r(3645),a=r.n(o)()(i());a.push([t.id,".timeline-popup-content {\r\n    display: block;\r\n    background-color: var(--main-bg-color);\r\n    padding-top: 10px;\r\n    padding-bottom: 10px;\r\n    position: absolute;\r\n    border-radius: 4px;\r\n    left: 2px;\r\n    right: 2px;\r\n    bottom: 52px;\r\n    color: var(--main-fg-color);\r\n    border-top: 1px solid var(--main-border-color);\r\n    z-index: 100;\r\n}\r\n","",{version:3,sources:["webpack://./src/css/TimeLinePopUp.css"],names:[],mappings:"AAAA;IACI,cAAc;IACd,sCAAsC;IACtC,iBAAiB;IACjB,oBAAoB;IACpB,kBAAkB;IAClB,kBAAkB;IAClB,SAAS;IACT,UAAU;IACV,YAAY;IACZ,2BAA2B;IAC3B,8CAA8C;IAC9C,YAAY;AAChB",sourcesContent:[".timeline-popup-content {\r\n    display: block;\r\n    background-color: var(--main-bg-color);\r\n    padding-top: 10px;\r\n    padding-bottom: 10px;\r\n    position: absolute;\r\n    border-radius: 4px;\r\n    left: 2px;\r\n    right: 2px;\r\n    bottom: 52px;\r\n    color: var(--main-fg-color);\r\n    border-top: 1px solid var(--main-border-color);\r\n    z-index: 100;\r\n}\r\n"],sourceRoot:""}]);const s=a;},303:(t,e,r)=>{r.d(e,{Z:()=>s});var n=r(7537),i=r.n(n),o=r(3645),a=r.n(o)()(i());a.push([t.id,"\r\n.video-canvas .button-area {\r\n    position: absolute;\r\n    top: 5px;\r\n    left: 0px;\r\n    right: 0px;\r\n    pointer-events: none;\r\n    text-align: center;\r\n    z-index: 1;\r\n    container-type: size;\r\n    container-name: button-area;\r\n}\r\n\r\n\r\n.video-canvas .button-area button {\r\n    pointer-events: all;\r\n    margin: 2px;\r\n    width: 40px;\r\n    opacity: 0.8;\r\n    background-color: var(--main-bg-color);\r\n    border: none;\r\n    border-radius: 5px;\r\n}\r\n\r\n.video-canvas .button-area button:hover {\r\n    background-color: var(--highlight-bg-color-hover);\r\n}\r\n\r\n.video-canvas .button-area button svg path {\r\n    width: 100%;\r\n    height: 100%;\r\n    fill: var(--main-fg-color);\r\n    color: var(--main-fg-color);\r\n}\r\n\r\n.video-canvas .button-area button svg rect {\r\n    width: 100%;\r\n    height: 100%;\r\n    fill: var(--main-fg-color);\r\n    color: var(--main-fg-color);\r\n}\r\n\r\n.video-canvas .button-area button:hover {\r\n    opacity: 1;\r\n}\r\n\r\n.video-canvas .button-area button.align-left {\r\n    float: left;\r\n}\r\n\r\n.video-canvas .button-area button.align-right {\r\n    float: right;\r\n}\r\n\r\n.video-canvas .button-area {\r\n    padding: 5px;\r\n}\r\n\r\n\r\n@container button-area (max-width: 200px) {\r\n    .video-canvas .button-area button {\r\n        width: 25cqi;\r\n    }\r\n}\r\n\r\n@container button-area (min-width: 200px) and (max-width: 350px) {\r\n    .video-canvas .button-area button {\r\n        width: 45px;\r\n    }\r\n}\r\n\r\n@container button-area (min-width: 350px) {\r\n    .video-canvas .button-area button {\r\n        width: 55px;\r\n    }\r\n}\r\n\r\n\r\n\r\n  ","",{version:3,sources:["webpack://./src/css/VideoCanvas.css"],names:[],mappings:";AACA;IACI,kBAAkB;IAClB,QAAQ;IACR,SAAS;IACT,UAAU;IACV,oBAAoB;IACpB,kBAAkB;IAClB,UAAU;IACV,oBAAoB;IACpB,2BAA2B;AAC/B;;;AAGA;IACI,mBAAmB;IACnB,WAAW;IACX,WAAW;IACX,YAAY;IACZ,sCAAsC;IACtC,YAAY;IACZ,kBAAkB;AACtB;;AAEA;IACI,iDAAiD;AACrD;;AAEA;IACI,WAAW;IACX,YAAY;IACZ,0BAA0B;IAC1B,2BAA2B;AAC/B;;AAEA;IACI,WAAW;IACX,YAAY;IACZ,0BAA0B;IAC1B,2BAA2B;AAC/B;;AAEA;IACI,UAAU;AACd;;AAEA;IACI,WAAW;AACf;;AAEA;IACI,YAAY;AAChB;;AAEA;IACI,YAAY;AAChB;;;AAGA;IACI;QACI,YAAY;IAChB;AACJ;;AAEA;IACI;QACI,WAAW;IACf;AACJ;;AAEA;IACI;QACI,WAAW;IACf;AACJ",sourcesContent:["\r\n.video-canvas .button-area {\r\n    position: absolute;\r\n    top: 5px;\r\n    left: 0px;\r\n    right: 0px;\r\n    pointer-events: none;\r\n    text-align: center;\r\n    z-index: 1;\r\n    container-type: size;\r\n    container-name: button-area;\r\n}\r\n\r\n\r\n.video-canvas .button-area button {\r\n    pointer-events: all;\r\n    margin: 2px;\r\n    width: 40px;\r\n    opacity: 0.8;\r\n    background-color: var(--main-bg-color);\r\n    border: none;\r\n    border-radius: 5px;\r\n}\r\n\r\n.video-canvas .button-area button:hover {\r\n    background-color: var(--highlight-bg-color-hover);\r\n}\r\n\r\n.video-canvas .button-area button svg path {\r\n    width: 100%;\r\n    height: 100%;\r\n    fill: var(--main-fg-color);\r\n    color: var(--main-fg-color);\r\n}\r\n\r\n.video-canvas .button-area button svg rect {\r\n    width: 100%;\r\n    height: 100%;\r\n    fill: var(--main-fg-color);\r\n    color: var(--main-fg-color);\r\n}\r\n\r\n.video-canvas .button-area button:hover {\r\n    opacity: 1;\r\n}\r\n\r\n.video-canvas .button-area button.align-left {\r\n    float: left;\r\n}\r\n\r\n.video-canvas .button-area button.align-right {\r\n    float: right;\r\n}\r\n\r\n.video-canvas .button-area {\r\n    padding: 5px;\r\n}\r\n\r\n\r\n@container button-area (max-width: 200px) {\r\n    .video-canvas .button-area button {\r\n        width: 25cqi;\r\n    }\r\n}\r\n\r\n@container button-area (min-width: 200px) and (max-width: 350px) {\r\n    .video-canvas .button-area button {\r\n        width: 45px;\r\n    }\r\n}\r\n\r\n@container button-area (min-width: 350px) {\r\n    .video-canvas .button-area button {\r\n        width: 55px;\r\n    }\r\n}\r\n\r\n\r\n\r\n  "],sourceRoot:""}]);const s=a;},7674:(t,e,r)=>{r.d(e,{Z:()=>s});var n=r(7537),i=r.n(n),o=r(3645),a=r.n(o)()(i());a.push([t.id,"\r\n:root {\r\n\t--video-container-padding: 10px;\r\n}\r\n\r\n.video-container {\r\n    background-color: var(--video-container-background-color);\r\n    width: 100%;\r\n    height: 100%;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n\tposition: absolute;\r\n\ttop: 50%;\r\n\ttransform: translateY(-50%);\r\n}\r\n\r\n\r\n.video-container.over-playback-bar {\r\n\theight: calc(100% - var(--playback-bar-height) - 30px);\r\n\ttop: 0px;\r\n\ttransform: none;\r\n}\r\n\r\n.base-video-rect {\r\n    background-color: var(--base-video-rect-background-color);\r\n    position: relative;\r\n}\r\n\r\n.base-video-rect.dynamic {\r\n\tdisplay: flex;\r\n\tbackground-color: transparent;\r\n\tgap: var(--video-container-padding);\r\n\tpadding: 5px;\r\n\twidth: calc(100% - var(--video-container-padding) * 2);\r\n}\r\n\r\n.base-video-rect.dynamic.portrait {\r\n\tflex-wrap: wrap;\r\n\talign-items: center;\r\n    justify-content: center;\r\n}\r\n\r\n.base-video-rect.dynamic.landscape {\r\n\tjustify-content: space-around;\r\n}\r\n\r\n.base-video-rect.dynamic.align-bottom {\r\n\talign-items: baseline;\r\n}\r\n\r\n.base-video-rect.dynamic.align-center {\r\n\talign-items: center;\r\n}\r\n\r\n.base-video-rect.dynamic.align-top {\r\n\talign-items: flex-start;\r\n}\r\n\r\n.base-video-rect.dynamic.portrait.align-left {\r\n\tjustify-content: start;\r\n}\r\n\r\n.base-video-rect.dynamic.portrait.align-right {\r\n\tjustify-content: right;\r\n}\r\n\r\n.video-container .button-plugins {\r\n    position: absolute;\r\n    top: 10px;\r\n    height: 40px;\r\n\tz-index: 100;\r\n}\r\n\r\n.video-container .button-plugins.left-side {\r\n    left: 10px;\r\n}\r\n\r\n.video-container .button-plugins.right-side {\r\n    right: 10px;\r\n}\r\n\r\n.video-container .user-area {\r\n\tposition: absolute;\r\n    width: 100%;\r\n    height: 100%;\r\n    top: 0px;\r\n    left: 0px;\r\n    pointer-events: none;\r\n}\r\n\r\n.video-container .button-plugins .button-plugin-container {\r\n\tdisplay: inline;\r\n}\r\n\r\n.video-container .button-plugins .button-plugin-container button {\r\n\theight: var(--button-fixed-height);\r\n\tdisplay: block;\r\n\tbackground-color: var(--main-bg-color);\r\n    border-radius: 6px;\r\n\tborder: none;\r\n\tfloat: left;\r\n\tmargin-left: 2px;\r\n    margin-right: 2px;\r\n}\r\n\r\n.video-container .button-plugins .button-plugin-container button.fixed-width {\r\n\twidth: var(--button-fixed-width);\r\n}\r\n\r\n.video-container .button-plugins .button-plugin-container button.dynamic-width div.interactive-button-content {\r\n\tdisplay: flex;\r\n    justify-content: flex-start;\r\n    align-items: center;\r\n    flex-direction: row;\r\n}\r\n\r\n.video-container .button-plugins button.dynamic-width span {\r\n\tmargin-top: 0px;\r\n\tcolor: var(--main-fg-color);\r\n\tpadding-left: 3px;\r\n\tpadding-right: 3px;\r\n}\r\n\r\n.video-container .button-plugins button:hover {\r\n\tbackground-color: var(--highlight-bg-color-hover);\r\n}\r\n\r\n.video-container .button-plugins button:active {\r\n\tbackground-color: var(--main-bg-color-hover);\r\n}\r\n\r\n.video-container .button-plugins button i {\r\n\tbackground-size: 50% 50%;\r\n\twidth: 20px;\r\n\tdisplay: block;\r\n\tbackground-repeat: no-repeat;\r\n\tbackground-position: 3px 7px;\r\n\tmargin-left: 5px;\r\n}\r\n\r\n.video-container .button-plugins button i svg {\r\n\twidth: 100%;\r\n    height: 100%;\r\n    fill: var(--main-fg-color);\r\n\tcolor: var(--main-fg-color);\r\n}\r\n\r\n\r\n\r\n/* non-interactive buttons */\r\n.video-container .button-plugins .button-plugin-container div.non-interactive {\r\n\theight: var(--button-fixed-height);\r\n\tbackground-color: transparent;\r\n    border-radius: 6px;\r\n\tborder: none;\r\n\tfloat: left;\r\n\tbox-sizing: border-box;\r\n\tdisplay: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n\tpointer-events: none;\r\n}\r\n\r\n.video-container .button-plugins .button-plugin-container div.dynamic-width div.non-interactive-button-content {\r\n\tdisplay: flex;\r\n    justify-content: flex-start;\r\n    align-items: center;\r\n    flex-direction: row;\r\n}\r\n\r\n.video-container .button-plugins .button-plugin-container div.non-interactive.fixed-width {\r\n\twidth: var(--button-fixed-width);\r\n}\r\n\r\n.video-container .button-plugins div i {\r\n\tbackground-size: 50% 50%;\r\n\twidth: 20px;\r\n\tdisplay: block;\r\n\tbackground-repeat: no-repeat;\r\n\tbackground-position: 3px 7px;\r\n\tmargin-left: auto;\r\n\tmargin-right: auto;\r\n}\r\n\r\n.video-container .button-plugins div i svg {\r\n\twidth: 100%;\r\n    height: 100%;\r\n    fill: var(--main-fg-color);\r\n\tcolor: var(--main-fg-color);\r\n}\r\n\r\n.video-container .button-plugins .button-plugin-container div.dynamic-width div.non-interactive-button-content {\r\n\tdisplay: flex;\r\n    justify-content: flex-start;\r\n    align-items: center;\r\n    flex-direction: row;\r\n}\r\n\r\n.video-container .button-plugins div.non-interactive span {\r\n\tdisplay: block;\r\n\ttext-align: center;\r\n}\r\n\r\n.video-container .button-plugins div.no-icon span {\r\n\tline-height: var(--button-fixed-height);\r\n    margin-top: 0px;\r\n\tcolor: var(--main-fg-color);\r\n}\r\n\r\n.video-container .button-plugins div.dynamic-width span {\r\n\tmargin-top: 0px;\r\n\tcolor: var(--main-fg-color);\r\n\tpadding-left: 3px;\r\n\tpadding-right: 3px;\r\n}\r\n\r\n.video-container .button-plugin-side-area {\r\n\tdisplay: inline;\r\n\tcolor: var(--main-fg-color);\r\n\theight: 40px;\r\n\tline-height: 40px;\r\n}","",{version:3,sources:["webpack://./src/css/VideoContainer.css"],names:[],mappings:";AACA;CACC,+BAA+B;AAChC;;AAEA;IACI,yDAAyD;IACzD,WAAW;IACX,YAAY;IACZ,aAAa;IACb,mBAAmB;IACnB,uBAAuB;CAC1B,kBAAkB;CAClB,QAAQ;CACR,2BAA2B;AAC5B;;;AAGA;CACC,sDAAsD;CACtD,QAAQ;CACR,eAAe;AAChB;;AAEA;IACI,yDAAyD;IACzD,kBAAkB;AACtB;;AAEA;CACC,aAAa;CACb,6BAA6B;CAC7B,mCAAmC;CACnC,YAAY;CACZ,sDAAsD;AACvD;;AAEA;CACC,eAAe;CACf,mBAAmB;IAChB,uBAAuB;AAC3B;;AAEA;CACC,6BAA6B;AAC9B;;AAEA;CACC,qBAAqB;AACtB;;AAEA;CACC,mBAAmB;AACpB;;AAEA;CACC,uBAAuB;AACxB;;AAEA;CACC,sBAAsB;AACvB;;AAEA;CACC,sBAAsB;AACvB;;AAEA;IACI,kBAAkB;IAClB,SAAS;IACT,YAAY;CACf,YAAY;AACb;;AAEA;IACI,UAAU;AACd;;AAEA;IACI,WAAW;AACf;;AAEA;CACC,kBAAkB;IACf,WAAW;IACX,YAAY;IACZ,QAAQ;IACR,SAAS;IACT,oBAAoB;AACxB;;AAEA;CACC,eAAe;AAChB;;AAEA;CACC,kCAAkC;CAClC,cAAc;CACd,sCAAsC;IACnC,kBAAkB;CACrB,YAAY;CACZ,WAAW;CACX,gBAAgB;IACb,iBAAiB;AACrB;;AAEA;CACC,gCAAgC;AACjC;;AAEA;CACC,aAAa;IACV,2BAA2B;IAC3B,mBAAmB;IACnB,mBAAmB;AACvB;;AAEA;CACC,eAAe;CACf,2BAA2B;CAC3B,iBAAiB;CACjB,kBAAkB;AACnB;;AAEA;CACC,iDAAiD;AAClD;;AAEA;CACC,4CAA4C;AAC7C;;AAEA;CACC,wBAAwB;CACxB,WAAW;CACX,cAAc;CACd,4BAA4B;CAC5B,4BAA4B;CAC5B,gBAAgB;AACjB;;AAEA;CACC,WAAW;IACR,YAAY;IACZ,0BAA0B;CAC7B,2BAA2B;AAC5B;;;;AAIA,4BAA4B;AAC5B;CACC,kCAAkC;CAClC,6BAA6B;IAC1B,kBAAkB;CACrB,YAAY;CACZ,WAAW;CACX,sBAAsB;CACtB,aAAa;IACV,mBAAmB;IACnB,uBAAuB;CAC1B,oBAAoB;AACrB;;AAEA;CACC,aAAa;IACV,2BAA2B;IAC3B,mBAAmB;IACnB,mBAAmB;AACvB;;AAEA;CACC,gCAAgC;AACjC;;AAEA;CACC,wBAAwB;CACxB,WAAW;CACX,cAAc;CACd,4BAA4B;CAC5B,4BAA4B;CAC5B,iBAAiB;CACjB,kBAAkB;AACnB;;AAEA;CACC,WAAW;IACR,YAAY;IACZ,0BAA0B;CAC7B,2BAA2B;AAC5B;;AAEA;CACC,aAAa;IACV,2BAA2B;IAC3B,mBAAmB;IACnB,mBAAmB;AACvB;;AAEA;CACC,cAAc;CACd,kBAAkB;AACnB;;AAEA;CACC,uCAAuC;IACpC,eAAe;CAClB,2BAA2B;AAC5B;;AAEA;CACC,eAAe;CACf,2BAA2B;CAC3B,iBAAiB;CACjB,kBAAkB;AACnB;;AAEA;CACC,eAAe;CACf,2BAA2B;CAC3B,YAAY;CACZ,iBAAiB;AAClB",sourcesContent:["\r\n:root {\r\n\t--video-container-padding: 10px;\r\n}\r\n\r\n.video-container {\r\n    background-color: var(--video-container-background-color);\r\n    width: 100%;\r\n    height: 100%;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n\tposition: absolute;\r\n\ttop: 50%;\r\n\ttransform: translateY(-50%);\r\n}\r\n\r\n\r\n.video-container.over-playback-bar {\r\n\theight: calc(100% - var(--playback-bar-height) - 30px);\r\n\ttop: 0px;\r\n\ttransform: none;\r\n}\r\n\r\n.base-video-rect {\r\n    background-color: var(--base-video-rect-background-color);\r\n    position: relative;\r\n}\r\n\r\n.base-video-rect.dynamic {\r\n\tdisplay: flex;\r\n\tbackground-color: transparent;\r\n\tgap: var(--video-container-padding);\r\n\tpadding: 5px;\r\n\twidth: calc(100% - var(--video-container-padding) * 2);\r\n}\r\n\r\n.base-video-rect.dynamic.portrait {\r\n\tflex-wrap: wrap;\r\n\talign-items: center;\r\n    justify-content: center;\r\n}\r\n\r\n.base-video-rect.dynamic.landscape {\r\n\tjustify-content: space-around;\r\n}\r\n\r\n.base-video-rect.dynamic.align-bottom {\r\n\talign-items: baseline;\r\n}\r\n\r\n.base-video-rect.dynamic.align-center {\r\n\talign-items: center;\r\n}\r\n\r\n.base-video-rect.dynamic.align-top {\r\n\talign-items: flex-start;\r\n}\r\n\r\n.base-video-rect.dynamic.portrait.align-left {\r\n\tjustify-content: start;\r\n}\r\n\r\n.base-video-rect.dynamic.portrait.align-right {\r\n\tjustify-content: right;\r\n}\r\n\r\n.video-container .button-plugins {\r\n    position: absolute;\r\n    top: 10px;\r\n    height: 40px;\r\n\tz-index: 100;\r\n}\r\n\r\n.video-container .button-plugins.left-side {\r\n    left: 10px;\r\n}\r\n\r\n.video-container .button-plugins.right-side {\r\n    right: 10px;\r\n}\r\n\r\n.video-container .user-area {\r\n\tposition: absolute;\r\n    width: 100%;\r\n    height: 100%;\r\n    top: 0px;\r\n    left: 0px;\r\n    pointer-events: none;\r\n}\r\n\r\n.video-container .button-plugins .button-plugin-container {\r\n\tdisplay: inline;\r\n}\r\n\r\n.video-container .button-plugins .button-plugin-container button {\r\n\theight: var(--button-fixed-height);\r\n\tdisplay: block;\r\n\tbackground-color: var(--main-bg-color);\r\n    border-radius: 6px;\r\n\tborder: none;\r\n\tfloat: left;\r\n\tmargin-left: 2px;\r\n    margin-right: 2px;\r\n}\r\n\r\n.video-container .button-plugins .button-plugin-container button.fixed-width {\r\n\twidth: var(--button-fixed-width);\r\n}\r\n\r\n.video-container .button-plugins .button-plugin-container button.dynamic-width div.interactive-button-content {\r\n\tdisplay: flex;\r\n    justify-content: flex-start;\r\n    align-items: center;\r\n    flex-direction: row;\r\n}\r\n\r\n.video-container .button-plugins button.dynamic-width span {\r\n\tmargin-top: 0px;\r\n\tcolor: var(--main-fg-color);\r\n\tpadding-left: 3px;\r\n\tpadding-right: 3px;\r\n}\r\n\r\n.video-container .button-plugins button:hover {\r\n\tbackground-color: var(--highlight-bg-color-hover);\r\n}\r\n\r\n.video-container .button-plugins button:active {\r\n\tbackground-color: var(--main-bg-color-hover);\r\n}\r\n\r\n.video-container .button-plugins button i {\r\n\tbackground-size: 50% 50%;\r\n\twidth: 20px;\r\n\tdisplay: block;\r\n\tbackground-repeat: no-repeat;\r\n\tbackground-position: 3px 7px;\r\n\tmargin-left: 5px;\r\n}\r\n\r\n.video-container .button-plugins button i svg {\r\n\twidth: 100%;\r\n    height: 100%;\r\n    fill: var(--main-fg-color);\r\n\tcolor: var(--main-fg-color);\r\n}\r\n\r\n\r\n\r\n/* non-interactive buttons */\r\n.video-container .button-plugins .button-plugin-container div.non-interactive {\r\n\theight: var(--button-fixed-height);\r\n\tbackground-color: transparent;\r\n    border-radius: 6px;\r\n\tborder: none;\r\n\tfloat: left;\r\n\tbox-sizing: border-box;\r\n\tdisplay: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n\tpointer-events: none;\r\n}\r\n\r\n.video-container .button-plugins .button-plugin-container div.dynamic-width div.non-interactive-button-content {\r\n\tdisplay: flex;\r\n    justify-content: flex-start;\r\n    align-items: center;\r\n    flex-direction: row;\r\n}\r\n\r\n.video-container .button-plugins .button-plugin-container div.non-interactive.fixed-width {\r\n\twidth: var(--button-fixed-width);\r\n}\r\n\r\n.video-container .button-plugins div i {\r\n\tbackground-size: 50% 50%;\r\n\twidth: 20px;\r\n\tdisplay: block;\r\n\tbackground-repeat: no-repeat;\r\n\tbackground-position: 3px 7px;\r\n\tmargin-left: auto;\r\n\tmargin-right: auto;\r\n}\r\n\r\n.video-container .button-plugins div i svg {\r\n\twidth: 100%;\r\n    height: 100%;\r\n    fill: var(--main-fg-color);\r\n\tcolor: var(--main-fg-color);\r\n}\r\n\r\n.video-container .button-plugins .button-plugin-container div.dynamic-width div.non-interactive-button-content {\r\n\tdisplay: flex;\r\n    justify-content: flex-start;\r\n    align-items: center;\r\n    flex-direction: row;\r\n}\r\n\r\n.video-container .button-plugins div.non-interactive span {\r\n\tdisplay: block;\r\n\ttext-align: center;\r\n}\r\n\r\n.video-container .button-plugins div.no-icon span {\r\n\tline-height: var(--button-fixed-height);\r\n    margin-top: 0px;\r\n\tcolor: var(--main-fg-color);\r\n}\r\n\r\n.video-container .button-plugins div.dynamic-width span {\r\n\tmargin-top: 0px;\r\n\tcolor: var(--main-fg-color);\r\n\tpadding-left: 3px;\r\n\tpadding-right: 3px;\r\n}\r\n\r\n.video-container .button-plugin-side-area {\r\n\tdisplay: inline;\r\n\tcolor: var(--main-fg-color);\r\n\theight: 40px;\r\n\tline-height: 40px;\r\n}"],sourceRoot:""}]);const s=a;},6213:(t,e,r)=>{r.d(e,{Z:()=>s});var n=r(7537),i=r.n(n),o=r(3645),a=r.n(o)()(i());a.push([t.id,":root {\r\n    --video-container-message-bkg: rgba(0, 0, 0, 0.4);\r\n    --video-container-message-color: white;\r\n}\r\n.video-container-message {\r\n    display: flex;\r\n    justify-content: space-around;\r\n    flex-wrap: wrap;\r\n    position: absolute;\r\n    left: 0px;\r\n    top: 0px;\r\n    bottom: 0px;\r\n    right: 0px;\r\n    padding-top: 1%;\r\n    pointer-events: none;\r\n    container-type: size;\r\n    container-name: video-container-message;\r\n}\r\n\r\n.video-container-message .container {\r\n    width: 31%;\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n    justify-content: center;\r\n    align-items: center;\r\n    height: 30%;\r\n}\r\n\r\n.video-container-message .container .message-content {\r\n    background-color: var(--video-container-message-bkg);\r\n    border-radius: 5px;\r\n    padding-left: 10%;\r\n    padding-right: 10%;\r\n    text-align: center;\r\n    width: 40%;\r\n}\r\n\r\n.video-container-message .container .message-content .text {\r\n    text-shadow: 0px 0px 3px var(--video-container-message-bkg);\r\n    color: var(--video-container-message-color);\r\n    width: 100%;\r\n}\r\n\r\n.video-container-message .container .message-content i {\r\n    display: inline-block;\r\n    width: 90%;\r\n    padding-top: 10%;\r\n}\r\n\r\n.video-container-message .container .message-content i svg {\r\n    width: 100%;\r\n    height: 100%;\r\n    fill: var(--video-container-message-color);\r\n    color: var(--video-container-message-color);\r\n}\r\n\r\n@container video-container-message (max-width: 700px) {\r\n    .video-container-message .container .message-content .text {\r\n        font-size: 1.2em;\r\n    }\r\n}\r\n\r\n@container video-container-message (min-width: 700px) and (max-width: 1300px) {\r\n    .video-container-message .container .message-content .text {\r\n        font-size: 2.0em;\r\n    }\r\n}\r\n\r\n@container video-container-message (min-width: 1300px) {\r\n    .video-container-message .container .message-content .text {\r\n        font-size: 2.3em;\r\n    }\r\n}","",{version:3,sources:["webpack://./src/css/VideoContainerMessage.css"],names:[],mappings:"AAAA;IACI,iDAAiD;IACjD,sCAAsC;AAC1C;AACA;IACI,aAAa;IACb,6BAA6B;IAC7B,eAAe;IACf,kBAAkB;IAClB,SAAS;IACT,QAAQ;IACR,WAAW;IACX,UAAU;IACV,eAAe;IACf,oBAAoB;IACpB,oBAAoB;IACpB,uCAAuC;AAC3C;;AAEA;IACI,UAAU;IACV,aAAa;IACb,eAAe;IACf,uBAAuB;IACvB,mBAAmB;IACnB,WAAW;AACf;;AAEA;IACI,oDAAoD;IACpD,kBAAkB;IAClB,iBAAiB;IACjB,kBAAkB;IAClB,kBAAkB;IAClB,UAAU;AACd;;AAEA;IACI,2DAA2D;IAC3D,2CAA2C;IAC3C,WAAW;AACf;;AAEA;IACI,qBAAqB;IACrB,UAAU;IACV,gBAAgB;AACpB;;AAEA;IACI,WAAW;IACX,YAAY;IACZ,0CAA0C;IAC1C,2CAA2C;AAC/C;;AAEA;IACI;QACI,gBAAgB;IACpB;AACJ;;AAEA;IACI;QACI,gBAAgB;IACpB;AACJ;;AAEA;IACI;QACI,gBAAgB;IACpB;AACJ",sourcesContent:[":root {\r\n    --video-container-message-bkg: rgba(0, 0, 0, 0.4);\r\n    --video-container-message-color: white;\r\n}\r\n.video-container-message {\r\n    display: flex;\r\n    justify-content: space-around;\r\n    flex-wrap: wrap;\r\n    position: absolute;\r\n    left: 0px;\r\n    top: 0px;\r\n    bottom: 0px;\r\n    right: 0px;\r\n    padding-top: 1%;\r\n    pointer-events: none;\r\n    container-type: size;\r\n    container-name: video-container-message;\r\n}\r\n\r\n.video-container-message .container {\r\n    width: 31%;\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n    justify-content: center;\r\n    align-items: center;\r\n    height: 30%;\r\n}\r\n\r\n.video-container-message .container .message-content {\r\n    background-color: var(--video-container-message-bkg);\r\n    border-radius: 5px;\r\n    padding-left: 10%;\r\n    padding-right: 10%;\r\n    text-align: center;\r\n    width: 40%;\r\n}\r\n\r\n.video-container-message .container .message-content .text {\r\n    text-shadow: 0px 0px 3px var(--video-container-message-bkg);\r\n    color: var(--video-container-message-color);\r\n    width: 100%;\r\n}\r\n\r\n.video-container-message .container .message-content i {\r\n    display: inline-block;\r\n    width: 90%;\r\n    padding-top: 10%;\r\n}\r\n\r\n.video-container-message .container .message-content i svg {\r\n    width: 100%;\r\n    height: 100%;\r\n    fill: var(--video-container-message-color);\r\n    color: var(--video-container-message-color);\r\n}\r\n\r\n@container video-container-message (max-width: 700px) {\r\n    .video-container-message .container .message-content .text {\r\n        font-size: 1.2em;\r\n    }\r\n}\r\n\r\n@container video-container-message (min-width: 700px) and (max-width: 1300px) {\r\n    .video-container-message .container .message-content .text {\r\n        font-size: 2.0em;\r\n    }\r\n}\r\n\r\n@container video-container-message (min-width: 1300px) {\r\n    .video-container-message .container .message-content .text {\r\n        font-size: 2.3em;\r\n    }\r\n}"],sourceRoot:""}]);const s=a;},2323:(t,e,r)=>{r.d(e,{Z:()=>s});var n=r(7537),i=r.n(n),o=r(3645),a=r.n(o)()(i());a.push([t.id,".video-layout-button {\r\n\tborder: none;\r\n\tborder-radius: 10%;\r\n\tbox-shadow: 1px 1px 5px 0px var(rgba(0,0,0,0.8));\r\n\tbackground-size: 100% 100%;\r\n\tdisplay: block;\r\n\tposition: absolute;\r\n\tbackground-color: var(--main-bg-color-hover);\r\n\tborder: none;\r\n\tborder-radius: 5px;\r\n\tpadding: 0.5%;\r\n}\r\n\r\n.video-layout-button:hover {\r\n\tbackground-color: var(--highlight-bg-color);\r\n}\r\n\r\n.video-layout-button:active {\r\n\tbackground-color: var(--highlight-bg-color-hover);\r\n}\r\n\r\n.video-player {\r\n\tbox-shadow: 2px 2px 4px 0px rgba(90,90,90,0.8);\r\n}","",{version:3,sources:["webpack://./src/css/VideoLayout.css"],names:[],mappings:"AAAA;CACC,YAAY;CACZ,kBAAkB;CAClB,gDAAgD;CAChD,0BAA0B;CAC1B,cAAc;CACd,kBAAkB;CAClB,4CAA4C;CAC5C,YAAY;CACZ,kBAAkB;CAClB,aAAa;AACd;;AAEA;CACC,2CAA2C;AAC5C;;AAEA;CACC,iDAAiD;AAClD;;AAEA;CACC,8CAA8C;AAC/C",sourcesContent:[".video-layout-button {\r\n\tborder: none;\r\n\tborder-radius: 10%;\r\n\tbox-shadow: 1px 1px 5px 0px var(rgba(0,0,0,0.8));\r\n\tbackground-size: 100% 100%;\r\n\tdisplay: block;\r\n\tposition: absolute;\r\n\tbackground-color: var(--main-bg-color-hover);\r\n\tborder: none;\r\n\tborder-radius: 5px;\r\n\tpadding: 0.5%;\r\n}\r\n\r\n.video-layout-button:hover {\r\n\tbackground-color: var(--highlight-bg-color);\r\n}\r\n\r\n.video-layout-button:active {\r\n\tbackground-color: var(--highlight-bg-color-hover);\r\n}\r\n\r\n.video-player {\r\n\tbox-shadow: 2px 2px 4px 0px rgba(90,90,90,0.8);\r\n}"],sourceRoot:""}]);const s=a;},7945:(t,e,r)=>{r.d(e,{Z:()=>s});var n=r(7537),i=r.n(n),o=r(3645),a=r.n(o)()(i());a.push([t.id,".player-container {\r\n    position: relative;\r\n    overflow: hidden;\r\n}\r\n\r\nsvg {\r\n    pointer-events: none;\r\n}\r\n\r\nbutton:focus {\r\n    /*border: 3px solid var(--highlight-bg-color-hover) !important;\r\n    box-shadow: 0px 0px 7px 0px var(--highlight-bg-color-hover) !important;\r\n    */\r\n}\r\n\r\n.player-container button {\r\n    outline-style: none;\r\n}\r\n\r\n.player-container button:focus-visible {\r\n    outline-style: solid;\r\n    outline-color: var(--highlight-bg-color-hover);\r\n    outline-width: 2px;\r\n}","",{version:3,sources:["webpack://./src/css/base.css"],names:[],mappings:"AAAA;IACI,kBAAkB;IAClB,gBAAgB;AACpB;;AAEA;IACI,oBAAoB;AACxB;;AAEA;IACI;;KAEC;AACL;;AAEA;IACI,mBAAmB;AACvB;;AAEA;IACI,oBAAoB;IACpB,8CAA8C;IAC9C,kBAAkB;AACtB",sourcesContent:[".player-container {\r\n    position: relative;\r\n    overflow: hidden;\r\n}\r\n\r\nsvg {\r\n    pointer-events: none;\r\n}\r\n\r\nbutton:focus {\r\n    /*border: 3px solid var(--highlight-bg-color-hover) !important;\r\n    box-shadow: 0px 0px 7px 0px var(--highlight-bg-color-hover) !important;\r\n    */\r\n}\r\n\r\n.player-container button {\r\n    outline-style: none;\r\n}\r\n\r\n.player-container button:focus-visible {\r\n    outline-style: solid;\r\n    outline-color: var(--highlight-bg-color-hover);\r\n    outline-width: 2px;\r\n}"],sourceRoot:""}]);const s=a;},7136:(t,e,r)=>{r.d(e,{Z:()=>s});var n=r(7537),i=r.n(n),o=r(3645),a=r.n(o)()(i());a.push([t.id,"\r\n:root {\r\n    --main-fg-color: white;\r\n    --main-bg-color: rgba(0,0,0,0.8);\r\n    --main-bg-color-hover: rgb(0,0,0);\r\n    --secondary-bg-color: rgb(32,32,32);\r\n    --secondary-bg-color-hover: rgba(32,32,32,0.8);\r\n    --highlight-bg-color: #A00;\r\n    --highlight-bg-color-hover: red;\r\n    --main-bg-gradient: linear-gradient(0deg, rgba(32,32,32,1) 0%, rgba(32,32,32,0.49531687675070024) 72%, rgba(32,32,32,0.08355217086834732) 100%);\r\n    --main-border-color: rgba(125,125,125,0.4);\r\n    --video-container-background-color: #e4e4e4;\r\n    --base-video-rect-background-color: #8a8a8a;\r\n}\r\n","",{version:3,sources:["webpack://./src/css/colors.css"],names:[],mappings:";AACA;IACI,sBAAsB;IACtB,gCAAgC;IAChC,iCAAiC;IACjC,mCAAmC;IACnC,8CAA8C;IAC9C,0BAA0B;IAC1B,+BAA+B;IAC/B,+IAA+I;IAC/I,0CAA0C;IAC1C,2CAA2C;IAC3C,2CAA2C;AAC/C",sourcesContent:["\r\n:root {\r\n    --main-fg-color: white;\r\n    --main-bg-color: rgba(0,0,0,0.8);\r\n    --main-bg-color-hover: rgb(0,0,0);\r\n    --secondary-bg-color: rgb(32,32,32);\r\n    --secondary-bg-color-hover: rgba(32,32,32,0.8);\r\n    --highlight-bg-color: #A00;\r\n    --highlight-bg-color-hover: red;\r\n    --main-bg-gradient: linear-gradient(0deg, rgba(32,32,32,1) 0%, rgba(32,32,32,0.49531687675070024) 72%, rgba(32,32,32,0.08355217086834732) 100%);\r\n    --main-border-color: rgba(125,125,125,0.4);\r\n    --video-container-background-color: #e4e4e4;\r\n    --base-video-rect-background-color: #8a8a8a;\r\n}\r\n"],sourceRoot:""}]);const s=a;},7283:(t,e,r)=>{r.d(e,{Z:()=>s});var n=r(7537),i=r.n(n),o=r(3645),a=r.n(o)()(i());a.push([t.id,"/* Button plugins */\r\n:root {\r\n\t--button-fixed-width: 40px;\r\n\t--button-fixed-height: 40px;\r\n    --playback-bar-height: var(--button-fixed-height) + 10px;\r\n    --button-icon-size: calc(var(--button-fixed-width) / 2);\r\n}","",{version:3,sources:["webpack://./src/css/sizes.css"],names:[],mappings:"AAAA,mBAAmB;AACnB;CACC,0BAA0B;CAC1B,2BAA2B;IACxB,wDAAwD;IACxD,uDAAuD;AAC3D",sourcesContent:["/* Button plugins */\r\n:root {\r\n\t--button-fixed-width: 40px;\r\n\t--button-fixed-height: 40px;\r\n    --playback-bar-height: var(--button-fixed-height) + 10px;\r\n    --button-icon-size: calc(var(--button-fixed-width) / 2);\r\n}"],sourceRoot:""}]);const s=a;},3645:t=>{t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var r="",n=void 0!==e[5];return e[4]&&(r+="@supports (".concat(e[4],") {")),e[2]&&(r+="@media ".concat(e[2]," {")),n&&(r+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),r+=t(e),n&&(r+="}"),e[2]&&(r+="}"),e[4]&&(r+="}"),r})).join("")},e.i=function(t,r,n,i,o){"string"==typeof t&&(t=[[null,t,void 0]]);var a={};if(n)for(var s=0;s<this.length;s++){var c=this[s][0];null!=c&&(a[c]=!0);}for(var u=0;u<t.length;u++){var l=[].concat(t[u]);n&&a[l[0]]||(void 0!==o&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=o),r&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=r):l[2]=r),i&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=i):l[4]="".concat(i)),e.push(l));}},e};},7537:t=>{t.exports=function(t){var e=t[1],r=t[3];if(!r)return e;if("function"==typeof btoa){var n=btoa(unescape(encodeURIComponent(JSON.stringify(r)))),i="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(n),o="/*# ".concat(i," */");return [e].concat([o]).join("\n")}return [e].join("\n")};},5666:t=>{var e=function(t){var e,r=Object.prototype,n=r.hasOwnProperty,i=Object.defineProperty||function(t,e,r){t[e]=r.value;},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"");}catch(t){u=function(t,e,r){return t[e]=r};}function l(t,e,r,n){var o=e&&e.prototype instanceof g?e:g,a=Object.create(o.prototype),s=new P(n||[]);return i(a,"_invoke",{value:k(t,r,s)}),a}function f(t,e,r){try{return {type:"normal",arg:t.call(e,r)}}catch(t){return {type:"throw",arg:t}}}t.wrap=l;var h="suspendedStart",d="suspendedYield",p="executing",y="completed",v={};function g(){}function m(){}function b(){}var w={};u(w,a,(function(){return this}));var A=Object.getPrototypeOf,E=A&&A(A(O([])));E&&E!==r&&n.call(E,a)&&(w=E);var x=b.prototype=g.prototype=Object.create(w);function L(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}));}));}function _(t,e){function r(i,o,a,s){var c=f(t[i],t,o);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==typeof l&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s);}),(function(t){r("throw",t,a,s);})):e.resolve(l).then((function(t){u.value=t,a(u);}),(function(t){return r("throw",t,a,s)}))}s(c.arg);}var o;i(this,"_invoke",{value:function(t,n){function i(){return new e((function(e,i){r(t,n,e,i);}))}return o=o?o.then(i,i):i()}});}function k(t,e,r){var n=h;return function(i,o){if(n===p)throw new Error("Generator is already running");if(n===y){if("throw"===i)throw o;return I()}for(r.method=i,r.arg=o;;){var a=r.delegate;if(a){var s=C(a,r);if(s){if(s===v)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===h)throw n=y,r.arg;r.dispatchException(r.arg);}else "return"===r.method&&r.abrupt("return",r.arg);n=p;var c=f(t,e,r);if("normal"===c.type){if(n=r.done?y:d,c.arg===v)continue;return {value:c.arg,done:r.done}}"throw"===c.type&&(n=y,r.method="throw",r.arg=c.arg);}}}function C(t,r){var n=r.method,i=t.iterator[n];if(i===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,C(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var o=f(i,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,v;var a=o.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e);}function T(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e;}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0);}function O(t){if(t){var r=t[a];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function r(){for(;++i<t.length;)if(n.call(t,i))return r.value=t[i],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}return {next:I}}function I(){return {value:e,done:!0}}return m.prototype=b,i(x,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:m,configurable:!0}),m.displayName=u(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return !!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(x),t},t.awrap=function(t){return {__await:t}},L(_.prototype),u(_.prototype,s,(function(){return this})),t.AsyncIterator=_,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new _(l(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},L(x),u(x,c,"Generator"),u(x,a,(function(){return this})),u(x,"toString",(function(){return "[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=O,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e);},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function i(n,i){return s.type="throw",s.arg=t,r.next=n,i&&(r.method="next",r.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else {if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return "break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),T(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;T(r);}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:O(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),v}},t}(t.exports);try{regeneratorRuntime=e;}catch(t){"object"==typeof globalThis?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e);}},3379:t=>{var e=[];function r(t){for(var r=-1,n=0;n<e.length;n++)if(e[n].identifier===t){r=n;break}return r}function n(t,n){for(var o={},a=[],s=0;s<t.length;s++){var c=t[s],u=n.base?c[0]+n.base:c[0],l=o[u]||0,f="".concat(u," ").concat(l);o[u]=l+1;var h=r(f),d={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==h)e[h].references++,e[h].updater(d);else {var p=i(d,n);n.byIndex=s,e.splice(s,0,{identifier:f,updater:p,references:1});}a.push(f);}return a}function i(t,e){var r=e.domAPI(e);return r.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;r.update(t=e);}else r.remove();}}t.exports=function(t,i){var o=n(t=t||[],i=i||{});return function(t){t=t||[];for(var a=0;a<o.length;a++){var s=r(o[a]);e[s].references--;}for(var c=n(t,i),u=0;u<o.length;u++){var l=r(o[u]);0===e[l].references&&(e[l].updater(),e.splice(l,1));}o=c;}};},569:t=>{var e={};t.exports=function(t,r){var n=function(t){if(void 0===e[t]){var r=document.querySelector(t);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head;}catch(t){r=null;}e[t]=r;}return e[t]}(t);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");n.appendChild(r);};},9216:t=>{t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e};},3565:(t,e,r)=>{t.exports=function(t){var e=r.nc;e&&t.setAttribute("nonce",e);};},7795:t=>{t.exports=function(t){if("undefined"==typeof document)return {update:function(){},remove:function(){}};var e=t.insertStyleElement(t);return {update:function(r){!function(t,e,r){var n="";r.supports&&(n+="@supports (".concat(r.supports,") {")),r.media&&(n+="@media ".concat(r.media," {"));var i=void 0!==r.layer;i&&(n+="@layer".concat(r.layer.length>0?" ".concat(r.layer):""," {")),n+=r.css,i&&(n+="}"),r.media&&(n+="}"),r.supports&&(n+="}");var o=r.sourceMap;o&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),e.styleTagTransform(n,t,e.options);}(e,t,r);},remove:function(){!function(t){if(null===t.parentNode)return !1;t.parentNode.removeChild(t);}(e);}}};},4589:t=>{t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else {for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t));}};},1835:t=>{t.exports='<svg viewBox="0 0 40 40" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;"><g transform="matrix(0.707107,0.707107,-0.707107,0.707107,20,-8.28427)"><path d="M23,17L23,4.998C23,4.203 22.684,3.44 22.122,2.878C21.56,2.316 20.797,2 20.002,2C20.001,2 19.999,2 19.998,2C19.203,2 18.44,2.316 17.878,2.878C17.316,3.44 17,4.203 17,4.998C17,9.375 17,17 17,17L4.998,17C4.203,17 3.44,17.316 2.878,17.878C2.316,18.44 2,19.203 2,19.998C2,19.999 2,20.001 2,20.002C2,20.797 2.316,21.56 2.878,22.122C3.44,22.684 4.203,23 4.998,23C9.375,23 17,23 17,23L17,35.002C17,35.797 17.316,36.56 17.878,37.122C18.44,37.684 19.203,38 19.998,38C19.999,38 20.001,38 20.002,38C20.797,38 21.56,37.684 22.122,37.122C22.684,36.56 23,35.797 23,35.002C23,30.625 23,23 23,23L35.002,23C35.797,23 36.56,22.684 37.122,22.122C37.684,21.56 38,20.797 38,20.002C38,20.001 38,19.999 38,19.998C38,19.203 37.684,18.44 37.122,17.878C36.56,17.316 35.797,17 35.002,17C30.625,17 23,17 23,17Z"></path></g></svg>';},3280:t=>{t.exports='<svg viewBox="0 0 256 256" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;"><g id="Cancel" transform="matrix(5.54545,6.8353e-32,6.8353e-32,5.54545,-2567.37,-10735.5)"><path d="M486.05,1937C498.192,1937 508.05,1946.86 508.05,1959C508.05,1971.14 498.192,1981 486.05,1981C473.908,1981 464.05,1971.14 464.05,1959C464.05,1946.86 473.908,1937 486.05,1937ZM478.979,1950.52L477.565,1951.93L484.636,1959L477.565,1966.07L478.979,1967.49L486.05,1960.41L493.121,1967.49L494.535,1966.07L487.464,1959L494.535,1951.93L493.121,1950.52L486.05,1957.59L478.979,1950.52Z" style="fill:rgb(210,0,0);"></path></g></svg>';},4986:t=>{t.exports='<svg viewBox="0 0 40 40" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;"><g transform="matrix(-0.620305,0,0,0.839332,25.2077,0.462208)"><g transform="matrix(-1.61211,0,0,1.19142,40.6376,-0.550686)"><path d="M38.001,14.89L16.256,14.89C15.767,14.89 15.297,15.084 14.951,15.43C14.605,15.776 14.41,16.246 14.41,16.735C14.41,21.528 14.41,33.999 14.41,33.999L5.673,33.999C3.644,33.999 2,32.355 2,30.327L2,7.673C2,5.644 3.644,4 5.673,4L34.329,4C36.358,4 38.001,5.644 38.001,7.673L38.001,14.89Z"></path></g><g transform="matrix(-1.62701,0,0,1.19712,41.1319,-0.602464)"><path d="M39.174,17.858C39.174,17.501 39.032,17.158 38.781,16.906C38.529,16.653 38.188,16.511 37.833,16.511C33.587,16.511 20.516,16.511 17.043,16.511C16.816,16.511 16.598,16.602 16.438,16.763C16.278,16.924 16.188,17.142 16.188,17.37C16.188,20.366 16.188,30.369 16.188,34.019C16.188,34.376 16.329,34.719 16.581,34.971C16.832,35.224 17.173,35.366 17.529,35.366C21.597,35.366 33.765,35.366 37.833,35.366C38.188,35.366 38.529,35.224 38.781,34.971C39.032,34.719 39.174,34.376 39.174,34.019C39.174,30.548 39.174,21.329 39.174,17.858Z"></path></g></g></svg>';},6300:t=>{t.exports='<svg viewBox="0 0 40 40" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;"><g transform="matrix(-0.620305,0,0,0.839332,25.2077,0.462208)"><g transform="matrix(-1.50139,0,0,1.10483,39.8625,1.72153)"><path d="M22.034,28.802C22.58,28.752 23.089,28.64 23.626,28.496C28.793,27.112 31.864,21.792 30.48,16.625C30.189,15.54 29.715,14.525 29.088,13.619L31.915,8.722C33.663,10.535 34.942,12.776 35.606,15.251C37.748,23.248 32.996,31.48 24.999,33.622C24.011,33.887 23.04,34.063 22.034,34.123L22.034,40.015L13,31.5L22.034,23.015L22.034,28.802Z"></path></g><g transform="matrix(1.50139,1.35303e-16,1.83867e-16,-1.10483,-24.8768,44.5033)"><path d="M22.161,28.786C22.706,28.736 23.089,28.64 23.626,28.496C28.793,27.112 31.864,21.792 30.48,16.625C30.189,15.54 29.715,14.525 29.088,13.619L31.915,8.722C33.663,10.535 34.942,12.776 35.606,15.251C37.748,23.248 32.996,31.48 24.999,33.622C24.011,33.887 23.167,34.048 22.161,34.107L22.161,40L13,31.5L22.161,23L22.161,28.786Z"></path></g></g></svg>';},1042:t=>{t.exports='<svg viewBox="0 0 40 40" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;"><g transform="matrix(-0.620305,0,0,0.839332,25.2077,0.462208)"><g transform="matrix(-1.61211,0,0,1.26151,40.6376,-0.0600993)"><path d="M18,11.916C18,11.408 17.786,10.921 17.406,10.561C17.025,10.202 16.509,10 15.971,10C12.7,10 6.3,10 3.029,10C2.491,10 1.975,10.202 1.594,10.561C1.214,10.921 1,11.408 1,11.916C1,15.188 1,21.812 1,25.084C1,25.592 1.214,26.079 1.594,26.439C1.975,26.798 2.491,27 3.029,27C6.3,27 12.7,27 15.971,27C16.509,27 17.025,26.798 17.406,26.439C17.786,26.079 18,25.592 18,25.084C18,21.812 18,15.188 18,11.916ZM39,11.916C39,11.408 38.786,10.921 38.406,10.561C38.025,10.202 37.509,10 36.971,10C33.7,10 27.3,10 24.029,10C23.491,10 22.975,10.202 22.594,10.561C22.214,10.921 22,11.408 22,11.916C22,15.188 22,21.812 22,25.084C22,25.592 22.214,26.079 22.594,26.439C22.975,26.798 23.491,27 24.029,27C27.3,27 33.7,27 36.971,27C37.509,27 38.025,26.798 38.406,26.439C38.786,26.079 39,25.592 39,25.084C39,21.812 39,15.188 39,11.916Z"></path></g><g transform="matrix(-1.61211,0,0,1.23908,40.6376,0.354796)"><rect x="19" y="6" width="2" height="25"></rect></g></g></svg>';},6208:t=>{t.exports='<svg viewBox="0 0 40 40" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;"><g transform="matrix(0.920758,0,0,0.920758,2.50561,1.21236)"><path d="M11.937,17.699L11.937,21.044C11.937,21.656 11.573,22.209 11.012,22.451C10.45,22.693 9.798,22.578 9.354,22.158L1.874,15.1C1.568,14.811 1.394,14.408 1.394,13.986C1.394,13.564 1.568,13.161 1.874,12.872L9.354,5.814C9.798,5.394 10.45,5.279 11.012,5.521C11.573,5.763 11.937,6.316 11.937,6.928L11.937,10.272L22.937,10.272C23.783,10.272 24.469,10.958 24.469,11.804L24.469,16.168C24.469,17.014 23.783,17.699 22.937,17.699L11.937,17.699ZM26.063,23.11L26.063,19.765C26.063,19.153 26.427,18.6 26.988,18.358C27.55,18.116 28.201,18.231 28.646,18.651L36.126,25.709C36.432,25.999 36.606,26.402 36.606,26.823C36.606,27.245 36.432,27.648 36.126,27.937L28.646,34.996C28.201,35.415 27.55,35.53 26.988,35.288C26.427,35.046 26.063,34.493 26.063,33.882L26.063,30.537L15.063,30.537C14.217,30.537 13.531,29.851 13.531,29.005L13.531,24.641C13.531,23.795 14.217,23.11 15.063,23.11L26.063,23.11Z"></path></g></svg>';},1550:t=>{t.exports='<svg viewBox="0 0 40 40" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;"><g transform="matrix(-0.620305,0,0,0.839332,25.2077,0.462208)"><path d="M-20.625,8.591C-20.625,6.174 -17.975,4.215 -14.704,4.215L31.492,4.215C34.763,4.215 37.413,6.174 37.413,8.591L37.413,35.582C37.413,37.998 34.763,39.957 31.492,39.957L-14.704,39.957C-17.975,39.957 -20.625,37.998 -20.625,35.582L-20.625,8.591ZM1.285,12.825L8.1,7.789L-15.786,7.789L-15.786,25.442L-8.972,20.406L6.737,32.016L16.994,24.435L1.285,12.825Z"></path></g></svg>';},8221:t=>{t.exports='<svg viewBox="0 0 40 40" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;"><g transform="matrix(-0.620305,0,0,0.839332,25.2077,0.462208)"><g transform="matrix(-1.61211,0,0,1.25099,40.6376,0.938594)"><path d="M26,18.498C26,16.566 24.356,15 22.327,15C17.811,15 10.189,15 5.673,15C3.644,15 2,16.566 2,18.498C2,22.151 2,27.849 2,31.502C2,33.434 3.644,35 5.673,35C10.189,35 17.811,35 22.327,35C24.356,35 26,33.434 26,31.502C26,27.849 26,22.151 26,18.498Z"></path></g><path d="M-2.889,42.341L-16.002,42.341C-17.664,42.341 -19.01,41.345 -19.01,40.117L-19.01,11.346L-15.787,13.728L-15.787,36.879C-15.787,37.695 -15.348,38.478 -14.567,39.056C-13.785,39.633 -12.726,39.958 -11.621,39.958L-2.889,39.958L-2.889,42.341ZM30.962,18.512L30.962,8.485C30.962,7.669 30.523,6.886 29.741,6.308C28.96,5.731 27.9,5.406 26.795,5.406L-4.721,5.406L-7.945,3.024L31.181,3.024C32.842,3.024 34.189,4.019 34.189,5.247L34.189,18.512L30.962,18.512Z"></path><g transform="matrix(-0.595969,-0.440448,-1.13993,0.842464,17.4661,11.4472)"><path d="M18.389,14.006L18.389,18L5,11L18.389,4L18.389,7.994L36,7.994L36,14.006L18.389,14.006Z"></path></g></g></svg>';},752:t=>{t.exports='<svg viewBox="0 0 24 22" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421;"><g id="pause" transform="matrix(1,0,0,0.956522,-48,-7.65217)"><path d="M64,8L72,8L72,31L64,31L64,8ZM48,8L56,8L56,31L48,31L48,8Z"></path></g></svg>';},5372:t=>{t.exports='<svg viewBox="0 0 23 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421;"><g id="play" transform="matrix(1.36051e-16,0.480277,-0.550439,1.55927e-16,74.9184,-144.269)"><path d="M325.373,94.327L350.358,136.107L300.387,136.107L325.373,94.327Z"></path></g></svg>';},6304:t=>{t.exports='<svg viewBox="0 0 300 300" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;"><rect id="Play" x="0" y="0" width="300" height="300" style="fill:none;"></rect><g id="Play1" serif:id="Play"><g transform="matrix(1.21457,0,0,1.21457,-55.8704,-35.2227)"><circle cx="169.5" cy="152.5" r="123.5" style="fill:rgb(128,128,128);"></circle><path d="M169.5,29C237.662,29 293,84.338 293,152.5C293,220.662 237.662,276 169.5,276C101.338,276 46,220.662 46,152.5C46,84.338 101.338,29 169.5,29ZM169.5,37.233C233.117,37.233 284.767,88.883 284.767,152.5C284.767,216.117 233.117,267.767 169.5,267.767C105.883,267.767 54.233,216.117 54.233,152.5C54.233,88.883 105.883,37.233 169.5,37.233Z" style="fill:rgb(235,235,235);"></path></g><g transform="matrix(6.12323e-17,1,-1,6.12323e-17,347,-59)"><path d="M209,82L317,253L101,253L209,82Z" style="fill:rgb(235,235,235);"></path></g></g></svg>';},9598:t=>{t.exports='<svg viewBox="0 0 256 256" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;"><g transform="matrix(1,0,0,1,3,-3.88857)"><path d="M128,35.819C65.633,35.819 14.999,86.453 14.999,148.82C14.999,163.127 17.663,176.817 22.549,189.403L22.475,189.447C11.612,170.791 5.889,149.588 5.889,128C5.889,60.56 60.56,5.889 128,5.889L128,35.819Z" style="fill:url(#_Linear1);"></path></g><g transform="matrix(-1,1.22465e-16,-1.22465e-16,-1,258,251.914)"><path d="M128,35.819C65.633,35.819 14.999,86.453 14.999,148.82C14.999,163.127 17.663,176.817 22.549,189.403L22.475,189.447C11.612,170.791 5.889,149.588 5.889,128C5.889,60.56 60.56,5.889 128,5.889L128,35.819Z" style="fill:url(#_Linear2);"></path></g><defs><linearGradient id="_Linear1" x1="0" y1="0" x2="1" y2="0" gradientUnits="userSpaceOnUse" gradientTransform="matrix(-89.3028,140.734,-140.734,-89.3028,144.417,48.7125)"><stop offset="0" style="stop-color:rgb(13,13,13);stop-opacity:1"></stop><stop offset="1" style="stop-color:rgb(175,175,175);stop-opacity:0.5"></stop></linearGradient><linearGradient id="_Linear2" x1="0" y1="0" x2="1" y2="0" gradientUnits="userSpaceOnUse" gradientTransform="matrix(-89.3028,140.734,-140.734,-89.3028,144.417,48.7125)"><stop offset="0" style="stop-color:rgb(13,13,13);stop-opacity:1"></stop><stop offset="1" style="stop-color:rgb(175,175,175);stop-opacity:0.5"></stop></linearGradient></defs></svg>';},8903:t=>{t.exports='<svg viewBox="0 0 40 42" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;"><g transform="matrix(1.94013e-16,0.689169,-0.784942,2.23746e-16,110.436,-203.562)"><g id="play"><path d="M304.588,115.214C304.588,105.205 313.901,97.079 325.373,97.079C336.844,97.079 346.157,105.205 346.157,115.214C346.157,125.223 336.844,133.349 325.373,133.349L325.373,128.287C333.642,128.287 340.356,122.43 340.356,115.214C340.356,107.999 333.642,102.141 325.373,102.141C317.103,102.141 310.39,107.999 310.39,115.214L304.588,115.214Z"></path><g transform="matrix(-2.33361,-6.00363e-16,1.21708e-15,-2.59724,320.246,134.358)"><path d="M5.454,3.35L9.398,7.505L1.511,7.505L5.454,3.35Z"></path></g></g></g></svg>';},9998:t=>{t.exports='<svg viewBox="0 0 39 32" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421;"><g transform="matrix(1.43396,0,0,1.57895,-350.104,-74)"><path d="M271,50.995C271,49.065 269.277,47.5 267.152,47.5C267.152,47.5 260.884,46.867 257.75,46.867C254.616,46.867 248.348,47.5 248.348,47.5C246.223,47.5 244.5,49.065 244.5,50.995C244.5,50.995 244.151,55.036 244.151,56.842C244.151,58.843 244.5,63.005 244.5,63.005C244.5,64.935 246.223,66.5 248.348,66.5C248.348,66.5 254.965,67.133 258.099,67.133C261.124,67.133 267.152,66.5 267.152,66.5C269.277,66.5 271,64.935 271,63.005C271,63.005 271.349,59.002 271.349,57C271.349,54.998 271,50.995 271,50.995Z"></path></g></svg>';},9506:t=>{t.exports='<svg viewBox="0 0 34 31" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421;"><g transform="matrix(1,0,0,1,-164.25,-6)"><path d="M184.233,14.077C188.981,14.489 191.571,24.435 184.954,27.208C183.497,27.819 181.723,25.826 183.988,24.902C187.22,23.511 187.697,17.939 183.734,16.5C183.734,16.5 181.944,14.012 184.233,14.077Z" style="fill-rule:nonzero;"></path></g><g transform="matrix(1.79727,0,0,1.79727,-310.137,-22.5434)"><path d="M184.236,14.634C184.819,14.72 184.834,14.837 185.078,14.956C188.213,16.489 189.629,20.834 187.848,23.947C187.088,25.275 185.842,26.312 184.395,26.83C184.395,26.83 184.071,26.925 183.815,26.778C183.217,26.436 183.496,25.849 184.723,25.159C187.985,23.325 187.943,17.417 183.927,15.98C183.927,15.98 182.939,14.544 184.236,14.634Z" style="fill-rule:nonzero;"></path></g><g transform="matrix(2.44245,0,0,2.44245,-427.303,-35.9308)"><path d="M184.199,14.815C184.625,14.866 186.828,16.03 187.775,17.801C189.443,20.92 187.935,25.329 184.388,26.637C184.388,26.637 183.459,26.646 183.677,26.009C183.808,25.624 184.344,25.578 184.77,25.344C187.184,24.016 188.202,20.604 186.8,18.153C186.181,17.07 185.166,16.228 183.988,15.807C183.988,15.807 183.242,14.787 184.199,14.815Z" style="fill-rule:nonzero;"></path></g><g transform="matrix(1,0,0,1,-125,-5)"><path d="M131.499,14L139.68,5C140.961,5 142,6.039 142,7.32L142,31.68C142,32.961 140.961,34 139.68,34L131.499,25L127.375,25C126.063,25 125,23.937 125,22.625L125,16.375C125,15.063 126.063,14 127.375,14L131.499,14Z"></path></g></svg>';},9978:t=>{t.exports='<svg viewBox="0 0 34 31" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421;"><g id="volume-low" serif:id="volume low" transform="matrix(1,0,0,1,-165,-5)"><g><g transform="matrix(1,0,0,1,0.75,-1)"><path d="M184.233,14.077C188.981,14.489 191.571,24.435 184.954,27.208C183.497,27.819 181.723,25.826 183.988,24.902C187.22,23.511 187.697,17.939 183.734,16.5C183.734,16.5 181.944,14.012 184.233,14.077Z" style="fill-rule:nonzero;"></path></g><g transform="matrix(1,0,0,1,40,0)"><path d="M131.499,14L139.68,5C140.961,5 142,6.039 142,7.32L142,31.68C142,32.961 140.961,34 139.68,34L131.499,25L127.375,25C126.063,25 125,23.937 125,22.625L125,16.375C125,15.063 126.063,14 127.375,14L131.499,14Z"></path></g></g></g></svg>';},2704:t=>{t.exports='<svg viewBox="0 0 34 31" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421;"><g id="volume-mid" serif:id="volume mid" transform="matrix(1,0,0,1,-165,-5)"><g><g transform="matrix(1,0,0,1,0.75,-1)"><path d="M184.233,14.077C188.981,14.489 191.571,24.435 184.954,27.208C183.497,27.819 181.723,25.826 183.988,24.902C187.22,23.511 187.697,17.939 183.734,16.5C183.734,16.5 181.944,14.012 184.233,14.077Z" style="fill-rule:nonzero;"></path></g><g transform="matrix(1.79727,0,0,1.79727,-145.137,-17.5434)"><path d="M184.236,14.634C184.819,14.72 184.834,14.837 185.078,14.956C188.213,16.489 189.629,20.834 187.848,23.947C187.088,25.275 185.842,26.312 184.395,26.83C184.395,26.83 184.071,26.925 183.815,26.778C183.217,26.436 183.496,25.849 184.723,25.159C187.985,23.325 187.943,17.417 183.927,15.98C183.927,15.98 182.939,14.544 184.236,14.634Z" style="fill-rule:nonzero;"></path></g><g transform="matrix(1,0,0,1,40,0)"><path d="M131.499,14L139.68,5C140.961,5 142,6.039 142,7.32L142,31.68C142,32.961 140.961,34 139.68,34L131.499,25L127.375,25C126.063,25 125,23.937 125,22.625L125,16.375C125,15.063 126.063,14 127.375,14L131.499,14Z"></path></g></g></g></svg>';},6928:t=>{t.exports='<svg viewBox="0 0 34 31" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421;"><g id="volume-mute" serif:id="volume mute" transform="matrix(1,0,0,1,-123,-4.71142)"><path d="M142,28.522L142,31.68C142,32.961 140.961,34 139.68,34L131.499,25L127.375,25C126.063,25 125,23.937 125,22.625L125,16.375C125,15.063 126.063,14 127.375,14L127.478,14L142,28.522ZM151.228,34.983L123,6.756L125.044,4.711L132.848,12.516L139.68,5C140.961,5 142,6.039 142,7.32L142,21.667L153.272,32.939L151.228,34.983Z"></path></g></svg>';},7456:(t,e,r)=>{var n={"./en-US.json":6263,"./es-ES.json":8992};function i(t){var e=o(t);return r(e)}function o(t){if(!r.o(n,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return n[t]}i.keys=function(){return Object.keys(n)},i.resolve=o,t.exports=i,i.id=7456;},3855:(t,e,r)=>{var n={"./es.upv.paella.audioCanvas.js":1993,"./es.upv.paella.testVideoCanvas.js":1425,"./es.upv.paella.videoCanvas.js":6280};function i(t){var e=o(t);return r(e)}function o(t){if(!r.o(n,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return n[t]}i.keys=function(){return Object.keys(n)},i.resolve=o,t.exports=i,i.id=3855;},9802:(t,e,r)=>{var n={"./PaellaCoreDataPlugins.js":99,"./es.upv.paella.cookieDataPlugin.js":6016};function i(t){var e=o(t);return r(e)}function o(t){if(!r.o(n,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return n[t]}i.keys=function(){return Object.keys(n)},i.resolve=o,t.exports=i,i.id=9802;},4803:(t,e,r)=>{var n={"./PaellaCoreLayouts.js":4493,"./es.upv.paella.dualVideo.js":7236,"./es.upv.paella.dualVideoDynamic.js":675,"./es.upv.paella.dualVideoPiP.js":6593,"./es.upv.paella.singleVideo.js":8785,"./es.upv.paella.tripleVideo.js":2128};function i(t){var e=o(t);return r(e)}function o(t){if(!r.o(n,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return n[t]}i.keys=function(){return Object.keys(n)},i.resolve=o,t.exports=i,i.id=4803;},591:(t,e,r)=>{var n={"./PaellaCorePlugins.js":1481,"./es.upv.paella.canvasButtonPluginTest.js":7927,"./es.upv.paella.collisionTestShortucts.js":6384,"./es.upv.paella.defaultShortcuts.js":5026,"./es.upv.paella.dynamicWidthButton.js":9911,"./es.upv.paella.nonInteractiveButtonTest.js":4961,"./es.upv.paella.playPauseButton.js":3591,"./es.upv.paella.testButtonGroupPlugin.js":7858,"./es.upv.paella.testCaptionsPlugin.js":2694,"./es.upv.paella.testEventLogPlugin.js":5651,"./es.upv.paella.testFoldableButton.js":3508,"./es.upv.paella.testPopUp2Button.js":7924,"./es.upv.paella.testPopUpButton.js":9061,"./es.upv.paella.testProgressIndicatorPlugin.js":2786,"./es.upv.paella.testVideoContainerButton.js":8539,"./es.upv.paella.vttManifestCaptionsPlugin.js":6761};function i(t){var e=o(t);return r(e)}function o(t){if(!r.o(n,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return n[t]}i.keys=function(){return Object.keys(n)},i.resolve=o,t.exports=i,i.id=591;},6189:(t,e,r)=>{var n={"./PaellaCoreVideoFormats.js":477,"./es.upv.paella.audioVideoFormat.js":6361,"./es.upv.paella.hlsLiveVideoFormat.js":310,"./es.upv.paella.hlsVideoFormat.js":8069,"./es.upv.paella.htmlVideoFormat.js":8755,"./es.upv.paella.imageVideoFormat.js":4348,"./es.upv.paella.mp4VideoFormat.js":2604};function i(t){var e=o(t);return r(e)}function o(t){if(!r.o(n,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return n[t]}i.keys=function(){return Object.keys(n)},i.resolve=o,t.exports=i,i.id=6189;},3041:(t,e,r)=>{function n(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}r.d(e,{Z:()=>qi});var i={exports:{}};!function(t,e){var r,n,i,o,a;r=/^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/,n=/^(?=([^\/?#]*))\1([^]*)$/,i=/(?:\/|^)\.(?=\/)/g,o=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,a={buildAbsoluteURL:function(t,e,r){if(r=r||{},t=t.trim(),!(e=e.trim())){if(!r.alwaysNormalize)return t;var i=a.parseURL(t);if(!i)throw new Error("Error trying to parse base URL.");return i.path=a.normalizePath(i.path),a.buildURLFromParts(i)}var o=a.parseURL(e);if(!o)throw new Error("Error trying to parse relative URL.");if(o.scheme)return r.alwaysNormalize?(o.path=a.normalizePath(o.path),a.buildURLFromParts(o)):e;var s=a.parseURL(t);if(!s)throw new Error("Error trying to parse base URL.");if(!s.netLoc&&s.path&&"/"!==s.path[0]){var c=n.exec(s.path);s.netLoc=c[1],s.path=c[2];}s.netLoc&&!s.path&&(s.path="/");var u={scheme:s.scheme,netLoc:o.netLoc,path:null,params:o.params,query:o.query,fragment:o.fragment};if(!o.netLoc&&(u.netLoc=s.netLoc,"/"!==o.path[0]))if(o.path){var l=s.path,f=l.substring(0,l.lastIndexOf("/")+1)+o.path;u.path=a.normalizePath(f);}else u.path=s.path,o.params||(u.params=s.params,o.query||(u.query=s.query));return null===u.path&&(u.path=r.alwaysNormalize?a.normalizePath(o.path):o.path),a.buildURLFromParts(u)},parseURL:function(t){var e=r.exec(t);return e?{scheme:e[1]||"",netLoc:e[2]||"",path:e[3]||"",params:e[4]||"",query:e[5]||"",fragment:e[6]||""}:null},normalizePath:function(t){for(t=t.split("").reverse().join("").replace(i,"");t.length!==(t=t.replace(o,"")).length;);return t.split("").reverse().join("")},buildURLFromParts:function(t){return t.scheme+t.netLoc+t.path+t.params+t.query+t.fragment}},t.exports=a;}(i);var o=i.exports;function a(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n);}return r}function s(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?a(Object(r),!0).forEach((function(e){c(t,e,r[e]);})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e));}));}return t}function c(t,e,r){return (e=function(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return "symbol"==typeof e?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function u(){return u=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n]);}return t},u.apply(this,arguments)}const l=Number.isFinite||function(t){return "number"==typeof t&&isFinite(t)};let f=function(t){return t.MEDIA_ATTACHING="hlsMediaAttaching",t.MEDIA_ATTACHED="hlsMediaAttached",t.MEDIA_DETACHING="hlsMediaDetaching",t.MEDIA_DETACHED="hlsMediaDetached",t.BUFFER_RESET="hlsBufferReset",t.BUFFER_CODECS="hlsBufferCodecs",t.BUFFER_CREATED="hlsBufferCreated",t.BUFFER_APPENDING="hlsBufferAppending",t.BUFFER_APPENDED="hlsBufferAppended",t.BUFFER_EOS="hlsBufferEos",t.BUFFER_FLUSHING="hlsBufferFlushing",t.BUFFER_FLUSHED="hlsBufferFlushed",t.MANIFEST_LOADING="hlsManifestLoading",t.MANIFEST_LOADED="hlsManifestLoaded",t.MANIFEST_PARSED="hlsManifestParsed",t.LEVEL_SWITCHING="hlsLevelSwitching",t.LEVEL_SWITCHED="hlsLevelSwitched",t.LEVEL_LOADING="hlsLevelLoading",t.LEVEL_LOADED="hlsLevelLoaded",t.LEVEL_UPDATED="hlsLevelUpdated",t.LEVEL_PTS_UPDATED="hlsLevelPtsUpdated",t.LEVELS_UPDATED="hlsLevelsUpdated",t.AUDIO_TRACKS_UPDATED="hlsAudioTracksUpdated",t.AUDIO_TRACK_SWITCHING="hlsAudioTrackSwitching",t.AUDIO_TRACK_SWITCHED="hlsAudioTrackSwitched",t.AUDIO_TRACK_LOADING="hlsAudioTrackLoading",t.AUDIO_TRACK_LOADED="hlsAudioTrackLoaded",t.SUBTITLE_TRACKS_UPDATED="hlsSubtitleTracksUpdated",t.SUBTITLE_TRACKS_CLEARED="hlsSubtitleTracksCleared",t.SUBTITLE_TRACK_SWITCH="hlsSubtitleTrackSwitch",t.SUBTITLE_TRACK_LOADING="hlsSubtitleTrackLoading",t.SUBTITLE_TRACK_LOADED="hlsSubtitleTrackLoaded",t.SUBTITLE_FRAG_PROCESSED="hlsSubtitleFragProcessed",t.CUES_PARSED="hlsCuesParsed",t.NON_NATIVE_TEXT_TRACKS_FOUND="hlsNonNativeTextTracksFound",t.INIT_PTS_FOUND="hlsInitPtsFound",t.FRAG_LOADING="hlsFragLoading",t.FRAG_LOAD_EMERGENCY_ABORTED="hlsFragLoadEmergencyAborted",t.FRAG_LOADED="hlsFragLoaded",t.FRAG_DECRYPTED="hlsFragDecrypted",t.FRAG_PARSING_INIT_SEGMENT="hlsFragParsingInitSegment",t.FRAG_PARSING_USERDATA="hlsFragParsingUserdata",t.FRAG_PARSING_METADATA="hlsFragParsingMetadata",t.FRAG_PARSED="hlsFragParsed",t.FRAG_BUFFERED="hlsFragBuffered",t.FRAG_CHANGED="hlsFragChanged",t.FPS_DROP="hlsFpsDrop",t.FPS_DROP_LEVEL_CAPPING="hlsFpsDropLevelCapping",t.ERROR="hlsError",t.DESTROYING="hlsDestroying",t.KEY_LOADING="hlsKeyLoading",t.KEY_LOADED="hlsKeyLoaded",t.LIVE_BACK_BUFFER_REACHED="hlsLiveBackBufferReached",t.BACK_BUFFER_REACHED="hlsBackBufferReached",t}({}),h=function(t){return t.NETWORK_ERROR="networkError",t.MEDIA_ERROR="mediaError",t.KEY_SYSTEM_ERROR="keySystemError",t.MUX_ERROR="muxError",t.OTHER_ERROR="otherError",t}({}),d=function(t){return t.KEY_SYSTEM_NO_KEYS="keySystemNoKeys",t.KEY_SYSTEM_NO_ACCESS="keySystemNoAccess",t.KEY_SYSTEM_NO_SESSION="keySystemNoSession",t.KEY_SYSTEM_NO_CONFIGURED_LICENSE="keySystemNoConfiguredLicense",t.KEY_SYSTEM_LICENSE_REQUEST_FAILED="keySystemLicenseRequestFailed",t.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED="keySystemServerCertificateRequestFailed",t.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED="keySystemServerCertificateUpdateFailed",t.KEY_SYSTEM_SESSION_UPDATE_FAILED="keySystemSessionUpdateFailed",t.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED="keySystemStatusOutputRestricted",t.KEY_SYSTEM_STATUS_INTERNAL_ERROR="keySystemStatusInternalError",t.MANIFEST_LOAD_ERROR="manifestLoadError",t.MANIFEST_LOAD_TIMEOUT="manifestLoadTimeOut",t.MANIFEST_PARSING_ERROR="manifestParsingError",t.MANIFEST_INCOMPATIBLE_CODECS_ERROR="manifestIncompatibleCodecsError",t.LEVEL_EMPTY_ERROR="levelEmptyError",t.LEVEL_LOAD_ERROR="levelLoadError",t.LEVEL_LOAD_TIMEOUT="levelLoadTimeOut",t.LEVEL_PARSING_ERROR="levelParsingError",t.LEVEL_SWITCH_ERROR="levelSwitchError",t.AUDIO_TRACK_LOAD_ERROR="audioTrackLoadError",t.AUDIO_TRACK_LOAD_TIMEOUT="audioTrackLoadTimeOut",t.SUBTITLE_LOAD_ERROR="subtitleTrackLoadError",t.SUBTITLE_TRACK_LOAD_TIMEOUT="subtitleTrackLoadTimeOut",t.FRAG_LOAD_ERROR="fragLoadError",t.FRAG_LOAD_TIMEOUT="fragLoadTimeOut",t.FRAG_DECRYPT_ERROR="fragDecryptError",t.FRAG_PARSING_ERROR="fragParsingError",t.FRAG_GAP="fragGap",t.REMUX_ALLOC_ERROR="remuxAllocError",t.KEY_LOAD_ERROR="keyLoadError",t.KEY_LOAD_TIMEOUT="keyLoadTimeOut",t.BUFFER_ADD_CODEC_ERROR="bufferAddCodecError",t.BUFFER_INCOMPATIBLE_CODECS_ERROR="bufferIncompatibleCodecsError",t.BUFFER_APPEND_ERROR="bufferAppendError",t.BUFFER_APPENDING_ERROR="bufferAppendingError",t.BUFFER_STALLED_ERROR="bufferStalledError",t.BUFFER_FULL_ERROR="bufferFullError",t.BUFFER_SEEK_OVER_HOLE="bufferSeekOverHole",t.BUFFER_NUDGE_ON_STALL="bufferNudgeOnStall",t.INTERNAL_EXCEPTION="internalException",t.INTERNAL_ABORTED="aborted",t.UNKNOWN="unknown",t}({});const p=function(){},y={trace:p,debug:p,log:p,warn:p,info:p,error:p};let v=y;const g=v,m=/^(\d+)x(\d+)$/,b=/(.+?)=(".*?"|.*?)(?:,|$)/g;class w{constructor(t){"string"==typeof t&&(t=w.parseAttrList(t));for(const e in t)t.hasOwnProperty(e)&&("X-"===e.substring(0,2)&&(this.clientAttrs=this.clientAttrs||[],this.clientAttrs.push(e)),this[e]=t[e]);}decimalInteger(t){const e=parseInt(this[t],10);return e>Number.MAX_SAFE_INTEGER?1/0:e}hexadecimalInteger(t){if(this[t]){let e=(this[t]||"0x").slice(2);e=(1&e.length?"0":"")+e;const r=new Uint8Array(e.length/2);for(let t=0;t<e.length/2;t++)r[t]=parseInt(e.slice(2*t,2*t+2),16);return r}return null}hexadecimalIntegerAsNumber(t){const e=parseInt(this[t],16);return e>Number.MAX_SAFE_INTEGER?1/0:e}decimalFloatingPoint(t){return parseFloat(this[t])}optionalFloat(t,e){const r=this[t];return r?parseFloat(r):e}enumeratedString(t){return this[t]}bool(t){return "YES"===this[t]}decimalResolution(t){const e=m.exec(this[t]);if(null!==e)return {width:parseInt(e[1],10),height:parseInt(e[2],10)}}static parseAttrList(t){let e;const r={};for(b.lastIndex=0;null!==(e=b.exec(t));){let t=e[2];0===t.indexOf('"')&&t.lastIndexOf('"')===t.length-1&&(t=t.slice(1,-1)),r[e[1].trim()]=t;}return r}}function A(t){return "SCTE35-OUT"===t||"SCTE35-IN"===t}class E{constructor(t,e){if(this.attr=void 0,this._startDate=void 0,this._endDate=void 0,this._badValueForSameId=void 0,e){const r=e.attr;for(const e in r)if(Object.prototype.hasOwnProperty.call(t,e)&&t[e]!==r[e]){g.warn(`DATERANGE tag attribute: "${e}" does not match for tags with ID: "${t.ID}"`),this._badValueForSameId=e;break}t=u(new w({}),r,t);}if(this.attr=t,this._startDate=new Date(t["START-DATE"]),"END-DATE"in this.attr){const t=new Date(this.attr["END-DATE"]);l(t.getTime())&&(this._endDate=t);}}get id(){return this.attr.ID}get class(){return this.attr.CLASS}get startDate(){return this._startDate}get endDate(){if(this._endDate)return this._endDate;const t=this.duration;return null!==t?new Date(this._startDate.getTime()+1e3*t):null}get duration(){if("DURATION"in this.attr){const t=this.attr.decimalFloatingPoint("DURATION");if(l(t))return t}else if(this._endDate)return (this._endDate.getTime()-this._startDate.getTime())/1e3;return null}get plannedDuration(){return "PLANNED-DURATION"in this.attr?this.attr.decimalFloatingPoint("PLANNED-DURATION"):null}get endOnNext(){return this.attr.bool("END-ON-NEXT")}get isValid(){return !!this.id&&!this._badValueForSameId&&l(this.startDate.getTime())&&(null===this.duration||this.duration>=0)&&(!this.endOnNext||!!this.class)}}class x{constructor(){this.aborted=!1,this.loaded=0,this.retry=0,this.total=0,this.chunkCount=0,this.bwEstimate=0,this.loading={start:0,first:0,end:0},this.parsing={start:0,end:0},this.buffering={start:0,first:0,end:0};}}var L={AUDIO:"audio",VIDEO:"video",AUDIOVIDEO:"audiovideo"};class _{constructor(t){this._byteRange=null,this._url=null,this.baseurl=void 0,this.relurl=void 0,this.elementaryStreams={[L.AUDIO]:null,[L.VIDEO]:null,[L.AUDIOVIDEO]:null},this.baseurl=t;}setByteRange(t,e){const r=t.split("@",2),n=[];1===r.length?n[0]=e?e.byteRangeEndOffset:0:n[0]=parseInt(r[1]),n[1]=parseInt(r[0])+n[0],this._byteRange=n;}get byteRange(){return this._byteRange?this._byteRange:[]}get byteRangeStartOffset(){return this.byteRange[0]}get byteRangeEndOffset(){return this.byteRange[1]}get url(){return !this._url&&this.baseurl&&this.relurl&&(this._url=o.buildAbsoluteURL(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url||""}set url(t){this._url=t;}}class k extends _{constructor(t,e){super(e),this._decryptdata=null,this.rawProgramDateTime=null,this.programDateTime=null,this.tagList=[],this.duration=0,this.sn=0,this.levelkeys=void 0,this.type=void 0,this.loader=null,this.keyLoader=null,this.level=-1,this.cc=0,this.startPTS=void 0,this.endPTS=void 0,this.startDTS=void 0,this.endDTS=void 0,this.start=0,this.deltaPTS=void 0,this.maxStartPTS=void 0,this.minEndPTS=void 0,this.stats=new x,this.urlId=0,this.data=void 0,this.bitrateTest=!1,this.title=null,this.initSegment=null,this.endList=void 0,this.gap=void 0,this.type=t;}get decryptdata(){const{levelkeys:t}=this;if(!t&&!this._decryptdata)return null;if(!this._decryptdata&&this.levelkeys&&!this.levelkeys.NONE){const t=this.levelkeys.identity;if(t)this._decryptdata=t.getDecryptData(this.sn);else {const t=Object.keys(this.levelkeys);if(1===t.length)return this._decryptdata=this.levelkeys[t[0]].getDecryptData(this.sn)}}return this._decryptdata}get end(){return this.start+this.duration}get endProgramDateTime(){if(null===this.programDateTime)return null;if(!l(this.programDateTime))return null;const t=l(this.duration)?this.duration:0;return this.programDateTime+1e3*t}get encrypted(){var t;if(null!=(t=this._decryptdata)&&t.encrypted)return !0;if(this.levelkeys){const t=Object.keys(this.levelkeys),e=t.length;if(e>1||1===e&&this.levelkeys[t[0]].encrypted)return !0}return !1}setKeyFormat(t){if(this.levelkeys){const e=this.levelkeys[t];e&&!this._decryptdata&&(this._decryptdata=e.getDecryptData(this.sn));}}abortRequests(){var t,e;null==(t=this.loader)||t.abort(),null==(e=this.keyLoader)||e.abort();}setElementaryStreamInfo(t,e,r,n,i,o=!1){const{elementaryStreams:a}=this,s=a[t];s?(s.startPTS=Math.min(s.startPTS,e),s.endPTS=Math.max(s.endPTS,r),s.startDTS=Math.min(s.startDTS,n),s.endDTS=Math.max(s.endDTS,i)):a[t]={startPTS:e,endPTS:r,startDTS:n,endDTS:i,partial:o};}clearElementaryStreamInfo(){const{elementaryStreams:t}=this;t[L.AUDIO]=null,t[L.VIDEO]=null,t[L.AUDIOVIDEO]=null;}}class C extends _{constructor(t,e,r,n,i){super(r),this.fragOffset=0,this.duration=0,this.gap=!1,this.independent=!1,this.relurl=void 0,this.fragment=void 0,this.index=void 0,this.stats=new x,this.duration=t.decimalFloatingPoint("DURATION"),this.gap=t.bool("GAP"),this.independent=t.bool("INDEPENDENT"),this.relurl=t.enumeratedString("URI"),this.fragment=e,this.index=n;const o=t.enumeratedString("BYTERANGE");o&&this.setByteRange(o,i),i&&(this.fragOffset=i.fragOffset+i.duration);}get start(){return this.fragment.start+this.fragOffset}get end(){return this.start+this.duration}get loaded(){const{elementaryStreams:t}=this;return !!(t.audio||t.video||t.audiovideo)}}class S{constructor(t){this.PTSKnown=!1,this.alignedSliding=!1,this.averagetargetduration=void 0,this.endCC=0,this.endSN=0,this.fragments=void 0,this.fragmentHint=void 0,this.partList=null,this.dateRanges=void 0,this.live=!0,this.ageHeader=0,this.advancedDateTime=void 0,this.updated=!0,this.advanced=!0,this.availabilityDelay=void 0,this.misses=0,this.startCC=0,this.startSN=0,this.startTimeOffset=null,this.targetduration=0,this.totalduration=0,this.type=null,this.url=void 0,this.m3u8="",this.version=null,this.canBlockReload=!1,this.canSkipUntil=0,this.canSkipDateRanges=!1,this.skippedSegments=0,this.recentlyRemovedDateranges=void 0,this.partHoldBack=0,this.holdBack=0,this.partTarget=0,this.preloadHint=void 0,this.renditionReports=void 0,this.tuneInGoal=0,this.deltaUpdateFailed=void 0,this.driftStartTime=0,this.driftEndTime=0,this.driftStart=0,this.driftEnd=0,this.encryptedFragments=void 0,this.playlistParsingError=null,this.variableList=null,this.hasVariableRefs=!1,this.fragments=[],this.encryptedFragments=[],this.dateRanges={},this.url=t;}reloaded(t){if(!t)return this.advanced=!0,void(this.updated=!0);const e=this.lastPartSn-t.lastPartSn,r=this.lastPartIndex-t.lastPartIndex;this.updated=this.endSN!==t.endSN||!!r||!!e,this.advanced=this.endSN>t.endSN||e>0||0===e&&r>0,this.updated||this.advanced?this.misses=Math.floor(.6*t.misses):this.misses=t.misses+1,this.availabilityDelay=t.availabilityDelay;}get hasProgramDateTime(){return !!this.fragments.length&&l(this.fragments[this.fragments.length-1].programDateTime)}get levelTargetDuration(){return this.averagetargetduration||this.targetduration||10}get drift(){const t=this.driftEndTime-this.driftStartTime;return t>0?1e3*(this.driftEnd-this.driftStart)/t:1}get edge(){return this.partEnd||this.fragmentEnd}get partEnd(){var t;return null!=(t=this.partList)&&t.length?this.partList[this.partList.length-1].end:this.fragmentEnd}get fragmentEnd(){var t;return null!=(t=this.fragments)&&t.length?this.fragments[this.fragments.length-1].end:0}get age(){return this.advancedDateTime?Math.max(Date.now()-this.advancedDateTime,0)/1e3:0}get lastPartIndex(){var t;return null!=(t=this.partList)&&t.length?this.partList[this.partList.length-1].index:-1}get lastPartSn(){var t;return null!=(t=this.partList)&&t.length?this.partList[this.partList.length-1].fragment.sn:this.endSN}}function T(t){return Uint8Array.from(atob(t),(t=>t.charCodeAt(0)))}function P(t){return Uint8Array.from(unescape(encodeURIComponent(t)),(t=>t.charCodeAt(0)))}var O={CLEARKEY:"org.w3.clearkey",FAIRPLAY:"com.apple.fps",PLAYREADY:"com.microsoft.playready",WIDEVINE:"com.widevine.alpha"},I="org.w3.clearkey",R="com.apple.streamingkeydelivery",D="com.microsoft.playready",j="urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed";function B(t){switch(t){case R:return O.FAIRPLAY;case D:return O.PLAYREADY;case j:return O.WIDEVINE;case I:return O.CLEARKEY}}var F="edef8ba979d64acea3c827dcd51d21ed";function N(t){switch(t){case O.FAIRPLAY:return R;case O.PLAYREADY:return D;case O.WIDEVINE:return j;case O.CLEARKEY:return I}}function M(t){const{drmSystems:e,widevineLicenseUrl:r}=t,n=e?[O.FAIRPLAY,O.WIDEVINE,O.PLAYREADY,O.CLEARKEY].filter((t=>!!e[t])):[];return !n[O.WIDEVINE]&&r&&n.push(O.WIDEVINE),n}const U="undefined"!=typeof self&&self.navigator&&self.navigator.requestMediaKeySystemAccess?self.navigator.requestMediaKeySystemAccess.bind(self.navigator):null;function G(t,e,r){return Uint8Array.prototype.slice?t.slice(e,r):new Uint8Array(Array.prototype.slice.call(t,e,r))}const $=(t,e)=>e+10<=t.length&&73===t[e]&&68===t[e+1]&&51===t[e+2]&&t[e+3]<255&&t[e+4]<255&&t[e+6]<128&&t[e+7]<128&&t[e+8]<128&&t[e+9]<128,V=(t,e)=>e+10<=t.length&&51===t[e]&&68===t[e+1]&&73===t[e+2]&&t[e+3]<255&&t[e+4]<255&&t[e+6]<128&&t[e+7]<128&&t[e+8]<128&&t[e+9]<128,K=(t,e)=>{const r=e;let n=0;for(;$(t,e);)n+=10,n+=H(t,e+6),V(t,e+10)&&(n+=10),e+=n;if(n>0)return t.subarray(r,r+n)},H=(t,e)=>{let r=0;return r=(127&t[e])<<21,r|=(127&t[e+1])<<14,r|=(127&t[e+2])<<7,r|=127&t[e+3],r},Y=(t,e)=>$(t,e)&&H(t,e+6)+10<=t.length-e,Z=t=>t&&"PRIV"===t.key&&"com.apple.streaming.transportStreamTimestamp"===t.info,W=t=>{const e=String.fromCharCode(t[0],t[1],t[2],t[3]),r=H(t,4);return {type:e,size:r,data:t.subarray(10,10+r)}},z=t=>{let e=0;const r=[];for(;$(t,e);){const n=H(t,e+6);e+=10;const i=e+n;for(;e+8<i;){const n=W(t.subarray(e)),i=q(n);i&&r.push(i),e+=n.size+10;}V(t,e)&&(e+=10);}return r},q=t=>"PRIV"===t.type?X(t):"W"===t.type[0]?J(t):Q(t),X=t=>{if(t.size<2)return;const e=et(t.data,!0),r=new Uint8Array(t.data.subarray(e.length+1));return {key:t.type,info:e,data:r.buffer}},Q=t=>{if(t.size<2)return;if("TXXX"===t.type){let e=1;const r=et(t.data.subarray(e),!0);e+=r.length+1;const n=et(t.data.subarray(e));return {key:t.type,info:r,data:n}}const e=et(t.data.subarray(1));return {key:t.type,data:e}},J=t=>{if("WXXX"===t.type){if(t.size<2)return;let e=1;const r=et(t.data.subarray(e),!0);e+=r.length+1;const n=et(t.data.subarray(e));return {key:t.type,info:r,data:n}}const e=et(t.data);return {key:t.type,data:e}},tt=t=>{if(8===t.data.byteLength){const e=new Uint8Array(t.data),r=1&e[3];let n=(e[4]<<23)+(e[5]<<15)+(e[6]<<7)+e[7];return n/=45,r&&(n+=47721858.84),Math.round(n)}},et=(t,e=!1)=>{const r=nt();if(r){const n=r.decode(t);if(e){const t=n.indexOf("\0");return -1!==t?n.substring(0,t):n}return n.replace(/\0/g,"")}const n=t.length;let i,o,a,s="",c=0;for(;c<n;){if(i=t[c++],0===i&&e)return s;if(0!==i&&3!==i)switch(i>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:s+=String.fromCharCode(i);break;case 12:case 13:o=t[c++],s+=String.fromCharCode((31&i)<<6|63&o);break;case 14:o=t[c++],a=t[c++],s+=String.fromCharCode((15&i)<<12|(63&o)<<6|(63&a)<<0);}}return s};let rt;function nt(){return rt||void 0===self.TextDecoder||(rt=new self.TextDecoder("utf-8")),rt}const it=function(t){let e="";for(let r=0;r<t.length;r++){let n=t[r].toString(16);n.length<2&&(n="0"+n),e+=n;}return e},ot=Math.pow(2,32)-1,at=[].push,st={video:1,audio:2,id3:3,text:4};function ct(t){return String.fromCharCode.apply(null,t)}function ut(t,e){const r=t[e]<<8|t[e+1];return r<0?65536+r:r}function lt(t,e){const r=ft(t,e);return r<0?4294967296+r:r}function ft(t,e){return t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]}function ht(t,e,r){t[e]=r>>24,t[e+1]=r>>16&255,t[e+2]=r>>8&255,t[e+3]=255&r;}function dt(t,e){const r=[];if(!e.length)return r;const n=t.byteLength;for(let i=0;i<n;){const o=lt(t,i),a=o>1?i+o:n;if(ct(t.subarray(i+4,i+8))===e[0])if(1===e.length)r.push(t.subarray(i+8,a));else {const n=dt(t.subarray(i+8,a),e.slice(1));n.length&&at.apply(r,n);}i=a;}return r}function pt(t){const e=[],r=t[0];let n=8;const i=lt(t,n);n+=4,n+=0===r?8:16,n+=2;let o=t.length+0;const a=ut(t,n);n+=2;for(let r=0;r<a;r++){let r=n;const a=lt(t,r);r+=4;const s=2147483647&a;if(1==(2147483648&a)>>>31)return g.warn("SIDX has hierarchical references (not supported)"),null;const c=lt(t,r);r+=4,e.push({referenceSize:s,subsegmentDuration:c,info:{duration:c/i,start:o,end:o+s-1}}),o+=s,r+=4,n=r;}return {earliestPresentationTime:0,timescale:i,version:r,referencesCount:a,references:e}}function yt(t){const e=[],r=dt(t,["moov","trak"]);for(let t=0;t<r.length;t++){const n=r[t],i=dt(n,["tkhd"])[0];if(i){let t=i[0],r=0===t?12:20;const o=lt(i,r),a=dt(n,["mdia","mdhd"])[0];if(a){t=a[0],r=0===t?12:20;const i=lt(a,r),s=dt(n,["mdia","hdlr"])[0];if(s){const t=ct(s.subarray(8,12)),r={soun:L.AUDIO,vide:L.VIDEO}[t];if(r){const t=dt(n,["mdia","minf","stbl","stsd"])[0];let a;t&&(a=ct(t.subarray(12,16))),e[o]={timescale:i,type:r},e[r]={timescale:i,id:o,codec:a};}}}}}return dt(t,["moov","mvex","trex"]).forEach((t=>{const r=lt(t,4),n=e[r];n&&(n.default={duration:lt(t,12),flags:lt(t,20)});})),e}function vt(t){const e=dt(t,["schm"])[0];if(e){const r=ct(e.subarray(4,8));if("cbcs"===r||"cenc"===r)return dt(t,["schi","tenc"])[0]}return g.error("[eme] missing 'schm' box"),null}function gt(t){const e=lt(t,0);let r=8;1&e&&(r+=4),4&e&&(r+=4);let n=0;const i=lt(t,4);for(let o=0;o<i;o++)256&e&&(n+=lt(t,r),r+=4),512&e&&(r+=4),1024&e&&(r+=4),2048&e&&(r+=4);return n}function mt(t,e){const r=new Uint8Array(t.length+e.length);return r.set(t),r.set(e,t.length),r}function bt(t,e){const r=[],n=e.samples,i=e.timescale,o=e.id;let a=!1;return dt(n,["moof"]).map((s=>{const c=s.byteOffset-8;dt(s,["traf"]).map((s=>{const u=dt(s,["tfdt"]).map((t=>{const e=t[0];let r=lt(t,4);return 1===e&&(r*=Math.pow(2,32),r+=lt(t,8)),r/i}))[0];return void 0!==u&&(t=u),dt(s,["tfhd"]).map((u=>{const l=lt(u,4),f=16777215&lt(u,0);let h=0;const d=0!=(16&f);let p=0;const y=0!=(32&f);let v=8;l===o&&(0!=(1&f)&&(v+=8),0!=(2&f)&&(v+=4),0!=(8&f)&&(h=lt(u,v),v+=4),d&&(p=lt(u,v),v+=4),y&&(v+=4),"video"===e.type&&(a=function(t){if(!t)return !1;const e=t.indexOf("."),r=e<0?t:t.substring(0,e);return "hvc1"===r||"hev1"===r||"dvh1"===r||"dvhe"===r}(e.codec)),dt(s,["trun"]).map((o=>{const s=o[0],u=16777215&lt(o,0),l=0!=(1&u);let f=0;const d=0!=(4&u),y=0!=(256&u);let v=0;const g=0!=(512&u);let m=0;const b=0!=(1024&u),w=0!=(2048&u);let A=0;const E=lt(o,4);let x=8;l&&(f=lt(o,x),x+=4),d&&(x+=4);let _=f+c;for(let c=0;c<E;c++){if(y?(v=lt(o,x),x+=4):v=h,g?(m=lt(o,x),x+=4):m=p,b&&(x+=4),w&&(A=0===s?lt(o,x):ft(o,x),x+=4),e.type===L.VIDEO){let e=0;for(;e<m;){const o=lt(n,_);_+=4,wt(a,n[_])&&At(n.subarray(_,_+o),a?2:1,t+A/i,r),_+=o,e+=o+4;}}t+=v/i;}})));}))}));})),r}function wt(t,e){if(t){const t=e>>1&63;return 39===t||40===t}return 6==(31&e)}function At(t,e,r,n){const i=Et(t);let o=0;o+=e;let a=0,s=0,c=!1,u=0;for(;o<i.length;){a=0;do{if(o>=i.length)break;u=i[o++],a+=u;}while(255===u);s=0;do{if(o>=i.length)break;u=i[o++],s+=u;}while(255===u);const t=i.length-o;if(!c&&4===a&&o<i.length){if(c=!0,181===i[o++]){const t=ut(i,o);if(o+=2,49===t){const t=lt(i,o);if(o+=4,1195456820===t){const t=i[o++];if(3===t){const e=i[o++],s=64&e,c=s?2+3*(31&e):0,u=new Uint8Array(c);if(s){u[0]=e;for(let t=1;t<c;t++)u[t]=i[o++];}n.push({type:t,payloadType:a,pts:r,bytes:u});}}}}}else if(5===a&&s<t){if(c=!0,s>16){const t=[];for(let e=0;e<16;e++){const r=i[o++].toString(16);t.push(1==r.length?"0"+r:r),3!==e&&5!==e&&7!==e&&9!==e||t.push("-");}const e=s-16,c=new Uint8Array(e);for(let t=0;t<e;t++)c[t]=i[o++];n.push({payloadType:a,pts:r,uuid:t.join(""),userData:et(c),userDataBytes:c});}}else if(s<t)o+=s;else if(s>t)break}}function Et(t){const e=t.byteLength,r=[];let n=1;for(;n<e-2;)0===t[n]&&0===t[n+1]&&3===t[n+2]?(r.push(n+2),n+=2):n++;if(0===r.length)return t;const i=e-r.length,o=new Uint8Array(i);let a=0;for(n=0;n<i;a++,n++)a===r[0]&&(a++,r.shift()),o[n]=t[a];return o}let xt={};class Lt{static clearKeyUriToKeyIdMap(){xt={};}constructor(t,e,r,n=[1],i=null){this.uri=void 0,this.method=void 0,this.keyFormat=void 0,this.keyFormatVersions=void 0,this.encrypted=void 0,this.isCommonEncryption=void 0,this.iv=null,this.key=null,this.keyId=null,this.pssh=null,this.method=t,this.uri=e,this.keyFormat=r,this.keyFormatVersions=n,this.iv=i,this.encrypted=!!t&&"NONE"!==t,this.isCommonEncryption=this.encrypted&&"AES-128"!==t;}isSupported(){if(this.method){if("AES-128"===this.method||"NONE"===this.method)return !0;if("identity"===this.keyFormat)return "SAMPLE-AES"===this.method;switch(this.keyFormat){case R:case j:case D:case I:return -1!==["ISO-23001-7","SAMPLE-AES","SAMPLE-AES-CENC","SAMPLE-AES-CTR"].indexOf(this.method)}}return !1}getDecryptData(t){if(!this.encrypted||!this.uri)return null;if("AES-128"===this.method&&this.uri&&!this.iv){"number"!=typeof t&&("AES-128"!==this.method||this.iv||g.warn(`missing IV for initialization segment with method="${this.method}" - compliance issue`),t=0);const e=function(t){const e=new Uint8Array(16);for(let r=12;r<16;r++)e[r]=t>>8*(15-r)&255;return e}(t);return new Lt(this.method,this.uri,"identity",this.keyFormatVersions,e)}const e=function(t){const e=t.split(":");let r=null;if("data"===e[0]&&2===e.length){const t=e[1].split(";"),n=t[t.length-1].split(",");if(2===n.length){const e="base64"===n[0],i=n[1];e?(t.splice(-1,1),r=T(i)):r=function(t){const e=P(t).subarray(0,16),r=new Uint8Array(16);return r.set(e,16-e.length),r}(i);}}return r}(this.uri);if(e)switch(this.keyFormat){case j:this.pssh=e,e.length>=22&&(this.keyId=e.subarray(e.length-22,e.length-6));break;case D:{const t=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]);this.pssh=function(t,e,r){if(16!==t.byteLength)throw new RangeError("Invalid system id");let n,i,o;if(e){n=1,i=new Uint8Array(16*e.length);for(let t=0;t<e.length;t++){const r=e[t];if(16!==r.byteLength)throw new RangeError("Invalid key");i.set(r,16*t);}}else n=0,i=new Uint8Array;n>0?(o=new Uint8Array(4),e.length>0&&new DataView(o.buffer).setUint32(0,e.length,!1)):o=new Uint8Array;const a=new Uint8Array(4);return r&&r.byteLength>0&&new DataView(a.buffer).setUint32(0,r.byteLength,!1),function(t,...e){const r=e.length;let n=8,i=r;for(;i--;)n+=e[i].byteLength;const o=new Uint8Array(n);for(o[0]=n>>24&255,o[1]=n>>16&255,o[2]=n>>8&255,o[3]=255&n,o.set(t,4),i=0,n=8;i<r;i++)o.set(e[i],n),n+=e[i].byteLength;return o}([112,115,115,104],new Uint8Array([n,0,0,0]),t,o,i,a,r||new Uint8Array)}(t,null,e);const r=new Uint16Array(e.buffer,e.byteOffset,e.byteLength/2),n=String.fromCharCode.apply(null,Array.from(r)),i=n.substring(n.indexOf("<"),n.length),o=(new DOMParser).parseFromString(i,"text/xml").getElementsByTagName("KID")[0];if(o){const t=o.childNodes[0]?o.childNodes[0].nodeValue:o.getAttribute("VALUE");if(t){const e=T(t).subarray(0,16);!function(t){const e=function(t,e,r){const n=t[e];t[e]=t[r],t[r]=n;};e(t,0,3),e(t,1,2),e(t,4,5),e(t,6,7);}(e),this.keyId=e;}}break}default:{let t=e.subarray(0,16);if(16!==t.length){const e=new Uint8Array(16);e.set(t,16-t.length),t=e;}this.keyId=t;break}}if(!this.keyId||16!==this.keyId.byteLength){let t=xt[this.uri];if(!t){const e=Object.keys(xt).length%Number.MAX_SAFE_INTEGER;t=new Uint8Array(16),new DataView(t.buffer,12,4).setUint32(0,e),xt[this.uri]=t;}this.keyId=t;}return this}}const _t=/\{\$([a-zA-Z0-9-_]+)\}/g;function kt(t){return _t.test(t)}function Ct(t,e,r){if(null!==t.variableList||t.hasVariableRefs)for(let n=r.length;n--;){const i=r[n],o=e[i];o&&(e[i]=St(t,o));}}function St(t,e){if(null!==t.variableList||t.hasVariableRefs){const r=t.variableList;return e.replace(_t,(e=>{const n=e.substring(2,e.length-1),i=null==r?void 0:r[n];return void 0===i?(t.playlistParsingError||(t.playlistParsingError=new Error(`Missing preceding EXT-X-DEFINE tag for Variable Reference: "${n}"`)),e):i}))}return e}function Tt(t,e,r){let n,i,o=t.variableList;if(o||(t.variableList=o={}),"QUERYPARAM"in e){n=e.QUERYPARAM;try{const t=new self.URL(r).searchParams;if(!t.has(n))throw new Error(`"${n}" does not match any query parameter in URI: "${r}"`);i=t.get(n);}catch(e){t.playlistParsingError||(t.playlistParsingError=new Error(`EXT-X-DEFINE QUERYPARAM: ${e.message}`));}}else n=e.NAME,i=e.VALUE;n in o?t.playlistParsingError||(t.playlistParsingError=new Error(`EXT-X-DEFINE duplicate Variable Name declarations: "${n}"`)):o[n]=i||"";}function Pt(t,e,r){const n=e.IMPORT;if(r&&n in r){let e=t.variableList;e||(t.variableList=e={}),e[n]=r[n];}else t.playlistParsingError||(t.playlistParsingError=new Error(`EXT-X-DEFINE IMPORT attribute not found in Multivariant Playlist: "${n}"`));}function Ot(){if("undefined"!=typeof self)return self.MediaSource||self.WebKitMediaSource}const It={audio:{a3ds:!0,"ac-3":!0,"ac-4":!0,alac:!0,alaw:!0,dra1:!0,"dts+":!0,"dts-":!0,dtsc:!0,dtse:!0,dtsh:!0,"ec-3":!0,enca:!0,g719:!0,g726:!0,m4ae:!0,mha1:!0,mha2:!0,mhm1:!0,mhm2:!0,mlpa:!0,mp4a:!0,"raw ":!0,Opus:!0,opus:!0,samr:!0,sawb:!0,sawp:!0,sevc:!0,sqcp:!0,ssmv:!0,twos:!0,ulaw:!0},video:{avc1:!0,avc2:!0,avc3:!0,avc4:!0,avcp:!0,av01:!0,drac:!0,dva1:!0,dvav:!0,dvh1:!0,dvhe:!0,encv:!0,hev1:!0,hvc1:!0,mjp2:!0,mp4v:!0,mvc1:!0,mvc2:!0,mvc3:!0,mvc4:!0,resv:!0,rv60:!0,s263:!0,svc1:!0,svc2:!0,"vc-1":!0,vp08:!0,vp09:!0},text:{stpp:!0,wvtt:!0}},Rt=Ot();function Dt(t,e){var r;return null!=(r=null==Rt?void 0:Rt.isTypeSupported(`${e||"video"}/mp4;codecs="${t}"`))&&r}const jt=/#EXT-X-STREAM-INF:([^\r\n]*)(?:[\r\n](?:#[^\r\n]*)?)*([^\r\n]+)|#EXT-X-(SESSION-DATA|SESSION-KEY|DEFINE|CONTENT-STEERING|START):([^\r\n]*)[\r\n]+/g,Bt=/#EXT-X-MEDIA:(.*)/g,Ft=/^#EXT(?:INF|-X-TARGETDURATION):/m,Nt=new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/(?!#) *(\S[\S ]*)/.source,/#EXT-X-BYTERANGE:*(.+)/.source,/#EXT-X-PROGRAM-DATE-TIME:(.+)/.source,/#.*/.source].join("|"),"g"),Mt=new RegExp([/#(EXTM3U)/.source,/#EXT-X-(DATERANGE|DEFINE|KEY|MAP|PART|PART-INF|PLAYLIST-TYPE|PRELOAD-HINT|RENDITION-REPORT|SERVER-CONTROL|SKIP|START):(.+)/.source,/#EXT-X-(BITRATE|DISCONTINUITY-SEQUENCE|MEDIA-SEQUENCE|TARGETDURATION|VERSION): *(\d+)/.source,/#EXT-X-(DISCONTINUITY|ENDLIST|GAP)/.source,/(#)([^:]*):(.*)/.source,/(#)(.*)(?:.*)\r?\n?/.source].join("|"));class Ut{static findGroup(t,e){for(let r=0;r<t.length;r++){const n=t[r];if(n.id===e)return n}}static convertAVC1ToAVCOTI(t){const e=t.split(".");if(e.length>2){let t=e.shift()+".";return t+=parseInt(e.shift()).toString(16),t+=("000"+parseInt(e.shift()).toString(16)).slice(-4),t}return t}static resolve(t,e){return o.buildAbsoluteURL(e,t,{alwaysNormalize:!0})}static isMediaPlaylist(t){return Ft.test(t)}static parseMasterPlaylist(t,e){const r={contentSteering:null,levels:[],playlistParsingError:null,sessionData:null,sessionKeys:null,startTimeOffset:null,variableList:null,hasVariableRefs:kt(t)},n=[];let i;for(jt.lastIndex=0;null!=(i=jt.exec(t));)if(i[1]){var o;const t=new w(i[1]);Ct(r,t,["CODECS","SUPPLEMENTAL-CODECS","ALLOWED-CPC","PATHWAY-ID","STABLE-VARIANT-ID","AUDIO","VIDEO","SUBTITLES","CLOSED-CAPTIONS","NAME"]);const a=St(r,i[2]),s={attrs:t,bitrate:t.decimalInteger("AVERAGE-BANDWIDTH")||t.decimalInteger("BANDWIDTH"),name:t.NAME,url:Ut.resolve(a,e)},c=t.decimalResolution("RESOLUTION");c&&(s.width=c.width,s.height=c.height),Vt((t.CODECS||"").split(/[ ,]+/).filter((t=>t)),s),s.videoCodec&&-1!==s.videoCodec.indexOf("avc1")&&(s.videoCodec=Ut.convertAVC1ToAVCOTI(s.videoCodec)),null!=(o=s.unknownCodecs)&&o.length||n.push(s),r.levels.push(s);}else if(i[3]){const t=i[3],n=i[4];switch(t){case"SESSION-DATA":{const t=new w(n);Ct(r,t,["DATA-ID","LANGUAGE","VALUE","URI"]);const e=t["DATA-ID"];e&&(null===r.sessionData&&(r.sessionData={}),r.sessionData[e]=t);break}case"SESSION-KEY":{const t=Gt(n,e,r);t.encrypted&&t.isSupported()?(null===r.sessionKeys&&(r.sessionKeys=[]),r.sessionKeys.push(t)):g.warn(`[Keys] Ignoring invalid EXT-X-SESSION-KEY tag: "${n}"`);break}case"DEFINE":{const t=new w(n);Ct(r,t,["NAME","VALUE","QUERYPARAM"]),Tt(r,t,e);}break;case"CONTENT-STEERING":{const t=new w(n);Ct(r,t,["SERVER-URI","PATHWAY-ID"]),r.contentSteering={uri:Ut.resolve(t["SERVER-URI"],e),pathwayId:t["PATHWAY-ID"]||"."};break}case"START":r.startTimeOffset=$t(n);}}const a=n.length>0&&n.length<r.levels.length;return r.levels=a?n:r.levels,0===r.levels.length&&(r.playlistParsingError=new Error("no levels found in manifest")),r}static parseMasterPlaylistMedia(t,e,r){let n;const i={},o=r.levels,a={AUDIO:o.map((t=>({id:t.attrs.AUDIO,audioCodec:t.audioCodec}))),SUBTITLES:o.map((t=>({id:t.attrs.SUBTITLES,textCodec:t.textCodec}))),"CLOSED-CAPTIONS":[]};let s=0;for(Bt.lastIndex=0;null!==(n=Bt.exec(t));){const t=new w(n[1]),o=t.TYPE;if(o){const n=a[o],c=i[o]||[];i[o]=c,Ct(r,t,["URI","GROUP-ID","LANGUAGE","ASSOC-LANGUAGE","STABLE-RENDITION-ID","NAME","INSTREAM-ID","CHARACTERISTICS","CHANNELS"]);const u={attrs:t,bitrate:0,id:s++,groupId:t["GROUP-ID"]||"",instreamId:t["INSTREAM-ID"],name:t.NAME||t.LANGUAGE||"",type:o,default:t.bool("DEFAULT"),autoselect:t.bool("AUTOSELECT"),forced:t.bool("FORCED"),lang:t.LANGUAGE,url:t.URI?Ut.resolve(t.URI,e):""};if(null!=n&&n.length){const t=Ut.findGroup(n,u.groupId)||n[0];Kt(u,t,"audioCodec"),Kt(u,t,"textCodec");}c.push(u);}}return i}static parseLevelPlaylist(t,e,r,n,i,o){const a=new S(e),s=a.fragments;let c,f,h,d=null,p=0,y=0,v=0,m=0,b=null,A=new k(n,e),x=-1,L=!1;for(Nt.lastIndex=0,a.m3u8=t,a.hasVariableRefs=kt(t);null!==(c=Nt.exec(t));){L&&(L=!1,A=new k(n,e),A.start=v,A.sn=p,A.cc=m,A.level=r,d&&(A.initSegment=d,A.rawProgramDateTime=d.rawProgramDateTime,d.rawProgramDateTime=null));const t=c[1];if(t){A.duration=parseFloat(t);const e=(" "+c[2]).slice(1);A.title=e||null,A.tagList.push(e?["INF",t,e]:["INF",t]);}else if(c[3]){if(l(A.duration)){A.start=v,h&&Zt(A,h,a),A.sn=p,A.level=r,A.cc=m,A.urlId=i,s.push(A);const t=(" "+c[3]).slice(1);A.relurl=St(a,t),Ht(A,b),b=A,v+=A.duration,p++,y=0,L=!0;}}else if(c[4]){const t=(" "+c[4]).slice(1);b?A.setByteRange(t,b):A.setByteRange(t);}else if(c[5])A.rawProgramDateTime=(" "+c[5]).slice(1),A.tagList.push(["PROGRAM-DATE-TIME",A.rawProgramDateTime]),-1===x&&(x=s.length);else {if(c=c[0].match(Mt),!c){g.warn("No matches on slow regex match for level playlist!");continue}for(f=1;f<c.length&&void 0===c[f];f++);const t=(" "+c[f]).slice(1),i=(" "+c[f+1]).slice(1),v=c[f+2]?(" "+c[f+2]).slice(1):"";switch(t){case"PLAYLIST-TYPE":a.type=i.toUpperCase();break;case"MEDIA-SEQUENCE":p=a.startSN=parseInt(i);break;case"SKIP":{const t=new w(i);Ct(a,t,["RECENTLY-REMOVED-DATERANGES"]);const e=t.decimalInteger("SKIPPED-SEGMENTS");if(l(e)){a.skippedSegments=e;for(let t=e;t--;)s.unshift(null);p+=e;}const r=t.enumeratedString("RECENTLY-REMOVED-DATERANGES");r&&(a.recentlyRemovedDateranges=r.split("\t"));break}case"TARGETDURATION":a.targetduration=Math.max(parseInt(i),1);break;case"VERSION":a.version=parseInt(i);break;case"EXTM3U":break;case"ENDLIST":a.live=!1;break;case"#":(i||v)&&A.tagList.push(v?[i,v]:[i]);break;case"DISCONTINUITY":m++,A.tagList.push(["DIS"]);break;case"GAP":A.gap=!0,A.tagList.push([t]);break;case"BITRATE":A.tagList.push([t,i]);break;case"DATERANGE":{const t=new w(i);Ct(a,t,["ID","CLASS","START-DATE","END-DATE","SCTE35-CMD","SCTE35-OUT","SCTE35-IN"]),Ct(a,t,t.clientAttrs);const e=new E(t,a.dateRanges[t.ID]);e.isValid||a.skippedSegments?a.dateRanges[e.id]=e:g.warn(`Ignoring invalid DATERANGE tag: "${i}"`),A.tagList.push(["EXT-X-DATERANGE",i]);break}case"DEFINE":{const t=new w(i);Ct(a,t,["NAME","VALUE","IMPORT","QUERYPARAM"]),"IMPORT"in t?Pt(a,t,o):Tt(a,t,e);}break;case"DISCONTINUITY-SEQUENCE":m=parseInt(i);break;case"KEY":{const t=Gt(i,e,a);if(t.isSupported()){if("NONE"===t.method){h=void 0;break}h||(h={}),h[t.keyFormat]&&(h=u({},h)),h[t.keyFormat]=t;}else g.warn(`[Keys] Ignoring invalid EXT-X-KEY tag: "${i}"`);break}case"START":a.startTimeOffset=$t(i);break;case"MAP":{const t=new w(i);if(Ct(a,t,["BYTERANGE","URI"]),A.duration){const i=new k(n,e);Yt(i,t,r,h),d=i,A.initSegment=d,d.rawProgramDateTime&&!A.rawProgramDateTime&&(A.rawProgramDateTime=d.rawProgramDateTime);}else Yt(A,t,r,h),d=A,L=!0;break}case"SERVER-CONTROL":{const t=new w(i);a.canBlockReload=t.bool("CAN-BLOCK-RELOAD"),a.canSkipUntil=t.optionalFloat("CAN-SKIP-UNTIL",0),a.canSkipDateRanges=a.canSkipUntil>0&&t.bool("CAN-SKIP-DATERANGES"),a.partHoldBack=t.optionalFloat("PART-HOLD-BACK",0),a.holdBack=t.optionalFloat("HOLD-BACK",0);break}case"PART-INF":{const t=new w(i);a.partTarget=t.decimalFloatingPoint("PART-TARGET");break}case"PART":{let t=a.partList;t||(t=a.partList=[]);const r=y>0?t[t.length-1]:void 0,n=y++,o=new w(i);Ct(a,o,["BYTERANGE","URI"]);const s=new C(o,A,e,n,r);t.push(s),A.duration+=s.duration;break}case"PRELOAD-HINT":{const t=new w(i);Ct(a,t,["URI"]),a.preloadHint=t;break}case"RENDITION-REPORT":{const t=new w(i);Ct(a,t,["URI"]),a.renditionReports=a.renditionReports||[],a.renditionReports.push(t);break}default:g.warn(`line parsed but not handled: ${c}`);}}}b&&!b.relurl?(s.pop(),v-=b.duration,a.partList&&(a.fragmentHint=b)):a.partList&&(Ht(A,b),A.cc=m,a.fragmentHint=A,h&&Zt(A,h,a));const _=s.length,T=s[0],P=s[_-1];if(v+=a.skippedSegments*a.targetduration,v>0&&_&&P){a.averagetargetduration=v/_;const t=P.sn;a.endSN="initSegment"!==t?t:0,a.live||(P.endList=!0),T&&(a.startCC=T.cc);}else a.endSN=0,a.startCC=0;return a.fragmentHint&&(v+=a.fragmentHint.duration),a.totalduration=v,a.endCC=m,x>0&&function(t,e){let r=t[e];for(let n=e;n--;){const e=t[n];if(!e)return;e.programDateTime=r.programDateTime-1e3*e.duration,r=e;}}(s,x),a}}function Gt(t,e,r){var n,i;const o=new w(t);Ct(r,o,["KEYFORMAT","KEYFORMATVERSIONS","URI","IV","URI"]);const a=null!=(n=o.METHOD)?n:"",s=o.URI,c=o.hexadecimalInteger("IV"),u=o.KEYFORMATVERSIONS,l=null!=(i=o.KEYFORMAT)?i:"identity";s&&o.IV&&!c&&g.error(`Invalid IV: ${o.IV}`);const f=s?Ut.resolve(s,e):"",h=(u||"1").split("/").map(Number).filter(Number.isFinite);return new Lt(a,f,l,h,c)}function $t(t){const e=new w(t).decimalFloatingPoint("TIME-OFFSET");return l(e)?e:null}function Vt(t,e){["video","audio","text"].forEach((r=>{const n=t.filter((t=>function(t,e){const r=It[e];return !!r&&!0===r[t.slice(0,4)]}(t,r)));if(n.length){const i=n.filter((t=>0===t.lastIndexOf("avc1",0)||0===t.lastIndexOf("mp4a",0)));e[`${r}Codec`]=i.length>0?i[0]:n[0],t=t.filter((t=>-1===n.indexOf(t)));}})),e.unknownCodecs=t;}function Kt(t,e,r){const n=e[r];n&&(t[r]=n);}function Ht(t,e){t.rawProgramDateTime?t.programDateTime=Date.parse(t.rawProgramDateTime):null!=e&&e.programDateTime&&(t.programDateTime=e.endProgramDateTime),l(t.programDateTime)||(t.programDateTime=null,t.rawProgramDateTime=null);}function Yt(t,e,r,n){t.relurl=e.URI,e.BYTERANGE&&t.setByteRange(e.BYTERANGE),t.level=r,t.sn="initSegment",n&&(t.levelkeys=n),t.initSegment=null;}function Zt(t,e,r){t.levelkeys=e;const{encryptedFragments:n}=r;n.length&&n[n.length-1].levelkeys===e||!Object.keys(e).some((t=>e[t].isCommonEncryption))||n.push(t);}var Wt={MANIFEST:"manifest",LEVEL:"level",AUDIO_TRACK:"audioTrack",SUBTITLE_TRACK:"subtitleTrack"},zt={MAIN:"main",AUDIO:"audio",SUBTITLE:"subtitle"};function qt(t){const{type:e}=t;switch(e){case Wt.AUDIO_TRACK:return zt.AUDIO;case Wt.SUBTITLE_TRACK:return zt.SUBTITLE;default:return zt.MAIN}}function Xt(t,e){let r=t.url;return void 0!==r&&0!==r.indexOf("data:")||(r=e.url),r}class Qt{constructor(t){this.hls=void 0,this.loaders=Object.create(null),this.variableList=null,this.hls=t,this.registerListeners();}startLoad(t){}stopLoad(){this.destroyInternalLoaders();}registerListeners(){const{hls:t}=this;t.on(f.MANIFEST_LOADING,this.onManifestLoading,this),t.on(f.LEVEL_LOADING,this.onLevelLoading,this),t.on(f.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),t.on(f.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this);}unregisterListeners(){const{hls:t}=this;t.off(f.MANIFEST_LOADING,this.onManifestLoading,this),t.off(f.LEVEL_LOADING,this.onLevelLoading,this),t.off(f.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),t.off(f.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this);}createInternalLoader(t){const e=this.hls.config,r=e.pLoader,n=e.loader,i=new(r||n)(e);return this.loaders[t.type]=i,i}getInternalLoader(t){return this.loaders[t.type]}resetInternalLoader(t){this.loaders[t]&&delete this.loaders[t];}destroyInternalLoaders(){for(const t in this.loaders){const e=this.loaders[t];e&&e.destroy(),this.resetInternalLoader(t);}}destroy(){this.variableList=null,this.unregisterListeners(),this.destroyInternalLoaders();}onManifestLoading(t,e){const{url:r}=e;this.variableList=null,this.load({id:null,level:0,responseType:"text",type:Wt.MANIFEST,url:r,deliveryDirectives:null});}onLevelLoading(t,e){const{id:r,level:n,url:i,deliveryDirectives:o}=e;this.load({id:r,level:n,responseType:"text",type:Wt.LEVEL,url:i,deliveryDirectives:o});}onAudioTrackLoading(t,e){const{id:r,groupId:n,url:i,deliveryDirectives:o}=e;this.load({id:r,groupId:n,level:null,responseType:"text",type:Wt.AUDIO_TRACK,url:i,deliveryDirectives:o});}onSubtitleTrackLoading(t,e){const{id:r,groupId:n,url:i,deliveryDirectives:o}=e;this.load({id:r,groupId:n,level:null,responseType:"text",type:Wt.SUBTITLE_TRACK,url:i,deliveryDirectives:o});}load(t){var e;const r=this.hls.config;let n,i=this.getInternalLoader(t);if(i){const e=i.context;if(e&&e.url===t.url)return void g.trace("[playlist-loader]: playlist request ongoing");g.log(`[playlist-loader]: aborting previous loader for type: ${t.type}`),i.abort();}if(n=t.type===Wt.MANIFEST?r.manifestLoadPolicy.default:u({},r.playlistLoadPolicy.default,{timeoutRetry:null,errorRetry:null}),i=this.createInternalLoader(t),null!=(e=t.deliveryDirectives)&&e.part){let e;if(t.type===Wt.LEVEL&&null!==t.level?e=this.hls.levels[t.level].details:t.type===Wt.AUDIO_TRACK&&null!==t.id?e=this.hls.audioTracks[t.id].details:t.type===Wt.SUBTITLE_TRACK&&null!==t.id&&(e=this.hls.subtitleTracks[t.id].details),e){const t=e.partTarget,r=e.targetduration;if(t&&r){const e=1e3*Math.max(3*t,.8*r);n=u({},n,{maxTimeToFirstByteMs:Math.min(e,n.maxTimeToFirstByteMs),maxLoadTimeMs:Math.min(e,n.maxTimeToFirstByteMs)});}}}const o=n.errorRetry||n.timeoutRetry||{},a={loadPolicy:n,timeout:n.maxLoadTimeMs,maxRetry:o.maxNumRetry||0,retryDelay:o.retryDelayMs||0,maxRetryDelay:o.maxRetryDelayMs||0},s={onSuccess:(t,e,r,n)=>{const i=this.getInternalLoader(r);this.resetInternalLoader(r.type);const o=t.data;0===o.indexOf("#EXTM3U")?(e.parsing.start=performance.now(),Ut.isMediaPlaylist(o)?this.handleTrackOrLevelPlaylist(t,e,r,n||null,i):this.handleMasterPlaylist(t,e,r,n)):this.handleManifestParsingError(t,r,new Error("no EXTM3U delimiter"),n||null,e);},onError:(t,e,r,n)=>{this.handleNetworkError(e,r,!1,t,n);},onTimeout:(t,e,r)=>{this.handleNetworkError(e,r,!0,void 0,t);}};i.load(t,a,s);}handleMasterPlaylist(t,e,r,n){const i=this.hls,o=t.data,a=Xt(t,r),s=Ut.parseMasterPlaylist(o,a);if(s.playlistParsingError)return void this.handleManifestParsingError(t,r,s.playlistParsingError,n,e);const{contentSteering:c,levels:u,sessionData:l,sessionKeys:h,startTimeOffset:d,variableList:p}=s;this.variableList=p;const{AUDIO:y=[],SUBTITLES:v,"CLOSED-CAPTIONS":m}=Ut.parseMasterPlaylistMedia(o,a,s);y.length&&(y.some((t=>!t.url))||!u[0].audioCodec||u[0].attrs.AUDIO||(g.log("[playlist-loader]: audio codec signaled in quality level, but no embedded audio track signaled, create one"),y.unshift({type:"main",name:"main",groupId:"main",default:!1,autoselect:!1,forced:!1,id:-1,attrs:new w({}),bitrate:0,url:""}))),i.trigger(f.MANIFEST_LOADED,{levels:u,audioTracks:y,subtitles:v,captions:m,contentSteering:c,url:a,stats:e,networkDetails:n,sessionData:l,sessionKeys:h,startTimeOffset:d,variableList:p});}handleTrackOrLevelPlaylist(t,e,r,n,i){const o=this.hls,{id:a,level:s,type:c}=r,u=Xt(t,r),h=l(a)?a:0,d=l(s)?s:h,p=qt(r),y=Ut.parseLevelPlaylist(t.data,u,d,p,h,this.variableList);if(c===Wt.MANIFEST){const t={attrs:new w({}),bitrate:0,details:y,name:"",url:u};o.trigger(f.MANIFEST_LOADED,{levels:[t],audioTracks:[],url:u,stats:e,networkDetails:n,sessionData:null,sessionKeys:null,contentSteering:null,startTimeOffset:null,variableList:null});}e.parsing.end=performance.now(),r.levelDetails=y,this.handlePlaylistLoaded(y,t,e,r,n,i);}handleManifestParsingError(t,e,r,n,i){this.hls.trigger(f.ERROR,{type:h.NETWORK_ERROR,details:d.MANIFEST_PARSING_ERROR,fatal:e.type===Wt.MANIFEST,url:t.url,err:r,error:r,reason:r.message,response:t,context:e,networkDetails:n,stats:i});}handleNetworkError(t,e,r=!1,n,i){let o=`A network ${r?"timeout":"error"+(n?" (status "+n.code+")":"")} occurred while loading ${t.type}`;t.type===Wt.LEVEL?o+=`: ${t.level} id: ${t.id}`:t.type!==Wt.AUDIO_TRACK&&t.type!==Wt.SUBTITLE_TRACK||(o+=` id: ${t.id} group-id: "${t.groupId}"`);const a=new Error(o);g.warn(`[playlist-loader]: ${o}`);let c=d.UNKNOWN,u=!1;const l=this.getInternalLoader(t);switch(t.type){case Wt.MANIFEST:c=r?d.MANIFEST_LOAD_TIMEOUT:d.MANIFEST_LOAD_ERROR,u=!0;break;case Wt.LEVEL:c=r?d.LEVEL_LOAD_TIMEOUT:d.LEVEL_LOAD_ERROR,u=!1;break;case Wt.AUDIO_TRACK:c=r?d.AUDIO_TRACK_LOAD_TIMEOUT:d.AUDIO_TRACK_LOAD_ERROR,u=!1;break;case Wt.SUBTITLE_TRACK:c=r?d.SUBTITLE_TRACK_LOAD_TIMEOUT:d.SUBTITLE_LOAD_ERROR,u=!1;}l&&this.resetInternalLoader(t.type);const p={type:h.NETWORK_ERROR,details:c,fatal:u,url:t.url,loader:l,context:t,error:a,networkDetails:e,stats:i};if(n){const r=(null==e?void 0:e.url)||t.url;p.response=s({url:r,data:void 0},n);}this.hls.trigger(f.ERROR,p);}handlePlaylistLoaded(t,e,r,n,i,o){const a=this.hls,{type:s,level:c,id:u,groupId:l,deliveryDirectives:p}=n,y=Xt(e,n),v=qt(n),g="number"==typeof n.level&&v===zt.MAIN?c:void 0;if(!t.fragments.length){const t=new Error("No Segments found in Playlist");return void a.trigger(f.ERROR,{type:h.NETWORK_ERROR,details:d.LEVEL_EMPTY_ERROR,fatal:!1,url:y,error:t,reason:t.message,response:e,context:n,level:g,parent:v,networkDetails:i,stats:r})}t.targetduration||(t.playlistParsingError=new Error("Missing Target Duration"));const m=t.playlistParsingError;if(m)a.trigger(f.ERROR,{type:h.NETWORK_ERROR,details:d.LEVEL_PARSING_ERROR,fatal:!1,url:y,error:m,reason:m.message,response:e,context:n,level:g,parent:v,networkDetails:i,stats:r});else switch(t.live&&o&&(o.getCacheAge&&(t.ageHeader=o.getCacheAge()||0),o.getCacheAge&&!isNaN(t.ageHeader)||(t.ageHeader=0)),s){case Wt.MANIFEST:case Wt.LEVEL:a.trigger(f.LEVEL_LOADED,{details:t,level:g||0,id:u||0,stats:r,networkDetails:i,deliveryDirectives:p});break;case Wt.AUDIO_TRACK:a.trigger(f.AUDIO_TRACK_LOADED,{details:t,id:u||0,groupId:l||"",stats:r,networkDetails:i,deliveryDirectives:p});break;case Wt.SUBTITLE_TRACK:a.trigger(f.SUBTITLE_TRACK_LOADED,{details:t,id:u||0,groupId:l||"",stats:r,networkDetails:i,deliveryDirectives:p});}}}function Jt(t,e){let r;try{r=new Event("addtrack");}catch(t){r=document.createEvent("Event"),r.initEvent("addtrack",!1,!1);}r.track=t,e.dispatchEvent(r);}function te(t,e){const r=t.mode;if("disabled"===r&&(t.mode="hidden"),t.cues&&!t.cues.getCueById(e.id))try{if(t.addCue(e),!t.cues.getCueById(e.id))throw new Error(`addCue is failed for: ${e}`)}catch(r){g.debug(`[texttrack-utils]: ${r}`);const n=new self.TextTrackCue(e.startTime,e.endTime,e.text);n.id=e.id,t.addCue(n);}"disabled"===r&&(t.mode=r);}function ee(t){const e=t.mode;if("disabled"===e&&(t.mode="hidden"),t.cues)for(let e=t.cues.length;e--;)t.removeCue(t.cues[e]);"disabled"===e&&(t.mode=e);}function re(t,e,r,n){const i=t.mode;if("disabled"===i&&(t.mode="hidden"),t.cues&&t.cues.length>0){const i=function(t,e,r){const n=[],i=function(t,e){if(e<t[0].startTime)return 0;const r=t.length-1;if(e>t[r].endTime)return -1;let n=0,i=r;for(;n<=i;){const o=Math.floor((i+n)/2);if(e<t[o].startTime)i=o-1;else {if(!(e>t[o].startTime&&n<r))return o;n=o+1;}}return t[n].startTime-e<e-t[i].startTime?n:i}(t,e);if(i>-1)for(let o=i,a=t.length;o<a;o++){const i=t[o];if(i.startTime>=e&&i.endTime<=r)n.push(i);else if(i.startTime>r)return n}return n}(t.cues,e,r);for(let e=0;e<i.length;e++)n&&!n(i[e])||t.removeCue(i[e]);}"disabled"===i&&(t.mode=i);}var ne="org.id3",ie="https://aomedia.org/emsg/ID3";function oe(){if("undefined"!=typeof self)return self.WebKitDataCue||self.VTTCue||self.TextTrackCue}const ae=(()=>{const t=oe();try{new t(0,Number.POSITIVE_INFINITY,"");}catch(t){return Number.MAX_VALUE}return Number.POSITIVE_INFINITY})();function se(t,e){return t.getTime()/1e3-e}class ce{constructor(t){this.hls=void 0,this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.hls=t,this._registerListeners();}destroy(){this._unregisterListeners(),this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.hls=null;}_registerListeners(){const{hls:t}=this;t.on(f.MEDIA_ATTACHED,this.onMediaAttached,this),t.on(f.MEDIA_DETACHING,this.onMediaDetaching,this),t.on(f.MANIFEST_LOADING,this.onManifestLoading,this),t.on(f.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),t.on(f.BUFFER_FLUSHING,this.onBufferFlushing,this),t.on(f.LEVEL_UPDATED,this.onLevelUpdated,this);}_unregisterListeners(){const{hls:t}=this;t.off(f.MEDIA_ATTACHED,this.onMediaAttached,this),t.off(f.MEDIA_DETACHING,this.onMediaDetaching,this),t.off(f.MANIFEST_LOADING,this.onManifestLoading,this),t.off(f.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),t.off(f.BUFFER_FLUSHING,this.onBufferFlushing,this),t.off(f.LEVEL_UPDATED,this.onLevelUpdated,this);}onMediaAttached(t,e){this.media=e.media;}onMediaDetaching(){this.id3Track&&(ee(this.id3Track),this.id3Track=null,this.media=null,this.dateRangeCuesAppended={});}onManifestLoading(){this.dateRangeCuesAppended={};}createTrack(t){const e=this.getID3Track(t.textTracks);return e.mode="hidden",e}getID3Track(t){if(this.media){for(let e=0;e<t.length;e++){const r=t[e];if("metadata"===r.kind&&"id3"===r.label)return Jt(r,this.media),r}return this.media.addTextTrack("metadata","id3")}}onFragParsingMetadata(t,e){if(!this.media)return;const{hls:{config:{enableEmsgMetadataCues:r,enableID3MetadataCues:n}}}=this;if(!r&&!n)return;const{samples:i}=e;this.id3Track||(this.id3Track=this.createTrack(this.media));const o=oe();for(let t=0;t<i.length;t++){const e=i[t].type;if(e===ie&&!r||!n)continue;const a=z(i[t].data);if(a){const r=i[t].pts;let n=r+i[t].duration;n>ae&&(n=ae),n-r<=0&&(n=r+.25);for(let t=0;t<a.length;t++){const i=a[t];if(!Z(i)){this.updateId3CueEnds(r);const t=new o(r,n,"");t.value=i,e&&(t.type=e),this.id3Track.addCue(t);}}}}}updateId3CueEnds(t){var e;const r=null==(e=this.id3Track)?void 0:e.cues;if(r)for(let e=r.length;e--;){const n=r[e];n.startTime<t&&n.endTime===ae&&(n.endTime=t);}}onBufferFlushing(t,{startOffset:e,endOffset:r,type:n}){const{id3Track:i,hls:o}=this;if(!o)return;const{config:{enableEmsgMetadataCues:a,enableID3MetadataCues:s}}=o;if(i&&(a||s)){let t;t="audio"===n?t=>t.type===ne&&s:"video"===n?t=>t.type===ie&&a:t=>t.type===ne&&s||t.type===ie&&a,re(i,e,r,t);}}onLevelUpdated(t,{details:e}){if(!this.media||!e.hasProgramDateTime||!this.hls.config.enableDateRangeMetadataCues)return;const{dateRangeCuesAppended:r,id3Track:n}=this,{dateRanges:i}=e,o=Object.keys(i);if(n){const t=Object.keys(r).filter((t=>!o.includes(t)));for(let e=t.length;e--;){const i=t[e];Object.keys(r[i].cues).forEach((t=>{n.removeCue(r[i].cues[t]);})),delete r[i];}}const a=e.fragments[e.fragments.length-1];if(0===o.length||!l(null==a?void 0:a.programDateTime))return;this.id3Track||(this.id3Track=this.createTrack(this.media));const s=a.programDateTime/1e3-a.start,c=oe();for(let t=0;t<o.length;t++){const e=o[t],n=i[e],a=r[e],l=(null==a?void 0:a.cues)||{};let h=(null==a?void 0:a.durationKnown)||!1;const d=se(n.startDate,s);let p=ae;const y=n.endDate;if(y)p=se(y,s),h=!0;else if(n.endOnNext&&!h){const t=o.reduce(((t,e)=>{const r=i[e];return r.class===n.class&&r.id!==e&&r.startDate>n.startDate&&t.push(r),t}),[]).sort(((t,e)=>t.startDate.getTime()-e.startDate.getTime()))[0];t&&(p=se(t.startDate,s),h=!0);}const v=Object.keys(n.attr);for(let t=0;t<v.length;t++){const r=v[t];if("ID"===(f=r)||"CLASS"===f||"START-DATE"===f||"DURATION"===f||"END-DATE"===f||"END-ON-NEXT"===f)continue;let i=l[r];if(i)h&&!a.durationKnown&&(i.endTime=p);else {let t=n.attr[r];i=new c(d,p,""),A(r)&&(u=t,t=Uint8Array.from(u.replace(/^0x/,"").replace(/([\da-fA-F]{2}) ?/g,"0x$1 ").replace(/ +$/,"").split(" ")).buffer),i.value={key:r,data:t},i.type="com.apple.quicktime.HLS",i.id=e,this.id3Track.addCue(i),l[r]=i;}}r[e]={cues:l,dateRange:n,durationKnown:h};}var u,f;}}class ue{constructor(t){this.hls=void 0,this.config=void 0,this.media=null,this.levelDetails=null,this.currentTime=0,this.stallCount=0,this._latency=null,this.timeupdateHandler=()=>this.timeupdate(),this.hls=t,this.config=t.config,this.registerListeners();}get latency(){return this._latency||0}get maxLatency(){const{config:t,levelDetails:e}=this;return void 0!==t.liveMaxLatencyDuration?t.liveMaxLatencyDuration:e?t.liveMaxLatencyDurationCount*e.targetduration:0}get targetLatency(){const{levelDetails:t}=this;if(null===t)return null;const{holdBack:e,partHoldBack:r,targetduration:n}=t,{liveSyncDuration:i,liveSyncDurationCount:o,lowLatencyMode:a}=this.config,s=this.hls.userConfig;let c=a&&r||e;(s.liveSyncDuration||s.liveSyncDurationCount||0===c)&&(c=void 0!==i?i:o*n);const u=n;return c+Math.min(1*this.stallCount,u)}get liveSyncPosition(){const t=this.estimateLiveEdge(),e=this.targetLatency,r=this.levelDetails;if(null===t||null===e||null===r)return null;const n=r.edge,i=t-e-this.edgeStalled,o=n-r.totalduration,a=n-(this.config.lowLatencyMode&&r.partTarget||r.targetduration);return Math.min(Math.max(o,i),a)}get drift(){const{levelDetails:t}=this;return null===t?1:t.drift}get edgeStalled(){const{levelDetails:t}=this;if(null===t)return 0;const e=3*(this.config.lowLatencyMode&&t.partTarget||t.targetduration);return Math.max(t.age-e,0)}get forwardBufferLength(){const{media:t,levelDetails:e}=this;if(!t||!e)return 0;const r=t.buffered.length;return (r?t.buffered.end(r-1):e.edge)-this.currentTime}destroy(){this.unregisterListeners(),this.onMediaDetaching(),this.levelDetails=null,this.hls=this.timeupdateHandler=null;}registerListeners(){this.hls.on(f.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(f.MEDIA_DETACHING,this.onMediaDetaching,this),this.hls.on(f.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.on(f.LEVEL_UPDATED,this.onLevelUpdated,this),this.hls.on(f.ERROR,this.onError,this);}unregisterListeners(){this.hls.off(f.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.off(f.MEDIA_DETACHING,this.onMediaDetaching,this),this.hls.off(f.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.off(f.LEVEL_UPDATED,this.onLevelUpdated,this),this.hls.off(f.ERROR,this.onError,this);}onMediaAttached(t,e){this.media=e.media,this.media.addEventListener("timeupdate",this.timeupdateHandler);}onMediaDetaching(){this.media&&(this.media.removeEventListener("timeupdate",this.timeupdateHandler),this.media=null);}onManifestLoading(){this.levelDetails=null,this._latency=null,this.stallCount=0;}onLevelUpdated(t,{details:e}){this.levelDetails=e,e.advanced&&this.timeupdate(),!e.live&&this.media&&this.media.removeEventListener("timeupdate",this.timeupdateHandler);}onError(t,e){var r;e.details===d.BUFFER_STALLED_ERROR&&(this.stallCount++,null!=(r=this.levelDetails)&&r.live&&g.warn("[playback-rate-controller]: Stall detected, adjusting target latency"));}timeupdate(){const{media:t,levelDetails:e}=this;if(!t||!e)return;this.currentTime=t.currentTime;const r=this.computeLatency();if(null===r)return;this._latency=r;const{lowLatencyMode:n,maxLiveSyncPlaybackRate:i}=this.config;if(!n||1===i)return;const o=this.targetLatency;if(null===o)return;const a=r-o,s=a<Math.min(this.maxLatency,o+e.targetduration);if(e.live&&s&&a>.05&&this.forwardBufferLength>1){const e=Math.min(2,Math.max(1,i)),r=Math.round(2/(1+Math.exp(-.75*a-this.edgeStalled))*20)/20;t.playbackRate=Math.min(e,Math.max(1,r));}else 1!==t.playbackRate&&0!==t.playbackRate&&(t.playbackRate=1);}estimateLiveEdge(){const{levelDetails:t}=this;return null===t?null:t.edge+t.age}computeLatency(){const t=this.estimateLiveEdge();return null===t?null:t-this.currentTime}}const le=["NONE","TYPE-0","TYPE-1",null];var fe="",he="YES",de="v2";class pe{constructor(t,e,r){this.msn=void 0,this.part=void 0,this.skip=void 0,this.msn=t,this.part=e,this.skip=r;}addDirectives(t){const e=new self.URL(t);return void 0!==this.msn&&e.searchParams.set("_HLS_msn",this.msn.toString()),void 0!==this.part&&e.searchParams.set("_HLS_part",this.part.toString()),this.skip&&e.searchParams.set("_HLS_skip",this.skip),e.href}}class ye{constructor(t){this._attrs=void 0,this.audioCodec=void 0,this.bitrate=void 0,this.codecSet=void 0,this.height=void 0,this.id=void 0,this.name=void 0,this.videoCodec=void 0,this.width=void 0,this.unknownCodecs=void 0,this.audioGroupIds=void 0,this.details=void 0,this.fragmentError=0,this.loadError=0,this.loaded=void 0,this.realBitrate=0,this.textGroupIds=void 0,this.url=void 0,this._urlId=0,this.url=[t.url],this._attrs=[t.attrs],this.bitrate=t.bitrate,t.details&&(this.details=t.details),this.id=t.id||0,this.name=t.name,this.width=t.width||0,this.height=t.height||0,this.audioCodec=t.audioCodec,this.videoCodec=t.videoCodec,this.unknownCodecs=t.unknownCodecs,this.codecSet=[t.videoCodec,t.audioCodec].filter((t=>t)).join(",").replace(/\.[^.,]+/g,"");}get maxBitrate(){return Math.max(this.realBitrate,this.bitrate)}get attrs(){return this._attrs[this._urlId]}get pathwayId(){return this.attrs["PATHWAY-ID"]||"."}get uri(){return this.url[this._urlId]||""}get urlId(){return this._urlId}set urlId(t){const e=t%this.url.length;this._urlId!==e&&(this.fragmentError=0,this.loadError=0,this.details=void 0,this._urlId=e);}get audioGroupId(){var t;return null==(t=this.audioGroupIds)?void 0:t[this.urlId]}get textGroupId(){var t;return null==(t=this.textGroupIds)?void 0:t[this.urlId]}addFallback(t){this.url.push(t.url),this._attrs.push(t.attrs);}}function ve(t,e){const r=e.startPTS;if(l(r)){let n,i=0;e.sn>t.sn?(i=r-t.start,n=t):(i=t.start-r,n=e),n.duration!==i&&(n.duration=i);}else e.sn>t.sn?t.cc===e.cc&&t.minEndPTS?e.start=t.start+(t.minEndPTS-t.start):e.start=t.start+t.duration:e.start=Math.max(t.start-e.duration,0);}function ge(t,e,r,n,i,o){n-r<=0&&(g.warn("Fragment should have a positive duration",e),n=r+e.duration,o=i+e.duration);let a=r,s=n;const c=e.startPTS,u=e.endPTS;if(l(c)){const t=Math.abs(c-r);l(e.deltaPTS)?e.deltaPTS=Math.max(t,e.deltaPTS):e.deltaPTS=t,a=Math.max(r,c),r=Math.min(r,c),i=Math.min(i,e.startDTS),s=Math.min(n,u),n=Math.max(n,u),o=Math.max(o,e.endDTS);}const f=r-e.start;0!==e.start&&(e.start=r),e.duration=n-e.start,e.startPTS=r,e.maxStartPTS=a,e.startDTS=i,e.endPTS=n,e.minEndPTS=s,e.endDTS=o;const h=e.sn;if(!t||h<t.startSN||h>t.endSN)return 0;let d;const p=h-t.startSN,y=t.fragments;for(y[p]=e,d=p;d>0;d--)ve(y[d],y[d-1]);for(d=p;d<y.length-1;d++)ve(y[d],y[d+1]);return t.fragmentHint&&ve(y[y.length-1],t.fragmentHint),t.PTSKnown=t.alignedSliding=!0,f}function me(t,e){const r=e.startSN+e.skippedSegments-t.startSN,n=t.fragments;r<0||r>=n.length||be(e,n[r].start);}function be(t,e){if(e){const r=t.fragments;for(let n=t.skippedSegments;n<r.length;n++)r[n].start+=e;t.fragmentHint&&(t.fragmentHint.start+=e);}}function we(t,e,r){var n;return null!=t&&t.details?Ae(null==(n=t.details)?void 0:n.partList,e,r):null}function Ae(t,e,r){if(t)for(let n=t.length;n--;){const i=t[n];if(i.index===r&&i.fragment.sn===e)return i}return null}function Ee(t){switch(t.details){case d.FRAG_LOAD_TIMEOUT:case d.KEY_LOAD_TIMEOUT:case d.LEVEL_LOAD_TIMEOUT:case d.MANIFEST_LOAD_TIMEOUT:return !0}return !1}function xe(t,e){const r=Ee(e);return t.default[(r?"timeout":"error")+"Retry"]}function Le(t,e){const r="linear"===t.backoff?1:Math.pow(2,e);return Math.min(r*t.retryDelayMs,t.maxRetryDelayMs)}function _e(t){return s(s({},t),{errorRetry:null,timeoutRetry:null})}function ke(t,e,r,n){return !!t&&e<t.maxNumRetry&&(function(t){return 0===t&&!1===navigator.onLine||!!t&&(t<400||t>499)}(n)||!!r)}const Ce={search:function(t,e){let r=0,n=t.length-1,i=null,o=null;for(;r<=n;){i=(r+n)/2|0,o=t[i];const a=e(o);if(a>0)r=i+1;else {if(!(a<0))return o;n=i-1;}}return null}};function Se(t,e,r=0,n=0){let i=null;if(t?i=e[t.sn-e[0].sn+1]||null:0===r&&0===e[0].start&&(i=e[0]),i&&0===Te(r,n,i))return i;const o=Ce.search(e,Te.bind(null,r,n));return !o||o===t&&i?i:o}function Te(t=0,e=0,r){if(r.start<=t&&r.start+r.duration>t)return 0;const n=Math.min(e,r.duration+(r.deltaPTS?r.deltaPTS:0));return r.start+r.duration-n<=t?1:r.start-n>t&&r.start?-1:0}function Pe(t,e,r){const n=1e3*Math.min(e,r.duration+(r.deltaPTS?r.deltaPTS:0));return (r.endProgramDateTime||0)-n>t}function Oe(t,e,r){if(performance.now()-t.lastErrorPerfMs>3e5)return !0;const n=t.details;if(e.details===d.FRAG_GAP&&n&&e.frag){const t=e.frag.start,r=Se(null,n.fragments,t);if(r&&!r.gap)return !0}if(r&&t.errors.length<r.errors.length){const r=t.errors[t.errors.length-1];if(n&&r.frag&&e.frag&&Math.abs(r.frag.start-e.frag.start)>3*n.targetduration)return !0}return !1}class Ie{constructor(t,e){this.hls=void 0,this.timer=-1,this.requestScheduled=-1,this.canLoad=!1,this.log=void 0,this.warn=void 0,this.log=g.log.bind(g,`${e}:`),this.warn=g.warn.bind(g,`${e}:`),this.hls=t;}destroy(){this.clearTimer(),this.hls=this.log=this.warn=null;}clearTimer(){clearTimeout(this.timer),this.timer=-1;}startLoad(){this.canLoad=!0,this.requestScheduled=-1,this.loadPlaylist();}stopLoad(){this.canLoad=!1,this.clearTimer();}switchParams(t,e){const r=null==e?void 0:e.renditionReports;if(r){let n=-1;for(let i=0;i<r.length;i++){const o=r[i];let a;try{a=new self.URL(o.URI,e.url).href;}catch(t){g.warn(`Could not construct new URL for Rendition Report: ${t}`),a=o.URI||"";}if(a===t){n=i;break}a===t.substring(0,a.length)&&(n=i);}if(-1!==n){const t=r[n],i=parseInt(t["LAST-MSN"])||(null==e?void 0:e.lastPartSn);let o=parseInt(t["LAST-PART"])||(null==e?void 0:e.lastPartIndex);if(this.hls.config.lowLatencyMode){const t=Math.min(e.age-e.partTarget,e.targetduration);o>=0&&t>e.partTarget&&(o+=1);}return new pe(i,o>=0?o:void 0,fe)}}}loadPlaylist(t){-1===this.requestScheduled&&(this.requestScheduled=self.performance.now());}shouldLoadPlaylist(t){return this.canLoad&&!!t&&!!t.url&&(!t.details||t.details.live)}shouldReloadPlaylist(t){return -1===this.timer&&-1===this.requestScheduled&&this.shouldLoadPlaylist(t)}playlistLoaded(t,e,r){const{details:n,stats:i}=e,o=self.performance.now(),a=i.loading.first?Math.max(0,o-i.loading.first):0;if(n.advancedDateTime=Date.now()-a,n.live||null!=r&&r.live){if(n.reloaded(r),r&&this.log(`live playlist ${t} ${n.advanced?"REFRESHED "+n.lastPartSn+"-"+n.lastPartIndex:"MISSED"}`),r&&n.fragments.length>0&&function(t,e){let r=null;const n=t.fragments;for(let t=n.length-1;t>=0;t--){const e=n[t].initSegment;if(e){r=e;break}}t.fragmentHint&&delete t.fragmentHint.endPTS;let i,o=0;if(function(t,e,r){const n=e.skippedSegments,i=Math.max(t.startSN,e.startSN)-e.startSN,o=(t.fragmentHint?1:0)+(n?e.endSN:Math.min(t.endSN,e.endSN))-e.startSN,a=e.startSN-t.startSN,s=e.fragmentHint?e.fragments.concat(e.fragmentHint):e.fragments,c=t.fragmentHint?t.fragments.concat(t.fragmentHint):t.fragments;for(let t=i;t<=o;t++){const i=c[a+t];let o=s[t];n&&!o&&t<n&&(o=e.fragments[t]=i),i&&o&&r(i,o);}}(t,e,((t,n)=>{t.relurl&&(o=t.cc-n.cc),l(t.startPTS)&&l(t.endPTS)&&(n.start=n.startPTS=t.startPTS,n.startDTS=t.startDTS,n.maxStartPTS=t.maxStartPTS,n.endPTS=t.endPTS,n.endDTS=t.endDTS,n.minEndPTS=t.minEndPTS,n.duration=t.endPTS-t.startPTS,n.duration&&(i=n),e.PTSKnown=e.alignedSliding=!0),n.elementaryStreams=t.elementaryStreams,n.loader=t.loader,n.stats=t.stats,n.urlId=t.urlId,t.initSegment&&(n.initSegment=t.initSegment,r=t.initSegment);})),r&&(e.fragmentHint?e.fragments.concat(e.fragmentHint):e.fragments).forEach((t=>{var e;t.initSegment&&t.initSegment.relurl!==(null==(e=r)?void 0:e.relurl)||(t.initSegment=r);})),e.skippedSegments)if(e.deltaUpdateFailed=e.fragments.some((t=>!t)),e.deltaUpdateFailed){g.warn("[level-helper] Previous playlist missing segments skipped in delta playlist");for(let t=e.skippedSegments;t--;)e.fragments.shift();e.startSN=e.fragments[0].sn,e.startCC=e.fragments[0].cc;}else e.canSkipDateRanges&&(e.dateRanges=function(t,e,r){const n=u({},t);return r&&r.forEach((t=>{delete n[t];})),Object.keys(e).forEach((t=>{const r=new E(e[t].attr,n[t]);r.isValid?n[t]=r:g.warn(`Ignoring invalid Playlist Delta Update DATERANGE tag: "${JSON.stringify(e[t].attr)}"`);})),n}(t.dateRanges,e.dateRanges,e.recentlyRemovedDateranges));const a=e.fragments;if(o){g.warn("discontinuity sliding from playlist, take drift into account");for(let t=0;t<a.length;t++)a[t].cc+=o;}e.skippedSegments&&(e.startCC=e.fragments[0].cc),function(t,e,r){if(t&&e){let n=0;for(let i=0,o=t.length;i<=o;i++){const o=t[i],a=e[i+n];o&&a&&o.index===a.index&&o.fragment.sn===a.fragment.sn?r(o,a):n--;}}}(t.partList,e.partList,((t,e)=>{e.elementaryStreams=t.elementaryStreams,e.stats=t.stats;})),i?ge(e,i,i.startPTS,i.endPTS,i.startDTS,i.endDTS):me(t,e),a.length&&(e.totalduration=e.edge-a[0].start),e.driftStartTime=t.driftStartTime,e.driftStart=t.driftStart;const s=e.advancedDateTime;if(e.advanced&&s){const t=e.edge;e.driftStart||(e.driftStartTime=s,e.driftStart=t),e.driftEndTime=s,e.driftEnd=t;}else e.driftEndTime=t.driftEndTime,e.driftEnd=t.driftEnd,e.advancedDateTime=t.advancedDateTime;}(r,n),!this.canLoad||!n.live)return;let a,s,c;if(n.canBlockReload&&n.endSN&&n.advanced){const t=this.hls.config.lowLatencyMode,i=n.lastPartSn,o=n.endSN,u=n.lastPartIndex,l=i===o;-1!==u?(s=l?o+1:i,c=l?t?0:u:u+1):s=o+1;const f=n.age,h=f+n.ageHeader;let d=Math.min(h-n.partTarget,1.5*n.targetduration);if(d>0){if(r&&d>r.tuneInGoal)this.warn(`CDN Tune-in goal increased from: ${r.tuneInGoal} to: ${d} with playlist age: ${n.age}`),d=0;else {const t=Math.floor(d/n.targetduration);s+=t,void 0!==c&&(c+=Math.round(d%n.targetduration/n.partTarget)),this.log(`CDN Tune-in age: ${n.ageHeader}s last advanced ${f.toFixed(2)}s goal: ${d} skip sn ${t} to part ${c}`);}n.tuneInGoal=d;}if(a=this.getDeliveryDirectives(n,e.deliveryDirectives,s,c),t||!l)return void this.loadPlaylist(a)}else n.canBlockReload&&(a=this.getDeliveryDirectives(n,e.deliveryDirectives,s,c));const f=this.hls.mainForwardBufferInfo,h=f?f.end-f.len:0,d=function(t,e=1/0){let r=1e3*t.targetduration;if(t.updated){const n=t.fragments,i=4;if(n.length&&r*i>e){const t=1e3*n[n.length-1].duration;t<r&&(r=t);}}else r/=2;return Math.round(r)}(n,1e3*(n.edge-h));n.updated&&o>this.requestScheduled+d&&(this.requestScheduled=i.loading.start),void 0!==s&&n.canBlockReload?this.requestScheduled=i.loading.first+d-(1e3*n.partTarget||1e3):-1===this.requestScheduled||this.requestScheduled+d<o?this.requestScheduled=o:this.requestScheduled-o<=0&&(this.requestScheduled+=d);let p=this.requestScheduled-o;p=Math.max(0,p),this.log(`reload live playlist ${t} in ${Math.round(p)} ms`),this.timer=self.setTimeout((()=>this.loadPlaylist(a)),p);}else this.clearTimer();}getDeliveryDirectives(t,e,r,n){let i=function(t,e){const{canSkipUntil:r,canSkipDateRanges:n,endSN:i}=t;return r&&(void 0!==e?e-i:0)<r?n?de:he:fe}(t,r);return null!=e&&e.skip&&t.deltaUpdateFailed&&(r=e.msn,n=e.part,i=fe),new pe(r,n,i)}checkRetry(t){const e=t.details,r=Ee(t),n=t.errorAction,{action:i,retryCount:o=0,retryConfig:a}=n||{},s=!!n&&!!a&&(5===i||!n.resolved&&2===i);if(s){var c;if(this.requestScheduled=-1,r&&null!=(c=t.context)&&c.deliveryDirectives)this.warn(`Retrying playlist loading ${o+1}/${a.maxNumRetry} after "${e}" without delivery-directives`),this.loadPlaylist();else {const t=Le(a,o);this.timer=self.setTimeout((()=>this.loadPlaylist()),t),this.warn(`Retrying playlist loading ${o+1}/${a.maxNumRetry} after "${e}" in ${t}ms`);}t.levelRetry=!0,n.resolved=!0;}return s}}let Re;class De extends Ie{constructor(t,e){super(t,"[level-controller]"),this._levels=[],this._firstLevel=-1,this._startLevel=void 0,this.currentLevel=null,this.currentLevelIndex=-1,this.manualLevelIndex=-1,this.steering=void 0,this.onParsedComplete=void 0,this.steering=e,this._registerListeners();}_registerListeners(){const{hls:t}=this;t.on(f.MANIFEST_LOADING,this.onManifestLoading,this),t.on(f.MANIFEST_LOADED,this.onManifestLoaded,this),t.on(f.LEVEL_LOADED,this.onLevelLoaded,this),t.on(f.LEVELS_UPDATED,this.onLevelsUpdated,this),t.on(f.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),t.on(f.FRAG_LOADED,this.onFragLoaded,this),t.on(f.ERROR,this.onError,this);}_unregisterListeners(){const{hls:t}=this;t.off(f.MANIFEST_LOADING,this.onManifestLoading,this),t.off(f.MANIFEST_LOADED,this.onManifestLoaded,this),t.off(f.LEVEL_LOADED,this.onLevelLoaded,this),t.off(f.LEVELS_UPDATED,this.onLevelsUpdated,this),t.off(f.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),t.off(f.FRAG_LOADED,this.onFragLoaded,this),t.off(f.ERROR,this.onError,this);}destroy(){this._unregisterListeners(),this.steering=null,this.resetLevels(),super.destroy();}startLoad(){this._levels.forEach((t=>{t.loadError=0,t.fragmentError=0;})),super.startLoad();}resetLevels(){this._startLevel=void 0,this.manualLevelIndex=-1,this.currentLevelIndex=-1,this.currentLevel=null,this._levels=[];}onManifestLoading(t,e){this.resetLevels();}onManifestLoaded(t,e){const r=[],n={};let i;e.levels.forEach((t=>{var e;const o=t.attrs;-1!==(null==(e=t.audioCodec)?void 0:e.indexOf("mp4a.40.34"))&&(Re||(Re=/chrome|firefox/i.test(navigator.userAgent)),Re&&(t.audioCodec=void 0));const{AUDIO:a,CODECS:s,"FRAME-RATE":c,"PATHWAY-ID":u,RESOLUTION:l,SUBTITLES:f}=o,h=`${u||"."}-${t.bitrate}-${l}-${c}-${s}`;i=n[h],i?i.addFallback(t):(i=new ye(t),n[h]=i,r.push(i)),je(i,"audio",a),je(i,"text",f);})),this.filterAndSortMediaOptions(r,e);}filterAndSortMediaOptions(t,e){let r=[],n=[],i=!1,o=!1,a=!1,s=t.filter((({audioCodec:t,videoCodec:e,width:r,height:n,unknownCodecs:s})=>(i||(i=!(!r||!n)),o||(o=!!e),a||(a=!!t),!(null!=s&&s.length)&&(!t||Dt(t,"audio"))&&(!e||Dt(e,"video")))));if((i||o)&&a&&(s=s.filter((({videoCodec:t,width:e,height:r})=>!!t||!(!e||!r)))),0===s.length)return void Promise.resolve().then((()=>{if(this.hls){const t=new Error("no level with compatible codecs found in manifest");this.hls.trigger(f.ERROR,{type:h.MEDIA_ERROR,details:d.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:e.url,error:t,reason:t.message});}}));e.audioTracks&&(r=e.audioTracks.filter((t=>!t.audioCodec||Dt(t.audioCodec,"audio"))),Be(r)),e.subtitles&&(n=e.subtitles,Be(n));const c=s.slice(0);s.sort(((t,e)=>t.attrs["HDCP-LEVEL"]!==e.attrs["HDCP-LEVEL"]?(t.attrs["HDCP-LEVEL"]||"")>(e.attrs["HDCP-LEVEL"]||"")?1:-1:t.bitrate!==e.bitrate?t.bitrate-e.bitrate:t.attrs["FRAME-RATE"]!==e.attrs["FRAME-RATE"]?t.attrs.decimalFloatingPoint("FRAME-RATE")-e.attrs.decimalFloatingPoint("FRAME-RATE"):t.attrs.SCORE!==e.attrs.SCORE?t.attrs.decimalFloatingPoint("SCORE")-e.attrs.decimalFloatingPoint("SCORE"):i&&t.height!==e.height?t.height-e.height:0));let u=c[0];if(this.steering&&(s=this.steering.filterParsedLevels(s),s.length!==c.length))for(let t=0;t<c.length;t++)if(c[t].pathwayId===s[0].pathwayId){u=c[t];break}this._levels=s;for(let t=0;t<s.length;t++)if(s[t]===u){this._firstLevel=t,this.log(`manifest loaded, ${s.length} level(s) found, first bitrate: ${u.bitrate}`);break}const l=a&&!o,p={levels:s,audioTracks:r,subtitleTracks:n,sessionData:e.sessionData,sessionKeys:e.sessionKeys,firstLevel:this._firstLevel,stats:e.stats,audio:a,video:o,altAudio:!l&&r.some((t=>!!t.url))};this.hls.trigger(f.MANIFEST_PARSED,p),(this.hls.config.autoStartLoad||this.hls.forceStartLoad)&&this.hls.startLoad(this.hls.config.startPosition);}get levels(){return 0===this._levels.length?null:this._levels}get level(){return this.currentLevelIndex}set level(t){const e=this._levels;if(0===e.length)return;if(t<0||t>=e.length){const r=new Error("invalid level idx"),n=t<0;if(this.hls.trigger(f.ERROR,{type:h.OTHER_ERROR,details:d.LEVEL_SWITCH_ERROR,level:t,fatal:n,error:r,reason:r.message}),n)return;t=Math.min(t,e.length-1);}const r=this.currentLevelIndex,n=this.currentLevel,i=n?n.attrs["PATHWAY-ID"]:void 0,o=e[t],a=o.attrs["PATHWAY-ID"];if(this.currentLevelIndex=t,this.currentLevel=o,r===t&&o.details&&n&&i===a)return;this.log(`Switching to level ${t}${a?" with Pathway "+a:""} from level ${r}${i?" with Pathway "+i:""}`);const s=u({},o,{level:t,maxBitrate:o.maxBitrate,attrs:o.attrs,uri:o.uri,urlId:o.urlId});delete s._attrs,delete s._urlId,this.hls.trigger(f.LEVEL_SWITCHING,s);const c=o.details;if(!c||c.live){const t=this.switchParams(o.uri,null==n?void 0:n.details);this.loadPlaylist(t);}}get manualLevel(){return this.manualLevelIndex}set manualLevel(t){this.manualLevelIndex=t,void 0===this._startLevel&&(this._startLevel=t),-1!==t&&(this.level=t);}get firstLevel(){return this._firstLevel}set firstLevel(t){this._firstLevel=t;}get startLevel(){if(void 0===this._startLevel){const t=this.hls.config.startLevel;return void 0!==t?t:this._firstLevel}return this._startLevel}set startLevel(t){this._startLevel=t;}onError(t,e){!e.fatal&&e.context&&e.context.type===Wt.LEVEL&&e.context.level===this.level&&this.checkRetry(e);}onFragLoaded(t,{frag:e}){if(void 0!==e&&e.type===zt.MAIN){const t=this._levels[e.level];void 0!==t&&(t.loadError=0);}}onLevelLoaded(t,e){var r;const{level:n,details:i}=e,o=this._levels[n];var a;if(!o)return this.warn(`Invalid level index ${n}`),void(null!=(a=e.deliveryDirectives)&&a.skip&&(i.deltaUpdateFailed=!0));n===this.currentLevelIndex?(0===o.fragmentError&&(o.loadError=0),this.playlistLoaded(n,e,o.details)):null!=(r=e.deliveryDirectives)&&r.skip&&(i.deltaUpdateFailed=!0);}onAudioTrackSwitched(t,e){const r=this.currentLevel;if(!r)return;const n=this.hls.audioTracks[e.id].groupId;if(r.audioGroupIds&&r.audioGroupId!==n){let t=-1;for(let e=0;e<r.audioGroupIds.length;e++)if(r.audioGroupIds[e]===n){t=e;break}-1!==t&&t!==r.urlId&&(r.urlId=t,this.canLoad&&this.startLoad());}}loadPlaylist(t){super.loadPlaylist();const e=this.currentLevelIndex,r=this.currentLevel;if(r&&this.shouldLoadPlaylist(r)){const n=r.urlId;let i=r.uri;if(t)try{i=t.addDirectives(i);}catch(t){this.warn(`Could not construct new URL with HLS Delivery Directives: ${t}`);}const o=r.attrs["PATHWAY-ID"];this.log(`Loading level index ${e}${void 0!==(null==t?void 0:t.msn)?" at sn "+t.msn+" part "+t.part:""} with${o?" Pathway "+o:""} URI ${n+1}/${r.url.length} ${i}`),this.clearTimer(),this.hls.trigger(f.LEVEL_LOADING,{url:i,level:e,id:n,deliveryDirectives:t||null});}}get nextLoadLevel(){return -1!==this.manualLevelIndex?this.manualLevelIndex:this.hls.nextAutoLevel}set nextLoadLevel(t){this.level=t,-1===this.manualLevelIndex&&(this.hls.nextAutoLevel=t);}removeLevel(t,e){const r=(t,r)=>r!==e,n=this._levels.filter(((n,i)=>i!==t||(n.url.length>1&&void 0!==e?(n.url=n.url.filter(r),n.audioGroupIds&&(n.audioGroupIds=n.audioGroupIds.filter(r)),n.textGroupIds&&(n.textGroupIds=n.textGroupIds.filter(r)),n.urlId=0,!0):(this.steering&&this.steering.removeLevel(n),!1))));this.hls.trigger(f.LEVELS_UPDATED,{levels:n});}onLevelsUpdated(t,{levels:e}){e.forEach(((t,e)=>{const{details:r}=t;null!=r&&r.fragments&&r.fragments.forEach((t=>{t.level=e;}));})),this._levels=e;}}function je(t,e,r){r&&("audio"===e?(t.audioGroupIds||(t.audioGroupIds=[]),t.audioGroupIds[t.url.length-1]=r):"text"===e&&(t.textGroupIds||(t.textGroupIds=[]),t.textGroupIds[t.url.length-1]=r));}function Be(t){const e={};t.forEach((t=>{const r=t.groupId||"";t.id=e[r]=e[r]||0,e[r]++;}));}var Fe="NOT_LOADED",Ne="APPENDING",Me="PARTIAL",Ue="OK";class Ge{constructor(t){this.activePartLists=Object.create(null),this.endListFragments=Object.create(null),this.fragments=Object.create(null),this.timeRanges=Object.create(null),this.bufferPadding=.2,this.hls=void 0,this.hasGaps=!1,this.hls=t,this._registerListeners();}_registerListeners(){const{hls:t}=this;t.on(f.BUFFER_APPENDED,this.onBufferAppended,this),t.on(f.FRAG_BUFFERED,this.onFragBuffered,this),t.on(f.FRAG_LOADED,this.onFragLoaded,this);}_unregisterListeners(){const{hls:t}=this;t.off(f.BUFFER_APPENDED,this.onBufferAppended,this),t.off(f.FRAG_BUFFERED,this.onFragBuffered,this),t.off(f.FRAG_LOADED,this.onFragLoaded,this);}destroy(){this._unregisterListeners(),this.fragments=this.activePartLists=this.endListFragments=this.timeRanges=null;}getAppendedFrag(t,e){const r=this.activePartLists[e];if(r)for(let e=r.length;e--;){const n=r[e];if(!n)break;const i=n.end;if(n.start<=t&&null!==i&&t<=i)return n}return this.getBufferedFrag(t,e)}getBufferedFrag(t,e){const{fragments:r}=this,n=Object.keys(r);for(let i=n.length;i--;){const o=r[n[i]];if((null==o?void 0:o.body.type)===e&&o.buffered){const e=o.body;if(e.start<=t&&t<=e.end)return e}}return null}detectEvictedFragments(t,e,r,n){this.timeRanges&&(this.timeRanges[t]=e);const i=(null==n?void 0:n.fragment.sn)||0;Object.keys(this.fragments).forEach((n=>{const o=this.fragments[n];if(!o)return;if(i>=o.body.sn)return;if(!o.buffered&&!o.loaded)return void(o.body.type===r&&this.removeFragment(o.body));const a=o.range[t];a&&a.time.some((t=>{const r=!this.isTimeBuffered(t.startPTS,t.endPTS,e);return r&&this.removeFragment(o.body),r}));}));}detectPartialFragments(t){const e=this.timeRanges,{frag:r,part:n}=t;if(!e||"initSegment"===r.sn)return;const i=Ve(r),o=this.fragments[i];if(!o)return;const a=!r.relurl;Object.keys(e).forEach((t=>{const i=r.elementaryStreams[t];if(!i)return;const s=e[t],c=a||!0===i.partial;o.range[t]=this.getBufferedTimes(r,n,c,s);})),o.loaded=null,Object.keys(o.range).length?(o.buffered=!0,o.body.endList&&(this.endListFragments[o.body.type]=o),$e(o)||this.removeParts(r.sn-1,r.type)):this.removeFragment(o.body);}removeParts(t,e){const r=this.activePartLists[e];r&&(this.activePartLists[e]=r.filter((e=>e.fragment.sn>=t)));}fragBuffered(t,e){const r=Ve(t);let n=this.fragments[r];!n&&e&&(n=this.fragments[r]={body:t,appendedPTS:null,loaded:null,buffered:!1,range:Object.create(null)},t.gap&&(this.hasGaps=!0)),n&&(n.loaded=null,n.buffered=!0);}getBufferedTimes(t,e,r,n){const i={time:[],partial:r},o=t.start,a=t.end,s=t.minEndPTS||a,c=t.maxStartPTS||o;for(let t=0;t<n.length;t++){const e=n.start(t)-this.bufferPadding,r=n.end(t)+this.bufferPadding;if(c>=e&&s<=r){i.time.push({startPTS:Math.max(o,n.start(t)),endPTS:Math.min(a,n.end(t))});break}if(o<r&&a>e)i.partial=!0,i.time.push({startPTS:Math.max(o,n.start(t)),endPTS:Math.min(a,n.end(t))});else if(a<=e)break}return i}getPartialFragment(t){let e,r,n,i=null,o=0;const{bufferPadding:a,fragments:s}=this;return Object.keys(s).forEach((c=>{const u=s[c];u&&$e(u)&&(r=u.body.start-a,n=u.body.end+a,t>=r&&t<=n&&(e=Math.min(t-r,n-t),o<=e&&(i=u.body,o=e)));})),i}isEndListAppended(t){const e=this.endListFragments[t];return void 0!==e&&(e.buffered||$e(e))}getState(t){const e=Ve(t),r=this.fragments[e];return r?r.buffered?$e(r)?Me:Ue:Ne:Fe}isTimeBuffered(t,e,r){let n,i;for(let o=0;o<r.length;o++){if(n=r.start(o)-this.bufferPadding,i=r.end(o)+this.bufferPadding,t>=n&&e<=i)return !0;if(e<=n)return !1}return !1}onFragLoaded(t,e){const{frag:r,part:n}=e;if("initSegment"===r.sn||r.bitrateTest)return;const i=n?null:e,o=Ve(r);this.fragments[o]={body:r,appendedPTS:null,loaded:i,buffered:!1,range:Object.create(null)};}onBufferAppended(t,e){const{frag:r,part:n,timeRanges:i}=e;if("initSegment"===r.sn)return;const o=r.type;if(n){let t=this.activePartLists[o];t||(this.activePartLists[o]=t=[]),t.push(n);}this.timeRanges=i,Object.keys(i).forEach((t=>{const e=i[t];this.detectEvictedFragments(t,e,o,n);}));}onFragBuffered(t,e){this.detectPartialFragments(e);}hasFragment(t){const e=Ve(t);return !!this.fragments[e]}hasParts(t){var e;return !(null==(e=this.activePartLists[t])||!e.length)}removeFragmentsInRange(t,e,r,n,i){n&&!this.hasGaps||Object.keys(this.fragments).forEach((o=>{const a=this.fragments[o];if(!a)return;const s=a.body;s.type!==r||n&&!s.gap||s.start<e&&s.end>t&&(a.buffered||i)&&this.removeFragment(s);}));}removeFragment(t){const e=Ve(t);t.stats.loaded=0,t.clearElementaryStreamInfo();const r=this.activePartLists[t.type];if(r){const e=t.sn;this.activePartLists[t.type]=r.filter((t=>t.fragment.sn!==e));}delete this.fragments[e],t.endList&&delete this.endListFragments[t.type];}removeAllFragments(){this.fragments=Object.create(null),this.endListFragments=Object.create(null),this.activePartLists=Object.create(null),this.hasGaps=!1;}}function $e(t){var e,r;return t.buffered&&(t.body.gap||(null==(e=t.range.video)?void 0:e.partial)||(null==(r=t.range.audio)?void 0:r.partial))}function Ve(t){return `${t.type}_${t.level}_${t.urlId}_${t.sn}`}const Ke=Math.pow(2,17);class He{constructor(t){this.config=void 0,this.loader=null,this.partLoadTimeout=-1,this.config=t;}destroy(){this.loader&&(this.loader.destroy(),this.loader=null);}abort(){this.loader&&this.loader.abort();}load(t,e){const r=t.url;if(!r)return Promise.reject(new We({type:h.NETWORK_ERROR,details:d.FRAG_LOAD_ERROR,fatal:!1,frag:t,error:new Error("Fragment does not have a "+(r?"part list":"url")),networkDetails:null}));this.abort();const n=this.config,i=n.fLoader,o=n.loader;return new Promise(((a,c)=>{if(this.loader&&this.loader.destroy(),t.gap)return void c(Ze(t));const u=this.loader=t.loader=i?new i(n):new o(n),l=Ye(t),f=_e(n.fragLoadPolicy.default),p={loadPolicy:f,timeout:f.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0,highWaterMark:"initSegment"===t.sn?1/0:Ke};t.stats=u.stats,u.load(l,p,{onSuccess:(e,r,n,i)=>{this.resetLoader(t,u);let o=e.data;n.resetIV&&t.decryptdata&&(t.decryptdata.iv=new Uint8Array(o.slice(0,16)),o=o.slice(16)),a({frag:t,part:null,payload:o,networkDetails:i});},onError:(e,n,i,o)=>{this.resetLoader(t,u),c(new We({type:h.NETWORK_ERROR,details:d.FRAG_LOAD_ERROR,fatal:!1,frag:t,response:s({url:r,data:void 0},e),error:new Error(`HTTP Error ${e.code} ${e.text}`),networkDetails:i,stats:o}));},onAbort:(e,r,n)=>{this.resetLoader(t,u),c(new We({type:h.NETWORK_ERROR,details:d.INTERNAL_ABORTED,fatal:!1,frag:t,error:new Error("Aborted"),networkDetails:n,stats:e}));},onTimeout:(e,r,n)=>{this.resetLoader(t,u),c(new We({type:h.NETWORK_ERROR,details:d.FRAG_LOAD_TIMEOUT,fatal:!1,frag:t,error:new Error(`Timeout after ${p.timeout}ms`),networkDetails:n,stats:e}));},onProgress:(r,n,i,o)=>{e&&e({frag:t,part:null,payload:i,networkDetails:o});}});}))}loadPart(t,e,r){this.abort();const n=this.config,i=n.fLoader,o=n.loader;return new Promise(((a,c)=>{if(this.loader&&this.loader.destroy(),t.gap||e.gap)return void c(Ze(t,e));const u=this.loader=t.loader=i?new i(n):new o(n),l=Ye(t,e),f=_e(n.fragLoadPolicy.default),p={loadPolicy:f,timeout:f.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0,highWaterMark:Ke};e.stats=u.stats,u.load(l,p,{onSuccess:(n,i,o,s)=>{this.resetLoader(t,u),this.updateStatsFromPart(t,e);const c={frag:t,part:e,payload:n.data,networkDetails:s};r(c),a(c);},onError:(r,n,i,o)=>{this.resetLoader(t,u),c(new We({type:h.NETWORK_ERROR,details:d.FRAG_LOAD_ERROR,fatal:!1,frag:t,part:e,response:s({url:l.url,data:void 0},r),error:new Error(`HTTP Error ${r.code} ${r.text}`),networkDetails:i,stats:o}));},onAbort:(r,n,i)=>{t.stats.aborted=e.stats.aborted,this.resetLoader(t,u),c(new We({type:h.NETWORK_ERROR,details:d.INTERNAL_ABORTED,fatal:!1,frag:t,part:e,error:new Error("Aborted"),networkDetails:i,stats:r}));},onTimeout:(r,n,i)=>{this.resetLoader(t,u),c(new We({type:h.NETWORK_ERROR,details:d.FRAG_LOAD_TIMEOUT,fatal:!1,frag:t,part:e,error:new Error(`Timeout after ${p.timeout}ms`),networkDetails:i,stats:r}));}});}))}updateStatsFromPart(t,e){const r=t.stats,n=e.stats,i=n.total;if(r.loaded+=n.loaded,i){const n=Math.round(t.duration/e.duration),o=Math.min(Math.round(r.loaded/i),n),a=(n-o)*Math.round(r.loaded/o);r.total=r.loaded+a;}else r.total=Math.max(r.loaded,r.total);const o=r.loading,a=n.loading;o.start?o.first+=a.first-a.start:(o.start=a.start,o.first=a.first),o.end=a.end;}resetLoader(t,e){t.loader=null,this.loader===e&&(self.clearTimeout(this.partLoadTimeout),this.loader=null),e.destroy();}}function Ye(t,e=null){const r=e||t,n={frag:t,part:e,responseType:"arraybuffer",url:r.url,headers:{},rangeStart:0,rangeEnd:0},i=r.byteRangeStartOffset,o=r.byteRangeEndOffset;if(l(i)&&l(o)){var a;let e=i,r=o;if("initSegment"===t.sn&&"AES-128"===(null==(a=t.decryptdata)?void 0:a.method)){const t=o-i;t%16&&(r=o+(16-t%16)),0!==i&&(n.resetIV=!0,e=i-16);}n.rangeStart=e,n.rangeEnd=r;}return n}function Ze(t,e){const r=new Error(`GAP ${t.gap?"tag":"attribute"} found`),n={type:h.MEDIA_ERROR,details:d.FRAG_GAP,fatal:!1,frag:t,error:r,networkDetails:null};return e&&(n.part=e),(e||t).stats.aborted=!0,new We(n)}class We extends Error{constructor(t){super(t.error.message),this.data=void 0,this.data=t;}}class ze{constructor(t){this.config=void 0,this.keyUriToKeyInfo={},this.emeController=null,this.config=t;}abort(t){for(const e in this.keyUriToKeyInfo){const r=this.keyUriToKeyInfo[e].loader;if(r){if(t&&t!==r.context.frag.type)return;r.abort();}}}detach(){for(const t in this.keyUriToKeyInfo){const e=this.keyUriToKeyInfo[t];(e.mediaKeySessionContext||e.decryptdata.isCommonEncryption)&&delete this.keyUriToKeyInfo[t];}}destroy(){this.detach();for(const t in this.keyUriToKeyInfo){const e=this.keyUriToKeyInfo[t].loader;e&&e.destroy();}this.keyUriToKeyInfo={};}createKeyLoadError(t,e=d.KEY_LOAD_ERROR,r,n,i){return new We({type:h.NETWORK_ERROR,details:e,fatal:!1,frag:t,response:i,error:r,networkDetails:n})}loadClear(t,e){if(this.emeController&&this.config.emeEnabled){const{sn:r,cc:n}=t;for(let t=0;t<e.length;t++){const i=e[t];if(n<=i.cc&&("initSegment"===r||"initSegment"===i.sn||r<i.sn)){this.emeController.selectKeySystemFormat(i).then((t=>{i.setKeyFormat(t);}));break}}}}load(t){return !t.decryptdata&&t.encrypted&&this.emeController?this.emeController.selectKeySystemFormat(t).then((e=>this.loadInternal(t,e))):this.loadInternal(t)}loadInternal(t,e){var r,n;e&&t.setKeyFormat(e);const i=t.decryptdata;if(!i){const r=new Error(e?`Expected frag.decryptdata to be defined after setting format ${e}`:"Missing decryption data on fragment in onKeyLoading");return Promise.reject(this.createKeyLoadError(t,d.KEY_LOAD_ERROR,r))}const o=i.uri;if(!o)return Promise.reject(this.createKeyLoadError(t,d.KEY_LOAD_ERROR,new Error(`Invalid key URI: "${o}"`)));let a=this.keyUriToKeyInfo[o];if(null!=(r=a)&&r.decryptdata.key)return i.key=a.decryptdata.key,Promise.resolve({frag:t,keyInfo:a});var s;if(null!=(n=a)&&n.keyLoadPromise)switch(null==(s=a.mediaKeySessionContext)?void 0:s.keyStatus){case void 0:case"status-pending":case"usable":case"usable-in-future":return a.keyLoadPromise.then((e=>(i.key=e.keyInfo.decryptdata.key,{frag:t,keyInfo:a})))}switch(a=this.keyUriToKeyInfo[o]={decryptdata:i,keyLoadPromise:null,loader:null,mediaKeySessionContext:null},i.method){case"ISO-23001-7":case"SAMPLE-AES":case"SAMPLE-AES-CENC":case"SAMPLE-AES-CTR":return "identity"===i.keyFormat?this.loadKeyHTTP(a,t):this.loadKeyEME(a,t);case"AES-128":return this.loadKeyHTTP(a,t);default:return Promise.reject(this.createKeyLoadError(t,d.KEY_LOAD_ERROR,new Error(`Key supplied with unsupported METHOD: "${i.method}"`)))}}loadKeyEME(t,e){const r={frag:e,keyInfo:t};if(this.emeController&&this.config.emeEnabled){const e=this.emeController.loadKey(r);if(e)return (t.keyLoadPromise=e.then((e=>(t.mediaKeySessionContext=e,r)))).catch((e=>{throw t.keyLoadPromise=null,e}))}return Promise.resolve(r)}loadKeyHTTP(t,e){const r=this.config,n=new(r.loader)(r);return e.keyLoader=t.loader=n,t.keyLoadPromise=new Promise(((i,o)=>{const a={keyInfo:t,frag:e,responseType:"arraybuffer",url:t.decryptdata.uri},c=r.keyLoadPolicy.default,u={loadPolicy:c,timeout:c.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},l={onSuccess:(t,e,r,n)=>{const{frag:a,keyInfo:s,url:c}=r;if(!a.decryptdata||s!==this.keyUriToKeyInfo[c])return o(this.createKeyLoadError(a,d.KEY_LOAD_ERROR,new Error("after key load, decryptdata unset or changed"),n));s.decryptdata.key=a.decryptdata.key=new Uint8Array(t.data),a.keyLoader=null,s.loader=null,i({frag:a,keyInfo:s});},onError:(t,r,n,i)=>{this.resetLoader(r),o(this.createKeyLoadError(e,d.KEY_LOAD_ERROR,new Error(`HTTP Error ${t.code} loading key ${t.text}`),n,s({url:a.url,data:void 0},t)));},onTimeout:(t,r,n)=>{this.resetLoader(r),o(this.createKeyLoadError(e,d.KEY_LOAD_TIMEOUT,new Error("key loading timed out"),n));},onAbort:(t,r,n)=>{this.resetLoader(r),o(this.createKeyLoadError(e,d.INTERNAL_ABORTED,new Error("key loading aborted"),n));}};n.load(a,u,l);}))}resetLoader(t){const{frag:e,keyInfo:r,url:n}=t,i=r.loader;e.keyLoader===i&&(e.keyLoader=null,r.loader=null),delete this.keyUriToKeyInfo[n],i&&i.destroy();}}class qe{constructor(){this._boundTick=void 0,this._tickTimer=null,this._tickInterval=null,this._tickCallCount=0,this._boundTick=this.tick.bind(this);}destroy(){this.onHandlerDestroying(),this.onHandlerDestroyed();}onHandlerDestroying(){this.clearNextTick(),this.clearInterval();}onHandlerDestroyed(){}hasInterval(){return !!this._tickInterval}hasNextTick(){return !!this._tickTimer}setInterval(t){return !this._tickInterval&&(this._tickCallCount=0,this._tickInterval=self.setInterval(this._boundTick,t),!0)}clearInterval(){return !!this._tickInterval&&(self.clearInterval(this._tickInterval),this._tickInterval=null,!0)}clearNextTick(){return !!this._tickTimer&&(self.clearTimeout(this._tickTimer),this._tickTimer=null,!0)}tick(){this._tickCallCount++,1===this._tickCallCount&&(this.doTick(),this._tickCallCount>1&&this.tickImmediate(),this._tickCallCount=0);}tickImmediate(){this.clearNextTick(),this._tickTimer=self.setTimeout(this._boundTick,0);}doTick(){}}const Xe={length:0,start:()=>0,end:()=>0};class Qe{static isBuffered(t,e){try{if(t){const r=Qe.getBuffered(t);for(let t=0;t<r.length;t++)if(e>=r.start(t)&&e<=r.end(t))return !0}}catch(t){}return !1}static bufferInfo(t,e,r){try{if(t){const n=Qe.getBuffered(t),i=[];let o;for(o=0;o<n.length;o++)i.push({start:n.start(o),end:n.end(o)});return this.bufferedInfo(i,e,r)}}catch(t){}return {len:0,start:e,end:e,nextStart:void 0}}static bufferedInfo(t,e,r){e=Math.max(0,e),t.sort((function(t,e){return t.start-e.start||e.end-t.end}));let n=[];if(r)for(let e=0;e<t.length;e++){const i=n.length;if(i){const o=n[i-1].end;t[e].start-o<r?t[e].end>o&&(n[i-1].end=t[e].end):n.push(t[e]);}else n.push(t[e]);}else n=t;let i,o=0,a=e,s=e;for(let t=0;t<n.length;t++){const c=n[t].start,u=n[t].end;if(e+r>=c&&e<u)a=c,s=u,o=s-e;else if(e+r<c){i=c;break}}return {len:o,start:a||0,end:s||0,nextStart:i}}static getBuffered(t){try{return t.buffered}catch(t){return g.log("failed to get media.buffered",t),Xe}}}class Je{constructor(t,e,r,n=0,i=-1,o=!1){this.level=void 0,this.sn=void 0,this.part=void 0,this.id=void 0,this.size=void 0,this.partial=void 0,this.transmuxing={start:0,executeStart:0,executeEnd:0,end:0},this.buffering={audio:{start:0,executeStart:0,executeEnd:0,end:0},video:{start:0,executeStart:0,executeEnd:0,end:0},audiovideo:{start:0,executeStart:0,executeEnd:0,end:0}},this.level=t,this.sn=e,this.id=r,this.size=n,this.part=i,this.partial=o;}}function tr(t,e){let r=null;for(let n=0,i=t.length;n<i;n++){const i=t[n];if(i&&i.cc===e){r=i;break}}return r}function er(t,e){if(t){const r=t.start+e;t.start=t.startPTS=r,t.endPTS=r+t.duration;}}function rr(t,e){const r=e.fragments;for(let e=0,n=r.length;e<n;e++)er(r[e],t);e.fragmentHint&&er(e.fragmentHint,t),e.alignedSliding=!0;}function nr(t,e){if(!t.hasProgramDateTime||!e.hasProgramDateTime)return;const r=t.fragments,n=e.fragments;if(!r.length||!n.length)return;const i=n[Math.round(n.length/2)-1],o=tr(r,i.cc)||r[Math.round(r.length/2)-1],a=i.programDateTime,s=o.programDateTime;null!==a&&null!==s&&rr((s-a)/1e3-(o.start-i.start),t);}class ir{constructor(t,e){this.subtle=void 0,this.aesIV=void 0,this.subtle=t,this.aesIV=e;}decrypt(t,e){return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},e,t)}}class or{constructor(t,e){this.subtle=void 0,this.key=void 0,this.subtle=t,this.key=e;}expandKey(){return this.subtle.importKey("raw",this.key,{name:"AES-CBC"},!1,["encrypt","decrypt"])}}class ar{constructor(){this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.ksRows=0,this.keySize=0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.initTable();}uint8ArrayToUint32Array_(t){const e=new DataView(t),r=new Uint32Array(4);for(let t=0;t<4;t++)r[t]=e.getUint32(4*t);return r}initTable(){const t=this.sBox,e=this.invSBox,r=this.subMix,n=r[0],i=r[1],o=r[2],a=r[3],s=this.invSubMix,c=s[0],u=s[1],l=s[2],f=s[3],h=new Uint32Array(256);let d=0,p=0,y=0;for(y=0;y<256;y++)h[y]=y<128?y<<1:y<<1^283;for(y=0;y<256;y++){let r=p^p<<1^p<<2^p<<3^p<<4;r=r>>>8^255&r^99,t[d]=r,e[r]=d;const s=h[d],y=h[s],v=h[y];let g=257*h[r]^16843008*r;n[d]=g<<24|g>>>8,i[d]=g<<16|g>>>16,o[d]=g<<8|g>>>24,a[d]=g,g=16843009*v^65537*y^257*s^16843008*d,c[r]=g<<24|g>>>8,u[r]=g<<16|g>>>16,l[r]=g<<8|g>>>24,f[r]=g,d?(d=s^h[h[h[v^s]]],p^=h[h[p]]):d=p=1;}}expandKey(t){const e=this.uint8ArrayToUint32Array_(t);let r=!0,n=0;for(;n<e.length&&r;)r=e[n]===this.key[n],n++;if(r)return;this.key=e;const i=this.keySize=e.length;if(4!==i&&6!==i&&8!==i)throw new Error("Invalid aes key size="+i);const o=this.ksRows=4*(i+6+1);let a,s;const c=this.keySchedule=new Uint32Array(o),u=this.invKeySchedule=new Uint32Array(o),l=this.sBox,f=this.rcon,h=this.invSubMix,d=h[0],p=h[1],y=h[2],v=h[3];let g,m;for(a=0;a<o;a++)a<i?g=c[a]=e[a]:(m=g,a%i==0?(m=m<<8|m>>>24,m=l[m>>>24]<<24|l[m>>>16&255]<<16|l[m>>>8&255]<<8|l[255&m],m^=f[a/i|0]<<24):i>6&&a%i==4&&(m=l[m>>>24]<<24|l[m>>>16&255]<<16|l[m>>>8&255]<<8|l[255&m]),c[a]=g=(c[a-i]^m)>>>0);for(s=0;s<o;s++)a=o-s,m=3&s?c[a]:c[a-4],u[s]=s<4||a<=4?m:d[l[m>>>24]]^p[l[m>>>16&255]]^y[l[m>>>8&255]]^v[l[255&m]],u[s]=u[s]>>>0;}networkToHostOrderSwap(t){return t<<24|(65280&t)<<8|(16711680&t)>>8|t>>>24}decrypt(t,e,r){const n=this.keySize+6,i=this.invKeySchedule,o=this.invSBox,a=this.invSubMix,s=a[0],c=a[1],u=a[2],l=a[3],f=this.uint8ArrayToUint32Array_(r);let h=f[0],d=f[1],p=f[2],y=f[3];const v=new Int32Array(t),g=new Int32Array(v.length);let m,b,w,A,E,x,L,_,k,C,S,T,P,O;const I=this.networkToHostOrderSwap;for(;e<v.length;){for(k=I(v[e]),C=I(v[e+1]),S=I(v[e+2]),T=I(v[e+3]),E=k^i[0],x=T^i[1],L=S^i[2],_=C^i[3],P=4,O=1;O<n;O++)m=s[E>>>24]^c[x>>16&255]^u[L>>8&255]^l[255&_]^i[P],b=s[x>>>24]^c[L>>16&255]^u[_>>8&255]^l[255&E]^i[P+1],w=s[L>>>24]^c[_>>16&255]^u[E>>8&255]^l[255&x]^i[P+2],A=s[_>>>24]^c[E>>16&255]^u[x>>8&255]^l[255&L]^i[P+3],E=m,x=b,L=w,_=A,P+=4;m=o[E>>>24]<<24^o[x>>16&255]<<16^o[L>>8&255]<<8^o[255&_]^i[P],b=o[x>>>24]<<24^o[L>>16&255]<<16^o[_>>8&255]<<8^o[255&E]^i[P+1],w=o[L>>>24]<<24^o[_>>16&255]<<16^o[E>>8&255]<<8^o[255&x]^i[P+2],A=o[_>>>24]<<24^o[E>>16&255]<<16^o[x>>8&255]<<8^o[255&L]^i[P+3],g[e]=I(m^h),g[e+1]=I(A^d),g[e+2]=I(w^p),g[e+3]=I(b^y),h=k,d=C,p=S,y=T,e+=4;}return g.buffer}}class sr{constructor(t,{removePKCS7Padding:e=!0}={}){if(this.logEnabled=!0,this.removePKCS7Padding=void 0,this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null,this.useSoftware=void 0,this.useSoftware=t.enableSoftwareAES,this.removePKCS7Padding=e,e)try{const t=self.crypto;t&&(this.subtle=t.subtle||t.webkitSubtle);}catch(t){}null===this.subtle&&(this.useSoftware=!0);}destroy(){this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null;}isSync(){return this.useSoftware}flush(){const{currentResult:t,remainderData:e}=this;if(!t||e)return this.reset(),null;const r=new Uint8Array(t);return this.reset(),this.removePKCS7Padding?function(t){const e=t.byteLength,r=e&&new DataView(t.buffer).getUint8(e-1);return r?G(t,0,e-r):t}(r):r}reset(){this.currentResult=null,this.currentIV=null,this.remainderData=null,this.softwareDecrypter&&(this.softwareDecrypter=null);}decrypt(t,e,r){return this.useSoftware?new Promise(((n,i)=>{this.softwareDecrypt(new Uint8Array(t),e,r);const o=this.flush();o?n(o.buffer):i(new Error("[softwareDecrypt] Failed to decrypt data"));})):this.webCryptoDecrypt(new Uint8Array(t),e,r)}softwareDecrypt(t,e,r){const{currentIV:n,currentResult:i,remainderData:o}=this;this.logOnce("JS AES decrypt"),o&&(t=mt(o,t),this.remainderData=null);const a=this.getValidChunk(t);if(!a.length)return null;n&&(r=n);let s=this.softwareDecrypter;s||(s=this.softwareDecrypter=new ar),s.expandKey(e);const c=i;return this.currentResult=s.decrypt(a.buffer,0,r),this.currentIV=G(a,-16).buffer,c||null}webCryptoDecrypt(t,e,r){const n=this.subtle;return this.key===e&&this.fastAesKey||(this.key=e,this.fastAesKey=new or(n,e)),this.fastAesKey.expandKey().then((e=>n?(this.logOnce("WebCrypto AES decrypt"),new ir(n,new Uint8Array(r)).decrypt(t.buffer,e)):Promise.reject(new Error("web crypto not initialized")))).catch((n=>(g.warn(`[decrypter]: WebCrypto Error, disable WebCrypto API, ${n.name}: ${n.message}`),this.onWebCryptoError(t,e,r))))}onWebCryptoError(t,e,r){this.useSoftware=!0,this.logEnabled=!0,this.softwareDecrypt(t,e,r);const n=this.flush();if(n)return n.buffer;throw new Error("WebCrypto and softwareDecrypt: failed to decrypt data")}getValidChunk(t){let e=t;const r=t.length-t.length%16;return r!==t.length&&(e=G(t,0,r),this.remainderData=G(t,r)),e}logOnce(t){this.logEnabled&&(g.log(`[decrypter]: ${t}`),this.logEnabled=!1);}}const cr="STOPPED",ur="IDLE",lr="KEY_LOADING",fr="FRAG_LOADING",hr="FRAG_LOADING_WAITING_RETRY",dr="WAITING_TRACK",pr="PARSING",yr="PARSED",vr="ENDED",gr="ERROR",mr="WAITING_INIT_PTS",br="WAITING_LEVEL";class wr extends qe{constructor(t,e,r,n,i){super(),this.hls=void 0,this.fragPrevious=null,this.fragCurrent=null,this.fragmentTracker=void 0,this.transmuxer=null,this._state=cr,this.playlistType=void 0,this.media=null,this.mediaBuffer=null,this.config=void 0,this.bitrateTest=!1,this.lastCurrentTime=0,this.nextLoadPosition=0,this.startPosition=0,this.startTimeOffset=null,this.loadedmetadata=!1,this.retryDate=0,this.levels=null,this.fragmentLoader=void 0,this.keyLoader=void 0,this.levelLastLoaded=null,this.startFragRequested=!1,this.decrypter=void 0,this.initPTS=[],this.onvseeking=null,this.onvended=null,this.logPrefix="",this.log=void 0,this.warn=void 0,this.playlistType=i,this.logPrefix=n,this.log=g.log.bind(g,`${n}:`),this.warn=g.warn.bind(g,`${n}:`),this.hls=t,this.fragmentLoader=new He(t.config),this.keyLoader=r,this.fragmentTracker=e,this.config=t.config,this.decrypter=new sr(t.config),t.on(f.MANIFEST_LOADED,this.onManifestLoaded,this);}doTick(){this.onTickEnd();}onTickEnd(){}startLoad(t){}stopLoad(){this.fragmentLoader.abort(),this.keyLoader.abort(this.playlistType);const t=this.fragCurrent;null!=t&&t.loader&&(t.abortRequests(),this.fragmentTracker.removeFragment(t)),this.resetTransmuxer(),this.fragCurrent=null,this.fragPrevious=null,this.clearInterval(),this.clearNextTick(),this.state=cr;}_streamEnded(t,e){if(e.live||t.nextStart||!t.end||!this.media)return !1;const r=e.partList;if(null!=r&&r.length){const t=r[r.length-1];return Qe.isBuffered(this.media,t.start+t.duration/2)}const n=e.fragments[e.fragments.length-1].type;return this.fragmentTracker.isEndListAppended(n)}getLevelDetails(){var t;if(this.levels&&null!==this.levelLastLoaded)return null==(t=this.levels[this.levelLastLoaded])?void 0:t.details}onMediaAttached(t,e){const r=this.media=this.mediaBuffer=e.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvended=this.onMediaEnded.bind(this),r.addEventListener("seeking",this.onvseeking),r.addEventListener("ended",this.onvended);const n=this.config;this.levels&&n.autoStartLoad&&this.state===cr&&this.startLoad(n.startPosition);}onMediaDetaching(){const t=this.media;null!=t&&t.ended&&(this.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0),t&&this.onvseeking&&this.onvended&&(t.removeEventListener("seeking",this.onvseeking),t.removeEventListener("ended",this.onvended),this.onvseeking=this.onvended=null),this.keyLoader&&this.keyLoader.detach(),this.media=this.mediaBuffer=null,this.loadedmetadata=!1,this.fragmentTracker.removeAllFragments(),this.stopLoad();}onMediaSeeking(){const{config:t,fragCurrent:e,media:r,mediaBuffer:n,state:i}=this,o=r?r.currentTime:0,a=Qe.bufferInfo(n||r,o,t.maxBufferHole);if(this.log(`media seeking to ${l(o)?o.toFixed(3):o}, state: ${i}`),this.state===vr)this.resetLoadingState();else if(e){const r=t.maxFragLookUpTolerance,n=e.start-r,i=e.start+e.duration+r;if(!a.len||i<a.start||n>a.end){const t=o>i;(o<n||t)&&(t&&e.loader&&(this.log("seeking outside of buffer while fragment load in progress, cancel fragment load"),e.abortRequests(),this.resetLoadingState()),this.fragPrevious=null);}}r&&(this.fragmentTracker.removeFragmentsInRange(o,1/0,this.playlistType,!0),this.lastCurrentTime=o),this.loadedmetadata||a.len||(this.nextLoadPosition=this.startPosition=o),this.tickImmediate();}onMediaEnded(){this.startPosition=this.lastCurrentTime=0;}onManifestLoaded(t,e){this.startTimeOffset=e.startTimeOffset,this.initPTS=[];}onHandlerDestroying(){this.stopLoad(),super.onHandlerDestroying();}onHandlerDestroyed(){this.state=cr,this.fragmentLoader&&this.fragmentLoader.destroy(),this.keyLoader&&this.keyLoader.destroy(),this.decrypter&&this.decrypter.destroy(),this.hls=this.log=this.warn=this.decrypter=this.keyLoader=this.fragmentLoader=this.fragmentTracker=null,super.onHandlerDestroyed();}loadFragment(t,e,r){this._loadFragForPlayback(t,e,r);}_loadFragForPlayback(t,e,r){this._doFragLoad(t,e,r,(e=>{if(this.fragContextChanged(t))return this.warn(`Fragment ${t.sn}${e.part?" p: "+e.part.index:""} of level ${t.level} was dropped during download.`),void this.fragmentTracker.removeFragment(t);t.stats.chunkCount++,this._handleFragmentLoadProgress(e);})).then((e=>{if(!e)return;const r=this.state;this.fragContextChanged(t)?(r===fr||!this.fragCurrent&&r===pr)&&(this.fragmentTracker.removeFragment(t),this.state=ur):("payload"in e&&(this.log(`Loaded fragment ${t.sn} of level ${t.level}`),this.hls.trigger(f.FRAG_LOADED,e)),this._handleFragmentLoadComplete(e));})).catch((e=>{this.state!==cr&&this.state!==gr&&(this.warn(e),this.resetFragmentLoading(t));}));}clearTrackerIfNeeded(t){var e;const{fragmentTracker:r}=this;if(r.getState(t)===Ne){const e=t.type,n=this.getFwdBufferInfo(this.mediaBuffer,e),i=Math.max(t.duration,n?n.len:this.config.maxBufferLength);this.reduceMaxBufferLength(i)&&r.removeFragment(t);}else 0===(null==(e=this.mediaBuffer)?void 0:e.buffered.length)?r.removeAllFragments():r.hasParts(t.type)&&(r.detectPartialFragments({frag:t,part:null,stats:t.stats,id:t.type}),r.getState(t)===Me&&r.removeFragment(t));}flushMainBuffer(t,e,r=null){if(!(t-e))return;const n={startOffset:t,endOffset:e,type:r};this.hls.trigger(f.BUFFER_FLUSHING,n);}_loadInitSegment(t,e){this._doFragLoad(t,e).then((e=>{if(!e||this.fragContextChanged(t)||!this.levels)throw new Error("init load aborted");return e})).then((e=>{const{hls:r}=this,{payload:n}=e,i=t.decryptdata;if(n&&n.byteLength>0&&i&&i.key&&i.iv&&"AES-128"===i.method){const o=self.performance.now();return this.decrypter.decrypt(new Uint8Array(n),i.key.buffer,i.iv.buffer).catch((e=>{throw r.trigger(f.ERROR,{type:h.MEDIA_ERROR,details:d.FRAG_DECRYPT_ERROR,fatal:!1,error:e,reason:e.message,frag:t}),e})).then((n=>{const i=self.performance.now();return r.trigger(f.FRAG_DECRYPTED,{frag:t,payload:n,stats:{tstart:o,tdecrypt:i}}),e.payload=n,e}))}return e})).then((r=>{const{fragCurrent:n,hls:i,levels:o}=this;if(!o)throw new Error("init load aborted, missing levels");const a=t.stats;this.state=ur,e.fragmentError=0,t.data=new Uint8Array(r.payload),a.parsing.start=a.buffering.start=self.performance.now(),a.parsing.end=a.buffering.end=self.performance.now(),r.frag===n&&i.trigger(f.FRAG_BUFFERED,{stats:a,frag:n,part:null,id:t.type}),this.tick();})).catch((e=>{this.state!==cr&&this.state!==gr&&(this.warn(e),this.resetFragmentLoading(t));}));}fragContextChanged(t){const{fragCurrent:e}=this;return !t||!e||t.level!==e.level||t.sn!==e.sn||t.urlId!==e.urlId}fragBufferedComplete(t,e){var r,n,i,o;const a=this.mediaBuffer?this.mediaBuffer:this.media;this.log(`Buffered ${t.type} sn: ${t.sn}${e?" part: "+e.index:""} of ${this.playlistType===zt.MAIN?"level":"track"} ${t.level} (frag:[${(null!=(r=t.startPTS)?r:NaN).toFixed(3)}-${(null!=(n=t.endPTS)?n:NaN).toFixed(3)}] > buffer:${a?function(t){let e="";const r=t.length;for(let n=0;n<r;n++)e+=`[${t.start(n).toFixed(3)}-${t.end(n).toFixed(3)}]`;return e}(Qe.getBuffered(a)):"(detached)"})`),this.state=ur,a&&(!this.loadedmetadata&&t.type==zt.MAIN&&a.buffered.length&&(null==(i=this.fragCurrent)?void 0:i.sn)===(null==(o=this.fragPrevious)?void 0:o.sn)&&(this.loadedmetadata=!0,this.seekToStartPos()),this.tick());}seekToStartPos(){}_handleFragmentLoadComplete(t){const{transmuxer:e}=this;if(!e)return;const{frag:r,part:n,partsLoaded:i}=t,o=!i||0===i.length||i.some((t=>!t)),a=new Je(r.level,r.sn,r.stats.chunkCount+1,0,n?n.index:-1,!o);e.flush(a);}_handleFragmentLoadProgress(t){}_doFragLoad(t,e,r=null,n){var i;const o=null==e?void 0:e.details;if(!this.levels||!o)throw new Error(`frag load aborted, missing level${o?"":" detail"}s`);let a=null;if(!t.encrypted||null!=(i=t.decryptdata)&&i.key?!t.encrypted&&o.encryptedFragments.length&&this.keyLoader.loadClear(t,o.encryptedFragments):(this.log(`Loading key for ${t.sn} of [${o.startSN}-${o.endSN}], ${"[stream-controller]"===this.logPrefix?"level":"track"} ${t.level}`),this.state=lr,this.fragCurrent=t,a=this.keyLoader.load(t).then((t=>{if(!this.fragContextChanged(t.frag))return this.hls.trigger(f.KEY_LOADED,t),this.state===lr&&(this.state=ur),t})),this.hls.trigger(f.KEY_LOADING,{frag:t}),null===this.fragCurrent&&(a=Promise.reject(new Error("frag load aborted, context changed in KEY_LOADING")))),r=Math.max(t.start,r||0),this.config.lowLatencyMode&&"initSegment"!==t.sn){const i=o.partList;if(i&&n){r>t.end&&o.fragmentHint&&(t=o.fragmentHint);const s=this.getNextPart(i,t,r);if(s>-1){const c=i[s];let u;return this.log(`Loading part sn: ${t.sn} p: ${c.index} cc: ${t.cc} of playlist [${o.startSN}-${o.endSN}] parts [0-${s}-${i.length-1}] ${"[stream-controller]"===this.logPrefix?"level":"track"}: ${t.level}, target: ${parseFloat(r.toFixed(3))}`),this.nextLoadPosition=c.start+c.duration,this.state=fr,u=a?a.then((r=>!r||this.fragContextChanged(r.frag)?null:this.doFragPartsLoad(t,c,e,n))).catch((t=>this.handleFragLoadError(t))):this.doFragPartsLoad(t,c,e,n).catch((t=>this.handleFragLoadError(t))),this.hls.trigger(f.FRAG_LOADING,{frag:t,part:c,targetBufferTime:r}),null===this.fragCurrent?Promise.reject(new Error("frag load aborted, context changed in FRAG_LOADING parts")):u}if(!t.url||this.loadedEndOfParts(i,r))return Promise.resolve(null)}}this.log(`Loading fragment ${t.sn} cc: ${t.cc} ${o?"of ["+o.startSN+"-"+o.endSN+"] ":""}${"[stream-controller]"===this.logPrefix?"level":"track"}: ${t.level}, target: ${parseFloat(r.toFixed(3))}`),l(t.sn)&&!this.bitrateTest&&(this.nextLoadPosition=t.start+t.duration),this.state=fr;const s=this.config.progressive;let c;return c=s&&a?a.then((e=>!e||this.fragContextChanged(null==e?void 0:e.frag)?null:this.fragmentLoader.load(t,n))).catch((t=>this.handleFragLoadError(t))):Promise.all([this.fragmentLoader.load(t,s?n:void 0),a]).then((([t])=>(!s&&t&&n&&n(t),t))).catch((t=>this.handleFragLoadError(t))),this.hls.trigger(f.FRAG_LOADING,{frag:t,targetBufferTime:r}),null===this.fragCurrent?Promise.reject(new Error("frag load aborted, context changed in FRAG_LOADING")):c}doFragPartsLoad(t,e,r,n){return new Promise(((i,o)=>{var a;const s=[],c=null==(a=r.details)?void 0:a.partList,u=e=>{this.fragmentLoader.loadPart(t,e,n).then((n=>{s[e.index]=n;const o=n.part;this.hls.trigger(f.FRAG_LOADED,n);const a=we(r,t.sn,e.index+1)||Ae(c,t.sn,e.index+1);if(!a)return i({frag:t,part:o,partsLoaded:s});u(a);})).catch(o);};u(e);}))}handleFragLoadError(t){if("data"in t){const e=t.data;t.data&&e.details===d.INTERNAL_ABORTED?this.handleFragLoadAborted(e.frag,e.part):this.hls.trigger(f.ERROR,e);}else this.hls.trigger(f.ERROR,{type:h.OTHER_ERROR,details:d.INTERNAL_EXCEPTION,err:t,error:t,fatal:!0});return null}_handleTransmuxerFlush(t){const e=this.getCurrentContext(t);if(!e||this.state!==pr)return void(this.fragCurrent||this.state===cr||this.state===gr||(this.state=ur));const{frag:r,part:n,level:i}=e,o=self.performance.now();r.stats.parsing.end=o,n&&(n.stats.parsing.end=o),this.updateLevelTiming(r,n,i,t.partial);}getCurrentContext(t){const{levels:e,fragCurrent:r}=this,{level:n,sn:i,part:o}=t;if(null==e||!e[n])return this.warn(`Levels object was unset while buffering fragment ${i} of level ${n}. The current chunk will not be buffered.`),null;const a=e[n],s=o>-1?we(a,i,o):null,c=s?s.fragment:function(t,e,r){if(null==t||!t.details)return null;const n=t.details;let i=n.fragments[e-n.startSN];return i||(i=n.fragmentHint,i&&i.sn===e?i:e<n.startSN&&r&&r.sn===e?r:null)}(a,i,r);return c?(r&&r!==c&&(c.stats=r.stats),{frag:c,part:s,level:a}):null}bufferFragmentData(t,e,r,n){var i;if(!t||this.state!==pr)return;const{data1:o,data2:a}=t;let s=o;if(o&&a&&(s=mt(o,a)),null==(i=s)||!i.length)return;const c={type:t.type,frag:e,part:r,chunkMeta:n,parent:e.type,data:s};this.hls.trigger(f.BUFFER_APPENDING,c),t.dropped&&t.independent&&!r&&this.flushBufferGap(e);}flushBufferGap(t){const e=this.media;if(!e)return;if(!Qe.isBuffered(e,e.currentTime))return void this.flushMainBuffer(0,t.start);const r=e.currentTime,n=Qe.bufferInfo(e,r,0),i=t.duration,o=Math.min(2*this.config.maxFragLookUpTolerance,.25*i),a=Math.max(Math.min(t.start-o,n.end-o),r+o);t.start-a>o&&this.flushMainBuffer(a,t.start);}getFwdBufferInfo(t,e){const r=this.getLoadPosition();return l(r)?this.getFwdBufferInfoAtPos(t,r,e):null}getFwdBufferInfoAtPos(t,e,r){const{config:{maxBufferHole:n}}=this,i=Qe.bufferInfo(t,e,n);if(0===i.len&&void 0!==i.nextStart){const o=this.fragmentTracker.getBufferedFrag(e,r);if(o&&i.nextStart<o.end)return Qe.bufferInfo(t,e,Math.max(i.nextStart,n))}return i}getMaxBufferLength(t){const{config:e}=this;let r;return r=t?Math.max(8*e.maxBufferSize/t,e.maxBufferLength):e.maxBufferLength,Math.min(r,e.maxMaxBufferLength)}reduceMaxBufferLength(t){const e=this.config,r=t||e.maxBufferLength;return e.maxMaxBufferLength>=r&&(e.maxMaxBufferLength/=2,this.warn(`Reduce max buffer length to ${e.maxMaxBufferLength}s`),!0)}getAppendedFrag(t,e=zt.MAIN){const r=this.fragmentTracker.getAppendedFrag(t,zt.MAIN);return r&&"fragment"in r?r.fragment:r}getNextFragment(t,e){const r=e.fragments,n=r.length;if(!n)return null;const{config:i}=this,o=r[0].start;let a;if(e.live){const o=i.initialLiveManifestSize;if(n<o)return this.warn(`Not enough fragments to start playback (have: ${n}, need: ${o})`),null;e.PTSKnown||this.startFragRequested||-1!==this.startPosition||(a=this.getInitialLiveFragment(e,r),this.startPosition=a?this.hls.liveSyncPosition||a.start:t);}else t<=o&&(a=r[0]);if(!a){const r=i.lowLatencyMode?e.partEnd:e.fragmentEnd;a=this.getFragmentAtPosition(t,r,e);}return this.mapToInitFragWhenRequired(a)}isLoopLoading(t,e){const r=this.fragmentTracker.getState(t);return (r===Ue||r===Me&&!!t.gap)&&this.nextLoadPosition>e}getNextFragmentLoopLoading(t,e,r,n,i){const o=t.gap,a=this.getNextFragment(this.nextLoadPosition,e);if(null===a)return a;if(t=a,o&&t&&!t.gap&&r.nextStart){const e=this.getFwdBufferInfoAtPos(this.mediaBuffer?this.mediaBuffer:this.media,r.nextStart,n);if(null!==e&&r.len+e.len>=i)return this.log(`buffer full after gaps in "${n}" playlist starting at sn: ${t.sn}`),null}return t}mapToInitFragWhenRequired(t){return null==t||!t.initSegment||null!=t&&t.initSegment.data||this.bitrateTest?t:t.initSegment}getNextPart(t,e,r){let n=-1,i=!1,o=!0;for(let a=0,s=t.length;a<s;a++){const s=t[a];if(o=o&&!s.independent,n>-1&&r<s.start)break;const c=s.loaded;c?n=-1:(i||s.independent||o)&&s.fragment===e&&(n=a),i=c;}return n}loadedEndOfParts(t,e){const r=t[t.length-1];return r&&e>r.start&&r.loaded}getInitialLiveFragment(t,e){const r=this.fragPrevious;let n=null;if(r){if(t.hasProgramDateTime&&(this.log(`Live playlist, switching playlist, load frag with same PDT: ${r.programDateTime}`),n=function(t,e,r){if(null===e||!Array.isArray(t)||!t.length||!l(e))return null;if(e<(t[0].programDateTime||0))return null;if(e>=(t[t.length-1].endProgramDateTime||0))return null;r=r||0;for(let n=0;n<t.length;++n){const i=t[n];if(Pe(e,r,i))return i}return null}(e,r.endProgramDateTime,this.config.maxFragLookUpTolerance)),!n){const i=r.sn+1;if(i>=t.startSN&&i<=t.endSN){const o=e[i-t.startSN];r.cc===o.cc&&(n=o,this.log(`Live playlist, switching playlist, load frag with next SN: ${n.sn}`));}n||(n=function(t,e){return Ce.search(t,(t=>t.cc<e?1:t.cc>e?-1:0))}(e,r.cc),n&&this.log(`Live playlist, switching playlist, load frag with same CC: ${n.sn}`));}}else {const e=this.hls.liveSyncPosition;null!==e&&(n=this.getFragmentAtPosition(e,this.bitrateTest?t.fragmentEnd:t.edge,t));}return n}getFragmentAtPosition(t,e,r){const{config:n}=this;let{fragPrevious:i}=this,{fragments:o,endSN:a}=r;const{fragmentHint:s}=r,c=n.maxFragLookUpTolerance,u=r.partList,l=!!(n.lowLatencyMode&&null!=u&&u.length&&s);let f;if(l&&s&&!this.bitrateTest&&(o=o.concat(s),a=s.sn),f=t<e?Se(i,o,t,t>e-c?0:c):o[o.length-1],f){const t=f.sn-r.startSN,e=this.fragmentTracker.getState(f);if((e===Ue||e===Me&&f.gap)&&(i=f),i&&f.sn===i.sn&&(!l||u[0].fragment.sn>f.sn)&&i&&f.level===i.level){const e=o[t+1];f=f.sn<a&&this.fragmentTracker.getState(e)!==Ue?e:null;}}return f}synchronizeToLiveEdge(t){const{config:e,media:r}=this;if(!r)return;const n=this.hls.liveSyncPosition,i=r.currentTime,o=t.fragments[0].start,a=t.edge,s=i>=o-e.maxFragLookUpTolerance&&i<=a;if(null!==n&&r.duration>n&&(i<n||!s)){const o=void 0!==e.liveMaxLatencyDuration?e.liveMaxLatencyDuration:e.liveMaxLatencyDurationCount*t.targetduration;(!s&&r.readyState<4||i<a-o)&&(this.loadedmetadata||(this.nextLoadPosition=n),r.readyState&&(this.warn(`Playback: ${i.toFixed(3)} is located too far from the end of live sliding playlist: ${a}, reset currentTime to : ${n.toFixed(3)}`),r.currentTime=n));}}alignPlaylists(t,e){const{levels:r,levelLastLoaded:n,fragPrevious:i}=this,o=null!==n?r[n]:null,a=t.fragments.length;if(!a)return this.warn("No fragments in live playlist"),0;const s=t.fragments[0].start,c=!e,u=t.alignedSliding&&l(s);if(c||!u&&!s){!function(t,e,r){e&&(function(t,e,r){if(function(t,e,r){return !(!e.details||!(r.endCC>r.startCC||t&&t.cc<r.startCC))}(t,r,e)){const t=function(t,e,r=0){const n=t.fragments,i=e.fragments;if(!i.length||!n.length)return void g.log("No fragments to align");const o=tr(n,i[0].cc);if(o&&(!o||o.startPTS))return o;g.log("No frag in previous level to align on");}(r.details,e);t&&l(t.start)&&(g.log(`Adjusting PTS using last level due to CC increase within current level ${e.url}`),rr(t.start,e));}}(t,r,e),!r.alignedSliding&&e.details&&function(t,e){if(!e.fragments.length||!t.hasProgramDateTime||!e.hasProgramDateTime)return;const r=e.fragments[0].programDateTime,n=t.fragments[0].programDateTime,i=(n-r)/1e3+e.fragments[0].start;i&&l(i)&&(g.log(`Adjusting PTS using programDateTime delta ${n-r}ms, sliding:${i.toFixed(3)} ${t.url} `),rr(i,t));}(r,e.details),r.alignedSliding||!e.details||r.skippedSegments||me(e.details,r));}(i,o,t);const r=t.fragments[0].start;return this.log(`Live playlist sliding: ${r.toFixed(2)} start-sn: ${e?e.startSN:"na"}->${t.startSN} prev-sn: ${i?i.sn:"na"} fragments: ${a}`),r}return s}waitForCdnTuneIn(t){return t.live&&t.canBlockReload&&t.partTarget&&t.tuneInGoal>Math.max(t.partHoldBack,3*t.partTarget)}setStartPosition(t,e){let r=this.startPosition;if(r<e&&(r=-1),-1===r||-1===this.lastCurrentTime){const n=null!==this.startTimeOffset,i=n?this.startTimeOffset:t.startTimeOffset;null!==i&&l(i)?(r=e+i,i<0&&(r+=t.totalduration),r=Math.min(Math.max(e,r),e+t.totalduration),this.log(`Start time offset ${i} found in ${n?"multivariant":"media"} playlist, adjust startPosition to ${r}`),this.startPosition=r):t.live?r=this.hls.liveSyncPosition||e:this.startPosition=r=0,this.lastCurrentTime=r;}this.nextLoadPosition=r;}getLoadPosition(){const{media:t}=this;let e=0;return this.loadedmetadata&&t?e=t.currentTime:this.nextLoadPosition&&(e=this.nextLoadPosition),e}handleFragLoadAborted(t,e){this.transmuxer&&"initSegment"!==t.sn&&t.stats.aborted&&(this.warn(`Fragment ${t.sn}${e?" part "+e.index:""} of level ${t.level} was aborted`),this.resetFragmentLoading(t));}resetFragmentLoading(t){this.fragCurrent&&(this.fragContextChanged(t)||this.state===hr)||(this.state=ur);}onFragmentOrKeyLoadError(t,e){if(e.chunkMeta&&!e.frag){const t=this.getCurrentContext(e.chunkMeta);t&&(e.frag=t.frag);}const r=e.frag;if(!r||r.type!==t||!this.levels)return;var n;if(this.fragContextChanged(r))return void this.warn(`Frag load error must match current frag to retry ${r.url} > ${null==(n=this.fragCurrent)?void 0:n.url}`);const i=e.details===d.FRAG_GAP;i&&this.fragmentTracker.fragBuffered(r,!0);const o=e.errorAction,{action:a,retryCount:s=0,retryConfig:c}=o||{};if(o&&5===a&&c){this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition);const n=Le(c,s);this.warn(`Fragment ${r.sn} of ${t} ${r.level} errored with ${e.details}, retrying loading ${s+1}/${c.maxNumRetry} in ${n}ms`),o.resolved=!0,this.retryDate=self.performance.now()+n,this.state=hr;}else c&&o?(this.resetFragmentErrors(t),s<c.maxNumRetry?i||(o.resolved=!0):g.warn(`${e.details} reached or exceeded max retry (${s})`)):this.state=gr;this.tickImmediate();}reduceLengthAndFlushBuffer(t){if(this.state===pr||this.state===yr){const e=t.parent,r=this.getFwdBufferInfo(this.mediaBuffer,e),n=r&&r.len>.5;n&&this.reduceMaxBufferLength(r.len);const i=!n;return i&&this.warn(`Buffer full error while media.currentTime is not buffered, flush ${e} buffer`),t.frag&&(this.fragmentTracker.removeFragment(t.frag),this.nextLoadPosition=t.frag.start),this.resetLoadingState(),i}return !1}resetFragmentErrors(t){t===zt.AUDIO&&(this.fragCurrent=null),this.loadedmetadata||(this.startFragRequested=!1),this.state!==cr&&(this.state=ur);}afterBufferFlushed(t,e,r){if(!t)return;const n=Qe.getBuffered(t);this.fragmentTracker.detectEvictedFragments(e,n,r),this.state===vr&&this.resetLoadingState();}resetLoadingState(){this.log("Reset loading state"),this.fragCurrent=null,this.fragPrevious=null,this.state=ur;}resetStartWhenNotLoaded(t){if(!this.loadedmetadata){this.startFragRequested=!1;const e=this.levels?this.levels[t].details:null;null!=e&&e.live?(this.startPosition=-1,this.setStartPosition(e,0),this.resetLoadingState()):this.nextLoadPosition=this.startPosition;}}resetWhenMissingContext(t){this.warn(`The loading context changed while buffering fragment ${t.sn} of level ${t.level}. This chunk will not be buffered.`),this.removeUnbufferedFrags(),this.resetStartWhenNotLoaded(t.level),this.resetLoadingState();}removeUnbufferedFrags(t=0){this.fragmentTracker.removeFragmentsInRange(t,1/0,this.playlistType,!1,!0);}updateLevelTiming(t,e,r,n){var i;const o=r.details;if(o){if(Object.keys(t.elementaryStreams).reduce(((e,i)=>{const a=t.elementaryStreams[i];if(a){const s=a.endPTS-a.startPTS;if(s<=0)return this.warn(`Could not parse fragment ${t.sn} ${i} duration reliably (${s})`),e||!1;const c=n?0:ge(o,t,a.startPTS,a.endPTS,a.startDTS,a.endDTS);return this.hls.trigger(f.LEVEL_PTS_UPDATED,{details:o,level:r,drift:c,type:i,frag:t,start:a.startPTS,end:a.endPTS}),!0}return e}),!1))r.fragmentError=0;else if(null===(null==(i=this.transmuxer)?void 0:i.error)){const e=new Error(`Found no media in fragment ${t.sn} of level ${r.id} resetting transmuxer to fallback to playlist timing`);if(this.warn(e.message),this.hls.trigger(f.ERROR,{type:h.MEDIA_ERROR,details:d.FRAG_PARSING_ERROR,fatal:!1,error:e,frag:t,reason:`Found no media in msn ${t.sn} of level "${r.url}"`}),!this.hls)return;this.resetTransmuxer();}this.state=yr,this.hls.trigger(f.FRAG_PARSED,{frag:t,part:e});}else this.warn("level.details undefined");}resetTransmuxer(){this.transmuxer&&(this.transmuxer.destroy(),this.transmuxer=null);}recoverWorkerError(t){"demuxerWorker"===t.event&&(this.resetTransmuxer(),this.resetLoadingState());}set state(t){const e=this._state;e!==t&&(this._state=t,this.log(`${e}->${t}`));}get state(){return this._state}}function Ar(){return self.SourceBuffer||self.WebKitSourceBuffer}function Er(t="",e=9e4){return {type:t,id:-1,pid:-1,inputTimeScale:e,sequenceNumber:-1,samples:[],dropped:0}}class xr{constructor(){this._audioTrack=void 0,this._id3Track=void 0,this.frameIndex=0,this.cachedData=null,this.basePTS=null,this.initPTS=null,this.lastPTS=null;}resetInitSegment(t,e,r,n){this._id3Track={type:"id3",id:3,pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0};}resetTimeStamp(t){this.initPTS=t,this.resetContiguity();}resetContiguity(){this.basePTS=null,this.lastPTS=null,this.frameIndex=0;}canParse(t,e){return !1}appendFrame(t,e,r){}demux(t,e){this.cachedData&&(t=mt(this.cachedData,t),this.cachedData=null);let r,n=K(t,0),i=n?n.length:0;const o=this._audioTrack,a=this._id3Track,s=n?(t=>{const e=z(t);for(let t=0;t<e.length;t++){const r=e[t];if(Z(r))return tt(r)}})(n):void 0,c=t.length;for((null===this.basePTS||0===this.frameIndex&&l(s))&&(this.basePTS=Lr(s,e,this.initPTS),this.lastPTS=this.basePTS),null===this.lastPTS&&(this.lastPTS=this.basePTS),n&&n.length>0&&a.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:n,type:ne,duration:Number.POSITIVE_INFINITY});i<c;){if(this.canParse(t,i)){const e=this.appendFrame(o,t,i);e?(this.frameIndex++,this.lastPTS=e.sample.pts,i+=e.length,r=i):i=c;}else Y(t,i)?(n=K(t,i),a.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:n,type:ne,duration:Number.POSITIVE_INFINITY}),i+=n.length,r=i):i++;if(i===c&&r!==c){const e=G(t,r);this.cachedData?this.cachedData=mt(this.cachedData,e):this.cachedData=e;}}return {audioTrack:o,videoTrack:Er(),id3Track:a,textTrack:Er()}}demuxSampleAes(t,e,r){return Promise.reject(new Error(`[${this}] This demuxer does not support Sample-AES decryption`))}flush(t){const e=this.cachedData;return e&&(this.cachedData=null,this.demux(e,0)),{audioTrack:this._audioTrack,videoTrack:Er(),id3Track:this._id3Track,textTrack:Er()}}destroy(){}}const Lr=(t,e,r)=>l(t)?90*t:9e4*e+(r?9e4*r.baseTime/r.timescale:0);function _r(t,e){return 255===t[e]&&240==(246&t[e+1])}function kr(t,e){return 1&t[e+1]?7:9}function Cr(t,e){return (3&t[e+3])<<11|t[e+4]<<3|(224&t[e+5])>>>5}function Sr(t,e){return e+1<t.length&&_r(t,e)}function Tr(t,e){if(Sr(t,e)){const r=kr(t,e);if(e+r>=t.length)return !1;const n=Cr(t,e);if(n<=r)return !1;const i=e+n;return i===t.length||Sr(t,i)}return !1}function Pr(t,e,r,n,i){if(!t.samplerate){const o=function(t,e,r,n){let i,o,a,s;const c=navigator.userAgent.toLowerCase(),u=n,l=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];i=1+((192&e[r+2])>>>6);const p=(60&e[r+2])>>>2;if(!(p>l.length-1))return a=(1&e[r+2])<<2,a|=(192&e[r+3])>>>6,g.log(`manifest codec:${n}, ADTS type:${i}, samplingIndex:${p}`),/firefox/i.test(c)?p>=6?(i=5,s=new Array(4),o=p-3):(i=2,s=new Array(2),o=p):-1!==c.indexOf("android")?(i=2,s=new Array(2),o=p):(i=5,s=new Array(4),n&&(-1!==n.indexOf("mp4a.40.29")||-1!==n.indexOf("mp4a.40.5"))||!n&&p>=6?o=p-3:((n&&-1!==n.indexOf("mp4a.40.2")&&(p>=6&&1===a||/vivaldi/i.test(c))||!n&&1===a)&&(i=2,s=new Array(2)),o=p)),s[0]=i<<3,s[0]|=(14&p)>>1,s[1]|=(1&p)<<7,s[1]|=a<<3,5===i&&(s[1]|=(14&o)>>1,s[2]=(1&o)<<7,s[2]|=8,s[3]=0),{config:s,samplerate:l[p],channelCount:a,codec:"mp4a.40."+i,manifestCodec:u};t.trigger(f.ERROR,{type:h.MEDIA_ERROR,details:d.FRAG_PARSING_ERROR,fatal:!0,reason:`invalid ADTS sampling index:${p}`});}(e,r,n,i);if(!o)return;t.config=o.config,t.samplerate=o.samplerate,t.channelCount=o.channelCount,t.codec=o.codec,t.manifestCodec=o.manifestCodec,g.log(`parsed codec:${t.codec}, rate:${o.samplerate}, channels:${o.channelCount}`);}}function Or(t){return 9216e4/t}function Ir(t,e,r,n,i){const o=n+i*Or(t.samplerate),a=function(t,e){const r=kr(t,e);if(e+r<=t.length){const n=Cr(t,e)-r;if(n>0)return {headerLength:r,frameLength:n}}}(e,r);let s;if(a){const{frameLength:n,headerLength:i}=a,c=i+n,u=Math.max(0,r+c-e.length);u?(s=new Uint8Array(c-i),s.set(e.subarray(r+i,e.length),0)):s=e.subarray(r+i,r+c);const l={unit:s,pts:o};return u||t.samples.push(l),{sample:l,length:c,missing:u}}const c=e.length-r;return s=new Uint8Array(c),s.set(e.subarray(r,e.length),0),{sample:{unit:s,pts:o},length:c,missing:-1}}const Rr=/\/emsg[-/]ID3/i;let Dr=null;const jr=[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],Br=[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],Fr=[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],Nr=[0,1,1,4];function Mr(t,e,r,n,i){if(r+24>e.length)return;const o=Ur(e,r);if(o&&r+o.frameLength<=e.length){const a=n+i*(9e4*o.samplesPerFrame/o.sampleRate),s={unit:e.subarray(r,r+o.frameLength),pts:a,dts:a};return t.config=[],t.channelCount=o.channelCount,t.samplerate=o.sampleRate,t.samples.push(s),{sample:s,length:o.frameLength,missing:0}}}function Ur(t,e){const r=t[e+1]>>3&3,n=t[e+1]>>1&3,i=t[e+2]>>4&15,o=t[e+2]>>2&3;if(1!==r&&0!==i&&15!==i&&3!==o){const a=t[e+2]>>1&1,s=t[e+3]>>6,c=1e3*jr[14*(3===r?3-n:3===n?3:4)+i-1],u=Br[3*(3===r?0:2===r?1:2)+o],l=3===s?1:2,f=Fr[r][n],h=Nr[n],d=8*f*h,p=Math.floor(f*c/u+a)*h;if(null===Dr){const t=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);Dr=t?parseInt(t[1]):0;}return !!Dr&&Dr<=87&&2===n&&c>=224e3&&0===s&&(t[e+3]=128|t[e+3]),{sampleRate:u,channelCount:l,frameLength:p,samplesPerFrame:d}}}function Gr(t,e){return 255===t[e]&&224==(224&t[e+1])&&0!=(6&t[e+1])}function $r(t,e){return e+1<t.length&&Gr(t,e)}function Vr(t,e){if(e+1<t.length&&Gr(t,e)){const r=4,n=Ur(t,e);let i=r;null!=n&&n.frameLength&&(i=n.frameLength);const o=e+i;return o===t.length||$r(t,o)}return !1}class Kr{constructor(t){this.data=void 0,this.bytesAvailable=void 0,this.word=void 0,this.bitsAvailable=void 0,this.data=t,this.bytesAvailable=t.byteLength,this.word=0,this.bitsAvailable=0;}loadWord(){const t=this.data,e=this.bytesAvailable,r=t.byteLength-e,n=new Uint8Array(4),i=Math.min(4,e);if(0===i)throw new Error("no bytes available");n.set(t.subarray(r,r+i)),this.word=new DataView(n.buffer).getUint32(0),this.bitsAvailable=8*i,this.bytesAvailable-=i;}skipBits(t){let e;t=Math.min(t,8*this.bytesAvailable+this.bitsAvailable),this.bitsAvailable>t?(this.word<<=t,this.bitsAvailable-=t):(e=(t-=this.bitsAvailable)>>3,t-=e<<3,this.bytesAvailable-=e,this.loadWord(),this.word<<=t,this.bitsAvailable-=t);}readBits(t){let e=Math.min(this.bitsAvailable,t);const r=this.word>>>32-e;if(t>32&&g.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=e,this.bitsAvailable>0)this.word<<=e;else {if(!(this.bytesAvailable>0))throw new Error("no bits available");this.loadWord();}return e=t-e,e>0&&this.bitsAvailable?r<<e|this.readBits(e):r}skipLZ(){let t;for(t=0;t<this.bitsAvailable;++t)if(0!=(this.word&2147483648>>>t))return this.word<<=t,this.bitsAvailable-=t,t;return this.loadWord(),t+this.skipLZ()}skipUEG(){this.skipBits(1+this.skipLZ());}skipEG(){this.skipBits(1+this.skipLZ());}readUEG(){const t=this.skipLZ();return this.readBits(t+1)-1}readEG(){const t=this.readUEG();return 1&t?1+t>>>1:-1*(t>>>1)}readBoolean(){return 1===this.readBits(1)}readUByte(){return this.readBits(8)}readUShort(){return this.readBits(16)}readUInt(){return this.readBits(32)}skipScalingList(t){let e,r=8,n=8;for(let i=0;i<t;i++)0!==n&&(e=this.readEG(),n=(r+e+256)%256),r=0===n?r:n;}readSPS(){let t,e,r,n=0,i=0,o=0,a=0;const s=this.readUByte.bind(this),c=this.readBits.bind(this),u=this.readUEG.bind(this),l=this.readBoolean.bind(this),f=this.skipBits.bind(this),h=this.skipEG.bind(this),d=this.skipUEG.bind(this),p=this.skipScalingList.bind(this);s();const y=s();if(c(5),f(3),s(),d(),100===y||110===y||122===y||244===y||44===y||83===y||86===y||118===y||128===y){const t=u();if(3===t&&f(1),d(),d(),f(1),l())for(e=3!==t?8:12,r=0;r<e;r++)l()&&p(r<6?16:64);}d();const v=u();if(0===v)u();else if(1===v)for(f(1),h(),h(),t=u(),r=0;r<t;r++)h();d(),f(1);const g=u(),m=u(),b=c(1);0===b&&f(1),f(1),l()&&(n=u(),i=u(),o=u(),a=u());let w=[1,1];if(l()&&l())switch(s()){case 1:w=[1,1];break;case 2:w=[12,11];break;case 3:w=[10,11];break;case 4:w=[16,11];break;case 5:w=[40,33];break;case 6:w=[24,11];break;case 7:w=[20,11];break;case 8:w=[32,11];break;case 9:w=[80,33];break;case 10:w=[18,11];break;case 11:w=[15,11];break;case 12:w=[64,33];break;case 13:w=[160,99];break;case 14:w=[4,3];break;case 15:w=[3,2];break;case 16:w=[2,1];break;case 255:w=[s()<<8|s(),s()<<8|s()];}return {width:Math.ceil(16*(g+1)-2*n-2*i),height:(2-b)*(m+1)*16-(b?2:4)*(o+a),pixelRatio:w}}readSliceType(){return this.readUByte(),this.readUEG(),this.readUEG()}}class Hr{constructor(t,e,r){this.keyData=void 0,this.decrypter=void 0,this.keyData=r,this.decrypter=new sr(e,{removePKCS7Padding:!1});}decryptBuffer(t){return this.decrypter.decrypt(t,this.keyData.key.buffer,this.keyData.iv.buffer)}decryptAacSample(t,e,r){const n=t[e].unit;if(n.length<=16)return;const i=n.subarray(16,n.length-n.length%16),o=i.buffer.slice(i.byteOffset,i.byteOffset+i.length);this.decryptBuffer(o).then((i=>{const o=new Uint8Array(i);n.set(o,16),this.decrypter.isSync()||this.decryptAacSamples(t,e+1,r);}));}decryptAacSamples(t,e,r){for(;;e++){if(e>=t.length)return void r();if(!(t[e].unit.length<32||(this.decryptAacSample(t,e,r),this.decrypter.isSync())))return}}getAvcEncryptedData(t){const e=16*Math.floor((t.length-48)/160)+16,r=new Int8Array(e);let n=0;for(let e=32;e<t.length-16;e+=160,n+=16)r.set(t.subarray(e,e+16),n);return r}getAvcDecryptedUnit(t,e){const r=new Uint8Array(e);let n=0;for(let e=32;e<t.length-16;e+=160,n+=16)t.set(r.subarray(n,n+16),e);return t}decryptAvcSample(t,e,r,n,i){const o=Et(i.data),a=this.getAvcEncryptedData(o);this.decryptBuffer(a.buffer).then((a=>{i.data=this.getAvcDecryptedUnit(o,a),this.decrypter.isSync()||this.decryptAvcSamples(t,e,r+1,n);}));}decryptAvcSamples(t,e,r,n){if(t instanceof Uint8Array)throw new Error("Cannot decrypt samples of type Uint8Array");for(;;e++,r=0){if(e>=t.length)return void n();const i=t[e].units;for(;!(r>=i.length);r++){const o=i[r];if(!(o.data.length<=48||1!==o.type&&5!==o.type||(this.decryptAvcSample(t,e,r,n,o),this.decrypter.isSync())))return}}}}const Yr=188;class Zr{constructor(t,e,r){this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.sampleAes=null,this.pmtParsed=!1,this.audioCodec=void 0,this.videoCodec=void 0,this._duration=0,this._pmtId=-1,this._avcTrack=void 0,this._audioTrack=void 0,this._id3Track=void 0,this._txtTrack=void 0,this.aacOverFlow=null,this.avcSample=null,this.remainderData=null,this.observer=t,this.config=e,this.typeSupported=r;}static probe(t){const e=Zr.syncOffset(t);return e>0&&g.warn(`MPEG2-TS detected but first sync word found @ offset ${e}`),-1!==e}static syncOffset(t){const e=t.length,r=Math.min(940,t.length-Yr)+1;let n=0;for(;n<r;){let i=!1;for(let o=n;o<e&&71===t[o];o+=Yr)if(i||0!==zr(t,o)||(i=!0),i&&o+Yr>r)return n;n++;}return -1}static createTrack(t,e){return {container:"video"===t||"audio"===t?"video/mp2t":void 0,type:t,id:st[t],pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0,duration:"audio"===t?e:void 0}}resetInitSegment(t,e,r,n){this.pmtParsed=!1,this._pmtId=-1,this._avcTrack=Zr.createTrack("video"),this._audioTrack=Zr.createTrack("audio",n),this._id3Track=Zr.createTrack("id3"),this._txtTrack=Zr.createTrack("text"),this._audioTrack.segmentCodec="aac",this.aacOverFlow=null,this.avcSample=null,this.remainderData=null,this.audioCodec=e,this.videoCodec=r,this._duration=n;}resetTimeStamp(){}resetContiguity(){const{_audioTrack:t,_avcTrack:e,_id3Track:r}=this;t&&(t.pesData=null),e&&(e.pesData=null),r&&(r.pesData=null),this.aacOverFlow=null,this.avcSample=null,this.remainderData=null;}demux(t,e,r=!1,n=!1){let i;r||(this.sampleAes=null);const o=this._avcTrack,a=this._audioTrack,s=this._id3Track,c=this._txtTrack;let u=o.pid,l=o.pesData,p=a.pid,y=s.pid,v=a.pesData,m=s.pesData,b=null,w=this.pmtParsed,A=this._pmtId,E=t.length;if(this.remainderData&&(E=(t=mt(this.remainderData,t)).length,this.remainderData=null),E<Yr&&!n)return this.remainderData=t,{audioTrack:a,videoTrack:o,id3Track:s,textTrack:c};const x=Math.max(0,Zr.syncOffset(t));E-=(E-x)%Yr,E<t.byteLength&&!n&&(this.remainderData=new Uint8Array(t.buffer,E,t.buffer.byteLength-E));let L=0;for(let e=x;e<E;e+=Yr)if(71===t[e]){const n=!!(64&t[e+1]),f=zr(t,e);let h;if((48&t[e+3])>>4>1){if(h=e+5+t[e+4],h===e+Yr)continue}else h=e+4;switch(f){case u:n&&(l&&(i=Qr(l))&&this.parseAVCPES(o,c,i,!1),l={data:[],size:0}),l&&(l.data.push(t.subarray(h,e+Yr)),l.size+=e+Yr-h);break;case p:if(n){if(v&&(i=Qr(v)))switch(a.segmentCodec){case"aac":this.parseAACPES(a,i);break;case"mp3":this.parseMPEGPES(a,i);}v={data:[],size:0};}v&&(v.data.push(t.subarray(h,e+Yr)),v.size+=e+Yr-h);break;case y:n&&(m&&(i=Qr(m))&&this.parseID3PES(s,i),m={data:[],size:0}),m&&(m.data.push(t.subarray(h,e+Yr)),m.size+=e+Yr-h);break;case 0:n&&(h+=t[h]+1),A=this._pmtId=qr(t,h);break;case A:{n&&(h+=t[h]+1);const i=Xr(t,h,this.typeSupported,r);u=i.avc,u>0&&(o.pid=u),p=i.audio,p>0&&(a.pid=p,a.segmentCodec=i.segmentCodec),y=i.id3,y>0&&(s.pid=y),null===b||w||(g.warn(`MPEG-TS PMT found at ${e} after unknown PID '${b}'. Backtracking to sync byte @${x} to parse all TS packets.`),b=null,e=x-188),w=this.pmtParsed=!0;break}case 17:case 8191:break;default:b=f;}}else L++;if(L>0){const t=new Error(`Found ${L} TS packet/s that do not start with 0x47`);this.observer.emit(f.ERROR,f.ERROR,{type:h.MEDIA_ERROR,details:d.FRAG_PARSING_ERROR,fatal:!1,error:t,reason:t.message});}o.pesData=l,a.pesData=v,s.pesData=m;const _={audioTrack:a,videoTrack:o,id3Track:s,textTrack:c};return n&&this.extractRemainingSamples(_),_}flush(){const{remainderData:t}=this;let e;return this.remainderData=null,e=t?this.demux(t,-1,!1,!0):{videoTrack:this._avcTrack,audioTrack:this._audioTrack,id3Track:this._id3Track,textTrack:this._txtTrack},this.extractRemainingSamples(e),this.sampleAes?this.decrypt(e,this.sampleAes):e}extractRemainingSamples(t){const{audioTrack:e,videoTrack:r,id3Track:n,textTrack:i}=t,o=r.pesData,a=e.pesData,s=n.pesData;let c;if(o&&(c=Qr(o))?(this.parseAVCPES(r,i,c,!0),r.pesData=null):r.pesData=o,a&&(c=Qr(a))){switch(e.segmentCodec){case"aac":this.parseAACPES(e,c);break;case"mp3":this.parseMPEGPES(e,c);}e.pesData=null;}else null!=a&&a.size&&g.log("last AAC PES packet truncated,might overlap between fragments"),e.pesData=a;s&&(c=Qr(s))?(this.parseID3PES(n,c),n.pesData=null):n.pesData=s;}demuxSampleAes(t,e,r){const n=this.demux(t,r,!0,!this.config.progressive),i=this.sampleAes=new Hr(this.observer,this.config,e);return this.decrypt(n,i)}decrypt(t,e){return new Promise((r=>{const{audioTrack:n,videoTrack:i}=t;n.samples&&"aac"===n.segmentCodec?e.decryptAacSamples(n.samples,0,(()=>{i.samples?e.decryptAvcSamples(i.samples,0,0,(()=>{r(t);})):r(t);})):i.samples&&e.decryptAvcSamples(i.samples,0,0,(()=>{r(t);}));}))}destroy(){this._duration=0;}parseAVCPES(t,e,r,n){const i=this.parseAVCNALu(t,r.data);let o,a=this.avcSample,s=!1;r.data=null,a&&i.length&&!t.audFound&&(Jr(a,t),a=this.avcSample=Wr(!1,r.pts,r.dts,"")),i.forEach((n=>{switch(n.type){case 1:{o=!0,a||(a=this.avcSample=Wr(!0,r.pts,r.dts,"")),a.frame=!0;const t=n.data;if(s&&t.length>4){const e=new Kr(t).readSliceType();2!==e&&4!==e&&7!==e&&9!==e||(a.key=!0);}break}case 5:o=!0,a||(a=this.avcSample=Wr(!0,r.pts,r.dts,"")),a.key=!0,a.frame=!0;break;case 6:o=!0,At(n.data,1,r.pts,e.samples);break;case 7:if(o=!0,s=!0,!t.sps){const e=n.data,r=new Kr(e).readSPS();t.width=r.width,t.height=r.height,t.pixelRatio=r.pixelRatio,t.sps=[e],t.duration=this._duration;const i=e.subarray(1,4);let o="avc1.";for(let t=0;t<3;t++){let e=i[t].toString(16);e.length<2&&(e="0"+e),o+=e;}t.codec=o;}break;case 8:o=!0,t.pps||(t.pps=[n.data]);break;case 9:o=!1,t.audFound=!0,a&&Jr(a,t),a=this.avcSample=Wr(!1,r.pts,r.dts,"");break;case 12:o=!0;break;default:o=!1,a&&(a.debug+="unknown NAL "+n.type+" ");}a&&o&&a.units.push(n);})),n&&a&&(Jr(a,t),this.avcSample=null);}getLastNalUnit(t){var e;let r,n=this.avcSample;if(n&&0!==n.units.length||(n=t[t.length-1]),null!=(e=n)&&e.units){const t=n.units;r=t[t.length-1];}return r}parseAVCNALu(t,e){const r=e.byteLength;let n=t.naluState||0;const i=n,o=[];let a,s,c,u=0,l=-1,f=0;for(-1===n&&(l=0,f=31&e[0],n=0,u=1);u<r;)if(a=e[u++],n)if(1!==n)if(a)if(1===a){if(l>=0){const t={data:e.subarray(l,u-n-1),type:f};o.push(t);}else {const r=this.getLastNalUnit(t.samples);if(r&&(i&&u<=4-i&&r.state&&(r.data=r.data.subarray(0,r.data.byteLength-i)),s=u-n-1,s>0)){const t=new Uint8Array(r.data.byteLength+s);t.set(r.data,0),t.set(e.subarray(0,s),r.data.byteLength),r.data=t,r.state=0;}}u<r?(c=31&e[u],l=u,f=c,n=0):n=-1;}else n=0;else n=3;else n=a?0:2;else n=a?0:1;if(l>=0&&n>=0){const t={data:e.subarray(l,r),type:f,state:n};o.push(t);}if(0===o.length){const r=this.getLastNalUnit(t.samples);if(r){const t=new Uint8Array(r.data.byteLength+e.byteLength);t.set(r.data,0),t.set(e,r.data.byteLength),r.data=t;}}return t.naluState=n,o}parseAACPES(t,e){let r=0;const n=this.aacOverFlow;let i,o,a,s=e.data;if(n){this.aacOverFlow=null;const e=n.missing,i=n.sample.unit.byteLength;if(-1===e){const t=new Uint8Array(i+s.byteLength);t.set(n.sample.unit,0),t.set(s,i),s=t;}else {const o=i-e;n.sample.unit.set(s.subarray(0,e),o),t.samples.push(n.sample),r=n.missing;}}for(i=r,o=s.length;i<o-1&&!Sr(s,i);i++);if(i!==r){let t;const e=i<o-1;t=e?`AAC PES did not start with ADTS header,offset:${i}`:"No ADTS header found in AAC PES";const r=new Error(t);if(g.warn(`parsing error: ${t}`),this.observer.emit(f.ERROR,f.ERROR,{type:h.MEDIA_ERROR,details:d.FRAG_PARSING_ERROR,fatal:!1,levelRetry:e,error:r,reason:t}),!e)return}if(Pr(t,this.observer,s,i,this.audioCodec),void 0!==e.pts)a=e.pts;else {if(!n)return void g.warn("[tsdemuxer]: AAC PES unknown PTS");{const e=Or(t.samplerate);a=n.sample.pts+e;}}let c,u=0;for(;i<o;){if(c=Ir(t,s,i,a,u),i+=c.length,c.missing){this.aacOverFlow=c;break}for(u++;i<o-1&&!Sr(s,i);i++);}}parseMPEGPES(t,e){const r=e.data,n=r.length;let i=0,o=0;const a=e.pts;if(void 0!==a)for(;o<n;)if($r(r,o)){const e=Mr(t,r,o,a,i);if(!e)break;o+=e.length,i++;}else o++;else g.warn("[tsdemuxer]: MPEG PES unknown PTS");}parseID3PES(t,e){if(void 0===e.pts)return void g.warn("[tsdemuxer]: ID3 PES unknown PTS");const r=u({},e,{type:this._avcTrack?ie:ne,duration:Number.POSITIVE_INFINITY});t.samples.push(r);}}function Wr(t,e,r,n){return {key:t,frame:!1,pts:e,dts:r,units:[],debug:n,length:0}}function zr(t,e){return ((31&t[e+1])<<8)+t[e+2]}function qr(t,e){return (31&t[e+10])<<8|t[e+11]}function Xr(t,e,r,n){const i={audio:-1,avc:-1,id3:-1,segmentCodec:"aac"},o=e+3+((15&t[e+1])<<8|t[e+2])-4;for(e+=12+((15&t[e+10])<<8|t[e+11]);e<o;){const o=zr(t,e);switch(t[e]){case 207:if(!n){g.log("ADTS AAC with AES-128-CBC frame encryption found in unencrypted stream");break}case 15:-1===i.audio&&(i.audio=o);break;case 21:-1===i.id3&&(i.id3=o);break;case 219:if(!n){g.log("H.264 with AES-128-CBC slice encryption found in unencrypted stream");break}case 27:-1===i.avc&&(i.avc=o);break;case 3:case 4:!0!==r.mpeg&&!0!==r.mp3?g.log("MPEG audio found, not supported in this browser"):-1===i.audio&&(i.audio=o,i.segmentCodec="mp3");break;case 36:g.warn("Unsupported HEVC stream type found");}e+=5+((15&t[e+3])<<8|t[e+4]);}return i}function Qr(t){let e,r,n,i,o,a=0;const s=t.data;if(!t||0===t.size)return null;for(;s[0].length<19&&s.length>1;){const t=new Uint8Array(s[0].length+s[1].length);t.set(s[0]),t.set(s[1],s[0].length),s[0]=t,s.splice(1,1);}if(e=s[0],1===(e[0]<<16)+(e[1]<<8)+e[2]){if(r=(e[4]<<8)+e[5],r&&r>t.size-6)return null;const c=e[7];192&c&&(i=536870912*(14&e[9])+4194304*(255&e[10])+16384*(254&e[11])+128*(255&e[12])+(254&e[13])/2,64&c?(o=536870912*(14&e[14])+4194304*(255&e[15])+16384*(254&e[16])+128*(255&e[17])+(254&e[18])/2,i-o>54e5&&(g.warn(`${Math.round((i-o)/9e4)}s delta between PTS and DTS, align them`),i=o)):o=i),n=e[8];let u=n+9;if(t.size<=u)return null;t.size-=u;const l=new Uint8Array(t.size);for(let t=0,r=s.length;t<r;t++){e=s[t];let r=e.byteLength;if(u){if(u>r){u-=r;continue}e=e.subarray(u),r-=u,u=0;}l.set(e,a),a+=r;}return r&&(r-=n+3),{data:l,pts:i,dts:o,len:r}}return null}function Jr(t,e){if(t.units.length&&t.frame){if(void 0===t.pts){const r=e.samples,n=r.length;if(!n)return void e.dropped++;{const e=r[n-1];t.pts=e.pts,t.dts=e.dts;}}e.samples.push(t);}t.debug.length&&g.log(t.pts+"/"+t.dts+":"+t.debug);}class tn{static getSilentFrame(t,e){if("mp4a.40.2"===t){if(1===e)return new Uint8Array([0,200,0,128,35,128]);if(2===e)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(3===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(4===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(5===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(6===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224])}else {if(1===e)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(2===e)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(3===e)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}}}const en=Math.pow(2,32)-1;class rn{static init(){let t;for(t in rn.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]},rn.types)rn.types.hasOwnProperty(t)&&(rn.types[t]=[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3)]);const e=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),r=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);rn.HDLR_TYPES={video:e,audio:r};const n=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),i=new Uint8Array([0,0,0,0,0,0,0,0]);rn.STTS=rn.STSC=rn.STCO=i,rn.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),rn.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),rn.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),rn.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);const o=new Uint8Array([105,115,111,109]),a=new Uint8Array([97,118,99,49]),s=new Uint8Array([0,0,0,1]);rn.FTYP=rn.box(rn.types.ftyp,o,s,o,a),rn.DINF=rn.box(rn.types.dinf,rn.box(rn.types.dref,n));}static box(t,...e){let r=8,n=e.length;const i=n;for(;n--;)r+=e[n].byteLength;const o=new Uint8Array(r);for(o[0]=r>>24&255,o[1]=r>>16&255,o[2]=r>>8&255,o[3]=255&r,o.set(t,4),n=0,r=8;n<i;n++)o.set(e[n],r),r+=e[n].byteLength;return o}static hdlr(t){return rn.box(rn.types.hdlr,rn.HDLR_TYPES[t])}static mdat(t){return rn.box(rn.types.mdat,t)}static mdhd(t,e){e*=t;const r=Math.floor(e/(en+1)),n=Math.floor(e%(en+1));return rn.box(rn.types.mdhd,new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,t>>24&255,t>>16&255,t>>8&255,255&t,r>>24,r>>16&255,r>>8&255,255&r,n>>24,n>>16&255,n>>8&255,255&n,85,196,0,0]))}static mdia(t){return rn.box(rn.types.mdia,rn.mdhd(t.timescale,t.duration),rn.hdlr(t.type),rn.minf(t))}static mfhd(t){return rn.box(rn.types.mfhd,new Uint8Array([0,0,0,0,t>>24,t>>16&255,t>>8&255,255&t]))}static minf(t){return "audio"===t.type?rn.box(rn.types.minf,rn.box(rn.types.smhd,rn.SMHD),rn.DINF,rn.stbl(t)):rn.box(rn.types.minf,rn.box(rn.types.vmhd,rn.VMHD),rn.DINF,rn.stbl(t))}static moof(t,e,r){return rn.box(rn.types.moof,rn.mfhd(t),rn.traf(r,e))}static moov(t){let e=t.length;const r=[];for(;e--;)r[e]=rn.trak(t[e]);return rn.box.apply(null,[rn.types.moov,rn.mvhd(t[0].timescale,t[0].duration)].concat(r).concat(rn.mvex(t)))}static mvex(t){let e=t.length;const r=[];for(;e--;)r[e]=rn.trex(t[e]);return rn.box.apply(null,[rn.types.mvex,...r])}static mvhd(t,e){e*=t;const r=Math.floor(e/(en+1)),n=Math.floor(e%(en+1)),i=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,t>>24&255,t>>16&255,t>>8&255,255&t,r>>24,r>>16&255,r>>8&255,255&r,n>>24,n>>16&255,n>>8&255,255&n,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return rn.box(rn.types.mvhd,i)}static sdtp(t){const e=t.samples||[],r=new Uint8Array(4+e.length);let n,i;for(n=0;n<e.length;n++)i=e[n].flags,r[n+4]=i.dependsOn<<4|i.isDependedOn<<2|i.hasRedundancy;return rn.box(rn.types.sdtp,r)}static stbl(t){return rn.box(rn.types.stbl,rn.stsd(t),rn.box(rn.types.stts,rn.STTS),rn.box(rn.types.stsc,rn.STSC),rn.box(rn.types.stsz,rn.STSZ),rn.box(rn.types.stco,rn.STCO))}static avc1(t){let e,r,n,i=[],o=[];for(e=0;e<t.sps.length;e++)r=t.sps[e],n=r.byteLength,i.push(n>>>8&255),i.push(255&n),i=i.concat(Array.prototype.slice.call(r));for(e=0;e<t.pps.length;e++)r=t.pps[e],n=r.byteLength,o.push(n>>>8&255),o.push(255&n),o=o.concat(Array.prototype.slice.call(r));const a=rn.box(rn.types.avcC,new Uint8Array([1,i[3],i[4],i[5],255,224|t.sps.length].concat(i).concat([t.pps.length]).concat(o))),s=t.width,c=t.height,u=t.pixelRatio[0],l=t.pixelRatio[1];return rn.box(rn.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,s>>8&255,255&s,c>>8&255,255&c,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),a,rn.box(rn.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),rn.box(rn.types.pasp,new Uint8Array([u>>24,u>>16&255,u>>8&255,255&u,l>>24,l>>16&255,l>>8&255,255&l])))}static esds(t){const e=t.config.length;return new Uint8Array([0,0,0,0,3,23+e,0,1,0,4,15+e,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([e]).concat(t.config).concat([6,1,2]))}static mp4a(t){const e=t.samplerate;return rn.box(rn.types.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,t.channelCount,0,16,0,0,0,0,e>>8&255,255&e,0,0]),rn.box(rn.types.esds,rn.esds(t)))}static mp3(t){const e=t.samplerate;return rn.box(rn.types[".mp3"],new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,t.channelCount,0,16,0,0,0,0,e>>8&255,255&e,0,0]))}static stsd(t){return "audio"===t.type?"mp3"===t.segmentCodec&&"mp3"===t.codec?rn.box(rn.types.stsd,rn.STSD,rn.mp3(t)):rn.box(rn.types.stsd,rn.STSD,rn.mp4a(t)):rn.box(rn.types.stsd,rn.STSD,rn.avc1(t))}static tkhd(t){const e=t.id,r=t.duration*t.timescale,n=t.width,i=t.height,o=Math.floor(r/(en+1)),a=Math.floor(r%(en+1));return rn.box(rn.types.tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,255&e,0,0,0,0,o>>24,o>>16&255,o>>8&255,255&o,a>>24,a>>16&255,a>>8&255,255&a,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,n>>8&255,255&n,0,0,i>>8&255,255&i,0,0]))}static traf(t,e){const r=rn.sdtp(t),n=t.id,i=Math.floor(e/(en+1)),o=Math.floor(e%(en+1));return rn.box(rn.types.traf,rn.box(rn.types.tfhd,new Uint8Array([0,0,0,0,n>>24,n>>16&255,n>>8&255,255&n])),rn.box(rn.types.tfdt,new Uint8Array([1,0,0,0,i>>24,i>>16&255,i>>8&255,255&i,o>>24,o>>16&255,o>>8&255,255&o])),rn.trun(t,r.length+16+20+8+16+8+8),r)}static trak(t){return t.duration=t.duration||4294967295,rn.box(rn.types.trak,rn.tkhd(t),rn.mdia(t))}static trex(t){const e=t.id;return rn.box(rn.types.trex,new Uint8Array([0,0,0,0,e>>24,e>>16&255,e>>8&255,255&e,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))}static trun(t,e){const r=t.samples||[],n=r.length,i=12+16*n,o=new Uint8Array(i);let a,s,c,u,l,f;for(e+=8+i,o.set(["video"===t.type?1:0,0,15,1,n>>>24&255,n>>>16&255,n>>>8&255,255&n,e>>>24&255,e>>>16&255,e>>>8&255,255&e],0),a=0;a<n;a++)s=r[a],c=s.duration,u=s.size,l=s.flags,f=s.cts,o.set([c>>>24&255,c>>>16&255,c>>>8&255,255&c,u>>>24&255,u>>>16&255,u>>>8&255,255&u,l.isLeading<<2|l.dependsOn,l.isDependedOn<<6|l.hasRedundancy<<4|l.paddingValue<<1|l.isNonSync,61440&l.degradPrio,15&l.degradPrio,f>>>24&255,f>>>16&255,f>>>8&255,255&f],12+16*a);return rn.box(rn.types.trun,o)}static initSegment(t){rn.types||rn.init();const e=rn.moov(t),r=new Uint8Array(rn.FTYP.byteLength+e.byteLength);return r.set(rn.FTYP),r.set(e,rn.FTYP.byteLength),r}}rn.types=void 0,rn.HDLR_TYPES=void 0,rn.STTS=void 0,rn.STSC=void 0,rn.STCO=void 0,rn.STSZ=void 0,rn.VMHD=void 0,rn.SMHD=void 0,rn.STSD=void 0,rn.FTYP=void 0,rn.DINF=void 0;const nn=9e4;function on(t,e,r=1,n=!1){const i=t*e*r;return n?Math.round(i):i}function an(t,e=!1){return on(t,1e3,1/nn,e)}let sn,cn=null,un=null;class ln{constructor(t,e,r,n=""){if(this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.ISGenerated=!1,this._initPTS=null,this._initDTS=null,this.nextAvcDts=null,this.nextAudioPts=null,this.videoSampleDuration=null,this.isAudioContiguous=!1,this.isVideoContiguous=!1,this.observer=t,this.config=e,this.typeSupported=r,this.ISGenerated=!1,null===cn){const t=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);cn=t?parseInt(t[1]):0;}if(null===un){const t=navigator.userAgent.match(/Safari\/(\d+)/i);un=t?parseInt(t[1]):0;}}destroy(){}resetTimeStamp(t){g.log("[mp4-remuxer]: initPTS & initDTS reset"),this._initPTS=this._initDTS=t;}resetNextTimestamp(){g.log("[mp4-remuxer]: reset next timestamp"),this.isVideoContiguous=!1,this.isAudioContiguous=!1;}resetInitSegment(){g.log("[mp4-remuxer]: ISGenerated flag reset"),this.ISGenerated=!1;}getVideoStartPts(t){let e=!1;const r=t.reduce(((t,r)=>{const n=r.pts-t;return n<-4294967296?(e=!0,fn(t,r.pts)):n>0?t:r.pts}),t[0].pts);return e&&g.debug("PTS rollover detected"),r}remux(t,e,r,n,i,o,a,s){let c,u,l,f,h,d,p=i,y=i;const v=t.pid>-1,m=e.pid>-1,b=e.samples.length,w=t.samples.length>0,A=a&&b>0||b>1;if((!v||w)&&(!m||A)||this.ISGenerated||a){this.ISGenerated||(l=this.generateIS(t,e,i,o));const r=this.isVideoContiguous;let n,a=-1;if(A&&(a=function(t){for(let e=0;e<t.length;e++)if(t[e].key)return e;return -1}(e.samples),!r&&this.config.forceKeyFrameOnDiscontinuity))if(d=!0,a>0){g.warn(`[mp4-remuxer]: Dropped ${a} out of ${b} video samples due to a missing keyframe`);const t=this.getVideoStartPts(e.samples);e.samples=e.samples.slice(a),e.dropped+=a,y+=(e.samples[0].pts-t)/e.inputTimeScale,n=y;}else -1===a&&(g.warn(`[mp4-remuxer]: No keyframe found out of ${b} video samples`),d=!1);if(this.ISGenerated){if(w&&A){const r=this.getVideoStartPts(e.samples),n=(fn(t.samples[0].pts,r)-r)/e.inputTimeScale;p+=Math.max(0,n),y+=Math.max(0,-n);}if(w){if(t.samplerate||(g.warn("[mp4-remuxer]: regenerate InitSegment as audio detected"),l=this.generateIS(t,e,i,o)),u=this.remuxAudio(t,p,this.isAudioContiguous,o,m||A||s===zt.AUDIO?y:void 0),A){const n=u?u.endPTS-u.startPTS:0;e.inputTimeScale||(g.warn("[mp4-remuxer]: regenerate InitSegment as video detected"),l=this.generateIS(t,e,i,o)),c=this.remuxVideo(e,y,r,n);}}else A&&(c=this.remuxVideo(e,y,r,0));c&&(c.firstKeyFrame=a,c.independent=-1!==a,c.firstKeyFramePTS=n);}}return this.ISGenerated&&this._initPTS&&this._initDTS&&(r.samples.length&&(h=hn(r,i,this._initPTS,this._initDTS)),n.samples.length&&(f=dn(n,i,this._initPTS))),{audio:u,video:c,initSegment:l,independent:d,text:f,id3:h}}generateIS(t,e,r,n){const i=t.samples,o=e.samples,a=this.typeSupported,s={},c=this._initPTS;let u,l,f,h=!c||n,d="audio/mp4";if(h&&(u=l=1/0),t.config&&i.length&&(t.timescale=t.samplerate,"mp3"===t.segmentCodec&&(a.mpeg?(d="audio/mpeg",t.codec=""):a.mp3&&(t.codec="mp3")),s.audio={id:"audio",container:d,codec:t.codec,initSegment:"mp3"===t.segmentCodec&&a.mpeg?new Uint8Array(0):rn.initSegment([t]),metadata:{channelCount:t.channelCount}},h&&(f=t.inputTimeScale,c&&f===c.timescale?h=!1:u=l=i[0].pts-Math.round(f*r))),e.sps&&e.pps&&o.length&&(e.timescale=e.inputTimeScale,s.video={id:"main",container:"video/mp4",codec:e.codec,initSegment:rn.initSegment([e]),metadata:{width:e.width,height:e.height}},h))if(f=e.inputTimeScale,c&&f===c.timescale)h=!1;else {const t=this.getVideoStartPts(o),e=Math.round(f*r);l=Math.min(l,fn(o[0].dts,t)-e),u=Math.min(u,t-e);}if(Object.keys(s).length)return this.ISGenerated=!0,h?(this._initPTS={baseTime:u,timescale:f},this._initDTS={baseTime:l,timescale:f}):u=f=void 0,{tracks:s,initPTS:u,timescale:f}}remuxVideo(t,e,r,n){const i=t.inputTimeScale,o=t.samples,a=[],s=o.length,c=this._initPTS;let l,p,y=this.nextAvcDts,v=8,m=this.videoSampleDuration,b=Number.POSITIVE_INFINITY,w=Number.NEGATIVE_INFINITY,A=!1;r&&null!==y||(y=e*i-(o[0].pts-fn(o[0].dts,o[0].pts)));const E=c.baseTime*i/c.timescale;for(let t=0;t<s;t++){const e=o[t];e.pts=fn(e.pts-E,y),e.dts=fn(e.dts-E,y),e.dts<o[t>0?t-1:t].dts&&(A=!0);}A&&o.sort((function(t,e){const r=t.dts-e.dts,n=t.pts-e.pts;return r||n})),l=o[0].dts,p=o[o.length-1].dts;const x=p-l,L=x?Math.round(x/(s-1)):m||t.inputTimeScale/30;if(r){const t=l-y,e=t>L,r=t<-1;if((e||r)&&(e?g.warn(`AVC: ${an(t,!0)} ms (${t}dts) hole between fragments detected, filling it`):g.warn(`AVC: ${an(-t,!0)} ms (${t}dts) overlapping between fragments detected`),!r||y>o[0].pts)){l=y;const e=o[0].pts-t;o[0].dts=l,o[0].pts=e,g.log(`Video: First PTS/DTS adjusted: ${an(e,!0)}/${an(l,!0)}, delta: ${an(t,!0)} ms`);}}l=Math.max(0,l);let _=0,k=0;for(let t=0;t<s;t++){const e=o[t],r=e.units,n=r.length;let i=0;for(let t=0;t<n;t++)i+=r[t].data.length;k+=i,_+=n,e.length=i,e.dts=Math.max(e.dts,l),b=Math.min(e.pts,b),w=Math.max(e.pts,w);}p=o[s-1].dts;const C=k+4*_+8;let S;try{S=new Uint8Array(C);}catch(t){return void this.observer.emit(f.ERROR,f.ERROR,{type:h.MUX_ERROR,details:d.REMUX_ALLOC_ERROR,fatal:!1,error:t,bytes:C,reason:`fail allocating video mdat ${C}`})}const T=new DataView(S.buffer);T.setUint32(0,C),S.set(rn.types.mdat,4);let P=!1,O=Number.POSITIVE_INFINITY,I=Number.POSITIVE_INFINITY,R=Number.NEGATIVE_INFINITY,D=Number.NEGATIVE_INFINITY;for(let t=0;t<s;t++){const e=o[t],r=e.units;let c,u=0;for(let t=0,e=r.length;t<e;t++){const e=r[t],n=e.data,i=e.data.byteLength;T.setUint32(v,i),v+=4,S.set(n,v),v+=i,u+=4+i;}if(t<s-1)m=o[t+1].dts-e.dts,c=o[t+1].pts-e.pts;else {const r=this.config,a=t>0?e.dts-o[t-1].dts:L;if(c=t>0?e.pts-o[t-1].pts:L,r.stretchShortVideoTrack&&null!==this.nextAudioPts){const t=Math.floor(r.maxBufferHole*i),o=(n?b+n*i:this.nextAudioPts)-e.pts;o>t?(m=o-a,m<0?m=a:P=!0,g.log(`[mp4-remuxer]: It is approximately ${o/90} ms to the next segment; using duration ${m/90} ms for the last video frame.`)):m=a;}else m=a;}const l=Math.round(e.pts-e.dts);O=Math.min(O,m),R=Math.max(R,m),I=Math.min(I,c),D=Math.max(D,c),a.push(new pn(e.key,m,u,l));}if(a.length)if(cn){if(cn<70){const t=a[0].flags;t.dependsOn=2,t.isNonSync=0;}}else if(un&&D-I<R-O&&L/R<.025&&0===a[0].cts){g.warn("Found irregular gaps in sample duration. Using PTS instead of DTS to determine MP4 sample duration.");let t=l;for(let e=0,r=a.length;e<r;e++){const n=t+a[e].duration,i=t+a[e].cts;if(e<r-1){const t=n+a[e+1].cts;a[e].duration=t-i;}else a[e].duration=e?a[e-1].duration:L;a[e].cts=0,t=n;}}m=P||!m?L:m,this.nextAvcDts=y=p+m,this.videoSampleDuration=m,this.isVideoContiguous=!0;const j={data1:rn.moof(t.sequenceNumber++,l,u({},t,{samples:a})),data2:S,startPTS:b/i,endPTS:(w+m)/i,startDTS:l/i,endDTS:y/i,type:"video",hasAudio:!1,hasVideo:!0,nb:a.length,dropped:t.dropped};return t.samples=[],t.dropped=0,j}remuxAudio(t,e,r,n,i){const o=t.inputTimeScale,a=o/(t.samplerate?t.samplerate:o),s="aac"===t.segmentCodec?1024:1152,c=s*a,l=this._initPTS,p="mp3"===t.segmentCodec&&this.typeSupported.mpeg,y=[],v=void 0!==i;let m=t.samples,b=p?0:8,w=this.nextAudioPts||-1;const A=e*o,E=l.baseTime*o/l.timescale;if(this.isAudioContiguous=r=r||m.length&&w>0&&(n&&Math.abs(A-w)<9e3||Math.abs(fn(m[0].pts-E,A)-w)<20*c),m.forEach((function(t){t.pts=fn(t.pts-E,A);})),!r||w<0){if(m=m.filter((t=>t.pts>=0)),!m.length)return;w=0===i?0:n&&!v?Math.max(0,A):m[0].pts;}if("aac"===t.segmentCodec){const e=this.config.maxAudioFramesDrift;for(let r=0,n=w;r<m.length;r++){const i=m[r],a=i.pts,s=a-n,u=Math.abs(1e3*s/o);if(s<=-e*c&&v)0===r&&(g.warn(`Audio frame @ ${(a/o).toFixed(3)}s overlaps nextAudioPts by ${Math.round(1e3*s/o)} ms.`),this.nextAudioPts=w=n=a);else if(s>=e*c&&u<1e4&&v){let e=Math.round(s/c);n=a-e*c,n<0&&(e--,n+=c),0===r&&(this.nextAudioPts=w=n),g.warn(`[mp4-remuxer]: Injecting ${e} audio frame @ ${(n/o).toFixed(3)}s due to ${Math.round(1e3*s/o)} ms gap.`);for(let o=0;o<e;o++){const e=Math.max(n,0);let o=tn.getSilentFrame(t.manifestCodec||t.codec,t.channelCount);o||(g.log("[mp4-remuxer]: Unable to get silent frame for given audio codec; duplicating last frame instead."),o=i.unit.subarray()),m.splice(r,0,{unit:o,pts:e}),n+=c,r++;}}i.pts=n,n+=c;}}let x,L=null,_=null,k=0,C=m.length;for(;C--;)k+=m[C].unit.byteLength;for(let e=0,n=m.length;e<n;e++){const n=m[e],i=n.unit;let o=n.pts;if(null!==_)y[e-1].duration=Math.round((o-_)/a);else {if(r&&"aac"===t.segmentCodec&&(o=w),L=o,!(k>0))return;k+=b;try{x=new Uint8Array(k);}catch(t){return void this.observer.emit(f.ERROR,f.ERROR,{type:h.MUX_ERROR,details:d.REMUX_ALLOC_ERROR,fatal:!1,error:t,bytes:k,reason:`fail allocating audio mdat ${k}`})}p||(new DataView(x.buffer).setUint32(0,k),x.set(rn.types.mdat,4));}x.set(i,b);const c=i.byteLength;b+=c,y.push(new pn(!0,s,c,0)),_=o;}const S=y.length;if(!S)return;const T=y[y.length-1];this.nextAudioPts=w=_+a*T.duration;const P=p?new Uint8Array(0):rn.moof(t.sequenceNumber++,L/a,u({},t,{samples:y}));t.samples=[];const O=L/o,I=w/o,R={data1:P,data2:x,startPTS:O,endPTS:I,startDTS:O,endDTS:I,type:"audio",hasAudio:!0,hasVideo:!1,nb:S};return this.isAudioContiguous=!0,R}remuxEmptyAudio(t,e,r,n){const i=t.inputTimeScale,o=i/(t.samplerate?t.samplerate:i),a=this.nextAudioPts,s=this._initDTS,c=9e4*s.baseTime/s.timescale,u=(null!==a?a:n.startDTS*i)+c,l=n.endDTS*i+c,f=1024*o,h=Math.ceil((l-u)/f),d=tn.getSilentFrame(t.manifestCodec||t.codec,t.channelCount);if(g.warn("[mp4-remuxer]: remux empty Audio"),!d)return void g.trace("[mp4-remuxer]: Unable to remuxEmptyAudio since we were unable to get a silent frame for given audio codec");const p=[];for(let t=0;t<h;t++){const e=u+t*f;p.push({unit:d,pts:e,dts:e});}return t.samples=p,this.remuxAudio(t,e,r,!1)}}function fn(t,e){let r;if(null===e)return t;for(r=e<t?-8589934592:8589934592;Math.abs(t-e)>4294967296;)t+=r;return t}function hn(t,e,r,n){const i=t.samples.length;if(!i)return;const o=t.inputTimeScale;for(let a=0;a<i;a++){const i=t.samples[a];i.pts=fn(i.pts-9e4*r.baseTime/r.timescale,e*o)/o,i.dts=fn(i.dts-9e4*n.baseTime/n.timescale,e*o)/o;}const a=t.samples;return t.samples=[],{samples:a}}function dn(t,e,r){const n=t.samples.length;if(!n)return;const i=t.inputTimeScale;for(let o=0;o<n;o++){const n=t.samples[o];n.pts=fn(n.pts-9e4*r.baseTime/r.timescale,e*i)/i;}t.samples.sort(((t,e)=>t.pts-e.pts));const o=t.samples;return t.samples=[],{samples:o}}class pn{constructor(t,e,r,n){this.size=void 0,this.duration=void 0,this.cts=void 0,this.flags=void 0,this.duration=e,this.size=r,this.cts=n,this.flags=new yn(t);}}class yn{constructor(t){this.isLeading=0,this.isDependedOn=0,this.hasRedundancy=0,this.degradPrio=0,this.dependsOn=1,this.isNonSync=1,this.dependsOn=t?2:1,this.isNonSync=t?0:1;}}function vn(t,e){const r=null==t?void 0:t.codec;return r&&r.length>4?r:"hvc1"===r||"hev1"===r?"hvc1.1.6.L120.90":"av01"===r?"av01.0.04M.08":"avc1"===r||e===L.VIDEO?"avc1.42e01e":"mp4a.40.5"}try{sn=self.performance.now.bind(self.performance);}catch(t){g.debug("Unable to use Performance API on this environment"),sn="undefined"!=typeof self&&self.Date.now;}const gn=[{demux:class{constructor(t,e){this.remainderData=null,this.timeOffset=0,this.config=void 0,this.videoTrack=void 0,this.audioTrack=void 0,this.id3Track=void 0,this.txtTrack=void 0,this.config=e;}resetTimeStamp(){}resetInitSegment(t,e,r,n){const i=this.videoTrack=Er("video",1),o=this.audioTrack=Er("audio",1),a=this.txtTrack=Er("text",1);if(this.id3Track=Er("id3",1),this.timeOffset=0,null==t||!t.byteLength)return;const s=yt(t);if(s.video){const{id:t,timescale:e,codec:r}=s.video;i.id=t,i.timescale=a.timescale=e,i.codec=r;}if(s.audio){const{id:t,timescale:e,codec:r}=s.audio;o.id=t,o.timescale=e,o.codec=r;}a.id=st.text,i.sampleDuration=0,i.duration=o.duration=n;}resetContiguity(){this.remainderData=null;}static probe(t){return dt(t=t.length>16384?t.subarray(0,16384):t,["moof"]).length>0}demux(t,e){this.timeOffset=e;let r=t;const n=this.videoTrack,i=this.txtTrack;if(this.config.progressive){this.remainderData&&(r=mt(this.remainderData,t));const e=function(t){const e={valid:null,remainder:null},r=dt(t,["moof"]);if(!r)return e;if(r.length<2)return e.remainder=t,e;const n=r[r.length-1];return e.valid=G(t,0,n.byteOffset-8),e.remainder=G(t,n.byteOffset-8),e}(r);this.remainderData=e.remainder,n.samples=e.valid||new Uint8Array;}else n.samples=r;const o=this.extractID3Track(n,e);return i.samples=bt(e,n),{videoTrack:n,audioTrack:this.audioTrack,id3Track:o,textTrack:this.txtTrack}}flush(){const t=this.timeOffset,e=this.videoTrack,r=this.txtTrack;e.samples=this.remainderData||new Uint8Array,this.remainderData=null;const n=this.extractID3Track(e,this.timeOffset);return r.samples=bt(t,e),{videoTrack:e,audioTrack:Er(),id3Track:n,textTrack:Er()}}extractID3Track(t,e){const r=this.id3Track;if(t.samples.length){const n=dt(t.samples,["emsg"]);n&&n.forEach((t=>{const n=function(t){const e=t[0];let r="",n="",i=0,o=0,a=0,s=0,c=0,u=0;if(0===e){for(;"\0"!==ct(t.subarray(u,u+1));)r+=ct(t.subarray(u,u+1)),u+=1;for(r+=ct(t.subarray(u,u+1)),u+=1;"\0"!==ct(t.subarray(u,u+1));)n+=ct(t.subarray(u,u+1)),u+=1;n+=ct(t.subarray(u,u+1)),u+=1,i=lt(t,12),o=lt(t,16),s=lt(t,20),c=lt(t,24),u=28;}else if(1===e){u+=4,i=lt(t,u),u+=4;const e=lt(t,u);u+=4;const o=lt(t,u);for(u+=4,a=2**32*e+o,Number.isSafeInteger(a)||(a=Number.MAX_SAFE_INTEGER,g.warn("Presentation time exceeds safe integer limit and wrapped to max safe integer in parsing emsg box")),s=lt(t,u),u+=4,c=lt(t,u),u+=4;"\0"!==ct(t.subarray(u,u+1));)r+=ct(t.subarray(u,u+1)),u+=1;for(r+=ct(t.subarray(u,u+1)),u+=1;"\0"!==ct(t.subarray(u,u+1));)n+=ct(t.subarray(u,u+1)),u+=1;n+=ct(t.subarray(u,u+1)),u+=1;}return {schemeIdUri:r,value:n,timeScale:i,presentationTime:a,presentationTimeDelta:o,eventDuration:s,id:c,payload:t.subarray(u,t.byteLength)}}(t);if(Rr.test(n.schemeIdUri)){const t=l(n.presentationTime)?n.presentationTime/n.timeScale:e+n.presentationTimeDelta/n.timeScale;let i=4294967295===n.eventDuration?Number.POSITIVE_INFINITY:n.eventDuration/n.timeScale;i<=.001&&(i=Number.POSITIVE_INFINITY);const o=n.payload;r.samples.push({data:o,len:o.byteLength,dts:t,pts:t,type:ie,duration:i});}}));}return r}demuxSampleAes(t,e,r){return Promise.reject(new Error("The MP4 demuxer does not support SAMPLE-AES decryption"))}destroy(){}},remux:class{constructor(){this.emitInitSegment=!1,this.audioCodec=void 0,this.videoCodec=void 0,this.initData=void 0,this.initPTS=null,this.initTracks=void 0,this.lastEndTime=null;}destroy(){}resetTimeStamp(t){this.initPTS=t,this.lastEndTime=null;}resetNextTimestamp(){this.lastEndTime=null;}resetInitSegment(t,e,r,n){this.audioCodec=e,this.videoCodec=r,this.generateInitSegment(function(t,e){if(!t||!e)return t;const r=e.keyId;return r&&e.isCommonEncryption&&dt(t,["moov","trak"]).forEach((t=>{const e=dt(t,["mdia","minf","stbl","stsd"])[0].subarray(8);let n=dt(e,["enca"]);const i=n.length>0;i||(n=dt(e,["encv"])),n.forEach((t=>{dt(i?t.subarray(28):t.subarray(78),["sinf"]).forEach((t=>{const e=vt(t);if(e){const t=e.subarray(8,24);t.some((t=>0!==t))||(g.log(`[eme] Patching keyId in 'enc${i?"a":"v"}>sinf>>tenc' box: ${it(t)} -> ${it(r)}`),e.set(r,8));}}));}));})),t}(t,n)),this.emitInitSegment=!0;}generateInitSegment(t){let{audioCodec:e,videoCodec:r}=this;if(null==t||!t.byteLength)return this.initTracks=void 0,void(this.initData=void 0);const n=this.initData=yt(t);e||(e=vn(n.audio,L.AUDIO)),r||(r=vn(n.video,L.VIDEO));const i={};n.audio&&n.video?i.audiovideo={container:"video/mp4",codec:e+","+r,initSegment:t,id:"main"}:n.audio?i.audio={container:"audio/mp4",codec:e,initSegment:t,id:"audio"}:n.video?i.video={container:"video/mp4",codec:r,initSegment:t,id:"main"}:g.warn("[passthrough-remuxer.ts]: initSegment does not contain moov or trak boxes."),this.initTracks=i;}remux(t,e,r,n,i,o){var a,s;let{initPTS:c,lastEndTime:u}=this;const f={audio:void 0,video:void 0,text:n,id3:r,initSegment:void 0};l(u)||(u=this.lastEndTime=i||0);const h=e.samples;if(null==h||!h.length)return f;const d={initPTS:void 0,timescale:1};let p=this.initData;if(null!=(a=p)&&a.length||(this.generateInitSegment(h),p=this.initData),null==(s=p)||!s.length)return g.warn("[passthrough-remuxer.ts]: Failed to generate initSegment."),f;this.emitInitSegment&&(d.tracks=this.initTracks,this.emitInitSegment=!1);const y=function(t,e){return dt(e,["moof","traf"]).reduce(((e,r)=>{const n=dt(r,["tfdt"])[0],i=n[0],o=dt(r,["tfhd"]).reduce(((e,r)=>{const o=lt(r,4),a=t[o];if(a){let t=lt(n,4);if(1===i){if(t===ot)return g.warn("[mp4-demuxer]: Ignoring assumed invalid signed 64-bit track fragment decode time"),e;t*=ot+1,t+=lt(n,8);}const r=t/(a.timescale||9e4);if(isFinite(r)&&(null===e||r<e))return r}return e}),null);return null!==o&&isFinite(o)&&(null===e||o<e)?o:e}),null)}(p,h),v=null===y?i:y;(function(t,e,r){if(null===t)return !0;const n=e-t.baseTime/t.timescale;return n<0&&Math.abs(n-r)>1}(c,v,i)||d.timescale!==c.timescale&&o)&&(d.initPTS=v-i,this.initPTS=c={baseTime:d.initPTS,timescale:1});const m=function(t,e){let r=0,n=0,i=0;const o=dt(t,["moof","traf"]);for(let t=0;t<o.length;t++){const a=o[t],s=dt(a,["tfhd"])[0],c=e[lt(s,4)];if(!c)continue;const u=c.default,l=lt(s,0)|(null==u?void 0:u.flags);let f=null==u?void 0:u.duration;8&l&&(f=lt(s,2&l?12:8));const h=c.timescale||9e4,d=dt(a,["trun"]);for(let t=0;t<d.length;t++)r=gt(d[t]),!r&&f&&(r=f*lt(d[t],4)),c.type===L.VIDEO?n+=r/h:c.type===L.AUDIO&&(i+=r/h);}if(0===n&&0===i){let e=0;const r=dt(t,["sidx"]);for(let t=0;t<r.length;t++){const n=pt(r[t]);null!=n&&n.references&&(e+=n.references.reduce(((t,e)=>t+e.info.duration||0),0));}return e}return n||i}(h,p),b=t?v-c.baseTime/c.timescale:u,w=b+m;!function(t,e,r){dt(e,["moof","traf"]).forEach((e=>{dt(e,["tfhd"]).forEach((n=>{const i=lt(n,4),o=t[i];if(!o)return;const a=o.timescale||9e4;dt(e,["tfdt"]).forEach((t=>{const e=t[0];let n=lt(t,4);if(0===e)n-=r*a,n=Math.max(n,0),ht(t,4,n);else {n*=Math.pow(2,32),n+=lt(t,8),n-=r*a,n=Math.max(n,0);const e=Math.floor(n/(ot+1)),i=Math.floor(n%(ot+1));ht(t,4,e),ht(t,8,i);}}));}));}));}(p,h,c.baseTime/c.timescale),m>0?this.lastEndTime=w:(g.warn("Duration parsed from mp4 should be greater than zero"),this.resetNextTimestamp());const A=!!p.audio,E=!!p.video;let x="";A&&(x+="audio"),E&&(x+="video");const _={data1:h,startPTS:b,startDTS:b,endPTS:w,endDTS:w,type:x,hasAudio:A,hasVideo:E,nb:1,dropped:0};return f.audio="audio"===_.type?_:void 0,f.video="audio"!==_.type?_:void 0,f.initSegment=d,f.id3=hn(r,i,c,c),n.samples.length&&(f.text=dn(n,i,c)),f}}},{demux:Zr,remux:ln},{demux:class extends xr{constructor(t,e){super(),this.observer=void 0,this.config=void 0,this.observer=t,this.config=e;}resetInitSegment(t,e,r,n){super.resetInitSegment(t,e,r,n),this._audioTrack={container:"audio/adts",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"aac",samples:[],manifestCodec:e,duration:n,inputTimeScale:9e4,dropped:0};}static probe(t){if(!t)return !1;let e=(K(t,0)||[]).length;for(let r=t.length;e<r;e++)if(Tr(t,e))return g.log("ADTS sync word found !"),!0;return !1}canParse(t,e){return function(t,e){return function(t,e){return e+5<t.length}(t,e)&&_r(t,e)&&Cr(t,e)<=t.length-e}(t,e)}appendFrame(t,e,r){Pr(t,this.observer,e,r,t.manifestCodec);const n=Ir(t,e,r,this.basePTS,this.frameIndex);if(n&&0===n.missing)return n}},remux:ln},{demux:class extends xr{resetInitSegment(t,e,r,n){super.resetInitSegment(t,e,r,n),this._audioTrack={container:"audio/mpeg",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"mp3",samples:[],manifestCodec:e,duration:n,inputTimeScale:9e4,dropped:0};}static probe(t){if(!t)return !1;let e=(K(t,0)||[]).length;for(let r=t.length;e<r;e++)if(Vr(t,e))return g.log("MPEG Audio sync word found !"),!0;return !1}canParse(t,e){return function(t,e){return Gr(t,e)&&4<=t.length-e}(t,e)}appendFrame(t,e,r){if(null!==this.basePTS)return Mr(t,e,r,this.basePTS,this.frameIndex)}},remux:ln}];class mn{constructor(t,e,r,n,i){this.async=!1,this.observer=void 0,this.typeSupported=void 0,this.config=void 0,this.vendor=void 0,this.id=void 0,this.demuxer=void 0,this.remuxer=void 0,this.decrypter=void 0,this.probe=void 0,this.decryptionPromise=null,this.transmuxConfig=void 0,this.currentTransmuxState=void 0,this.observer=t,this.typeSupported=e,this.config=r,this.vendor=n,this.id=i;}configure(t){this.transmuxConfig=t,this.decrypter&&this.decrypter.reset();}push(t,e,r,n){const i=r.transmuxing;i.executeStart=sn();let o=new Uint8Array(t);const{currentTransmuxState:a,transmuxConfig:s}=this;n&&(this.currentTransmuxState=n);const{contiguous:c,discontinuity:u,trackSwitch:l,accurateTimeOffset:p,timeOffset:y,initSegmentChange:v}=n||a,{audioCodec:m,videoCodec:b,defaultInitPts:w,duration:A,initSegmentData:E}=s,x=function(t,e){let r=null;return t.byteLength>0&&null!=e&&null!=e.key&&null!==e.iv&&null!=e.method&&(r=e),r}(o,e);if(x&&"AES-128"===x.method){const t=this.getDecrypter();if(!t.isSync())return this.decryptionPromise=t.webCryptoDecrypt(o,x.key.buffer,x.iv.buffer).then((t=>{const e=this.push(t,null,r);return this.decryptionPromise=null,e})),this.decryptionPromise;{let e=t.softwareDecrypt(o,x.key.buffer,x.iv.buffer);if(r.part>-1&&(e=t.flush()),!e)return i.executeEnd=sn(),bn(r);o=new Uint8Array(e);}}const L=this.needsProbing(u,l);if(L){const t=this.configureTransmuxer(o);if(t)return g.warn(`[transmuxer] ${t.message}`),this.observer.emit(f.ERROR,f.ERROR,{type:h.MEDIA_ERROR,details:d.FRAG_PARSING_ERROR,fatal:!1,error:t,reason:t.message}),i.executeEnd=sn(),bn(r)}(u||l||v||L)&&this.resetInitSegment(E,m,b,A,e),(u||v||L)&&this.resetInitialTimestamp(w),c||this.resetContiguity();const _=this.transmux(o,x,y,p,r),k=this.currentTransmuxState;return k.contiguous=!0,k.discontinuity=!1,k.trackSwitch=!1,i.executeEnd=sn(),_}flush(t){const e=t.transmuxing;e.executeStart=sn();const{decrypter:r,currentTransmuxState:n,decryptionPromise:i}=this;if(i)return i.then((()=>this.flush(t)));const o=[],{timeOffset:a}=n;if(r){const e=r.flush();e&&o.push(this.push(e,null,t));}const{demuxer:s,remuxer:c}=this;if(!s||!c)return e.executeEnd=sn(),[bn(t)];const u=s.flush(a);return wn(u)?u.then((e=>(this.flushRemux(o,e,t),o))):(this.flushRemux(o,u,t),o)}flushRemux(t,e,r){const{audioTrack:n,videoTrack:i,id3Track:o,textTrack:a}=e,{accurateTimeOffset:s,timeOffset:c}=this.currentTransmuxState;g.log(`[transmuxer.ts]: Flushed fragment ${r.sn}${r.part>-1?" p: "+r.part:""} of level ${r.level}`);const u=this.remuxer.remux(n,i,o,a,c,s,!0,this.id);t.push({remuxResult:u,chunkMeta:r}),r.transmuxing.executeEnd=sn();}resetInitialTimestamp(t){const{demuxer:e,remuxer:r}=this;e&&r&&(e.resetTimeStamp(t),r.resetTimeStamp(t));}resetContiguity(){const{demuxer:t,remuxer:e}=this;t&&e&&(t.resetContiguity(),e.resetNextTimestamp());}resetInitSegment(t,e,r,n,i){const{demuxer:o,remuxer:a}=this;o&&a&&(o.resetInitSegment(t,e,r,n),a.resetInitSegment(t,e,r,i));}destroy(){this.demuxer&&(this.demuxer.destroy(),this.demuxer=void 0),this.remuxer&&(this.remuxer.destroy(),this.remuxer=void 0);}transmux(t,e,r,n,i){let o;return o=e&&"SAMPLE-AES"===e.method?this.transmuxSampleAes(t,e,r,n,i):this.transmuxUnencrypted(t,r,n,i),o}transmuxUnencrypted(t,e,r,n){const{audioTrack:i,videoTrack:o,id3Track:a,textTrack:s}=this.demuxer.demux(t,e,!1,!this.config.progressive);return {remuxResult:this.remuxer.remux(i,o,a,s,e,r,!1,this.id),chunkMeta:n}}transmuxSampleAes(t,e,r,n,i){return this.demuxer.demuxSampleAes(t,e,r).then((t=>({remuxResult:this.remuxer.remux(t.audioTrack,t.videoTrack,t.id3Track,t.textTrack,r,n,!1,this.id),chunkMeta:i})))}configureTransmuxer(t){const{config:e,observer:r,typeSupported:n,vendor:i}=this;let o;for(let e=0,r=gn.length;e<r;e++)if(gn[e].demux.probe(t)){o=gn[e];break}if(!o)return new Error("Failed to find demuxer by probing fragment data");const a=this.demuxer,s=this.remuxer,c=o.remux,u=o.demux;s&&s instanceof c||(this.remuxer=new c(r,e,n,i)),a&&a instanceof u||(this.demuxer=new u(r,e,n),this.probe=u.probe);}needsProbing(t,e){return !this.demuxer||!this.remuxer||t||e}getDecrypter(){let t=this.decrypter;return t||(t=this.decrypter=new sr(this.config)),t}}const bn=t=>({remuxResult:{},chunkMeta:t});function wn(t){return "then"in t&&t.then instanceof Function}class An{constructor(t,e,r,n,i){this.audioCodec=void 0,this.videoCodec=void 0,this.initSegmentData=void 0,this.duration=void 0,this.defaultInitPts=void 0,this.audioCodec=t,this.videoCodec=e,this.initSegmentData=r,this.duration=n,this.defaultInitPts=i||null;}}class En{constructor(t,e,r,n,i,o){this.discontinuity=void 0,this.contiguous=void 0,this.accurateTimeOffset=void 0,this.trackSwitch=void 0,this.timeOffset=void 0,this.initSegmentChange=void 0,this.discontinuity=t,this.contiguous=e,this.accurateTimeOffset=r,this.trackSwitch=n,this.timeOffset=i,this.initSegmentChange=o;}}var xn={exports:{}};!function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}function i(t,e,r){this.fn=t,this.context=e,this.once=r||!1;}function o(t,e,n,o,a){if("function"!=typeof n)throw new TypeError("The listener must be a function");var s=new i(n,o||t,a),c=r?r+e:e;return t._events[c]?t._events[c].fn?t._events[c]=[t._events[c],s]:t._events[c].push(s):(t._events[c]=s,t._eventsCount++),t}function a(t,e){0==--t._eventsCount?t._events=new n:delete t._events[e];}function s(){this._events=new n,this._eventsCount=0;}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(r=!1)),s.prototype.eventNames=function(){var t,n,i=[];if(0===this._eventsCount)return i;for(n in t=this._events)e.call(t,n)&&i.push(r?n.slice(1):n);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(t)):i},s.prototype.listeners=function(t){var e=r?r+t:t,n=this._events[e];if(!n)return [];if(n.fn)return [n.fn];for(var i=0,o=n.length,a=new Array(o);i<o;i++)a[i]=n[i].fn;return a},s.prototype.listenerCount=function(t){var e=r?r+t:t,n=this._events[e];return n?n.fn?1:n.length:0},s.prototype.emit=function(t,e,n,i,o,a){var s=r?r+t:t;if(!this._events[s])return !1;var c,u,l=this._events[s],f=arguments.length;if(l.fn){switch(l.once&&this.removeListener(t,l.fn,void 0,!0),f){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,e),!0;case 3:return l.fn.call(l.context,e,n),!0;case 4:return l.fn.call(l.context,e,n,i),!0;case 5:return l.fn.call(l.context,e,n,i,o),!0;case 6:return l.fn.call(l.context,e,n,i,o,a),!0}for(u=1,c=new Array(f-1);u<f;u++)c[u-1]=arguments[u];l.fn.apply(l.context,c);}else {var h,d=l.length;for(u=0;u<d;u++)switch(l[u].once&&this.removeListener(t,l[u].fn,void 0,!0),f){case 1:l[u].fn.call(l[u].context);break;case 2:l[u].fn.call(l[u].context,e);break;case 3:l[u].fn.call(l[u].context,e,n);break;case 4:l[u].fn.call(l[u].context,e,n,i);break;default:if(!c)for(h=1,c=new Array(f-1);h<f;h++)c[h-1]=arguments[h];l[u].fn.apply(l[u].context,c);}}return !0},s.prototype.on=function(t,e,r){return o(this,t,e,r,!1)},s.prototype.once=function(t,e,r){return o(this,t,e,r,!0)},s.prototype.removeListener=function(t,e,n,i){var o=r?r+t:t;if(!this._events[o])return this;if(!e)return a(this,o),this;var s=this._events[o];if(s.fn)s.fn!==e||i&&!s.once||n&&s.context!==n||a(this,o);else {for(var c=0,u=[],l=s.length;c<l;c++)(s[c].fn!==e||i&&!s[c].once||n&&s[c].context!==n)&&u.push(s[c]);u.length?this._events[o]=1===u.length?u[0]:u:a(this,o);}return this},s.prototype.removeAllListeners=function(t){var e;return t?(e=r?r+t:t,this._events[e]&&a(this,e)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,t.exports=s;}(xn);var Ln=n(xn.exports);const _n=Ot()||{isTypeSupported:()=>!1};class kn{constructor(t,e,r,n){this.error=null,this.hls=void 0,this.id=void 0,this.observer=void 0,this.frag=null,this.part=null,this.useWorker=void 0,this.workerContext=null,this.onwmsg=void 0,this.transmuxer=null,this.onTransmuxComplete=void 0,this.onFlush=void 0;const i=t.config;this.hls=t,this.id=e,this.useWorker=!!i.enableWorker,this.onTransmuxComplete=r,this.onFlush=n;const o=(t,e)=>{(e=e||{}).frag=this.frag,e.id=this.id,t===f.ERROR&&(this.error=e.error),this.hls.trigger(t,e);};this.observer=new Ln,this.observer.on(f.FRAG_DECRYPTED,o),this.observer.on(f.ERROR,o);const a={mp4:_n.isTypeSupported("video/mp4"),mpeg:_n.isTypeSupported("audio/mpeg"),mp3:_n.isTypeSupported('audio/mp4; codecs="mp3"')},s=navigator.vendor;if(!this.useWorker||"undefined"==typeof Worker||!i.workerPath&&"function"!=typeof __HLS_WORKER_BUNDLE__)this.transmuxer=new mn(this.observer,a,i,s,e);else try{i.workerPath?(g.log(`loading Web Worker ${i.workerPath} for "${e}"`),this.workerContext=function(t){const e=new self.URL(t,self.location.href).href;return {worker:new self.Worker(e),scriptURL:e}}(i.workerPath)):(g.log(`injecting Web Worker for "${e}"`),this.workerContext=function(){const t=new self.Blob([`var exports={};var module={exports:exports};function define(f){f()};define.amd=true;(${__HLS_WORKER_BUNDLE__.toString()})(true);`],{type:"text/javascript"}),e=self.URL.createObjectURL(t);return {worker:new self.Worker(e),objectURL:e}}()),this.onwmsg=t=>this.onWorkerMessage(t);const{worker:t}=this.workerContext;t.addEventListener("message",this.onwmsg),t.onerror=t=>{const r=new Error(`${t.message}  (${t.filename}:${t.lineno})`);i.enableWorker=!1,g.warn(`Error in "${e}" Web Worker, fallback to inline`),this.hls.trigger(f.ERROR,{type:h.OTHER_ERROR,details:d.INTERNAL_EXCEPTION,fatal:!1,event:"demuxerWorker",error:r});},t.postMessage({cmd:"init",typeSupported:a,vendor:s,id:e,config:JSON.stringify(i)});}catch(t){g.warn(`Error setting up "${e}" Web Worker, fallback to inline`,t),this.resetWorker(),this.error=null,this.transmuxer=new mn(this.observer,a,i,s,e);}}resetWorker(){if(this.workerContext){const{worker:t,objectURL:e}=this.workerContext;e&&self.URL.revokeObjectURL(e),t.removeEventListener("message",this.onwmsg),t.onerror=null,t.terminate(),this.workerContext=null;}}destroy(){if(this.workerContext)this.resetWorker(),this.onwmsg=void 0;else {const t=this.transmuxer;t&&(t.destroy(),this.transmuxer=null);}const t=this.observer;t&&t.removeAllListeners(),this.frag=null,this.observer=null,this.hls=null;}push(t,e,r,n,i,o,a,s,c,u){var l,f;c.transmuxing.start=self.performance.now();const{transmuxer:h}=this,d=o?o.start:i.start,p=i.decryptdata,y=this.frag,v=!(y&&i.cc===y.cc),m=!(y&&c.level===y.level),b=y?c.sn-y.sn:-1,w=this.part?c.part-this.part.index:-1,A=0===b&&c.id>1&&c.id===(null==y?void 0:y.stats.chunkCount),E=!m&&(1===b||0===b&&(1===w||A&&w<=0)),x=self.performance.now();(m||b||0===i.stats.parsing.start)&&(i.stats.parsing.start=x),!o||!w&&E||(o.stats.parsing.start=x);const L=!(y&&(null==(l=i.initSegment)?void 0:l.url)===(null==(f=y.initSegment)?void 0:f.url)),_=new En(v,E,s,m,d,L);if(!E||v||L){g.log(`[transmuxer-interface, ${i.type}]: Starting new transmux session for sn: ${c.sn} p: ${c.part} level: ${c.level} id: ${c.id}\n        discontinuity: ${v}\n        trackSwitch: ${m}\n        contiguous: ${E}\n        accurateTimeOffset: ${s}\n        timeOffset: ${d}\n        initSegmentChange: ${L}`);const t=new An(r,n,e,a,u);this.configureTransmuxer(t);}if(this.frag=i,this.part=o,this.workerContext)this.workerContext.worker.postMessage({cmd:"demux",data:t,decryptdata:p,chunkMeta:c,state:_},t instanceof ArrayBuffer?[t]:[]);else if(h){const e=h.push(t,p,c,_);wn(e)?(h.async=!0,e.then((t=>{this.handleTransmuxComplete(t);})).catch((t=>{this.transmuxerError(t,c,"transmuxer-interface push error");}))):(h.async=!1,this.handleTransmuxComplete(e));}}flush(t){t.transmuxing.start=self.performance.now();const{transmuxer:e}=this;if(this.workerContext)this.workerContext.worker.postMessage({cmd:"flush",chunkMeta:t});else if(e){let r=e.flush(t);wn(r)||e.async?(wn(r)||(r=Promise.resolve(r)),r.then((e=>{this.handleFlushResult(e,t);})).catch((e=>{this.transmuxerError(e,t,"transmuxer-interface flush error");}))):this.handleFlushResult(r,t);}}transmuxerError(t,e,r){this.hls&&(this.error=t,this.hls.trigger(f.ERROR,{type:h.MEDIA_ERROR,details:d.FRAG_PARSING_ERROR,chunkMeta:e,fatal:!1,error:t,err:t,reason:r}));}handleFlushResult(t,e){t.forEach((t=>{this.handleTransmuxComplete(t);})),this.onFlush(e);}onWorkerMessage(t){const e=t.data,r=this.hls;switch(e.event){case"init":{var n;const t=null==(n=this.workerContext)?void 0:n.objectURL;t&&self.URL.revokeObjectURL(t);break}case"transmuxComplete":this.handleTransmuxComplete(e.data);break;case"flush":this.onFlush(e.data);break;case"workerLog":g[e.data.logType]&&g[e.data.logType](e.data.message);break;default:e.data=e.data||{},e.data.frag=this.frag,e.data.id=this.id,r.trigger(e.event,e.data);}}configureTransmuxer(t){const{transmuxer:e}=this;this.workerContext?this.workerContext.worker.postMessage({cmd:"configure",config:t}):e&&e.configure(t);}handleTransmuxComplete(t){t.chunkMeta.transmuxing.end=self.performance.now(),this.onTransmuxComplete(t);}}class Cn{constructor(t,e,r,n){this.config=void 0,this.media=null,this.fragmentTracker=void 0,this.hls=void 0,this.nudgeRetry=0,this.stallReported=!1,this.stalled=null,this.moved=!1,this.seeking=!1,this.config=t,this.media=e,this.fragmentTracker=r,this.hls=n;}destroy(){this.media=null,this.hls=this.fragmentTracker=null;}poll(t,e){const{config:r,media:n,stalled:i}=this;if(null===n)return;const{currentTime:o,seeking:a}=n,s=this.seeking&&!a,c=!this.seeking&&a;if(this.seeking=a,o!==t){if(this.moved=!0,null!==i){if(this.stallReported){const t=self.performance.now()-i;g.warn(`playback not stuck anymore @${o}, after ${Math.round(t)}ms`),this.stallReported=!1;}this.stalled=null,this.nudgeRetry=0;}return}if(c||s)return void(this.stalled=null);if(n.paused&&!a||n.ended||0===n.playbackRate||!Qe.getBuffered(n).length)return;const u=Qe.bufferInfo(n,o,0),l=u.len>0,f=u.nextStart||0;if(!l&&!f)return;if(a){const t=u.len>2,r=!f||e&&e.start<=o||f-o>2&&!this.fragmentTracker.getPartialFragment(o);if(t||r)return;this.moved=!1;}if(!this.moved&&null!==this.stalled){var h;const t=Math.max(f,u.start||0)-o,e=this.hls.levels?this.hls.levels[this.hls.currentLevel]:null,r=(null==e||null==(h=e.details)?void 0:h.live)?2*e.details.targetduration:2,n=this.fragmentTracker.getPartialFragment(o);if(t>0&&(t<=r||n))return void this._trySkipBufferHole(n)}const d=self.performance.now();if(null===i)return void(this.stalled=d);const p=d-i;if(!a&&p>=250&&(this._reportStall(u),!this.media))return;const y=Qe.bufferInfo(n,o,r.maxBufferHole);this._tryFixBufferStall(y,p);}_tryFixBufferStall(t,e){const{config:r,fragmentTracker:n,media:i}=this;if(null===i)return;const o=i.currentTime,a=n.getPartialFragment(o);(!a||!this._trySkipBufferHole(a)&&this.media)&&(t.len>r.maxBufferHole||t.nextStart&&t.nextStart-o<r.maxBufferHole)&&e>1e3*r.highBufferWatchdogPeriod&&(g.warn("Trying to nudge playhead over buffer-hole"),this.stalled=null,this._tryNudgeBuffer());}_reportStall(t){const{hls:e,media:r,stallReported:n}=this;if(!n&&r){this.stallReported=!0;const n=new Error(`Playback stalling at @${r.currentTime} due to low buffer (${JSON.stringify(t)})`);g.warn(n.message),e.trigger(f.ERROR,{type:h.MEDIA_ERROR,details:d.BUFFER_STALLED_ERROR,fatal:!1,error:n,buffer:t.len});}}_trySkipBufferHole(t){const{config:e,hls:r,media:n}=this;if(null===n)return 0;const i=n.currentTime,o=Qe.bufferInfo(n,i,0),a=i<o.start?o.start:o.nextStart;if(a){const s=o.len<=e.maxBufferHole,c=o.len>0&&o.len<1&&n.readyState<3,u=a-i;if(u>0&&(s||c)){if(u>e.maxBufferHole){const{fragmentTracker:e}=this;let r=!1;if(0===i){const t=e.getAppendedFrag(0,zt.MAIN);t&&a<t.end&&(r=!0);}if(!r){const r=t||e.getAppendedFrag(i,zt.MAIN);if(r){let t=!1,n=r.end;for(;n<a;){const r=e.getPartialFragment(n);if(!r){t=!0;break}n+=r.duration;}if(t)return 0}}}const o=Math.max(a+.05,i+.1);if(g.warn(`skipping hole, adjusting currentTime from ${i} to ${o}`),this.moved=!0,this.stalled=null,n.currentTime=o,t&&!t.gap){const e=new Error(`fragment loaded with buffer holes, seeking from ${i} to ${o}`);r.trigger(f.ERROR,{type:h.MEDIA_ERROR,details:d.BUFFER_SEEK_OVER_HOLE,fatal:!1,error:e,reason:e.message,frag:t});}return o}}return 0}_tryNudgeBuffer(){const{config:t,hls:e,media:r,nudgeRetry:n}=this;if(null===r)return;const i=r.currentTime;if(this.nudgeRetry++,n<t.nudgeMaxRetry){const o=i+(n+1)*t.nudgeOffset,a=new Error(`Nudging 'currentTime' from ${i} to ${o}`);g.warn(a.message),r.currentTime=o,e.trigger(f.ERROR,{type:h.MEDIA_ERROR,details:d.BUFFER_NUDGE_ON_STALL,error:a,fatal:!1});}else {const r=new Error(`Playhead still not moving while enough data buffered @${i} after ${t.nudgeMaxRetry} nudges`);g.error(r.message),e.trigger(f.ERROR,{type:h.MEDIA_ERROR,details:d.BUFFER_STALLED_ERROR,error:r,fatal:!0});}}}class Sn extends wr{constructor(t,e,r){super(t,e,r,"[stream-controller]",zt.MAIN),this.audioCodecSwap=!1,this.gapController=null,this.level=-1,this._forceStartLoad=!1,this.altAudio=!1,this.audioOnly=!1,this.fragPlaying=null,this.onvplaying=null,this.onvseeked=null,this.fragLastKbps=0,this.couldBacktrack=!1,this.backtrackFragment=null,this.audioCodecSwitch=!1,this.videoBuffer=null,this._registerListeners();}_registerListeners(){const{hls:t}=this;t.on(f.MEDIA_ATTACHED,this.onMediaAttached,this),t.on(f.MEDIA_DETACHING,this.onMediaDetaching,this),t.on(f.MANIFEST_LOADING,this.onManifestLoading,this),t.on(f.MANIFEST_PARSED,this.onManifestParsed,this),t.on(f.LEVEL_LOADING,this.onLevelLoading,this),t.on(f.LEVEL_LOADED,this.onLevelLoaded,this),t.on(f.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),t.on(f.ERROR,this.onError,this),t.on(f.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),t.on(f.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),t.on(f.BUFFER_CREATED,this.onBufferCreated,this),t.on(f.BUFFER_FLUSHED,this.onBufferFlushed,this),t.on(f.LEVELS_UPDATED,this.onLevelsUpdated,this),t.on(f.FRAG_BUFFERED,this.onFragBuffered,this);}_unregisterListeners(){const{hls:t}=this;t.off(f.MEDIA_ATTACHED,this.onMediaAttached,this),t.off(f.MEDIA_DETACHING,this.onMediaDetaching,this),t.off(f.MANIFEST_LOADING,this.onManifestLoading,this),t.off(f.MANIFEST_PARSED,this.onManifestParsed,this),t.off(f.LEVEL_LOADED,this.onLevelLoaded,this),t.off(f.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),t.off(f.ERROR,this.onError,this),t.off(f.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),t.off(f.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),t.off(f.BUFFER_CREATED,this.onBufferCreated,this),t.off(f.BUFFER_FLUSHED,this.onBufferFlushed,this),t.off(f.LEVELS_UPDATED,this.onLevelsUpdated,this),t.off(f.FRAG_BUFFERED,this.onFragBuffered,this);}onHandlerDestroying(){this._unregisterListeners(),this.onMediaDetaching();}startLoad(t){if(this.levels){const{lastCurrentTime:e,hls:r}=this;if(this.stopLoad(),this.setInterval(100),this.level=-1,!this.startFragRequested){let t=r.startLevel;-1===t&&(r.config.testBandwidth&&this.levels.length>1?(t=0,this.bitrateTest=!0):t=r.nextAutoLevel),this.level=r.nextLoadLevel=t,this.loadedmetadata=!1;}e>0&&-1===t&&(this.log(`Override startPosition with lastCurrentTime @${e.toFixed(3)}`),t=e),this.state=ur,this.nextLoadPosition=this.startPosition=this.lastCurrentTime=t,this.tick();}else this._forceStartLoad=!0,this.state=cr;}stopLoad(){this._forceStartLoad=!1,super.stopLoad();}doTick(){switch(this.state){case br:{var t;const{levels:e,level:r}=this,n=null==e||null==(t=e[r])?void 0:t.details;if(n&&(!n.live||this.levelLastLoaded===this.level)){if(this.waitForCdnTuneIn(n))break;this.state=ur;break}break}case hr:{var e;const t=self.performance.now(),r=this.retryDate;(!r||t>=r||null!=(e=this.media)&&e.seeking)&&(this.resetStartWhenNotLoaded(this.level),this.state=ur);}}this.state===ur&&this.doTickIdle(),this.onTickEnd();}onTickEnd(){super.onTickEnd(),this.checkBuffer(),this.checkFragmentChanged();}doTickIdle(){const{hls:t,levelLastLoaded:e,levels:r,media:n}=this,{config:i,nextLoadLevel:o}=t;if(null===e||!n&&(this.startFragRequested||!i.startFragPrefetch))return;if(this.altAudio&&this.audioOnly)return;if(null==r||!r[o])return;const a=r[o],s=this.getMainFwdBufferInfo();if(null===s)return;const c=this.getLevelDetails();if(c&&this._streamEnded(s,c)){const t={};return this.altAudio&&(t.type="video"),this.hls.trigger(f.BUFFER_EOS,t),void(this.state=vr)}t.loadLevel!==o&&-1===t.manualLevel&&this.log(`Adapting to level ${o} from level ${this.level}`),this.level=t.nextLoadLevel=o;const u=a.details;if(!u||this.state===br||u.live&&this.levelLastLoaded!==o)return this.level=o,void(this.state=br);const l=s.len,h=this.getMaxBufferLength(a.maxBitrate);if(l>=h)return;this.backtrackFragment&&this.backtrackFragment.start>s.end&&(this.backtrackFragment=null);const d=this.backtrackFragment?this.backtrackFragment.start:s.end;let p=this.getNextFragment(d,u);if(this.couldBacktrack&&!this.fragPrevious&&p&&"initSegment"!==p.sn&&this.fragmentTracker.getState(p)!==Ue){var y;const t=(null!=(y=this.backtrackFragment)?y:p).sn-u.startSN,e=u.fragments[t-1];e&&p.cc===e.cc&&(p=e,this.fragmentTracker.removeFragment(e));}else this.backtrackFragment&&s.len&&(this.backtrackFragment=null);if(p&&this.isLoopLoading(p,d)){if(!p.gap){const t=this.audioOnly&&!this.altAudio?L.AUDIO:L.VIDEO,e=(t===L.VIDEO?this.videoBuffer:this.mediaBuffer)||this.media;e&&this.afterBufferFlushed(e,t,zt.MAIN);}p=this.getNextFragmentLoopLoading(p,u,s,zt.MAIN,h);}p&&(!p.initSegment||p.initSegment.data||this.bitrateTest||(p=p.initSegment),this.loadFragment(p,a,d));}loadFragment(t,e,r){const n=this.fragmentTracker.getState(t);this.fragCurrent=t,n===Fe||n===Me?"initSegment"===t.sn?this._loadInitSegment(t,e):this.bitrateTest?(this.log(`Fragment ${t.sn} of level ${t.level} is being downloaded to test bitrate and will not be buffered`),this._loadBitrateTestFrag(t,e)):(this.startFragRequested=!0,super.loadFragment(t,e,r)):this.clearTrackerIfNeeded(t);}getBufferedFrag(t){return this.fragmentTracker.getBufferedFrag(t,zt.MAIN)}followingBufferedFrag(t){return t?this.getBufferedFrag(t.end+.5):null}immediateLevelSwitch(){this.abortCurrentFrag(),this.flushMainBuffer(0,Number.POSITIVE_INFINITY);}nextLevelSwitch(){const{levels:t,media:e}=this;if(null!=e&&e.readyState){let r;const n=this.getAppendedFrag(e.currentTime);n&&n.start>1&&this.flushMainBuffer(0,n.start-1);const i=this.getLevelDetails();if(null!=i&&i.live){const t=this.getMainFwdBufferInfo();if(!t||t.len<2*i.targetduration)return}if(!e.paused&&t){const e=t[this.hls.nextLoadLevel],n=this.fragLastKbps;r=n&&this.fragCurrent?this.fragCurrent.duration*e.maxBitrate/(1e3*n)+1:0;}else r=0;const o=this.getBufferedFrag(e.currentTime+r);if(o){const t=this.followingBufferedFrag(o);if(t){this.abortCurrentFrag();const e=t.maxStartPTS?t.maxStartPTS:t.start,r=t.duration,n=Math.max(o.end,e+Math.min(Math.max(r-this.config.maxFragLookUpTolerance,.5*r),.75*r));this.flushMainBuffer(n,Number.POSITIVE_INFINITY);}}}}abortCurrentFrag(){const t=this.fragCurrent;switch(this.fragCurrent=null,this.backtrackFragment=null,t&&(t.abortRequests(),this.fragmentTracker.removeFragment(t)),this.state){case lr:case fr:case hr:case pr:case yr:this.state=ur;}this.nextLoadPosition=this.getLoadPosition();}flushMainBuffer(t,e){super.flushMainBuffer(t,e,this.altAudio?"video":null);}onMediaAttached(t,e){super.onMediaAttached(t,e);const r=e.media;this.onvplaying=this.onMediaPlaying.bind(this),this.onvseeked=this.onMediaSeeked.bind(this),r.addEventListener("playing",this.onvplaying),r.addEventListener("seeked",this.onvseeked),this.gapController=new Cn(this.config,r,this.fragmentTracker,this.hls);}onMediaDetaching(){const{media:t}=this;t&&this.onvplaying&&this.onvseeked&&(t.removeEventListener("playing",this.onvplaying),t.removeEventListener("seeked",this.onvseeked),this.onvplaying=this.onvseeked=null,this.videoBuffer=null),this.fragPlaying=null,this.gapController&&(this.gapController.destroy(),this.gapController=null),super.onMediaDetaching();}onMediaPlaying(){this.tick();}onMediaSeeked(){const t=this.media,e=t?t.currentTime:null;l(e)&&this.log(`Media seeked to ${e.toFixed(3)}`);const r=this.getMainFwdBufferInfo();null!==r&&0!==r.len?this.tick():this.warn(`Main forward buffer length on "seeked" event ${r?r.len:"empty"})`);}onManifestLoading(){this.log("Trigger BUFFER_RESET"),this.hls.trigger(f.BUFFER_RESET,void 0),this.fragmentTracker.removeAllFragments(),this.couldBacktrack=!1,this.startPosition=this.lastCurrentTime=0,this.levels=this.fragPlaying=this.backtrackFragment=null,this.altAudio=this.audioOnly=!1;}onManifestParsed(t,e){let r,n=!1,i=!1;e.levels.forEach((t=>{r=t.audioCodec,r&&(-1!==r.indexOf("mp4a.40.2")&&(n=!0),-1!==r.indexOf("mp4a.40.5")&&(i=!0));})),this.audioCodecSwitch=n&&i&&!function(){var t;const e=Ar();return "function"==typeof(null==e||null==(t=e.prototype)?void 0:t.changeType)}(),this.audioCodecSwitch&&this.log("Both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.levels=e.levels,this.startFragRequested=!1;}onLevelLoading(t,e){const{levels:r}=this;if(!r||this.state!==ur)return;const n=r[e.level];(!n.details||n.details.live&&this.levelLastLoaded!==e.level||this.waitForCdnTuneIn(n.details))&&(this.state=br);}onLevelLoaded(t,e){var r;const{levels:n}=this,i=e.level,o=e.details,a=o.totalduration;if(!n)return void this.warn(`Levels were reset while loading level ${i}`);this.log(`Level ${i} loaded [${o.startSN},${o.endSN}]${o.lastPartSn?`[part-${o.lastPartSn}-${o.lastPartIndex}]`:""}, cc [${o.startCC}, ${o.endCC}] duration:${a}`);const s=n[i],c=this.fragCurrent;!c||this.state!==fr&&this.state!==hr||c.level===e.level&&c.urlId===s.urlId||!c.loader||this.abortCurrentFrag();let u=0;if(o.live||null!=(r=s.details)&&r.live){if(o.fragments[0]||(o.deltaUpdateFailed=!0),o.deltaUpdateFailed)return;u=this.alignPlaylists(o,s.details);}if(s.details=o,this.levelLastLoaded=i,this.hls.trigger(f.LEVEL_UPDATED,{details:o,level:i}),this.state===br){if(this.waitForCdnTuneIn(o))return;this.state=ur;}this.startFragRequested?o.live&&this.synchronizeToLiveEdge(o):this.setStartPosition(o,u),this.tick();}_handleFragmentLoadProgress(t){var e;const{frag:r,part:n,payload:i}=t,{levels:o}=this;if(!o)return void this.warn(`Levels were reset while fragment load was in progress. Fragment ${r.sn} of level ${r.level} will not be buffered`);const a=o[r.level],s=a.details;if(!s)return this.warn(`Dropping fragment ${r.sn} of level ${r.level} after level details were reset`),void this.fragmentTracker.removeFragment(r);const c=a.videoCodec,u=s.PTSKnown||!s.live,l=null==(e=r.initSegment)?void 0:e.data,f=this._getAudioCodec(a),h=this.transmuxer=this.transmuxer||new kn(this.hls,zt.MAIN,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)),d=n?n.index:-1,p=-1!==d,y=new Je(r.level,r.sn,r.stats.chunkCount,i.byteLength,d,p),v=this.initPTS[r.cc];h.push(i,l,f,c,r,n,s.totalduration,u,y,v);}onAudioTrackSwitching(t,e){const r=this.altAudio;if(!e.url){if(this.mediaBuffer!==this.media){this.log("Switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media;const t=this.fragCurrent;t&&(this.log("Switching to main audio track, cancel main fragment load"),t.abortRequests(),this.fragmentTracker.removeFragment(t)),this.resetTransmuxer(),this.resetLoadingState();}else this.audioOnly&&this.resetTransmuxer();const t=this.hls;r&&(t.trigger(f.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:null}),this.fragmentTracker.removeAllFragments()),t.trigger(f.AUDIO_TRACK_SWITCHED,e);}}onAudioTrackSwitched(t,e){const r=e.id,n=!!this.hls.audioTracks[r].url;if(n){const t=this.videoBuffer;t&&this.mediaBuffer!==t&&(this.log("Switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=t);}this.altAudio=n,this.tick();}onBufferCreated(t,e){const r=e.tracks;let n,i,o=!1;for(const t in r){const e=r[t];if("main"===e.id){if(i=t,n=e,"video"===t){const e=r[t];e&&(this.videoBuffer=e.buffer);}}else o=!0;}o&&n?(this.log(`Alternate track found, use ${i}.buffered to schedule main fragment loading`),this.mediaBuffer=n.buffer):this.mediaBuffer=this.media;}onFragBuffered(t,e){const{frag:r,part:n}=e;if(r&&r.type!==zt.MAIN)return;if(this.fragContextChanged(r))return this.warn(`Fragment ${r.sn}${n?" p: "+n.index:""} of level ${r.level} finished buffering, but was aborted. state: ${this.state}`),void(this.state===yr&&(this.state=ur));const i=n?n.stats:r.stats;this.fragLastKbps=Math.round(8*i.total/(i.buffering.end-i.loading.first)),"initSegment"!==r.sn&&(this.fragPrevious=r),this.fragBufferedComplete(r,n);}onError(t,e){var r;if(e.fatal)this.state=gr;else switch(e.details){case d.FRAG_GAP:case d.FRAG_PARSING_ERROR:case d.FRAG_DECRYPT_ERROR:case d.FRAG_LOAD_ERROR:case d.FRAG_LOAD_TIMEOUT:case d.KEY_LOAD_ERROR:case d.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(zt.MAIN,e);break;case d.LEVEL_LOAD_ERROR:case d.LEVEL_LOAD_TIMEOUT:case d.LEVEL_PARSING_ERROR:e.levelRetry||this.state!==br||(null==(r=e.context)?void 0:r.type)!==Wt.LEVEL||(this.state=ur);break;case d.BUFFER_FULL_ERROR:if(!e.parent||"main"!==e.parent)return;this.reduceLengthAndFlushBuffer(e)&&this.flushMainBuffer(0,Number.POSITIVE_INFINITY);break;case d.INTERNAL_EXCEPTION:this.recoverWorkerError(e);}}checkBuffer(){const{media:t,gapController:e}=this;if(t&&e&&t.readyState){if(this.loadedmetadata||!Qe.getBuffered(t).length){const t=this.state!==ur?this.fragCurrent:null;e.poll(this.lastCurrentTime,t);}this.lastCurrentTime=t.currentTime;}}onFragLoadEmergencyAborted(){this.state=ur,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.tickImmediate();}onBufferFlushed(t,{type:e}){if(e!==L.AUDIO||this.audioOnly&&!this.altAudio){const t=(e===L.VIDEO?this.videoBuffer:this.mediaBuffer)||this.media;this.afterBufferFlushed(t,e,zt.MAIN);}}onLevelsUpdated(t,e){this.levels=e.levels;}swapAudioCodec(){this.audioCodecSwap=!this.audioCodecSwap;}seekToStartPos(){const{media:t}=this;if(!t)return;const e=t.currentTime;let r=this.startPosition;if(r>=0&&e<r){if(t.seeking)return void this.log(`could not seek to ${r}, already seeking at ${e}`);const n=Qe.getBuffered(t),i=(n.length?n.start(0):0)-r;i>0&&(i<this.config.maxBufferHole||i<this.config.maxFragLookUpTolerance)&&(this.log(`adjusting start position by ${i} to match buffer start`),r+=i,this.startPosition=r),this.log(`seek to target start position ${r} from current time ${e}`),t.currentTime=r;}}_getAudioCodec(t){let e=this.config.defaultAudioCodec||t.audioCodec;return this.audioCodecSwap&&e&&(this.log("Swapping audio codec"),e=-1!==e.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5"),e}_loadBitrateTestFrag(t,e){t.bitrateTest=!0,this._doFragLoad(t,e).then((r=>{const{hls:n}=this;if(!r||this.fragContextChanged(t))return;e.fragmentError=0,this.state=ur,this.startFragRequested=!1,this.bitrateTest=!1;const i=t.stats;i.parsing.start=i.parsing.end=i.buffering.start=i.buffering.end=self.performance.now(),n.trigger(f.FRAG_LOADED,r),t.bitrateTest=!1;}));}_handleTransmuxComplete(t){var e;const r="main",{hls:n}=this,{remuxResult:i,chunkMeta:o}=t,a=this.getCurrentContext(o);if(!a)return void this.resetWhenMissingContext(o);const{frag:s,part:c,level:u}=a,{video:h,text:d,id3:p,initSegment:y}=i,{details:v}=u,g=this.altAudio?void 0:i.audio;if(this.fragContextChanged(s))this.fragmentTracker.removeFragment(s);else {if(this.state=pr,y){if(null!=y&&y.tracks){const t=s.initSegment||s;this._bufferInitSegment(u,y.tracks,t,o),n.trigger(f.FRAG_PARSING_INIT_SEGMENT,{frag:t,id:r,tracks:y.tracks});}const t=y.initPTS,e=y.timescale;l(t)&&(this.initPTS[s.cc]={baseTime:t,timescale:e},n.trigger(f.INIT_PTS_FOUND,{frag:s,id:r,initPTS:t,timescale:e}));}if(h&&!1!==i.independent){if(v){const{startPTS:t,endPTS:e,startDTS:r,endDTS:n}=h;if(c)c.elementaryStreams[h.type]={startPTS:t,endPTS:e,startDTS:r,endDTS:n};else if(h.firstKeyFrame&&h.independent&&1===o.id&&(this.couldBacktrack=!0),h.dropped&&h.independent){const r=this.getMainFwdBufferInfo();if((r?r.end:this.getLoadPosition())+this.config.maxBufferHole<(h.firstKeyFramePTS?h.firstKeyFramePTS:t)-this.config.maxBufferHole)return void this.backtrack(s);s.setElementaryStreamInfo(h.type,s.start,e,s.start,n,!0);}s.setElementaryStreamInfo(h.type,t,e,r,n),this.backtrackFragment&&(this.backtrackFragment=s),this.bufferFragmentData(h,s,c,o);}}else if(!1===i.independent)return void this.backtrack(s);if(g){const{startPTS:t,endPTS:e,startDTS:r,endDTS:n}=g;c&&(c.elementaryStreams[L.AUDIO]={startPTS:t,endPTS:e,startDTS:r,endDTS:n}),s.setElementaryStreamInfo(L.AUDIO,t,e,r,n),this.bufferFragmentData(g,s,c,o);}if(v&&null!=p&&null!=(e=p.samples)&&e.length){const t={id:r,frag:s,details:v,samples:p.samples};n.trigger(f.FRAG_PARSING_METADATA,t);}if(v&&d){const t={id:r,frag:s,details:v,samples:d.samples};n.trigger(f.FRAG_PARSING_USERDATA,t);}}}_bufferInitSegment(t,e,r,n){if(this.state!==pr)return;this.audioOnly=!!e.audio&&!e.video,this.altAudio&&!this.audioOnly&&delete e.audio;const{audio:i,video:o,audiovideo:a}=e;if(i){let e=t.audioCodec;const r=navigator.userAgent.toLowerCase();this.audioCodecSwitch&&(e&&(e=-1!==e.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5"),1!==i.metadata.channelCount&&-1===r.indexOf("firefox")&&(e="mp4a.40.5")),-1!==r.indexOf("android")&&"audio/mpeg"!==i.container&&(e="mp4a.40.2",this.log(`Android: force audio codec to ${e}`)),t.audioCodec&&t.audioCodec!==e&&this.log(`Swapping manifest audio codec "${t.audioCodec}" for "${e}"`),i.levelCodec=e,i.id="main",this.log(`Init audio buffer, container:${i.container}, codecs[selected/level/parsed]=[${e||""}/${t.audioCodec||""}/${i.codec}]`);}o&&(o.levelCodec=t.videoCodec,o.id="main",this.log(`Init video buffer, container:${o.container}, codecs[level/parsed]=[${t.videoCodec||""}/${o.codec}]`)),a&&this.log(`Init audiovideo buffer, container:${a.container}, codecs[level/parsed]=[${t.attrs.CODECS||""}/${a.codec}]`),this.hls.trigger(f.BUFFER_CODECS,e),Object.keys(e).forEach((t=>{const i=e[t].initSegment;null!=i&&i.byteLength&&this.hls.trigger(f.BUFFER_APPENDING,{type:t,data:i,frag:r,part:null,chunkMeta:n,parent:r.type});})),this.tick();}getMainFwdBufferInfo(){return this.getFwdBufferInfo(this.mediaBuffer?this.mediaBuffer:this.media,zt.MAIN)}backtrack(t){this.couldBacktrack=!0,this.backtrackFragment=t,this.resetTransmuxer(),this.flushBufferGap(t),this.fragmentTracker.removeFragment(t),this.fragPrevious=null,this.nextLoadPosition=t.start,this.state=ur;}checkFragmentChanged(){const t=this.media;let e=null;if(t&&t.readyState>1&&!1===t.seeking){const r=t.currentTime;if(Qe.isBuffered(t,r)?e=this.getAppendedFrag(r):Qe.isBuffered(t,r+.1)&&(e=this.getAppendedFrag(r+.1)),e){this.backtrackFragment=null;const t=this.fragPlaying,r=e.level;t&&e.sn===t.sn&&t.level===r&&e.urlId===t.urlId||(this.fragPlaying=e,this.hls.trigger(f.FRAG_CHANGED,{frag:e}),t&&t.level===r||this.hls.trigger(f.LEVEL_SWITCHED,{level:r}));}}}get nextLevel(){const t=this.nextBufferedFrag;return t?t.level:-1}get currentFrag(){const t=this.media;return t?this.fragPlaying||this.getAppendedFrag(t.currentTime):null}get currentProgramDateTime(){const t=this.media;if(t){const e=t.currentTime,r=this.currentFrag;if(r&&l(e)&&l(r.programDateTime)){const t=r.programDateTime+1e3*(e-r.start);return new Date(t)}}return null}get currentLevel(){const t=this.currentFrag;return t?t.level:-1}get nextBufferedFrag(){const t=this.currentFrag;return t?this.followingBufferedFrag(t):null}get forceStartLoad(){return this._forceStartLoad}}class Tn{constructor(t,e=0,r=0){this.halfLife=void 0,this.alpha_=void 0,this.estimate_=void 0,this.totalWeight_=void 0,this.halfLife=t,this.alpha_=t?Math.exp(Math.log(.5)/t):0,this.estimate_=e,this.totalWeight_=r;}sample(t,e){const r=Math.pow(this.alpha_,t);this.estimate_=e*(1-r)+r*this.estimate_,this.totalWeight_+=t;}getTotalWeight(){return this.totalWeight_}getEstimate(){if(this.alpha_){const t=1-Math.pow(this.alpha_,this.totalWeight_);if(t)return this.estimate_/t}return this.estimate_}}class Pn{constructor(t,e,r,n=100){this.defaultEstimate_=void 0,this.minWeight_=void 0,this.minDelayMs_=void 0,this.slow_=void 0,this.fast_=void 0,this.defaultTTFB_=void 0,this.ttfb_=void 0,this.defaultEstimate_=r,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new Tn(t),this.fast_=new Tn(e),this.defaultTTFB_=n,this.ttfb_=new Tn(t);}update(t,e){const{slow_:r,fast_:n,ttfb_:i}=this;r.halfLife!==t&&(this.slow_=new Tn(t,r.getEstimate(),r.getTotalWeight())),n.halfLife!==e&&(this.fast_=new Tn(e,n.getEstimate(),n.getTotalWeight())),i.halfLife!==t&&(this.ttfb_=new Tn(t,i.getEstimate(),i.getTotalWeight()));}sample(t,e){const r=(t=Math.max(t,this.minDelayMs_))/1e3,n=8*e/r;this.fast_.sample(r,n),this.slow_.sample(r,n);}sampleTTFB(t){const e=t/1e3,r=Math.sqrt(2)*Math.exp(-Math.pow(e,2)/2);this.ttfb_.sample(r,Math.max(t,5));}canEstimate(){return this.fast_.getTotalWeight()>=this.minWeight_}getEstimate(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_}getEstimateTTFB(){return this.ttfb_.getTotalWeight()>=this.minWeight_?this.ttfb_.getEstimate():this.defaultTTFB_}destroy(){}}class On{constructor(){this.chunks=[],this.dataLength=0;}push(t){this.chunks.push(t),this.dataLength+=t.length;}flush(){const{chunks:t,dataLength:e}=this;let r;return t.length?(r=1===t.length?t[0]:function(t,e){const r=new Uint8Array(e);let n=0;for(let e=0;e<t.length;e++){const i=t[e];r.set(i,n),n+=i.length;}return r}(t,e),this.reset(),r):new Uint8Array(0)}reset(){this.chunks.length=0,this.dataLength=0;}}function In(t,e){if(t.length!==e.length)return !1;for(let r=0;r<t.length;r++)if(!Rn(t[r].attrs,e[r].attrs))return !1;return !0}function Rn(t,e){const r=t["STABLE-RENDITION-ID"];return r?r===e["STABLE-RENDITION-ID"]:!["LANGUAGE","NAME","CHARACTERISTICS","AUTOSELECT","DEFAULT","FORCED"].some((r=>t[r]!==e[r]))}class Dn{constructor(t){this.buffered=void 0;const e=(e,r,n)=>{if((r>>>=0)>n-1)throw new DOMException(`Failed to execute '${e}' on 'TimeRanges': The index provided (${r}) is greater than the maximum bound (${n})`);return t[r][e]};this.buffered={get length(){return t.length},end:r=>e("end",r,t.length),start:r=>e("start",r,t.length)};}}function jn(t){const e=[];for(let r=0;r<t.length;r++){const n=t[r];"subtitles"!==n.kind&&"captions"!==n.kind||!n.label||e.push(t[r]);}return e}class Bn{constructor(t){this.buffers=void 0,this.queues={video:[],audio:[],audiovideo:[]},this.buffers=t;}append(t,e){const r=this.queues[e];r.push(t),1===r.length&&this.buffers[e]&&this.executeNext(e);}insertAbort(t,e){this.queues[e].unshift(t),this.executeNext(e);}appendBlocker(t){let e;const r=new Promise((t=>{e=t;})),n={execute:e,onStart:()=>{},onComplete:()=>{},onError:()=>{}};return this.append(n,t),r}executeNext(t){const{buffers:e,queues:r}=this,n=e[t],i=r[t];if(i.length){const e=i[0];try{e.execute();}catch(r){g.warn("[buffer-operation-queue]: Unhandled exception executing the current operation"),e.onError(r),null!=n&&n.updating||(i.shift(),this.executeNext(t));}}}shiftAndExecuteNext(t){this.queues[t].shift(),this.executeNext(t);}current(t){return this.queues[t][0]}}const Fn=Ot(),Nn=/([ha]vc.)(?:\.[^.,]+)+/,Mn={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},Un=function(t){let e=t;return Mn.hasOwnProperty(t)&&(e=Mn[t]),String.fromCharCode(e)},Gn=15,$n=100,Vn={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},Kn={17:2,18:4,21:6,22:8,23:10,19:13,20:15},Hn={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},Yn={25:2,26:4,29:6,30:8,31:10,27:13,28:15},Zn=["white","green","blue","cyan","red","yellow","magenta","black","transparent"];class Wn{constructor(){this.time=null,this.verboseLevel=0;}log(t,e){if(this.verboseLevel>=t){const r="function"==typeof e?e():e;g.log(`${this.time} [${t}] ${r}`);}}}const zn=function(t){const e=[];for(let r=0;r<t.length;r++)e.push(t[r].toString(16));return e};class qn{constructor(t,e,r,n,i){this.foreground=void 0,this.underline=void 0,this.italics=void 0,this.background=void 0,this.flash=void 0,this.foreground=t||"white",this.underline=e||!1,this.italics=r||!1,this.background=n||"black",this.flash=i||!1;}reset(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1;}setStyles(t){const e=["foreground","underline","italics","background","flash"];for(let r=0;r<e.length;r++){const n=e[r];t.hasOwnProperty(n)&&(this[n]=t[n]);}}isDefault(){return "white"===this.foreground&&!this.underline&&!this.italics&&"black"===this.background&&!this.flash}equals(t){return this.foreground===t.foreground&&this.underline===t.underline&&this.italics===t.italics&&this.background===t.background&&this.flash===t.flash}copy(t){this.foreground=t.foreground,this.underline=t.underline,this.italics=t.italics,this.background=t.background,this.flash=t.flash;}toString(){return "color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash}}class Xn{constructor(t,e,r,n,i,o){this.uchar=void 0,this.penState=void 0,this.uchar=t||" ",this.penState=new qn(e,r,n,i,o);}reset(){this.uchar=" ",this.penState.reset();}setChar(t,e){this.uchar=t,this.penState.copy(e);}setPenState(t){this.penState.copy(t);}equals(t){return this.uchar===t.uchar&&this.penState.equals(t.penState)}copy(t){this.uchar=t.uchar,this.penState.copy(t.penState);}isEmpty(){return " "===this.uchar&&this.penState.isDefault()}}class Qn{constructor(t){this.chars=void 0,this.pos=void 0,this.currPenState=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chars=[];for(let t=0;t<$n;t++)this.chars.push(new Xn);this.logger=t,this.pos=0,this.currPenState=new qn;}equals(t){let e=!0;for(let r=0;r<$n;r++)if(!this.chars[r].equals(t.chars[r])){e=!1;break}return e}copy(t){for(let e=0;e<$n;e++)this.chars[e].copy(t.chars[e]);}isEmpty(){let t=!0;for(let e=0;e<$n;e++)if(!this.chars[e].isEmpty()){t=!1;break}return t}setCursor(t){this.pos!==t&&(this.pos=t),this.pos<0?(this.logger.log(3,"Negative cursor position "+this.pos),this.pos=0):this.pos>$n&&(this.logger.log(3,"Too large cursor position "+this.pos),this.pos=$n);}moveCursor(t){const e=this.pos+t;if(t>1)for(let t=this.pos+1;t<e+1;t++)this.chars[t].setPenState(this.currPenState);this.setCursor(e);}backSpace(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState);}insertChar(t){t>=144&&this.backSpace();const e=Un(t);this.pos>=$n?this.logger.log(0,(()=>"Cannot insert "+t.toString(16)+" ("+e+") at position "+this.pos+". Skipping it!")):(this.chars[this.pos].setChar(e,this.currPenState),this.moveCursor(1));}clearFromPos(t){let e;for(e=t;e<$n;e++)this.chars[e].reset();}clear(){this.clearFromPos(0),this.pos=0,this.currPenState.reset();}clearToEndOfRow(){this.clearFromPos(this.pos);}getTextString(){const t=[];let e=!0;for(let r=0;r<$n;r++){const n=this.chars[r].uchar;" "!==n&&(e=!1),t.push(n);}return e?"":t.join("")}setPenStyles(t){this.currPenState.setStyles(t),this.chars[this.pos].setPenState(this.currPenState);}}class Jn{constructor(t){this.rows=void 0,this.currRow=void 0,this.nrRollUpRows=void 0,this.lastOutputScreen=void 0,this.logger=void 0,this.rows=[];for(let e=0;e<Gn;e++)this.rows.push(new Qn(t));this.logger=t,this.currRow=14,this.nrRollUpRows=null,this.lastOutputScreen=null,this.reset();}reset(){for(let t=0;t<Gn;t++)this.rows[t].clear();this.currRow=14;}equals(t){let e=!0;for(let r=0;r<Gn;r++)if(!this.rows[r].equals(t.rows[r])){e=!1;break}return e}copy(t){for(let e=0;e<Gn;e++)this.rows[e].copy(t.rows[e]);}isEmpty(){let t=!0;for(let e=0;e<Gn;e++)if(!this.rows[e].isEmpty()){t=!1;break}return t}backSpace(){this.rows[this.currRow].backSpace();}clearToEndOfRow(){this.rows[this.currRow].clearToEndOfRow();}insertChar(t){this.rows[this.currRow].insertChar(t);}setPen(t){this.rows[this.currRow].setPenStyles(t);}moveCursor(t){this.rows[this.currRow].moveCursor(t);}setCursor(t){this.logger.log(2,"setCursor: "+t),this.rows[this.currRow].setCursor(t);}setPAC(t){this.logger.log(2,(()=>"pacData = "+JSON.stringify(t)));let e=t.row-1;if(this.nrRollUpRows&&e<this.nrRollUpRows-1&&(e=this.nrRollUpRows-1),this.nrRollUpRows&&this.currRow!==e){for(let t=0;t<Gn;t++)this.rows[t].clear();const t=this.currRow+1-this.nrRollUpRows,r=this.lastOutputScreen;if(r){const n=r.rows[t].cueStartTime,i=this.logger.time;if(n&&null!==i&&n<i)for(let n=0;n<this.nrRollUpRows;n++)this.rows[e-this.nrRollUpRows+n+1].copy(r.rows[t+n]);}}this.currRow=e;const r=this.rows[this.currRow];if(null!==t.indent){const e=t.indent,n=Math.max(e-1,0);r.setCursor(t.indent),t.color=r.chars[n].penState.foreground;}const n={foreground:t.color,underline:t.underline,italics:t.italics,background:"black",flash:!1};this.setPen(n);}setBkgData(t){this.logger.log(2,(()=>"bkgData = "+JSON.stringify(t))),this.backSpace(),this.setPen(t),this.insertChar(32);}setRollUpRows(t){this.nrRollUpRows=t;}rollUp(){if(null===this.nrRollUpRows)return void this.logger.log(3,"roll_up but nrRollUpRows not set yet");this.logger.log(1,(()=>this.getDisplayText()));const t=this.currRow+1-this.nrRollUpRows,e=this.rows.splice(t,1)[0];e.clear(),this.rows.splice(this.currRow,0,e),this.logger.log(2,"Rolling up");}getDisplayText(t){t=t||!1;const e=[];let r="",n=-1;for(let r=0;r<Gn;r++){const i=this.rows[r].getTextString();i&&(n=r+1,t?e.push("Row "+n+": '"+i+"'"):e.push(i.trim()));}return e.length>0&&(r=t?"["+e.join(" | ")+"]":e.join("\n")),r}getTextAndFormat(){return this.rows}}class ti{constructor(t,e,r){this.chNr=void 0,this.outputFilter=void 0,this.mode=void 0,this.verbose=void 0,this.displayedMemory=void 0,this.nonDisplayedMemory=void 0,this.lastOutputScreen=void 0,this.currRollUpRow=void 0,this.writeScreen=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chNr=t,this.outputFilter=e,this.mode=null,this.verbose=0,this.displayedMemory=new Jn(r),this.nonDisplayedMemory=new Jn(r),this.lastOutputScreen=new Jn(r),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.logger=r;}reset(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.outputFilter.reset(),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null;}getHandler(){return this.outputFilter}setHandler(t){this.outputFilter=t;}setPAC(t){this.writeScreen.setPAC(t);}setBkgData(t){this.writeScreen.setBkgData(t);}setMode(t){t!==this.mode&&(this.mode=t,this.logger.log(2,(()=>"MODE="+t)),"MODE_POP-ON"===this.mode?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),"MODE_ROLL-UP"!==this.mode&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=t);}insertChars(t){for(let e=0;e<t.length;e++)this.writeScreen.insertChar(t[e]);const e=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";this.logger.log(2,(()=>e+": "+this.writeScreen.getDisplayText(!0))),"MODE_PAINT-ON"!==this.mode&&"MODE_ROLL-UP"!==this.mode||(this.logger.log(1,(()=>"DISPLAYED: "+this.displayedMemory.getDisplayText(!0))),this.outputDataUpdate());}ccRCL(){this.logger.log(2,"RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON");}ccBS(){this.logger.log(2,"BS - BackSpace"),"MODE_TEXT"!==this.mode&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate());}ccAOF(){}ccAON(){}ccDER(){this.logger.log(2,"DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate();}ccRU(t){this.logger.log(2,"RU("+t+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(t);}ccFON(){this.logger.log(2,"FON - Flash On"),this.writeScreen.setPen({flash:!0});}ccRDC(){this.logger.log(2,"RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON");}ccTR(){this.logger.log(2,"TR"),this.setMode("MODE_TEXT");}ccRTD(){this.logger.log(2,"RTD"),this.setMode("MODE_TEXT");}ccEDM(){this.logger.log(2,"EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate(!0);}ccCR(){this.logger.log(2,"CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate(!0);}ccENM(){this.logger.log(2,"ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset();}ccEOC(){if(this.logger.log(2,"EOC - End Of Caption"),"MODE_POP-ON"===this.mode){const t=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=t,this.writeScreen=this.nonDisplayedMemory,this.logger.log(1,(()=>"DISP: "+this.displayedMemory.getDisplayText()));}this.outputDataUpdate(!0);}ccTO(t){this.logger.log(2,"TO("+t+") - Tab Offset"),this.writeScreen.moveCursor(t);}ccMIDROW(t){const e={flash:!1};if(e.underline=t%2==1,e.italics=t>=46,e.italics)e.foreground="white";else {const r=Math.floor(t/2)-16,n=["white","green","blue","cyan","red","yellow","magenta"];e.foreground=n[r];}this.logger.log(2,"MIDROW: "+JSON.stringify(e)),this.writeScreen.setPen(e);}outputDataUpdate(t=!1){const e=this.logger.time;null!==e&&this.outputFilter&&(null!==this.cueStartTime||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue(this.cueStartTime,e,this.lastOutputScreen),t&&this.outputFilter.dispatchCue&&this.outputFilter.dispatchCue(),this.cueStartTime=this.displayedMemory.isEmpty()?null:e):this.cueStartTime=e,this.lastOutputScreen.copy(this.displayedMemory));}cueSplitAtTime(t){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,t,this.displayedMemory),this.cueStartTime=t));}}class ei{constructor(t,e,r){this.channels=void 0,this.currentChannel=0,this.cmdHistory=void 0,this.logger=void 0;const n=new Wn;this.channels=[null,new ti(t,e,n),new ti(t+1,r,n)],this.cmdHistory={a:null,b:null},this.logger=n;}getHandler(t){return this.channels[t].getHandler()}setHandler(t,e){this.channels[t].setHandler(e);}addData(t,e){let r,n,i,o=!1;this.logger.time=t;for(let t=0;t<e.length;t+=2)if(n=127&e[t],i=127&e[t+1],0!==n||0!==i){if(this.logger.log(3,"["+zn([e[t],e[t+1]])+"] -> ("+zn([n,i])+")"),r=this.parseCmd(n,i),r||(r=this.parseMidrow(n,i)),r||(r=this.parsePAC(n,i)),r||(r=this.parseBackgroundAttributes(n,i)),!r&&(o=this.parseChars(n,i),o)){const t=this.currentChannel;t&&t>0?this.channels[t].insertChars(o):this.logger.log(2,"No channel found yet. TEXT-MODE?");}r||o||this.logger.log(2,"Couldn't parse cleaned data "+zn([n,i])+" orig: "+zn([e[t],e[t+1]]));}}parseCmd(t,e){const{cmdHistory:r}=this;if(!((20===t||28===t||21===t||29===t)&&e>=32&&e<=47||(23===t||31===t)&&e>=33&&e<=35))return !1;if(ni(t,e,r))return ri(null,null,r),this.logger.log(3,"Repeated command ("+zn([t,e])+") is dropped"),!0;const n=20===t||21===t||23===t?1:2,i=this.channels[n];return 20===t||21===t||28===t||29===t?32===e?i.ccRCL():33===e?i.ccBS():34===e?i.ccAOF():35===e?i.ccAON():36===e?i.ccDER():37===e?i.ccRU(2):38===e?i.ccRU(3):39===e?i.ccRU(4):40===e?i.ccFON():41===e?i.ccRDC():42===e?i.ccTR():43===e?i.ccRTD():44===e?i.ccEDM():45===e?i.ccCR():46===e?i.ccENM():47===e&&i.ccEOC():i.ccTO(e-32),ri(t,e,r),this.currentChannel=n,!0}parseMidrow(t,e){let r=0;if((17===t||25===t)&&e>=32&&e<=47){if(r=17===t?1:2,r!==this.currentChannel)return this.logger.log(0,"Mismatch channel in midrow parsing"),!1;const n=this.channels[r];return !!n&&(n.ccMIDROW(e),this.logger.log(3,"MIDROW ("+zn([t,e])+")"),!0)}return !1}parsePAC(t,e){let r;const n=this.cmdHistory;if(!((t>=17&&t<=23||t>=25&&t<=31)&&e>=64&&e<=127||(16===t||24===t)&&e>=64&&e<=95))return !1;if(ni(t,e,n))return ri(null,null,n),!0;const i=t<=23?1:2;r=e>=64&&e<=95?1===i?Vn[t]:Hn[t]:1===i?Kn[t]:Yn[t];const o=this.channels[i];return !!o&&(o.setPAC(this.interpretPAC(r,e)),ri(t,e,n),this.currentChannel=i,!0)}interpretPAC(t,e){let r;const n={color:null,italics:!1,indent:null,underline:!1,row:t};return r=e>95?e-96:e-64,n.underline=1==(1&r),r<=13?n.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(r/2)]:r<=15?(n.italics=!0,n.color="white"):n.indent=4*Math.floor((r-16)/2),n}parseChars(t,e){let r,n=null,i=null;if(t>=25?(r=2,i=t-8):(r=1,i=t),i>=17&&i<=19){let t;t=17===i?e+80:18===i?e+112:e+144,this.logger.log(2,"Special char '"+Un(t)+"' in channel "+r),n=[t];}else t>=32&&t<=127&&(n=0===e?[t]:[t,e]);if(n){const r=zn(n);this.logger.log(3,"Char codes =  "+r.join(",")),ri(t,e,this.cmdHistory);}return n}parseBackgroundAttributes(t,e){if(!((16===t||24===t)&&e>=32&&e<=47||(23===t||31===t)&&e>=45&&e<=47))return !1;let r;const n={};16===t||24===t?(r=Math.floor((e-32)/2),n.background=Zn[r],e%2==1&&(n.background=n.background+"_semi")):45===e?n.background="transparent":(n.foreground="black",47===e&&(n.underline=!0));const i=t<=23?1:2;return this.channels[i].setBkgData(n),ri(t,e,this.cmdHistory),!0}reset(){for(let t=0;t<Object.keys(this.channels).length;t++){const e=this.channels[t];e&&e.reset();}this.cmdHistory={a:null,b:null};}cueSplitAtTime(t){for(let e=0;e<this.channels.length;e++){const r=this.channels[e];r&&r.cueSplitAtTime(t);}}}function ri(t,e,r){r.a=t,r.b=e;}function ni(t,e,r){return r.a===t&&r.b===e}class ii{constructor(t,e){this.timelineController=void 0,this.cueRanges=[],this.trackName=void 0,this.startTime=null,this.endTime=null,this.screen=null,this.timelineController=t,this.trackName=e;}dispatchCue(){null!==this.startTime&&(this.timelineController.addCues(this.trackName,this.startTime,this.endTime,this.screen,this.cueRanges),this.startTime=null);}newCue(t,e,r){(null===this.startTime||this.startTime>t)&&(this.startTime=t),this.endTime=e,this.screen=r,this.timelineController.createCaptionsTrack(this.trackName);}reset(){this.cueRanges=[],this.startTime=null;}}var oi=function(){if("undefined"!=typeof self&&self.VTTCue)return self.VTTCue;const t=["","lr","rl"],e=["start","middle","end","left","right"];function r(t,e){if("string"!=typeof e)return !1;if(!Array.isArray(t))return !1;const r=e.toLowerCase();return !!~t.indexOf(r)&&r}function n(t){return r(e,t)}function i(t,...e){let r=1;for(;r<arguments.length;r++){const e=arguments[r];for(const r in e)t[r]=e[r];}return t}function o(e,o,a){const s=this,c={enumerable:!0};s.hasBeenReset=!1;let u="",l=!1,f=e,h=o,d=a,p=null,y="",v=!0,g="auto",m="start",b=50,w="middle",A=50,E="middle";Object.defineProperty(s,"id",i({},c,{get:function(){return u},set:function(t){u=""+t;}})),Object.defineProperty(s,"pauseOnExit",i({},c,{get:function(){return l},set:function(t){l=!!t;}})),Object.defineProperty(s,"startTime",i({},c,{get:function(){return f},set:function(t){if("number"!=typeof t)throw new TypeError("Start time must be set to a number.");f=t,this.hasBeenReset=!0;}})),Object.defineProperty(s,"endTime",i({},c,{get:function(){return h},set:function(t){if("number"!=typeof t)throw new TypeError("End time must be set to a number.");h=t,this.hasBeenReset=!0;}})),Object.defineProperty(s,"text",i({},c,{get:function(){return d},set:function(t){d=""+t,this.hasBeenReset=!0;}})),Object.defineProperty(s,"region",i({},c,{get:function(){return p},set:function(t){p=t,this.hasBeenReset=!0;}})),Object.defineProperty(s,"vertical",i({},c,{get:function(){return y},set:function(e){const n=function(e){return r(t,e)}(e);if(!1===n)throw new SyntaxError("An invalid or illegal string was specified.");y=n,this.hasBeenReset=!0;}})),Object.defineProperty(s,"snapToLines",i({},c,{get:function(){return v},set:function(t){v=!!t,this.hasBeenReset=!0;}})),Object.defineProperty(s,"line",i({},c,{get:function(){return g},set:function(t){if("number"!=typeof t&&"auto"!==t)throw new SyntaxError("An invalid number or illegal string was specified.");g=t,this.hasBeenReset=!0;}})),Object.defineProperty(s,"lineAlign",i({},c,{get:function(){return m},set:function(t){const e=n(t);if(!e)throw new SyntaxError("An invalid or illegal string was specified.");m=e,this.hasBeenReset=!0;}})),Object.defineProperty(s,"position",i({},c,{get:function(){return b},set:function(t){if(t<0||t>100)throw new Error("Position must be between 0 and 100.");b=t,this.hasBeenReset=!0;}})),Object.defineProperty(s,"positionAlign",i({},c,{get:function(){return w},set:function(t){const e=n(t);if(!e)throw new SyntaxError("An invalid or illegal string was specified.");w=e,this.hasBeenReset=!0;}})),Object.defineProperty(s,"size",i({},c,{get:function(){return A},set:function(t){if(t<0||t>100)throw new Error("Size must be between 0 and 100.");A=t,this.hasBeenReset=!0;}})),Object.defineProperty(s,"align",i({},c,{get:function(){return E},set:function(t){const e=n(t);if(!e)throw new SyntaxError("An invalid or illegal string was specified.");E=e,this.hasBeenReset=!0;}})),s.displayState=void 0;}return o.prototype.getCueAsHTML=function(){return self.WebVTT.convertCueToDOMTree(self,this.text)},o}();class ai{decode(t,e){if(!t)return "";if("string"!=typeof t)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(t))}}function si(t){function e(t,e,r,n){return 3600*(0|t)+60*(0|e)+(0|r)+parseFloat(n||0)}const r=t.match(/^(?:(\d+):)?(\d{2}):(\d{2})(\.\d+)?/);return r?parseFloat(r[2])>59?e(r[2],r[3],0,r[4]):e(r[1],r[2],r[3],r[4]):null}class ci{constructor(){this.values=Object.create(null);}set(t,e){this.get(t)||""===e||(this.values[t]=e);}get(t,e,r){return r?this.has(t)?this.values[t]:e[r]:this.has(t)?this.values[t]:e}has(t){return t in this.values}alt(t,e,r){for(let n=0;n<r.length;++n)if(e===r[n]){this.set(t,e);break}}integer(t,e){/^-?\d+$/.test(e)&&this.set(t,parseInt(e,10));}percent(t,e){if(/^([\d]{1,3})(\.[\d]*)?%$/.test(e)){const r=parseFloat(e);if(r>=0&&r<=100)return this.set(t,r),!0}return !1}}function ui(t,e,r,n){const i=n?t.split(n):[t];for(const t in i){if("string"!=typeof i[t])continue;const n=i[t].split(r);2===n.length&&e(n[0],n[1]);}}const li=new oi(0,0,""),fi="middle"===li.align?"middle":"center";function hi(t,e,r){const n=t;function i(){const e=si(t);if(null===e)throw new Error("Malformed timestamp: "+n);return t=t.replace(/^[^\sa-zA-Z-]+/,""),e}function o(){t=t.replace(/^\s+/,"");}if(o(),e.startTime=i(),o(),"--\x3e"!==t.slice(0,3))throw new Error("Malformed time stamp (time stamps must be separated by '--\x3e'): "+n);t=t.slice(3),o(),e.endTime=i(),o(),function(t,e){const n=new ci;ui(t,(function(t,e){let i;switch(t){case"region":for(let i=r.length-1;i>=0;i--)if(r[i].id===e){n.set(t,r[i].region);break}break;case"vertical":n.alt(t,e,["rl","lr"]);break;case"line":i=e.split(","),n.integer(t,i[0]),n.percent(t,i[0])&&n.set("snapToLines",!1),n.alt(t,i[0],["auto"]),2===i.length&&n.alt("lineAlign",i[1],["start",fi,"end"]);break;case"position":i=e.split(","),n.percent(t,i[0]),2===i.length&&n.alt("positionAlign",i[1],["start",fi,"end","line-left","line-right","auto"]);break;case"size":n.percent(t,e);break;case"align":n.alt(t,e,["start",fi,"end","left","right"]);}}),/:/,/\s/),e.region=n.get("region",null),e.vertical=n.get("vertical","");let i=n.get("line","auto");"auto"===i&&-1===li.line&&(i=-1),e.line=i,e.lineAlign=n.get("lineAlign","start"),e.snapToLines=n.get("snapToLines",!0),e.size=n.get("size",100),e.align=n.get("align",fi);let o=n.get("position","auto");"auto"===o&&50===li.position&&(o="start"===e.align||"left"===e.align?0:"end"===e.align||"right"===e.align?100:50),e.position=o;}(t,e);}function di(t){return t.replace(/<br(?: \/)?>/gi,"\n")}class pi{constructor(){this.state="INITIAL",this.buffer="",this.decoder=new ai,this.regionList=[],this.cue=null,this.oncue=void 0,this.onparsingerror=void 0,this.onflush=void 0;}parse(t){const e=this;function r(){let t=e.buffer,r=0;for(t=di(t);r<t.length&&"\r"!==t[r]&&"\n"!==t[r];)++r;const n=t.slice(0,r);return "\r"===t[r]&&++r,"\n"===t[r]&&++r,e.buffer=t.slice(r),n}t&&(e.buffer+=e.decoder.decode(t,{stream:!0}));try{let t="";if("INITIAL"===e.state){if(!/\r\n|\n/.test(e.buffer))return this;t=r();const n=t.match(/^(ï»¿)?WEBVTT([ \t].*)?$/);if(null==n||!n[0])throw new Error("Malformed WebVTT signature.");e.state="HEADER";}let n=!1;for(;e.buffer;){if(!/\r\n|\n/.test(e.buffer))return this;switch(n?n=!1:t=r(),e.state){case"HEADER":/:/.test(t)?ui(t,(function(t,e){}),/:/):t||(e.state="ID");continue;case"NOTE":t||(e.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(t)){e.state="NOTE";break}if(!t)continue;if(e.cue=new oi(0,0,""),e.state="CUE",-1===t.indexOf("--\x3e")){e.cue.id=t;continue}case"CUE":if(!e.cue){e.state="BADCUE";continue}try{hi(t,e.cue,e.regionList);}catch(t){e.cue=null,e.state="BADCUE";continue}e.state="CUETEXT";continue;case"CUETEXT":{const r=-1!==t.indexOf("--\x3e");if(!t||r&&(n=!0)){e.oncue&&e.cue&&e.oncue(e.cue),e.cue=null,e.state="ID";continue}if(null===e.cue)continue;e.cue.text&&(e.cue.text+="\n"),e.cue.text+=t;}continue;case"BADCUE":t||(e.state="ID");}}}catch(t){"CUETEXT"===e.state&&e.cue&&e.oncue&&e.oncue(e.cue),e.cue=null,e.state="INITIAL"===e.state?"BADWEBVTT":"BADCUE";}return this}flush(){const t=this;try{if((t.cue||"HEADER"===t.state)&&(t.buffer+="\n\n",t.parse()),"INITIAL"===t.state||"BADWEBVTT"===t.state)throw new Error("Malformed WebVTT signature.")}catch(e){t.onparsingerror&&t.onparsingerror(e);}return t.onflush&&t.onflush(),this}}const yi=/\r\n|\n\r|\n|\r/g,vi=function(t,e,r=0){return t.slice(r,r+e.length)===e},gi=function(t){let e=5381,r=t.length;for(;r;)e=33*e^t.charCodeAt(--r);return (e>>>0).toString()};function mi(t,e,r){return gi(t.toString())+gi(e.toString())+gi(r)}const bi="stpp.ttml.im1t",wi=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,Ai=/^(\d*(?:\.\d*)?)(h|m|s|ms|f|t)$/,Ei={left:"start",center:"center",right:"end",start:"start",end:"end"};function xi(t,e,r,n){const i=dt(new Uint8Array(t),["mdat"]);if(0===i.length)return void n(new Error("Could not parse IMSC1 mdat"));const o=i.map((t=>et(t))),a=function(t,e,r=1,n=!1){return on(t,e,1/r,n)}(e.baseTime,1,e.timescale);try{o.forEach((t=>r(function(t,e){const r=(new DOMParser).parseFromString(t,"text/xml").getElementsByTagName("tt")[0];if(!r)throw new Error("Invalid ttml");const n={frameRate:30,subFrameRate:1,frameRateMultiplier:0,tickRate:0},i=Object.keys(n).reduce(((t,e)=>(t[e]=r.getAttribute(`ttp:${e}`)||n[e],t)),{}),o="preserve"!==r.getAttribute("xml:space"),a=_i(Li(r,"styling","style")),s=_i(Li(r,"layout","region")),c=Li(r,"body","[begin]");return [].map.call(c,(t=>{const r=ki(t,o);if(!r||!t.hasAttribute("begin"))return null;const n=Ti(t.getAttribute("begin"),i),c=Ti(t.getAttribute("dur"),i);let l=Ti(t.getAttribute("end"),i);if(null===n)throw Si(t);if(null===l){if(null===c)throw Si(t);l=n+c;}const f=new oi(n-e,l-e,r);f.id=mi(f.startTime,f.endTime,f.text);const h=function(t,e,r){const n="http://www.w3.org/ns/ttml#styling";let i=null;const o=null!=t&&t.hasAttribute("style")?t.getAttribute("style"):null;return o&&r.hasOwnProperty(o)&&(i=r[o]),["displayAlign","textAlign","color","backgroundColor","fontSize","fontFamily"].reduce(((r,o)=>{const a=Ci(e,n,o)||Ci(t,n,o)||Ci(i,n,o);return a&&(r[o]=a),r}),{})}(s[t.getAttribute("region")],a[t.getAttribute("style")],a),{textAlign:d}=h;if(d){const t=Ei[d];t&&(f.lineAlign=t),f.align=d;}return u(f,h),f})).filter((t=>null!==t))}(t,a))));}catch(t){n(t);}}function Li(t,e,r){const n=t.getElementsByTagName(e)[0];return n?[].slice.call(n.querySelectorAll(r)):[]}function _i(t){return t.reduce(((t,e)=>{const r=e.getAttribute("xml:id");return r&&(t[r]=e),t}),{})}function ki(t,e){return [].slice.call(t.childNodes).reduce(((t,r,n)=>{var i;return "br"===r.nodeName&&n?t+"\n":null!=(i=r.childNodes)&&i.length?ki(r,e):e?t+r.textContent.trim().replace(/\s+/g," "):t+r.textContent}),"")}function Ci(t,e,r){return t&&t.hasAttributeNS(e,r)?t.getAttributeNS(e,r):null}function Si(t){return new Error(`Could not parse ttml timestamp ${t}`)}function Ti(t,e){if(!t)return null;let r=si(t);return null===r&&(wi.test(t)?r=function(t,e){const r=wi.exec(t),n=(0|r[4])+(0|r[5])/e.subFrameRate;return 3600*(0|r[1])+60*(0|r[2])+(0|r[3])+n/e.frameRate}(t,e):Ai.test(t)&&(r=function(t,e){const r=Ai.exec(t),n=Number(r[1]);switch(r[2]){case"h":return 3600*n;case"m":return 60*n;case"ms":return 1e3*n;case"f":return n/e.frameRate;case"t":return n/e.tickRate}return n}(t,e))),r}function Pi(t,e){return !!t&&t.label===e.name&&!(t.textTrack1||t.textTrack2)}class Oi{constructor(t){this.hls=void 0,this.autoLevelCapping=void 0,this.firstLevel=void 0,this.media=void 0,this.restrictedLevels=void 0,this.timer=void 0,this.clientRect=void 0,this.streamController=void 0,this.hls=t,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.firstLevel=-1,this.media=null,this.restrictedLevels=[],this.timer=void 0,this.clientRect=null,this.registerListeners();}setStreamController(t){this.streamController=t;}destroy(){this.unregisterListener(),this.hls.config.capLevelToPlayerSize&&this.stopCapping(),this.media=null,this.clientRect=null,this.hls=this.streamController=null;}registerListeners(){const{hls:t}=this;t.on(f.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),t.on(f.MEDIA_ATTACHING,this.onMediaAttaching,this),t.on(f.MANIFEST_PARSED,this.onManifestParsed,this),t.on(f.BUFFER_CODECS,this.onBufferCodecs,this),t.on(f.MEDIA_DETACHING,this.onMediaDetaching,this);}unregisterListener(){const{hls:t}=this;t.off(f.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),t.off(f.MEDIA_ATTACHING,this.onMediaAttaching,this),t.off(f.MANIFEST_PARSED,this.onManifestParsed,this),t.off(f.BUFFER_CODECS,this.onBufferCodecs,this),t.off(f.MEDIA_DETACHING,this.onMediaDetaching,this);}onFpsDropLevelCapping(t,e){const r=this.hls.levels[e.droppedLevel];this.isLevelAllowed(r)&&this.restrictedLevels.push({bitrate:r.bitrate,height:r.height,width:r.width});}onMediaAttaching(t,e){this.media=e.media instanceof HTMLVideoElement?e.media:null,this.clientRect=null;}onManifestParsed(t,e){const r=this.hls;this.restrictedLevels=[],this.firstLevel=e.firstLevel,r.config.capLevelToPlayerSize&&e.video&&this.startCapping();}onBufferCodecs(t,e){this.hls.config.capLevelToPlayerSize&&e.video&&this.startCapping();}onMediaDetaching(){this.stopCapping();}detectPlayerSize(){if(this.media&&this.mediaHeight>0&&this.mediaWidth>0){const t=this.hls.levels;if(t.length){const e=this.hls;e.autoLevelCapping=this.getMaxLevel(t.length-1),e.autoLevelCapping>this.autoLevelCapping&&this.streamController&&this.streamController.nextLevelSwitch(),this.autoLevelCapping=e.autoLevelCapping;}}}getMaxLevel(t){const e=this.hls.levels;if(!e.length)return -1;const r=e.filter(((e,r)=>this.isLevelAllowed(e)&&r<=t));return this.clientRect=null,Oi.getMaxLevelByMediaSize(r,this.mediaWidth,this.mediaHeight)}startCapping(){this.timer||(this.autoLevelCapping=Number.POSITIVE_INFINITY,this.hls.firstLevel=this.getMaxLevel(this.firstLevel),self.clearInterval(this.timer),this.timer=self.setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize());}stopCapping(){this.restrictedLevels=[],this.firstLevel=-1,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.timer&&(self.clearInterval(this.timer),this.timer=void 0);}getDimensions(){if(this.clientRect)return this.clientRect;const t=this.media,e={width:0,height:0};if(t){const r=t.getBoundingClientRect();e.width=r.width,e.height=r.height,e.width||e.height||(e.width=r.right-r.left||t.width||0,e.height=r.bottom-r.top||t.height||0);}return this.clientRect=e,e}get mediaWidth(){return this.getDimensions().width*this.contentScaleFactor}get mediaHeight(){return this.getDimensions().height*this.contentScaleFactor}get contentScaleFactor(){let t=1;if(!this.hls.config.ignoreDevicePixelRatio)try{t=self.devicePixelRatio;}catch(t){}return t}isLevelAllowed(t){return !this.restrictedLevels.some((e=>t.bitrate===e.bitrate&&t.width===e.width&&t.height===e.height))}static getMaxLevelByMediaSize(t,e,r){if(null==t||!t.length)return -1;let n=t.length-1;for(let a=0;a<t.length;a+=1){const s=t[a];if((s.width>=e||s.height>=r)&&(i=s,!(o=t[a+1])||i.width!==o.width||i.height!==o.height)){n=a;break}}var i,o;return n}}const Ii="[eme]";class Ri{constructor(t){this.hls=void 0,this.config=void 0,this.media=null,this.keyFormatPromise=null,this.keySystemAccessPromises={},this._requestLicenseFailureCount=0,this.mediaKeySessions=[],this.keyIdToKeySessionPromise={},this.setMediaKeysQueue=Ri.CDMCleanupPromise?[Ri.CDMCleanupPromise]:[],this.onMediaEncrypted=this._onMediaEncrypted.bind(this),this.onWaitingForKey=this._onWaitingForKey.bind(this),this.debug=g.debug.bind(g,Ii),this.log=g.log.bind(g,Ii),this.warn=g.warn.bind(g,Ii),this.error=g.error.bind(g,Ii),this.hls=t,this.config=t.config,this.registerListeners();}destroy(){this.unregisterListeners(),this.onMediaDetached();const t=this.config;t.requestMediaKeySystemAccessFunc=null,t.licenseXhrSetup=t.licenseResponseCallback=void 0,t.drmSystems=t.drmSystemOptions={},this.hls=this.onMediaEncrypted=this.onWaitingForKey=this.keyIdToKeySessionPromise=null,this.config=null;}registerListeners(){this.hls.on(f.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(f.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.on(f.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.on(f.MANIFEST_LOADED,this.onManifestLoaded,this);}unregisterListeners(){this.hls.off(f.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.off(f.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.off(f.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.off(f.MANIFEST_LOADED,this.onManifestLoaded,this);}getLicenseServerUrl(t){const{drmSystems:e,widevineLicenseUrl:r}=this.config,n=e[t];if(n)return n.licenseUrl;if(t===O.WIDEVINE&&r)return r;throw new Error(`no license server URL configured for key-system "${t}"`)}getServerCertificateUrl(t){const{drmSystems:e}=this.config,r=e[t];if(r)return r.serverCertificateUrl;this.log(`No Server Certificate in config.drmSystems["${t}"]`);}attemptKeySystemAccess(t){const e=this.hls.levels,r=(t,e,r)=>!!t&&r.indexOf(t)===e,n=e.map((t=>t.audioCodec)).filter(r),i=e.map((t=>t.videoCodec)).filter(r);return n.length+i.length===0&&i.push("avc1.42e01e"),new Promise(((e,r)=>{const o=t=>{const a=t.shift();this.getMediaKeysPromise(a,n,i).then((t=>e({keySystem:a,mediaKeys:t}))).catch((e=>{t.length?o(t):r(e instanceof Di?e:new Di({type:h.KEY_SYSTEM_ERROR,details:d.KEY_SYSTEM_NO_ACCESS,error:e,fatal:!0},e.message));}));};o(t);}))}requestMediaKeySystemAccess(t,e){const{requestMediaKeySystemAccessFunc:r}=this.config;if("function"!=typeof r){let t=`Configured requestMediaKeySystemAccess is not a function ${r}`;return null===U&&"http:"===self.location.protocol&&(t=`navigator.requestMediaKeySystemAccess is not available over insecure protocol ${location.protocol}`),Promise.reject(new Error(t))}return r(t,e)}getMediaKeysPromise(t,e,r){const n=function(t,e,r,n){let i;switch(t){case O.FAIRPLAY:i=["cenc","sinf"];break;case O.WIDEVINE:case O.PLAYREADY:i=["cenc"];break;case O.CLEARKEY:i=["cenc","keyids"];break;default:throw new Error(`Unknown key-system: ${t}`)}return function(t,e,r,n){return [{initDataTypes:t,persistentState:n.persistentState||"not-allowed",distinctiveIdentifier:n.distinctiveIdentifier||"not-allowed",sessionTypes:n.sessionTypes||[n.sessionType||"temporary"],audioCapabilities:e.map((t=>({contentType:`audio/mp4; codecs="${t}"`,robustness:n.audioRobustness||"",encryptionScheme:n.audioEncryptionScheme||null}))),videoCapabilities:r.map((t=>({contentType:`video/mp4; codecs="${t}"`,robustness:n.videoRobustness||"",encryptionScheme:n.videoEncryptionScheme||null})))}]}(i,e,r,n)}(t,e,r,this.config.drmSystemOptions),i=this.keySystemAccessPromises[t];let o=null==i?void 0:i.keySystemAccess;if(!o){this.log(`Requesting encrypted media "${t}" key-system access with config: ${JSON.stringify(n)}`),o=this.requestMediaKeySystemAccess(t,n);const e=this.keySystemAccessPromises[t]={keySystemAccess:o};return o.catch((e=>{this.log(`Failed to obtain access to key-system "${t}": ${e}`);})),o.then((r=>{this.log(`Access for key-system "${r.keySystem}" obtained`);const n=this.fetchServerCertificate(t);return this.log(`Create media-keys for "${t}"`),e.mediaKeys=r.createMediaKeys().then((e=>(this.log(`Media-keys created for "${t}"`),n.then((r=>r?this.setMediaKeysServerCertificate(e,t,r):e))))),e.mediaKeys.catch((e=>{this.error(`Failed to create media-keys for "${t}"}: ${e}`);})),e.mediaKeys}))}return o.then((()=>i.mediaKeys))}createMediaKeySessionContext({decryptdata:t,keySystem:e,mediaKeys:r}){this.log(`Creating key-system session "${e}" keyId: ${it(t.keyId||[])}`);const n=r.createSession(),i={decryptdata:t,keySystem:e,mediaKeys:r,mediaKeysSession:n,keyStatus:"status-pending"};return this.mediaKeySessions.push(i),i}renewKeySession(t){const e=t.decryptdata;if(e.pssh){const r=this.createMediaKeySessionContext(t),n=this.getKeyIdString(e),i="cenc";this.keyIdToKeySessionPromise[n]=this.generateRequestWithPreferredKeySession(r,i,e.pssh,"expired");}else this.warn("Could not renew expired session. Missing pssh initData.");this.removeSession(t);}getKeyIdString(t){if(!t)throw new Error("Could not read keyId of undefined decryptdata");if(null===t.keyId)throw new Error("keyId is null");return it(t.keyId)}updateKeySession(t,e){var r;const n=t.mediaKeysSession;return this.log(`Updating key-session "${n.sessionId}" for keyID ${it((null==(r=t.decryptdata)?void 0:r.keyId)||[])}\n      } (data length: ${e?e.byteLength:e})`),n.update(e)}selectKeySystemFormat(t){const e=Object.keys(t.levelkeys||{});return this.keyFormatPromise||(this.log(`Selecting key-system from fragment (sn: ${t.sn} ${t.type}: ${t.level}) key formats ${e.join(", ")}`),this.keyFormatPromise=this.getKeyFormatPromise(e)),this.keyFormatPromise}getKeyFormatPromise(t){return new Promise(((e,r)=>{const n=M(this.config),i=t.map(B).filter((t=>!!t&&-1!==n.indexOf(t)));return this.getKeySystemSelectionPromise(i).then((({keySystem:t})=>{const n=N(t);n?e(n):r(new Error(`Unable to find format for key-system "${t}"`));})).catch(r)}))}loadKey(t){const e=t.keyInfo.decryptdata,r=this.getKeyIdString(e),n=`(keyId: ${r} format: "${e.keyFormat}" method: ${e.method} uri: ${e.uri})`;this.log(`Starting session for key ${n}`);let i=this.keyIdToKeySessionPromise[r];return i||(i=this.keyIdToKeySessionPromise[r]=this.getKeySystemForKeyPromise(e).then((({keySystem:r,mediaKeys:i})=>(this.throwIfDestroyed(),this.log(`Handle encrypted media sn: ${t.frag.sn} ${t.frag.type}: ${t.frag.level} using key ${n}`),this.attemptSetMediaKeys(r,i).then((()=>{this.throwIfDestroyed();const t=this.createMediaKeySessionContext({keySystem:r,mediaKeys:i,decryptdata:e});return this.generateRequestWithPreferredKeySession(t,"cenc",e.pssh,"playlist-key")}))))),i.catch((t=>this.handleError(t)))),i}throwIfDestroyed(t="Invalid state"){if(!this.hls)throw new Error("invalid state")}handleError(t){this.hls&&(this.error(t.message),t instanceof Di?this.hls.trigger(f.ERROR,t.data):this.hls.trigger(f.ERROR,{type:h.KEY_SYSTEM_ERROR,details:d.KEY_SYSTEM_NO_KEYS,error:t,fatal:!0}));}getKeySystemForKeyPromise(t){const e=this.getKeyIdString(t),r=this.keyIdToKeySessionPromise[e];if(!r){const e=B(t.keyFormat),r=e?[e]:M(this.config);return this.attemptKeySystemAccess(r)}return r}getKeySystemSelectionPromise(t){if(t.length||(t=M(this.config)),0===t.length)throw new Di({type:h.KEY_SYSTEM_ERROR,details:d.KEY_SYSTEM_NO_CONFIGURED_LICENSE,fatal:!0},`Missing key-system license configuration options ${JSON.stringify({drmSystems:this.config.drmSystems})}`);return this.attemptKeySystemAccess(t)}_onMediaEncrypted(t){const{initDataType:e,initData:r}=t;if(this.debug(`"${t.type}" event: init data type: "${e}"`),null===r)return;let n,i;if("sinf"===e&&this.config.drmSystems[O.FAIRPLAY]){const t=ct(new Uint8Array(r));try{const e=T(JSON.parse(t).sinf),r=vt(new Uint8Array(e));if(!r)return;n=r.subarray(8,24),i=O.FAIRPLAY;}catch(t){return void this.warn('Failed to parse sinf "encrypted" event message initData')}}else {const t=function(t){if(!(t instanceof ArrayBuffer)||t.byteLength<32)return null;const e={version:0,systemId:"",kids:null,data:null},r=new DataView(t),n=r.getUint32(0);if(t.byteLength!==n&&n>44)return null;if(1886614376!==r.getUint32(4))return null;if(e.version=r.getUint32(8)>>>24,e.version>1)return null;e.systemId=it(new Uint8Array(t,12,16));const i=r.getUint32(28);if(0===e.version){if(n-32<i)return null;e.data=new Uint8Array(t,32,i);}else if(1===e.version){e.kids=[];for(let r=0;r<i;r++)e.kids.push(new Uint8Array(t,32+16*r,16));}return e}(r);if(null===t)return;0===t.version&&t.systemId===F&&t.data&&(n=t.data.subarray(8,24)),i=function(t){if(t===F)return O.WIDEVINE}(t.systemId);}if(!i||!n)return;const o=it(n),{keyIdToKeySessionPromise:a,mediaKeySessions:s}=this;let c=a[o];for(let t=0;t<s.length;t++){const i=s[t],u=i.decryptdata;if(u.pssh||!u.keyId)continue;const l=it(u.keyId);if(o===l||-1!==u.uri.replace(/-/g,"").indexOf(o)){c=a[l],delete a[l],u.pssh=new Uint8Array(r),u.keyId=n,c=a[o]=c.then((()=>this.generateRequestWithPreferredKeySession(i,e,r,"encrypted-event-key-match")));break}}c||(c=a[o]=this.getKeySystemSelectionPromise([i]).then((({keySystem:t,mediaKeys:i})=>{var a;this.throwIfDestroyed();const s=new Lt("ISO-23001-7",o,null!=(a=N(t))?a:"");return s.pssh=new Uint8Array(r),s.keyId=n,this.attemptSetMediaKeys(t,i).then((()=>{this.throwIfDestroyed();const n=this.createMediaKeySessionContext({decryptdata:s,keySystem:t,mediaKeys:i});return this.generateRequestWithPreferredKeySession(n,e,r,"encrypted-event-no-match")}))}))),c.catch((t=>this.handleError(t)));}_onWaitingForKey(t){this.log(`"${t.type}" event`);}attemptSetMediaKeys(t,e){const r=this.setMediaKeysQueue.slice();this.log(`Setting media-keys for "${t}"`);const n=Promise.all(r).then((()=>{if(!this.media)throw new Error("Attempted to set mediaKeys without media element attached");return this.media.setMediaKeys(e)}));return this.setMediaKeysQueue.push(n),n.then((()=>{this.log(`Media-keys set for "${t}"`),r.push(n),this.setMediaKeysQueue=this.setMediaKeysQueue.filter((t=>-1===r.indexOf(t)));}))}generateRequestWithPreferredKeySession(t,e,r,n){var i,o;const a=null==(i=this.config.drmSystems)||null==(o=i[t.keySystem])?void 0:o.generateRequest;if(a)try{const n=a.call(this.hls,e,r,t);if(!n)throw new Error("Invalid response from configured generateRequest filter");e=n.initDataType,r=t.decryptdata.pssh=n.initData?new Uint8Array(n.initData):null;}catch(t){var s;if(this.warn(t.message),null!=(s=this.hls)&&s.config.debug)throw t}if(null===r)return this.log(`Skipping key-session request for "${n}" (no initData)`),Promise.resolve(t);const c=this.getKeyIdString(t.decryptdata);this.log(`Generating key-session request for "${n}": ${c} (init data type: ${e} length: ${r?r.byteLength:null})`);const u=new Ln;t.mediaKeysSession.onmessage=e=>{const r=t.mediaKeysSession;if(!r)return void u.emit("error",new Error("invalid state"));const{messageType:n,message:i}=e;this.log(`"${n}" message event for session "${r.sessionId}" message size: ${i.byteLength}`),"license-request"===n||"license-renewal"===n?this.renewLicense(t,i).catch((t=>{this.handleError(t),u.emit("error",t);})):"license-release"===n?t.keySystem===O.FAIRPLAY&&(this.updateKeySession(t,P("acknowledged")),this.removeSession(t)):this.warn(`unhandled media key message type "${n}"`);},t.mediaKeysSession.onkeystatuseschange=e=>{if(!t.mediaKeysSession)return void u.emit("error",new Error("invalid state"));this.onKeyStatusChange(t);const r=t.keyStatus;u.emit("keyStatus",r),"expired"===r&&(this.warn(`${t.keySystem} expired for key ${c}`),this.renewKeySession(t));};const l=new Promise(((t,e)=>{u.on("error",e),u.on("keyStatus",(r=>{r.startsWith("usable")?t():"output-restricted"===r?e(new Di({type:h.KEY_SYSTEM_ERROR,details:d.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED,fatal:!1},"HDCP level output restricted")):"internal-error"===r?e(new Di({type:h.KEY_SYSTEM_ERROR,details:d.KEY_SYSTEM_STATUS_INTERNAL_ERROR,fatal:!0},`key status changed to "${r}"`)):"expired"===r?e(new Error("key expired while generating request")):this.warn(`unhandled key status change "${r}"`);}));}));return t.mediaKeysSession.generateRequest(e,r).then((()=>{var e;this.log(`Request generated for key-session "${null==(e=t.mediaKeysSession)?void 0:e.sessionId}" keyId: ${c}`);})).catch((t=>{throw new Di({type:h.KEY_SYSTEM_ERROR,details:d.KEY_SYSTEM_NO_SESSION,error:t,fatal:!1},`Error generating key-session request: ${t}`)})).then((()=>l)).catch((e=>{throw u.removeAllListeners(),this.removeSession(t),e})).then((()=>(u.removeAllListeners(),t)))}onKeyStatusChange(t){t.mediaKeysSession.keyStatuses.forEach(((e,r)=>{this.log(`key status change "${e}" for keyStatuses keyId: ${it("buffer"in r?new Uint8Array(r.buffer,r.byteOffset,r.byteLength):new Uint8Array(r))} session keyId: ${it(new Uint8Array(t.decryptdata.keyId||[]))} uri: ${t.decryptdata.uri}`),t.keyStatus=e;}));}fetchServerCertificate(t){const e=this.config,r=new(e.loader)(e),n=this.getServerCertificateUrl(t);return n?(this.log(`Fetching serverCertificate for "${t}"`),new Promise(((i,o)=>{const a={responseType:"arraybuffer",url:n},c=e.certLoadPolicy.default,u={loadPolicy:c,timeout:c.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},l={onSuccess:(t,e,r,n)=>{i(t.data);},onError:(e,r,i,c)=>{o(new Di({type:h.KEY_SYSTEM_ERROR,details:d.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED,fatal:!0,networkDetails:i,response:s({url:a.url,data:void 0},e)},`"${t}" certificate request failed (${n}). Status: ${e.code} (${e.text})`));},onTimeout:(e,r,i)=>{o(new Di({type:h.KEY_SYSTEM_ERROR,details:d.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED,fatal:!0,networkDetails:i,response:{url:a.url,data:void 0}},`"${t}" certificate request timed out (${n})`));},onAbort:(t,e,r)=>{o(new Error("aborted"));}};r.load(a,u,l);}))):Promise.resolve()}setMediaKeysServerCertificate(t,e,r){return new Promise(((n,i)=>{t.setServerCertificate(r).then((i=>{this.log(`setServerCertificate ${i?"success":"not supported by CDM"} (${null==r?void 0:r.byteLength}) on "${e}"`),n(t);})).catch((t=>{i(new Di({type:h.KEY_SYSTEM_ERROR,details:d.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED,error:t,fatal:!0},t.message));}));}))}renewLicense(t,e){return this.requestLicense(t,new Uint8Array(e)).then((e=>this.updateKeySession(t,new Uint8Array(e)).catch((t=>{throw new Di({type:h.KEY_SYSTEM_ERROR,details:d.KEY_SYSTEM_SESSION_UPDATE_FAILED,error:t,fatal:!0},t.message)}))))}setupLicenseXHR(t,e,r,n){const i=this.config.licenseXhrSetup;return i?Promise.resolve().then((()=>{if(!r.decryptdata)throw new Error("Key removed");return i.call(this.hls,t,e,r,n)})).catch((o=>{if(!r.decryptdata)throw o;return t.open("POST",e,!0),i.call(this.hls,t,e,r,n)})).then((r=>(t.readyState||t.open("POST",e,!0),{xhr:t,licenseChallenge:r||n}))):(t.open("POST",e,!0),Promise.resolve({xhr:t,licenseChallenge:n}))}requestLicense(t,e){const r=this.config.keyLoadPolicy.default;return new Promise(((n,i)=>{const o=this.getLicenseServerUrl(t.keySystem);this.log(`Sending license request to URL: ${o}`);const a=new XMLHttpRequest;a.responseType="arraybuffer",a.onreadystatechange=()=>{if(!this.hls||!t.mediaKeysSession)return i(new Error("invalid state"));if(4===a.readyState)if(200===a.status){this._requestLicenseFailureCount=0;let e=a.response;this.log(`License received ${e instanceof ArrayBuffer?e.byteLength:e}`);const r=this.config.licenseResponseCallback;if(r)try{e=r.call(this.hls,a,o,t);}catch(t){this.error(t);}n(e);}else {const s=r.errorRetry,c=s?s.maxNumRetry:0;if(this._requestLicenseFailureCount++,this._requestLicenseFailureCount>c||a.status>=400&&a.status<500)i(new Di({type:h.KEY_SYSTEM_ERROR,details:d.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0,networkDetails:a,response:{url:o,data:void 0,code:a.status,text:a.statusText}},`License Request XHR failed (${o}). Status: ${a.status} (${a.statusText})`));else {const r=c-this._requestLicenseFailureCount+1;this.warn(`Retrying license request, ${r} attempts left`),this.requestLicense(t,e).then(n,i);}}},t.licenseXhr&&t.licenseXhr.readyState!==XMLHttpRequest.DONE&&t.licenseXhr.abort(),t.licenseXhr=a,this.setupLicenseXHR(a,o,t,e).then((({xhr:t,licenseChallenge:e})=>{t.send(e);}));}))}onMediaAttached(t,e){if(!this.config.emeEnabled)return;const r=e.media;this.media=r,r.addEventListener("encrypted",this.onMediaEncrypted),r.addEventListener("waitingforkey",this.onWaitingForKey);}onMediaDetached(){const t=this.media,e=this.mediaKeySessions;t&&(t.removeEventListener("encrypted",this.onMediaEncrypted),t.removeEventListener("waitingforkey",this.onWaitingForKey),this.media=null),this._requestLicenseFailureCount=0,this.setMediaKeysQueue=[],this.mediaKeySessions=[],this.keyIdToKeySessionPromise={},Lt.clearKeyUriToKeyIdMap();const r=e.length;Ri.CDMCleanupPromise=Promise.all(e.map((t=>this.removeSession(t))).concat(null==t?void 0:t.setMediaKeys(null).catch((e=>{this.log(`Could not clear media keys: ${e}. media.src: ${null==t?void 0:t.src}`);})))).then((()=>{r&&(this.log("finished closing key sessions and clearing media keys"),e.length=0);})).catch((e=>{this.log(`Could not close sessions and clear media keys: ${e}. media.src: ${null==t?void 0:t.src}`);}));}onManifestLoading(){this.keyFormatPromise=null;}onManifestLoaded(t,{sessionKeys:e}){if(e&&this.config.emeEnabled&&!this.keyFormatPromise){const t=e.reduce(((t,e)=>(-1===t.indexOf(e.keyFormat)&&t.push(e.keyFormat),t)),[]);this.log(`Selecting key-system from session-keys ${t.join(", ")}`),this.keyFormatPromise=this.getKeyFormatPromise(t);}}removeSession(t){const{mediaKeysSession:e,licenseXhr:r}=t;if(e){this.log(`Remove licenses and keys and close session ${e.sessionId}`),e.onmessage=null,e.onkeystatuseschange=null,r&&r.readyState!==XMLHttpRequest.DONE&&r.abort(),t.mediaKeysSession=t.decryptdata=t.licenseXhr=void 0;const n=this.mediaKeySessions.indexOf(t);return n>-1&&this.mediaKeySessions.splice(n,1),e.remove().catch((t=>{this.log(`Could not remove session: ${t}`);})).then((()=>e.close())).catch((t=>{this.log(`Could not close session: ${t}`);}))}}}Ri.CDMCleanupPromise=void 0;class Di extends Error{constructor(t,e){super(e),this.data=void 0,t.error||(t.error=new Error(e)),this.data=t,t.err=t.error;}}var ji="a",Bi="av";class Fi{constructor(t){this.hls=void 0,this.config=void 0,this.media=void 0,this.sid=void 0,this.cid=void 0,this.useHeaders=!1,this.initialized=!1,this.starved=!1,this.buffering=!0,this.audioBuffer=void 0,this.videoBuffer=void 0,this.onWaiting=()=>{this.initialized&&(this.starved=!0),this.buffering=!0;},this.onPlaying=()=>{this.initialized||(this.initialized=!0),this.buffering=!1;},this.applyPlaylistData=t=>{try{this.apply(t,{ot:"m",su:!this.initialized});}catch(t){g.warn("Could not generate manifest CMCD data.",t);}},this.applyFragmentData=t=>{try{const e=t.frag,r=this.hls.levels[e.level],n=this.getObjectType(e),i={d:1e3*e.duration,ot:n};"v"!==n&&n!==ji&&n!=Bi||(i.br=r.bitrate/1e3,i.tb=this.getTopBandwidth(n)/1e3,i.bl=this.getBufferLength(n)),this.apply(t,i);}catch(t){g.warn("Could not generate segment CMCD data.",t);}},this.hls=t;const e=this.config=t.config,{cmcd:r}=e;null!=r&&(e.pLoader=this.createPlaylistLoader(),e.fLoader=this.createFragmentLoader(),this.sid=r.sessionId||Fi.uuid(),this.cid=r.contentId,this.useHeaders=!0===r.useHeaders,this.registerListeners());}registerListeners(){const t=this.hls;t.on(f.MEDIA_ATTACHED,this.onMediaAttached,this),t.on(f.MEDIA_DETACHED,this.onMediaDetached,this),t.on(f.BUFFER_CREATED,this.onBufferCreated,this);}unregisterListeners(){const t=this.hls;t.off(f.MEDIA_ATTACHED,this.onMediaAttached,this),t.off(f.MEDIA_DETACHED,this.onMediaDetached,this),t.off(f.BUFFER_CREATED,this.onBufferCreated,this);}destroy(){this.unregisterListeners(),this.onMediaDetached(),this.hls=this.config=this.audioBuffer=this.videoBuffer=null;}onMediaAttached(t,e){this.media=e.media,this.media.addEventListener("waiting",this.onWaiting),this.media.addEventListener("playing",this.onPlaying);}onMediaDetached(){this.media&&(this.media.removeEventListener("waiting",this.onWaiting),this.media.removeEventListener("playing",this.onPlaying),this.media=null);}onBufferCreated(t,e){var r,n;this.audioBuffer=null==(r=e.tracks.audio)?void 0:r.buffer,this.videoBuffer=null==(n=e.tracks.video)?void 0:n.buffer;}createData(){var t;return {v:1,sf:"h",sid:this.sid,cid:this.cid,pr:null==(t=this.media)?void 0:t.playbackRate,mtp:this.hls.bandwidthEstimate/1e3}}apply(t,e={}){u(e,this.createData());const r="i"===e.ot||"v"===e.ot||e.ot===Bi;if(this.starved&&r&&(e.bs=!0,e.su=!0,this.starved=!1),null==e.su&&(e.su=this.buffering),this.useHeaders){const r=Fi.toHeaders(e);if(!Object.keys(r).length)return;t.headers||(t.headers={}),u(t.headers,r);}else {const r=Fi.toQuery(e);if(!r)return;t.url=Fi.appendQueryToUri(t.url,r);}}getObjectType(t){const{type:e}=t;return "subtitle"===e?"tt":"initSegment"===t.sn?"i":"audio"===e?ji:"main"===e?this.hls.audioTracks.length?"v":Bi:void 0}getTopBandwidth(t){let e,r=0;const n=this.hls;if(t===ji)e=n.audioTracks;else {const t=n.maxAutoLevel,r=t>-1?t+1:n.levels.length;e=n.levels.slice(0,r);}for(const t of e)t.bitrate>r&&(r=t.bitrate);return r>0?r:NaN}getBufferLength(t){const e=this.hls.media,r=t===ji?this.audioBuffer:this.videoBuffer;return r&&e?1e3*Qe.bufferInfo(r,e.currentTime,this.config.maxBufferHole).len:NaN}createPlaylistLoader(){const{pLoader:t}=this.config,e=this.applyPlaylistData,r=t||this.config.loader;return class{constructor(t){this.loader=void 0,this.loader=new r(t);}get stats(){return this.loader.stats}get context(){return this.loader.context}destroy(){this.loader.destroy();}abort(){this.loader.abort();}load(t,r,n){e(t),this.loader.load(t,r,n);}}}createFragmentLoader(){const{fLoader:t}=this.config,e=this.applyFragmentData,r=t||this.config.loader;return class{constructor(t){this.loader=void 0,this.loader=new r(t);}get stats(){return this.loader.stats}get context(){return this.loader.context}destroy(){this.loader.destroy();}abort(){this.loader.abort();}load(t,r,n){e(t),this.loader.load(t,r,n);}}}static uuid(){const t=URL.createObjectURL(new Blob),e=t.toString();return URL.revokeObjectURL(t),e.slice(e.lastIndexOf("/")+1)}static serialize(t){const e=[],r=t=>!Number.isNaN(t)&&null!=t&&""!==t&&!1!==t,n=t=>Math.round(t),i=t=>100*n(t/100),o={br:n,d:n,bl:i,dl:i,mtp:i,nor:t=>encodeURIComponent(t),rtp:i,tb:n},a=Object.keys(t||{}).sort();for(const n of a){let i=t[n];if(!r(i))continue;if("v"===n&&1===i)continue;if("pr"==n&&1===i)continue;const a=o[n];a&&(i=a(i));const s=typeof i;let c;c="ot"===n||"sf"===n||"st"===n?`${n}=${i}`:"boolean"===s?n:"number"===s?`${n}=${i}`:`${n}=${JSON.stringify(i)}`,e.push(c);}return e.join(",")}static toHeaders(t){const e=Object.keys(t),r={},n=["Object","Request","Session","Status"],i=[{},{},{},{}],o={br:0,d:0,ot:0,tb:0,bl:1,dl:1,mtp:1,nor:1,nrr:1,su:1,cid:2,pr:2,sf:2,sid:2,st:2,v:2,bs:3,rtp:3};for(const r of e)i[null!=o[r]?o[r]:1][r]=t[r];for(let t=0;t<i.length;t++){const e=Fi.serialize(i[t]);e&&(r[`CMCD-${n[t]}`]=e);}return r}static toQuery(t){return `CMCD=${encodeURIComponent(Fi.serialize(t))}`}static appendQueryToUri(t,e){if(!e)return t;const r=t.includes("?")?"&":"?";return `${t}${r}${e}`}}function Ni(t,e,r,n){t&&Object.keys(e).forEach((i=>{const o=t.filter((t=>t.groupId===i)).map((t=>{const o=u({},t);return o.details=void 0,o.attrs=new w(o.attrs),o.url=o.attrs.URI=Mi(t.url,t.attrs["STABLE-RENDITION-ID"],"PER-RENDITION-URIS",r),o.groupId=o.attrs["GROUP-ID"]=e[i],o.attrs["PATHWAY-ID"]=n,o}));t.push(...o);}));}function Mi(t,e,r,n){const{HOST:i,PARAMS:o,[r]:a}=n;let s;e&&(s=null==a?void 0:a[e],s&&(t=s));const c=new self.URL(t);return i&&!s&&(c.host=i),o&&Object.keys(o).sort().forEach((t=>{t&&c.searchParams.set(t,o[t]);})),c.href}const Ui=/^age:\s*[\d.]+\s*$/im;class Gi{constructor(t){this.xhrSetup=void 0,this.requestTimeout=void 0,this.retryTimeout=void 0,this.retryDelay=void 0,this.config=null,this.callbacks=null,this.context=void 0,this.loader=null,this.stats=void 0,this.xhrSetup=t&&t.xhrSetup||null,this.stats=new x,this.retryDelay=0;}destroy(){this.callbacks=null,this.abortInternal(),this.loader=null,this.config=null;}abortInternal(){const t=this.loader;self.clearTimeout(this.requestTimeout),self.clearTimeout(this.retryTimeout),t&&(t.onreadystatechange=null,t.onprogress=null,4!==t.readyState&&(this.stats.aborted=!0,t.abort()));}abort(){var t;this.abortInternal(),null!=(t=this.callbacks)&&t.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.loader);}load(t,e,r){if(this.stats.loading.start)throw new Error("Loader can only be used once.");this.stats.loading.start=self.performance.now(),this.context=t,this.config=e,this.callbacks=r,this.loadInternal();}loadInternal(){const{config:t,context:e}=this;if(!t)return;const r=this.loader=new self.XMLHttpRequest,n=this.stats;n.loading.first=0,n.loaded=0;const i=this.xhrSetup;i?Promise.resolve().then((()=>{if(!this.stats.aborted)return i(r,e.url)})).catch((t=>(r.open("GET",e.url,!0),i(r,e.url)))).then((()=>{this.stats.aborted||this.openAndSendXhr(r,e,t);})).catch((t=>{this.callbacks.onError({code:r.status,text:t.message},e,r,n);})):this.openAndSendXhr(r,e,t);}openAndSendXhr(t,e,r){t.readyState||t.open("GET",e.url,!0);const n=this.context.headers,{maxTimeToFirstByteMs:i,maxLoadTimeMs:o}=r.loadPolicy;if(n)for(const e in n)t.setRequestHeader(e,n[e]);e.rangeEnd&&t.setRequestHeader("Range","bytes="+e.rangeStart+"-"+(e.rangeEnd-1)),t.onreadystatechange=this.readystatechange.bind(this),t.onprogress=this.loadprogress.bind(this),t.responseType=e.responseType,self.clearTimeout(this.requestTimeout),r.timeout=i&&l(i)?i:o,this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),r.timeout),t.send();}readystatechange(){const{context:t,loader:e,stats:r}=this;if(!t||!e)return;const n=e.readyState,i=this.config;if(!r.aborted&&n>=2&&(0===r.loading.first&&(r.loading.first=Math.max(self.performance.now(),r.loading.start),i.timeout!==i.loadPolicy.maxLoadTimeMs&&(self.clearTimeout(this.requestTimeout),i.timeout=i.loadPolicy.maxLoadTimeMs,this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),i.loadPolicy.maxLoadTimeMs-(r.loading.first-r.loading.start)))),4===n)){self.clearTimeout(this.requestTimeout),e.onreadystatechange=null,e.onprogress=null;const n=e.status,o="text"!==e.responseType;if(n>=200&&n<300&&(o&&e.response||null!==e.responseText)){r.loading.end=Math.max(self.performance.now(),r.loading.first);const i=o?e.response:e.responseText,a="arraybuffer"===e.responseType?i.byteLength:i.length;if(r.loaded=r.total=a,r.bwEstimate=8e3*r.total/(r.loading.end-r.loading.first),!this.callbacks)return;const s=this.callbacks.onProgress;if(s&&s(r,t,i,e),!this.callbacks)return;const c={url:e.responseURL,data:i,code:n};this.callbacks.onSuccess(c,r,t,e);}else {const o=i.loadPolicy.errorRetry;ke(o,r.retry,!1,n)?this.retry(o):(g.error(`${n} while loading ${t.url}`),this.callbacks.onError({code:n,text:e.statusText},t,e,r));}}}loadtimeout(){var t;const e=null==(t=this.config)?void 0:t.loadPolicy.timeoutRetry;if(ke(e,this.stats.retry,!0))this.retry(e);else {g.warn(`timeout while loading ${this.context.url}`);const t=this.callbacks;t&&(this.abortInternal(),t.onTimeout(this.stats,this.context,this.loader));}}retry(t){const{context:e,stats:r}=this;this.retryDelay=Le(t,r.retry),r.retry++,g.warn(`${status?"HTTP Status "+status:"Timeout"} while loading ${e.url}, retrying ${r.retry}/${t.maxNumRetry} in ${this.retryDelay}ms`),this.abortInternal(),this.loader=null,self.clearTimeout(this.retryTimeout),this.retryTimeout=self.setTimeout(this.loadInternal.bind(this),this.retryDelay);}loadprogress(t){const e=this.stats;e.loaded=t.loaded,t.lengthComputable&&(e.total=t.total);}getCacheAge(){let t=null;if(this.loader&&Ui.test(this.loader.getAllResponseHeaders())){const e=this.loader.getResponseHeader("age");t=e?parseFloat(e):null;}return t}getResponseHeader(t){return this.loader&&new RegExp(`^${t}:\\s*[\\d.]+\\s*$`,"im").test(this.loader.getAllResponseHeaders())?this.loader.getResponseHeader(t):null}}const $i=/(\d+)-(\d+)\/(\d+)/;class Vi{constructor(t){this.fetchSetup=void 0,this.requestTimeout=void 0,this.request=void 0,this.response=void 0,this.controller=void 0,this.context=void 0,this.config=null,this.callbacks=null,this.stats=void 0,this.loader=null,this.fetchSetup=t.fetchSetup||Ki,this.controller=new self.AbortController,this.stats=new x;}destroy(){this.loader=this.callbacks=null,this.abortInternal();}abortInternal(){const t=this.response;null!=t&&t.ok||(this.stats.aborted=!0,this.controller.abort());}abort(){var t;this.abortInternal(),null!=(t=this.callbacks)&&t.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.response);}load(t,e,r){const n=this.stats;if(n.loading.start)throw new Error("Loader can only be used once.");n.loading.start=self.performance.now();const i=function(t,e){const r={method:"GET",mode:"cors",credentials:"same-origin",signal:e,headers:new self.Headers(u({},t.headers))};return t.rangeEnd&&r.headers.set("Range","bytes="+t.rangeStart+"-"+String(t.rangeEnd-1)),r}(t,this.controller.signal),o=r.onProgress,a="arraybuffer"===t.responseType,s=a?"byteLength":"length",{maxTimeToFirstByteMs:c,maxLoadTimeMs:f}=e.loadPolicy;this.context=t,this.config=e,this.callbacks=r,this.request=this.fetchSetup(t,i),self.clearTimeout(this.requestTimeout),e.timeout=c&&l(c)?c:f,this.requestTimeout=self.setTimeout((()=>{this.abortInternal(),r.onTimeout(n,t,this.response);}),e.timeout),self.fetch(this.request).then((i=>{this.response=this.loader=i;const s=Math.max(self.performance.now(),n.loading.start);if(self.clearTimeout(this.requestTimeout),e.timeout=f,this.requestTimeout=self.setTimeout((()=>{this.abortInternal(),r.onTimeout(n,t,this.response);}),f-(s-n.loading.start)),!i.ok){const{status:t,statusText:e}=i;throw new Hi(e||"fetch, bad network response",t,i)}return n.loading.first=s,n.total=function(t){const e=t.get("Content-Range");if(e){const t=function(t){const e=$i.exec(t);if(e)return parseInt(e[2])-parseInt(e[1])+1}(e);if(l(t))return t}const r=t.get("Content-Length");if(r)return parseInt(r)}(i.headers)||n.total,o&&l(e.highWaterMark)?this.loadProgressively(i,n,t,e.highWaterMark,o):a?i.arrayBuffer():"json"===t.responseType?i.json():i.text()})).then((i=>{const{response:a}=this;self.clearTimeout(this.requestTimeout),n.loading.end=Math.max(self.performance.now(),n.loading.first);const c=i[s];c&&(n.loaded=n.total=c);const u={url:a.url,data:i,code:a.status};o&&!l(e.highWaterMark)&&o(n,t,i,a),r.onSuccess(u,n,t,a);})).catch((e=>{if(self.clearTimeout(this.requestTimeout),n.aborted)return;const i=e&&e.code||0,o=e?e.message:null;r.onError({code:i,text:o},t,e?e.details:null,n);}));}getCacheAge(){let t=null;if(this.response){const e=this.response.headers.get("age");t=e?parseFloat(e):null;}return t}getResponseHeader(t){return this.response?this.response.headers.get(t):null}loadProgressively(t,e,r,n=0,i){const o=new On,a=t.body.getReader(),s=()=>a.read().then((a=>{if(a.done)return o.dataLength&&i(e,r,o.flush(),t),Promise.resolve(new ArrayBuffer(0));const c=a.value,u=c.length;return e.loaded+=u,u<n||o.dataLength?(o.push(c),o.dataLength>=n&&i(e,r,o.flush(),t)):i(e,r,c,t),s()})).catch((()=>Promise.reject()));return s()}}function Ki(t,e){return new self.Request(t.url,e)}class Hi extends Error{constructor(t,e,r){super(t),this.code=void 0,this.details=void 0,this.code=e,this.details=r;}}const Yi=/\s/,Zi={newCue(t,e,r,n){const i=[];let o,a,s,c,u;const l=self.VTTCue||self.TextTrackCue;for(let h=0;h<n.rows.length;h++)if(o=n.rows[h],s=!0,c=0,u="",!o.isEmpty()){var f;for(let t=0;t<o.chars.length;t++)Yi.test(o.chars[t].uchar)&&s?c++:(u+=o.chars[t].uchar,s=!1);o.cueStartTime=e,e===r&&(r+=1e-4),c>=16?c--:c++;const n=di(u.trim()),d=mi(e,r,n);null!=t&&null!=(f=t.cues)&&f.getCueById(d)||(a=new l(e,r,n),a.id=d,a.line=h+1,a.align="left",a.position=10+Math.min(80,10*Math.floor(8*c/32)),i.push(a));}return t&&i.length&&(i.sort(((t,e)=>"auto"===t.line||"auto"===e.line?0:t.line>8&&e.line>8?e.line-t.line:t.line-e.line)),i.forEach((e=>te(t,e)))),i}},Wi=s(s({autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,ignoreDevicePixelRatio:!1,initialLiveManifestSize:1,maxBufferLength:30,backBufferLength:1/0,maxBufferSize:6e7,maxBufferHole:.1,highBufferWatchdogPeriod:2,nudgeOffset:.1,nudgeMaxRetry:3,maxFragLookUpTolerance:.25,liveSyncDurationCount:3,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,maxLiveSyncPlaybackRate:1,liveDurationInfinity:!1,liveBackBufferLength:null,maxMaxBufferLength:600,enableWorker:!0,workerPath:null,enableSoftwareAES:!0,startLevel:void 0,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,loader:Gi,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,licenseXhrSetup:void 0,licenseResponseCallback:void 0,abrController:class{constructor(t){this.hls=void 0,this.lastLevelLoadSec=0,this.lastLoadedFragLevel=0,this._nextAutoLevel=-1,this.timer=-1,this.onCheck=this._abandonRulesCheck.bind(this),this.fragCurrent=null,this.partCurrent=null,this.bitrateTestDelay=0,this.bwEstimator=void 0,this.hls=t;const e=t.config;this.bwEstimator=new Pn(e.abrEwmaSlowVoD,e.abrEwmaFastVoD,e.abrEwmaDefaultEstimate),this.registerListeners();}registerListeners(){const{hls:t}=this;t.on(f.FRAG_LOADING,this.onFragLoading,this),t.on(f.FRAG_LOADED,this.onFragLoaded,this),t.on(f.FRAG_BUFFERED,this.onFragBuffered,this),t.on(f.LEVEL_SWITCHING,this.onLevelSwitching,this),t.on(f.LEVEL_LOADED,this.onLevelLoaded,this);}unregisterListeners(){const{hls:t}=this;t.off(f.FRAG_LOADING,this.onFragLoading,this),t.off(f.FRAG_LOADED,this.onFragLoaded,this),t.off(f.FRAG_BUFFERED,this.onFragBuffered,this),t.off(f.LEVEL_SWITCHING,this.onLevelSwitching,this),t.off(f.LEVEL_LOADED,this.onLevelLoaded,this);}destroy(){this.unregisterListeners(),this.clearTimer(),this.hls=this.onCheck=null,this.fragCurrent=this.partCurrent=null;}onFragLoading(t,e){var r;const n=e.frag;this.ignoreFragment(n)||(this.fragCurrent=n,this.partCurrent=null!=(r=e.part)?r:null,this.clearTimer(),this.timer=self.setInterval(this.onCheck,100));}onLevelSwitching(t,e){this.clearTimer();}getTimeToLoadFrag(t,e,r,n){return t+r/e+(n?this.lastLevelLoadSec:0)}onLevelLoaded(t,e){const r=this.hls.config,{total:n,bwEstimate:i}=e.stats;l(n)&&l(i)&&(this.lastLevelLoadSec=8*n/i),e.details.live?this.bwEstimator.update(r.abrEwmaSlowLive,r.abrEwmaFastLive):this.bwEstimator.update(r.abrEwmaSlowVoD,r.abrEwmaFastVoD);}_abandonRulesCheck(){const{fragCurrent:t,partCurrent:e,hls:r}=this,{autoLevelEnabled:n,media:i}=r;if(!t||!i)return;const o=performance.now(),a=e?e.stats:t.stats,s=e?e.duration:t.duration,c=o-a.loading.start;if(a.aborted||a.loaded&&a.loaded===a.total||0===t.level)return this.clearTimer(),void(this._nextAutoLevel=-1);if(!n||i.paused||!i.playbackRate||!i.readyState)return;const u=r.mainForwardBufferInfo;if(null===u)return;const h=this.bwEstimator.getEstimateTTFB(),d=Math.abs(i.playbackRate);if(c<=Math.max(h,s/(2*d)*1e3))return;const p=u.len/d;if(p>=2*s/d)return;const y=a.loading.first?a.loading.first-a.loading.start:-1,v=a.loaded&&y>-1,m=this.bwEstimator.getEstimate(),{levels:b,minAutoLevel:w}=r,A=b[t.level],E=a.total||Math.max(a.loaded,Math.round(s*A.maxBitrate/8));let x=c-y;x<1&&v&&(x=Math.min(c,8*a.loaded/m));const L=v?1e3*a.loaded/x:0,_=L?(E-a.loaded)/L:8*E/m+h/1e3;if(_<=p)return;const k=L?8*L:m;let C,S=Number.POSITIVE_INFINITY;for(C=t.level-1;C>w;C--){const t=b[C].maxBitrate;if(S=this.getTimeToLoadFrag(h/1e3,k,s*t,!b[C].details),S<p)break}S>=_||S>10*s||(r.nextLoadLevel=C,v?this.bwEstimator.sample(c-Math.min(h,y),a.loaded):this.bwEstimator.sampleTTFB(c),this.clearTimer(),g.warn(`[abr] Fragment ${t.sn}${e?" part "+e.index:""} of level ${t.level} is loading too slowly;\n      Time to underbuffer: ${p.toFixed(3)} s\n      Estimated load time for current fragment: ${_.toFixed(3)} s\n      Estimated load time for down switch fragment: ${S.toFixed(3)} s\n      TTFB estimate: ${y}\n      Current BW estimate: ${l(m)?(m/1024).toFixed(3):"Unknown"} Kb/s\n      New BW estimate: ${(this.bwEstimator.getEstimate()/1024).toFixed(3)} Kb/s\n      Aborting and switching to level ${C}`),t.loader&&(this.fragCurrent=this.partCurrent=null,t.abortRequests()),r.trigger(f.FRAG_LOAD_EMERGENCY_ABORTED,{frag:t,part:e,stats:a}));}onFragLoaded(t,{frag:e,part:r}){const n=r?r.stats:e.stats;if(e.type===zt.MAIN&&this.bwEstimator.sampleTTFB(n.loading.first-n.loading.start),!this.ignoreFragment(e)){if(this.clearTimer(),this.lastLoadedFragLevel=e.level,this._nextAutoLevel=-1,this.hls.config.abrMaxWithRealBitrate){const t=r?r.duration:e.duration,i=this.hls.levels[e.level],o=(i.loaded?i.loaded.bytes:0)+n.loaded,a=(i.loaded?i.loaded.duration:0)+t;i.loaded={bytes:o,duration:a},i.realBitrate=Math.round(8*o/a);}if(e.bitrateTest){const t={stats:n,frag:e,part:r,id:e.type};this.onFragBuffered(f.FRAG_BUFFERED,t),e.bitrateTest=!1;}}}onFragBuffered(t,e){const{frag:r,part:n}=e,i=null!=n&&n.stats.loaded?n.stats:r.stats;if(i.aborted)return;if(this.ignoreFragment(r))return;const o=i.parsing.end-i.loading.start-Math.min(i.loading.first-i.loading.start,this.bwEstimator.getEstimateTTFB());this.bwEstimator.sample(o,i.loaded),i.bwEstimate=this.bwEstimator.getEstimate(),r.bitrateTest?this.bitrateTestDelay=o/1e3:this.bitrateTestDelay=0;}ignoreFragment(t){return t.type!==zt.MAIN||"initSegment"===t.sn}clearTimer(){self.clearInterval(this.timer);}get nextAutoLevel(){const t=this._nextAutoLevel,e=this.bwEstimator;if(-1!==t&&!e.canEstimate())return t;let r=this.getNextABRAutoLevel();if(-1!==t){const e=this.hls.levels;if(e.length>Math.max(t,r)&&e[t].loadError<=e[r].loadError)return t}return -1!==t&&(r=Math.min(t,r)),r}getNextABRAutoLevel(){const{fragCurrent:t,partCurrent:e,hls:r}=this,{maxAutoLevel:n,config:i,minAutoLevel:o,media:a}=r,s=e?e.duration:t?t.duration:0,c=a&&0!==a.playbackRate?Math.abs(a.playbackRate):1,u=this.bwEstimator?this.bwEstimator.getEstimate():i.abrEwmaDefaultEstimate,l=r.mainForwardBufferInfo,f=(l?l.len:0)/c;let h=this.findBestLevel(u,o,n,f,i.abrBandWidthFactor,i.abrBandWidthUpFactor);if(h>=0)return h;g.trace(`[abr] ${f?"rebuffering expected":"buffer is empty"}, finding optimal quality level`);let d=s?Math.min(s,i.maxStarvationDelay):i.maxStarvationDelay,p=i.abrBandWidthFactor,y=i.abrBandWidthUpFactor;if(!f){const t=this.bitrateTestDelay;t&&(d=(s?Math.min(s,i.maxLoadingDelay):i.maxLoadingDelay)-t,g.trace(`[abr] bitrate test took ${Math.round(1e3*t)}ms, set first fragment max fetchDuration to ${Math.round(1e3*d)} ms`),p=y=1);}return h=this.findBestLevel(u,o,n,f+d,p,y),Math.max(h,0)}findBestLevel(t,e,r,n,i,o){var a;const{fragCurrent:s,partCurrent:c,lastLoadedFragLevel:u}=this,{levels:f}=this.hls,h=f[u],d=!(null==h||null==(a=h.details)||!a.live),p=null==h?void 0:h.codecSet,y=c?c.duration:s?s.duration:0,v=this.bwEstimator.getEstimateTTFB()/1e3;let m=e,b=-1;for(let a=r;a>=e;a--){const e=f[a];if(!e||p&&e.codecSet!==p){e&&(m=Math.min(a,m),b=Math.max(a,b));continue}-1!==b&&g.trace(`[abr] Skipped level(s) ${m}-${b} with CODECS:"${f[b].attrs.CODECS}"; not compatible with "${h.attrs.CODECS}"`);const r=e.details,s=(c?null==r?void 0:r.partTarget:null==r?void 0:r.averagetargetduration)||y;let w;w=a<=u?i*t:o*t;const A=f[a].maxBitrate,E=this.getTimeToLoadFrag(v,w,A*s,void 0===r);if(g.trace(`[abr] level:${a} adjustedbw-bitrate:${Math.round(w-A)} avgDuration:${s.toFixed(1)} maxFetchDuration:${n.toFixed(1)} fetchDuration:${E.toFixed(1)}`),w>A&&(0===E||!l(E)||d&&!this.bitrateTestDelay||E<n))return a}return -1}set nextAutoLevel(t){this._nextAutoLevel=t;}},bufferController:class{constructor(t){this.details=null,this._objectUrl=null,this.operationQueue=void 0,this.listeners=void 0,this.hls=void 0,this.bufferCodecEventsExpected=0,this._bufferCodecEventsTotal=0,this.media=null,this.mediaSource=null,this.lastMpegAudioChunk=null,this.appendError=0,this.tracks={},this.pendingTracks={},this.sourceBuffer=void 0,this._onMediaSourceOpen=()=>{const{media:t,mediaSource:e}=this;g.log("[buffer-controller]: Media source opened"),t&&(t.removeEventListener("emptied",this._onMediaEmptied),this.updateMediaElementDuration(),this.hls.trigger(f.MEDIA_ATTACHED,{media:t})),e&&e.removeEventListener("sourceopen",this._onMediaSourceOpen),this.checkPendingTracks();},this._onMediaSourceClose=()=>{g.log("[buffer-controller]: Media source closed");},this._onMediaSourceEnded=()=>{g.log("[buffer-controller]: Media source ended");},this._onMediaEmptied=()=>{const{media:t,_objectUrl:e}=this;t&&t.src!==e&&g.error(`Media element src was set while attaching MediaSource (${e} > ${t.src})`);},this.hls=t,this._initSourceBuffer(),this.registerListeners();}hasSourceTypes(){return this.getSourceBufferTypes().length>0||Object.keys(this.pendingTracks).length>0}destroy(){this.unregisterListeners(),this.details=null,this.lastMpegAudioChunk=null;}registerListeners(){const{hls:t}=this;t.on(f.MEDIA_ATTACHING,this.onMediaAttaching,this),t.on(f.MEDIA_DETACHING,this.onMediaDetaching,this),t.on(f.MANIFEST_LOADING,this.onManifestLoading,this),t.on(f.MANIFEST_PARSED,this.onManifestParsed,this),t.on(f.BUFFER_RESET,this.onBufferReset,this),t.on(f.BUFFER_APPENDING,this.onBufferAppending,this),t.on(f.BUFFER_CODECS,this.onBufferCodecs,this),t.on(f.BUFFER_EOS,this.onBufferEos,this),t.on(f.BUFFER_FLUSHING,this.onBufferFlushing,this),t.on(f.LEVEL_UPDATED,this.onLevelUpdated,this),t.on(f.FRAG_PARSED,this.onFragParsed,this),t.on(f.FRAG_CHANGED,this.onFragChanged,this);}unregisterListeners(){const{hls:t}=this;t.off(f.MEDIA_ATTACHING,this.onMediaAttaching,this),t.off(f.MEDIA_DETACHING,this.onMediaDetaching,this),t.off(f.MANIFEST_LOADING,this.onManifestLoading,this),t.off(f.MANIFEST_PARSED,this.onManifestParsed,this),t.off(f.BUFFER_RESET,this.onBufferReset,this),t.off(f.BUFFER_APPENDING,this.onBufferAppending,this),t.off(f.BUFFER_CODECS,this.onBufferCodecs,this),t.off(f.BUFFER_EOS,this.onBufferEos,this),t.off(f.BUFFER_FLUSHING,this.onBufferFlushing,this),t.off(f.LEVEL_UPDATED,this.onLevelUpdated,this),t.off(f.FRAG_PARSED,this.onFragParsed,this),t.off(f.FRAG_CHANGED,this.onFragChanged,this);}_initSourceBuffer(){this.sourceBuffer={},this.operationQueue=new Bn(this.sourceBuffer),this.listeners={audio:[],video:[],audiovideo:[]},this.lastMpegAudioChunk=null;}onManifestLoading(){this.bufferCodecEventsExpected=this._bufferCodecEventsTotal=0,this.details=null;}onManifestParsed(t,e){let r=2;(e.audio&&!e.video||!e.altAudio)&&(r=1),this.bufferCodecEventsExpected=this._bufferCodecEventsTotal=r,g.log(`${this.bufferCodecEventsExpected} bufferCodec event(s) expected`);}onMediaAttaching(t,e){const r=this.media=e.media;if(r&&Fn){const t=this.mediaSource=new Fn;t.addEventListener("sourceopen",this._onMediaSourceOpen),t.addEventListener("sourceended",this._onMediaSourceEnded),t.addEventListener("sourceclose",this._onMediaSourceClose),r.src=self.URL.createObjectURL(t),this._objectUrl=r.src,r.addEventListener("emptied",this._onMediaEmptied);}}onMediaDetaching(){const{media:t,mediaSource:e,_objectUrl:r}=this;if(e){if(g.log("[buffer-controller]: media source detaching"),"open"===e.readyState)try{e.endOfStream();}catch(t){g.warn(`[buffer-controller]: onMediaDetaching: ${t.message} while calling endOfStream`);}this.onBufferReset(),e.removeEventListener("sourceopen",this._onMediaSourceOpen),e.removeEventListener("sourceended",this._onMediaSourceEnded),e.removeEventListener("sourceclose",this._onMediaSourceClose),t&&(t.removeEventListener("emptied",this._onMediaEmptied),r&&self.URL.revokeObjectURL(r),t.src===r?(t.removeAttribute("src"),t.load()):g.warn("[buffer-controller]: media.src was changed by a third party - skip cleanup")),this.mediaSource=null,this.media=null,this._objectUrl=null,this.bufferCodecEventsExpected=this._bufferCodecEventsTotal,this.pendingTracks={},this.tracks={};}this.hls.trigger(f.MEDIA_DETACHED,void 0);}onBufferReset(){this.getSourceBufferTypes().forEach((t=>{const e=this.sourceBuffer[t];try{e&&(this.removeBufferListeners(t),this.mediaSource&&this.mediaSource.removeSourceBuffer(e),this.sourceBuffer[t]=void 0);}catch(e){g.warn(`[buffer-controller]: Failed to reset the ${t} buffer`,e);}})),this._initSourceBuffer();}onBufferCodecs(t,e){const r=this.getSourceBufferTypes().length;Object.keys(e).forEach((t=>{if(r){const r=this.tracks[t];if(r&&"function"==typeof r.buffer.changeType){const{id:n,codec:i,levelCodec:o,container:a,metadata:s}=e[t],c=(r.levelCodec||r.codec).replace(Nn,"$1"),u=(o||i).replace(Nn,"$1");if(c!==u){const e=`${a};codecs=${o||i}`;this.appendChangeType(t,e),g.log(`[buffer-controller]: switching codec ${c} to ${u}`),this.tracks[t]={buffer:r.buffer,codec:i,container:a,levelCodec:o,metadata:s,id:n};}}}else this.pendingTracks[t]=e[t];})),r||(this.bufferCodecEventsExpected=Math.max(this.bufferCodecEventsExpected-1,0),this.mediaSource&&"open"===this.mediaSource.readyState&&this.checkPendingTracks());}appendChangeType(t,e){const{operationQueue:r}=this,n={execute:()=>{const n=this.sourceBuffer[t];n&&(g.log(`[buffer-controller]: changing ${t} sourceBuffer type to ${e}`),n.changeType(e)),r.shiftAndExecuteNext(t);},onStart:()=>{},onComplete:()=>{},onError:e=>{g.warn(`[buffer-controller]: Failed to change ${t} SourceBuffer type`,e);}};r.append(n,t);}onBufferAppending(t,e){const{hls:r,operationQueue:n,tracks:i}=this,{data:o,type:a,frag:s,part:c,chunkMeta:u}=e,l=u.buffering[a],p=self.performance.now();l.start=p;const y=s.stats.buffering,v=c?c.stats.buffering:null;0===y.start&&(y.start=p),v&&0===v.start&&(v.start=p);const m=i.audio;let b=!1;"audio"===a&&"audio/mpeg"===(null==m?void 0:m.container)&&(b=!this.lastMpegAudioChunk||1===u.id||this.lastMpegAudioChunk.sn!==u.sn,this.lastMpegAudioChunk=u);const w=s.start,A={execute:()=>{if(l.executeStart=self.performance.now(),b){const t=this.sourceBuffer[a];if(t){const e=w-t.timestampOffset;Math.abs(e)>=.1&&(g.log(`[buffer-controller]: Updating audio SourceBuffer timestampOffset to ${w} (delta: ${e}) sn: ${s.sn})`),t.timestampOffset=w);}}this.appendExecutor(o,a);},onStart:()=>{},onComplete:()=>{const t=self.performance.now();l.executeEnd=l.end=t,0===y.first&&(y.first=t),v&&0===v.first&&(v.first=t);const{sourceBuffer:e}=this,r={};for(const t in e)r[t]=Qe.getBuffered(e[t]);this.appendError=0,this.hls.trigger(f.BUFFER_APPENDED,{type:a,frag:s,part:c,chunkMeta:u,parent:s.type,timeRanges:r});},onError:t=>{g.error(`[buffer-controller]: Error encountered while trying to append to the ${a} SourceBuffer`,t);const e={type:h.MEDIA_ERROR,parent:s.type,details:d.BUFFER_APPEND_ERROR,frag:s,part:c,chunkMeta:u,error:t,err:t,fatal:!1};t.code===DOMException.QUOTA_EXCEEDED_ERR?e.details=d.BUFFER_FULL_ERROR:(this.appendError++,e.details=d.BUFFER_APPEND_ERROR,this.appendError>r.config.appendErrorMaxRetry&&(g.error(`[buffer-controller]: Failed ${r.config.appendErrorMaxRetry} times to append segment in sourceBuffer`),e.fatal=!0)),r.trigger(f.ERROR,e);}};n.append(A,a);}onBufferFlushing(t,e){const{operationQueue:r}=this,n=t=>({execute:this.removeExecutor.bind(this,t,e.startOffset,e.endOffset),onStart:()=>{},onComplete:()=>{this.hls.trigger(f.BUFFER_FLUSHED,{type:t});},onError:e=>{g.warn(`[buffer-controller]: Failed to remove from ${t} SourceBuffer`,e);}});e.type?r.append(n(e.type),e.type):this.getSourceBufferTypes().forEach((t=>{r.append(n(t),t);}));}onFragParsed(t,e){const{frag:r,part:n}=e,i=[],o=n?n.elementaryStreams:r.elementaryStreams;o[L.AUDIOVIDEO]?i.push("audiovideo"):(o[L.AUDIO]&&i.push("audio"),o[L.VIDEO]&&i.push("video")),0===i.length&&g.warn(`Fragments must have at least one ElementaryStreamType set. type: ${r.type} level: ${r.level} sn: ${r.sn}`),this.blockBuffers((()=>{const t=self.performance.now();r.stats.buffering.end=t,n&&(n.stats.buffering.end=t);const e=n?n.stats:r.stats;this.hls.trigger(f.FRAG_BUFFERED,{frag:r,part:n,stats:e,id:r.type});}),i);}onFragChanged(t,e){this.flushBackBuffer();}onBufferEos(t,e){this.getSourceBufferTypes().reduce(((t,r)=>{const n=this.sourceBuffer[r];return !n||e.type&&e.type!==r||(n.ending=!0,n.ended||(n.ended=!0,g.log(`[buffer-controller]: ${r} sourceBuffer now EOS`))),t&&!(n&&!n.ended)}),!0)&&(g.log("[buffer-controller]: Queueing mediaSource.endOfStream()"),this.blockBuffers((()=>{this.getSourceBufferTypes().forEach((t=>{const e=this.sourceBuffer[t];e&&(e.ending=!1);}));const{mediaSource:t}=this;t&&"open"===t.readyState?(g.log("[buffer-controller]: Calling mediaSource.endOfStream()"),t.endOfStream()):t&&g.info(`[buffer-controller]: Could not call mediaSource.endOfStream(). mediaSource.readyState: ${t.readyState}`);})));}onLevelUpdated(t,{details:e}){e.fragments.length&&(this.details=e,this.getSourceBufferTypes().length?this.blockBuffers(this.updateMediaElementDuration.bind(this)):this.updateMediaElementDuration());}flushBackBuffer(){const{hls:t,details:e,media:r,sourceBuffer:n}=this;if(!r||null===e)return;const i=this.getSourceBufferTypes();if(!i.length)return;const o=e.live&&null!==t.config.liveBackBufferLength?t.config.liveBackBufferLength:t.config.backBufferLength;if(!l(o)||o<0)return;const a=r.currentTime,s=e.levelTargetDuration,c=Math.max(o,s),u=Math.floor(a/s)*s-c;i.forEach((r=>{const i=n[r];if(i){const n=Qe.getBuffered(i);if(n.length>0&&u>n.start(0)){if(t.trigger(f.BACK_BUFFER_REACHED,{bufferEnd:u}),e.live)t.trigger(f.LIVE_BACK_BUFFER_REACHED,{bufferEnd:u});else if(i.ended&&n.end(n.length-1)-a<2*s)return void g.info(`[buffer-controller]: Cannot flush ${r} back buffer while SourceBuffer is in ended state`);t.trigger(f.BUFFER_FLUSHING,{startOffset:0,endOffset:u,type:r});}}}));}updateMediaElementDuration(){if(!this.details||!this.media||!this.mediaSource||"open"!==this.mediaSource.readyState)return;const{details:t,hls:e,media:r,mediaSource:n}=this,i=t.fragments[0].start+t.totalduration,o=r.duration,a=l(n.duration)?n.duration:0;t.live&&e.config.liveDurationInfinity?(g.log("[buffer-controller]: Media Source duration is set to Infinity"),n.duration=1/0,this.updateSeekableRange(t)):(i>a&&i>o||!l(o))&&(g.log(`[buffer-controller]: Updating Media Source duration to ${i.toFixed(3)}`),n.duration=i);}updateSeekableRange(t){const e=this.mediaSource,r=t.fragments;if(r.length&&t.live&&null!=e&&e.setLiveSeekableRange){const n=Math.max(0,r[0].start),i=Math.max(n,n+t.totalduration);e.setLiveSeekableRange(n,i);}}checkPendingTracks(){const{bufferCodecEventsExpected:t,operationQueue:e,pendingTracks:r}=this,n=Object.keys(r).length;if(n&&!t||2===n){this.createSourceBuffers(r),this.pendingTracks={};const t=this.getSourceBufferTypes();if(t.length)this.hls.trigger(f.BUFFER_CREATED,{tracks:this.tracks}),t.forEach((t=>{e.executeNext(t);}));else {const t=new Error("could not create source buffer for media codec(s)");this.hls.trigger(f.ERROR,{type:h.MEDIA_ERROR,details:d.BUFFER_INCOMPATIBLE_CODECS_ERROR,fatal:!0,error:t,reason:t.message});}}}createSourceBuffers(t){const{sourceBuffer:e,mediaSource:r}=this;if(!r)throw Error("createSourceBuffers called when mediaSource was null");for(const n in t)if(!e[n]){const i=t[n];if(!i)throw Error(`source buffer exists for track ${n}, however track does not`);const o=i.levelCodec||i.codec,a=`${i.container};codecs=${o}`;g.log(`[buffer-controller]: creating sourceBuffer(${a})`);try{const t=e[n]=r.addSourceBuffer(a),s=n;this.addBufferListener(s,"updatestart",this._onSBUpdateStart),this.addBufferListener(s,"updateend",this._onSBUpdateEnd),this.addBufferListener(s,"error",this._onSBUpdateError),this.tracks[n]={buffer:t,codec:o,container:i.container,levelCodec:i.levelCodec,metadata:i.metadata,id:i.id};}catch(t){g.error(`[buffer-controller]: error while trying to add sourceBuffer: ${t.message}`),this.hls.trigger(f.ERROR,{type:h.MEDIA_ERROR,details:d.BUFFER_ADD_CODEC_ERROR,fatal:!1,error:t,mimeType:a});}}}_onSBUpdateStart(t){const{operationQueue:e}=this;e.current(t).onStart();}_onSBUpdateEnd(t){const{operationQueue:e}=this;e.current(t).onComplete(),e.shiftAndExecuteNext(t);}_onSBUpdateError(t,e){const r=new Error(`${t} SourceBuffer error`);g.error(`[buffer-controller]: ${r}`,e),this.hls.trigger(f.ERROR,{type:h.MEDIA_ERROR,details:d.BUFFER_APPENDING_ERROR,error:r,fatal:!1});const n=this.operationQueue.current(t);n&&n.onError(e);}removeExecutor(t,e,r){const{media:n,mediaSource:i,operationQueue:o,sourceBuffer:a}=this,s=a[t];if(!n||!i||!s)return g.warn(`[buffer-controller]: Attempting to remove from the ${t} SourceBuffer, but it does not exist`),void o.shiftAndExecuteNext(t);const c=l(n.duration)?n.duration:1/0,u=l(i.duration)?i.duration:1/0,f=Math.max(0,e),h=Math.min(r,c,u);h>f&&!s.ending?(s.ended=!1,g.log(`[buffer-controller]: Removing [${f},${h}] from the ${t} SourceBuffer`),s.remove(f,h)):o.shiftAndExecuteNext(t);}appendExecutor(t,e){const{operationQueue:r,sourceBuffer:n}=this,i=n[e];if(!i)return g.warn(`[buffer-controller]: Attempting to append to the ${e} SourceBuffer, but it does not exist`),void r.shiftAndExecuteNext(e);i.ended=!1,i.appendBuffer(t);}blockBuffers(t,e=this.getSourceBufferTypes()){if(!e.length)return g.log("[buffer-controller]: Blocking operation requested, but no SourceBuffers exist"),void Promise.resolve().then(t);const{operationQueue:r}=this,n=e.map((t=>r.appendBlocker(t)));Promise.all(n).then((()=>{t(),e.forEach((t=>{const e=this.sourceBuffer[t];null!=e&&e.updating||r.shiftAndExecuteNext(t);}));}));}getSourceBufferTypes(){return Object.keys(this.sourceBuffer)}addBufferListener(t,e,r){const n=this.sourceBuffer[t];if(!n)return;const i=r.bind(this,t);this.listeners[t].push({event:e,listener:i}),n.addEventListener(e,i);}removeBufferListeners(t){const e=this.sourceBuffer[t];e&&this.listeners[t].forEach((t=>{e.removeEventListener(t.event,t.listener);}));}},capLevelController:Oi,errorController:class{constructor(t){this.hls=void 0,this.playlistError=0,this.penalizedRenditions={},this.log=void 0,this.warn=void 0,this.error=void 0,this.hls=t,this.log=g.log.bind(g,"[info]:"),this.warn=g.warn.bind(g,"[warning]:"),this.error=g.error.bind(g,"[error]:"),this.registerListeners();}registerListeners(){const t=this.hls;t.on(f.ERROR,this.onError,this),t.on(f.MANIFEST_LOADING,this.onManifestLoading,this);}unregisterListeners(){const t=this.hls;t&&(t.off(f.ERROR,this.onError,this),t.off(f.ERROR,this.onErrorOut,this),t.off(f.MANIFEST_LOADING,this.onManifestLoading,this));}destroy(){this.unregisterListeners(),this.hls=null,this.penalizedRenditions={};}startLoad(t){this.playlistError=0;}stopLoad(){}getVariantLevelIndex(t){return (null==t?void 0:t.type)===zt.MAIN?t.level:this.hls.loadLevel}onManifestLoading(){this.playlistError=0,this.penalizedRenditions={};}onError(t,e){var r;if(e.fatal)return;const n=this.hls,i=e.context;switch(e.details){case d.FRAG_LOAD_ERROR:case d.FRAG_LOAD_TIMEOUT:case d.KEY_LOAD_ERROR:case d.KEY_LOAD_TIMEOUT:return void(e.errorAction=this.getFragRetryOrSwitchAction(e));case d.FRAG_GAP:case d.FRAG_PARSING_ERROR:case d.FRAG_DECRYPT_ERROR:return e.errorAction=this.getFragRetryOrSwitchAction(e),void(e.errorAction.action=2);case d.LEVEL_EMPTY_ERROR:case d.LEVEL_PARSING_ERROR:{var o,a;const t=e.parent===zt.MAIN?e.level:n.loadLevel;e.details===d.LEVEL_EMPTY_ERROR&&null!=(o=e.context)&&null!=(a=o.levelDetails)&&a.live?e.errorAction=this.getPlaylistRetryOrSwitchAction(e,t):(e.levelRetry=!1,e.errorAction=this.getLevelSwitchAction(e,t));}return;case d.LEVEL_LOAD_ERROR:case d.LEVEL_LOAD_TIMEOUT:return void("number"==typeof(null==i?void 0:i.level)&&(e.errorAction=this.getPlaylistRetryOrSwitchAction(e,i.level)));case d.AUDIO_TRACK_LOAD_ERROR:case d.AUDIO_TRACK_LOAD_TIMEOUT:case d.SUBTITLE_LOAD_ERROR:case d.SUBTITLE_TRACK_LOAD_TIMEOUT:if(i){const t=n.levels[n.loadLevel];if(t&&(i.type===Wt.AUDIO_TRACK&&i.groupId===t.audioGroupId||i.type===Wt.SUBTITLE_TRACK&&i.groupId===t.textGroupId))return e.errorAction=this.getPlaylistRetryOrSwitchAction(e,n.loadLevel),e.errorAction.action=2,void(e.errorAction.flags=1)}return;case d.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED:{const t=n.levels[n.loadLevel],r=null==t?void 0:t.attrs["HDCP-LEVEL"];r&&(e.errorAction={action:2,flags:2,hdcpLevel:r});}return;case d.BUFFER_ADD_CODEC_ERROR:case d.REMUX_ALLOC_ERROR:return void(e.errorAction=this.getLevelSwitchAction(e,null!=(r=e.level)?r:n.loadLevel));case d.INTERNAL_EXCEPTION:case d.BUFFER_APPENDING_ERROR:case d.BUFFER_APPEND_ERROR:case d.BUFFER_FULL_ERROR:case d.LEVEL_SWITCH_ERROR:case d.BUFFER_STALLED_ERROR:case d.BUFFER_SEEK_OVER_HOLE:case d.BUFFER_NUDGE_ON_STALL:return void(e.errorAction={action:0,flags:0})}if(e.type===h.KEY_SYSTEM_ERROR){const t=this.getVariantLevelIndex(e.frag);return e.levelRetry=!1,void(e.errorAction=this.getLevelSwitchAction(e,t))}}getPlaylistRetryOrSwitchAction(t,e){var r,n;const i=xe(this.hls.config.playlistLoadPolicy,t),o=this.playlistError++,a=null==(r=t.response)?void 0:r.code;return ke(i,o,Ee(t),a)?{action:5,flags:0,retryConfig:i,retryCount:o}:null!=(n=t.context)&&n.deliveryDirectives?{action:0,flags:0,retryConfig:i||{maxNumRetry:0,retryDelayMs:0,maxRetryDelayMs:0},retryCount:o}:this.getLevelSwitchAction(t,e)}getFragRetryOrSwitchAction(t){const e=this.hls,r=this.getVariantLevelIndex(t.frag),n=e.levels[r],{fragLoadPolicy:i,keyLoadPolicy:o}=e.config,a=xe(t.details.startsWith("key")?o:i,t),s=e.levels.reduce(((t,e)=>t+e.fragmentError),0);if(n){var c;t.details!==d.FRAG_GAP&&n.fragmentError++;const e=null==(c=t.response)?void 0:c.code;if(ke(a,s,Ee(t),e))return {action:5,flags:0,retryConfig:a,retryCount:s}}const u=this.getLevelSwitchAction(t,r);return a&&(u.retryConfig=a,u.retryCount=s),u}getLevelSwitchAction(t,e){const r=this.hls;null==e&&(e=r.loadLevel);const n=this.hls.levels[e];if(n&&(n.loadError++,r.autoLevelEnabled)){var i,o;let e=-1;const a=r.levels,s=null==(i=t.frag)?void 0:i.type,{type:c,groupId:u}=null!=(o=t.context)?o:{};for(let i=a.length;i--;){const o=(i+r.loadLevel)%a.length;if(o!==r.loadLevel&&0===a[o].loadError){const r=a[o];if(t.details===d.FRAG_GAP&&t.frag){const e=a[o].details;if(e){const r=Se(t.frag,e.fragments,t.frag.start);if(null!=r&&r.gap)continue}}else {if(c===Wt.AUDIO_TRACK&&u===r.audioGroupId||c===Wt.SUBTITLE_TRACK&&u===r.textGroupId)continue;if(s===zt.AUDIO&&n.audioGroupId===r.audioGroupId||s===zt.SUBTITLE&&n.textGroupId===r.textGroupId)continue}e=o;break}}if(e>-1&&r.loadLevel!==e)return t.levelRetry=!0,{action:2,flags:0,nextAutoLevel:e}}return {action:2,flags:1}}onErrorOut(t,e){var r;switch(null==(r=e.errorAction)?void 0:r.action){case 0:break;case 2:this.sendAlternateToPenaltyBox(e),e.errorAction.resolved||e.details===d.FRAG_GAP||(e.fatal=!0);}e.fatal&&this.hls.stopLoad();}sendAlternateToPenaltyBox(t){const e=this.hls,r=t.errorAction;if(!r)return;const{flags:n,hdcpLevel:i,nextAutoLevel:o}=r;switch(n){case 0:this.switchLevel(t,o);break;case 1:r.resolved||(r.resolved=this.redundantFailover(t));break;case 2:i&&(e.maxHdcpLevel=le[le.indexOf(i)-1],r.resolved=!0),this.warn(`Restricting playback to HDCP-LEVEL of "${e.maxHdcpLevel}" or lower`);}r.resolved||this.switchLevel(t,o);}switchLevel(t,e){void 0!==e&&t.errorAction&&(this.warn(`switching to level ${e} after ${t.details}`),this.hls.nextAutoLevel=e,t.errorAction.resolved=!0,this.hls.nextLoadLevel=this.hls.nextAutoLevel);}redundantFailover(t){const{hls:e,penalizedRenditions:r}=this,n=t.parent===zt.MAIN?t.level:e.loadLevel,i=e.levels[n],o=i.url.length,a=t.frag?t.frag.urlId:i.urlId;i.urlId!==a||t.frag&&!i.details||this.penalizeRendition(i,t);for(let s=1;s<o;s++){const c=(a+s)%o,u=r[c];if(!u||Oe(u,t,r[a]))return this.warn(`Switching to Redundant Stream ${c+1}/${o}: "${i.url[c]}" after ${t.details}`),this.playlistError=0,e.levels.forEach((t=>{t.urlId=c;})),e.nextLoadLevel=n,!0}return !1}penalizeRendition(t,e){const{penalizedRenditions:r}=this,n=r[t.urlId]||{lastErrorPerfMs:0,errors:[],details:void 0};n.lastErrorPerfMs=performance.now(),n.errors.push(e),n.details=t.details,r[t.urlId]=n;}},fpsController:class{constructor(t){this.hls=void 0,this.isVideoPlaybackQualityAvailable=!1,this.timer=void 0,this.media=null,this.lastTime=void 0,this.lastDroppedFrames=0,this.lastDecodedFrames=0,this.streamController=void 0,this.hls=t,this.registerListeners();}setStreamController(t){this.streamController=t;}registerListeners(){this.hls.on(f.MEDIA_ATTACHING,this.onMediaAttaching,this);}unregisterListeners(){this.hls.off(f.MEDIA_ATTACHING,this.onMediaAttaching,this);}destroy(){this.timer&&clearInterval(this.timer),this.unregisterListeners(),this.isVideoPlaybackQualityAvailable=!1,this.media=null;}onMediaAttaching(t,e){const r=this.hls.config;if(r.capLevelOnFPSDrop){const t=e.media instanceof self.HTMLVideoElement?e.media:null;this.media=t,t&&"function"==typeof t.getVideoPlaybackQuality&&(this.isVideoPlaybackQualityAvailable=!0),self.clearInterval(this.timer),this.timer=self.setInterval(this.checkFPSInterval.bind(this),r.fpsDroppedMonitoringPeriod);}}checkFPS(t,e,r){const n=performance.now();if(e){if(this.lastTime){const t=n-this.lastTime,i=r-this.lastDroppedFrames,o=e-this.lastDecodedFrames,a=1e3*i/t,s=this.hls;if(s.trigger(f.FPS_DROP,{currentDropped:i,currentDecoded:o,totalDroppedFrames:r}),a>0&&i>s.config.fpsDroppedMonitoringThreshold*o){let t=s.currentLevel;g.warn("drop FPS ratio greater than max allowed value for currentLevel: "+t),t>0&&(-1===s.autoLevelCapping||s.autoLevelCapping>=t)&&(t-=1,s.trigger(f.FPS_DROP_LEVEL_CAPPING,{level:t,droppedLevel:s.currentLevel}),s.autoLevelCapping=t,this.streamController.nextLevelSwitch());}}this.lastTime=n,this.lastDroppedFrames=r,this.lastDecodedFrames=e;}}checkFPSInterval(){const t=this.media;if(t)if(this.isVideoPlaybackQualityAvailable){const e=t.getVideoPlaybackQuality();this.checkFPS(t,e.totalVideoFrames,e.droppedVideoFrames);}else this.checkFPS(t,t.webkitDecodedFrameCount,t.webkitDroppedFrameCount);}},stretchShortVideoTrack:!1,maxAudioFramesDrift:1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0,emeEnabled:!1,widevineLicenseUrl:void 0,drmSystems:{},drmSystemOptions:{},requestMediaKeySystemAccessFunc:U,testBandwidth:!0,progressive:!1,lowLatencyMode:!0,cmcd:void 0,enableDateRangeMetadataCues:!0,enableEmsgMetadataCues:!0,enableID3MetadataCues:!0,certLoadPolicy:{default:{maxTimeToFirstByteMs:8e3,maxLoadTimeMs:2e4,timeoutRetry:null,errorRetry:null}},keyLoadPolicy:{default:{maxTimeToFirstByteMs:8e3,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:2e4,backoff:"linear"},errorRetry:{maxNumRetry:8,retryDelayMs:1e3,maxRetryDelayMs:2e4,backoff:"linear"}}},manifestLoadPolicy:{default:{maxTimeToFirstByteMs:1/0,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},playlistLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:2,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},fragLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:12e4,timeoutRetry:{maxNumRetry:4,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:6,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},steeringManifestLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3},{cueHandler:Zi,enableWebVTT:!0,enableIMSC1:!0,enableCEA708Captions:!0,captionsTextTrack1Label:"English",captionsTextTrack1LanguageCode:"en",captionsTextTrack2Label:"Spanish",captionsTextTrack2LanguageCode:"es",captionsTextTrack3Label:"Unknown CC",captionsTextTrack3LanguageCode:"",captionsTextTrack4Label:"Unknown CC",captionsTextTrack4LanguageCode:"",renderTextTracksNatively:!0}),{},{subtitleStreamController:class extends wr{constructor(t,e,r){super(t,e,r,"[subtitle-stream-controller]",zt.SUBTITLE),this.levels=[],this.currentTrackId=-1,this.tracksBuffered=[],this.mainDetails=null,this._registerListeners();}onHandlerDestroying(){this._unregisterListeners(),this.mainDetails=null;}_registerListeners(){const{hls:t}=this;t.on(f.MEDIA_ATTACHED,this.onMediaAttached,this),t.on(f.MEDIA_DETACHING,this.onMediaDetaching,this),t.on(f.MANIFEST_LOADING,this.onManifestLoading,this),t.on(f.LEVEL_LOADED,this.onLevelLoaded,this),t.on(f.ERROR,this.onError,this),t.on(f.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),t.on(f.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),t.on(f.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),t.on(f.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),t.on(f.BUFFER_FLUSHING,this.onBufferFlushing,this),t.on(f.FRAG_BUFFERED,this.onFragBuffered,this);}_unregisterListeners(){const{hls:t}=this;t.off(f.MEDIA_ATTACHED,this.onMediaAttached,this),t.off(f.MEDIA_DETACHING,this.onMediaDetaching,this),t.off(f.MANIFEST_LOADING,this.onManifestLoading,this),t.off(f.LEVEL_LOADED,this.onLevelLoaded,this),t.off(f.ERROR,this.onError,this),t.off(f.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),t.off(f.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),t.off(f.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),t.off(f.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),t.off(f.BUFFER_FLUSHING,this.onBufferFlushing,this),t.off(f.FRAG_BUFFERED,this.onFragBuffered,this);}startLoad(t){this.stopLoad(),this.state=ur,this.setInterval(500),this.nextLoadPosition=this.startPosition=this.lastCurrentTime=t,this.tick();}onManifestLoading(){this.mainDetails=null,this.fragmentTracker.removeAllFragments();}onMediaDetaching(){this.tracksBuffered=[],super.onMediaDetaching();}onLevelLoaded(t,e){this.mainDetails=e.details;}onSubtitleFragProcessed(t,e){const{frag:r,success:n}=e;if(this.fragPrevious=r,this.state=ur,!n)return;const i=this.tracksBuffered[this.currentTrackId];if(!i)return;let o;const a=r.start;for(let t=0;t<i.length;t++)if(a>=i[t].start&&a<=i[t].end){o=i[t];break}const s=r.start+r.duration;o?o.end=s:(o={start:a,end:s},i.push(o)),this.fragmentTracker.fragBuffered(r);}onBufferFlushing(t,e){const{startOffset:r,endOffset:n}=e;if(0===r&&n!==Number.POSITIVE_INFINITY){const{currentTrackId:t,levels:i}=this;if(!i.length||!i[t]||!i[t].details)return;const o=n-i[t].details.targetduration;if(o<=0)return;e.endOffsetSubtitles=Math.max(0,o),this.tracksBuffered.forEach((t=>{for(let e=0;e<t.length;)if(t[e].end<=o)t.shift();else {if(!(t[e].start<o))break;t[e].start=o,e++;}})),this.fragmentTracker.removeFragmentsInRange(r,o,zt.SUBTITLE);}}onFragBuffered(t,e){var r;this.loadedmetadata||e.frag.type!==zt.MAIN||null!=(r=this.media)&&r.buffered.length&&(this.loadedmetadata=!0);}onError(t,e){const r=e.frag;(null==r?void 0:r.type)===zt.SUBTITLE&&(this.fragCurrent&&this.fragCurrent.abortRequests(),this.state!==cr&&(this.state=ur));}onSubtitleTracksUpdated(t,{subtitleTracks:e}){In(this.levels,e)?this.levels=e.map((t=>new ye(t))):(this.tracksBuffered=[],this.levels=e.map((t=>{const e=new ye(t);return this.tracksBuffered[e.id]=[],e})),this.fragmentTracker.removeFragmentsInRange(0,Number.POSITIVE_INFINITY,zt.SUBTITLE),this.fragPrevious=null,this.mediaBuffer=null);}onSubtitleTrackSwitch(t,e){if(this.currentTrackId=e.id,!this.levels.length||-1===this.currentTrackId)return void this.clearInterval();const r=this.levels[this.currentTrackId];null!=r&&r.details?this.mediaBuffer=this.mediaBufferTimeRanges:this.mediaBuffer=null,r&&this.setInterval(500);}onSubtitleTrackLoaded(t,e){var r;const{details:n,id:i}=e,{currentTrackId:o,levels:a}=this;if(!a.length)return;const s=a[o];if(i>=a.length||i!==o||!s)return;this.mediaBuffer=this.mediaBufferTimeRanges;let c=0;if(n.live||null!=(r=s.details)&&r.live){const t=this.mainDetails;if(n.deltaUpdateFailed||!t)return;const e=t.fragments[0];s.details?(c=this.alignPlaylists(n,s.details),0===c&&e&&(c=e.start,be(n,c))):n.hasProgramDateTime&&t.hasProgramDateTime?(nr(n,t),c=n.fragments[0].start):e&&(c=e.start,be(n,c));}s.details=n,this.levelLastLoaded=i,this.startFragRequested||!this.mainDetails&&n.live||this.setStartPosition(s.details,c),this.tick(),n.live&&!this.fragCurrent&&this.media&&this.state===ur&&(Se(null,n.fragments,this.media.currentTime,0)||(this.warn("Subtitle playlist not aligned with playback"),s.details=void 0));}_handleFragmentLoadComplete(t){const{frag:e,payload:r}=t,n=e.decryptdata,i=this.hls;if(!this.fragContextChanged(e)&&r&&r.byteLength>0&&n&&n.key&&n.iv&&"AES-128"===n.method){const t=performance.now();this.decrypter.decrypt(new Uint8Array(r),n.key.buffer,n.iv.buffer).catch((t=>{throw i.trigger(f.ERROR,{type:h.MEDIA_ERROR,details:d.FRAG_DECRYPT_ERROR,fatal:!1,error:t,reason:t.message,frag:e}),t})).then((r=>{const n=performance.now();i.trigger(f.FRAG_DECRYPTED,{frag:e,payload:r,stats:{tstart:t,tdecrypt:n}});})).catch((t=>{this.warn(`${t.name}: ${t.message}`),this.state=ur;}));}}doTick(){if(this.media){if(this.state===ur){const{currentTrackId:t,levels:e}=this,r=e[t];if(!e.length||!r||!r.details)return;const n=r.details,i=n.targetduration,{config:o}=this,a=this.getLoadPosition(),s=Qe.bufferedInfo(this.tracksBuffered[this.currentTrackId]||[],a-i,o.maxBufferHole),{end:c,len:u}=s,l=this.getFwdBufferInfo(this.media,zt.MAIN);if(u>this.getMaxBufferLength(null==l?void 0:l.len)+i)return;const f=n.fragments,h=f.length,d=n.edge;let p=null;const y=this.fragPrevious;if(c<d){const{maxFragLookUpTolerance:t}=o;p=Se(y,f,Math.max(f[0].start,c),t),!p&&y&&y.start<f[0].start&&(p=f[0]);}else p=f[h-1];if(!p)return;p=this.mapToInitFragWhenRequired(p),this.fragmentTracker.getState(p)===Fe&&this.loadFragment(p,r,c);}}else this.state=ur;}getMaxBufferLength(t){const e=super.getMaxBufferLength();return t?Math.max(e,t):e}loadFragment(t,e,r){this.fragCurrent=t,"initSegment"===t.sn?this._loadInitSegment(t,e):(this.startFragRequested=!0,super.loadFragment(t,e,r));}get mediaBufferTimeRanges(){return new Dn(this.tracksBuffered[this.currentTrackId]||[])}},subtitleTrackController:class extends Ie{constructor(t){super(t,"[subtitle-track-controller]"),this.media=null,this.tracks=[],this.groupId=null,this.tracksInGroup=[],this.trackId=-1,this.selectDefaultTrack=!0,this.queuedDefaultTrack=-1,this.trackChangeListener=()=>this.onTextTracksChanged(),this.asyncPollTrackChange=()=>this.pollTrackChange(0),this.useTextTrackPolling=!1,this.subtitlePollingInterval=-1,this._subtitleDisplay=!0,this.registerListeners();}destroy(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.trackChangeListener=this.asyncPollTrackChange=null,super.destroy();}get subtitleDisplay(){return this._subtitleDisplay}set subtitleDisplay(t){this._subtitleDisplay=t,this.trackId>-1&&this.toggleTrackModes(this.trackId);}registerListeners(){const{hls:t}=this;t.on(f.MEDIA_ATTACHED,this.onMediaAttached,this),t.on(f.MEDIA_DETACHING,this.onMediaDetaching,this),t.on(f.MANIFEST_LOADING,this.onManifestLoading,this),t.on(f.MANIFEST_PARSED,this.onManifestParsed,this),t.on(f.LEVEL_LOADING,this.onLevelLoading,this),t.on(f.LEVEL_SWITCHING,this.onLevelSwitching,this),t.on(f.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),t.on(f.ERROR,this.onError,this);}unregisterListeners(){const{hls:t}=this;t.off(f.MEDIA_ATTACHED,this.onMediaAttached,this),t.off(f.MEDIA_DETACHING,this.onMediaDetaching,this),t.off(f.MANIFEST_LOADING,this.onManifestLoading,this),t.off(f.MANIFEST_PARSED,this.onManifestParsed,this),t.off(f.LEVEL_LOADING,this.onLevelLoading,this),t.off(f.LEVEL_SWITCHING,this.onLevelSwitching,this),t.off(f.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),t.off(f.ERROR,this.onError,this);}onMediaAttached(t,e){this.media=e.media,this.media&&(this.queuedDefaultTrack>-1&&(this.subtitleTrack=this.queuedDefaultTrack,this.queuedDefaultTrack=-1),this.useTextTrackPolling=!(this.media.textTracks&&"onchange"in this.media.textTracks),this.useTextTrackPolling?this.pollTrackChange(500):this.media.textTracks.addEventListener("change",this.asyncPollTrackChange));}pollTrackChange(t){self.clearInterval(this.subtitlePollingInterval),this.subtitlePollingInterval=self.setInterval(this.trackChangeListener,t);}onMediaDetaching(){this.media&&(self.clearInterval(this.subtitlePollingInterval),this.useTextTrackPolling||this.media.textTracks.removeEventListener("change",this.asyncPollTrackChange),this.trackId>-1&&(this.queuedDefaultTrack=this.trackId),jn(this.media.textTracks).forEach((t=>{ee(t);})),this.subtitleTrack=-1,this.media=null);}onManifestLoading(){this.tracks=[],this.groupId=null,this.tracksInGroup=[],this.trackId=-1,this.selectDefaultTrack=!0;}onManifestParsed(t,e){this.tracks=e.subtitleTracks;}onSubtitleTrackLoaded(t,e){const{id:r,details:n}=e,{trackId:i}=this,o=this.tracksInGroup[i];if(!o)return void this.warn(`Invalid subtitle track id ${r}`);const a=o.details;o.details=e.details,this.log(`subtitle track ${r} loaded [${n.startSN}-${n.endSN}]`),r===this.trackId&&this.playlistLoaded(r,e,a);}onLevelLoading(t,e){this.switchLevel(e.level);}onLevelSwitching(t,e){this.switchLevel(e.level);}switchLevel(t){const e=this.hls.levels[t];if(null==e||!e.textGroupIds)return;const r=e.textGroupIds[e.urlId],n=this.tracksInGroup?this.tracksInGroup[this.trackId]:void 0;if(this.groupId!==r){const t=this.tracks.filter((t=>!r||t.groupId===r));this.tracksInGroup=t;const e=this.findTrackId(null==n?void 0:n.name)||this.findTrackId();this.groupId=r||null;const i={subtitleTracks:t};this.log(`Updating subtitle tracks, ${t.length} track(s) found in "${r}" group-id`),this.hls.trigger(f.SUBTITLE_TRACKS_UPDATED,i),-1!==e&&this.setSubtitleTrack(e,n);}else this.shouldReloadPlaylist(n)&&this.setSubtitleTrack(this.trackId,n);}findTrackId(t){const e=this.tracksInGroup;for(let r=0;r<e.length;r++){const n=e[r];if((!this.selectDefaultTrack||n.default)&&(!t||t===n.name))return n.id}return -1}onError(t,e){!e.fatal&&e.context&&e.context.type===Wt.SUBTITLE_TRACK&&e.context.id===this.trackId&&e.context.groupId===this.groupId&&this.checkRetry(e);}get subtitleTracks(){return this.tracksInGroup}get subtitleTrack(){return this.trackId}set subtitleTrack(t){this.selectDefaultTrack=!1;const e=this.tracksInGroup?this.tracksInGroup[this.trackId]:void 0;this.setSubtitleTrack(t,e);}loadPlaylist(t){super.loadPlaylist();const e=this.tracksInGroup[this.trackId];if(this.shouldLoadPlaylist(e)){const r=e.id,n=e.groupId;let i=e.url;if(t)try{i=t.addDirectives(i);}catch(t){this.warn(`Could not construct new URL with HLS Delivery Directives: ${t}`);}this.log(`Loading subtitle playlist for id ${r}`),this.hls.trigger(f.SUBTITLE_TRACK_LOADING,{url:i,id:r,groupId:n,deliveryDirectives:t||null});}}toggleTrackModes(t){const{media:e,trackId:r}=this;if(!e)return;const n=jn(e.textTracks),i=n.filter((t=>t.groupId===this.groupId));if(-1===t)[].slice.call(n).forEach((t=>{t.mode="disabled";}));else {const t=i[r];t&&(t.mode="disabled");}const o=i[t];o&&(o.mode=this.subtitleDisplay?"showing":"hidden");}setSubtitleTrack(t,e){var r;const n=this.tracksInGroup;if(!this.media)return void(this.queuedDefaultTrack=t);if(this.trackId!==t&&this.toggleTrackModes(t),this.trackId===t&&(-1===t||null!=(r=n[t])&&r.details)||t<-1||t>=n.length)return;this.clearTimer();const i=n[t];if(this.log(`Switching to subtitle-track ${t}`+(i?` "${i.name}" lang:${i.lang} group:${i.groupId}`:"")),this.trackId=t,i){const{id:t,groupId:r="",name:n,type:o,url:a}=i;this.hls.trigger(f.SUBTITLE_TRACK_SWITCH,{id:t,groupId:r,name:n,type:o,url:a});const s=this.switchParams(i.url,null==e?void 0:e.details);this.loadPlaylist(s);}else this.hls.trigger(f.SUBTITLE_TRACK_SWITCH,{id:t});}onTextTracksChanged(){if(this.useTextTrackPolling||self.clearInterval(this.subtitlePollingInterval),!this.media||!this.hls.config.renderTextTracksNatively)return;let t=-1;const e=jn(this.media.textTracks);for(let r=0;r<e.length;r++)if("hidden"===e[r].mode)t=r;else if("showing"===e[r].mode){t=r;break}this.subtitleTrack!==t&&(this.subtitleTrack=t);}},timelineController:class{constructor(t){if(this.hls=void 0,this.media=null,this.config=void 0,this.enabled=!0,this.Cues=void 0,this.textTracks=[],this.tracks=[],this.initPTS=[],this.unparsedVttFrags=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.cea608Parser1=void 0,this.cea608Parser2=void 0,this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs={ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!0}},this.captionsProperties=void 0,this.hls=t,this.config=t.config,this.Cues=t.config.cueHandler,this.captionsProperties={textTrack1:{label:this.config.captionsTextTrack1Label,languageCode:this.config.captionsTextTrack1LanguageCode},textTrack2:{label:this.config.captionsTextTrack2Label,languageCode:this.config.captionsTextTrack2LanguageCode},textTrack3:{label:this.config.captionsTextTrack3Label,languageCode:this.config.captionsTextTrack3LanguageCode},textTrack4:{label:this.config.captionsTextTrack4Label,languageCode:this.config.captionsTextTrack4LanguageCode}},this.config.enableCEA708Captions){const t=new ii(this,"textTrack1"),e=new ii(this,"textTrack2"),r=new ii(this,"textTrack3"),n=new ii(this,"textTrack4");this.cea608Parser1=new ei(1,t,e),this.cea608Parser2=new ei(3,r,n);}t.on(f.MEDIA_ATTACHING,this.onMediaAttaching,this),t.on(f.MEDIA_DETACHING,this.onMediaDetaching,this),t.on(f.MANIFEST_LOADING,this.onManifestLoading,this),t.on(f.MANIFEST_LOADED,this.onManifestLoaded,this),t.on(f.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),t.on(f.FRAG_LOADING,this.onFragLoading,this),t.on(f.FRAG_LOADED,this.onFragLoaded,this),t.on(f.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),t.on(f.FRAG_DECRYPTED,this.onFragDecrypted,this),t.on(f.INIT_PTS_FOUND,this.onInitPtsFound,this),t.on(f.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),t.on(f.BUFFER_FLUSHING,this.onBufferFlushing,this);}destroy(){const{hls:t}=this;t.off(f.MEDIA_ATTACHING,this.onMediaAttaching,this),t.off(f.MEDIA_DETACHING,this.onMediaDetaching,this),t.off(f.MANIFEST_LOADING,this.onManifestLoading,this),t.off(f.MANIFEST_LOADED,this.onManifestLoaded,this),t.off(f.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),t.off(f.FRAG_LOADING,this.onFragLoading,this),t.off(f.FRAG_LOADED,this.onFragLoaded,this),t.off(f.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),t.off(f.FRAG_DECRYPTED,this.onFragDecrypted,this),t.off(f.INIT_PTS_FOUND,this.onInitPtsFound,this),t.off(f.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),t.off(f.BUFFER_FLUSHING,this.onBufferFlushing,this),this.hls=this.config=this.cea608Parser1=this.cea608Parser2=null;}addCues(t,e,r,n,i){let o=!1;for(let t=i.length;t--;){const n=i[t],l=(a=n[0],s=n[1],c=e,u=r,Math.min(s,u)-Math.max(a,c));if(l>=0&&(n[0]=Math.min(n[0],e),n[1]=Math.max(n[1],r),o=!0,l/(r-e)>.5))return}var a,s,c,u;if(o||i.push([e,r]),this.config.renderTextTracksNatively){const i=this.captionsTracks[t];this.Cues.newCue(i,e,r,n);}else {const i=this.Cues.newCue(null,e,r,n);this.hls.trigger(f.CUES_PARSED,{type:"captions",cues:i,track:t});}}onInitPtsFound(t,{frag:e,id:r,initPTS:n,timescale:i}){const{unparsedVttFrags:o}=this;"main"===r&&(this.initPTS[e.cc]={baseTime:n,timescale:i}),o.length&&(this.unparsedVttFrags=[],o.forEach((t=>{this.onFragLoaded(f.FRAG_LOADED,t);})));}getExistingTrack(t){const{media:e}=this;if(e)for(let r=0;r<e.textTracks.length;r++){const n=e.textTracks[r];if(n[t])return n}return null}createCaptionsTrack(t){this.config.renderTextTracksNatively?this.createNativeTrack(t):this.createNonNativeTrack(t);}createNativeTrack(t){if(this.captionsTracks[t])return;const{captionsProperties:e,captionsTracks:r,media:n}=this,{label:i,languageCode:o}=e[t],a=this.getExistingTrack(t);if(a)r[t]=a,ee(r[t]),Jt(r[t],n);else {const e=this.createTextTrack("captions",i,o);e&&(e[t]=!0,r[t]=e);}}createNonNativeTrack(t){if(this.nonNativeCaptionsTracks[t])return;const e=this.captionsProperties[t];if(!e)return;const r={_id:t,label:e.label,kind:"captions",default:!!e.media&&!!e.media.default,closedCaptions:e.media};this.nonNativeCaptionsTracks[t]=r,this.hls.trigger(f.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:[r]});}createTextTrack(t,e,r){const n=this.media;if(n)return n.addTextTrack(t,e,r)}onMediaAttaching(t,e){this.media=e.media,this._cleanTracks();}onMediaDetaching(){const{captionsTracks:t}=this;Object.keys(t).forEach((e=>{ee(t[e]),delete t[e];})),this.nonNativeCaptionsTracks={};}onManifestLoading(){this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs={ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!0}},this._cleanTracks(),this.tracks=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.textTracks=[],this.unparsedVttFrags=this.unparsedVttFrags||[],this.initPTS=[],this.cea608Parser1&&this.cea608Parser2&&(this.cea608Parser1.reset(),this.cea608Parser2.reset());}_cleanTracks(){const{media:t}=this;if(!t)return;const e=t.textTracks;if(e)for(let t=0;t<e.length;t++)ee(e[t]);}onSubtitleTracksUpdated(t,e){const r=e.subtitleTracks||[],n=r.some((t=>t.textCodec===bi));if(this.config.enableWebVTT||n&&this.config.enableIMSC1){if(In(this.tracks,r))return void(this.tracks=r);if(this.textTracks=[],this.tracks=r,this.config.renderTextTracksNatively){const t=this.media?this.media.textTracks:null;this.tracks.forEach(((e,r)=>{let n;if(t&&r<t.length){let r=null;for(let n=0;n<t.length;n++)if(Pi(t[n],e)){r=t[n];break}r&&(n=r);}if(n)ee(n);else {const t=this._captionsOrSubtitlesFromCharacteristics(e);n=this.createTextTrack(t,e.name,e.lang),n&&(n.mode="disabled");}n&&(n.groupId=e.groupId,this.textTracks.push(n));}));}else if(this.tracks.length){const t=this.tracks.map((t=>({label:t.name,kind:t.type.toLowerCase(),default:t.default,subtitleTrack:t})));this.hls.trigger(f.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:t});}}}_captionsOrSubtitlesFromCharacteristics(t){if(t.attrs.CHARACTERISTICS){const e=/transcribes-spoken-dialog/gi.test(t.attrs.CHARACTERISTICS),r=/describes-music-and-sound/gi.test(t.attrs.CHARACTERISTICS);if(e&&r)return "captions"}return "subtitles"}onManifestLoaded(t,e){this.config.enableCEA708Captions&&e.captions&&e.captions.forEach((t=>{const e=/(?:CC|SERVICE)([1-4])/.exec(t.instreamId);if(!e)return;const r=`textTrack${e[1]}`,n=this.captionsProperties[r];n&&(n.label=t.name,t.lang&&(n.languageCode=t.lang),n.media=t);}));}closedCaptionsForLevel(t){const e=this.hls.levels[t.level];return null==e?void 0:e.attrs["CLOSED-CAPTIONS"]}onFragLoading(t,e){const{cea608Parser1:r,cea608Parser2:n,lastSn:i,lastPartIndex:o}=this;if(this.enabled&&r&&n&&e.frag.type===zt.MAIN){var a,s;const t=e.frag.sn,c=null!=(a=null==e||null==(s=e.part)?void 0:s.index)?a:-1;t===i+1||t===i&&c===o+1||(r.reset(),n.reset()),this.lastSn=t,this.lastPartIndex=c;}}onFragLoaded(t,e){const{frag:r,payload:n}=e,{initPTS:i,unparsedVttFrags:o}=this;if(r.type===zt.SUBTITLE)if(n.byteLength){if(!i[r.cc])return o.push(e),void(i.length&&this.hls.trigger(f.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:r,error:new Error("Missing initial subtitle PTS")}));const t=r.decryptdata,a="stats"in e;if(null==t||!t.encrypted||a){const t=this.tracks[r.level],e=this.vttCCs;e[r.cc]||(e[r.cc]={start:r.start,prevCC:this.prevCC,new:!0},this.prevCC=r.cc),t&&t.textCodec===bi?this._parseIMSC1(r,n):this._parseVTTs(r,n,e);}}else this.hls.trigger(f.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:r,error:new Error("Empty subtitle payload")});}_parseIMSC1(t,e){const r=this.hls;xi(e,this.initPTS[t.cc],(e=>{this._appendCues(e,t.level),r.trigger(f.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:t});}),(e=>{g.log(`Failed to parse IMSC1: ${e}`),r.trigger(f.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:t,error:e});}));}_parseVTTs(t,e,r){var n;const i=this.hls;!function(t,e,r,n,i,o,a){const s=new pi,c=et(new Uint8Array(t)).trim().replace(yi,"\n").split("\n"),u=[],f=function(t,e=1){return on(t,nn,1/e)}(e.baseTime,e.timescale);let h,d="00:00.000",p=0,y=0,v=!0;s.oncue=function(t){const e=r[n];let o=r.ccOffset;const a=(p-f)/9e4;null!=e&&e.new&&(void 0!==y?o=r.ccOffset=e.start:function(t,e,r){let n=t[e],i=t[n.prevCC];if(!i||!i.new&&n.new)return t.ccOffset=t.presentationOffset=n.start,void(n.new=!1);for(;null!=(o=i)&&o.new;){var o;t.ccOffset+=n.start-i.start,n.new=!1,n=i,i=t[n.prevCC];}t.presentationOffset=r;}(r,n,a)),a&&(o=a-r.presentationOffset);const s=t.endTime-t.startTime,c=fn(9e4*(t.startTime+o-y),9e4*i)/9e4;t.startTime=Math.max(c,0),t.endTime=Math.max(c+s,0);const l=t.text.trim();t.text=decodeURIComponent(encodeURIComponent(l)),t.id||(t.id=mi(t.startTime,t.endTime,l)),t.endTime>0&&u.push(t);},s.onparsingerror=function(t){h=t;},s.onflush=function(){h?a(h):o(u);},c.forEach((t=>{if(v){if(vi(t,"X-TIMESTAMP-MAP=")){v=!1,t.slice(16).split(",").forEach((t=>{vi(t,"LOCAL:")?d=t.slice(6):vi(t,"MPEGTS:")&&(p=parseInt(t.slice(7)));}));try{y=function(t){let e=parseInt(t.slice(-3));const r=parseInt(t.slice(-6,-4)),n=parseInt(t.slice(-9,-7)),i=t.length>9?parseInt(t.substring(0,t.indexOf(":"))):0;if(!(l(e)&&l(r)&&l(n)&&l(i)))throw Error(`Malformed X-TIMESTAMP-MAP: Local:${t}`);return e+=1e3*r,e+=6e4*n,e+=36e5*i,e}(d)/1e3;}catch(t){h=t;}return}""===t&&(v=!1);}s.parse(t+"\n");})),s.flush();}(null!=(n=t.initSegment)&&n.data?mt(t.initSegment.data,new Uint8Array(e)):e,this.initPTS[t.cc],r,t.cc,t.start,(e=>{this._appendCues(e,t.level),i.trigger(f.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:t});}),(r=>{this._fallbackToIMSC1(t,e),g.log(`Failed to parse VTT cue: ${r}`),i.trigger(f.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:t,error:r});}));}_fallbackToIMSC1(t,e){const r=this.tracks[t.level];r.textCodec||xi(e,this.initPTS[t.cc],(()=>{r.textCodec=bi,this._parseIMSC1(t,e);}),(()=>{r.textCodec="wvtt";}));}_appendCues(t,e){const r=this.hls;if(this.config.renderTextTracksNatively){const r=this.textTracks[e];if(!r||"disabled"===r.mode)return;t.forEach((t=>te(r,t)));}else {const n=this.tracks[e];if(!n)return;const i=n.default?"default":"subtitles"+e;r.trigger(f.CUES_PARSED,{type:"subtitles",cues:t,track:i});}}onFragDecrypted(t,e){const{frag:r}=e;if(r.type===zt.SUBTITLE){if(!this.initPTS[r.cc])return void this.unparsedVttFrags.push(e);this.onFragLoaded(f.FRAG_LOADED,e);}}onSubtitleTracksCleared(){this.tracks=[],this.captionsTracks={};}onFragParsingUserdata(t,e){const{cea608Parser1:r,cea608Parser2:n}=this;if(!this.enabled||!r||!n)return;const{frag:i,samples:o}=e;if(i.type!==zt.MAIN||"NONE"!==this.closedCaptionsForLevel(i))for(let t=0;t<o.length;t++){const e=o[t].bytes;if(e){const i=this.extractCea608Data(e);r.addData(o[t].pts,i[0]),n.addData(o[t].pts,i[1]);}}}onBufferFlushing(t,{startOffset:e,endOffset:r,endOffsetSubtitles:n,type:i}){const{media:o}=this;if(o&&!(o.currentTime<r)){if(!i||"video"===i){const{captionsTracks:t}=this;Object.keys(t).forEach((n=>re(t[n],e,r)));}if(this.config.renderTextTracksNatively&&0===e&&void 0!==n){const{textTracks:t}=this;Object.keys(t).forEach((r=>re(t[r],e,n)));}}}extractCea608Data(t){const e=[[],[]],r=31&t[0];let n=2;for(let i=0;i<r;i++){const r=t[n++],i=127&t[n++],o=127&t[n++];if((0!==i||0!==o)&&0!=(4&r)){const t=3&r;0!==t&&1!==t||(e[t].push(i),e[t].push(o));}}return e}},audioStreamController:class extends wr{constructor(t,e,r){super(t,e,r,"[audio-stream-controller]",zt.AUDIO),this.videoBuffer=null,this.videoTrackCC=-1,this.waitingVideoCC=-1,this.bufferedTrack=null,this.switchingTrack=null,this.trackId=-1,this.waitingData=null,this.mainDetails=null,this.bufferFlushed=!1,this.cachedTrackLoadedData=null,this._registerListeners();}onHandlerDestroying(){this._unregisterListeners(),this.mainDetails=null,this.bufferedTrack=null,this.switchingTrack=null;}_registerListeners(){const{hls:t}=this;t.on(f.MEDIA_ATTACHED,this.onMediaAttached,this),t.on(f.MEDIA_DETACHING,this.onMediaDetaching,this),t.on(f.MANIFEST_LOADING,this.onManifestLoading,this),t.on(f.LEVEL_LOADED,this.onLevelLoaded,this),t.on(f.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),t.on(f.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),t.on(f.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),t.on(f.ERROR,this.onError,this),t.on(f.BUFFER_RESET,this.onBufferReset,this),t.on(f.BUFFER_CREATED,this.onBufferCreated,this),t.on(f.BUFFER_FLUSHED,this.onBufferFlushed,this),t.on(f.INIT_PTS_FOUND,this.onInitPtsFound,this),t.on(f.FRAG_BUFFERED,this.onFragBuffered,this);}_unregisterListeners(){const{hls:t}=this;t.off(f.MEDIA_ATTACHED,this.onMediaAttached,this),t.off(f.MEDIA_DETACHING,this.onMediaDetaching,this),t.off(f.MANIFEST_LOADING,this.onManifestLoading,this),t.off(f.LEVEL_LOADED,this.onLevelLoaded,this),t.off(f.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),t.off(f.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),t.off(f.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),t.off(f.ERROR,this.onError,this),t.off(f.BUFFER_RESET,this.onBufferReset,this),t.off(f.BUFFER_CREATED,this.onBufferCreated,this),t.off(f.BUFFER_FLUSHED,this.onBufferFlushed,this),t.off(f.INIT_PTS_FOUND,this.onInitPtsFound,this),t.off(f.FRAG_BUFFERED,this.onFragBuffered,this);}onInitPtsFound(t,{frag:e,id:r,initPTS:n,timescale:i}){if("main"===r){const t=e.cc;this.initPTS[e.cc]={baseTime:n,timescale:i},this.log(`InitPTS for cc: ${t} found from main: ${n}`),this.videoTrackCC=t,this.state===mr&&this.tick();}}startLoad(t){if(!this.levels)return this.startPosition=t,void(this.state=cr);const e=this.lastCurrentTime;this.stopLoad(),this.setInterval(100),e>0&&-1===t?(this.log(`Override startPosition with lastCurrentTime @${e.toFixed(3)}`),t=e,this.state=ur):(this.loadedmetadata=!1,this.state=dr),this.nextLoadPosition=this.startPosition=this.lastCurrentTime=t,this.tick();}doTick(){switch(this.state){case ur:this.doTickIdle();break;case dr:{var t;const{levels:e,trackId:r}=this,n=null==e||null==(t=e[r])?void 0:t.details;if(n){if(this.waitForCdnTuneIn(n))break;this.state=mr;}break}case hr:{var e;const t=performance.now(),r=this.retryDate;(!r||t>=r||null!=(e=this.media)&&e.seeking)&&(this.log("RetryDate reached, switch back to IDLE state"),this.resetStartWhenNotLoaded(this.trackId),this.state=ur);break}case mr:{const t=this.waitingData;if(t){const{frag:e,part:r,cache:n,complete:i}=t;if(void 0!==this.initPTS[e.cc]){this.waitingData=null,this.waitingVideoCC=-1,this.state=fr;const t={frag:e,part:r,payload:n.flush(),networkDetails:null};this._handleFragmentLoadProgress(t),i&&super._handleFragmentLoadComplete(t);}else if(this.videoTrackCC!==this.waitingVideoCC)this.log(`Waiting fragment cc (${e.cc}) cancelled because video is at cc ${this.videoTrackCC}`),this.clearWaitingFragment();else {const t=this.getLoadPosition(),r=Qe.bufferInfo(this.mediaBuffer,t,this.config.maxBufferHole);Te(r.end,this.config.maxFragLookUpTolerance,e)<0&&(this.log(`Waiting fragment cc (${e.cc}) @ ${e.start} cancelled because another fragment at ${r.end} is needed`),this.clearWaitingFragment());}}else this.state=ur;}}this.onTickEnd();}clearWaitingFragment(){const t=this.waitingData;t&&(this.fragmentTracker.removeFragment(t.frag),this.waitingData=null,this.waitingVideoCC=-1,this.state=ur);}resetLoadingState(){this.clearWaitingFragment(),super.resetLoadingState();}onTickEnd(){const{media:t}=this;null!=t&&t.readyState&&(this.lastCurrentTime=t.currentTime);}doTickIdle(){const{hls:t,levels:e,media:r,trackId:n}=this,i=t.config;if(null==e||!e[n])return;if(!r&&(this.startFragRequested||!i.startFragPrefetch))return;const o=e[n],a=o.details;if(!a||a.live&&this.levelLastLoaded!==n||this.waitForCdnTuneIn(a))return void(this.state=dr);const s=this.mediaBuffer?this.mediaBuffer:this.media;this.bufferFlushed&&s&&(this.bufferFlushed=!1,this.afterBufferFlushed(s,L.AUDIO,zt.AUDIO));const c=this.getFwdBufferInfo(s,zt.AUDIO);if(null===c)return;const{bufferedTrack:u,switchingTrack:l}=this;if(!l&&this._streamEnded(c,a))return t.trigger(f.BUFFER_EOS,{type:"audio"}),void(this.state=vr);const h=this.getFwdBufferInfo(this.videoBuffer?this.videoBuffer:this.media,zt.MAIN),d=c.len,p=this.getMaxBufferLength(null==h?void 0:h.len);if(d>=p&&!l)return;const y=a.fragments[0].start;let v=c.end;if(l&&r){const t=this.getLoadPosition();u&&l.attrs!==u.attrs&&(v=t),a.PTSKnown&&t<y&&(c.end>y||c.nextStart)&&(this.log("Alt audio track ahead of main track, seek to start of alt audio track"),r.currentTime=y+.05);}let g=this.getNextFragment(v,a),m=!1;if(g&&this.isLoopLoading(g,v)&&(m=!!g.gap,g=this.getNextFragmentLoopLoading(g,a,c,zt.MAIN,p)),!g)return void(this.bufferFlushed=!0);const b=h&&g.start>h.end+a.targetduration;if(b||(null==h||!h.len)&&c.len){const t=this.getAppendedFrag(g.start,zt.MAIN);if(null===t)return;if(m||(m=!!t.gap||!!b&&0===h.len),b&&!m||m&&c.nextStart&&c.nextStart<t.end)return}this.loadFragment(g,o,v);}getMaxBufferLength(t){const e=super.getMaxBufferLength();return t?Math.min(Math.max(e,t),this.config.maxMaxBufferLength):e}onMediaDetaching(){this.videoBuffer=null,super.onMediaDetaching();}onAudioTracksUpdated(t,{audioTracks:e}){this.resetTransmuxer(),this.levels=e.map((t=>new ye(t)));}onAudioTrackSwitching(t,e){const r=!!e.url;this.trackId=e.id;const{fragCurrent:n}=this;n&&(n.abortRequests(),this.removeUnbufferedFrags(n.start)),this.resetLoadingState(),r?this.setInterval(100):this.resetTransmuxer(),r?(this.switchingTrack=e,this.state=ur):(this.switchingTrack=null,this.bufferedTrack=e,this.state=cr),this.tick();}onManifestLoading(){this.fragmentTracker.removeAllFragments(),this.startPosition=this.lastCurrentTime=0,this.bufferFlushed=!1,this.levels=this.mainDetails=this.waitingData=this.bufferedTrack=this.cachedTrackLoadedData=this.switchingTrack=null,this.startFragRequested=!1,this.trackId=this.videoTrackCC=this.waitingVideoCC=-1;}onLevelLoaded(t,e){this.mainDetails=e.details,null!==this.cachedTrackLoadedData&&(this.hls.trigger(f.AUDIO_TRACK_LOADED,this.cachedTrackLoadedData),this.cachedTrackLoadedData=null);}onAudioTrackLoaded(t,e){var r;if(null==this.mainDetails)return void(this.cachedTrackLoadedData=e);const{levels:n}=this,{details:i,id:o}=e;if(!n)return void this.warn(`Audio tracks were reset while loading level ${o}`);this.log(`Track ${o} loaded [${i.startSN},${i.endSN}]${i.lastPartSn?`[part-${i.lastPartSn}-${i.lastPartIndex}]`:""},duration:${i.totalduration}`);const a=n[o];let s=0;if(i.live||null!=(r=a.details)&&r.live){const t=this.mainDetails;if(i.fragments[0]||(i.deltaUpdateFailed=!0),i.deltaUpdateFailed||!t)return;!a.details&&i.hasProgramDateTime&&t.hasProgramDateTime?(nr(i,t),s=i.fragments[0].start):s=this.alignPlaylists(i,a.details);}a.details=i,this.levelLastLoaded=o,this.startFragRequested||!this.mainDetails&&i.live||this.setStartPosition(a.details,s),this.state!==dr||this.waitForCdnTuneIn(i)||(this.state=ur),this.tick();}_handleFragmentLoadProgress(t){var e;const{frag:r,part:n,payload:i}=t,{config:o,trackId:a,levels:s}=this;if(!s)return void this.warn(`Audio tracks were reset while fragment load was in progress. Fragment ${r.sn} of level ${r.level} will not be buffered`);const c=s[a];if(!c)return void this.warn("Audio track is undefined on fragment load progress");const u=c.details;if(!u)return this.warn("Audio track details undefined on fragment load progress"),void this.removeUnbufferedFrags(r.start);const l=o.defaultAudioCodec||c.audioCodec||"mp4a.40.2";let f=this.transmuxer;f||(f=this.transmuxer=new kn(this.hls,zt.AUDIO,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)));const h=this.initPTS[r.cc],d=null==(e=r.initSegment)?void 0:e.data;if(void 0!==h){const t=!1,e=n?n.index:-1,o=-1!==e,a=new Je(r.level,r.sn,r.stats.chunkCount,i.byteLength,e,o);f.push(i,d,l,"",r,n,u.totalduration,t,a,h);}else {this.log(`Unknown video PTS for cc ${r.cc}, waiting for video PTS before demuxing audio frag ${r.sn} of [${u.startSN} ,${u.endSN}],track ${a}`);const{cache:t}=this.waitingData=this.waitingData||{frag:r,part:n,cache:new On,complete:!1};t.push(new Uint8Array(i)),this.waitingVideoCC=this.videoTrackCC,this.state=mr;}}_handleFragmentLoadComplete(t){this.waitingData?this.waitingData.complete=!0:super._handleFragmentLoadComplete(t);}onBufferReset(){this.mediaBuffer=this.videoBuffer=null,this.loadedmetadata=!1;}onBufferCreated(t,e){const r=e.tracks.audio;r&&(this.mediaBuffer=r.buffer||null),e.tracks.video&&(this.videoBuffer=e.tracks.video.buffer||null);}onFragBuffered(t,e){const{frag:r,part:n}=e;var i;if(r.type===zt.AUDIO)if(this.fragContextChanged(r))this.warn(`Fragment ${r.sn}${n?" p: "+n.index:""} of level ${r.level} finished buffering, but was aborted. state: ${this.state}, audioSwitch: ${this.switchingTrack?this.switchingTrack.name:"false"}`);else {if("initSegment"!==r.sn){this.fragPrevious=r;const t=this.switchingTrack;t&&(this.bufferedTrack=t,this.switchingTrack=null,this.hls.trigger(f.AUDIO_TRACK_SWITCHED,s({},t)));}this.fragBufferedComplete(r,n);}else this.loadedmetadata||r.type!==zt.MAIN||null!=(i=this.videoBuffer||this.media)&&i.buffered.length&&(this.loadedmetadata=!0);}onError(t,e){var r;if(e.fatal)this.state=gr;else switch(e.details){case d.FRAG_GAP:case d.FRAG_PARSING_ERROR:case d.FRAG_DECRYPT_ERROR:case d.FRAG_LOAD_ERROR:case d.FRAG_LOAD_TIMEOUT:case d.KEY_LOAD_ERROR:case d.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(zt.AUDIO,e);break;case d.AUDIO_TRACK_LOAD_ERROR:case d.AUDIO_TRACK_LOAD_TIMEOUT:case d.LEVEL_PARSING_ERROR:e.levelRetry||this.state!==dr||(null==(r=e.context)?void 0:r.type)!==Wt.AUDIO_TRACK||(this.state=ur);break;case d.BUFFER_FULL_ERROR:if(!e.parent||"audio"!==e.parent)return;this.reduceLengthAndFlushBuffer(e)&&(this.bufferedTrack=null,super.flushMainBuffer(0,Number.POSITIVE_INFINITY,"audio"));break;case d.INTERNAL_EXCEPTION:this.recoverWorkerError(e);}}onBufferFlushed(t,{type:e}){e===L.AUDIO&&(this.bufferFlushed=!0,this.state===vr&&(this.state=ur));}_handleTransmuxComplete(t){var e;const r="audio",{hls:n}=this,{remuxResult:i,chunkMeta:o}=t,a=this.getCurrentContext(o);if(!a)return void this.resetWhenMissingContext(o);const{frag:s,part:c,level:l}=a,{details:h}=l,{audio:d,text:p,id3:y,initSegment:v}=i;if(!this.fragContextChanged(s)&&h){if(this.state=pr,this.switchingTrack&&d&&this.completeAudioSwitch(this.switchingTrack),null!=v&&v.tracks){const t=s.initSegment||s;this._bufferInitSegment(v.tracks,t,o),n.trigger(f.FRAG_PARSING_INIT_SEGMENT,{frag:t,id:r,tracks:v.tracks});}if(d){const{startPTS:t,endPTS:e,startDTS:r,endDTS:n}=d;c&&(c.elementaryStreams[L.AUDIO]={startPTS:t,endPTS:e,startDTS:r,endDTS:n}),s.setElementaryStreamInfo(L.AUDIO,t,e,r,n),this.bufferFragmentData(d,s,c,o);}if(null!=y&&null!=(e=y.samples)&&e.length){const t=u({id:r,frag:s,details:h},y);n.trigger(f.FRAG_PARSING_METADATA,t);}if(p){const t=u({id:r,frag:s,details:h},p);n.trigger(f.FRAG_PARSING_USERDATA,t);}}else this.fragmentTracker.removeFragment(s);}_bufferInitSegment(t,e,r){if(this.state!==pr)return;t.video&&delete t.video;const n=t.audio;if(!n)return;n.levelCodec=n.codec,n.id="audio",this.log(`Init audio buffer, container:${n.container}, codecs[parsed]=[${n.codec}]`),this.hls.trigger(f.BUFFER_CODECS,t);const i=n.initSegment;if(null!=i&&i.byteLength){const t={type:"audio",frag:e,part:null,chunkMeta:r,parent:e.type,data:i};this.hls.trigger(f.BUFFER_APPENDING,t);}this.tick();}loadFragment(t,e,r){const n=this.fragmentTracker.getState(t);var i;this.fragCurrent=t,this.switchingTrack||n===Fe||n===Me?"initSegment"===t.sn?this._loadInitSegment(t,e):null!=(i=e.details)&&i.live&&!this.initPTS[t.cc]?(this.log(`Waiting for video PTS in continuity counter ${t.cc} of live stream before loading audio fragment ${t.sn} of level ${this.trackId}`),this.state=mr):(this.startFragRequested=!0,super.loadFragment(t,e,r)):this.clearTrackerIfNeeded(t);}completeAudioSwitch(t){const{hls:e,media:r,bufferedTrack:n}=this,i=null==n?void 0:n.attrs,o=t.attrs;r&&i&&(i.CHANNELS!==o.CHANNELS||i.NAME!==o.NAME||i.LANGUAGE!==o.LANGUAGE)&&(this.log("Switching audio track : flushing all audio"),super.flushMainBuffer(0,Number.POSITIVE_INFINITY,"audio")),this.bufferedTrack=t,this.switchingTrack=null,e.trigger(f.AUDIO_TRACK_SWITCHED,s({},t));}},audioTrackController:class extends Ie{constructor(t){super(t,"[audio-track-controller]"),this.tracks=[],this.groupId=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0,this.registerListeners();}registerListeners(){const{hls:t}=this;t.on(f.MANIFEST_LOADING,this.onManifestLoading,this),t.on(f.MANIFEST_PARSED,this.onManifestParsed,this),t.on(f.LEVEL_LOADING,this.onLevelLoading,this),t.on(f.LEVEL_SWITCHING,this.onLevelSwitching,this),t.on(f.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),t.on(f.ERROR,this.onError,this);}unregisterListeners(){const{hls:t}=this;t.off(f.MANIFEST_LOADING,this.onManifestLoading,this),t.off(f.MANIFEST_PARSED,this.onManifestParsed,this),t.off(f.LEVEL_LOADING,this.onLevelLoading,this),t.off(f.LEVEL_SWITCHING,this.onLevelSwitching,this),t.off(f.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),t.off(f.ERROR,this.onError,this);}destroy(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.currentTrack=null,super.destroy();}onManifestLoading(){this.tracks=[],this.groupId=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0;}onManifestParsed(t,e){this.tracks=e.audioTracks||[];}onAudioTrackLoaded(t,e){const{id:r,groupId:n,details:i}=e,o=this.tracksInGroup[r];if(!o||o.groupId!==n)return void this.warn(`Track with id:${r} and group:${n} not found in active group ${o.groupId}`);const a=o.details;o.details=e.details,this.log(`audio-track ${r} "${o.name}" lang:${o.lang} group:${n} loaded [${i.startSN}-${i.endSN}]`),r===this.trackId&&this.playlistLoaded(r,e,a);}onLevelLoading(t,e){this.switchLevel(e.level);}onLevelSwitching(t,e){this.switchLevel(e.level);}switchLevel(t){const e=this.hls.levels[t];if(null==e||!e.audioGroupIds)return;const r=e.audioGroupIds[e.urlId];if(this.groupId!==r){this.groupId=r||null;const t=this.tracks.filter((t=>!r||t.groupId===r));this.selectDefaultTrack&&!t.some((t=>t.default))&&(this.selectDefaultTrack=!1),this.tracksInGroup=t;const e={audioTracks:t};this.log(`Updating audio tracks, ${t.length} track(s) found in group:${r}`),this.hls.trigger(f.AUDIO_TRACKS_UPDATED,e),this.selectInitialTrack();}else this.shouldReloadPlaylist(this.currentTrack)&&this.setAudioTrack(this.trackId);}onError(t,e){!e.fatal&&e.context&&e.context.type===Wt.AUDIO_TRACK&&e.context.id===this.trackId&&e.context.groupId===this.groupId&&(this.requestScheduled=-1,this.checkRetry(e));}get audioTracks(){return this.tracksInGroup}get audioTrack(){return this.trackId}set audioTrack(t){this.selectDefaultTrack=!1,this.setAudioTrack(t);}setAudioTrack(t){const e=this.tracksInGroup;if(t<0||t>=e.length)return void this.warn("Invalid id passed to audio-track controller");this.clearTimer();const r=this.currentTrack;e[this.trackId];const n=e[t],{groupId:i,name:o}=n;if(this.log(`Switching to audio-track ${t} "${o}" lang:${n.lang} group:${i}`),this.trackId=t,this.currentTrack=n,this.selectDefaultTrack=!1,this.hls.trigger(f.AUDIO_TRACK_SWITCHING,s({},n)),n.details&&!n.details.live)return;const a=this.switchParams(n.url,null==r?void 0:r.details);this.loadPlaylist(a);}selectInitialTrack(){const t=this.tracksInGroup,e=this.findTrackId(this.currentTrack)|this.findTrackId(null);if(-1!==e)this.setAudioTrack(e);else {const e=new Error(`No track found for running audio group-ID: ${this.groupId} track count: ${t.length}`);this.warn(e.message),this.hls.trigger(f.ERROR,{type:h.MEDIA_ERROR,details:d.AUDIO_TRACK_LOAD_ERROR,fatal:!0,error:e});}}findTrackId(t){const e=this.tracksInGroup;for(let r=0;r<e.length;r++){const n=e[r];if(!this.selectDefaultTrack||n.default){if(!t||void 0!==t.attrs["STABLE-RENDITION-ID"]&&t.attrs["STABLE-RENDITION-ID"]===n.attrs["STABLE-RENDITION-ID"])return n.id;if(t.name===n.name&&t.lang===n.lang)return n.id}}return -1}loadPlaylist(t){super.loadPlaylist();const e=this.tracksInGroup[this.trackId];if(this.shouldLoadPlaylist(e)){const r=e.id,n=e.groupId;let i=e.url;if(t)try{i=t.addDirectives(i);}catch(t){this.warn(`Could not construct new URL with HLS Delivery Directives: ${t}`);}this.log(`loading audio-track playlist ${r} "${e.name}" lang:${e.lang} group:${n}`),this.clearTimer(),this.hls.trigger(f.AUDIO_TRACK_LOADING,{url:i,id:r,groupId:n,deliveryDirectives:t||null});}}},emeController:Ri,cmcdController:Fi,contentSteeringController:class{constructor(t){this.hls=void 0,this.log=void 0,this.loader=null,this.uri=null,this.pathwayId=".",this.pathwayPriority=null,this.timeToLoad=300,this.reloadTimer=-1,this.updated=0,this.started=!1,this.enabled=!0,this.levels=null,this.audioTracks=null,this.subtitleTracks=null,this.penalizedPathways={},this.hls=t,this.log=g.log.bind(g,"[content-steering]:"),this.registerListeners();}registerListeners(){const t=this.hls;t.on(f.MANIFEST_LOADING,this.onManifestLoading,this),t.on(f.MANIFEST_LOADED,this.onManifestLoaded,this),t.on(f.MANIFEST_PARSED,this.onManifestParsed,this),t.on(f.ERROR,this.onError,this);}unregisterListeners(){const t=this.hls;t&&(t.off(f.MANIFEST_LOADING,this.onManifestLoading,this),t.off(f.MANIFEST_LOADED,this.onManifestLoaded,this),t.off(f.MANIFEST_PARSED,this.onManifestParsed,this),t.off(f.ERROR,this.onError,this));}startLoad(){if(this.started=!0,self.clearTimeout(this.reloadTimer),this.enabled&&this.uri)if(this.updated){const t=Math.max(1e3*this.timeToLoad-(performance.now()-this.updated),0);this.scheduleRefresh(this.uri,t);}else this.loadSteeringManifest(this.uri);}stopLoad(){this.started=!1,this.loader&&(this.loader.destroy(),this.loader=null),self.clearTimeout(this.reloadTimer);}destroy(){this.unregisterListeners(),this.stopLoad(),this.hls=null,this.levels=this.audioTracks=this.subtitleTracks=null;}removeLevel(t){const e=this.levels;e&&(this.levels=e.filter((e=>e!==t)));}onManifestLoading(){this.stopLoad(),this.enabled=!0,this.timeToLoad=300,this.updated=0,this.uri=null,this.pathwayId=".",this.levels=this.audioTracks=this.subtitleTracks=null;}onManifestLoaded(t,e){const{contentSteering:r}=e;null!==r&&(this.pathwayId=r.pathwayId,this.uri=r.uri,this.started&&this.startLoad());}onManifestParsed(t,e){this.audioTracks=e.audioTracks,this.subtitleTracks=e.subtitleTracks;}onError(t,e){const{errorAction:r}=e;if(2===(null==r?void 0:r.action)&&1===r.flags){let t=this.pathwayPriority;const e=this.pathwayId;this.penalizedPathways[e]||(this.penalizedPathways[e]=performance.now()),!t&&this.levels&&(t=this.levels.reduce(((t,e)=>(-1===t.indexOf(e.pathwayId)&&t.push(e.pathwayId),t)),[])),t&&t.length>1&&(this.updatePathwayPriority(t),r.resolved=this.pathwayId!==e);}}filterParsedLevels(t){this.levels=t;let e=this.getLevelsForPathway(this.pathwayId);if(0===e.length){const r=t[0].pathwayId;this.log(`No levels found in Pathway ${this.pathwayId}. Setting initial Pathway to "${r}"`),e=this.getLevelsForPathway(r),this.pathwayId=r;}return e.length!==t.length?(this.log(`Found ${e.length}/${t.length} levels in Pathway "${this.pathwayId}"`),e):t}getLevelsForPathway(t){return null===this.levels?[]:this.levels.filter((e=>t===e.pathwayId))}updatePathwayPriority(t){let e;this.pathwayPriority=t;const r=this.penalizedPathways,n=performance.now();Object.keys(r).forEach((t=>{n-r[t]>3e5&&delete r[t];}));for(let n=0;n<t.length;n++){const i=t[n];if(r[i])continue;if(i===this.pathwayId)return;const o=this.hls.nextLoadLevel,a=this.hls.levels[o];if(e=this.getLevelsForPathway(i),e.length>0){this.log(`Setting Pathway to "${i}"`),this.pathwayId=i,this.hls.trigger(f.LEVELS_UPDATED,{levels:e});const t=this.hls.levels[o];a&&t&&this.levels&&(t.attrs["STABLE-VARIANT-ID"]!==a.attrs["STABLE-VARIANT-ID"]&&t.bitrate!==a.bitrate&&this.log(`Unstable Pathways change from bitrate ${a.bitrate} to ${t.bitrate}`),this.hls.nextLoadLevel=o);break}}}clonePathways(t){const e=this.levels;if(!e)return;const r={},n={};t.forEach((t=>{const{ID:i,"BASE-ID":o,"URI-REPLACEMENT":a}=t;if(e.some((t=>t.pathwayId===i)))return;const s=this.getLevelsForPathway(o).map((t=>{const e=u({},t);e.details=void 0,e.url=Mi(t.uri,t.attrs["STABLE-VARIANT-ID"],"PER-VARIANT-URIS",a);const o=new w(t.attrs);o["PATHWAY-ID"]=i;const s=o.AUDIO&&`${o.AUDIO}_clone_${i}`,c=o.SUBTITLES&&`${o.SUBTITLES}_clone_${i}`;s&&(r[o.AUDIO]=s,o.AUDIO=s),c&&(n[o.SUBTITLES]=c,o.SUBTITLES=c),e.attrs=o;const l=new ye(e);return je(l,"audio",s),je(l,"text",c),l}));e.push(...s),Ni(this.audioTracks,r,a,i),Ni(this.subtitleTracks,n,a,i);}));}loadSteeringManifest(t){const e=this.hls.config,r=e.loader;let n;this.loader&&this.loader.destroy(),this.loader=new r(e);try{n=new self.URL(t);}catch(e){return this.enabled=!1,void this.log(`Failed to parse Steering Manifest URI: ${t}`)}if("data:"!==n.protocol){const t=0|(this.hls.bandwidthEstimate||e.abrEwmaDefaultEstimate);n.searchParams.set("_HLS_pathway",this.pathwayId),n.searchParams.set("_HLS_throughput",""+t);}const i={responseType:"json",url:n.href},o=e.steeringManifestLoadPolicy.default,a=o.errorRetry||o.timeoutRetry||{},s={loadPolicy:o,timeout:o.maxLoadTimeMs,maxRetry:a.maxNumRetry||0,retryDelay:a.retryDelayMs||0,maxRetryDelay:a.maxRetryDelayMs||0},c={onSuccess:(t,e,r,i)=>{this.log(`Loaded steering manifest: "${n}"`);const o=t.data;if(1!==o.VERSION)return void this.log(`Steering VERSION ${o.VERSION} not supported!`);this.updated=performance.now(),this.timeToLoad=o.TTL;const{"RELOAD-URI":a,"PATHWAY-CLONES":s,"PATHWAY-PRIORITY":c}=o;if(a)try{this.uri=new self.URL(a,n).href;}catch(t){return this.enabled=!1,void this.log(`Failed to parse Steering Manifest RELOAD-URI: ${a}`)}this.scheduleRefresh(this.uri||r.url),s&&this.clonePathways(s),c&&this.updatePathwayPriority(c);},onError:(t,e,r,n)=>{if(this.log(`Error loading steering manifest: ${t.code} ${t.text} (${e.url})`),this.stopLoad(),410===t.code)return this.enabled=!1,void this.log(`Steering manifest ${e.url} no longer available`);let i=1e3*this.timeToLoad;if(429!==t.code)this.scheduleRefresh(this.uri||e.url,i);else {const t=this.loader;if("function"==typeof(null==t?void 0:t.getResponseHeader)){const e=t.getResponseHeader("Retry-After");e&&(i=1e3*parseFloat(e));}this.log(`Steering manifest ${e.url} rate limited`);}},onTimeout:(t,e,r)=>{this.log(`Timeout loading steering manifest (${e.url})`),this.scheduleRefresh(this.uri||e.url);}};this.log(`Requesting steering manifest: ${n}`),this.loader.load(i,s,c);}scheduleRefresh(t,e=1e3*this.timeToLoad){self.clearTimeout(this.reloadTimer),this.reloadTimer=self.setTimeout((()=>{this.loadSteeringManifest(t);}),e);}}});function zi(t){return t&&"object"==typeof t?Array.isArray(t)?t.map(zi):Object.keys(t).reduce(((e,r)=>(e[r]=zi(t[r]),e)),{}):t}class qi{static get version(){return "1.4.1"}static isSupported(){return function(){const t=Ot();if(!t)return !1;const e=Ar(),r=t&&"function"==typeof t.isTypeSupported&&t.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),n=!e||e.prototype&&"function"==typeof e.prototype.appendBuffer&&"function"==typeof e.prototype.remove;return !!r&&!!n}()}static get Events(){return f}static get ErrorTypes(){return h}static get ErrorDetails(){return d}static get DefaultConfig(){return qi.defaultConfig?qi.defaultConfig:Wi}static set DefaultConfig(t){qi.defaultConfig=t;}constructor(t={}){this.config=void 0,this.userConfig=void 0,this.coreComponents=void 0,this.networkControllers=void 0,this._emitter=new Ln,this._autoLevelCapping=void 0,this._maxHdcpLevel=null,this.abrController=void 0,this.bufferController=void 0,this.capLevelController=void 0,this.latencyController=void 0,this.levelController=void 0,this.streamController=void 0,this.audioTrackController=void 0,this.subtitleTrackController=void 0,this.emeController=void 0,this.cmcdController=void 0,this._media=null,this.url=null,function(t,e){if(self.console&&!0===t||"object"==typeof t){!function(t,...e){e.forEach((function(e){v[e]=t[e]?t[e].bind(t):function(t){const e=self.console[t];return e?e.bind(self.console,`[${t}] >`):p}(e);}));}(t,"debug","log","info","warn","error");try{v.log('Debug logs enabled for "Hls instance" in hls.js version 1.4.1');}catch(t){v=y;}}else v=y;}(t.debug||!1);const e=this.config=function(t,e){if((e.liveSyncDurationCount||e.liveMaxLatencyDurationCount)&&(e.liveSyncDuration||e.liveMaxLatencyDuration))throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");if(void 0!==e.liveMaxLatencyDurationCount&&(void 0===e.liveSyncDurationCount||e.liveMaxLatencyDurationCount<=e.liveSyncDurationCount))throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be greater than "liveSyncDurationCount"');if(void 0!==e.liveMaxLatencyDuration&&(void 0===e.liveSyncDuration||e.liveMaxLatencyDuration<=e.liveSyncDuration))throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be greater than "liveSyncDuration"');const r=zi(t),n=["TimeOut","MaxRetry","RetryDelay","MaxRetryTimeout"];return ["manifest","level","frag"].forEach((t=>{const i=`${"level"===t?"playlist":t}LoadPolicy`,o=void 0===e[i],a=[];n.forEach((n=>{const s=`${t}Loading${n}`,c=e[s];if(void 0!==c&&o){a.push(s);const t=r[i].default;switch(e[i]={default:t},n){case"TimeOut":t.maxLoadTimeMs=c,t.maxTimeToFirstByteMs=c;break;case"MaxRetry":t.errorRetry.maxNumRetry=c,t.timeoutRetry.maxNumRetry=c;break;case"RetryDelay":t.errorRetry.retryDelayMs=c,t.timeoutRetry.retryDelayMs=c;break;case"MaxRetryTimeout":t.errorRetry.maxRetryDelayMs=c,t.timeoutRetry.maxRetryDelayMs=c;}}})),a.length&&g.warn(`hls.js config: "${a.join('", "')}" setting(s) are deprecated, use "${i}": ${JSON.stringify(e[i])}`);})),s(s({},r),e)}(qi.DefaultConfig,t);this.userConfig=t,this._autoLevelCapping=-1,e.progressive&&function(t){const e=t.loader;e!==Vi&&e!==Gi?(g.log("[config]: Custom loader detected, cannot enable progressive streaming"),t.progressive=!1):function(){if(self.fetch&&self.AbortController&&self.ReadableStream&&self.Request)try{return new self.ReadableStream({}),!0}catch(t){}return !1}()&&(t.loader=Vi,t.progressive=!0,t.enableSoftwareAES=!0,g.log("[config]: Progressive streaming enabled, using FetchLoader"));}(e);const{abrController:r,bufferController:n,capLevelController:i,errorController:o,fpsController:a}=e,c=new o(this),u=this.abrController=new r(this),l=this.bufferController=new n(this),h=this.capLevelController=new i(this),d=new a(this),m=new Qt(this),b=new ce(this),w=e.contentSteeringController,A=w?new w(this):null,E=this.levelController=new De(this,A),x=new Ge(this),L=new ze(this.config),_=this.streamController=new Sn(this,x,L);h.setStreamController(_),d.setStreamController(_);const k=[m,E,_];A&&k.splice(1,0,A),this.networkControllers=k;const C=[u,l,h,d,b,x];this.audioTrackController=this.createController(e.audioTrackController,k);const S=e.audioStreamController;S&&k.push(new S(this,x,L)),this.subtitleTrackController=this.createController(e.subtitleTrackController,k);const T=e.subtitleStreamController;T&&k.push(new T(this,x,L)),this.createController(e.timelineController,C),L.emeController=this.emeController=this.createController(e.emeController,C),this.cmcdController=this.createController(e.cmcdController,C),this.latencyController=this.createController(ue,C),this.coreComponents=C,k.push(c);const P=c.onErrorOut;"function"==typeof P&&this.on(f.ERROR,P,c);}createController(t,e){if(t){const r=new t(this);return e&&e.push(r),r}return null}on(t,e,r=this){this._emitter.on(t,e,r);}once(t,e,r=this){this._emitter.once(t,e,r);}removeAllListeners(t){this._emitter.removeAllListeners(t);}off(t,e,r=this,n){this._emitter.off(t,e,r,n);}listeners(t){return this._emitter.listeners(t)}emit(t,e,r){return this._emitter.emit(t,e,r)}trigger(t,e){if(this.config.debug)return this.emit(t,t,e);try{return this.emit(t,t,e)}catch(e){g.error("An internal error happened while handling event "+t+'. Error message: "'+e.message+'". Here is a stacktrace:',e),this.trigger(f.ERROR,{type:h.OTHER_ERROR,details:d.INTERNAL_EXCEPTION,fatal:!1,event:t,error:e});}return !1}listenerCount(t){return this._emitter.listenerCount(t)}destroy(){g.log("destroy"),this.trigger(f.DESTROYING,void 0),this.detachMedia(),this.removeAllListeners(),this._autoLevelCapping=-1,this.url=null,this.networkControllers.forEach((t=>t.destroy())),this.networkControllers.length=0,this.coreComponents.forEach((t=>t.destroy())),this.coreComponents.length=0;const t=this.config;t.xhrSetup=t.fetchSetup=void 0,this.userConfig=null;}attachMedia(t){g.log("attachMedia"),this._media=t,this.trigger(f.MEDIA_ATTACHING,{media:t});}detachMedia(){g.log("detachMedia"),this.trigger(f.MEDIA_DETACHING,void 0),this._media=null;}loadSource(t){this.stopLoad();const e=this.media,r=this.url,n=this.url=o.buildAbsoluteURL(self.location.href,t,{alwaysNormalize:!0});g.log(`loadSource:${n}`),e&&r&&(r!==n||this.bufferController.hasSourceTypes())&&(this.detachMedia(),this.attachMedia(e)),this.trigger(f.MANIFEST_LOADING,{url:t});}startLoad(t=-1){g.log(`startLoad(${t})`),this.networkControllers.forEach((e=>{e.startLoad(t);}));}stopLoad(){g.log("stopLoad"),this.networkControllers.forEach((t=>{t.stopLoad();}));}swapAudioCodec(){g.log("swapAudioCodec"),this.streamController.swapAudioCodec();}recoverMediaError(){g.log("recoverMediaError");const t=this._media;this.detachMedia(),t&&this.attachMedia(t);}removeLevel(t,e=0){this.levelController.removeLevel(t,e);}get levels(){return this.levelController.levels||[]}get currentLevel(){return this.streamController.currentLevel}set currentLevel(t){g.log(`set currentLevel:${t}`),this.loadLevel=t,this.abrController.clearTimer(),this.streamController.immediateLevelSwitch();}get nextLevel(){return this.streamController.nextLevel}set nextLevel(t){g.log(`set nextLevel:${t}`),this.levelController.manualLevel=t,this.streamController.nextLevelSwitch();}get loadLevel(){return this.levelController.level}set loadLevel(t){g.log(`set loadLevel:${t}`),this.levelController.manualLevel=t;}get nextLoadLevel(){return this.levelController.nextLoadLevel}set nextLoadLevel(t){this.levelController.nextLoadLevel=t;}get firstLevel(){return Math.max(this.levelController.firstLevel,this.minAutoLevel)}set firstLevel(t){g.log(`set firstLevel:${t}`),this.levelController.firstLevel=t;}get startLevel(){return this.levelController.startLevel}set startLevel(t){g.log(`set startLevel:${t}`),-1!==t&&(t=Math.max(t,this.minAutoLevel)),this.levelController.startLevel=t;}get capLevelToPlayerSize(){return this.config.capLevelToPlayerSize}set capLevelToPlayerSize(t){const e=!!t;e!==this.config.capLevelToPlayerSize&&(e?this.capLevelController.startCapping():(this.capLevelController.stopCapping(),this.autoLevelCapping=-1,this.streamController.nextLevelSwitch()),this.config.capLevelToPlayerSize=e);}get autoLevelCapping(){return this._autoLevelCapping}get bandwidthEstimate(){const{bwEstimator:t}=this.abrController;return t?t.getEstimate():NaN}get ttfbEstimate(){const{bwEstimator:t}=this.abrController;return t?t.getEstimateTTFB():NaN}set autoLevelCapping(t){this._autoLevelCapping!==t&&(g.log(`set autoLevelCapping:${t}`),this._autoLevelCapping=t);}get maxHdcpLevel(){return this._maxHdcpLevel}set maxHdcpLevel(t){le.indexOf(t)>-1&&(this._maxHdcpLevel=t);}get autoLevelEnabled(){return -1===this.levelController.manualLevel}get manualLevel(){return this.levelController.manualLevel}get minAutoLevel(){const{levels:t,config:{minAutoBitrate:e}}=this;if(!t)return 0;const r=t.length;for(let n=0;n<r;n++)if(t[n].maxBitrate>=e)return n;return 0}get maxAutoLevel(){const{levels:t,autoLevelCapping:e,maxHdcpLevel:r}=this;let n;if(n=-1===e&&t&&t.length?t.length-1:e,r)for(let e=n;e--;){const n=t[e].attrs["HDCP-LEVEL"];if(n&&n<=r)return e}return n}get nextAutoLevel(){return Math.min(Math.max(this.abrController.nextAutoLevel,this.minAutoLevel),this.maxAutoLevel)}set nextAutoLevel(t){this.abrController.nextAutoLevel=Math.max(this.minAutoLevel,t);}get playingDate(){return this.streamController.currentProgramDateTime}get mainForwardBufferInfo(){return this.streamController.getMainFwdBufferInfo()}get audioTracks(){const t=this.audioTrackController;return t?t.audioTracks:[]}get audioTrack(){const t=this.audioTrackController;return t?t.audioTrack:-1}set audioTrack(t){const e=this.audioTrackController;e&&(e.audioTrack=t);}get subtitleTracks(){const t=this.subtitleTrackController;return t?t.subtitleTracks:[]}get subtitleTrack(){const t=this.subtitleTrackController;return t?t.subtitleTrack:-1}get media(){return this._media}set subtitleTrack(t){const e=this.subtitleTrackController;e&&(e.subtitleTrack=t);}get subtitleDisplay(){const t=this.subtitleTrackController;return !!t&&t.subtitleDisplay}set subtitleDisplay(t){const e=this.subtitleTrackController;e&&(e.subtitleDisplay=t);}get lowLatencyMode(){return this.config.lowLatencyMode}set lowLatencyMode(t){this.config.lowLatencyMode=t;}get liveSyncPosition(){return this.latencyController.liveSyncPosition}get latency(){return this.latencyController.latency}get maxLatency(){return this.latencyController.maxLatency}get targetLatency(){return this.latencyController.targetLatency}get drift(){return this.latencyController.drift}get forceStartLoad(){return this.streamController.forceStartLoad}}qi.defaultConfig=void 0;},4147:t=>{t.exports=JSON.parse('{"name":"paella-core","version":"1.35.1","description":"Multistream HTML video player","main":"src/index.js","module":"dist/paella-core.js","scripts":{"build":"webpack --mode production","dev":"webpack serve --mode development --config webpack.debug.js --host 0.0.0.0","captions":"webpack serve --mode development --config webpack.captions.js","eslint":"eslint .","nomanifest":"webpack serve --mode development --config webpack.nomanifest.js","testenv":"webpack serve --mode development --config webpack.test.js --host 0.0.0.0"},"repository":{"type":"git","url":"git+https://github.com/polimediaupv/paella-core.git"},"keywords":["html","player","video","hls"],"author":"Fernando Serrano Carpena <ferserc1@gmail.com>","license":"ECL-2.0","bugs":{"url":"https://github.com/polimediaupv/paella-core/issues"},"homepage":"https://github.com/polimediaupv/paella-core#readme","devDependencies":{"@babel/core":"^7.12.10","@babel/plugin-transform-modules-commonjs":"^7.19.6","@babel/preset-env":"^7.12.11","@playwright/test":"^1.29.2","babel-loader":"^9.0.0","babel-plugin-transform-require-context":"^0.1.1","copy-webpack-plugin":"^11.0.0","css-loader":"^6.6.0","eslint":"^8.29.0","file-loader":"^6.2.0","html-webpack-plugin":"^5.5.0","source-map-loader":"^4.0.0","style-loader":"^3.3.1","svg-inline-loader":"^0.8.2","webpack":"^5.66.0","webpack-cli":"^5.0.0","webpack-dev-server":"^4.7.3"},"dependencies":{"core-js":"^3.8.2","hls.js":"^1.0.4"}}');},6263:t=>{t.exports=JSON.parse('{"May the force be with you":"May the force be with you","Digit1":"1","Digit2":"2","Digit3":"3","Digit4":"4","Digit5":"5","Digit6":"6","Digit7":"7","Digit8":"8","Digit9":"9","Digit0":"0","KeyA":"A","KeyB":"B","KeyC":"C","KeyD":"D","KeyE":"E","KeyF":"F","KeyG":"G","KeyH":"H","KeyI":"I","KeyJ":"J","KeyK":"K","KeyL":"L","KeyM":"M","KeyN":"N","KeyO":"O","KeyP":"P","KeyQ":"Q","KeyR":"R","KeyS":"S","KeyT":"T","KeyU":"U","KeyV":"V","KeyW":"W","KeyX":"X","KeyY":"Y","KeyZ":"Z","Comma":",","Period":".","Semicolon":";","Quote":"\'","BracketLeft":"[","BracketRight":"]","Backquote":"`","Backslash":"\\\\","Minus":"-","Equal":"=","AltLeft":"Alt","AltRight":"Alt","CapsLock":"CapsLock","ControlLeft":"ControlLeft","ControlRight":"ControlRight","OSLeft":"OSLeft","OSRight":"OSRight","ShiftLeft":"ShiftLeft","ShiftRight":"ShiftRight","ContextMenu":"ContextMenu","Enter":"Enter","Space":"Space","Tab":"Tab","Delete":"Delete","End":"End","Help":"Help","Home":"Home","Insert":"Insert","PageDown":"PageDown","PageUp":"PageUp","ArrowDown":"ArrowDown","ArrowLeft":"ArrowLeft","ArrowRight":"ArrowRight","ArrowUp":"ArrowUp","Escape":"Escape","PrintScreen":"PrintScreen","ScrollLock":"ScrollLock","Pause":"Pausa","Put the videos side by side":"Put the videos side by side","Minimize video":"Minimize video","Close video":"Close video","Place the video on the other side of the screen":"Place the video on the other side of the screen","Maximize video":"Maximize video","Swap position of the videos":"Swap position of the videos","loadManifest(): Invalid current player state: $1":"loadManifest(): Invalid current player state: $1","loadPlayer(): Invalid current player state: $1":"loadPlayer(): Invalid current player state: $1","Could not load player: state transition in progress: $1":"Could not load player: state transition in progress: $1","Could not unload player: state transition in progress: $1":"Could not unload player: state transition in progress: $1","unloadManifest(): Invalid current player state: $1":"unloadManifest(): Invalid current player state: $1","Error loading video manifest: $1 $2":"Error loading video manifest: $1 $2","Play/pause":"Play/pause","Select the active audio track":"Select the active audio track","Toggle audio mute":"Toggle audio mute","Toggle play/pause":"Toggle play/pause","Toggle captions":"Toggle captions","Backward $1 seconds":"Backward $1 seconds","Forward $1 seconds":"Forward $1 seconds","Volume up 10%":"Volume up 10%","Volume down 10%":"Volume down 10%","Close pop-up":"Close pop-up","Decrease playback speed":"Decrease playback speed","Increase playback speed":"Increase playback speed","Swap between side by side and minimized video":"Swap between side by side and minimized video","Swap the position of the videos":"Swap the position of the videos"}');},8992:t=>{t.exports=JSON.parse('{"May the force be with you":"Que la fuerza te acompañe","Digit1":"1","Digit2":"2","Digit3":"3","Digit4":"4","Digit5":"5","Digit6":"6","Digit7":"7","Digit8":"8","Digit9":"9","Digit0":"0","KeyA":"A","KeyB":"B","KeyC":"C","KeyD":"D","KeyE":"E","KeyF":"F","KeyG":"G","KeyH":"H","KeyI":"I","KeyJ":"J","KeyK":"K","KeyL":"L","KeyM":"M","KeyN":"N","KeyO":"O","KeyP":"P","KeyQ":"Q","KeyR":"R","KeyS":"S","KeyT":"T","KeyU":"U","KeyV":"V","KeyW":"W","KeyX":"X","KeyY":"Y","KeyZ":"Z","Comma":",","Period":".","Semicolon":";","Quote":"\'","BracketLeft":"[","BracketRight":"]","Backquote":"`","Backslash":"\\\\","Minus":"-","Equal":"=","AltLeft":"Alt","AltRight":"Alt","CapsLock":"Bloqueo May.","ControlLeft":"Ctrl","ControlRight":"Ctrl","OSLeft":"OSLeft","OSRight":"OSRight","ShiftLeft":"Mayúsculas","ShiftRight":"Mayúsculas","ContextMenu":"ContextMenu","Enter":"Intro","Space":"Espacio","Tab":"Tabulador","Delete":"Borrar","End":"Fin","Help":"Ayuda","Home":"Inicio","Insert":"Insertar","PageDown":"Re. Pag","PageUp":"Av. Pag","ArrowDown":"Flecha abajo","ArrowLeft":"Flecha izq.","ArrowRight":"Flecha der.","ArrowUp":"Flecha Arriba","Escape":"Escape","PrintScreen":"PrintScreen","ScrollLock":"ScrollLock","Pause":"Pausa","Put the videos side by side":"Colocar los vídeos uno junto al otro","Minimize video":"Minimizar vídeo","Close video":"Cerrar el video","Place the video on the other side of the screen":"Colocar el vídeo al otro lado de la pantalla","Maximize video":"Maximizar vídeo","Swap position of the videos":"Intercambiar posición de los vídeos","loadManifest(): Invalid current player state: $1":"loadManifest(): Estado actual del reproductor no válido: $1","loadPlayer(): Invalid current player state: $1":"loadPlayer(): Estado actual del reproductor no válido: $1","Could not load player: state transition in progress: $1":"No se puede cargar el reproductor: transición de estado en progreso: $1","Could not unload player: state transition in progress: $1":"No se puede descargar el reproductor: transición de estado en progreso $1","unloadManifest(): Invalid current player state: $1":"unloadManifest(): Estado actual del reprodutor no válido: $1","Error loading video manifest: $1 $2":"Error cargando la información del vídeo: $1 $2","Play/pause":"Reproducir/pausar","Select the active audio track":"Seleccione la pista de audio activa","Toggle audio mute":"Conmutar el silencio de audio","Toggle play/pause":"Activar la reproducción/pausa","Toggle captions":"Alternar subtítulos","Backward $1 seconds":"Volver hacia atrás $1 segundos","Forward $1 seconds":"Ir hacia adelante $1 segundos","Volume up 10%":"Aumenta el volumen un 10%.","Volume down 10%":"Reduce el volumen un 10%.","Close pop-up":"Cerrar ventana emergente","Decrease playback speed":"Reducir la velocidad de reproducción","Increase playback speed":"Aumentar la velocidad de reproducción","Swap between side by side and minimized video":"Cambiar la disposición de los dos vídeos entre minimizado y del mismo tamaño","Swap the position of the videos":"Intercambiar la posición de los vídeos","Dual stream 50%":"Dos streams al 50%","Two videos 50%":"Dos streams al 50%"}');}},e={};function r(n){var i=e[n];if(void 0!==i)return i.exports;var o=e[n]={id:n,exports:{}};return t[n](o,o.exports,r),o.exports}r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]});},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0});},r.nc=void 0;var n={};return (()=>{r.r(n),r.d(n,{AudioTrackData:()=>ln.Z,ButtonGroupPlugin:()=>fn.Z,ButtonPlugin:()=>dt.ZP,Canvas:()=>et.Xz,CanvasButtonPlugin:()=>kn.ZP,CanvasButtonPosition:()=>et.iN,CanvasPlugin:()=>et.ZP,Captions:()=>pn.Z,CaptionsPlugin:()=>Se.Z,Data:()=>Ce.Z,DataPlugin:()=>Ce.e,DefaultKeyShortcutsPlugin:()=>bn.default,DomClass:()=>O.FZ,DualVideoDynamicLayoutPlugin:()=>En.default,DualVideoLayoutPlugin:()=>An.default,EventLogPlugin:()=>Ue.ZP,Events:()=>rt.ZP,HlsSupport:()=>yn.HlsSupport,HlsVideo:()=>yn.HlsVideo,ImageVideo:()=>gn.ImageVideo,KeyCodes:()=>Ge.mW,KeyShortcutPlugin:()=>Ge.ZP,LOG_LEVEL:()=>Je,Loader:()=>$,Log:()=>or,MenuButtonPlugin:()=>sn.Z,Mp4Video:()=>vn.Mp4Video,Paella:()=>rn,PlayPauseButtonPlugin:()=>mn.default,PlayerResource:()=>J.Z,PlayerState:()=>Er,PlayerStateNames:()=>qr,Plugin:()=>nn.Z,PluginModule:()=>hn.Z,PopUp:()=>ve.Z,PopUpButtonPlugin:()=>an.Z,ProgressIndicatorPlugin:()=>cn.Z,SingleVideoLayoutPlugin:()=>wn.default,TripleVideoLayoutPlugin:()=>xn.default,UserInterfacePlugin:()=>on.Z,Video:()=>tt.nk,VideoCanvas:()=>_n.VideoCanvas,VideoCanvasPlugin:()=>_n.default,VideoContainerMessagePosition:()=>bt.S,VideoLayout:()=>Q.ZP,VideoPlugin:()=>tt.ZP,VideoQualityItem:()=>un.Z,VttManifestCaptionsPlugin:()=>Ln.default,WebVTTParser:()=>dn.Z,addDictionary:()=>pt.BF,bindEvent:()=>rt.GT,checkManifestIntegrity:()=>ft,createElement:()=>O.az,createElementWithHtmlText:()=>O.jS,defaultAddDictionaryFunction:()=>pt.Xx,defaultGetCookieConsentCallback:()=>Ke,defaultGetCookieDescriptionCallback:()=>He,defaultGetDefaultLanguageFunction:()=>pt.eJ,defaultGetDictionariesFunction:()=>pt.m6,defaultGetLanguageFunction:()=>pt.cN,defaultGetManifestFileUrlFunction:()=>C,defaultGetManifestUrlFunction:()=>_,defaultGetVideoIdFunction:()=>x,defaultHlsConfig:()=>yn.defaultHlsConfig,defaultLoadConfigFunction:()=>A,defaultLoadVideoManifestFunction:()=>T,defaultSetLanguageFunction:()=>pt.D$,defaultTranslateFunction:()=>pt.Pb,getCurrentTabIndex:()=>dt.n,getDefaultLanguage:()=>pt.Mb,getDictionaries:()=>pt.rM,getHlsSupport:()=>yn.getHlsSupport,getLanguage:()=>pt.G3,getNextTabIndex:()=>dt.nu,getPluginsOfType:()=>X.FN,getShortcuts:()=>Ge.gg,importPlugins:()=>X.gQ,loadPluginsOfType:()=>X.FP,log:()=>ir,parseWebVTT:()=>dn.n,setLanguage:()=>pt.m0,translate:()=>pt.Iu,triggerEvent:()=>rt.qe,triggerIfReady:()=>rt.Ss,utils:()=>v});var t=r(3379),e=r.n(t),i=r(7795),o=r.n(i),a=r(569),s=r.n(a),c=r(3565),u=r.n(c),l=r(9216),f=r.n(l),h=r(4589),d=r.n(h),p=r(7945),y={};y.styleTagTransform=d(),y.setAttributes=u(),y.insert=s().bind(null,"head"),y.domAPI=o(),y.insertStyleElement=f(),e()(p.Z,y),p.Z&&p.Z.locals&&p.Z.locals,r(5666);var v=r(1401);function g(t){return g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},g(t)}function m(){m=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value;},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"");}catch(t){c=function(t,e,r){return t[e]=r};}function u(t,e,r,i){var o=e&&e.prototype instanceof h?e:h,a=Object.create(o.prototype),s=new C(i||[]);return n(a,"_invoke",{value:x(t,r,s)}),a}function l(t,e,r){try{return {type:"normal",arg:t.call(e,r)}}catch(t){return {type:"throw",arg:t}}}t.wrap=u;var f={};function h(){}function d(){}function p(){}var y={};c(y,o,(function(){return this}));var v=Object.getPrototypeOf,b=v&&v(v(S([])));b&&b!==e&&r.call(b,o)&&(y=b);var w=p.prototype=h.prototype=Object.create(y);function A(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}));}));}function E(t,e){function i(n,o,a,s){var c=l(t[n],t,o);if("throw"!==c.type){var u=c.arg,f=u.value;return f&&"object"==g(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){i("next",t,a,s);}),(function(t){i("throw",t,a,s);})):e.resolve(f).then((function(t){u.value=t,a(u);}),(function(t){return i("throw",t,a,s)}))}s(c.arg);}var o;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){i(t,r,e,n);}))}return o=o?o.then(n,n):n()}});}function x(t,e,r){var n="suspendedStart";return function(i,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===i)throw o;return {value:void 0,done:!0}}for(r.method=i,r.arg=o;;){var a=r.delegate;if(a){var s=L(a,r);if(s){if(s===f)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg);}else "return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=l(t,e,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===f)continue;return {value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg);}}}function L(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,L(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var i=l(n,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,f;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e);}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e;}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0);}function S(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return {next:T}}function T(){return {value:void 0,done:!0}}return d.prototype=p,n(w,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:d,configurable:!0}),d.displayName=c(p,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return !!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,s,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return {__await:t}},A(E.prototype),c(E.prototype,a,(function(){return this})),t.AsyncIterator=E,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new E(u(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},A(w),c(w,s,"Generator"),c(w,o,(function(){return this})),c(w,"toString",(function(){return "[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=S,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0);},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else {if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return "break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;k(r);}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:S(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}function b(t,e,r,n,i,o,a){try{var s=t[o](a),c=s.value;}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,i);}function w(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){b(o,n,i,a,s,"next",t);}function s(t){b(o,n,i,a,s,"throw",t);}a(void 0);}))}}function A(t,e){return E.apply(this,arguments)}function E(){return (E=w(m().mark((function t(e,r){var n;return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.log.debug("Using default configuration loading function."),t.next=3,fetch(e);case 3:return n=t.sent,t.abrupt("return",n.json());case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function x(t,e){return L.apply(this,arguments)}function L(){return (L=w(m().mark((function t(e,r){return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.log.debug("Using default getVideoId function"),t.abrupt("return",(0, v.getHashParameter)("id")||(0, v.getUrlParameter)("id")||e.fallbackId);case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function _(t,e,r,n){return k.apply(this,arguments)}function k(){return (k=w(m().mark((function t(e,r,n,i){return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i.log.debug("Using default getManifestUrl function"),t.abrupt("return",(0, v.joinPath)([e,r]));case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function C(t,e,r,n){return S.apply(this,arguments)}function S(){return (S=w(m().mark((function t(e,r,n,i){return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i.log.debug("Using default getManifestFileUrl function"),t.abrupt("return",(0, v.joinPath)([e,r]));case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function T(t,e,r){return P.apply(this,arguments)}function P(){return (P=w(m().mark((function t(e,r,n){var i;return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.log.debug("Using default loadVideoManifest function"),t.next=3,fetch(e);case 3:if(!(i=t.sent).ok){t.next=10;break}return t.next=7,i.json();case 7:return t.abrupt("return",t.sent);case 10:throw new Error(n.translate("Error loading video manifest: $1 $2",[i.status,i.statusText]));case 11:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var O=r(916),I=r(9598),R=r.n(I),D=r(7649),j={};function B(t){return B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},B(t)}function F(){F=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value;},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"");}catch(t){c=function(t,e,r){return t[e]=r};}function u(t,e,r,i){var o=e&&e.prototype instanceof h?e:h,a=Object.create(o.prototype),s=new _(i||[]);return n(a,"_invoke",{value:A(t,r,s)}),a}function l(t,e,r){try{return {type:"normal",arg:t.call(e,r)}}catch(t){return {type:"throw",arg:t}}}t.wrap=u;var f={};function h(){}function d(){}function p(){}var y={};c(y,o,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(k([])));g&&g!==e&&r.call(g,o)&&(y=g);var m=p.prototype=h.prototype=Object.create(y);function b(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}));}));}function w(t,e){function i(n,o,a,s){var c=l(t[n],t,o);if("throw"!==c.type){var u=c.arg,f=u.value;return f&&"object"==B(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){i("next",t,a,s);}),(function(t){i("throw",t,a,s);})):e.resolve(f).then((function(t){u.value=t,a(u);}),(function(t){return i("throw",t,a,s)}))}s(c.arg);}var o;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){i(t,r,e,n);}))}return o=o?o.then(n,n):n()}});}function A(t,e,r){var n="suspendedStart";return function(i,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===i)throw o;return {value:void 0,done:!0}}for(r.method=i,r.arg=o;;){var a=r.delegate;if(a){var s=E(a,r);if(s){if(s===f)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg);}else "return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=l(t,e,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===f)continue;return {value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg);}}}function E(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var i=l(n,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,f;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e);}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e;}function _(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0);}function k(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return {next:C}}function C(){return {value:void 0,done:!0}}return d.prototype=p,n(m,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:d,configurable:!0}),d.displayName=c(p,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return !!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,s,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return {__await:t}},b(w.prototype),c(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new w(u(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(m),c(m,s,"Generator"),c(m,o,(function(){return this})),c(m,"toString",(function(){return "[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=k,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0);},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else {if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return "break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),L(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;L(r);}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:k(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}function N(t,e,r,n,i,o,a){try{var s=t[o](a),c=s.value;}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,i);}function M(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(i=function(t,e){if("object"!==B(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==B(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===B(i)?i:String(i)),n);}var i;}function U(t,e){return U=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},U(t,e)}function G(t){return G=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},G(t)}j.styleTagTransform=d(),j.setAttributes=u(),j.insert=s().bind(null,"head"),j.domAPI=o(),j.insertStyleElement=f(),e()(D.Z,j),D.Z&&D.Z.locals&&D.Z.locals;var $=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&U(t,e);}(c,t);var e,r,n,i,o,a,s=(o=c,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return !1;if(Reflect.construct.sham)return !1;if("function"==typeof Proxy)return !0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return !1}}(),function(){var t,e=G(o);if(a){var r=G(this).constructor;t=Reflect.construct(e,arguments,r);}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===B(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function c(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),(e=s.call(this,t,{parent:t.containerElement})).element.className="loader-container",e}return e=c,r=[{key:"create",value:(n=F().mark((function t(){return F().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(0, O.jS)("<i>".concat(R(),"</i>"),this.element);case 1:case"end":return t.stop()}}),t,this)})),i=function(){var t=this,e=arguments;return new Promise((function(r,i){var o=n.apply(t,e);function a(t){N(o,r,i,a,s,"next",t);}function s(t){N(o,r,i,a,s,"throw",t);}a(void 0);}))},function(){return i.apply(this,arguments)})},{key:"debug",get:function(){return !1}}],r&&M(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),c}(O.FZ),V=r(3280),K=r.n(V),H=r(3189),Y={};function Z(t){return Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Z(t)}function W(t,e){return W=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},W(t,e)}function z(t){return z=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},z(t)}Y.styleTagTransform=d(),Y.setAttributes=u(),Y.insert=s().bind(null,"head"),Y.domAPI=o(),Y.insertStyleElement=f(),e()(H.Z,Y),H.Z&&H.Z.locals&&H.Z.locals;var q=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&W(t,e);}(o,t);var e,r,n,i=(r=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return !1;if(Reflect.construct.sham)return !1;if("function"==typeof Proxy)return !0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return !1}}(),function(){var t,e=z(r);if(n){var i=z(this).constructor;t=Reflect.construct(e,arguments,i);}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Z(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function o(t){var e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(e=i.call(this,t,{parent:t.containerElement})).element.className="error-container",(0, O.jS)("\n            <div>\n                <i>".concat(K(),"</i>\n                <p>").concat(r,"</p>\n            </div>"),e.element),e}return e=o,Object.defineProperty(e,"prototype",{writable:!1}),e}(O.FZ),X=r(8450),Q=r(3063),J=r(2624),tt=r(646),et=r(4382),rt=r(980);function nt(t){return nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nt(t)}function it(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ot(){ot=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value;},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"");}catch(t){c=function(t,e,r){return t[e]=r};}function u(t,e,r,i){var o=e&&e.prototype instanceof h?e:h,a=Object.create(o.prototype),s=new _(i||[]);return n(a,"_invoke",{value:A(t,r,s)}),a}function l(t,e,r){try{return {type:"normal",arg:t.call(e,r)}}catch(t){return {type:"throw",arg:t}}}t.wrap=u;var f={};function h(){}function d(){}function p(){}var y={};c(y,o,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(k([])));g&&g!==e&&r.call(g,o)&&(y=g);var m=p.prototype=h.prototype=Object.create(y);function b(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}));}));}function w(t,e){function i(n,o,a,s){var c=l(t[n],t,o);if("throw"!==c.type){var u=c.arg,f=u.value;return f&&"object"==nt(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){i("next",t,a,s);}),(function(t){i("throw",t,a,s);})):e.resolve(f).then((function(t){u.value=t,a(u);}),(function(t){return i("throw",t,a,s)}))}s(c.arg);}var o;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){i(t,r,e,n);}))}return o=o?o.then(n,n):n()}});}function A(t,e,r){var n="suspendedStart";return function(i,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===i)throw o;return {value:void 0,done:!0}}for(r.method=i,r.arg=o;;){var a=r.delegate;if(a){var s=E(a,r);if(s){if(s===f)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg);}else "return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=l(t,e,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===f)continue;return {value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg);}}}function E(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var i=l(n,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,f;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e);}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e;}function _(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0);}function k(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return {next:C}}function C(){return {value:void 0,done:!0}}return d.prototype=p,n(m,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:d,configurable:!0}),d.displayName=c(p,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return !!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,s,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return {__await:t}},b(w.prototype),c(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new w(u(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(m),c(m,s,"Generator"),c(m,o,(function(){return this})),c(m,"toString",(function(){return "[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=k,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0);},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else {if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return "break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),L(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;L(r);}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:k(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}function at(t,e,r,n,i,o,a){try{var s=t[o](a),c=s.value;}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,i);}function st(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){at(o,n,i,a,s,"next",t);}function s(t){at(o,n,i,a,s,"throw",t);}a(void 0);}))}}function ct(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(i=function(t,e){if("object"!==nt(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==nt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===nt(i)?i:String(i)),n);}var i;}function ut(t,e){return ut=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ut(t,e)}function lt(t){return lt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},lt(t)}function ft(t){var e,r=function(t,e){if(!t)throw new Error("Invalid video manifest: ".concat(e))};r(t.streams,"missing 'streams' object."),r(t.streams.length>0,"the 'streams' array is empty."),r(null===(e=t.metadata)||void 0===e?void 0:e.preview,"the 'metadata.preview' field is required.");}var ht=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ut(t,e);}(S,t);var e,r,n,i,o,a,s,c,u,l,f,h,d,p,y,v,g,m,b,w,A,E,x,L,_,k,C=(_=S,k=function(){if("undefined"==typeof Reflect||!Reflect.construct)return !1;if(Reflect.construct.sham)return !1;if("function"==typeof Proxy)return !0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return !1}}(),function(){var t,e=lt(_);if(k){var r=lt(this).constructor;t=Reflect.construct(e,arguments,r);}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===nt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function S(t,e){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,S),(r=C.call(this,t,e))._videoContainer=e,r._streamData=null,r._streams=null,r._players=[],r._mainAudioPlayer=null,r._streamSyncTimer=null,r._trimming={enabled:!1,start:100,end:200},r}return e=S,r=[{key:"load",value:function(){var t=st(ot().mark((function t(e){var r,n,i,o,a=this;return ot().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this._streamData=e,this._streams={},r=this.player.config.defaultAudioStream||"presenter",1===this._streamData.length&&(r=this._streamData[0].content),e.some((function(t){if("mainAudio"===t.role)return r=t.content,!0})),this.player.log.debug("Finding compatible video plugins"),t.next=8,(0, et.yJ)(this.player);case 8:this._streamData.forEach((function(t){var e=(0, et.in)(a.player,t);if(!e)throw Error("Canvas plugin not found: ".concat(t.canvas));var n=t.content===r,i=(0, tt.ti)(a.player,t);if(!i)throw Error("Incompatible stream type: ".concat(t.content));a._streams[t.content]={stream:t,isMainAudio:n,videoPlugin:i,canvasPlugin:e};})),n=null,t.t0=ot().keys(this._streams);case 11:if((t.t1=t.t0()).done){t.next=29;break}return i=t.t1.value,o=this._streams[i],t.next=16,o.canvasPlugin.getCanvasInstance(this._videoContainer);case 16:return o.canvas=t.sent,t.next=19,o.videoPlugin.getVideoInstance(o.canvas.element,o.isMainAudio);case 19:return o.player=t.sent,r===i?(this._mainAudioPlayer=o.player,o.player.initVolume(1)):o.player.initVolume(0),t.next=23,o.player.load(o.stream,this);case 23:return t.next=25,o.canvas.loadCanvas(o.player);case 25:o.player.onVideoEnded((function(){null===n&&((0, rt.Ss)(a.player,rt.ZP.ENDED),n=setTimeout((function(){n=null;}),2e3));})),this._players.push(o.player),t.next=11;break;case 29:if(null!==this.mainAudioPlayer){t.next=32;break}throw this.player.log.error("The video stream containing the audio track could not be identified. The `role` attribute must be specified in the main video stream, or the `defaultAudioStream` attribute must be set correctly in the player configuration."),new Error("The video stream containing the audio track could not be identified.");case 32:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"unload",value:(L=st(ot().mark((function t(){return ot().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.stopStreamSync(),t.next=3,(0, et.Ke)(this.player);case 3:case"end":return t.stop()}}),t,this)}))),function(){return L.apply(this,arguments)})},{key:"players",get:function(){return this._players}},{key:"streamData",get:function(){return this._streamData}},{key:"streams",get:function(){return this._streams}},{key:"mainAudioPlayer",get:function(){return this._mainAudioPlayer}},{key:"isTrimEnabled",get:function(){var t,e,r;return (null===(t=this._trimming)||void 0===t?void 0:t.enabled)&&(null===(e=this._trimming)||void 0===e?void 0:e.end)>(null===(r=this._trimming)||void 0===r?void 0:r.start)}},{key:"trimStart",get:function(){var t;return null===(t=this._trimming)||void 0===t?void 0:t.start}},{key:"trimEnd",get:function(){var t;return null===(t=this._trimming)||void 0===t?void 0:t.end}},{key:"setTrimming",value:(x=st(ot().mark((function t(e){var r,n,i,o;return ot().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.enabled,n=e.start,i=e.end,!(n>=i)){t.next=3;break}throw Error("Error setting trimming: start time (".concat(n,") must be lower than end time ").concat(i));case 3:return this._trimming={enabled:r,start:n,end:i},t.next=6,this.currentTime();case 6:o=t.sent,(0, rt.Ss)(this.player,rt.ZP.TIMEUPDATE,{currentTime:r?n+o:o});case 8:case"end":return t.stop()}}),t,this)}))),function(t){return x.apply(this,arguments)})},{key:"startStreamSync",value:function(){var t=this;this._timeSync=!0;var e=function(){var r=st(ot().mark((function r(){var n,i,o,a,s;return ot().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(t._players.length){r.next=3;break}return t.player.log.warn("Player not yet loaded. Waiting for video sync."),r.abrupt("return");case 3:if(n=t.mainAudioPlayer.currentTimeSync,t.players.length>1)for(i=0;i<t.players.length;++i)(o=t.players[i])!==t.mainAudioPlayer&&(a=o.currentTimeSync,Math.abs(n-a)>.2&&(t.player.log.debug("Video synchronization triggered"),o.setCurrentTime(n)));if(!t.isTrimEnabled){r.next=28;break}if(s=n-t.trimStart,!(t.trimEnd<=n)){r.next=19;break}return r.next=11,t.executeAction("pause");case 11:return r.next=13,t.setCurrentTime(0);case 13:return t.stopStreamSync(),n=0,(0, rt.Ss)(t.player,rt.ZP.ENDED,{}),r.abrupt("return");case 19:if(!(n<t.trimStart)){r.next=24;break}return r.next=22,t.setCurrentTime(0);case 22:n=t.trimStart,s=0;case 24:(0, rt.Ss)(t.player,rt.ZP.TIMEUPDATE,{currentTime:s}),t._timeupdateTimer=setTimeout((function(){t._timeSync&&e();}),250),r.next=29;break;case 28:t._timeSync&&((0, rt.Ss)(t.player,rt.ZP.TIMEUPDATE,{currentTime:n}),t._timeupdateTimer=setTimeout((function(){e();}),250));case 29:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}();e();}},{key:"stopStreamSync",value:function(){this._timeSync=!1,this._timeupdateTimer&&clearTimeout(this._timeupdateTimer);}},{key:"executeAction",value:function(t){var e=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Array.isArray(r)||(r=[r]),new Promise((function(n){var i=[],o=[];e.players.forEach((function(e){o.push(new Promise((function(n){var o;e[t].apply(e,(o=r,function(t){if(Array.isArray(t))return it(t)}(o)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(o)||function(t,e){if(t){if("string"==typeof t)return it(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return "Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?it(t,e):void 0}}(o)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())).then((function(t){i.push(t),n();}));})));})),Promise.allSettled(o).then((function(){return n(i)}));}))}},{key:"isLiveStream",get:function(){return this._streamData.some((function(t){return -1!==Array.from(Object.keys(t.sources)).indexOf("hlsLive")}))}},{key:"play",value:(E=st(ot().mark((function t(){var e;return ot().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.startStreamSync(),t.next=3,this.executeAction("play");case 3:return e=t.sent,t.abrupt("return",e);case 5:case"end":return t.stop()}}),t,this)}))),function(){return E.apply(this,arguments)})},{key:"pause",value:(A=st(ot().mark((function t(){var e;return ot().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.stopStreamSync(),t.next=3,this.executeAction("pause");case 3:return e=t.sent,t.abrupt("return",e);case 5:case"end":return t.stop()}}),t,this)}))),function(){return A.apply(this,arguments)})},{key:"stop",value:(w=st(ot().mark((function t(){return ot().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.stopStreamSync(),t.next=3,this.executeAction("pause");case 3:return t.next=5,this.executeAction("setCurrentTime",0);case 5:case"end":return t.stop()}}),t,this)}))),function(){return w.apply(this,arguments)})},{key:"paused",value:(b=st(ot().mark((function t(){return ot().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.executeAction("paused");case 2:return t.abrupt("return",t.sent[0]);case 3:case"end":return t.stop()}}),t,this)}))),function(){return b.apply(this,arguments)})},{key:"setCurrentTime",value:(m=st(ot().mark((function t(e){var r,n,i,o,a,s,c;return ot().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.executeAction("currentTime");case 2:if(r=t.sent[0],n=null,!this.isTrimEnabled){t.next=16;break}return e=(e+=this.trimStart)>=this.trimEnd?this.trimEnd:e,t.next=9,this.executeAction("setCurrentTime",[e]);case 9:return i=t.sent[0],t.next=12,this.executeAction("currentTime");case 12:o=t.sent[0],n={result:i,prevTime:r-this.trimStart,newTime:o-this.trimStart},t.next=23;break;case 16:return t.next=18,this.executeAction("setCurrentTime",[e]);case 18:return a=t.sent[0],t.next=21,this.executeAction("currentTime");case 21:s=t.sent[0],n={result:a,prevTime:r,newTime:s};case 23:return t.next=25,this.currentTime();case 25:return c=t.sent,(0, rt.Ss)(this.player,rt.ZP.TIMEUPDATE,{currentTime:c}),t.abrupt("return",n);case 28:case"end":return t.stop()}}),t,this)}))),function(t){return m.apply(this,arguments)})},{key:"currentTime",value:(g=st(ot().mark((function t(){var e;return ot().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.mainAudioPlayer.currentTime();case 2:if(e=t.sent,!this.isTrimEnabled){t.next=7;break}return t.abrupt("return",e-this.trimStart);case 7:return t.abrupt("return",e);case 8:case"end":return t.stop()}}),t,this)}))),function(){return g.apply(this,arguments)})},{key:"currentTimeIgnoringTrimming",value:(v=st(ot().mark((function t(){var e;return ot().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.mainAudioPlayer.currentTime();case 2:return e=t.sent,t.abrupt("return",e);case 4:case"end":return t.stop()}}),t,this)}))),function(){return v.apply(this,arguments)})},{key:"volume",value:(y=st(ot().mark((function t(){return ot().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.mainAudioPlayer){t.next=6;break}return t.next=3,this.mainAudioPlayer.volume();case 3:return t.abrupt("return",t.sent);case 6:return t.next=8,this.executeAction("volume");case 8:return t.abrupt("return",t.sent[0]);case 9:case"end":return t.stop()}}),t,this)}))),function(){return y.apply(this,arguments)})},{key:"setVolume",value:(p=st(ot().mark((function t(e){return ot().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.mainAudioPlayer){t.next=6;break}return t.next=3,this.mainAudioPlayer.setVolume(e);case 3:return t.abrupt("return",t.sent);case 6:return t.next=8,this.executeAction("setVolume",[e]);case 8:return t.abrupt("return",t.sent[0]);case 9:case"end":return t.stop()}}),t,this)}))),function(t){return p.apply(this,arguments)})},{key:"duration",value:(d=st(ot().mark((function t(){return ot().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.isTrimEnabled){t.next=4;break}return t.abrupt("return",this.trimEnd-this.trimStart);case 4:return t.next=6,this.executeAction("duration");case 6:return t.abrupt("return",t.sent[0]);case 7:case"end":return t.stop()}}),t,this)}))),function(){return d.apply(this,arguments)})},{key:"durationIgnoringTrimming",value:(h=st(ot().mark((function t(){return ot().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.executeAction("duration");case 2:return t.abrupt("return",t.sent[0]);case 3:case"end":return t.stop()}}),t,this)}))),function(){return h.apply(this,arguments)})},{key:"playbackRate",value:(f=st(ot().mark((function t(){return ot().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.executeAction("playbackRate");case 2:return t.abrupt("return",t.sent[0]);case 3:case"end":return t.stop()}}),t,this)}))),function(){return f.apply(this,arguments)})},{key:"setPlaybackRate",value:(l=st(ot().mark((function t(e){return ot().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.executeAction("setPlaybackRate",[e]);case 2:return t.abrupt("return",t.sent[0]);case 3:case"end":return t.stop()}}),t,this)}))),function(t){return l.apply(this,arguments)})},{key:"getQualityReferencePlayer",value:(u=st(ot().mark((function t(){var e,r,n,i,o;return ot().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=null,r=[],!(Object.keys(this.streams).length>0)){t.next=16;break}t.t0=ot().keys(this.streams);case 4:if((t.t1=t.t0()).done){t.next=16;break}return n=t.t1.value,i=this.streams[n],t.next=9,i.player.getQualities();case 9:if(t.t2=t.sent,t.t2){t.next=12;break}t.t2=[];case 12:o=t.t2,!e&&o.length>r.length&&(r=o,e=i.player),t.next=4;break;case 16:return t.abrupt("return",e||this.mainAudioPlayer);case 17:case"end":return t.stop()}}),t,this)}))),function(){return u.apply(this,arguments)})},{key:"getCurrentQuality",value:(c=st(ot().mark((function t(){return ot().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getQualityReferencePlayer();case 2:return t.abrupt("return",t.sent.currentQuality);case 3:case"end":return t.stop()}}),t,this)}))),function(){return c.apply(this,arguments)})},{key:"getQualities",value:(s=st(ot().mark((function t(){var e;return ot().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getQualityReferencePlayer();case 2:return e=t.sent,t.next=5,e.getQualities();case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t,this)}))),function(){return s.apply(this,arguments)})},{key:"setQuality",value:(a=st(ot().mark((function t(e){var r,n,i,o,a,s,c,u,l,f;return ot().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getQualityReferencePlayer();case 2:return r=t.sent,t.next=5,r.getQualities();case 5:if(n=t.sent,i=n.length,o=-1,n.some((function(t,r){return e.index===t.index&&(o=r),-1!==o})),!(o>=0)){t.next=29;break}a=o/i,t.t0=ot().keys(this.streams);case 12:if((t.t1=t.t0()).done){t.next=29;break}return s=t.t1.value,c=this.streams[s],t.next=17,c.player.getQualities();case 17:if(t.t2=t.sent,t.t2){t.next=20;break}t.t2=[];case 20:if(u=t.t2,this.player.log.debug(u),!(u.length>1)){t.next=27;break}return l=Math.round(u.length*a),f=u[l],t.next=27,c.player.setQuality(f);case 27:t.next=12;break;case 29:case"end":return t.stop()}}),t,this)}))),function(t){return a.apply(this,arguments)})},{key:"supportsMultiaudio",value:(o=st(ot().mark((function t(){return ot().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.mainAudioPlayer.supportsMultiaudio());case 1:case"end":return t.stop()}}),t,this)}))),function(){return o.apply(this,arguments)})},{key:"getAudioTracks",value:(i=st(ot().mark((function t(){return ot().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.mainAudioPlayer.getAudioTracks());case 1:case"end":return t.stop()}}),t,this)}))),function(){return i.apply(this,arguments)})},{key:"setCurrentAudioTrack",value:(n=st(ot().mark((function t(e){return ot().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.mainAudioPlayer.setCurrentAudioTrack(e));case 1:case"end":return t.stop()}}),t,this)}))),function(t){return n.apply(this,arguments)})},{key:"currentAudioTrack",get:function(){return this.mainAudioPlayer.currentAudioTrack}}],r&&ct(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),S}(J.Z),dt=r(1768),pt=r(629),yt=r(7674),vt={};vt.styleTagTransform=d(),vt.setAttributes=u(),vt.insert=s().bind(null,"head"),vt.domAPI=o(),vt.insertStyleElement=f(),e()(yt.Z,vt),yt.Z&&yt.Z.locals&&yt.Z.locals;var gt=r(2323),mt={};mt.styleTagTransform=d(),mt.setAttributes=u(),mt.insert=s().bind(null,"head"),mt.domAPI=o(),mt.insertStyleElement=f(),e()(gt.Z,mt),gt.Z&&gt.Z.locals&&gt.Z.locals;var bt=r(8985);function wt(t){return wt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wt(t)}function At(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return Et(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return "Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Et(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,i=function(){};return {s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return {s:function(){r=r.call(t);},n:function(){var t=r.next();return a=t.done,t},e:function(t){s=!0,o=t;},f:function(){try{a||null==r.return||r.return();}finally{if(s)throw o}}}}function Et(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function xt(){xt=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value;},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"");}catch(t){c=function(t,e,r){return t[e]=r};}function u(t,e,r,i){var o=e&&e.prototype instanceof h?e:h,a=Object.create(o.prototype),s=new _(i||[]);return n(a,"_invoke",{value:A(t,r,s)}),a}function l(t,e,r){try{return {type:"normal",arg:t.call(e,r)}}catch(t){return {type:"throw",arg:t}}}t.wrap=u;var f={};function h(){}function d(){}function p(){}var y={};c(y,o,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(k([])));g&&g!==e&&r.call(g,o)&&(y=g);var m=p.prototype=h.prototype=Object.create(y);function b(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}));}));}function w(t,e){function i(n,o,a,s){var c=l(t[n],t,o);if("throw"!==c.type){var u=c.arg,f=u.value;return f&&"object"==wt(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){i("next",t,a,s);}),(function(t){i("throw",t,a,s);})):e.resolve(f).then((function(t){u.value=t,a(u);}),(function(t){return i("throw",t,a,s)}))}s(c.arg);}var o;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){i(t,r,e,n);}))}return o=o?o.then(n,n):n()}});}function A(t,e,r){var n="suspendedStart";return function(i,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===i)throw o;return {value:void 0,done:!0}}for(r.method=i,r.arg=o;;){var a=r.delegate;if(a){var s=E(a,r);if(s){if(s===f)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg);}else "return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=l(t,e,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===f)continue;return {value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg);}}}function E(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var i=l(n,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,f;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e);}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e;}function _(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0);}function k(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return {next:C}}function C(){return {value:void 0,done:!0}}return d.prototype=p,n(m,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:d,configurable:!0}),d.displayName=c(p,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return !!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,s,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return {__await:t}},b(w.prototype),c(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new w(u(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(m),c(m,s,"Generator"),c(m,o,(function(){return this})),c(m,"toString",(function(){return "[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=k,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0);},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else {if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return "break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),L(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;L(r);}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:k(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}function Lt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(i=function(t,e){if("object"!==wt(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==wt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===wt(i)?i:String(i)),n);}var i;}function _t(t,e){return _t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},_t(t,e)}function kt(t){return kt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},kt(t)}function Ct(t,e,r,n,i,o,a){try{var s=t[o](a),c=s.value;}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,i);}function St(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){Ct(o,n,i,a,s,"next",t);}function s(t){Ct(o,n,i,a,s,"throw",t);}a(void 0);}))}}function Tt(t,e){return Array.isArray[e]||(e=[e]),(0, tt.Wl)(t,e).getManifestData(e)}function Pt(t){return Ot.apply(this,arguments)}function Ot(){return (Ot=St(xt().mark((function t(e){return xt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",{w:1280,h:720});case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function It(t){return Rt.apply(this,arguments)}function Rt(){return (Rt=St(xt().mark((function t(e){var r,n,i=this;return xt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=xt().mark((function t(r){var n,o,a;return xt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=null!=(null==e||null===(n=e.videos)||void 0===n?void 0:n.find((function(t){return t.content===r}))),a=i.streamProvider.streams[r],!o||a.player.isEnabled){t.next=7;break}return t.next=5,a.player.enable();case 5:t.next=10;break;case 7:if(o||!a.player.isEnabled){t.next=10;break}return t.next=10,a.player.disable();case 10:case"end":return t.stop()}}),t)})),t.t0=xt().keys(this.streamProvider.streams);case 2:if((t.t1=t.t0()).done){t.next=7;break}return n=t.t1.value,t.delegateYield(r(n),"t2",5);case 5:t.next=2;break;case 7:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function Dt(){for(var t in this.streamProvider.streams)this.streamProvider.streams[t].canvas.element.style.display="none";}function jt(){return Bt.apply(this,arguments)}function Bt(){return Bt=St(xt().mark((function t(){var e,r,n,i,o,a,s,c,u,l,f,h,d,p,y,v=this;return xt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=(0, Q.yl)(this.player,this.streamProvider.streamData,this._layoutId,this._mainLayoutContent),t.next=3,It.apply(this,[n]);case 3:return Dt.apply(this),t.next=6,Pt(this.player);case 6:if(i=t.sent,o=this.elementSize,a=100/i.w,s=100/i.h,c=o.w/o.h,u=i.w/i.h,l=c>u?{w:o.h*u,h:o.h}:{w:o.w,h:o.w/u},this.baseVideoRect.style.width=l.w+"px",this.baseVideoRect.style.height=l.h+"px",this.baseVideoRect.classList.remove("dynamic"),null==n||null===(e=n.videos)||void 0===e||!e.length){t.next=35;break}f=[],h=At(n.videos),t.prev=19,p=xt().mark((function t(){var e,r,i,o,c,u,l,h,p,y,g,m;return xt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=d.value,(u=v.streamProvider.streams[c.content]).stream,l=u.player,h=u.canvas,t.next=5,l.getDimensions();case 5:return p=t.sent,y=p.w/p.h,g=Number.MAX_VALUE,m=null,h.buttonsArea.innerHTML="",t.t0=f,t.next=13,(0, et.RM)(v.player,n,h,c,c.content);case 13:t.t1=t.sent,t.t0.push.call(t.t0,t.t1),c.rect.forEach((function(t){var e=/^(\d+.?\d*)\/(\d+.?\d*)$/.exec(t.aspectRatio),r=e?Number(e[1])/Number(e[2]):1,n=Math.abs(y-r);n<g&&(m=t,g=n);})),h.element.style.display="block",h.element.style.position="absolute",h.element.style.left="".concat((null===(e=m)||void 0===e?void 0:e.left)*a,"%"),h.element.style.top="".concat((null===(r=m)||void 0===r?void 0:r.top)*s,"%"),h.element.style.width="".concat((null===(i=m)||void 0===i?void 0:i.width)*a,"%"),h.element.style.height="".concat((null===(o=m)||void 0===o?void 0:o.height)*s,"%"),h.element.style.zIndex=c.layer;case 23:case"end":return t.stop()}}),t)})),h.s();case 22:if((d=h.n()).done){t.next=26;break}return t.delegateYield(p(),"t0",24);case 24:t.next=22;break;case 26:t.next=31;break;case 28:t.prev=28,t.t1=t.catch(19),h.e(t.t1);case 31:return t.prev=31,h.f(),t.finish(31);case 34:setTimeout((function(){(0, et.Hl)(v.player,n,f.flat());}),100);case 35:return y=this.baseVideoRect.getElementsByClassName("video-layout-button"),Array.from(y).forEach((function(t){return v.baseVideoRect.removeChild(t)})),null==n||null===(r=n.buttons)||void 0===r||r.forEach((function(t){var e=(0, O.az)({tag:"button",attributes:{class:"video-layout-button","aria-label":(0, pt.Iu)(t.ariaLabel),title:(0, pt.Iu)(t.title),style:"\n                    left: ".concat(t.rect.left*a,"%;\n                    top: ").concat(t.rect.top*s,"%;\n                    width: ").concat(t.rect.width*a,"%;\n                    height: ").concat(t.rect.height*s,"%;\n                    z-index: ").concat(t.layer,";\n                ")},parent:v.baseVideoRect,children:t.icon});e.layout=n,e.buttonAction=t.onClick,e.addEventListener("click",function(){var t=St(xt().mark((function t(e){return xt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return (0, rt.qe)(v.player,rt.ZP.BUTTON_PRESS,{plugin:n.plugin,layoutStructure:n}),t.next=3,e.target.buttonAction.apply(e.target.layout);case 3:e.stopPropagation();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),v._layoutButtons.push(e);})),t.abrupt("return",!0);case 39:case"end":return t.stop()}}),t,this,[[19,28,31,34]])}))),Bt.apply(this,arguments)}function Ft(){return Nt.apply(this,arguments)}function Nt(){return (Nt=St(xt().mark((function t(){var e,r,n,i,o,a,s,c,u,l,f,h,d,p,y,v,g,m,b,w,A,E,x,L,_,k,C,S,T,P=this;return xt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=(0, Q.yl)(this.player,this.streamProvider.streamData,this._layoutId,this._mainLayoutContent),t.next=3,It.apply(this,[r]);case 3:if(Dt.apply(this),this.baseVideoRect.style.width="",this.baseVideoRect.style.height="",this.baseVideoRect.style.display="flex",this.baseVideoRect.classList.add("dynamic"),n=this.element.clientWidth,i=this.element.clientHeight,o=n>i,this.baseVideoRect.classList.remove("align-center"),this.baseVideoRect.classList.remove("align-top"),this.baseVideoRect.classList.remove("align-bottom"),this.baseVideoRect.classList.remove("align-left"),this.baseVideoRect.classList.remove("align-right"),o?(c=(null===(a=this.player.config.videoContainer)||void 0===a||null===(s=a.dynamicLayout)||void 0===s?void 0:s.landscapeVerticalAlignment)||"align-center",this.baseVideoRect.classList.remove("portrait"),this.baseVideoRect.classList.add("landscape"),this.baseVideoRect.classList.add(c)):(f=(null===(u=this.player.config.videoContainer)||void 0===u||null===(l=u.dynamicLayout)||void 0===l?void 0:l.portraitHorizontalAlignment)||"align-center",this.baseVideoRect.classList.add("portrait"),this.baseVideoRect.classList.remove("landscape"),this.baseVideoRect.classList.add(f)),h=this.baseVideoRect.clientWidth,d=this.element.clientHeight,null==r||null===(e=r.videos)||void 0===e||!e.length){t.next=67;break}p=0,y=[],v=[],g=At(r.videos),t.prev=24,g.s();case 26:if((m=g.n()).done){t.next=57;break}return b=m.value,w=this.streamProvider.streams[b.content],A=w.player,E=w.canvas,t.next=32,A.getDimensions();case 32:return x=t.sent,L=x.w/x.h,_=h,k=d,C=(o?_:k)*b.size/100,S=Math.round(o?C:C*L),T=Math.round(o?C/L:C),S>_&&(S=_,T=Math.round(S/L)),T>k&&(T=k,S=Math.round(T*L)),E.buttonsArea.innerHTML="",t.t0=v,t.next=45,(0, et.RM)(this.player,r,E,b,b.content);case 45:t.t1=t.sent,t.t0.push.call(t.t0,t.t1),E.element.style={},E.element.style.display="block",E.element.style.width="".concat(S,"px"),E.element.style.height="".concat(T,"px"),E.element.style.overflow="hidden",E.element.style.position="relative",E.element.sortIndex=p++,y.push(E.element);case 55:t.next=26;break;case 57:t.next=62;break;case 59:t.prev=59,t.t2=t.catch(24),g.e(t.t2);case 62:return t.prev=62,g.f(),t.finish(62);case 65:y.forEach((function(t){return P.baseVideoRect.appendChild(t)})),setTimeout((function(){(0, et.Hl)(P.player,r,v.flat());}),100);case 67:return t.abrupt("return",!0);case 68:case"end":return t.stop()}}),t,this,[[24,59,62,65]])})))).apply(this,arguments)}var Mt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_t(t,e);}(E,t);var e,r,n,i,o,a,s,c,u,l,f,h,d,p,y,v,g,m,b,w,A=(b=E,w=function(){if("undefined"==typeof Reflect||!Reflect.construct)return !1;if(Reflect.construct.sham)return !1;if("function"==typeof Proxy)return !0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return !1}}(),function(){var t,e=kt(b);if(w){var r=kt(this).constructor;t=Reflect.construct(e,arguments,r);}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===wt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function E(t,e){var r,n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,E);var i="base-video-rect",o={class:"video-container"};null!==(r=t.config.videoContainer)&&void 0!==r&&r.overPlaybackBar&&(o.class+=" over-playback-bar");var a='\n            <div class="'.concat(i,'">\n            </div>\n        ');return (n=A.call(this,t,{attributes:o,children:a,parent:e}))._baseVideoRect=n.element.getElementsByClassName(i)[0],n.element.addEventListener("click",St(xt().mark((function t(){return xt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.paused();case 2:if(!t.sent){t.next=7;break}return t.next=5,n.play();case 5:t.next=9;break;case 7:return t.next=9,n.pause();case 9:case"end":return t.stop()}}),t)})))),n._ready=!1,n._players=[],n._streamProvider=new ht(n.player,n.baseVideoRect),n}return e=E,r=[{key:"layoutId",get:function(){return this._layoutId}},{key:"mainLayoutContent",get:function(){return this._mainLayoutContent}},{key:"setLayout",value:(m=St(xt().mark((function t(e){var r,n,i,o,a,s=arguments;return xt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=s.length>1&&void 0!==s[1]?s[1]:null,-1!==this.validContentIds.indexOf(e)){t.next=5;break}return t.abrupt("return",!1);case 5:return o=null===(n=this.player.config.videoContainer)||void 0===n||null===(i=n.restoreVideoLayout)||void 0===i?void 0:i.global,t.next=8,this.player.preferences.set("videoLayout",e,{global:o});case 8:return t.next=10,this.player.preferences.set("videoLayoutMainContent",r,{global:o});case 10:return a=this._layoutId,this._layoutId=e,this._mainLayoutContent=r,t.next=15,this.updateLayout();case 15:a!==e&&(0, rt.qe)(this.player,rt.ZP.LAYOUT_CHANGED,{prevLayout:a,layoutId:e});case 16:case"end":return t.stop()}}),t,this)}))),function(t){return m.apply(this,arguments)})},{key:"validContentIds",get:function(){return this._validContentIds}},{key:"validContentSettings",get:function(){return this._validContentSettings}},{key:"validLayouts",get:function(){return (0, Q.tk)(this.player,this.streamData)}},{key:"streamData",get:function(){return this._streamData}},{key:"baseVideoRect",get:function(){return this._baseVideoRect}},{key:"streamProvider",get:function(){return this._streamProvider}},{key:"create",value:(g=St(xt().mark((function t(){return xt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this._baseVideoRect.style.display="none",t.next=3,(0, X.FP)(this.player,"layout");case 3:return t.next=5,(0, tt.zE)(this.player);case 5:case"end":return t.stop()}}),t,this)}))),function(){return g.apply(this,arguments)})},{key:"load",value:function(){var t=St(xt().mark((function t(e){var r,n,i,o,a,s,c,u,l,f,h,d,p,y,v,g,m,b,w,A,E=this;return xt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this._streamData=e,null===(r=this.player.config.videoContainer)||void 0===r||null===(n=r.restoreVideoLayout)||void 0===n||!n.enabled){t.next=17;break}return l=null===(c=this.player.config.videoContainer)||void 0===c||null===(u=c.restoreVideoLayout)||void 0===u?void 0:u.global,t.next=5,this.player.preferences.get("videoLayout",{global:l});case 5:if(t.t0=t.sent,t.t0){t.next=8;break}t.t0=this.player.config.defaultLayout;case 8:return this._layoutId=t.t0,t.next=11,this.player.preferences.get("videoLayoutMainContent",{global:l});case 11:if(t.t1=t.sent,t.t1){t.next=14;break}t.t1=null;case 14:this._mainLayoutContent=t.t1,t.next=19;break;case 17:this._layoutId=this.player.config.defaultLayout,this._mainLayoutContent=null;case 19:return t.next=21,this.streamProvider.load(e);case 21:return this._validContentIds=(0, Q.Vc)(this.player,e),this._validContentSettings=(0, Q.OU)(this.player,e),t.next=25,this.updateLayout();case 25:return f=(0, O.jS)('<div class="button-plugins left-side"></div>',this.element),h=(0, O.jS)('<div class="button-plugins right-side"></div>',this.element),this._buttonPlugins=[f,h],this.player.log.debug("Loading videoContainer button plugins"),t.next=31,(0, X.FP)(this.player,"button",function(){var t=St(xt().mark((function t(e){return xt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(E.player.log.debug(" Button plugin: ".concat(e.name)),"left"!==e.side){t.next=6;break}return t.next=4,(0, dt.k1)(e,f);case 4:t.next=9;break;case 6:if("right"!==e.side){t.next=9;break}return t.next=9,(0, dt.k1)(e,h);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var t=St(xt().mark((function t(e){return xt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("videoContainer"!==e.parentContainer){t.next=6;break}return t.next=3,e.isEnabled();case 3:return t.abrupt("return",t.sent);case 6:return t.abrupt("return",!1);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 31:return this._baseVideoRect.style.display="",t.next=34,this.player.preferences.get("volume",{global:!0});case 34:return d=t.sent,t.next=37,this.player.preferences.get("playbackRate",{global:!0});case 37:return p=t.sent,t.next=40,this.player.preferences.get("lastKnownTime",{global:!1});case 40:if(y=t.sent,null===(i=this.player.config.videoContainer)||void 0===i||!i.restoreVolume||null==d){t.next=44;break}return t.next=44,this.streamProvider.setVolume(d);case 44:if(null===(o=this.player.config.videoContainer)||void 0===o||!o.restorePlaybackRate||null==p){t.next=47;break}return t.next=47,this.streamProvider.setPlaybackRate(p);case 47:if(!this.player.videoManifest.trimming){t.next=50;break}return t.next=50,this.player.videoContainer.setTrimming(this.player.videoManifest.trimming);case 50:if(null===(a=this.player.config.videoContainer)||void 0===a||null===(s=a.restoreLastTime)||void 0===s||!s.enabled){t.next=64;break}if(v=function(){var t=St(xt().mark((function t(){var e;return xt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,E.paused();case 2:if(t.sent){t.next=9;break}return t.next=6,E.currentTime();case 6:return e=t.sent,t.next=9,E.player.preferences.set("lastKnownTime",e,{global:!1});case 9:setTimeout(v,1e3);case 10:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),!y){t.next=63;break}return t.next=55,this.player.preferences.get("lastKnownTime",{global:!1});case 55:return b=t.sent,t.next=58,this.duration();case 58:if(w=t.sent,A=null===(g=this.player.config.videoContainer)||void 0===g||null===(m=g.restoreLastTime)||void 0===m?void 0:m.remainingSeconds,!(w-b>A)){t.next=63;break}return t.next=63,this.setCurrentTime(b);case 63:v();case 64:this._messageContainer=new bt.Z(this.player,this.element),this._ready=!0;case 66:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"unload",value:(v=St(xt().mark((function t(){return xt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.removeFromParent(),t.next=3,(0, X.Dd)(this.player,"layout");case 3:return t.next=5,(0, tt.m7)(this.player);case 5:return t.next=7,this.streamProvider.unload();case 7:case"end":return t.stop()}}),t,this)}))),function(){return v.apply(this,arguments)})},{key:"updateLayout",value:(y=St(xt().mark((function t(){var e,r,n,i=arguments;return xt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((e=i.length>0&&void 0!==i[0]?i[0]:null)&&(this._mainLayoutContent=e),this.streamData){t.next=4;break}return t.abrupt("return");case 4:if(!this._updateInProgress){t.next=7;break}return this.player.log.warn("Recursive update layout detected"),t.abrupt("return",!1);case 7:return this._updateInProgress=!0,r=!0,this._layoutButtons=[],this._layoutId&&-1!==this._validContentIds.indexOf(this._layoutId)||(this._layoutId=this.player.config.defaultLayout,this._mainLayoutContent=null,-1===this._validContentIds.indexOf(this._layoutId)&&(this._layoutId=this._validContentIds[0]),r=!1),"static"===(n=(0, Q.QW)(this.player,this.streamProvider.streamData,this._layoutId)).layoutType?r=jt.apply(this):"dynamic"===n.layoutType&&(r=Ft.apply(this)),this._updateInProgress=!1,t.abrupt("return",r);case 15:case"end":return t.stop()}}),t,this)}))),function(){return y.apply(this,arguments)})},{key:"hideUserInterface",value:function(){if(this._layoutButtons&&this._buttonPlugins){this.player.log.debug("Hide video container user interface");var t=function(t){t._prevDisplay=t.style.display,t.style.display="none";};for(var e in this._layoutButtons.forEach(t),this._buttonPlugins.forEach(t),this.streamProvider.streams)this.streamProvider.streams[e].canvas.hideButtons();}}},{key:"showUserInterface",value:function(){if(this._layoutButtons&&this._buttonPlugins){var t=function(t){return t.style.display=t._prevDisplay||"block"};for(var e in this._layoutButtons.forEach(t),this._buttonPlugins.forEach(t),this.streamProvider.streams)this.streamProvider.streams[e].canvas.showButtons();}}},{key:"message",get:function(){return this._messageContainer}},{key:"elementSize",get:function(){return {w:this.element.offsetWidth,h:this.element.offsetHeight}}},{key:"ready",get:function(){return this._ready}},{key:"isLiveStream",get:function(){return this.streamProvider.isLiveStream}},{key:"play",value:(p=St(xt().mark((function t(){var e;return xt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.streamProvider.play();case 2:return e=t.sent,(0, rt.qe)(this.player,rt.ZP.PLAY),t.abrupt("return",e);case 5:case"end":return t.stop()}}),t,this)}))),function(){return p.apply(this,arguments)})},{key:"pause",value:(d=St(xt().mark((function t(){var e;return xt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.streamProvider.pause();case 2:return e=t.sent,(0, rt.qe)(this.player,rt.ZP.PAUSE),t.abrupt("return",e);case 5:case"end":return t.stop()}}),t,this)}))),function(){return d.apply(this,arguments)})},{key:"stop",value:(h=St(xt().mark((function t(){return xt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.streamProvider.stop(),(0, rt.qe)(this.player,rt.ZP.STOP);case 2:case"end":return t.stop()}}),t,this)}))),function(){return h.apply(this,arguments)})},{key:"paused",value:(f=St(xt().mark((function t(){return xt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.streamProvider.paused());case 1:case"end":return t.stop()}}),t,this)}))),function(){return f.apply(this,arguments)})},{key:"setCurrentTime",value:(l=St(xt().mark((function t(e){var r;return xt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.streamProvider.setCurrentTime(e);case 2:return r=t.sent,(0, rt.qe)(this.player,rt.ZP.SEEK,{prevTime:r.prevTime,newTime:r.newTime}),t.abrupt("return",r.result);case 5:case"end":return t.stop()}}),t,this)}))),function(t){return l.apply(this,arguments)})},{key:"currentTime",value:(u=St(xt().mark((function t(){return xt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.streamProvider.currentTime());case 1:case"end":return t.stop()}}),t,this)}))),function(){return u.apply(this,arguments)})},{key:"volume",value:(c=St(xt().mark((function t(){return xt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.streamProvider.volume());case 1:case"end":return t.stop()}}),t,this)}))),function(){return c.apply(this,arguments)})},{key:"setVolume",value:(s=St(xt().mark((function t(e){var r;return xt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.streamProvider.setVolume(e);case 2:return r=t.sent,(0, rt.qe)(this.player,rt.ZP.VOLUME_CHANGED,{volume:e}),t.next=6,this.player.preferences.set("volume",e,{global:!0});case 6:return t.abrupt("return",r);case 7:case"end":return t.stop()}}),t,this)}))),function(t){return s.apply(this,arguments)})},{key:"duration",value:(a=St(xt().mark((function t(){return xt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.streamProvider.duration();case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)}))),function(){return a.apply(this,arguments)})},{key:"playbackRate",value:(o=St(xt().mark((function t(){return xt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.streamProvider.playbackRate();case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)}))),function(){return o.apply(this,arguments)})},{key:"setPlaybackRate",value:(i=St(xt().mark((function t(e){var r;return xt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.streamProvider.setPlaybackRate(e);case 2:return r=t.sent,(0, rt.qe)(this.player,rt.ZP.PLAYBACK_RATE_CHANGED,{newPlaybackRate:e}),t.next=6,this.player.preferences.set("playbackRate",e,{global:!0});case 6:return t.abrupt("return",r);case 7:case"end":return t.stop()}}),t,this)}))),function(t){return i.apply(this,arguments)})},{key:"isTrimEnabled",get:function(){return this.streamProvider.isTrimEnabled}},{key:"trimStart",get:function(){return this.streamProvider.trimStart}},{key:"trimEnd",get:function(){return this.streamProvider.trimEnd}},{key:"setTrimming",value:(n=St(xt().mark((function t(e){var r,n,i,o;return xt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.enabled,n=e.start,i=e.end,t.next=3,this.streamProvider.setTrimming({enabled:r,start:n,end:i});case 3:return o=t.sent,(0, rt.qe)(this.player,rt.ZP.TRIMMING_CHANGED,{enabled:r,start:n,end:i}),t.abrupt("return",o);case 6:case"end":return t.stop()}}),t,this)}))),function(t){return n.apply(this,arguments)})},{key:"getVideoRect",value:function(){var t,e,r,n,i,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=this.baseVideoRect;return "string"==typeof o&&(a=null===(i=this.streamProvider.streams[o])||void 0===i?void 0:i.canvas.element),{x:null===(t=a)||void 0===t?void 0:t.offsetLeft,y:null===(e=a)||void 0===e?void 0:e.offsetTop,width:null===(r=a)||void 0===r?void 0:r.offsetWidth,height:null===(n=a)||void 0===n?void 0:n.offsetHeight,element:a}}},{key:"appendChild",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(e){var n=this.getVideoRect(),i=n.width,o=n.height;e.x=100*e.x/i,e.width=100*e.width/i,e.y=100*e.y/o,e.height=100*e.height/o,t.style.position="absolute",t.style.left="".concat(e.x,"%"),t.style.top="".concat(e.y,"%"),t.style.width="".concat(e.width,"%"),t.style.height="".concat(e.height,"%"),null!==r&&(t.style.zIndex=r);}return this.baseVideoRect.appendChild(t),t}},{key:"removeChild",value:function(t){this.baseVideoRect.removeChild(t);}}],r&&Lt(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),E}(O.FZ),Ut=r(6304),Gt=r.n(Ut);function $t(t){return $t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$t(t)}function Vt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(i=function(t,e){if("object"!==$t(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==$t(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===$t(i)?i:String(i)),n);}var i;}function Kt(t,e){return Kt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Kt(t,e)}function Ht(t){return Ht=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ht(t)}var Yt="\n    width: 100%;\n",Zt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Kt(t,e);}(a,t);var e,r,n,i,o=(n=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return !1;if(Reflect.construct.sham)return !1;if("function"==typeof Proxy)return !0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return !1}}(),function(){var t,e=Ht(n);if(i){var r=Ht(this).constructor;t=Reflect.construct(e,arguments,r);}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===$t(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(t,e,r,n){var i;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a);(i=o.call(this,t,{attributes:{class:"preview-container",style:"\n    background-color: #e4e4e4;\n    width: 100%;\n    height: 100%;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    cursor: pointer;\n    position: absolute;\n    top: 50%;\n    transform: translateY(-50%); \n"},parent:e}))._img=(0, O.jS)('\n        <div style="'.concat(Yt,'">\n            ').concat(r?'<img style="'.concat(Yt,'" src="').concat(r,'" class="preview-image-landscape" alt=""/>'):"","\n            ").concat(n?'<img style="'.concat(Yt,'" src="').concat(n,'" class="preview-image-portrait" alt=""/>'):"",'\n            <div style="').concat("\n    position: absolute; \n    top: 0px; \n    left: 0px; \n    right: 0px; \n    bottom: 0px; \n    display: flex;\n    align-content: center;\n    justify-content: center;\n    align-items: center;\n",'">\n                <i class="preview-play-icon" style="').concat("\n    pointer-events: none;\n    width: 20%;\n    max-width: 400px;\n    min-width: 100px;\n    opacity: 0.6;\n",'">').concat(Gt(),"</i>\n            </div>\n        </div>\n        "),i.element),i.element.setAttribute("id","playerContainerClickArea"),i.element.addEventListener("click",(function(e){t.play();}));var s=r&&n,c=function(){if(s){var t=i.element.clientWidth/i.element.clientHeight,e=Array.from(i.element.getElementsByClassName("preview-image-landscape")),r=Array.from(i.element.getElementsByClassName("preview-image-portrait"));t>=1?(e.forEach((function(t){return t.style.display=""})),r.forEach((function(t){return t.style.display="none"}))):(e.forEach((function(t){return t.style.display="none"})),r.forEach((function(t){return t.style.display=""})));}};return window.addEventListener("resize",(function(){c();})),c(),i}return e=a,(r=[{key:"loadBackgroundImage",value:function(t){this._img.setAttribute("src",t);}}])&&Vt(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(O.FZ);function Wt(t){return Wt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wt(t)}function zt(){zt=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value;},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"");}catch(t){c=function(t,e,r){return t[e]=r};}function u(t,e,r,i){var o=e&&e.prototype instanceof h?e:h,a=Object.create(o.prototype),s=new _(i||[]);return n(a,"_invoke",{value:A(t,r,s)}),a}function l(t,e,r){try{return {type:"normal",arg:t.call(e,r)}}catch(t){return {type:"throw",arg:t}}}t.wrap=u;var f={};function h(){}function d(){}function p(){}var y={};c(y,o,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(k([])));g&&g!==e&&r.call(g,o)&&(y=g);var m=p.prototype=h.prototype=Object.create(y);function b(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}));}));}function w(t,e){function i(n,o,a,s){var c=l(t[n],t,o);if("throw"!==c.type){var u=c.arg,f=u.value;return f&&"object"==Wt(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){i("next",t,a,s);}),(function(t){i("throw",t,a,s);})):e.resolve(f).then((function(t){u.value=t,a(u);}),(function(t){return i("throw",t,a,s)}))}s(c.arg);}var o;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){i(t,r,e,n);}))}return o=o?o.then(n,n):n()}});}function A(t,e,r){var n="suspendedStart";return function(i,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===i)throw o;return {value:void 0,done:!0}}for(r.method=i,r.arg=o;;){var a=r.delegate;if(a){var s=E(a,r);if(s){if(s===f)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg);}else "return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=l(t,e,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===f)continue;return {value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg);}}}function E(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var i=l(n,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,f;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e);}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e;}function _(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0);}function k(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return {next:C}}function C(){return {value:void 0,done:!0}}return d.prototype=p,n(m,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:d,configurable:!0}),d.displayName=c(p,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return !!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,s,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return {__await:t}},b(w.prototype),c(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new w(u(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(m),c(m,s,"Generator"),c(m,o,(function(){return this})),c(m,"toString",(function(){return "[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=k,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0);},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else {if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return "break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),L(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;L(r);}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:k(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}function qt(t,e,r,n,i,o,a){try{var s=t[o](a),c=s.value;}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,i);}function Xt(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){qt(o,n,i,a,s,"next",t);}function s(t){qt(o,n,i,a,s,"throw",t);}a(void 0);}))}}function Qt(t,e){return Qt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Qt(t,e)}function Jt(t){return Jt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Jt(t)}var te=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Qt(t,e);}(o,t);var e,r,n,i=(r=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return !1;if(Reflect.construct.sham)return !1;if("function"==typeof Proxy)return !0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return !1}}(),function(){var t,e=Jt(r);if(n){var i=Jt(this).constructor;t=Reflect.construct(e,arguments,i);}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Wt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function o(t,e){var r,n,a,s,c;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),c=i.call(this,t,{attributes:{class:"progress-indicator-timer"},parent:e});var u=null===(r=t.config.progressIndicator)||void 0===r?void 0:r.showTotal;c.element.innerHTML="00:00",!1===(null===(n=t.config.progressIndicator)||void 0===n?void 0:n.visible)&&c.hide();var l=function(){var e=Xt(zt().mark((function e(r){var n,i;return zt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=(0, v.secondsToTime)(r),!1!==u){e.next=5;break}c.element.innerHTML=n,e.next=11;break;case 5:return e.t0=v.secondsToTime,e.next=8,t.videoContainer.duration();case 8:e.t1=e.sent,i=(0, e.t0)(e.t1),c.element.innerHTML="".concat(n," / ").concat(i);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();t.bindEvent(rt.ZP.TIMEUPDATE,function(){var t=Xt(zt().mark((function t(e){var r;return zt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.currentTime,t.next=3,l(r);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),t.bindEvent(rt.ZP.SEEK,function(){var t=Xt(zt().mark((function t(e){var r;return zt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.newTime,t.next=3,l(r);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),t.bindEvent(rt.ZP.STOP,Xt(zt().mark((function t(){return zt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l(0);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))));var f=null===(a=t.config.progressIndicator)||void 0===a?void 0:a.parentContainer,h=(null===(s=t.config.progressIndicator)||void 0===s?void 0:s.side)||"left";return "progressIndicator"===f&&c.element.classList.add("".concat(h,"-side")),c}return e=o,Object.defineProperty(e,"prototype",{writable:!1}),e}(O.FZ);function ee(t){return ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ee(t)}function re(){re=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value;},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"");}catch(t){c=function(t,e,r){return t[e]=r};}function u(t,e,r,i){var o=e&&e.prototype instanceof h?e:h,a=Object.create(o.prototype),s=new _(i||[]);return n(a,"_invoke",{value:A(t,r,s)}),a}function l(t,e,r){try{return {type:"normal",arg:t.call(e,r)}}catch(t){return {type:"throw",arg:t}}}t.wrap=u;var f={};function h(){}function d(){}function p(){}var y={};c(y,o,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(k([])));g&&g!==e&&r.call(g,o)&&(y=g);var m=p.prototype=h.prototype=Object.create(y);function b(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}));}));}function w(t,e){function i(n,o,a,s){var c=l(t[n],t,o);if("throw"!==c.type){var u=c.arg,f=u.value;return f&&"object"==ee(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){i("next",t,a,s);}),(function(t){i("throw",t,a,s);})):e.resolve(f).then((function(t){u.value=t,a(u);}),(function(t){return i("throw",t,a,s)}))}s(c.arg);}var o;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){i(t,r,e,n);}))}return o=o?o.then(n,n):n()}});}function A(t,e,r){var n="suspendedStart";return function(i,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===i)throw o;return {value:void 0,done:!0}}for(r.method=i,r.arg=o;;){var a=r.delegate;if(a){var s=E(a,r);if(s){if(s===f)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg);}else "return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=l(t,e,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===f)continue;return {value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg);}}}function E(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var i=l(n,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,f;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e);}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e;}function _(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0);}function k(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return {next:C}}function C(){return {value:void 0,done:!0}}return d.prototype=p,n(m,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:d,configurable:!0}),d.displayName=c(p,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return !!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,s,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return {__await:t}},b(w.prototype),c(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new w(u(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(m),c(m,s,"Generator"),c(m,o,(function(){return this})),c(m,"toString",(function(){return "[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=k,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0);},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else {if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return "break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),L(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;L(r);}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:k(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}function ne(t,e,r,n,i,o,a){try{var s=t[o](a),c=s.value;}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,i);}function ie(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){ne(o,n,i,a,s,"next",t);}function s(t){ne(o,n,i,a,s,"throw",t);}a(void 0);}))}}function oe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(i=function(t,e){if("object"!==ee(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==ee(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===ee(i)?i:String(i)),n);}var i;}function ae(t,e){return ae=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ae(t,e)}function se(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ce(t){return ce=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ce(t)}function ue(t,e){var r=function(t,e){if(!t||0===t.length)return null;var r=t[0],n=r.time;return t.forEach((function(t){t.time>n&&t.time<Math.floor(e)&&(n=(r=t).time);})),r}(this.frameList,e);if(r){this._frameThumbnail.style.display="block";var n=this._frameThumbnail.getBoundingClientRect().width,i=this.playbackBar.getBoundingClientRect(),o=(i.top,i.left,i.bottom,i.width),a=i.height,s=o/2;this.frameThumbnail.style.bottom="".concat(a,"px"),this.frameThumbnail.style.left="".concat(s>t?t:t-n,"px");var c=(0, v.resolveResourcePath)(this.player,r.url),u=this.frameThumbnail.getElementsByClassName("thumbnail-image")[0],l=this.frameThumbnail.getElementsByClassName("thumbnail-time")[0];c!==this._prevFrameImage&&(u.src=c,u.alt=r.id,this._prevFrameImage=c),l.innerHTML=(0, v.secondsToTime)(e);}}function le(){var t=this,e=this._canvasContext[0],r=this._canvasContext[1],n=this._canvas[0].clientWidth,i=this._canvas[0].clientHeight;this._canvasPlugins.forEach((function(o){o.drawForeground(r,n,i,t._isHover),o.drawBackground(e,n,i,t._isHover);})),this._updateCanvas=!1;}function fe(){var t=this,e={w:this.element.offsetWidth,h:this.element.offsetHeight};this._canvas.forEach((function(t){t.width=e.w,t.height=e.h;}));var r=this._isHover?this._minHeightHover:this._minHeight;this.element.style.minHeight="".concat(r,"px"),this._canvas.forEach((function(e){return e.height=t.element.clientHeight})),le.apply(this);}function he(t,e){var r,n,i=(null===(r=t.progressIndicator)||void 0===r?void 0:r.parentContainer)||"progressIndicator",o=(null===(n=t.progressIndicator)||void 0===n?void 0:n.side)||"left";if("progressIndicator"===i)return this.element;if("buttonArea"===i){var a=e.timerContainer;return a.classList.add("".concat(o,"-side")),a}throw new Error("Error in player configuration: invalid progress indicator parent container: ".concat(i,". Valid values are 'progressIndicator' or 'buttonArea'"))}var de=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ae(t,e);}(c,t);var e,r,n,i,o,a,s=(o=c,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return !1;if(Reflect.construct.sham)return !1;if("function"==typeof Proxy)return !0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return !1}}(),function(){var t,e=ce(o);if(a){var r=ce(this).constructor;t=Reflect.construct(e,arguments,r);}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===ee(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return se(t)}(this,t)});function c(t,e){var r,n,i,o,a,u,l,f;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c);var h=e.element,d=null!==(r=null===(n=t.config.progressIndicator)||void 0===n?void 0:n.inlineMode)&&void 0!==r&&r,p={class:"progress-indicator".concat(d?" inline-mode":" top-mode")},y=null!==(i=t.config.progressIndicator)&&void 0!==i&&i.showHandler?'<i class="progress-indicator-handler" style="pointer-events: none"></i>':"",v='\n\t\t<canvas class="progress-canvas canvas-layer-0"></canvas>\n\t\t<div class="progress-indicator-container">\n\t\t\t<div style="width: 0px;" class="progress-indicator-content"></div>\n\t\t\t'.concat(y,'\n\t\t\t<div class="progress-indicator-remaining"></div>\n\t\t</div>\n\t\t<canvas class="progress-canvas canvas-layer-1"></canvas>\n\t\t');f=s.call(this,t,{attributes:p,children:v,parent:h});var g=he.apply(se(f),[t.config,e]);f._progressIndicatorTimer=new te(t,g),f._frameThumbnail=(0, O.jS)('\n\t\t\t<div class="frame-thumbnail">\n\t\t\t\t<img src="" alt="" class="thumbnail-image" />\n\t\t\t\t<p class="thumbnail-time">00:00</p>\n\t\t\t</div>',t.containerElement),f._frameThumbnail.style.display="none",f._frameThumbnail.style.position="absolute",f._isHover=!1,f._canvas=[0,1].map((function(t){return f.element.getElementsByClassName("progress-canvas")[t]})),f._canvasContext=f._canvas.map((function(t){return t.getContext("2d")})),f._progressContainer=f.element.getElementsByClassName("progress-indicator-container")[0],f._progressIndicator=f.element.getElementsByClassName("progress-indicator-content")[0],f._handler=f.element.getElementsByClassName("progress-indicator-handler")[0],f._remainingContainer=f.element.getElementsByClassName("progress-indicator-remaining")[0],f.handler&&null!==(o=t.config.progressIndicator)&&void 0!==o&&o.hideHandlerOnMouseOut&&(f.handler.style.display="none"),null!==(a=t.config.progressIndicator)&&void 0!==a&&a.showRemainingProgress||(f._remainingContainer.style.display="none"),f._frameList=null===(u=t.videoManifest)||void 0===u?void 0:u.frameList,null===(l=f._frameList)||void 0===l||l.sort((function(t,e){return t.time-e.time})),f.onResize();var m=!1,b=function(){var e=ie(re().mark((function e(r){var n,i,o,a,s,c;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=f.progressContainer.clientWidth,o=(null===(n=f.handler)||void 0===n?void 0:n.clientWidth)||0,e.next=4,t.videoContainer.duration();case 4:a=e.sent,s=100*r/a,f.progressIndicator.style.width="".concat(s,"%"),f.handler&&(c=s/100*i,f.handler.style.left="".concat(c-o/2,"px"));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=ie(re().mark((function e(r){var n,i;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=f.element.offsetWidth,e.next=3,t.videoContainer.duration();case 3:return i=e.sent,e.abrupt("return",r*i/n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return (0, rt.GT)(f.player,rt.ZP.TIMEUPDATE,function(){var t=ie(re().mark((function t(e){var r;return re().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.currentTime,m){t.next=4;break}return t.next=4,b(r);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),(0, rt.GT)(f.player,rt.ZP.SEEK,function(){var t=ie(re().mark((function t(e){var r;return re().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.prevTime,r=e.newTime,m){t.next=4;break}return t.next=4,b(r);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),(0, rt.GT)(f.player,rt.ZP.STOP,ie(re().mark((function t(){return re().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b(0);case 2:case"end":return t.stop()}}),t)})))),f.progressContainer.addEventListener("mousedown",function(){var t=ie(re().mark((function t(e){var r;return re().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return m=!0,t.next=3,w(e.offsetX);case 3:return r=t.sent,t.next=6,b(r);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),f.progressContainer.addEventListener("mouseover",(function(e){var r;f._isHover=!0,fe.apply(se(f)),f.handler&&null!==(r=t.config.progressIndicator)&&void 0!==r&&r.hideHandlerOnMouseOut&&(f.handler.style.display="");})),f.progressContainer._progressIndicator=se(f),f.progressContainer.addEventListener("mousemove",function(){var t=ie(re().mark((function t(e){var r,n,i,o,a;return re().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=f.player.videoContainer,n=r.isTrimEnabled,i=r.trimStart,o=n?i:0,t.next=4,w(e.offsetX);case 4:if(a=t.sent,!m){t.next=8;break}return t.next=8,b(a);case 8:ue.apply(se(f),[e.offsetX,a+o]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),f.progressContainer.addEventListener("mouseup",function(){var e=ie(re().mark((function e(r){var n;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w(r.offsetX);case 2:return n=e.sent,e.next=5,b(n);case 5:return e.next=7,t.videoContainer.setCurrentTime(n);case 7:m=!1;case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),f.progressContainer.addEventListener("mouseleave",function(){var e=ie(re().mark((function e(r){var n,i;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!m){e.next=7;break}return e.next=3,w(r.offsetX);case 3:return i=e.sent,e.next=6,t.videoContainer.setCurrentTime(i);case 6:m=!1;case 7:f.frameThumbnail.style.display="none",f._isHover=!1,fe.apply(se(f)),f.handler&&null!==(n=t.config.progressIndicator)&&void 0!==n&&n.hideHandlerOnMouseOut&&(f.handler.style.display="none");case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),f._updateCanvas=!0,function t(){f._updateCanvasTimer=setTimeout((function(){f._updateCanvas&&fe.apply(se(f)),t();}),250);}(),f}return e=c,r=[{key:"requestUpdateCanvas",value:function(){this._updateCanvas=!0;}},{key:"loadPlugins",value:(i=ie(re().mark((function t(){var e,r,n=this;return re().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=0,r=0,this._canvasPlugins=[],t.next=5,(0, X.FP)(this.player,"progressIndicator",function(){var t=ie(re().mark((function t(i){return re().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n.player.log.debug(" Progress indicator plugin: ".concat(i.name)),e=e<i.minHeight?i.minHeight:e,r=r<i.minHeightHover?i.minHeightHover:r,n._canvasPlugins.push(i);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var t=ie(re().mark((function t(e){return re().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.isEnabled();case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 5:this._minHeight=e,this._minHeightHover=r,fe.apply(this);case 8:case"end":return t.stop()}}),t,this)}))),function(){return i.apply(this,arguments)})},{key:"unloadPlugins",value:(n=ie(re().mark((function t(){return re().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this._canvasPlugins=[],t.next=3,(0, X.Dd)(this.player,"progressIndicator");case 3:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})},{key:"hideTimeLine",value:function(){(!(arguments.length>0&&void 0!==arguments[0])||arguments[0])&&this.hideProgressTimer(),this.hideProgressContainer();}},{key:"hideProgressContainer",value:function(){this.progressContainer.style.display="none";}},{key:"hideProgressTimer",value:function(){this.progressTimer.style.display="none";}},{key:"showTimeLine",value:function(){this.showProgressContainer(),this.showProgressTimer();}},{key:"showProgressContainer",value:function(){this.progressContainer.style.display="";}},{key:"showProgressTimer",value:function(){this.progressTimer.style.display="";}},{key:"playbackBar",get:function(){return this.element.parentElement}},{key:"canvasLayer0",get:function(){return this._canvas[0]}},{key:"canvasLayer1",get:function(){return this._canvas[1]}},{key:"progressIndicator",get:function(){return this._progressIndicator}},{key:"handler",get:function(){return this._handler}},{key:"progressTimer",get:function(){return this._progressIndicatorTimer.element}},{key:"progressContainer",get:function(){return this._progressContainer}},{key:"frameThumbnail",get:function(){return this._frameThumbnail}},{key:"frameList",get:function(){return this._frameList}},{key:"onResize",value:function(){this.requestUpdateCanvas();}}],r&&oe(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),c}(O.FZ),pe=r(9167),ye={};ye.styleTagTransform=d(),ye.setAttributes=u(),ye.insert=s().bind(null,"head"),ye.domAPI=o(),ye.insertStyleElement=f(),e()(pe.Z,ye),pe.Z&&pe.Z.locals&&pe.Z.locals;var ve=r(6911);function ge(t){return ge="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ge(t)}function me(){me=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value;},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"");}catch(t){c=function(t,e,r){return t[e]=r};}function u(t,e,r,i){var o=e&&e.prototype instanceof h?e:h,a=Object.create(o.prototype),s=new _(i||[]);return n(a,"_invoke",{value:A(t,r,s)}),a}function l(t,e,r){try{return {type:"normal",arg:t.call(e,r)}}catch(t){return {type:"throw",arg:t}}}t.wrap=u;var f={};function h(){}function d(){}function p(){}var y={};c(y,o,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(k([])));g&&g!==e&&r.call(g,o)&&(y=g);var m=p.prototype=h.prototype=Object.create(y);function b(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}));}));}function w(t,e){function i(n,o,a,s){var c=l(t[n],t,o);if("throw"!==c.type){var u=c.arg,f=u.value;return f&&"object"==ge(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){i("next",t,a,s);}),(function(t){i("throw",t,a,s);})):e.resolve(f).then((function(t){u.value=t,a(u);}),(function(t){return i("throw",t,a,s)}))}s(c.arg);}var o;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){i(t,r,e,n);}))}return o=o?o.then(n,n):n()}});}function A(t,e,r){var n="suspendedStart";return function(i,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===i)throw o;return {value:void 0,done:!0}}for(r.method=i,r.arg=o;;){var a=r.delegate;if(a){var s=E(a,r);if(s){if(s===f)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg);}else "return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=l(t,e,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===f)continue;return {value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg);}}}function E(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var i=l(n,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,f;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e);}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e;}function _(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0);}function k(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return {next:C}}function C(){return {value:void 0,done:!0}}return d.prototype=p,n(m,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:d,configurable:!0}),d.displayName=c(p,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return !!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,s,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return {__await:t}},b(w.prototype),c(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new w(u(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(m),c(m,s,"Generator"),c(m,o,(function(){return this})),c(m,"toString",(function(){return "[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=k,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0);},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else {if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return "break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),L(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;L(r);}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:k(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}function be(t,e,r,n,i,o,a){try{var s=t[o](a),c=s.value;}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,i);}function we(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){be(o,n,i,a,s,"next",t);}function s(t){be(o,n,i,a,s,"throw",t);}a(void 0);}))}}function Ae(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(i=function(t,e){if("object"!==ge(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==ge(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===ge(i)?i:String(i)),n);}var i;}function Ee(t,e){return Ee=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ee(t,e)}function xe(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Le(t){return Le=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Le(t)}var _e=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ee(t,e);}(s,t);var e,r,n,i,o,a=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return !1;if(Reflect.construct.sham)return !1;if("function"==typeof Proxy)return !0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return !1}}(),function(){var t,e=Le(i);if(o){var r=Le(this).constructor;t=Reflect.construct(e,arguments,r);}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===ge(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return xe(t)}(this,t)});function s(t,e){var r,n,i,o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s);var c=null!==(r=null===(n=t.config.progressIndicator)||void 0===n?void 0:n.inlineMode)&&void 0!==r&&r,u={class:c?"playback-bar inline-mode":"playback-bar top-mode"};(o=a.call(this,t,{attributes:u,parent:e})).element.addEventListener("mouseenter",(function(){return (0, v.pauseAutoHideUiTimer)(t)})),o.element.addEventListener("mouseleave",(function(){return (0, v.resumeAutoHideUiTimer)(t)})),o._buttonPluginsLeft=(0, O.jS)('<div class="button-plugins left-side"></div>'),o._timerContainer=(0, O.jS)('<div class="timer-container"></div>'),o._buttonPluginsRight=(0, O.jS)('<div class="button-plugins right-side"></div>');var l=(null===(i=t.config.progressIndicator)||void 0===i?void 0:i.side)||"left";return c?(o.element.appendChild(o._buttonPluginsLeft),"left"===l?(o.element.appendChild(o._timerContainer),o._progressIndicator=new de(t,xe(o)),o.element.appendChild(o._buttonPluginsRight)):(o._progressIndicator=new de(t,xe(o)),o.element.appendChild(o._timerContainer),o.element.appendChild(o._buttonPluginsRight))):(o._progressIndicator=new de(t,xe(o)),o.element.appendChild(o._buttonPluginsLeft),"left"===l?(o.element.appendChild(o._timerContainer),o.element.appendChild(o._buttonPluginsRight)):(o.element.appendChild(o._buttonPluginsRight),o.element.appendChild(o._timerContainer))),o.element.addEventListener("click",(function(){ve.Z.HideAllPopUps(!1);})),o._enabled=!0,o}return e=s,r=[{key:"enabled",get:function(){return this._enabled},set:function(t){this._enabled=t,this._enabled?this.showUserInterface():this.hide();}},{key:"load",value:function(){var t=we(me().mark((function t(){var e=this;return me().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this._frameList=this.player.videoManifest,this._enabledPlugins=[],this.player.log.debug("Loading button plugins"),t.next=5,(0, X.FP)(this.player,"button",function(){var t=we(me().mark((function t(r){return me().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.player.log.debug(" Button plugin: ".concat(r.name)),e._enabledPlugins.push(r),"left"!==r.side){t.next=7;break}return t.next=5,(0, dt.k1)(r,e.buttonPluginsLeft);case 5:t.next=10;break;case 7:if("right"!==r.side){t.next=10;break}return t.next=10,(0, dt.k1)(r,e.buttonPluginsRight);case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var t=we(me().mark((function t(e){return me().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("playbackBar"!==e.parentContainer){t.next=6;break}return t.next=3,e.isEnabled();case 3:return t.abrupt("return",t.sent);case 6:return t.abrupt("return",!1);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 5:return t.next=7,this._progressIndicator.loadPlugins();case 7:this.onResize();case 8:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"unload",value:(n=we(me().mark((function t(){return me().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.removeFromParent(),t.next=3,(0, X.Dd)(this.player,"button");case 3:return this._buttonPluginsLeft.innerHTML="",this._buttonPluginsRight.innerHTML="",t.next=7,this._progressIndicator.unloadPlugins();case 7:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})},{key:"hideUserInterface",value:function(){this.player.log.debug("Hide playback bar user interface"),this.hide();}},{key:"showUserInterface",value:function(){if(this._enabled){var t,e,r=null!==(t=null===(e=this.player.config.progressIndicator)||void 0===e?void 0:e.inlineMode)&&void 0!==t&&t?"flex":"block";this.show(r),this.onResize();}}},{key:"buttonPluginsRight",get:function(){return this._buttonPluginsRight}},{key:"buttonPluginsLeft",get:function(){return this._buttonPluginsLeft}},{key:"timerContainer",get:function(){return this._timerContainer}},{key:"progressIndicator",get:function(){return this._progressIndicator}},{key:"containerSize",get:function(){return {width:this.element.clientWidth,height:this.element.clientHeight}}},{key:"onResize",value:function(){var t=this.containerSize;this._enabledPlugins.forEach((function(e){return e.onResize(t)})),this.progressIndicator.onResize();}}],r&&Ae(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),s}(O.FZ),ke=r(230),Ce=r(1285),Se=r(8704),Te=r(7046),Pe={};function Oe(t){return Oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Oe(t)}function Ie(){Ie=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value;},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"");}catch(t){c=function(t,e,r){return t[e]=r};}function u(t,e,r,i){var o=e&&e.prototype instanceof h?e:h,a=Object.create(o.prototype),s=new _(i||[]);return n(a,"_invoke",{value:A(t,r,s)}),a}function l(t,e,r){try{return {type:"normal",arg:t.call(e,r)}}catch(t){return {type:"throw",arg:t}}}t.wrap=u;var f={};function h(){}function d(){}function p(){}var y={};c(y,o,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(k([])));g&&g!==e&&r.call(g,o)&&(y=g);var m=p.prototype=h.prototype=Object.create(y);function b(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}));}));}function w(t,e){function i(n,o,a,s){var c=l(t[n],t,o);if("throw"!==c.type){var u=c.arg,f=u.value;return f&&"object"==Oe(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){i("next",t,a,s);}),(function(t){i("throw",t,a,s);})):e.resolve(f).then((function(t){u.value=t,a(u);}),(function(t){return i("throw",t,a,s)}))}s(c.arg);}var o;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){i(t,r,e,n);}))}return o=o?o.then(n,n):n()}});}function A(t,e,r){var n="suspendedStart";return function(i,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===i)throw o;return {value:void 0,done:!0}}for(r.method=i,r.arg=o;;){var a=r.delegate;if(a){var s=E(a,r);if(s){if(s===f)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg);}else "return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=l(t,e,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===f)continue;return {value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg);}}}function E(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var i=l(n,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,f;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e);}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e;}function _(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0);}function k(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return {next:C}}function C(){return {value:void 0,done:!0}}return d.prototype=p,n(m,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:d,configurable:!0}),d.displayName=c(p,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return !!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,s,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return {__await:t}},b(w.prototype),c(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new w(u(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(m),c(m,s,"Generator"),c(m,o,(function(){return this})),c(m,"toString",(function(){return "[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=k,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0);},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else {if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return "break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),L(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;L(r);}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:k(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}function Re(t,e,r,n,i,o,a){try{var s=t[o](a),c=s.value;}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,i);}function De(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){Re(o,n,i,a,s,"next",t);}function s(t){Re(o,n,i,a,s,"throw",t);}a(void 0);}))}}function je(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(i=function(t,e){if("object"!==Oe(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==Oe(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===Oe(i)?i:String(i)),n);}var i;}function Be(t,e){return Be=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Be(t,e)}function Fe(t){return Fe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Fe(t)}Pe.styleTagTransform=d(),Pe.setAttributes=u(),Pe.insert=s().bind(null,"head"),Pe.domAPI=o(),Pe.insertStyleElement=f(),e()(Te.Z,Pe),Te.Z&&Te.Z.locals&&Te.Z.locals;var Ne=[{maxWidth:400,className:"size-s"},{maxWidth:600,className:"size-m"},{maxWidth:900,className:"size-l"},{maxWidth:1100,className:"size-xl"},{className:"size-xxl"}],Me=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Be(t,e);}(a,t);var e,r,n,i,o=(n=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return !1;if(Reflect.construct.sham)return !1;if("function"==typeof Proxy)return !0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return !1}}(),function(){var t,e=Fe(n);if(i){var r=Fe(this).constructor;t=Reflect.construct(e,arguments,r);}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Oe(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(t,e){var r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(r=o.call(this,t,{tag:"div",attributes:{class:"captions-canvas visible-ui"},parent:e}))._captionsContainer=(0, O.jS)('\n            <div class="text-container">\n            </div>\n        ',r.element),r._captions=[],r.hide(),r._currentCaptions=null;var n=function(){var e=De(Ie().mark((function e(n){var i,o,a;return Ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=t.videoContainer.isTrimEnabled?t.videoContainer.trimStart:0,o=i+(n.currentTime||n.newTime||0),r._currentCaptions&&(a=r._currentCaptions.getCue(o),r._captionsContainer.innerHTML="",a&&a.captions.forEach((function(t){r._captionsContainer.innerHTML+=t,r._captionsContainer.innerHTML+="<br/>";})),r._captionsContainer.style.display=a?null:"none",r.resize());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return (0, rt.GT)(r.player,rt.ZP.TIMEUPDATE,n),(0, rt.GT)(r.player,rt.ZP.SEEK,n),(0, rt.GT)(r.player,rt.ZP.RESIZE,(function(){return r.resize()})),(0, rt.GT)(r.player,rt.ZP.SHOW_UI,(function(){return r.element.classList.add("visible-ui")})),(0, rt.GT)(r.player,rt.ZP.HIDE_UI,(function(){return r.element.classList.remove("visible-ui")})),r}return e=a,r=[{key:"load",value:function(){var t=De(Ie().mark((function t(){return Ie().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0, Se.N)(this.player);case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"unload",value:function(){}},{key:"resize",value:function(){var t,e=this,r=(t=this._captionsContainer.clientWidth,Ne.find((function(e){return e.maxWidth&&e.maxWidth>=t||void 0===e.maxWidth})).className);Ne.forEach((function(t){return e.element.classList.remove(t.className)})),this.element.classList.add(r);}},{key:"addCaptions",value:function(t){this._captions.push(t),(0, rt.qe)(this.player,rt.ZP.CAPTIONS_CHANGED,{captions:this._captions});}},{key:"captions",get:function(){return this._captions}},{key:"currentCaptions",get:function(){return this._currentCaptions}},{key:"getCaptions",value:function(t){var e=t.label,r=t.index,n=t.lang;if(void 0===e&&void 0===r&&void 0===n)throw Error("Could not find captions: you must specify the label, the index or the language");return void 0!==r?this._captions[r]:this._captions.find((function(t){return void 0!==e?t.label===e:void 0!==n?t.language===n:void 0}))}},{key:"enableCaptions",value:function(t){var e=this.getCaptions(t);if(e!==this._currentCaptions&&(this._currentCaptions=e,this.currentCaptions)){var r=this.currentCaptions,n=r.language,i=r.label;(0, rt.qe)(this.player,rt.ZP.CAPTIONS_ENABLED,{language:n,label:i});}this.show();}},{key:"disableCaptions",value:function(){this.currentCaptions&&(0, rt.qe)(this.player,rt.ZP.CAPTIONS_DISABLED),this._currentCaptions=null,this.hide();}}],r&&je(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(O.FZ),Ue=r(8984),Ge=r(9267);function $e(t){return $e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$e(t)}function Ve(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(i=function(t,e){if("object"!==$e(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==$e(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===$e(i)?i:String(i)),n);}var i;}var Ke=function(t){return !1},He=function(t){return t.description},Ye=function(){function t(e,r){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._player=e,this._cookieConsentData=e.config.cookieConsent||[],this._getConsentCallback=r.getConsent||Ke,this._getDescriptionCallback=r.getDescription||He,this._cookieConsentData.forEach((function(t){t.description=n._getDescriptionCallback(t);})),this.updateConsentData();}var e,r;return e=t,(r=[{key:"updateConsentData",value:function(){var t=this;this._cookieConsentData.forEach((function(e){e.value=t._getConsentCallback(e.type)||e.required;})),(0, rt.qe)(this._player,rt.ZP.COOKIE_CONSENT_CHANGED,{cookieConsent:this});}},{key:"getConsentForType",value:function(t){var e=this._cookieConsentData.find((function(e){return e.type===t}));return (null==e?void 0:e.value)||!1}}])&&Ve(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),Ze=r(7136),We={};We.styleTagTransform=d(),We.setAttributes=u(),We.insert=s().bind(null,"head"),We.domAPI=o(),We.insertStyleElement=f(),e()(Ze.Z,We),Ze.Z&&Ze.Z.locals&&Ze.Z.locals;var ze=r(7283),qe={};function Xe(t){return Xe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xe(t)}function Qe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(i=function(t,e){if("object"!==Xe(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==Xe(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===Xe(i)?i:String(i)),n);}var i;}qe.styleTagTransform=d(),qe.setAttributes=u(),qe.insert=s().bind(null,"head"),qe.domAPI=o(),qe.insertStyleElement=f(),e()(ze.Z,qe),ze.Z&&ze.Z.locals&&ze.Z.locals;var Je=Object.freeze({DISABLED:0,ERROR:1,WARN:2,INFO:3,DEBUG:4,VERBOSE:5}),tr=Je.INFO,er=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r="string"==typeof t?Je[t.toUpperCase()]:t;if(r<Je.DISABLED||r>Je.VERBOSE)throw Error("setLogLevel: invalid log level ".concat(r));e?(e.__logSettings=e.__logSettings||{},e.__logSettings.logLevel=r):tr=r;},rr=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return t?t.__logSettings.logLevel:tr},nr=function(t){var e=t.msg,r=t.level,n=void 0===r?Je.INFO:r,i=t.player,o=void 0===i?null:i,a=t.context,s=void 0===a?"paella-core":a;o&&!o.__logSettings&&er(o,Je.INFO);var c=rr(o);if(n<Je.DISABLED)throw Error("printMessage: invalid log level ".concat(n));if(n<=c)switch(n){case Je.ERROR:console.error("".concat(s," - Error: ").concat(e));break;case Je.WARN:console.warn("".concat(s," - Warning: ").concat(e));break;case Je.INFO:console.log("".concat(s," - Info: ").concat(e));break;case Je.DEBUG:console.log("".concat(s," - Debug: ").concat(e));break;case Je.VERBOSE:console.log("".concat(s," - Verbose: ").concat(e));}},ir={setLevel:function(t){er(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null);},currentLevel:function(){return rr(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null)},error:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"paella-core";nr({msg:t,level:Je.ERROR,player:e,context:r});},warn:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"paella-core";nr({msg:t,level:Je.WARN,player:e,context:r});},info:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"paella-core";nr({msg:t,level:Je.INFO,player:e,context:r});},debug:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"paella-core";nr({msg:t,level:Je.DEBUG,player:e,context:r});},verbose:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"paella-core";nr({msg:t,level:Je.VERBOSE,player:e,context:r});}},or=function(){function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"paella-core";!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._player=e,this._context=r;}var e,r;return e=t,r=[{key:"context",get:function(){return this._context}},{key:"player",get:function(){return this._player}},{key:"setLevel",value:function(t){ir.setLevel(t,this._player);}},{key:"currentLevel",value:function(){return ir.currentLevel(this._player)}},{key:"error",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;ir.error(t,this._player,e||this._context);}},{key:"warn",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;ir.warn(t,this._player,e||this._context);}},{key:"info",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;ir.info(t,this._player,e||this._context);}},{key:"debug",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;ir.debug(t,this._player,e||this._context);}},{key:"verbose",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;ir.verbose(t,this._player,e||this._context);}}],r&&Qe(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),ar={},sr=r(7456);sr.keys().forEach((function(t){var e=/([a-z-]+[A-Z_]+)\.json/.exec(t),r=e&&e[1];if(r){var n=sr(t);ar[r]=n;var i=r.substr(0,2);i in ar||(ar[i]=n);}}));const cr=ar;function ur(t){return ur="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ur(t)}function lr(){lr=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value;},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"");}catch(t){c=function(t,e,r){return t[e]=r};}function u(t,e,r,i){var o=e&&e.prototype instanceof h?e:h,a=Object.create(o.prototype),s=new _(i||[]);return n(a,"_invoke",{value:A(t,r,s)}),a}function l(t,e,r){try{return {type:"normal",arg:t.call(e,r)}}catch(t){return {type:"throw",arg:t}}}t.wrap=u;var f={};function h(){}function d(){}function p(){}var y={};c(y,o,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(k([])));g&&g!==e&&r.call(g,o)&&(y=g);var m=p.prototype=h.prototype=Object.create(y);function b(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}));}));}function w(t,e){function i(n,o,a,s){var c=l(t[n],t,o);if("throw"!==c.type){var u=c.arg,f=u.value;return f&&"object"==ur(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){i("next",t,a,s);}),(function(t){i("throw",t,a,s);})):e.resolve(f).then((function(t){u.value=t,a(u);}),(function(t){return i("throw",t,a,s)}))}s(c.arg);}var o;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){i(t,r,e,n);}))}return o=o?o.then(n,n):n()}});}function A(t,e,r){var n="suspendedStart";return function(i,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===i)throw o;return {value:void 0,done:!0}}for(r.method=i,r.arg=o;;){var a=r.delegate;if(a){var s=E(a,r);if(s){if(s===f)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg);}else "return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=l(t,e,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===f)continue;return {value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg);}}}function E(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var i=l(n,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,f;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e);}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e;}function _(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0);}function k(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return {next:C}}function C(){return {value:void 0,done:!0}}return d.prototype=p,n(m,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:d,configurable:!0}),d.displayName=c(p,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return !!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,s,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return {__await:t}},b(w.prototype),c(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new w(u(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(m),c(m,s,"Generator"),c(m,o,(function(){return this})),c(m,"toString",(function(){return "[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=k,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0);},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else {if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return "break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),L(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;L(r);}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:k(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}function fr(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(i=function(t,e){if("object"!==ur(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==ur(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===ur(i)?i:String(i)),n);}var i;}function hr(t,e){return hr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},hr(t,e)}function dr(t){return dr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},dr(t)}function pr(t,e,r,n,i,o,a){try{var s=t[o](a),c=s.value;}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,i);}function yr(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){pr(o,n,i,a,s,"next",t);}function s(t){pr(o,n,i,a,s,"throw",t);}a(void 0);}))}}var vr='{ "global": {}, "videos": {} }';function gr(){return mr.apply(this,arguments)}function mr(){return (mr=yr(lr().mark((function t(){var e;return lr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=this.source.name,t.next="cookie"===t.t0?3:"dataPlugin"===t.t0?10:20;break;case 3:return t.prev=3,t.abrupt("return",JSON.parse((0, v.getCookie)("preferences")));case 7:return t.prev=7,t.t1=t.catch(3),t.abrupt("return",JSON.parse(vr));case 10:return t.prev=10,t.next=13,this.player.data.read(this.source.context,{});case 13:return e=t.sent,t.abrupt("return",e||JSON.parse(vr));case 17:return t.prev=17,t.t2=t.catch(10),t.abrupt("return",JSON.parse(vr));case 20:case"end":return t.stop()}}),t,this,[[3,7],[10,17]])})))).apply(this,arguments)}function br(t){return wr.apply(this,arguments)}function wr(){return (wr=yr(lr().mark((function t(e){return lr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=this.source.name,t.next="cookie"===t.t0?3:"dataPlugin"===t.t0?5:8;break;case 3:return (0, v.setCookieIfAllowed)(this.player,this.source.consentType,"preferences",JSON.stringify(e)),t.abrupt("break",8);case 5:return t.next=7,this.player.data.write(this.source.context,{},e);case 7:return t.abrupt("break",8);case 8:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}var Ar=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hr(t,e);}(c,t);var e,r,n,i,o,a,s=(o=c,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return !1;if(Reflect.construct.sham)return !1;if("function"==typeof Proxy)return !0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return !1}}(),function(){var t,e=dr(o);if(a){var r=dr(this).constructor;t=Reflect.construct(e,arguments,r);}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===ur(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function c(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),e=s.call(this,t);var r=t.config.preferences||{currentSource:"cookie",sources:{cookie:{consentType:"necessary"}}},n=r.currentSource,i=r.sources;if(e.source=i[n],e.source.name=n,e._loaded=!1,!e.source)throw Error("Invalid configuration in preferences. Check the configuration file.");return e}return e=c,r=[{key:"set",value:(i=yr(lr().mark((function t(e,r){var n,i,o,a=arguments;return lr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=(a.length>2&&void 0!==a[2]?a[2]:{}).global,i=void 0!==n&&n,t.next=3,gr.apply(this);case 3:return o=t.sent,i?o.global[e]=r:(o.videos[this.player.videoId]=o.videos[this.player.videoId]||{},o.videos[this.player.videoId][e]=r),t.next=7,br.apply(this,[o]);case 7:case"end":return t.stop()}}),t,this)}))),function(t,e){return i.apply(this,arguments)})},{key:"get",value:(n=yr(lr().mark((function t(e){var r,n,i,o=arguments;return lr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=(o.length>1&&void 0!==o[1]?o[1]:{}).global,n=void 0!==r&&r,t.next=3,gr.apply(this);case 3:if(i=t.sent,!n){t.next=8;break}return t.abrupt("return",i.global[e]);case 8:return t.abrupt("return",i.videos[this.player.videoId]&&i.videos[this.player.videoId][e]||void 0);case 9:case"end":return t.stop()}}),t,this)}))),function(t){return n.apply(this,arguments)})}],r&&fr(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),c}(J.Z);const Er=Object.freeze({UNLOADED:0,LOADING_MANIFEST:1,MANIFEST:2,LOADING_PLAYER:3,LOADED:4,UNLOADING_MANIFEST:5,UNLOADING_PLAYER:6,ERROR:7});function xr(){xr=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value;},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"");}catch(t){c=function(t,e,r){return t[e]=r};}function u(t,e,r,i){var o=e&&e.prototype instanceof h?e:h,a=Object.create(o.prototype),s=new _(i||[]);return n(a,"_invoke",{value:A(t,r,s)}),a}function l(t,e,r){try{return {type:"normal",arg:t.call(e,r)}}catch(t){return {type:"throw",arg:t}}}t.wrap=u;var f={};function h(){}function d(){}function p(){}var y={};c(y,o,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(k([])));g&&g!==e&&r.call(g,o)&&(y=g);var m=p.prototype=h.prototype=Object.create(y);function b(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}));}));}function w(t,e){function i(n,o,a,s){var c=l(t[n],t,o);if("throw"!==c.type){var u=c.arg,f=u.value;return f&&"object"==Lr(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){i("next",t,a,s);}),(function(t){i("throw",t,a,s);})):e.resolve(f).then((function(t){u.value=t,a(u);}),(function(t){return i("throw",t,a,s)}))}s(c.arg);}var o;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){i(t,r,e,n);}))}return o=o?o.then(n,n):n()}});}function A(t,e,r){var n="suspendedStart";return function(i,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===i)throw o;return {value:void 0,done:!0}}for(r.method=i,r.arg=o;;){var a=r.delegate;if(a){var s=E(a,r);if(s){if(s===f)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg);}else "return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=l(t,e,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===f)continue;return {value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg);}}}function E(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var i=l(n,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,f;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e);}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e;}function _(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0);}function k(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return {next:C}}function C(){return {value:void 0,done:!0}}return d.prototype=p,n(m,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:d,configurable:!0}),d.displayName=c(p,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return !!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,s,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return {__await:t}},b(w.prototype),c(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new w(u(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(m),c(m,s,"Generator"),c(m,o,(function(){return this})),c(m,"toString",(function(){return "[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=k,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0);},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else {if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return "break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),L(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;L(r);}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:k(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}function Lr(t){return Lr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lr(t)}function _r(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(i=function(t,e){if("object"!==Lr(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==Lr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===Lr(i)?i:String(i)),n);}var i;}function kr(t,e,r,n,i,o,a){try{var s=t[o](a),c=s.value;}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,i);}function Cr(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){kr(o,n,i,a,s,"next",t);}function s(t){kr(o,n,i,a,s,"throw",t);}a(void 0);}))}}function Sr(t){var e;null!==(e=this._skinData)&&void 0!==e&&e.configOverrides&&(0, v.mergeObjects)(t,this._skinData.configOverrides);}function Tr(){return Pr.apply(this,arguments)}function Pr(){return Pr=Cr(xr().mark((function t(){var e,r,n=this;return xr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null===(e=this._skinData)||void 0===e||!e.styleSheets){t.next=5;break}return r=[],this._skinData.styleSheets.forEach((function(t){if(/\{.*/.test(t));else {if(!n._externalResourcesAllowed)throw new Error("No external resources allowed loading skin object");var e=(0, v.joinPath)([n._skinUrl,t]);r.push(new Promise(function(){var t=Cr(xr().mark((function t(r){return xr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0, v.loadStyle)(e,!1);case 2:r();case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));}})),t.next=5,Promise.allSettled(r);case 5:case"end":return t.stop()}}),t,this)}))),Pr.apply(this,arguments)}function Or(){return Ir.apply(this,arguments)}function Ir(){return Ir=Cr(xr().mark((function t(){var e,r,n=this;return xr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.player.__skinStyleSheets__=this.player.__skinStyleSheets__||[],null===(e=this._skinData)||void 0===e||!e.styleSheets){t.next=6;break}return r=[],this._skinData.styleSheets.forEach((function(t){if(/\{.*/.test(t))r.push(new Promise((function(e){var r=document.createElement("style");r.innerHTML=t,n.player.__skinStyleSheets__.push(r),document.head.appendChild(r),e();})));else {var e=(0, v.joinPath)([n._skinUrl,t]);r.push(new Promise(function(){var t=Cr(xr().mark((function t(r){var i;return xr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0, v.loadStyle)(e);case 2:i=t.sent,n.player.__skinStyleSheets__.push(i),r();case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));}})),t.next=6,Promise.allSettled(r);case 6:case"end":return t.stop()}}),t,this)}))),Ir.apply(this,arguments)}function Rr(){this.player.__skinStyleSheets__=this.player.__skinStyleSheets__||[],this.player.__skinStyleSheets__.forEach((function(t){(0, v.unloadStyle)(t);})),this.player.__skinStyleSheets__=[];}function Dr(){return jr.apply(this,arguments)}function jr(){return jr=Cr(xr().mark((function t(){var e,r=this;return xr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!Array.isArray(null===(e=this._skinData)||void 0===e?void 0:e.icons)){t.next=3;break}return t.next=3,Promise.all(this._skinData.icons.map((function(t){t.plugin,t.identifier;var e=t.icon;return new Promise(function(){var t=Cr(xr().mark((function t(n,i){var o,a;return xr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((o=document.createElement("div")).innerHTML=e,!o.children[0]||"svg"!==o.children[0].tagName){t.next=6;break}n(),t.next=15;break;case 6:if(!r._externalResourcesAllowed){t.next=14;break}return a=(0, v.joinPath)([r._skinUrl,e]),t.next=10,fetch(a);case 10:t.sent.ok?n():i(new Error("Skin icon not found at URL '".concat(a,"'"))),t.next=15;break;case 14:throw new Error("No external resources allowed loading skin object");case 15:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}())})));case 3:case"end":return t.stop()}}),t,this)}))),jr.apply(this,arguments)}function Br(){return Fr.apply(this,arguments)}function Fr(){return Fr=Cr(xr().mark((function t(){var e,r=this;return xr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!Array.isArray(null===(e=this._skinData)||void 0===e?void 0:e.icons)){t.next=3;break}return t.next=3,Promise.all(this._skinData.icons.map((function(t){var e=t.plugin,n=t.identifier,i=t.icon;return new Promise(function(){var t=Cr(xr().mark((function t(o,a){var s,c,u,l;return xr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((s=document.createElement("div")).innerHTML=i,!s.children[0]||"svg"!==s.children[0].tagName){t.next=7;break}r.player.addCustomPluginIcon(e,n,i),o(),t.next=20;break;case 7:return c=(0, v.joinPath)([r._skinUrl,i]),t.next=10,fetch(c);case 10:if(!(u=t.sent).ok){t.next=19;break}return t.next=14,u.text();case 14:l=t.sent,r.player.addCustomPluginIcon(e,n,l),o(),t.next=20;break;case 19:a(new Error("Skin icon not found at URL '".concat(c,"'")));case 20:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}())})));case 3:case"end":return t.stop()}}),t,this)}))),Fr.apply(this,arguments)}var Nr=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._player=e;}var e,r,n;return e=t,r=[{key:"player",get:function(){return this._player}},{key:"loadSkin",value:(n=Cr(xr().mark((function t(e){var r;return xr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("string"!=typeof e){t.next=13;break}return this._skinUrl=(0, v.removeFileName)(e),this._externalResourcesAllowed=!0,t.next=5,fetch(e);case 5:if((r=t.sent).ok){t.next=8;break}throw new Error("Error loading skin from URL ".concat(e));case 8:return t.next=10,r.json();case 10:this._skinData=t.sent,t.next=14;break;case 13:"object"===Lr(e)&&(this._skinUrl="",this._externalResourcesAllowed=!1,this._skinData=e);case 14:return t.prev=14,t.next=17,Tr.apply(this);case 17:return t.next=19,Dr.apply(this);case 19:if(this._player.state!==Er.LOADED&&this._player.state!==Er.MANIFEST){t.next=22;break}return t.next=22,this._player.reload();case 22:t.next=30;break;case 24:throw t.prev=24,t.t0=t.catch(14),this._skinUrl="",this._externalResourcesAllowed=!0,this._skinData={},t.t0;case 30:case"end":return t.stop()}}),t,this,[[14,24]])}))),function(t){return n.apply(this,arguments)})},{key:"unloadSkin",value:function(){var t,e,r=this;Array.isArray(null===(t=this._skinData)||void 0===t?void 0:t.icons)&&(null===(e=this._skinData)||void 0===e||e.icons.forEach((function(t){var e=t.plugin,n=t.identifier;r.player.removeCustomPluginIcon(e,n);}))),this._skinUrl=null,this._skinData={},this._player.state!==Er.LOADED&&this._player.state!==Er.MANIFEST||this._player.reload();}}],r&&_r(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),Mr=r(5361),Ur={};Ur.styleTagTransform=d(),Ur.setAttributes=u(),Ur.insert=s().bind(null,"head"),Ur.domAPI=o(),Ur.insertStyleElement=f(),e()(Mr.Z,Ur),Mr.Z&&Mr.Z.locals&&Mr.Z.locals;var Gr=r(4147);function $r(t){return $r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$r(t)}function Vr(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=Kr(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,i=function(){};return {s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return {s:function(){r=r.call(t);},n:function(){var t=r.next();return a=t.done,t},e:function(t){s=!0,o=t;},f:function(){try{a||null==r.return||r.return();}finally{if(s)throw o}}}}function Kr(t,e){if(t){if("string"==typeof t)return Hr(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return "Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Hr(t,e):void 0}}function Hr(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Yr(){Yr=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value;},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"");}catch(t){c=function(t,e,r){return t[e]=r};}function u(t,e,r,i){var o=e&&e.prototype instanceof h?e:h,a=Object.create(o.prototype),s=new _(i||[]);return n(a,"_invoke",{value:A(t,r,s)}),a}function l(t,e,r){try{return {type:"normal",arg:t.call(e,r)}}catch(t){return {type:"throw",arg:t}}}t.wrap=u;var f={};function h(){}function d(){}function p(){}var y={};c(y,o,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(k([])));g&&g!==e&&r.call(g,o)&&(y=g);var m=p.prototype=h.prototype=Object.create(y);function b(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}));}));}function w(t,e){function i(n,o,a,s){var c=l(t[n],t,o);if("throw"!==c.type){var u=c.arg,f=u.value;return f&&"object"==$r(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){i("next",t,a,s);}),(function(t){i("throw",t,a,s);})):e.resolve(f).then((function(t){u.value=t,a(u);}),(function(t){return i("throw",t,a,s)}))}s(c.arg);}var o;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){i(t,r,e,n);}))}return o=o?o.then(n,n):n()}});}function A(t,e,r){var n="suspendedStart";return function(i,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===i)throw o;return {value:void 0,done:!0}}for(r.method=i,r.arg=o;;){var a=r.delegate;if(a){var s=E(a,r);if(s){if(s===f)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg);}else "return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=l(t,e,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===f)continue;return {value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg);}}}function E(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var i=l(n,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,f;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e);}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e;}function _(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0);}function k(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return {next:C}}function C(){return {value:void 0,done:!0}}return d.prototype=p,n(m,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:d,configurable:!0}),d.displayName=c(p,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return !!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,s,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return {__await:t}},b(w.prototype),c(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new w(u(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(m),c(m,s,"Generator"),c(m,o,(function(){return this})),c(m,"toString",(function(){return "[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=k,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0);},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else {if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return "break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),L(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;L(r);}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:k(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}function Zr(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(i=function(t,e){if("object"!==$r(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==$r(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===$r(i)?i:String(i)),n);}var i;}function Wr(t,e,r,n,i,o,a){try{var s=t[o](a),c=s.value;}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,i);}function zr(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){Wr(o,n,i,a,s,"next",t);}function s(t){Wr(o,n,i,a,s,"throw",t);}a(void 0);}))}}var qr=Object.freeze(["UNLOADED","LOADING_MANIFEST","MANIFEST","LOADING_PLAYER","LOADED","UNLOADING_MANIFEST","UNLOADING_PLAYER","ERROR"]);function Xr(){var t,e,r,n,i,o,a,s,c=(null===(t=this.videoManifest)||void 0===t||null===(e=t.metadata)||void 0===e?void 0:e.preview)&&(0, v.resolveResourcePath)(this,null===(r=this.videoManifest)||void 0===r||null===(n=r.metadata)||void 0===n?void 0:n.preview)||this.defaultVideoPreview,u=(null===(i=this.videoManifest)||void 0===i||null===(o=i.metadata)||void 0===o?void 0:o.previewPortrait)&&(0, v.resolveResourcePath)(this,null===(a=this.videoManifest)||void 0===a||null===(s=a.metadata)||void 0===s?void 0:s.previewPortrait)||this.defaultVideoPreviewPortrait;this._previewContainer=new Zt(this,this._containerElement,c,u);}function Qr(){return Jr.apply(this,arguments)}function Jr(){return (Jr=zr(Yr().mark((function t(){var e,r,n,i,o,a,s,c,u,l,f,h,d,p;return Yr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this._playerState=Er.LOADING_MANIFEST,this._manifestLoaded=!0,this.log.debug("Loading paella player"),t.next=5,this.initParams.loadConfig(this.configUrl,this);case 5:this._config=t.sent,Sr.apply(this.skin,[this._config]),(0, pt.fo)(this),this._defaultVideoPreview=this._config.defaultVideoPreview||this._initParams.defaultVideoPreview||null,this._defaultVideoPreviewPortrait=this._config.defaultVideoPreviewPortrait||this._initParams.defaultVideoPreviewPortrait||null,this._cookieConsent=new Ye(this,{getConsent:this._initParams.getCookieConsentFunction,getDescription:this._initParams.getCookieDescriptionFunction}),this._preferences=new Ar(this),e=new URLSearchParams(window.location.search),r=new URLSearchParams,n=Vr(e);try{for(n.s();!(i=n.n()).done;)y=i.value,v=2,o=function(t){if(Array.isArray(t))return t}(y)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,i,o,a,s=[],c=!0,u=!1;try{if(o=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;c=!1;}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==e);c=!0);}catch(t){u=!0,i=t;}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(y,v)||Kr(y,v)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),a=o[0],s=o[1],r.append(a.toLowerCase(),s);}catch(t){n.e(t);}finally{n.f();}return c=r.get("loglevel"),u=c&&-1!==Array.from(Object.keys(Je)).indexOf(c.toUpperCase())?c:this._config.logLevel||"INFO",this._log.setLevel(u),t.next=21,this._initParams.loadDictionaries(this);case 21:return (0, X.zb)(this),t.next=24,(0, Ue.$_)(this);case 24:return t.next=26,(0, Ge.L)(this);case 26:return this._videoContainer=new Mt(this,this._containerElement),t.next=29,this.videoContainer.create();case 29:l=Vr(this.pluginModules),t.prev=30,l.s();case 32:if((f=l.n()).done){t.next=43;break}if(h=f.value,t.t0=h.getDictionaries,!t.t0){t.next=39;break}return t.next=38,h.getDictionaries();case 38:t.t0=t.sent;case 39:if(d=t.t0)for(p in d)(0, pt.BF)(p,d[p]);case 41:t.next=32;break;case 43:t.next=48;break;case 45:t.prev=45,t.t1=t.catch(30),l.e(t.t1);case 48:return t.prev=48,l.f(),t.finish(48);case 51:case"end":return t.stop()}var y,v;}),t,this,[[30,45,48,51]])})))).apply(this,arguments)}function tn(){return en.apply(this,arguments)}function en(){return en=zr(Yr().mark((function t(){var e,r,n,i,o,a=this;return Yr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(n in this.log.debug("Video manifest loaded:"),this.log.debug(this.videoManifest),this._data=new Ce.Z(this),cr)i=cr[n],(0, pt.BF)(n,i);if(this._playerState=Er.MANIFEST,(0, rt.qe)(this,rt.ZP.MANIFEST_LOADED),null!==(e=this.videoManifest)&&void 0!==e&&null!==(r=e.metadata)&&void 0!==r&&r.preview){t.next=10;break}throw new Error("No preview image found in video manifest, and no default preview image defined.");case 10:Xr.apply(this);case 11:ft(this._videoManifest),1===__paella_instances__.length&&(o=function(){var t=zr(Yr().mark((function t(e){return Yr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!/space/i.test(e.code)){t.next=4;break}return t.next=3,a.play();case 3:window.removeEventListener("keypress",o,!0);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),window.addEventListener("keypress",o,!0));case 13:case"end":return t.stop()}}),t,this)}))),en.apply(this,arguments)}var rn=function(){function t(e){var r=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._log=new or(this),this._packageData=Gr,this._log.setLevel(Je.VERBOSE),window.__paella_instances__=window.__paella_instances__||[],window.__paella_instances__.push(this),this.log.debug("New paella player instance"),"string"==typeof e&&(e=document.getElementById(e)),e.classList.add("player-container"),this.log.debug("Loading skin manager"),this._skin=new Nr(this),this._containerElement=e,this._initParams=n,this._initParams.manifestFileName=this._initParams.manifestFileName||"data.json",this._initParams.loadConfig=this._initParams.loadConfig||A,this._initParams.getVideoId=this._initParams.getVideoId||x,this._initParams.getManifestUrl=this._initParams.getManifestUrl||_,this._initParams.getManifestFileUrl=this._initParams.getManifestFileUrl||C,this._initParams.loadVideoManifest=this._initParams.loadVideoManifest||T,this._initParams.customPluginContext=this._initParams.customPluginContext||[],this._initParams.translateFunction=this._initParams.translateFunction||pt.Pb,this._initParams.getLanguageFunction=this._initParams.getLanguageFunction||pt.cN,this._initParams.setLanguageFunction=this._initParams.setLanguageFunction||pt.D$,this._initParams.addDictionaryFunction=this._initParams.addDictionaryFunction||pt.Xx,this._initParams.getDictionariesFunction=this._initParams.getDictionariesFunction||pt.m6,this._initParams.getDefaultLanguageFunction=this._initParams.getDefaultLanguageFunction||pt.eJ,this._initParams.Loader=this._initParams.customLoader||$,this._initParams.getCookieConsentFunction=this._initParams.getCookieConsentFunction||Ke,this._initParams.getCookieDescriptionFunction=this._initParams.getCookieDescriptionFunction||He,this._initParams.loadDictionaries=this._initParams.loadDictionaries||function(){var t=zr(Yr().mark((function t(e){return Yr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(0, pt.BF)("en",{Hello:"Hello",World:"World"}),(0, pt.BF)("es",{Hello:"Hola",World:"Mundo"}),(0, pt.m0)(navigator.language.substring(0,2));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),(0, pt.Gj)(this._initParams.translateFunction),(0, pt.n1)(this._initParams.setLanguageFunction),(0, pt.Ji)(this._initParams.getLanguageFunction),(0, pt.fe)(this._initParams.addDictionaryFunction),(0, pt.Fv)(this._initParams.getDictionariesFunction),(0, pt.gc)(this._initParams.getDefaultLanguageFunction),this._config=null,this._defaultVideoPreview=null,this._defaultVideoPreviewPortrait=null,this._videoId=null,this._manifestUrl=null,this._manifestFileUrl=null,this._manifestData=null,this._videoManifest=null,this._playerLoaded=!1,window.addEventListener("resize",(function(){r.resize();})),this.containerElement.addEventListener("fullscreenchange",(function(){(0, rt.qe)(r,rt.ZP.FULLSCREEN_CHANGED,{status:r.isFullscreen}),r.isFullscreen?(0, rt.qe)(r,rt.ZP.ENTER_FULLSCREEN):(0, rt.qe)(r,rt.ZP.EXIT_FULLSCREEN);})),this._playerState=Er.UNLOADED,this._customPluginIcons={};}var e,r,n,i,o,a,s,c,u,l,f,h,d,p,y,g,m,b;return e=t,r=[{key:"version",get:function(){return this._packageData.version}},{key:"pluginModules",get:function(){return this.__pluginModules||[]}},{key:"log",get:function(){return this._log}},{key:"ready",get:function(){return this._playerState===Er.LOADED}},{key:"state",get:function(){return this._playerState}},{key:"stateText",get:function(){return qr[this.state]}},{key:"Events",get:function(){return rt.ZP}},{key:"preferences",get:function(){return this._preferences}},{key:"skin",get:function(){return this._skin}},{key:"translate",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return (0, pt.Iu)(t,e)}},{key:"setLanguage",value:function(t){(0, pt.m0)(t);}},{key:"getLanguage",value:function(){return (0, pt.G3)()}},{key:"addDictionary",value:function(t,e){(0, pt.BF)(t,e);}},{key:"getDictionaries",value:function(){return (0, pt.rM)()}},{key:"getDefaultLanguage",value:function(){return (0, pt.Mb)(this)}},{key:"bindEvent",value:function(t,e){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];(0, rt.GT)(this,t,(function(t){return e(t)}),r);}},{key:"getShortcuts",value:function(){return (0, Ge.gg)(this)}},{key:"getPlugin",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!e){var r={};for(var n in this.__pluginData__.pluginInstances){var i=this.__pluginData__.pluginInstances[n].find((function(e){if(e.name===t)return e}));i&&(r[n]=i);}return r}var o=this.__pluginData__.pluginInstances[e];if(o)return o.find((function(e){if(e.name===t)return e}))}},{key:"hideUiTime",get:function(){return this._hideUiTime},set:function(t){this._hideUiTime=t;}},{key:"containerSize",get:function(){return {w:this._containerElement.offsetWidth,h:this._containerElement.offsetHeight}}},{key:"containerElement",get:function(){return this._containerElement}},{key:"initParams",get:function(){return this._initParams}},{key:"cookieConsent",get:function(){return this._cookieConsent}},{key:"configLoaded",get:function(){return null!==this.configUrl}},{key:"videoManifestLoaded",get:function(){return null!==this.videoManifest}},{key:"videoLoaded",get:function(){var t;return (null===(t=this.videoContainer)||void 0===t?void 0:t.ready)||!1}},{key:"playerLoaded",get:function(){return this._playerLoaded}},{key:"configResourcesUrl",get:function(){var t;return (null===(t=this._initParams)||void 0===t?void 0:t.configResourcesUrl)||"config/"}},{key:"configUrl",get:function(){var t;return (null===(t=this._initParams)||void 0===t?void 0:t.configUrl)||"config/config.json"}},{key:"config",get:function(){return this._config}},{key:"defaultVideoPreview",get:function(){return this._defaultVideoPreview}},{key:"defaultVideoPreviewPortrait",get:function(){return this._defaultVideoPreviewPortrait}},{key:"videoId",get:function(){return this._videoId}},{key:"repositoryUrl",get:function(){var t,e;return (null===(t=this._initParams)||void 0===t?void 0:t.repositoryUrl)||(null===(e=this.config)||void 0===e?void 0:e.repositoryUrl)||""}},{key:"manifestUrl",get:function(){return this._manifestUrl}},{key:"manifestFileName",get:function(){var t,e;return (null===(t=this.config)||void 0===t?void 0:t.manifestFileName)||(null===(e=this._initParams)||void 0===e?void 0:e.manifestFileName)||""}},{key:"manifestFileUrl",get:function(){return this._manifestFileUrl}},{key:"videoManifest",get:function(){return this._videoManifest}},{key:"previewContainer",get:function(){return this._previewContainer}},{key:"videoContainer",get:function(){return this._videoContainer}},{key:"playbackBar",get:function(){return this._playbackBar}},{key:"captionsCanvas",get:function(){return this._captionsCanvas}},{key:"data",get:function(){return this._data}},{key:"PlayerState",get:function(){return Er}},{key:"PlayerStateNames",get:function(){return qr}},{key:"waitState",value:function(t){var e=this;return new Promise((function(r,n){"string"==typeof t&&(t=Er[t]),(t<0||t>Object.values(Er).length)&&n(Error("Invalid player state '".concat(t,"'"))),function n(){e.state===t?r():setTimeout(n,50);}();}))}},{key:"loadUrl",value:(b=zr(Yr().mark((function t(e){var r,n,i,o,a,s,c=this,u=arguments;return Yr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=(r=u.length>1&&void 0!==u[1]?u[1]:{}).title,i=r.duration,o=r.preview,a=r.previewPortrait,this._playerState===Er.UNLOADED){t.next=3;break}throw new Error(this.translate("loadUrl(): Invalid current player state: $1",[qr[this._playerState]]));case 3:if(!this._manifestLoaded){t.next=5;break}throw new Error(this.translate("loadUrl(): Invalid current player state: $1",[qr[this._playerState]]));case 5:if(e){t.next=7;break}throw new Error(this.translate("loadUrl(): No URL specified."));case 7:return Array.isArray(e)||(e=[e]),n||(n=(0, v.getUrlFileName)(e[0]),this.log.warn("Paella.loadUrl(): no title specified. Using URL file name as video name.")),t.prev=9,t.next=12,Qr.apply(this);case 12:if(o||""===this.defaultVideoPreview&&""===this.defaultVideoPreviewPortrait){t.next=18;break}o=this.defaultVideoPreview,a=this.defaultVideoPreviewPortrait,this.log.warn("Paella.loadUrl(): no preview image specified. Using default preview image."),t.next=20;break;case 18:if(o&&a){t.next=20;break}throw new Error("Paella.loadUrl(): no preview image specified and no default preview image configured.");case 20:return this._videoId=(0, v.removeExtension)((0, v.getUrlFileName)(e[0])),this._manifestUrl=(0, v.removeFileName)(e[0]),this._manifestFileUrl=e[0],this.log.debug("Loading video with identifier '".concat(this.videoId,"' from URL '").concat(this.manifestFileUrl,"'")),s=(0, Q.Fw)(this,e.length)[0],this._videoManifest={metadata:{duration:i,title:n,preview:o,previewPortrait:a},streams:e.map((function(t,e){return {sources:Tt(c,t),content:s[e],role:0===e?"mainAudio":null}}))},t.next=28,tn.apply(this);case 28:t.next=36;break;case 30:throw t.prev=30,t.t0=t.catch(9),this._playerState=Er.ERROR,this.log.error(t.t0),this._errorContainer=new q(this,this.translate(t.t0.message)),t.t0;case 36:case"end":return t.stop()}}),t,this,[[9,30]])}))),function(t){return b.apply(this,arguments)})},{key:"loadManifest",value:(m=zr(Yr().mark((function t(){return Yr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this._playerState===Er.UNLOADED){t.next=2;break}throw new Error(this.translate("loadManifest(): Invalid current player state: $1",[qr[this._playerState]]));case 2:if(!this._manifestLoaded){t.next=4;break}return t.abrupt("return");case 4:return t.prev=4,t.next=7,Qr.apply(this);case 7:return t.next=9,this.initParams.getVideoId(this._config,this);case 9:if(this._videoId=t.sent,null!==this.videoId){t.next=12;break}throw new Error("No video identifier specified");case 12:return t.next=14,this.initParams.getManifestUrl(this.repositoryUrl,this.videoId,this._config,this);case 14:return this._manifestUrl=t.sent,t.next=17,this.initParams.getManifestFileUrl(this._manifestUrl,this.manifestFileName,this._config,this);case 17:return this._manifestFileUrl=t.sent,this.log.debug("Loading video with identifier '".concat(this.videoId,"' from URL '").concat(this.manifestFileUrl,"'")),t.next=21,this.initParams.loadVideoManifest(this.manifestFileUrl,this._config,this);case 21:return this._videoManifest=t.sent,this._videoManifest.metadata=this._videoManifest.metadata||{},this._videoManifest.metadata.preview||""===this.defaultVideoPreview&&""===this.defaultVideoPreviewPortrait||(this._videoManifest.metadata.preview=this.defaultVideoPreview,this._videoManifest.metadata.previewPortrait=this.defaultVideoPreviewPortrait,this.log.warn("Paella.loadUrl(): no preview image specified. Using default preview image.")),Rr.apply(this.skin),t.next=27,Br.apply(this.skin);case 27:return t.next=29,Or.apply(this.skin);case 29:return t.next=31,tn.apply(this);case 31:t.next=39;break;case 33:throw t.prev=33,t.t0=t.catch(4),this._playerState=Er.ERROR,this.log.error(t.t0),this._errorContainer=new q(this,this.translate(t.t0.message)),t.t0;case 39:case"end":return t.stop()}}),t,this,[[4,33]])}))),function(){return m.apply(this,arguments)})},{key:"loadPlayer",value:(g=zr(Yr().mark((function t(){var e,r,n;return Yr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,this._captionsCanvas=new Me(this,this._containerElement),this._playerState===Er.MANIFEST){t.next=4;break}throw new Error(this.translate("loadPlayer(): Invalid current player state: $1",[qr[this._playerState]]));case 4:return this._playerState=Er.LOADING_PLAYER,null===(e=this._previewContainer)||void 0===e||e.removeFromParent(),this._loader=new this.initParams.Loader(this),t.next=9,this._loader.create();case 9:return t.next=11,this.videoContainer.load(null===(r=this.videoManifest)||void 0===r?void 0:r.streams);case 11:return (0, rt.qe)(this,rt.ZP.STREAM_LOADED),this._playbackBar=new _e(this,this.containerElement),t.next=15,this._playbackBar.load();case 15:this._hideUiTime=5e3,(0, v.setupAutoHideUiTimer)(this),this._captionsCanvas.load(),this._playerState=Er.LOADED,(0, rt.qe)(this,rt.ZP.PLAYER_LOADED),!(null===(n=this.videoManifest.metadata.visibleTimeLine)||void 0===n||n)&&this.playbackBar.progressIndicator.hideTimeLine(),this._loader.debug||(this._loader.removeFromParent(),this._loader=null),t.next=31;break;case 25:throw t.prev=25,t.t0=t.catch(0),this._playerState=Er.ERROR,this._loader&&(this._loader.removeFromParent(),this._loader=null),this._errorContainer=new q(this,t.t0.message),t.t0;case 31:case"end":return t.stop()}}),t,this,[[0,25]])}))),function(){return g.apply(this,arguments)})},{key:"load",value:function(){var t=zr(Yr().mark((function t(){return Yr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=this.state,t.next=t.t0===Er.UNLOADED?3:t.t0===Er.MANIFEST?8:t.t0===Er.LOADED?11:12;break;case 3:return t.next=5,this.loadManifest();case 5:return t.next=7,this.loadPlayer();case 7:case 10:case 11:return t.abrupt("break",13);case 8:return t.next=10,this.loadPlayer();case 12:throw new Error(this.translate("Could not load player: state transition in progress: $1",[qr[this.state]]));case 13:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"unload",value:(y=zr(Yr().mark((function t(){return Yr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=this.state,t.next=t.t0===Er.UNLOADED?3:t.t0===Er.MANIFEST?4:t.t0===Er.LOADED||t.t0===Er.ERROR?7:12;break;case 3:case 6:case 11:return t.abrupt("break",13);case 4:return t.next=6,this.unloadManifest();case 7:return t.next=9,this.unloadPlayer();case 9:return t.next=11,this.unloadManifest();case 12:throw new Error(this.translate("Could not unload player: state transition in progress: $1",[qr[this.state]]));case 13:case"end":return t.stop()}}),t,this)}))),function(){return y.apply(this,arguments)})},{key:"unloadManifest",value:(p=zr(Yr().mark((function t(){var e;return Yr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this._playerState===Er.MANIFEST||this._playerState===Er.ERROR){t.next=2;break}throw new Error(this.translate("unloadManifest(): Invalid current player state: $1",[qr[this._playerState]]));case 2:return this._errorContainer&&(this._errorContainer.removeFromParent(),this._errorContainer=null),this._playerState=Er.UNLOADING_MANIFEST,this.log.debug("Unloading paella player"),t.next=7,(0, Ue.v$)(this);case 7:return t.next=9,(0, Ge.CZ)(this);case 9:return t.next=11,(0, X.W)(this);case 11:this._manifestLoaded=!1,null===(e=this._previewContainer)||void 0===e||e.removeFromParent(),this._preferences=null,this._playerState=Er.UNLOADED,Rr.apply(this.skin);case 16:case"end":return t.stop()}}),t,this)}))),function(){return p.apply(this,arguments)})},{key:"unloadPlayer",value:(d=zr(Yr().mark((function t(){var e,r,n,i,o;return Yr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this._playerState===Er.LOADED||this._playerState===Er.ERROR){t.next=2;break}throw new Error(this.translate("unloadManifest(): Invalid current player state: $1",[qr[this._playerState]]));case 2:return this._errorContainer&&(this._errorContainer.removeFromParent(),this._errorContainer=null),this._playerState=Er.UNLOADING_PLAYER,t.next=6,null===(e=this._videoContainer)||void 0===e?void 0:e.unload();case 6:return this._videoContainer=null,t.next=9,null===(r=this._playbackBar)||void 0===r?void 0:r.unload();case 9:this._playbackBar=null,null===(n=this._captionsCanvas)||void 0===n||n.unload(),this._captionsCanvas=null,(0, v.clearAutoHideTimer)(this),(0, rt.qe)(this,rt.ZP.PLAYER_UNLOADED),ve.Z.Unload(),ke.Z.Unload(this),null!==(i=this.videoManifest)&&void 0!==i&&null!==(o=i.metadata)&&void 0!==o&&o.preview&&Xr.apply(this),(0, rt.Ii)(this),this._playerState=Er.MANIFEST;case 19:case"end":return t.stop()}}),t,this)}))),function(){return d.apply(this,arguments)})},{key:"reload",value:(h=zr(Yr().mark((function t(){var e,r=arguments;return Yr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=r.length>0&&void 0!==r[0]?r[0]:null,t.t0=this.state,t.next=t.t0===Er.UNLOADED?4:t.t0===Er.MANIFEST?5:t.t0===Er.LOADED?8:11;break;case 4:case 7:case 10:return t.abrupt("break",11);case 5:return t.next=7,this.unloadManifest();case 8:return t.next=10,this.unload();case 11:if("function"!=typeof e){t.next=14;break}return t.next=14,e();case 14:return t.next=16,this.load();case 16:case"end":return t.stop()}}),t,this)}))),function(){return h.apply(this,arguments)})},{key:"resize",value:(f=zr(Yr().mark((function t(){var e,r,n,i=this;return Yr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:null===(e=this.videoContainer)||void 0===e||e.updateLayout(),null===(r=this.playbackBar)||void 0===r||r.onResize(),this.videoContainer&&(n=function(){return {w:i.videoContainer.element.offsetWidth,h:i.videoContainer.element.offsetHeight}},(0, rt.qe)(this,rt.ZP.RESIZE,{size:n()}),this._resizeEndTimer&&clearTimeout(this._resizeEndTimer),this._resizeEndTimer=setTimeout((function(){(0, rt.qe)(i,rt.ZP.RESIZE_END,{size:n()});}),1e3));case 3:case"end":return t.stop()}}),t,this)}))),function(){return f.apply(this,arguments)})},{key:"hideUserInterface",value:(l=zr(Yr().mark((function t(){var e,r,n;return Yr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,null===(e=this.videoContainer)||void 0===e?void 0:e.paused();case 2:if(t.sent){t.next=8;break}this._uiHidden=!0,null===(r=this.videoContainer)||void 0===r||r.hideUserInterface(),null===(n=this.playbackBar)||void 0===n||n.hideUserInterface(),ke.Z.HideUserInterface(this),(0, rt.qe)(this,rt.ZP.HIDE_UI);case 8:case"end":return t.stop()}}),t,this)}))),function(){return l.apply(this,arguments)})},{key:"showUserInterface",value:(u=zr(Yr().mark((function t(){var e,r;return Yr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:null===(e=this.videoContainer)||void 0===e||e.showUserInterface(),null===(r=this.playbackBar)||void 0===r||r.showUserInterface(),ke.Z.ShowUserInterface(this),this._uiHidden&&(0, rt.qe)(this,rt.ZP.SHOW_UI),this._uiHidden=!1;case 5:case"end":return t.stop()}}),t,this)}))),function(){return u.apply(this,arguments)})},{key:"play",value:(c=zr(Yr().mark((function t(){return Yr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.videoContainer.ready){t.next=3;break}return t.next=3,this.loadPlayer();case 3:return t.next=5,this.videoContainer.play();case 5:case"end":return t.stop()}}),t,this)}))),function(){return c.apply(this,arguments)})},{key:"pause",value:(s=zr(Yr().mark((function t(){var e;return Yr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,null===(e=this.videoContainer)||void 0===e?void 0:e.pause();case 2:case"end":return t.stop()}}),t,this)}))),function(){return s.apply(this,arguments)})},{key:"paused",value:(a=zr(Yr().mark((function t(){return Yr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.videoContainer){t.next=4;break}return t.abrupt("return",!0);case 4:return t.abrupt("return",this.videoContainer.paused());case 5:case"end":return t.stop()}}),t,this)}))),function(){return a.apply(this,arguments)})},{key:"stop",value:(o=zr(Yr().mark((function t(){var e;return Yr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,null===(e=this.videoContainer)||void 0===e?void 0:e.stop();case 2:case"end":return t.stop()}}),t,this)}))),function(){return o.apply(this,arguments)})},{key:"isFullScreenSupported",value:function(){return this.containerElement.requestFullscreen||this.containerElement.webkitRequestFullScreen}},{key:"enterFullscreen",value:(i=zr(Yr().mark((function t(){var e,r=this;return Yr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=null,this.containerElement.requestFullscreen?e=this.containerElement.requestFullscreen():this.containerElement.webkitRequestFullScreen&&(this.log.debug("Safari enter fullscreen"),e=this.containerElement.webkitRequestFullScreen()),setTimeout((function(){return r.resize()}),500),t.abrupt("return",e);case 4:case"end":return t.stop()}}),t,this)}))),function(){return i.apply(this,arguments)})},{key:"exitFullscreen",value:(n=zr(Yr().mark((function t(){return Yr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!document.exitFullscreen||!this.isFullscreen){t.next=4;break}return t.abrupt("return",document.exitFullscreen());case 4:if(!document.webkitCancelFullScreen||!this.isFullscreen){t.next=7;break}return this.log.debug("Safari exit fullscreen"),t.abrupt("return",document.webkitCancelFullScreen());case 7:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})},{key:"isFullscreen",get:function(){return document.fullscreenElement===this.containerElement||document.webkitFullscreenElement===this.containerElement}},{key:"addCustomPluginIcon",value:function(t,e,r){this._customPluginIcons["".concat(t,"-").concat(e)]=r;}},{key:"removeCustomPluginIcon",value:function(t,e){this._customPluginIcons["".concat(t,"-").concat(e)]=null;}},{key:"getCustomPluginIcon",value:function(t,e){return this._requestedCustomIcons=this._requestedCustomIcons||[],this._requestedCustomIcons.find((function(r){return r.pluginName===t&&r.iconName===e}))||this._requestedCustomIcons.push({pluginName:t,iconName:e}),this._customPluginIcons["".concat(t,"-").concat(e)]}},{key:"requestedCustomIcons",get:function(){return this._requestedCustomIcons||[]}}],r&&Zr(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),nn=r(9076),on=r(1547),an=r(7528),sn=r(143),cn=r(4025),un=r(625),ln=r(2452),fn=r(7488),hn=r(7133),dn=r(1309),pn=r(7096),yn=r(8069),vn=r(2604),gn=r(4348),mn=r(3591),bn=r(5026),wn=r(8785),An=r(7236),En=r(675),xn=r(2128),Ln=r(6761),_n=r(6280),kn=r(7118);})(),n})()));

    });

    var paellaBasicPlugins = createCommonjsModule(function (module, exports) {
    !function(e,t){module.exports=t(paellaCore);}(self,(e=>(()=>{var t={95:(e,t,n)=>{n.r(t),n.d(t,{default:()=>d});var r=n(995);var o={},i=n(456);i.keys().forEach((function(e){var t=/([a-z-]+[A-Z_]+)\.json/.exec(e),n=t&&t[1];if(n){var r=i(e);o[n]=r;var u=n.substring(0,2);u in o||(o[u]=r);}}));const u=o;function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function s(e,t,n,r,o,i,u){try{var a=e[i](u),s=a.value;}catch(e){return void n(e)}a.done?t(s):Promise.resolve(s).then(r,o);}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r);}}function f(e,t){return f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},f(e,t)}function p(e,t){return !t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}var d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t);}(y,e);var t,n,r,o,i,a,d=(i=y,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return !1;if(Reflect.construct.sham)return !1;if("function"==typeof Proxy)return !0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return !1}}(),function(){var e,t=h(i);if(a){var n=h(this).constructor;e=Reflect.construct(t,arguments,n);}else e=t.apply(this,arguments);return p(this,e)});function y(){return c(this,y),d.apply(this,arguments)}return t=y,n=[{key:"moduleName",get:function(){return "paella-basic-plugins"}},{key:"moduleVersion",get:function(){return "1.31.2"}},{key:"getDictionaries",value:(r=regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",u);case 1:case"end":return e.stop()}}),e)})),o=function(){var e=this,t=arguments;return new Promise((function(n,o){var i=r.apply(e,t);function u(e){s(i,n,o,u,a,"next",e);}function a(e){s(i,n,o,u,a,"throw",e);}u(void 0);}))},function(){return o.apply(this,arguments)})}],n&&l(t.prototype,n),y}(r.PluginModule);},252:(e,t,n)=>{n.r(t),n.d(t,{default:()=>y});var r=n(995),o=n(998),i=n.n(o);function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function a(e,t,n,r,o,i,u){try{var a=e[i](u),s=a.value;}catch(e){return void n(e)}a.done?t(s):Promise.resolve(s).then(r,o);}function s(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function u(e){a(i,r,o,u,s,"next",e);}function s(e){a(i,r,o,u,s,"throw",e);}u(void 0);}))}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r);}}function f(e,t,n){return f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=d(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}},f(e,t,n||e)}function p(e,t){return p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},p(e,t)}function h(e,t){return !t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}var y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t);}(b,e);var t,n,r,o,u,a,y,v,m,g=(v=b,m=function(){if("undefined"==typeof Reflect||!Reflect.construct)return !1;if(Reflect.construct.sham)return !1;if("function"==typeof Proxy)return !0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return !1}}(),function(){var e,t=d(v);if(m){var n=d(this).constructor;e=Reflect.construct(t,arguments,n);}else e=t.apply(this,arguments);return h(this,e)});function b(){return c(this,b),g.apply(this,arguments)}return t=b,n=[{key:"getAriaLabel",value:function(){return "Select the active audio track"}},{key:"getDescription",value:function(){return this.getAriaLabel()}},{key:"dynamicWidth",get:function(){return !1===this.config.showIcon}},{key:"titleSize",get:function(){return !1===this.config.showIcon?"large":"small"}},{key:"isEnabled",value:(y=s(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(d(b.prototype),"isEnabled",this).call(this);case 2:if(e.sent){e.next=4;break}return e.abrupt("return",!1);case 4:return e.next=6,this.player.videoContainer.streamProvider.getAudioTracks();case 6:return t=e.sent,e.abrupt("return",(null==t?void 0:t.length)>1);case 8:case"end":return e.stop()}}),e,this)}))),function(){return y.apply(this,arguments)})},{key:"load",value:(a=s(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return !1===this.config.showIcon||(this.icon=this.player.getCustomPluginIcon(this.name,"screenIcon")||i()),e.next=3,this.player.videoContainer.streamProvider.getAudioTracks();case 3:return this._audioTracks=e.sent,e.next=6,this.updateAudioLabel();case 6:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"getMenu",value:(u=s(regeneratorRuntime.mark((function e(){var t,n,r=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.player.videoContainer.streamProvider.currentAudioTrack,n=this._audioTracks.map((function(e){return {id:e.id,title:r.player.translate(e.name)||r.player.translate(e.language),data:e,selected:e===t}})),e.abrupt("return",n);case 3:case"end":return e.stop()}}),e,this)}))),function(){return u.apply(this,arguments)})},{key:"updateAudioLabel",value:(o=s(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.player.videoContainer.streamProvider.currentAudioTrack,this.title=t.language;case 2:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})},{key:"itemSelected",value:(r=s(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.player.videoContainer.streamProvider.setCurrentAudioTrack(t.data);case 2:this.updateAudioLabel();case 3:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})}],n&&l(t.prototype,n),b}(r.MenuButtonPlugin);},925:(e,t,n)=>{n.r(t),n.d(t,{default:()=>y});var r=n(995),o=n(842),i=n.n(o);function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function a(e,t,n,r,o,i,u){try{var a=e[i](u),s=a.value;}catch(e){return void n(e)}a.done?t(s):Promise.resolve(s).then(r,o);}function s(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function u(e){a(i,r,o,u,s,"next",e);}function s(e){a(i,r,o,u,s,"throw",e);}u(void 0);}))}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r);}}function f(e,t,n){return f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=d(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}},f(e,t,n||e)}function p(e,t){return p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},p(e,t)}function h(e,t){return !t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}var y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t);}(m,e);var t,n,r,o,u,a,y,v=(a=m,y=function(){if("undefined"==typeof Reflect||!Reflect.construct)return !1;if(Reflect.construct.sham)return !1;if("function"==typeof Proxy)return !0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return !1}}(),function(){var e,t=d(a);if(y){var n=d(this).constructor;e=Reflect.construct(t,arguments,n);}else e=t.apply(this,arguments);return h(this,e)});function m(){return c(this,m),v.apply(this,arguments)}return t=m,n=[{key:"getAriaLabel",value:function(){return this.player.translate("Backward $1 seconds",[this.time])}},{key:"getDescription",value:function(){return this.getAriaLabel()}},{key:"isEnabled",value:(u=s(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(d(m.prototype),"isEnabled",this).call(this);case 2:return t=e.sent,this.time=this.config.time||30,e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)}))),function(){return u.apply(this,arguments)})},{key:"load",value:(o=s(regeneratorRuntime.mark((function e(){var t,n=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=void 0===this.config.suffix||this.config.suffix,this.suffix=t?"s":"",this.icon=this.player.getCustomPluginIcon(this.name,"backwardIcon")||i(),setTimeout((function(){Array.from(n.iconElement.getElementsByClassName("time-text")).forEach((function(e){e.innerHTML=n.time+n.suffix;}));}),100);case 4:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})},{key:"action",value:(r=s(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.player.videoContainer.currentTime();case 2:t=e.sent,this.player.videoContainer.setCurrentTime(t-this.time);case 4:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})}],n&&l(t.prototype,n),m}(r.ButtonPlugin);},460:(e,t,n)=>{n.r(t),n.d(t,{default:()=>d});var r=n(995),o=n(963),i=n.n(o);function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function a(e,t,n,r,o,i,u){try{var a=e[i](u),s=a.value;}catch(e){return void n(e)}a.done?t(s):Promise.resolve(s).then(r,o);}function s(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function u(e){a(i,r,o,u,s,"next",e);}function s(e){a(i,r,o,u,s,"throw",e);}u(void 0);}))}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r);}}function f(e,t){return f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},f(e,t)}function p(e,t){return !t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}var d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t);}(v,e);var t,n,o,u,a,d,y=(a=v,d=function(){if("undefined"==typeof Reflect||!Reflect.construct)return !1;if(Reflect.construct.sham)return !1;if("function"==typeof Proxy)return !0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return !1}}(),function(){var e,t=h(a);if(d){var n=h(this).constructor;e=Reflect.construct(t,arguments,n);}else e=t.apply(this,arguments);return p(this,e)});function v(){return c(this,v),y.apply(this,arguments)}return t=v,n=[{key:"getAriaLabel",value:function(){return "Select captions"}},{key:"getDescription",value:function(){return this.getAriaLabel()}},{key:"load",value:(u=s(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.icon=this.player.getCustomPluginIcon(this.name,"captionsIcon")||i(),this._captionsCanvas=this.player.captionsCanvas,this._selected=null,0==this._captionsCanvas.captions.length&&this.hide(),(0, r.bindEvent)(this.player,r.Events.CAPTIONS_CHANGED,(function(){t._captionsCanvas.captions.length>0&&t.show();})),(0, r.bindEvent)(this.player,r.Events.CAPTIONS_ENABLED,(function(e){t._selected=e.language;})),(0, r.bindEvent)(this.player,r.Events.CAPTIONS_DISABLED,(function(){t._selected=null;}));case 7:case"end":return e.stop()}}),e,this)}))),function(){return u.apply(this,arguments)})},{key:"getMenu",value:(o=s(regeneratorRuntime.mark((function e(){var t,n=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[{id:-1,title:"Disabled",index:-1,selected:null===this._selected}],this._captionsCanvas.captions.forEach((function(e,r){t.push({id:e.language,title:e.label,index:r,selected:e.language===n._selected});})),e.abrupt("return",t);case 3:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})},{key:"buttonType",get:function(){return "radio"}},{key:"itemSelected",value:function(e){-1===e.index?this._captionsCanvas.disableCaptions():this._captionsCanvas.enableCaptions({index:e.index}),r.PopUp.HideAllPopUps(!1);}}],n&&l(t.prototype,n),v}(r.MenuButtonPlugin);},263:(e,t,n)=>{n.r(t),n.d(t,{default:()=>h});var r=n(995);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function i(e,t,n,r,o,i,u){try{var a=e[i](u),s=a.value;}catch(e){return void n(e)}a.done?t(s):Promise.resolve(s).then(r,o);}function u(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var u=e.apply(t,n);function a(e){i(u,r,o,a,s,"next",e);}function s(e){i(u,r,o,a,s,"throw",e);}a(void 0);}))}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r);}}function c(e,t,n){return c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=p(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}},c(e,t,n||e)}function l(e,t){return l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},l(e,t)}function f(e,t){return !t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}var h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t);}(v,e);var t,n,o,i,h,d,y=(h=v,d=function(){if("undefined"==typeof Reflect||!Reflect.construct)return !1;if(Reflect.construct.sham)return !1;if("function"==typeof Proxy)return !0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return !1}}(),function(){var e,t=p(h);if(d){var n=p(this).constructor;e=Reflect.construct(t,arguments,n);}else e=t.apply(this,arguments);return f(this,e)});function v(){return a(this,v),y.apply(this,arguments)}return t=v,n=[{key:"isEnabled",value:(i=u(regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c(p(v.prototype),"isEnabled",this).call(this);case 2:return r=e.sent,e.abrupt("return",r&&(null===(t=null===(n=this.player.videoManifest.metadata)||void 0===n?void 0:n.visibleTimeLine)||void 0===t||t));case 4:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"load",value:(o=u(regeneratorRuntime.mark((function e(){var t,n,o,i=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.player.videoContainer.duration();case 2:t=e.sent,n=void 0===this.config.showTotal||this.config.showTotal,(o=function(e){var o=r.utils.secondsToTime(e);i.title=n?"".concat(o," / ").concat(r.utils.secondsToTime(t)):o;})(0),this.player.bindEvent(r.Events.TIMEUPDATE,(function(e){var t=e.currentTime;o(t);}));case 7:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})},{key:"interactive",get:function(){return !1}},{key:"dynamicWidth",get:function(){return !0}},{key:"titleSize",get:function(){return this.config.textSize||"medium"}}],n&&s(t.prototype,n),v}(r.ButtonPlugin);},61:(e,t,n)=>{n.r(t),n.d(t,{default:()=>g});var r=n(995),o=n(379),i=n.n(o),u=n(538);i()(u.Z,{insert:"head",singleton:!1}),u.Z.locals;var a=n(549),s=n.n(a);function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function l(e,t,n,r,o,i,u){try{var a=e[i](u),s=a.value;}catch(e){return void n(e)}a.done?t(s):Promise.resolve(s).then(r,o);}function f(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function u(e){l(i,r,o,u,a,"next",e);}function a(e){l(i,r,o,u,a,"throw",e);}u(void 0);}))}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r);}}function d(e,t,n){return d="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=m(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}},d(e,t,n||e)}function y(e,t){return y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},y(e,t)}function v(e,t){return !t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}var g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t);}(g,e);var t,n,o,i,u,a,c,l=(a=g,c=function(){if("undefined"==typeof Reflect||!Reflect.construct)return !1;if(Reflect.construct.sham)return !1;if("function"==typeof Proxy)return !0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return !1}}(),function(){var e,t=m(a);if(c){var n=m(this).constructor;e=Reflect.construct(t,arguments,n);}else e=t.apply(this,arguments);return v(this,e)});function g(){return p(this,g),l.apply(this,arguments)}return t=g,n=[{key:"isEnabled",value:(u=f(regeneratorRuntime.mark((function e(){var t,n=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d(m(g.prototype),"isEnabled",this).call(this);case 2:return t=e.sent,this._downloads={},t&&this.player.videoManifest.streams.forEach((function(e){var t=[],r=e.sources.mp4;r&&r.forEach((function(n){var r,o;t.push({id:"".concat(e.content,"_").concat((null===(r=n.res)||void 0===r?void 0:r.w)||0,"_").concat((null===(o=n.res)||void 0===o?void 0:o.h)||0),src:n.src,res:n.res||{w:0,h:0},mimetype:n.mimetype});})),t.length>0&&(n._downloads[e.content]=t);})),e.abrupt("return",Object.keys(this._downloads).length>0);case 6:case"end":return e.stop()}}),e,this)}))),function(){return u.apply(this,arguments)})},{key:"load",value:(i=f(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.icon=this.player.getCustomPluginIcon(this.name,"downloadIcon")||s();case 1:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"getContent",value:(o=f(regeneratorRuntime.mark((function e(){var t,n=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=(0, r.createElementWithHtmlText)('\n          <div class="downloads-plugin">\n              <h4>'.concat((0, r.translate)("Available downloads"),"</h4>\n          </div>")),Object.keys(this._downloads).forEach((function(e){var o=(0, r.createElementWithHtmlText)('\n          <div class="downloadStream">\n            <div class="title">'.concat(e,"</div>\n          </div>"),t),i=(0, r.createElementWithHtmlText)("<ul></ul>",o);n._downloads[e].forEach((function(e){var t="".concat(e.res.w,"x").concat(e.res.h);(0, r.createElementWithHtmlText)('\n                  <li>\n                    <a href="'.concat(e.src,'" target="_blank">\n                      <span class="mimetype">[').concat(e.mimetype,']</span><span class="res">').concat(t,"</span>\n                    </a>\n                  </li>\n              "),i);}));})),e.abrupt("return",t);case 4:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})}],n&&h(t.prototype,n),g}(r.PopUpButtonPlugin);},800:(e,t,n)=>{n.r(t),n.d(t,{default:()=>h});var r=n(995),o=n(770),i=n.n(o);function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function a(e,t,n,r,o,i,u){try{var a=e[i](u),s=a.value;}catch(e){return void n(e)}a.done?t(s):Promise.resolve(s).then(r,o);}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r);}}function l(e,t){return l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},l(e,t)}function f(e,t){return !t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}var h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t);}(y,e);var t,n,r,o,u,h,d=(u=y,h=function(){if("undefined"==typeof Reflect||!Reflect.construct)return !1;if(Reflect.construct.sham)return !1;if("function"==typeof Proxy)return !0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return !1}}(),function(){var e,t=p(u);if(h){var n=p(this).constructor;e=Reflect.construct(t,arguments,n);}else e=t.apply(this,arguments);return f(this,e)});function y(){return s(this,y),d.apply(this,arguments)}return t=y,n=[{key:"icon",get:function(){return i()}},{key:"action",value:(r=regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:alert("Test external plugin");case 1:case"end":return e.stop()}}),e)})),o=function(){var e=this,t=arguments;return new Promise((function(n,o){var i=r.apply(e,t);function u(e){a(i,n,o,u,s,"next",e);}function s(e){a(i,n,o,u,s,"throw",e);}u(void 0);}))},function(){return o.apply(this,arguments)})}],n&&c(t.prototype,n),y}(r.ButtonPlugin);},623:(e,t,n)=>{n.r(t),n.d(t,{default:()=>m});var r=n(995),o=n(379),i=n.n(o),u=n(264);i()(u.Z,{insert:"head",singleton:!1}),u.Z.locals;var a=n(283),s=n.n(a);function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function l(e,t,n,r,o,i,u){try{var a=e[i](u),s=a.value;}catch(e){return void n(e)}a.done?t(s):Promise.resolve(s).then(r,o);}function f(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function u(e){l(i,r,o,u,a,"next",e);}function a(e){l(i,r,o,u,a,"throw",e);}u(void 0);}))}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r);}}function d(e,t){return d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},d(e,t)}function y(e,t){return !t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}var m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t);}(l,e);var t,n,o,i,u,a,c=(u=l,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return !1;if(Reflect.construct.sham)return !1;if("function"==typeof Proxy)return !0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return !1}}(),function(){var e,t=v(u);if(a){var n=v(this).constructor;e=Reflect.construct(t,arguments,n);}else e=t.apply(this,arguments);return y(this,e)});function l(){return p(this,l),c.apply(this,arguments)}return t=l,n=[{key:"getContent",value:(i=f(regeneratorRuntime.mark((function e(){var t,n,o,i,u,a,s,c=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.player.translate("Search"),n=(0, r.createElementWithHtmlText)('<div class="captions-search-container"></div>'),this._resultsContainer=(0, r.createElementWithHtmlText)('<div class="search-results"></div>',n),(o=(0, r.createElementWithHtmlText)('<input type="text" placeholder="'.concat(t,'"/>'),n)).addEventListener("click",(function(e){e.stopPropagation();})),i=navigator.language.substring(0,2),u=function(e){return c.player.captionsCanvas.currentCaptions?e===c.player.captionsCanvas.currentCaptions.language:e===i},a=function(){var e=null;c.captions.some((function(t){u(t.language)&&(e=t);})),e||(e=c.captions[0]),c._cueElements=[],e&&e.cues.forEach((function(e){var t=(0, r.createElementWithHtmlText)('<p class="result-item">'.concat(e.startString,": ").concat(e.captions[0],"</p>"),c._resultsContainer);t._cue=e,t.addEventListener("click",function(){var e=f(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.target._cue.start,e.next=3,c.player.videoContainer.setCurrentTime(n);case 3:t.stopPropagation();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),c._cueElements.push(t);}));},a(),s=null,o.addEventListener("keyup",(function(e){s&&clearTimeout(s),c._resultsContainer.innerHTML="";var t=c.player.getLanguage();s=setTimeout((function(){var e={};for(var n in c.captions.forEach((function(t){t.cues.forEach((function(n){n.captions.find((function(e){return new RegExp(o.value,"i").test(e)}))&&(e[n.startString]=e[n.startString]||{cue:n,text:{}},e[n.startString].text[t.language]=n.captions);}));})),c._cueElements=[],e){var i=e[n],u=i.text[t]||i.text[Object.keys(i.text)[0]],l=(0, r.createElementWithHtmlText)('<p class="result-item">'.concat(i.cue.startString,": ").concat(u[0],"</p>"),c._resultsContainer);l._cue=i.cue,l.addEventListener("click",function(){var e=f(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.target._cue.start,e.next=3,c.player.videoContainer.setCurrentTime(n);case 3:t.stopPropagation();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),c._cueElements.push(l);}0===Object.keys(e).length&&""!==o.value?(0, r.createElementWithHtmlText)("<p>".concat(c.player.translate("No results found"),"</p>"),c._resultsContainer):""===o.value&&a(),s=null;}),1e3),e.stopPropagation();})),this._timeupdateEvent||(this._timeupdateEvent=function(){var e=f(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:""===o.value&&null!==(n=c._cueElements)&&void 0!==n&&n.length&&c._cueElements.forEach((function(e){if(e._cue.start<=t.currentTime&&e._cue.end>=t.currentTime){e.classList.add("current");var n=e.offsetTop-c._resultsContainer.scrollTop;(n<0||n>c._resultsContainer.clientHeight)&&c._resultsContainer.scrollTo({top:e.offsetTop-20});}else e.classList.remove("current");}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.player.bindEvent(r.Events.TIMEUPDATE,this._timeupdateEvent,!0)),setTimeout((function(){return c.refreshContent=!0}),10),e.abrupt("return",n);case 14:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"popUpType",get:function(){return "no-modal"}},{key:"captions",get:function(){return this.player.captionsCanvas.captions}},{key:"load",value:(o=f(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.icon=this.player.getCustomPluginIcon(this.name,"findCaptionsIcon")||s(),this._captionsCanvas=this.player.captionsCanvas,0===this.captions.length&&this.hide(),(0, r.bindEvent)(this.player,r.Events.CAPTIONS_CHANGED,(function(){t.captions.length>0&&t.show();}));case 4:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})}],n&&h(t.prototype,n),l}(r.PopUpButtonPlugin);},108:(e,t,n)=>{n.r(t),n.d(t,{default:()=>y});var r=n(995),o=n(271),i=n.n(o);function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function a(e,t,n,r,o,i,u){try{var a=e[i](u),s=a.value;}catch(e){return void n(e)}a.done?t(s):Promise.resolve(s).then(r,o);}function s(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function u(e){a(i,r,o,u,s,"next",e);}function s(e){a(i,r,o,u,s,"throw",e);}u(void 0);}))}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r);}}function f(e,t,n){return f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=d(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}},f(e,t,n||e)}function p(e,t){return p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},p(e,t)}function h(e,t){return !t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}var y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t);}(m,e);var t,n,r,o,u,a,y,v=(a=m,y=function(){if("undefined"==typeof Reflect||!Reflect.construct)return !1;if(Reflect.construct.sham)return !1;if("function"==typeof Proxy)return !0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return !1}}(),function(){var e,t=d(a);if(y){var n=d(this).constructor;e=Reflect.construct(t,arguments,n);}else e=t.apply(this,arguments);return h(this,e)});function m(){return c(this,m),v.apply(this,arguments)}return t=m,n=[{key:"getAriaLabel",value:function(){return this.player.translate("Forward $1 seconds",[this.config.time])}},{key:"getDescription",value:function(){return this.getAriaLabel()}},{key:"isEnabled",value:(u=s(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(d(m.prototype),"isEnabled",this).call(this);case 2:return t=e.sent,this.time=this.config.time||30,e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)}))),function(){return u.apply(this,arguments)})},{key:"load",value:(o=s(regeneratorRuntime.mark((function e(){var t,n=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=void 0===this.config.suffix||this.config.suffix,this.suffix=t?"s":"",this.icon=this.player.getCustomPluginIcon(this.name,"forwardIcon")||i(),setTimeout((function(){Array.from(n.iconElement.getElementsByClassName("time-text")).forEach((function(e){e.innerHTML=n.time+n.suffix;}));}),100);case 4:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})},{key:"action",value:(r=s(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.player.videoContainer.currentTime();case 2:t=e.sent,this.player.videoContainer.setCurrentTime(t+this.time);case 4:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})}],n&&l(t.prototype,n),m}(r.ButtonPlugin);},440:(e,t,n)=>{n.r(t),n.d(t,{default:()=>y});var r=n(995),o=n(643),i=n.n(o);function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function a(e,t,n,r,o,i,u){try{var a=e[i](u),s=a.value;}catch(e){return void n(e)}a.done?t(s):Promise.resolve(s).then(r,o);}function s(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function u(e){a(i,r,o,u,s,"next",e);}function s(e){a(i,r,o,u,s,"throw",e);}u(void 0);}))}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r);}}function f(e,t,n){return f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=d(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}},f(e,t,n||e)}function p(e,t){return p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},p(e,t)}function h(e,t){return !t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}n(887);var y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t);}(g,e);var t,n,o,u,a,y,v,m=(y=g,v=function(){if("undefined"==typeof Reflect||!Reflect.construct)return !1;if(Reflect.construct.sham)return !1;if("function"==typeof Proxy)return !0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return !1}}(),function(){var e,t=d(y);if(v){var n=d(this).constructor;e=Reflect.construct(t,arguments,n);}else e=t.apply(this,arguments);return h(this,e)});function g(){return c(this,g),m.apply(this,arguments)}return t=g,n=[{key:"getAriaLabel",value:function(){return "Toggle fullscreen"}},{key:"getDescription",value:function(){return this.getAriaLabel()}},{key:"isEnabled",value:(a=s(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(d(g.prototype),"isEnabled",this).call(this);case 2:return t=e.sent,e.abrupt("return",t&&this.player.isFullScreenSupported());case 4:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"load",value:(u=s(regeneratorRuntime.mark((function e(){var t,n,o=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.player.getCustomPluginIcon(this.name,"fullscreenIcon")||i(),n=this.player.getCustomPluginIcon(this.name,"windowedIcon")||i(),this.icon=t,(0, r.bindEvent)(this.player,r.Events.FULLSCREEN_CHANGED,(function(e){e.status?o.icon=n:o.icon=t;}));case 4:case"end":return e.stop()}}),e,this)}))),function(){return u.apply(this,arguments)})},{key:"action",value:(o=s(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.player.isFullscreen){e.next=5;break}return e.next=3,this.player.exitFullscreen();case 3:e.next=7;break;case 5:return e.next=7,this.player.enterFullscreen();case 7:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})}],n&&l(t.prototype,n),g}(r.ButtonPlugin);},234:(e,t,n)=>{n.r(t),n.d(t,{default:()=>g});var r=n(995),o=n(812),i=n.n(o),u=n(379),a=n.n(u),s=n(754);function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function l(e,t,n,r,o,i,u){try{var a=e[i](u),s=a.value;}catch(e){return void n(e)}a.done?t(s):Promise.resolve(s).then(r,o);}function f(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function u(e){l(i,r,o,u,a,"next",e);}function a(e){l(i,r,o,u,a,"throw",e);}u(void 0);}))}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r);}}function d(e,t,n){return d="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=m(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}},d(e,t,n||e)}function y(e,t){return y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},y(e,t)}function v(e,t){return !t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}a()(s.Z,{insert:"head",singleton:!1}),s.Z.locals;var g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t);}(g,e);var t,n,o,u,a,s,c,l=(s=g,c=function(){if("undefined"==typeof Reflect||!Reflect.construct)return !1;if(Reflect.construct.sham)return !1;if("function"==typeof Proxy)return !0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return !1}}(),function(){var e,t=m(s);if(c){var n=m(this).constructor;e=Reflect.construct(t,arguments,n);}else e=t.apply(this,arguments);return v(this,e)});function g(){return p(this,g),l.apply(this,arguments)}return t=g,n=[{key:"isEnabled",value:(a=f(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d(m(g.prototype),"isEnabled",this).call(this);case 2:return t=e.sent,e.abrupt("return",t&&this.player.getShortcuts().length>0);case 4:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"load",value:(u=f(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.icon=this.player.getCustomPluginIcon(this.name,"keyboardIcon")||i();case 1:case"end":return e.stop()}}),e,this)}))),function(){return u.apply(this,arguments)})},{key:"popUpType",get:function(){return "no-modal"}},{key:"getKeyText",value:function(e){var t=this.player.translate(e.keyCode);return e.keyModifiers.altKey&&(t+=" + Alt"),e.keyModifiers.ctrlKey&&(t+=" + Ctrl"),e.keyModifiers.shiftKey&&(t+=" + Shift"),t}},{key:"menuTitle",get:function(){return this.config.menuTitle||"Keyboard shortucts"}},{key:"getContent",value:(o=f(regeneratorRuntime.mark((function e(){var t,n,o,i,u=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(i in t=(0, r.createElementWithHtmlText)('\n          <div class="keyboardshortcutshelp-plugin">\n            <div class="menu-button-title">'.concat(this.player.translate(this.menuTitle),"</div>\n          </div>\n        ")),n={},this.player.getShortcuts().forEach((function(e){var t=u.player.translate(e.description);n[t]?n[t].push(e):n[t]=[e];})),o=function(e){var o=n[e],i="";o.forEach((function(e){""!==i&&(i+=" / "),i+=u.player.translate(u.getKeyText(e));}));var a=(0, r.createElementWithHtmlText)('\n\t\t\t<div class="row">\n\t\t\t\t<div class="description"> '.concat(e,' </div>\n\t\t\t\t<div class="key"> ').concat(i,"</div>\n            </div>\n\t\t\t"));t.appendChild(a);},n)o(i);return e.abrupt("return",t);case 6:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})}],n&&h(t.prototype,n),g}(r.PopUpButtonPlugin);},239:(e,t,n)=>{n.r(t),n.d(t,{default:()=>y});var r=n(995),o=n(291),i=n.n(o);function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function a(e,t,n,r,o,i,u){try{var a=e[i](u),s=a.value;}catch(e){return void n(e)}a.done?t(s):Promise.resolve(s).then(r,o);}function s(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function u(e){a(i,r,o,u,s,"next",e);}function s(e){a(i,r,o,u,s,"throw",e);}u(void 0);}))}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r);}}function f(e,t,n){return f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=d(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}},f(e,t,n||e)}function p(e,t){return p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},p(e,t)}function h(e,t){return !t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}var y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t);}(g,e);var t,n,o,u,a,y,v,m=(y=g,v=function(){if("undefined"==typeof Reflect||!Reflect.construct)return !1;if(Reflect.construct.sham)return !1;if("function"==typeof Proxy)return !0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return !1}}(),function(){var e,t=d(y);if(v){var n=d(this).constructor;e=Reflect.construct(t,arguments,n);}else e=t.apply(this,arguments);return h(this,e)});function g(){return c(this,g),m.apply(this,arguments)}return t=g,n=[{key:"getAriaLabel",value:function(){return "Video layout"}},{key:"getDescription",value:function(){return this.getAriaLabel()}},{key:"isEnabled",value:(a=s(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(d(g.prototype),"isEnabled",this).call(this);case 2:if(e.sent){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",this.player.videoContainer.validContentSettings.length>1);case 5:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"load",value:(u=s(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.icon=this.player.getCustomPluginIcon(this.name,"layoutIcon")||i(),this._showIcons=null===(t=this.config.showIcons)||void 0===t||t;case 2:case"end":return e.stop()}}),e,this)}))),function(){return u.apply(this,arguments)})},{key:"getMenu",value:(o=s(regeneratorRuntime.mark((function e(){var t,n=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.player.videoContainer.validContentSettings,e.t0=Promise,e.next=4,t.map(function(){var e=s(regeneratorRuntime.mark((function e(t){var o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=r.utils.joinPath([n.player.configResourcesUrl,t.icon]),e.t1=n._showIcons,!e.t1){e.next=6;break}return e.next=5,r.utils.loadSvgIcon(o);case 5:e.t1=e.sent;case 6:if(e.t0=e.t1,e.t0){e.next=9;break}e.t0=null;case 9:return i=e.t0,e.abrupt("return",{id:t.id,title:t.title,icon:i,selected:n.player.videoContainer.layoutId===t.id});case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 4:return e.t1=e.sent,e.abrupt("return",e.t0.all.call(e.t0,e.t1));case 6:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})},{key:"showTitles",get:function(){return !1}},{key:"buttonType",get:function(){return "radio"}},{key:"itemSelected",value:function(e){this.player.videoContainer.setLayout(e.id);}}],n&&l(t.prototype,n),g}(r.MenuButtonPlugin);},592:(e,t,n)=>{function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function o(e,t,n,r,o,i,u){try{var a=e[i](u),s=a.value;}catch(e){return void n(e)}a.done?t(s):Promise.resolve(s).then(r,o);}function i(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var u=e.apply(t,n);function a(e){o(u,r,i,a,s,"next",e);}function s(e){o(u,r,i,a,s,"throw",e);}a(void 0);}))}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r);}}function s(e,t,n){return s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=f(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}},s(e,t,n||e)}function c(e,t){return c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},c(e,t)}function l(e,t){return !t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}function p(e,t,n,r){var o="left"===this._side?this._margin:"center"===this._side?t/2:t-this._margin,i="left"===this._side?12:"center"===this._side?0:-12,u="center"===this._side?-40:0;e.fillStyle=this._textColor,e.font="11px Arial",e.textAlign=this._side,e.fillText("Live stream",o+i,n/2+3),e.beginPath(),e.fillStyle=this._circleColor,e.arc(o+u,n/2,4,0,2*Math.PI,!1),e.fill();}n.r(t),n.d(t,{default:()=>h});var h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t);}(v,e);var t,n,r,o,h,d,y=(h=v,d=function(){if("undefined"==typeof Reflect||!Reflect.construct)return !1;if(Reflect.construct.sham)return !1;if("function"==typeof Proxy)return !0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return !1}}(),function(){var e,t=f(h);if(d){var n=f(this).constructor;e=Reflect.construct(t,arguments,n);}else e=t.apply(this,arguments);return l(this,e)});function v(){return u(this,v),y.apply(this,arguments)}return t=v,n=[{key:"minHeight",get:function(){return 20}},{key:"minHeightHover",get:function(){return 20}},{key:"isEnabled",value:(o=i(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s(f(v.prototype),"isEnabled",this).call(this);case 2:return t=e.sent,e.abrupt("return",t&&this.player.videoContainer.isLiveStream);case 4:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})},{key:"load",value:(r=i(regeneratorRuntime.mark((function e(){var t,n,r,o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._layer=null!==(t=this.config.layer)&&void 0!==t?t:"foreground",this._side=null!==(n=this.config.side)&&void 0!==n?n:"right",this._margin=null!==(r=this.config.margin)&&void 0!==r?r:50,this._textColor=null!==(o=this.config.textColor)&&void 0!==o?o:"white",this._circleColor=null!==(i=this.config.circleColor)&&void 0!==i?i:"red",-1!==["foreground","background"].indexOf(this._layer)){e.next=7;break}throw new Error("Invalid layer set in plugin 'es.upv.paella.liveStreamingPlugin'. Valid values are 'foreground' or 'background'");case 7:if(-1!==["left","center","right"].indexOf(this._side)){e.next=9;break}throw new Error("Invalid side set in plugin 'es.upv.paella.liveStreamingPlugin'. Valid values are 'left', 'center' or 'right'");case 9:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"drawForeground",value:function(e,t,n,r){"foreground"===this._layer&&p.apply(this,[e,t,n,r]);}},{key:"drawBackground",value:function(e,t,n,r){"background"===this._layer&&p.apply(this,[e,t,n,r]);}}],n&&a(t.prototype,n),v}(n(995).ProgressIndicatorPlugin);},540:(e,t,n)=>{n.r(t),n.d(t,{default:()=>m});var r=n(995),o=n(998),i=n.n(o),u=n(379),a=n.n(u),s=n(473);function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function l(e,t,n,r,o,i,u){try{var a=e[i](u),s=a.value;}catch(e){return void n(e)}a.done?t(s):Promise.resolve(s).then(r,o);}function f(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function u(e){l(i,r,o,u,a,"next",e);}function a(e){l(i,r,o,u,a,"throw",e);}u(void 0);}))}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r);}}function d(e,t){return d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},d(e,t)}function y(e,t){return !t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}a()(s.Z,{insert:"head",singleton:!1}),s.Z.locals;var m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t);}(m,e);var t,n,o,u,a,s,c,l=(s=m,c=function(){if("undefined"==typeof Reflect||!Reflect.construct)return !1;if(Reflect.construct.sham)return !1;if("function"==typeof Proxy)return !0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return !1}}(),function(){var e,t=v(s);if(c){var n=v(this).constructor;e=Reflect.construct(t,arguments,n);}else e=t.apply(this,arguments);return y(this,e)});function m(){return p(this,m),l.apply(this,arguments)}return t=m,n=[{key:"getAriaLabel",value:function(){return "Playback rate"}},{key:"getDescription",value:function(){return this.getAriaLabel()}},{key:"dynamicWidth",get:function(){return !1===this.config.showIcon}},{key:"load",value:(a=f(regeneratorRuntime.mark((function e(){var t,n=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return !1===this.config.showIcon||(this.icon=this.player.getCustomPluginIcon(this.name,"screenIcon")||i()),e.next=3,this.player.videoContainer.playbackRate();case 3:t=e.sent,this.title="".concat(t,"x"),this._rates=this.config.rates||[.5,.75,1,1.25,1.5,2],this.player.bindEvent(r.Events.PLAYBACK_RATE_CHANGED,(function(e){n.title=e.newPlaybackRate+"x";}));case 7:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"getMenu",value:(u=f(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.player.videoContainer.playbackRate();case 2:return t=e.sent,n=function(e){return {id:e,title:"".concat(e,"x"),selected:e==t}},e.abrupt("return",this._rates.map((function(e){return n(e)})));case 5:case"end":return e.stop()}}),e,this)}))),function(){return u.apply(this,arguments)})},{key:"titleSize",get:function(){return !1===this.config.showIcon?"large":"small"}},{key:"itemSelected",value:(o=f(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.player.videoContainer.setPlaybackRate(t.id);case 2:this.title=t.title;case 3:case"end":return e.stop()}}),e,this)}))),function(e){return o.apply(this,arguments)})},{key:"buttonType",get:function(){return "radio"}}],n&&h(t.prototype,n),m}(r.MenuButtonPlugin);},135:(e,t,n)=>{n.r(t),n.d(t,{default:()=>y});var r=n(995),o=n(998),i=n.n(o);function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function a(e,t,n,r,o,i,u){try{var a=e[i](u),s=a.value;}catch(e){return void n(e)}a.done?t(s):Promise.resolve(s).then(r,o);}function s(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function u(e){a(i,r,o,u,s,"next",e);}function s(e){a(i,r,o,u,s,"throw",e);}u(void 0);}))}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r);}}function f(e,t,n){return f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=d(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}},f(e,t,n||e)}function p(e,t){return p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},p(e,t)}function h(e,t){return !t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}var y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t);}(b,e);var t,n,r,o,u,a,y,v,m,g=(v=b,m=function(){if("undefined"==typeof Reflect||!Reflect.construct)return !1;if(Reflect.construct.sham)return !1;if("function"==typeof Proxy)return !0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return !1}}(),function(){var e,t=d(v);if(m){var n=d(this).constructor;e=Reflect.construct(t,arguments,n);}else e=t.apply(this,arguments);return h(this,e)});function b(){return c(this,b),g.apply(this,arguments)}return t=b,n=[{key:"getAriaLabel",value:function(){return "Video quality"}},{key:"getDescription",value:function(){return this.getAriaLabel()}},{key:"dynamicWidth",get:function(){return !1===this.config.showIcon}},{key:"titleSize",get:function(){return !1===this.config.showIcon?"large":"small"}},{key:"isEnabled",value:(y=s(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(d(b.prototype),"isEnabled",this).call(this);case 2:if(e.sent){e.next=4;break}return e.abrupt("return",!1);case 4:return e.next=6,this.player.videoContainer.streamProvider.getQualities();case 6:return this._qualities=e.sent,e.abrupt("return",this._qualities&&this._qualities.length>1);case 8:case"end":return e.stop()}}),e,this)}))),function(){return y.apply(this,arguments)})},{key:"load",value:(a=s(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return !1===this.config.showIcon||(this.icon=this.player.getCustomPluginIcon("es.upv.paella.qualitySelector","screenIcon")||i()),e.next=3,this.updateQualityLabel();case 3:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"getMenu",value:(u=s(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.player.videoContainer.streamProvider.getCurrentQuality();case 2:return t=e.sent,n=this._qualities.map((function(e){var n=e.index===t.index;return {id:e.index,title:e.label,width:e.res.w,height:e.res.h,data:e,selected:n}})),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)}))),function(){return u.apply(this,arguments)})},{key:"updateQualityLabel",value:(o=s(regeneratorRuntime.mark((function e(){var t,n=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=function(){var e=s(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.player.videoContainer.streamProvider.getCurrentQuality();case 2:(r=e.sent)?n.title=r.shortLabel:setTimeout((function(){return t()}),500);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),t();case 2:case"end":return e.stop()}}),e)}))),function(){return o.apply(this,arguments)})},{key:"itemSelected",value:(r=s(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.player.videoContainer.streamProvider.setQuality(t.data);case 2:this.updateQualityLabel();case 3:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"buttonType",get:function(){return "radio"}}],n&&l(t.prototype,n),b}(r.MenuButtonPlugin);},459:(e,t,n)=>{n.r(t),n.d(t,{default:()=>k});var r=n(995),o=n(506),i=n.n(o),u=n(704),a=n.n(u),s=n(978),c=n.n(s),l=n(928),f=n.n(l),p=n(379),h=n.n(p),d=n(405);function y(e){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(e)}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r);}}function g(e,t){return g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},g(e,t)}function b(e,t){return !t||"object"!==y(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function C(e){return C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},C(e)}function w(e,t,n,r,o,i,u){try{var a=e[i](u),s=a.value;}catch(e){return void n(e)}a.done?t(s):Promise.resolve(s).then(r,o);}function x(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function u(e){w(i,r,o,u,a,"next",e);}function a(e){w(i,r,o,u,a,"throw",e);}u(void 0);}))}}function A(){var e=this;this.sliderContainer.innerHTML="";var t=(0, r.createElementWithHtmlText)('\n        <div class="volume-slider">\n            <div class="volume-slider-fill"></div>\n            <div class="volume-slider-empty"></div>\n        </div>',this.sliderContainer),n=!1,o=t.getElementsByClassName("volume-slider-fill")[0],i=t.getElementsByClassName("volume-slider-empty")[0];o.style.width="50%",i.style.width="50%",this._sliderFill=o,this._sliderEmpty=i;var u=function(){var n=x(regeneratorRuntime.mark((function n(r){var o,i;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=t.offsetWidth,(i=100*r/o)<4&&(i=0),i>96&&(i=100),i/=100,n.next=8,e.player.videoContainer.setVolume(i);case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();t.addEventListener("mousedown",function(){var e=x(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=!0,e.next=3,u(t.offsetX);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),t.addEventListener("mousemove",function(){var e=x(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=3;break}return e.next=3,u(t.offsetX);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),t.addEventListener("mouseleave",(function(){n=!1;})),t.addEventListener("mouseup",(function(){n=!1;})),this.volumeAlwaysVisible||(this.sliderContainer.style.display="none"),(0, r.bindEvent)(this.player,r.Events.VOLUME_CHANGED,(function(t){var n=t.volume;e.updateIcon(n);}));}h()(d.Z,{insert:"head",singleton:!1}),d.Z.locals;var k=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t);}(k,e);var t,n,r,o,u,s,l,p,h,d,y,w=(d=k,y=function(){if("undefined"==typeof Reflect||!Reflect.construct)return !1;if(Reflect.construct.sham)return !1;if("function"==typeof Proxy)return !0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return !1}}(),function(){var e,t=C(d);if(y){var n=C(this).constructor;e=Reflect.construct(t,arguments,n);}else e=t.apply(this,arguments);return b(this,e)});function k(){return v(this,k),w.apply(this,arguments)}return t=k,n=[{key:"getAriaLabel",value:function(){return "Volume"}},{key:"getDescription",value:function(){return this.getAriaLabel()}},{key:"className",get:function(){return "volume-button"}},{key:"updateIcon",value:(h=x(regeneratorRuntime.mark((function e(t){var n,r,o,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=this.player.getCustomPluginIcon(this.name,"volumeHighIcon")||i(),r=this.player.getCustomPluginIcon(this.name,"volumeMidIcon")||a(),o=this.player.getCustomPluginIcon(this.name,"volumeLowIcon")||c(),u=this.player.getCustomPluginIcon(this.name,"volumeMuteIcon")||f(),e.t0=!0,e.next=e.t0===(0===t)?7:e.t0===(t>0&&t<=.3)?9:e.t0===(t>.3&&t<=.6)?11:e.t0===t>.6?13:15;break;case 7:return this.icon=u,e.abrupt("break",16);case 9:return this.icon=o,e.abrupt("break",16);case 11:return this.icon=r,e.abrupt("break",16);case 13:return this.icon=n,e.abrupt("break",16);case 15:this.icon=n;case 16:this._sliderFill&&(this._sliderFill.style.width="".concat(100*t,"px")),t>.95?this._sliderFill.classList.add("fill-100"):this._sliderFill.classList.remove("fill-100"),this._sliderEmpty&&(this._sliderEmpty.style.width="".concat(100-100*t,"px")),t<.05?this._sliderEmpty.classList.add("empty-100"):this._sliderEmpty.classList.remove("empty-100");case 20:case"end":return e.stop()}}),e,this)}))),function(e){return h.apply(this,arguments)})},{key:"sliderContainer",get:function(){return "left"===this.config.side?this.rightArea:this.leftArea}},{key:"load",value:(p=x(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.showContainerOnFocus=null===(t=this.config.showVolumeOnFocus)||void 0===t||t,this.volumeAlwaysVisible=null!==(n=this.config.volumeAlwaysVisible)&&void 0!==n&&n,e.next=4,this.player.videoContainer.volume();case 4:this._prevVolume=e.sent,A.apply(this),this.updateIcon(this._prevVolume);case 7:case"end":return e.stop()}}),e,this)}))),function(){return p.apply(this,arguments)})},{key:"showSideContainer",value:function(){this.volumeAlwaysVisible||(this.sliderContainer.style.display="inline-block");}},{key:"hideSideContainer",value:function(){this.volumeAlwaysVisible||(this.sliderContainer.style.display="none");}},{key:"mouseOver",value:(l=x(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t===this.container&&this.showSideContainer();case 1:case"end":return e.stop()}}),e,this)}))),function(e){return l.apply(this,arguments)})},{key:"mouseOut",value:(s=x(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t===this.container&&this.hideSideContainer();case 1:case"end":return e.stop()}}),e,this)}))),function(e){return s.apply(this,arguments)})},{key:"focusIn",value:(u=x(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.showContainerOnFocus&&this.showSideContainer();case 1:case"end":return e.stop()}}),e,this)}))),function(){return u.apply(this,arguments)})},{key:"focusOut",value:(o=x(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.showContainerOnFocus&&this.hideSideContainer();case 1:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})},{key:"action",value:(r=x(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.player.videoContainer.volume();case 2:return t=e.sent,n=0===t&&0===this._prevVolume?1:0===t&&this._prevVolume>0?this._prevVolume:0,e.next=7,this.player.videoContainer.setVolume(n);case 7:this._prevVolume=t;case 8:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})}],n&&m(t.prototype,n),k}(r.ButtonPlugin);},538:(e,t,n)=>{n.d(t,{Z:()=>a});var r=n(15),o=n.n(r),i=n(645),u=n.n(i)()(o());u.push([e.id,"\r\n.downloads-plugin {\r\n    font-family: sans-serif;\r\n    min-width: 300px;\r\n}\r\n\r\n.downloads-plugin h4 {\r\n    margin: 0 0 10px 0;\r\n    border-bottom: 1px lightgrey solid;\r\n}\r\n\r\n.downloads-plugin .downloadStream {    \r\n    margin-left: 5px;\r\n}\r\n\r\n.downloads-plugin .downloadStream ul {\r\n    list-style: none;\r\n    max-height: 500px;\r\n    overflow: auto;\r\n    padding: 0px;\r\n    margin: 0 0 10px 10px;\r\n}\r\n\r\n.downloads-plugin .downloadStream .mimetype {\r\n    color: lightcoral;\r\n    margin-right: 10px;\r\n}\r\n\r\n.downloads-plugin .downloadStream .res {\r\n    color: lightsalmon;\r\n}\r\n\r\n\r\n.downloads-plugin a {\r\n    color: lightsalmon;\r\n}\r\n\r\n.downloads-plugin a:hover {\r\n    color: salmon;\r\n}\r\n\r\n","",{version:3,sources:["webpack://./src/css/DownloadsPlugin.css"],names:[],mappings:";AACA;IACI,uBAAuB;IACvB,gBAAgB;AACpB;;AAEA;IACI,kBAAkB;IAClB,kCAAkC;AACtC;;AAEA;IACI,gBAAgB;AACpB;;AAEA;IACI,gBAAgB;IAChB,iBAAiB;IACjB,cAAc;IACd,YAAY;IACZ,qBAAqB;AACzB;;AAEA;IACI,iBAAiB;IACjB,kBAAkB;AACtB;;AAEA;IACI,kBAAkB;AACtB;;;AAGA;IACI,kBAAkB;AACtB;;AAEA;IACI,aAAa;AACjB",sourcesContent:["\r\n.downloads-plugin {\r\n    font-family: sans-serif;\r\n    min-width: 300px;\r\n}\r\n\r\n.downloads-plugin h4 {\r\n    margin: 0 0 10px 0;\r\n    border-bottom: 1px lightgrey solid;\r\n}\r\n\r\n.downloads-plugin .downloadStream {    \r\n    margin-left: 5px;\r\n}\r\n\r\n.downloads-plugin .downloadStream ul {\r\n    list-style: none;\r\n    max-height: 500px;\r\n    overflow: auto;\r\n    padding: 0px;\r\n    margin: 0 0 10px 10px;\r\n}\r\n\r\n.downloads-plugin .downloadStream .mimetype {\r\n    color: lightcoral;\r\n    margin-right: 10px;\r\n}\r\n\r\n.downloads-plugin .downloadStream .res {\r\n    color: lightsalmon;\r\n}\r\n\r\n\r\n.downloads-plugin a {\r\n    color: lightsalmon;\r\n}\r\n\r\n.downloads-plugin a:hover {\r\n    color: salmon;\r\n}\r\n\r\n"],sourceRoot:""}]);const a=u;},264:(e,t,n)=>{n.d(t,{Z:()=>a});var r=n(15),o=n.n(r),i=n(645),u=n.n(i)()(o());u.push([e.id,"\r\ndiv.search-results {\r\n    max-width: 400px;\r\n    max-height: 80vh;\r\n    overflow: auto;\r\n    font-family: Arial, Helvetica, sans-serif;\r\n}\r\n\r\ndiv.search-results p {\r\n    user-select: none;\r\n}\r\n\r\ndiv.search-results p.result-item {\r\n    cursor: pointer;\r\n    box-sizing: border-box;\r\n    padding: 8px;\r\n    border-radius: 3px;\r\n}\r\n\r\n\r\ndiv.captions-search-container input {\r\n    width: 98%;\r\n}\r\n\r\ndiv.search-results p.result-item.current {\r\n    border: 1px solid white;\r\n    background-color: rgba(240,240,240,0.7);\r\n    color: black;\r\n}","",{version:3,sources:["webpack://./src/css/FindCaptionsPlugin.css"],names:[],mappings:";AACA;IACI,gBAAgB;IAChB,gBAAgB;IAChB,cAAc;IACd,yCAAyC;AAC7C;;AAEA;IACI,iBAAiB;AACrB;;AAEA;IACI,eAAe;IACf,sBAAsB;IACtB,YAAY;IACZ,kBAAkB;AACtB;;;AAGA;IACI,UAAU;AACd;;AAEA;IACI,uBAAuB;IACvB,uCAAuC;IACvC,YAAY;AAChB",sourcesContent:["\r\ndiv.search-results {\r\n    max-width: 400px;\r\n    max-height: 80vh;\r\n    overflow: auto;\r\n    font-family: Arial, Helvetica, sans-serif;\r\n}\r\n\r\ndiv.search-results p {\r\n    user-select: none;\r\n}\r\n\r\ndiv.search-results p.result-item {\r\n    cursor: pointer;\r\n    box-sizing: border-box;\r\n    padding: 8px;\r\n    border-radius: 3px;\r\n}\r\n\r\n\r\ndiv.captions-search-container input {\r\n    width: 98%;\r\n}\r\n\r\ndiv.search-results p.result-item.current {\r\n    border: 1px solid white;\r\n    background-color: rgba(240,240,240,0.7);\r\n    color: black;\r\n}"],sourceRoot:""}]);const a=u;},754:(e,t,n)=>{n.d(t,{Z:()=>a});var r=n(15),o=n.n(r),i=n(645),u=n.n(i)()(o());u.push([e.id,"\r\n.keyboardshortcutshelp-plugin {\r\n    font-family: Helvetica, Arial, sans-serif;\r\n    padding: 1px;\r\n    color: #f0f0f0;\r\n    min-width: 430px;\r\n}\r\n\r\n.keyboardshortcutshelp-plugin .row {\r\n    display: flex;\r\n    min-width: 100px;\r\n    padding-top: 1px;\r\n    padding-bottom: 1px;\r\n    padding: 6px;\r\n}\r\n\r\n.keyboardshortcutshelp-plugin .row .description {\r\n    max-width: 80%;\r\n}\r\n\r\n.keyboardshortcutshelp-plugin .row .key {\r\n    margin-left: auto;\r\n}\r\n","",{version:3,sources:["webpack://./src/css/KeyboardShortcutsHelp.css"],names:[],mappings:";AACA;IACI,yCAAyC;IACzC,YAAY;IACZ,cAAc;IACd,gBAAgB;AACpB;;AAEA;IACI,aAAa;IACb,gBAAgB;IAChB,gBAAgB;IAChB,mBAAmB;IACnB,YAAY;AAChB;;AAEA;IACI,cAAc;AAClB;;AAEA;IACI,iBAAiB;AACrB",sourcesContent:["\r\n.keyboardshortcutshelp-plugin {\r\n    font-family: Helvetica, Arial, sans-serif;\r\n    padding: 1px;\r\n    color: #f0f0f0;\r\n    min-width: 430px;\r\n}\r\n\r\n.keyboardshortcutshelp-plugin .row {\r\n    display: flex;\r\n    min-width: 100px;\r\n    padding-top: 1px;\r\n    padding-bottom: 1px;\r\n    padding: 6px;\r\n}\r\n\r\n.keyboardshortcutshelp-plugin .row .description {\r\n    max-width: 80%;\r\n}\r\n\r\n.keyboardshortcutshelp-plugin .row .key {\r\n    margin-left: auto;\r\n}\r\n"],sourceRoot:""}]);const a=u;},473:(e,t,n)=>{n.d(t,{Z:()=>a});var r=n(15),o=n.n(r),i=n(645),u=n.n(i)()(o());u.push([e.id,"span.button-title {\r\n    margin-top: -16px;\r\n    display: block;\r\n    font-size: 8px;\r\n}\r\n","",{version:3,sources:["webpack://./src/css/playbackRate.css"],names:[],mappings:"AAAA;IACI,iBAAiB;IACjB,cAAc;IACd,cAAc;AAClB",sourcesContent:["span.button-title {\r\n    margin-top: -16px;\r\n    display: block;\r\n    font-size: 8px;\r\n}\r\n"],sourceRoot:""}]);const a=u;},405:(e,t,n)=>{n.d(t,{Z:()=>a});var r=n(15),o=n.n(r),i=n(645),u=n.n(i)()(o());u.push([e.id,":root {\r\n    --volume-slider-height: 8px;\r\n    --volume-slider-fill-color: var(--highlight-bg-color-hover);\r\n    --volume-slider-empty-color: #AAA;\r\n}\r\n\r\n.button-plugin-side-area.volume-button {\r\n    height: 40px;\r\n    display: inline-block;\r\n    vertical-align: middle;\r\n}\r\n\r\n.button-plugin-container {\r\n    height: 40px;\r\n}\r\n\r\n.volume-slider {\r\n    width: 100px;\r\n    height: 100%;\r\n    display: flex;\r\n    margin-left: 10px;\r\n    margin-right: 10px;\r\n    position: relative;\r\n    flex-direction: row;\r\n    flex-wrap: nowrap;\r\n    align-content: center;\r\n    justify-content: center;\r\n    align-items: center;\r\n}\r\n\r\n.volume-slider .volume-slider-fill {\r\n    height: var(--volume-slider-height);\r\n    background-color: var(--volume-slider-fill-color);\r\n    border-radius: 10px 0px 0px 10px;\r\n    pointer-events: none;\r\n}\r\n\r\n.volume-slider .volume-slider-fill.fill-100 {\r\n    border-radius: 10px 10px 10px 10px;\r\n}\r\n\r\n.volume-slider .volume-slider-empty {\r\n    height: var(--volume-slider-height);\r\n    background-color: var(--volume-slider-empty-color);\r\n    border-radius: 0px 10px 10px 0px;\r\n    pointer-events: none;\r\n}\r\n\r\n.volume-slider .volume-slider-empty.empty-100 {\r\n    border-radius: 10px 10px 10px 10px;\r\n}\r\n\r\n@media (forced-colors: active) {\r\n    .volume-slider {\r\n        border: 4px solid white;\r\n        box-sizing: border-box;\r\n        margin-bottom: 3px;\r\n    }\r\n\r\n    .volume-slider .volume-slider-fill {\r\n        border: 4px solid white;\r\n        box-sizing: border-box;\r\n    }\r\n\r\n    .volume-slider .volume-slider-empty {\r\n        border: 1px solid white;\r\n        box-sizing: border-box;\r\n    }\r\n}","",{version:3,sources:["webpack://./src/css/slider.css"],names:[],mappings:"AAAA;IACI,2BAA2B;IAC3B,2DAA2D;IAC3D,iCAAiC;AACrC;;AAEA;IACI,YAAY;IACZ,qBAAqB;IACrB,sBAAsB;AAC1B;;AAEA;IACI,YAAY;AAChB;;AAEA;IACI,YAAY;IACZ,YAAY;IACZ,aAAa;IACb,iBAAiB;IACjB,kBAAkB;IAClB,kBAAkB;IAClB,mBAAmB;IACnB,iBAAiB;IACjB,qBAAqB;IACrB,uBAAuB;IACvB,mBAAmB;AACvB;;AAEA;IACI,mCAAmC;IACnC,iDAAiD;IACjD,gCAAgC;IAChC,oBAAoB;AACxB;;AAEA;IACI,kCAAkC;AACtC;;AAEA;IACI,mCAAmC;IACnC,kDAAkD;IAClD,gCAAgC;IAChC,oBAAoB;AACxB;;AAEA;IACI,kCAAkC;AACtC;;AAEA;IACI;QACI,uBAAuB;QACvB,sBAAsB;QACtB,kBAAkB;IACtB;;IAEA;QACI,uBAAuB;QACvB,sBAAsB;IAC1B;;IAEA;QACI,uBAAuB;QACvB,sBAAsB;IAC1B;AACJ",sourcesContent:[":root {\r\n    --volume-slider-height: 8px;\r\n    --volume-slider-fill-color: var(--highlight-bg-color-hover);\r\n    --volume-slider-empty-color: #AAA;\r\n}\r\n\r\n.button-plugin-side-area.volume-button {\r\n    height: 40px;\r\n    display: inline-block;\r\n    vertical-align: middle;\r\n}\r\n\r\n.button-plugin-container {\r\n    height: 40px;\r\n}\r\n\r\n.volume-slider {\r\n    width: 100px;\r\n    height: 100%;\r\n    display: flex;\r\n    margin-left: 10px;\r\n    margin-right: 10px;\r\n    position: relative;\r\n    flex-direction: row;\r\n    flex-wrap: nowrap;\r\n    align-content: center;\r\n    justify-content: center;\r\n    align-items: center;\r\n}\r\n\r\n.volume-slider .volume-slider-fill {\r\n    height: var(--volume-slider-height);\r\n    background-color: var(--volume-slider-fill-color);\r\n    border-radius: 10px 0px 0px 10px;\r\n    pointer-events: none;\r\n}\r\n\r\n.volume-slider .volume-slider-fill.fill-100 {\r\n    border-radius: 10px 10px 10px 10px;\r\n}\r\n\r\n.volume-slider .volume-slider-empty {\r\n    height: var(--volume-slider-height);\r\n    background-color: var(--volume-slider-empty-color);\r\n    border-radius: 0px 10px 10px 0px;\r\n    pointer-events: none;\r\n}\r\n\r\n.volume-slider .volume-slider-empty.empty-100 {\r\n    border-radius: 10px 10px 10px 10px;\r\n}\r\n\r\n@media (forced-colors: active) {\r\n    .volume-slider {\r\n        border: 4px solid white;\r\n        box-sizing: border-box;\r\n        margin-bottom: 3px;\r\n    }\r\n\r\n    .volume-slider .volume-slider-fill {\r\n        border: 4px solid white;\r\n        box-sizing: border-box;\r\n    }\r\n\r\n    .volume-slider .volume-slider-empty {\r\n        border: 1px solid white;\r\n        box-sizing: border-box;\r\n    }\r\n}"],sourceRoot:""}]);const a=u;},645:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=e(t);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,r){"string"==typeof e&&(e=[[null,e,""]]);var o={};if(r)for(var i=0;i<this.length;i++){var u=this[i][0];null!=u&&(o[u]=!0);}for(var a=0;a<e.length;a++){var s=[].concat(e[a]);r&&o[s[0]]||(n&&(s[2]?s[2]="".concat(n," and ").concat(s[2]):s[2]=n),t.push(s));}},t};},15:e=>{function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}e.exports=function(e){var n,r,o=(r=4,function(e){if(Array.isArray(e))return e}(n=e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,i=void 0;try{for(var u,a=e[Symbol.iterator]();!(r=(u=a.next()).done)&&(n.push(u.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e;}finally{try{r||null==a.return||a.return();}finally{if(o)throw i}}return n}}(n,r)||function(e,n){if(e){if("string"==typeof e)return t(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);return "Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?t(e,n):void 0}}(n,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=o[1],u=o[3];if("function"==typeof btoa){var a=btoa(unescape(encodeURIComponent(JSON.stringify(u)))),s="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(a),c="/*# ".concat(s," */"),l=u.sources.map((function(e){return "/*# sourceURL=".concat(u.sourceRoot||"").concat(e," */")}));return [i].concat(l).concat([c]).join("\n")}return [i].join("\n")};},379:(e,t,n)=>{var r,o=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head;}catch(e){n=null;}e[t]=n;}return e[t]}}(),i=[];function u(e){for(var t=-1,n=0;n<i.length;n++)if(i[n].identifier===e){t=n;break}return t}function a(e,t){for(var n={},r=[],o=0;o<e.length;o++){var a=e[o],s=t.base?a[0]+t.base:a[0],c=n[s]||0,l="".concat(s," ").concat(c);n[s]=c+1;var f=u(l),p={css:a[1],media:a[2],sourceMap:a[3]};-1!==f?(i[f].references++,i[f].updater(p)):i.push({identifier:l,updater:y(p,t),references:1}),r.push(l);}return r}function s(e){var t=document.createElement("style"),r=e.attributes||{};if(void 0===r.nonce){var i=n.nc;i&&(r.nonce=i);}if(Object.keys(r).forEach((function(e){t.setAttribute(e,r[e]);})),"function"==typeof e.insert)e.insert(t);else {var u=o(e.insert||"head");if(!u)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");u.appendChild(t);}return t}var c,l=(c=[],function(e,t){return c[e]=t,c.filter(Boolean).join("\n")});function f(e,t,n,r){var o=n?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(e.styleSheet)e.styleSheet.cssText=l(t,o);else {var i=document.createTextNode(o),u=e.childNodes;u[t]&&e.removeChild(u[t]),u.length?e.insertBefore(i,u[t]):e.appendChild(i);}}function p(e,t,n){var r=n.css,o=n.media,i=n.sourceMap;if(o?e.setAttribute("media",o):e.removeAttribute("media"),i&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleSheet)e.styleSheet.cssText=r;else {for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r));}}var h=null,d=0;function y(e,t){var n,r,o;if(t.singleton){var i=d++;n=h||(h=s(t)),r=f.bind(null,n,i,!1),o=f.bind(null,n,i,!0);}else n=s(t),r=p.bind(null,n,t),o=function(){!function(e){if(null===e.parentNode)return !1;e.parentNode.removeChild(e);}(n);};return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t);}else o();}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=(void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r));var n=a(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var r=0;r<n.length;r++){var o=u(n[r]);i[o].references--;}for(var s=a(e,t),c=0;c<n.length;c++){var l=u(n[c]);0===i[l].references&&(i[l].updater(),i.splice(l,1));}n=s;}}};},842:e=>{e.exports='<svg viewBox="0 0 27 31" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:1.41421;"><g id="repeat" transform="matrix(1,0,0,1,-132.5,-2)"><g transform="matrix(1,0,0,1,132.5,2)"><path d="M7.364,6.48C9.179,5.515 11.255,4.967 13.461,4.967C20.569,4.967 26.331,10.651 26.331,17.664C26.331,24.676 20.569,30.36 13.461,30.36C8.436,30.36 4.083,27.518 1.964,23.375L1.973,23.34L3.716,22.554C5.531,26.101 9.257,28.534 13.56,28.534C19.645,28.534 24.579,23.667 24.579,17.664C24.579,11.66 19.645,6.793 13.56,6.793C11.624,6.793 9.804,7.286 8.223,8.151L12.5,12L0,12L6.5,0L7.364,6.48Z" style="stroke:black;stroke-width:0.07px;"></path></g><g transform="matrix(1.10748,0,0,1.05518,-14.2059,-1.08359)"><g><path d="M132.929,20.884L133.826,20.764C133.929,21.273 134.104,21.639 134.352,21.864C134.6,22.088 134.901,22.2 135.257,22.2C135.679,22.2 136.035,22.054 136.326,21.762C136.617,21.469 136.762,21.107 136.762,20.675C136.762,20.263 136.628,19.923 136.359,19.655C136.089,19.388 135.747,19.254 135.332,19.254C135.162,19.254 134.951,19.287 134.699,19.354L134.798,18.566C134.858,18.573 134.906,18.576 134.943,18.576C135.325,18.576 135.669,18.476 135.975,18.277C136.281,18.077 136.433,17.77 136.433,17.355C136.433,17.025 136.322,16.753 136.099,16.537C135.877,16.321 135.589,16.213 135.237,16.213C134.888,16.213 134.597,16.323 134.364,16.542C134.132,16.761 133.982,17.09 133.916,17.529L133.018,17.369C133.128,16.768 133.377,16.302 133.766,15.971C134.155,15.64 134.639,15.475 135.217,15.475C135.616,15.475 135.983,15.561 136.319,15.732C136.654,15.903 136.911,16.136 137.089,16.432C137.267,16.728 137.356,17.042 137.356,17.374C137.356,17.69 137.271,17.978 137.101,18.237C136.932,18.496 136.681,18.702 136.349,18.855C136.781,18.955 137.116,19.162 137.356,19.476C137.595,19.79 137.715,20.183 137.715,20.655C137.715,21.293 137.482,21.834 137.017,22.277C136.551,22.721 135.963,22.943 135.252,22.943C134.61,22.943 134.078,22.752 133.654,22.37C133.23,21.988 132.989,21.492 132.929,20.884Z" style="fill-rule:nonzero;"></path><path d="M138.602,19.209C138.602,18.345 138.691,17.649 138.869,17.123C139.047,16.596 139.311,16.19 139.661,15.904C140.012,15.618 140.453,15.475 140.985,15.475C141.377,15.475 141.721,15.554 142.017,15.712C142.313,15.87 142.557,16.097 142.75,16.395C142.943,16.692 143.094,17.055 143.203,17.482C143.313,17.909 143.368,18.485 143.368,19.209C143.368,20.067 143.28,20.759 143.104,21.285C142.928,21.812 142.664,22.219 142.314,22.507C141.963,22.794 141.52,22.938 140.985,22.938C140.28,22.938 139.727,22.685 139.325,22.18C138.843,21.572 138.602,20.582 138.602,19.209ZM139.524,19.209C139.524,20.409 139.665,21.207 139.946,21.604C140.226,22.002 140.573,22.2 140.985,22.2C141.397,22.2 141.744,22.001 142.024,21.602C142.305,21.203 142.446,20.406 142.446,19.209C142.446,18.006 142.305,17.207 142.024,16.811C141.744,16.416 141.394,16.218 140.975,16.218C140.563,16.218 140.234,16.392 139.988,16.741C139.679,17.187 139.524,18.009 139.524,19.209Z" style="fill-rule:nonzero;"></path><path d="M144.171,21.233L145.058,21.093C145.108,21.449 145.247,21.722 145.474,21.911C145.702,22.101 146.02,22.195 146.429,22.195C146.841,22.195 147.147,22.111 147.346,21.943C147.546,21.776 147.645,21.579 147.645,21.353C147.645,21.15 147.557,20.99 147.381,20.874C147.258,20.794 146.952,20.693 146.464,20.57C145.806,20.404 145.35,20.26 145.095,20.139C144.841,20.017 144.648,19.85 144.517,19.635C144.386,19.421 144.32,19.184 144.32,18.925C144.32,18.689 144.374,18.47 144.482,18.269C144.59,18.068 144.737,17.901 144.923,17.768C145.063,17.665 145.253,17.578 145.494,17.507C145.735,17.435 145.993,17.399 146.269,17.399C146.685,17.399 147.05,17.459 147.364,17.579C147.678,17.699 147.91,17.861 148.059,18.065C148.209,18.269 148.312,18.543 148.368,18.885L147.491,19.005C147.451,18.732 147.335,18.519 147.144,18.367C146.953,18.214 146.683,18.137 146.334,18.137C145.922,18.137 145.628,18.205 145.452,18.342C145.276,18.478 145.188,18.637 145.188,18.82C145.188,18.937 145.224,19.041 145.297,19.134C145.37,19.231 145.485,19.31 145.641,19.374C145.731,19.407 145.995,19.483 146.434,19.603C147.069,19.772 147.512,19.911 147.762,20.019C148.013,20.127 148.21,20.284 148.353,20.49C148.496,20.696 148.568,20.952 148.568,21.258C148.568,21.557 148.48,21.839 148.306,22.103C148.131,22.367 147.88,22.572 147.551,22.716C147.222,22.861 146.849,22.933 146.434,22.933C145.746,22.933 145.222,22.79 144.861,22.504C144.5,22.218 144.27,21.795 144.171,21.233Z" style="fill-rule:nonzero;"></path></g></g></g></svg>';},283:e=>{e.exports='<svg viewBox="0 0 256 256" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;"><g transform="matrix(1,0,0,1.12928,7.34742,-36.0026)"><path d="M64.881,65.571L65.653,58.011C65.716,51.424 73.835,46.089 83.826,46.089C93.857,46.089 102,51.466 102,58.089L101.5,68.542C96.288,64.856 88.807,62.544 80.5,62.544C74.735,62.544 69.368,63.658 64.881,65.571Z"></path></g><g transform="matrix(-1,0,0,1.12928,248.653,-36.0026)"><path d="M64.881,65.571L65.653,58.011C65.716,51.424 73.835,46.089 83.826,46.089C93.857,46.089 102,51.466 102,58.089L101.5,68.542C96.288,64.856 88.807,62.544 80.5,62.544C74.735,62.544 69.368,63.658 64.881,65.571Z"></path></g><g transform="matrix(1,0,0,1.12928,7.34742,-36.0026)"><path d="M129.562,96.719L129.624,95.089C129.624,81.291 143.962,70.089 161.624,70.089C179.216,70.089 193.512,81.204 193.623,94.927L193.624,95.089L196.729,121.276C206.965,127.091 212.239,133.908 214.675,146.41C217.073,158.713 223.305,189.137 223.305,192C223.305,209.661 202.813,224 178.805,224C154.797,224 136.305,209.661 134.305,192C133.646,186.176 133.051,180.984 132.515,176.358C129.05,177.4 124.991,178 120.653,178C116.315,178 112.255,177.4 108.79,176.358C108.255,180.984 107.66,186.176 107,192C105,209.661 86.508,224 62.5,224C38.492,224 18,209.661 18,192C18,189.137 24.233,158.713 26.63,146.41C29.066,133.908 34.34,127.091 44.576,121.276L47.682,95.089L47.682,94.927C47.794,81.204 62.089,70.089 79.682,70.089C97.343,70.089 111.682,81.291 111.682,95.089L111.787,97.893C114.663,96.444 118.24,95.585 122.114,95.585C124.782,95.585 127.309,95.992 129.562,96.719ZM63.5,164C82.541,164 98,175.202 98,189C98,202.798 82.541,214 63.5,214C44.459,214 29,202.798 29,189C29,175.202 44.459,164 63.5,164ZM177.805,164C158.764,164 143.305,175.202 143.305,189C143.305,202.798 158.764,214 177.805,214C196.846,214 212.305,202.798 212.305,189C212.305,175.202 196.846,164 177.805,164ZM121,158C127.623,158 133,160.689 133,164C133,167.311 127.623,170 121,170C114.377,170 109,167.311 109,164C109,160.689 114.377,158 121,158Z"></path></g></svg>';},963:e=>{e.exports='<svg viewBox="0 0 39 32" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;"><path d="M37,9.5C37,5.913 34.087,3 30.5,3L8.5,3C4.913,3 2,5.913 2,9.5L2,22.5C2,26.087 4.913,29 8.5,29L30.5,29C34.087,29 37,26.087 37,22.5L37,9.5ZM18.97,21.884C18.97,21.983 18.891,22.125 18.733,22.308C17.111,24.188 15.102,25.128 12.706,25.128C10.21,25.128 8.214,24.217 6.716,22.395C5.319,20.698 4.62,18.577 4.62,16.031C4.62,13.486 5.331,11.356 6.754,9.642C8.268,7.795 10.269,6.872 12.756,6.872C15.277,6.872 17.227,7.725 18.608,9.43C18.741,9.605 18.808,9.75 18.808,9.867C18.808,10.008 18.587,10.426 18.147,11.121C17.706,11.816 17.439,12.163 17.348,12.163C17.24,12.163 16.986,11.959 16.587,11.551C16.096,11.052 15.634,10.678 15.202,10.428C14.486,10.021 13.696,9.817 12.831,9.817C11.184,9.817 9.902,10.445 8.987,11.701C8.172,12.824 7.765,14.238 7.765,15.944C7.765,17.649 8.168,19.076 8.975,20.224C9.89,21.513 11.167,22.158 12.806,22.158C13.621,22.158 14.407,21.954 15.164,21.547C15.663,21.28 16.171,20.902 16.687,20.411C17.119,20.003 17.356,19.8 17.398,19.8C17.448,19.8 17.722,20.13 18.221,20.792C18.721,21.453 18.97,21.817 18.97,21.884ZM34.38,21.884C34.38,21.983 34.301,22.125 34.143,22.308C32.521,24.188 30.512,25.128 28.116,25.128C25.62,25.128 23.624,24.217 22.126,22.395C20.729,20.698 20.03,18.577 20.03,16.031C20.03,13.486 20.741,11.356 22.164,9.642C23.678,7.795 25.678,6.872 28.166,6.872C30.686,6.872 32.637,7.725 34.018,9.43C34.151,9.605 34.218,9.75 34.218,9.867C34.218,10.008 33.997,10.426 33.556,11.121C33.116,11.816 32.849,12.163 32.758,12.163C32.65,12.163 32.396,11.959 31.997,11.551C31.506,11.052 31.044,10.678 30.612,10.428C29.896,10.021 29.106,9.817 28.241,9.817C26.594,9.817 25.312,10.445 24.397,11.701C23.582,12.824 23.174,14.238 23.174,15.944C23.174,17.649 23.578,19.076 24.385,20.224C25.3,21.513 26.577,22.158 28.216,22.158C29.031,22.158 29.817,21.954 30.574,21.547C31.073,21.28 31.581,20.902 32.096,20.411C32.529,20.003 32.766,19.8 32.808,19.8C32.858,19.8 33.132,20.13 33.631,20.792C34.13,21.453 34.38,21.817 34.38,21.884Z"></path></svg>';},549:e=>{e.exports='<svg viewBox="0 0 66 66" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;"><g transform="matrix(1,0,0,1,1.5,-3.84252)"><path d="M35.5,52.843L41.5,52.843L30.5,64.843L19.5,52.843L25.5,52.843L25.5,27.843L35.5,27.843L35.5,52.843ZM13.285,23.741C15.874,15.594 23.502,9.685 32.5,9.685C39.674,9.685 45.979,13.44 49.549,19.09C56.483,20.701 61.657,26.922 61.657,34.343C61.657,42.951 54.196,49.788 45.601,49.842L41.5,49.843L41.5,44.843L45.567,44.842C51.245,44.806 56.343,40.028 56.343,34.343C56.343,29.141 52.495,24.83 47.492,24.107L46.176,23.917L45.539,22.75C43.021,18.135 38.124,15 32.5,15C25.315,15 19.315,20.115 17.949,26.901L17.484,29.213L15.132,29.025C14.924,29.008 14.713,29 14.5,29C10.172,29 6.657,32.514 6.657,36.843C6.657,41.171 9.672,44.842 14,44.843L18.5,44.843L18.5,49.843L14,49.843C6.738,49.843 1.343,44.104 1.343,36.843C1.343,29.99 6.592,24.354 13.285,23.741Z"></path></g></svg>';},271:e=>{e.exports='<svg viewBox="0 0 27 31" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:1.41421;"><g id="repeat" transform="matrix(1,0,0,1,-132.5,-2)"><g transform="matrix(-1,0,-0,1,158.831,2)"><path d="M7.364,6.48C9.179,5.515 11.255,4.967 13.461,4.967C20.569,4.967 26.331,10.651 26.331,17.664C26.331,24.676 20.569,30.36 13.461,30.36C8.436,30.36 4.083,27.518 1.964,23.375L1.973,23.34L3.716,22.554C5.531,26.101 9.257,28.534 13.56,28.534C19.645,28.534 24.579,23.667 24.579,17.664C24.579,11.66 19.645,6.793 13.56,6.793C11.624,6.793 9.804,7.286 8.223,8.151L12.5,12L0,12L6.5,0L7.364,6.48Z" style="stroke:black;stroke-width:0.07px;"></path></g><g transform="matrix(1.10748,0,0,1.05518,-5.70486,-1.08359)"><g><path d="M132.929,20.884L133.826,20.764C133.929,21.273 134.104,21.639 134.352,21.864C134.6,22.088 134.901,22.2 135.257,22.2C135.679,22.2 136.035,22.054 136.326,21.762C136.617,21.469 136.762,21.107 136.762,20.675C136.762,20.263 136.628,19.923 136.359,19.655C136.089,19.388 135.747,19.254 135.332,19.254C135.162,19.254 134.951,19.287 134.699,19.354L134.798,18.566C134.858,18.573 134.906,18.576 134.943,18.576C135.325,18.576 135.669,18.476 135.975,18.277C136.281,18.077 136.433,17.77 136.433,17.355C136.433,17.025 136.322,16.753 136.099,16.537C135.877,16.321 135.589,16.213 135.237,16.213C134.888,16.213 134.597,16.323 134.364,16.542C134.132,16.761 133.982,17.09 133.916,17.529L133.018,17.369C133.128,16.768 133.377,16.302 133.766,15.971C134.155,15.64 134.639,15.475 135.217,15.475C135.616,15.475 135.983,15.561 136.319,15.732C136.654,15.903 136.911,16.136 137.089,16.432C137.267,16.728 137.356,17.042 137.356,17.374C137.356,17.69 137.271,17.978 137.101,18.237C136.932,18.496 136.681,18.702 136.349,18.855C136.781,18.955 137.116,19.162 137.356,19.476C137.595,19.79 137.715,20.183 137.715,20.655C137.715,21.293 137.482,21.834 137.017,22.277C136.551,22.721 135.963,22.943 135.252,22.943C134.61,22.943 134.078,22.752 133.654,22.37C133.23,21.988 132.989,21.492 132.929,20.884Z" style="fill-rule:nonzero;"></path><path d="M138.602,19.209C138.602,18.345 138.691,17.649 138.869,17.123C139.047,16.596 139.311,16.19 139.661,15.904C140.012,15.618 140.453,15.475 140.985,15.475C141.377,15.475 141.721,15.554 142.017,15.712C142.313,15.87 142.557,16.097 142.75,16.395C142.943,16.692 143.094,17.055 143.203,17.482C143.313,17.909 143.368,18.485 143.368,19.209C143.368,20.067 143.28,20.759 143.104,21.285C142.928,21.812 142.664,22.219 142.314,22.507C141.963,22.794 141.52,22.938 140.985,22.938C140.28,22.938 139.727,22.685 139.325,22.18C138.843,21.572 138.602,20.582 138.602,19.209ZM139.524,19.209C139.524,20.409 139.665,21.207 139.946,21.604C140.226,22.002 140.573,22.2 140.985,22.2C141.397,22.2 141.744,22.001 142.024,21.602C142.305,21.203 142.446,20.406 142.446,19.209C142.446,18.006 142.305,17.207 142.024,16.811C141.744,16.416 141.394,16.218 140.975,16.218C140.563,16.218 140.234,16.392 139.988,16.741C139.679,17.187 139.524,18.009 139.524,19.209Z" style="fill-rule:nonzero;"></path><path d="M144.171,21.233L145.058,21.093C145.108,21.449 145.247,21.722 145.474,21.911C145.702,22.101 146.02,22.195 146.429,22.195C146.841,22.195 147.147,22.111 147.346,21.943C147.546,21.776 147.645,21.579 147.645,21.353C147.645,21.15 147.557,20.99 147.381,20.874C147.258,20.794 146.952,20.693 146.464,20.57C145.806,20.404 145.35,20.26 145.095,20.139C144.841,20.017 144.648,19.85 144.517,19.635C144.386,19.421 144.32,19.184 144.32,18.925C144.32,18.689 144.374,18.47 144.482,18.269C144.59,18.068 144.737,17.901 144.923,17.768C145.063,17.665 145.253,17.578 145.494,17.507C145.735,17.435 145.993,17.399 146.269,17.399C146.685,17.399 147.05,17.459 147.364,17.579C147.678,17.699 147.91,17.861 148.059,18.065C148.209,18.269 148.312,18.543 148.368,18.885L147.491,19.005C147.451,18.732 147.335,18.519 147.144,18.367C146.953,18.214 146.683,18.137 146.334,18.137C145.922,18.137 145.628,18.205 145.452,18.342C145.276,18.478 145.188,18.637 145.188,18.82C145.188,18.937 145.224,19.041 145.297,19.134C145.37,19.231 145.485,19.31 145.641,19.374C145.731,19.407 145.995,19.483 146.434,19.603C147.069,19.772 147.512,19.911 147.762,20.019C148.013,20.127 148.21,20.284 148.353,20.49C148.496,20.696 148.568,20.952 148.568,21.258C148.568,21.557 148.48,21.839 148.306,22.103C148.131,22.367 147.88,22.572 147.551,22.716C147.222,22.861 146.849,22.933 146.434,22.933C145.746,22.933 145.222,22.79 144.861,22.504C144.5,22.218 144.27,21.795 144.171,21.233Z" style="fill-rule:nonzero;"></path></g></g></g></svg>';},643:e=>{e.exports='<svg viewBox="0 0 34 28" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421;"><g id="FullScreen" transform="matrix(1,0,0,1,-363,-6)"><g><g><g transform="matrix(1,0,0,1,-2,2.84217e-14)"><path d="M368.492,8.078L371.207,10.793L369.793,12.207L367.078,9.492L365,11.57L365.014,7.428L365,7.414L365.014,7.4L365.019,6.019L366.4,6.014L366.414,6L366.428,6.014L370.57,6L368.492,8.078Z"></path></g><g transform="matrix(1,0,0,-1,-2,40)"><path d="M368.492,8.078L371.207,10.793L369.793,12.207L367.078,9.492L365,11.57L365.014,7.428L365,7.414L365.014,7.4L365.019,6.019L366.4,6.014L366.414,6L366.428,6.014L370.57,6L368.492,8.078Z"></path></g><g transform="matrix(-1,0,0,1,762,2.84217e-14)"><path d="M368.492,8.078L371.207,10.793L369.793,12.207L367.078,9.492L365,11.57L365.014,7.428L365,7.414L365.014,7.4L365.019,6.019L366.4,6.014L366.414,6L366.428,6.014L370.57,6L368.492,8.078Z"></path></g><g transform="matrix(-1,0,0,-1,762,40)"><path d="M368.492,8.078L371.207,10.793L369.793,12.207L367.078,9.492L365,11.57L365.014,7.428L365,7.414L365.014,7.4L365.019,6.019L366.4,6.014L366.414,6L366.428,6.014L370.57,6L368.492,8.078Z"></path></g><g transform="matrix(1,0,0,0.886475,0,2.17871)"><rect x="369" y="12.207" width="22" height="15.793"></rect></g><g transform="matrix(1,0,0,1,-0.0588586,-0.780796)"></g></g></g></g></svg>';},812:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" viewBox="0 0 24 24"><path d="M19,10H17V8H19M19,13H17V11H19M16,10H14V8H16M16,13H14V11H16M16,17H8V15H16M7,10H5V8H7M7,13H5V11H7M8,11H10V13H8M8,8H10V10H8M11,11H13V13H11M11,8H13V10H11M20,5H4C2.89,5 2,5.89 2,7V17A2,2 0 0,0 4,19H20A2,2 0 0,0 22,17V7C22,5.89 21.1,5 20,5Z"></path></svg>';},291:e=>{e.exports='<svg viewBox="0 0 39 33" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421;"><path d="M38.02,33L20.02,33L20.02,16L38.02,16L38.02,33ZM18.1,31.479L17.261,28.744C17.261,28.744 15.373,29.986 14.365,29.504C13.356,29.022 13.141,28.161 13.141,28.161L15.089,26L10.02,26L10.02,31.317L12.04,29.194C12.04,29.194 12.571,31.145 13.809,31.959C15.732,33.224 18.1,31.479 18.1,31.479ZM35.846,31C35.844,30.985 35.419,26.773 34.821,25.622C34.222,24.47 31.242,24.429 31.242,24.429C31.242,24.429 30.557,27.413 30.373,27.982C30.189,28.55 30.15,28.681 30.15,28.681C30.15,28.681 29.686,25.798 29.604,25.505C29.543,25.285 29.143,25.271 29.058,25.271C28.973,25.271 28.573,25.297 28.512,25.516C28.431,25.809 28.097,28.617 28.097,28.617C28.097,28.617 27.995,28.55 27.811,27.982C27.627,27.413 26.874,24.429 26.874,24.429C26.874,24.429 23.894,24.47 23.295,25.622C22.696,26.775 22.27,31 22.27,31L35.846,31ZM30.15,24.429C30.209,24.682 29.406,25.228 29.406,25.228L28.763,25.212C28.763,25.212 27.907,24.682 27.966,24.429C28.02,24.196 28.753,24.222 29.058,24.219C29.365,24.222 30.096,24.196 30.15,24.429ZM25.02,15L22.02,15L22.02,3L23.02,3L23.02,2L2.02,2L2.02,3L3.02,3L3.02,17L11.79,17L8.396,21.381C8.078,21.995 8.205,22.353 8.367,22.49C8.531,22.629 8.944,22.69 9.341,22.282L12.926,18.594L16.429,22.282C16.589,22.542 16.931,22.561 17.322,22.405C17.601,22.293 17.521,21.746 17.374,21.381L13.875,17L19.02,17L19.02,24L0,24L0,0L25.02,0L25.02,15ZM29.058,17.067C30.719,17.067 32.068,18.527 32.068,20.326C32.068,22.125 30.719,23.586 29.058,23.586C27.397,23.586 26.048,22.125 26.048,20.326C26.048,18.527 27.397,17.067 29.058,17.067ZM21.02,15L21.02,3L4.02,3L4.02,16L19.02,16L19.02,15L21.02,15ZM35.1,14L30.032,14L31.98,11.839C31.98,11.839 31.765,10.978 30.756,10.496C29.747,10.014 27.86,11.256 27.86,11.256L27.02,8.521C27.02,8.521 29.389,6.776 31.312,8.041C32.55,8.855 33.081,10.806 33.081,10.806L35.1,8.683L35.1,14ZM10.744,7.462L6.356,13.008L5.922,12.61L10.727,6.537L13.847,9.959L18.147,5.333L18.55,5.767L13.846,10.826L10.744,7.462Z"></path></svg>';},998:e=>{e.exports='<svg viewBox="0 0 39 32" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421;"><g transform="matrix(1.43396,0,0,1.57895,-350.104,-74)"><path d="M271,50.995C271,49.065 269.277,47.5 267.152,47.5C267.152,47.5 260.884,46.867 257.75,46.867C254.616,46.867 248.348,47.5 248.348,47.5C246.223,47.5 244.5,49.065 244.5,50.995C244.5,50.995 244.151,55.036 244.151,56.842C244.151,58.843 244.5,63.005 244.5,63.005C244.5,64.935 246.223,66.5 248.348,66.5C248.348,66.5 254.965,67.133 258.099,67.133C261.124,67.133 267.152,66.5 267.152,66.5C269.277,66.5 271,64.935 271,63.005C271,63.005 271.349,59.002 271.349,57C271.349,54.998 271,50.995 271,50.995Z"></path></g></svg>';},770:e=>{e.exports='<svg viewBox="0 0 521 601" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421;"><g transform="matrix(5.20833,0,0,5.20833,0,0)"><g id="User" transform="matrix(3.84615,1.8963e-31,0,3.84615,-1564.99,-323.92)"><g transform="matrix(1.05882,0,0,1.05882,-23.2206,-3.66315)"><circle cx="418.5" cy="91.5" r="8.5"></circle></g><g transform="matrix(0.996622,0,0,0.785714,1.3158,23.0763)"><path d="M406.956,116C408.994,107.809 414.069,102 420,102C425.931,102 431.006,107.809 433.044,116L406.956,116Z"></path></g></g></g></svg>';},506:e=>{e.exports='<svg viewBox="0 0 34 30" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421;"><g transform="matrix(1,0,0,1,-164.25,-6)"><path d="M184.233,14.077C188.981,14.489 191.571,24.435 184.954,27.208C183.497,27.819 181.723,25.826 183.988,24.902C187.22,23.511 187.697,17.939 183.734,16.5C183.734,16.5 181.944,14.012 184.233,14.077Z" style="fill-rule:nonzero;"></path></g><g transform="matrix(1.79727,0,0,1.79727,-310.137,-22.5434)"><path d="M184.236,14.634C184.819,14.72 184.834,14.837 185.078,14.956C188.213,16.489 189.629,20.834 187.848,23.947C187.088,25.275 185.842,26.312 184.395,26.83C184.395,26.83 184.071,26.925 183.815,26.778C183.217,26.436 183.496,25.849 184.723,25.159C187.985,23.325 187.943,17.417 183.927,15.98C183.927,15.98 182.939,14.544 184.236,14.634Z" style="fill-rule:nonzero;"></path></g><g transform="matrix(2.44245,0,0,2.44245,-427.303,-35.9308)"><path d="M184.199,14.815C184.625,14.866 186.828,16.03 187.775,17.801C189.443,20.92 187.935,25.329 184.388,26.637C184.388,26.637 183.459,26.646 183.677,26.009C183.808,25.624 184.344,25.578 184.77,25.344C187.184,24.016 188.202,20.604 186.8,18.153C186.181,17.07 185.166,16.228 183.988,15.807C183.988,15.807 183.242,14.787 184.199,14.815Z" style="fill-rule:nonzero;"></path></g><g transform="matrix(1,0,0,1,-125,-5)"><path d="M131.499,14L139.68,5C140.961,5 142,6.039 142,7.32L142,31.68C142,32.961 140.961,34 139.68,34L131.499,25L127.375,25C126.063,25 125,23.937 125,22.625L125,16.375C125,15.063 126.063,14 127.375,14L131.499,14Z"></path></g></svg>';},978:e=>{e.exports='<svg viewBox="0 0 25 29" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421;"><g id="volume-low" serif:id="volume low" transform="matrix(1,0,0,1,-165,-5)"><g><g transform="matrix(1,0,0,1,0.75,-1)"><path d="M184.233,14.077C188.981,14.489 191.571,24.435 184.954,27.208C183.497,27.819 181.723,25.826 183.988,24.902C187.22,23.511 187.697,17.939 183.734,16.5C183.734,16.5 181.944,14.012 184.233,14.077Z" style="fill-rule:nonzero;"></path></g><g transform="matrix(1,0,0,1,40,0)"><path d="M131.499,14L139.68,5C140.961,5 142,6.039 142,7.32L142,31.68C142,32.961 140.961,34 139.68,34L131.499,25L127.375,25C126.063,25 125,23.937 125,22.625L125,16.375C125,15.063 126.063,14 127.375,14L131.499,14Z"></path></g></g></g></svg>';},704:e=>{e.exports='<svg viewBox="0 0 29 29" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421;"><g id="volume-mid" serif:id="volume mid" transform="matrix(1,0,0,1,-165,-5)"><g><g transform="matrix(1,0,0,1,0.75,-1)"><path d="M184.233,14.077C188.981,14.489 191.571,24.435 184.954,27.208C183.497,27.819 181.723,25.826 183.988,24.902C187.22,23.511 187.697,17.939 183.734,16.5C183.734,16.5 181.944,14.012 184.233,14.077Z" style="fill-rule:nonzero;"></path></g><g transform="matrix(1.79727,0,0,1.79727,-145.137,-17.5434)"><path d="M184.236,14.634C184.819,14.72 184.834,14.837 185.078,14.956C188.213,16.489 189.629,20.834 187.848,23.947C187.088,25.275 185.842,26.312 184.395,26.83C184.395,26.83 184.071,26.925 183.815,26.778C183.217,26.436 183.496,25.849 184.723,25.159C187.985,23.325 187.943,17.417 183.927,15.98C183.927,15.98 182.939,14.544 184.236,14.634Z" style="fill-rule:nonzero;"></path></g><g transform="matrix(1,0,0,1,40,0)"><path d="M131.499,14L139.68,5C140.961,5 142,6.039 142,7.32L142,31.68C142,32.961 140.961,34 139.68,34L131.499,25L127.375,25C126.063,25 125,23.937 125,22.625L125,16.375C125,15.063 126.063,14 127.375,14L131.499,14Z"></path></g></g></g></svg>';},928:e=>{e.exports='<svg viewBox="0 0 31 31" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421;"><g id="volume-mute" serif:id="volume mute" transform="matrix(1,0,0,1,-123,-4.71142)"><path d="M142,28.522L142,31.68C142,32.961 140.961,34 139.68,34L131.499,25L127.375,25C126.063,25 125,23.937 125,22.625L125,16.375C125,15.063 126.063,14 127.375,14L127.478,14L142,28.522ZM151.228,34.983L123,6.756L125.044,4.711L132.848,12.516L139.68,5C140.961,5 142,6.039 142,7.32L142,21.667L153.272,32.939L151.228,34.983Z"></path></g></svg>';},887:e=>{e.exports='<svg viewBox="0 0 37 29" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421;"><g id="Exit-FullScreen" serif:id="Exit FullScreen" transform="matrix(1,0,0,1,-361.793,-5.79289)"><g><g transform="matrix(1,0,0,-1,27,18)"><path d="M368.492,8.078L371.207,10.793L369.793,12.207L367.078,9.492L365,11.57L365.014,7.428L365,7.414L365.014,7.4L365.019,6.019L366.4,6.014L366.414,6L366.428,6.014L370.57,6L368.492,8.078Z"></path></g><g transform="matrix(-1,0,0,1,733,22)"><path d="M368.492,8.078L371.207,10.793L369.793,12.207L367.078,9.492L365,11.57L365.014,7.428L365,7.414L365.014,7.4L365.019,6.019L366.4,6.014L366.414,6L366.428,6.014L370.57,6L368.492,8.078Z"></path></g><g transform="matrix(-1,0,0,-1,733,18)"><path d="M368.492,8.078L371.207,10.793L369.793,12.207L367.078,9.492L365,11.57L365.014,7.428L365,7.414L365.014,7.4L365.019,6.019L366.4,6.014L366.414,6L366.428,6.014L370.57,6L368.492,8.078Z"></path></g><g transform="matrix(1,0,0,1,27,22)"><path d="M368.492,8.078L371.207,10.793L369.793,12.207L367.078,9.492L365,11.57L365.014,7.428L365,7.414L365.014,7.4L365.019,6.019L366.4,6.014L366.414,6L366.428,6.014L370.57,6L368.492,8.078Z"></path></g><g transform="matrix(1,0,0,0.886475,0,2.17871)"><rect x="369" y="12.207" width="22" height="15.793"></rect></g></g></g></svg>';},456:(e,t,n)=>{var r={"./en-US.json":350,"./es-ES.json":992};function o(e){var t=i(e);return n(t)}function i(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}o.keys=function(){return Object.keys(r)},o.resolve=i,e.exports=o,o.id=456;},757:(e,t,n)=>{var r={"./BasicPluginsModule.js":95,"./es.upv.paella.audioSelector.js":252,"./es.upv.paella.backwardButtonPlugin.js":925,"./es.upv.paella.captionsSelectorPlugin.js":460,"./es.upv.paella.customTimeProgressIndicator.js":263,"./es.upv.paella.downloadsPlugin.js":61,"./es.upv.paella.externalPluginTest.js":800,"./es.upv.paella.findCaptionsPlugin.js":623,"./es.upv.paella.forwardButtonPlugin.js":108,"./es.upv.paella.fullscreenButton.js":440,"./es.upv.paella.keyboardShortcutsHelp.js":234,"./es.upv.paella.layoutSelector.js":239,"./es.upv.paella.liveStreamingProgressIndicator.js":592,"./es.upv.paella.playbackRateButton.js":540,"./es.upv.paella.qualitySelector.js":135,"./es.upv.paella.volumeButtonPlugin.js":459};function o(e){var t=i(e);return n(t)}function i(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}o.keys=function(){return Object.keys(r)},o.resolve=i,e.exports=o,o.id=757;},995:t=>{t.exports=e;},350:e=>{e.exports=JSON.parse('{"Select the active audio track":"Select the active audio track","Toggle audio mute":"Toggle audio mute","Toggle play/pause":"Toggle play/pause","Toggle captions":"Toggle captions","Volume up 10%":"Volume up 10%","Volume down 10%":"Volume down 10%","Close pop-up":"Close pop-up","Decrease playback speed":"Decrease playback speed","Increase playback speed":"Increase playback speed","Select captions":"Select captions","Search":"Search","Search in captions":"Search in captions","No results found":"No results found","Toggle fullscreen":"Toggle fullscreen","Video layout":"Video layout","Playback rate":"Playback rate","Video quality":"Video quality","Volume":"Volume","Audio track":"Audio track","Spanish":"Español"}');},992:e=>{e.exports=JSON.parse('{"Select the active audio track":"Seleccione la pista de audio activa","Toggle audio mute":"Conmutar el silencio de audio","Toggle play/pause":"Activar la reproducción/pausa","Toggle captions":"Alternar subtítulos","Volume up 10%":"Aumenta el volumen un 10%.","Volume down 10%":"Reduce el volumen un 10%.","Close pop-up":"Cerrar Pop Up","Decrease playback speed":"Reducir la velocidad de reproducción","Increase playback speed":"Aumentar la velocidad de reproducción","Select captions":"Seleccionar subtítulos","Search":"Buscar","Search in captions":"Buscar en subtítulos","No results found":"No se han encontrado resultados","Toggle fullscreen":"Cambiar modo de pantalla completa","Video layout":"Disposición de los vídeos","Playback rate":"Velocidad de reproducción","Video quality":"Calidad del vídeo","Volume":"Volumen","Audio track":"Pista de audio","Spanish":"Español"}');}},n={};function r(e){var o=n[e];if(void 0!==o)return o.exports;var i=n[e]={id:e,exports:{}};return t[e](i,i.exports,r),i.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]});},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0});},r.nc=void 0;var o={};return (()=>{r.r(o),r.d(o,{AudioSelectorButtonPlugin:()=>m,BackwardButtonPlugin:()=>g,CaptionsSelectorButtonPlugin:()=>b,CustomTimeProgressIndicatorPlugin:()=>_,DownloadsButtonPlugin:()=>C,FindCaptionsButtonPlugin:()=>w,ForwardButtonPlugin:()=>x,FullscreenButtonPlugin:()=>A,KeyboardHelpButtonPlugin:()=>k,LayoutSelectorButtonPlugin:()=>L,LiveStreamingProgressIndicatorPlugin:()=>B,PlaybackRateButtonPlugin:()=>R,QualitySelectorButtonPlugin:()=>O,VolumeButtonPlugin:()=>P,default:()=>v});var e=r(252),t=r(925),n=r(460),i=r(61),u=r(623),a=r(108),s=r(440),c=r(234),l=r(239),f=r(540),p=r(135),h=r(459),d=r(263),y=r(592);function v(){return r(757)}var m=e.default,g=t.default,b=n.default,C=i.default,w=u.default,x=a.default,A=s.default,k=c.default,L=l.default,R=f.default,O=p.default,P=h.default,_=d.default,B=y.default;})(),o})()));

    });

    var getBasicPluginContext = /*@__PURE__*/getDefaultExportFromCjs(paellaBasicPlugins);

    var paellaSlidePlugins = createCommonjsModule(function (module, exports) {
    !function(t,e){module.exports=e(paellaCore);}(self,(function(t){return (()=>{var e={650:(t,e,n)=>{function r(t,e,n,r,o,i,a){try{var u=t[i](a),c=u.value;}catch(t){return void n(t)}u.done?e(c):Promise.resolve(c).then(r,o);}function o(t){return function(){var e=this,n=arguments;return new Promise((function(o,i){var a=t.apply(e,n);function u(t){r(a,o,i,u,c,"next",t);}function c(t){r(a,o,i,u,c,"throw",t);}u(void 0);}))}}function i(t){return a(t).length>0}function a(t){var e,n=(null===(e=t.videoManifest)||void 0===e?void 0:e.frameList)||[];return n.sort((function(t,e){return t.time-e.time})),n}function u(t){return c.apply(this,arguments)}function c(){return (c=o(regeneratorRuntime.mark((function t(e){var n,r,o,i,u,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=a(e),r=e.videoContainer,o=r.isTrimEnabled?r.trimStart:0,t.t0=o,t.t1=Math,t.next=7,r.duration();case 7:return t.t2=t.sent,t.t3=t.t1.trunc.call(t.t1,t.t2),i=t.t0+t.t3,t.t4=o,t.t5=Math,t.next=14,r.currentTime();case 14:if(t.t6=t.sent,t.t7=t.t5.trunc.call(t.t5,t.t6),u=t.t4+t.t7,c=null,n.some((function(t){return t.time>u&&t.time<i&&(c=t),null!==c})),!c){t.next=22;break}return t.next=22,e.videoContainer.setCurrentTime(c.time-o);case 22:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function s(t){return l.apply(this,arguments)}function l(){return (l=o(regeneratorRuntime.mark((function t(e){var n,r,o,i,u,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=a(e),r=e.videoContainer,o=r.isTrimEnabled?r.trimStart:0,t.t0=Math,t.next=6,r.currentTime();case 6:if(t.t1=t.sent,t.t2=t.t0.trunc.call(t.t0,t.t1),t.t3=o,i=t.t2+t.t3,u=null,n.some((function(t){return t.time<i&&(u=t),t.time>=i})),!u){t.next=16;break}return c=u.time<o?o:u.time,t.next=16,e.videoContainer.setCurrentTime(c-o);case 16:case"end":return t.stop()}}),t)})))).apply(this,arguments)}n.d(e,{$D:()=>i,Xs:()=>a,oy:()=>u,V4:()=>s});},769:(t,e,n)=>{n.r(e),n.d(e,{default:()=>m});var r=n(995);const o=JSON.parse('{"u2":"paella-slide-plugins","i8":"1.8.1"}');var i={},a=n(456);a.keys().forEach((function(t){var e=/([a-z-]+[A-Z_]+)\.json/.exec(t),n=e&&e[1];if(n){var r=a(t);i[n]=r;var o=n.substring(0,2);o in i||(i[o]=r);}}));const u=i;function c(t){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c(t)}function s(t,e,n,r,o,i,a){try{var u=t[i](a),c=u.value;}catch(t){return void n(t)}u.done?e(c):Promise.resolve(c).then(r,o);}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r);}}function p(t,e){return p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},p(t,e)}function d(t,e){return !e||"object"!==c(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function v(t){return v=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},v(t)}var m=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&p(t,e);}(h,t);var e,n,r,i,a,c,m=(a=h,c=function(){if("undefined"==typeof Reflect||!Reflect.construct)return !1;if(Reflect.construct.sham)return !1;if("function"==typeof Proxy)return !0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return !1}}(),function(){var t,e=v(a);if(c){var n=v(this).constructor;t=Reflect.construct(e,arguments,n);}else t=e.apply(this,arguments);return d(this,t)});function h(){return l(this,h),m.apply(this,arguments)}return e=h,n=[{key:"moduleName",get:function(){return o.u2}},{key:"moduleVersion",get:function(){return o.i8}},{key:"getDictionaries",value:(r=regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",u);case 1:case"end":return t.stop()}}),t)})),i=function(){var t=this,e=arguments;return new Promise((function(n,o){var i=r.apply(t,e);function a(t){s(i,n,o,a,u,"next",t);}function u(t){s(i,n,o,a,u,"throw",t);}a(void 0);}))},function(){return i.apply(this,arguments)})}],n&&f(e.prototype,n),h}(r.PluginModule);},516:(t,e,n)=>{n.r(e),n.d(e,{default:()=>A});var r=n(995),o=n(650),i=n(379),a=n.n(i),u=n(35);a()(u.Z,{insert:"head",singleton:!1}),u.Z.locals;var c=n(259),s=n.n(c),l=n(722),f=n.n(l);function p(t){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},p(t)}function d(t,e,n,r,o,i,a){try{var u=t[i](a),c=u.value;}catch(t){return void n(t)}u.done?e(c):Promise.resolve(c).then(r,o);}function v(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){d(i,r,o,a,u,"next",t);}function u(t){d(i,r,o,a,u,"throw",t);}a(void 0);}))}}function m(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r);}}function y(t,e){return y=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},y(t,e)}function g(t,e){return !e||"object"!==p(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function b(t){return b=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},b(t)}var A=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&y(t,e);}(l,t);var e,n,i,a,u,c=(a=l,u=function(){if("undefined"==typeof Reflect||!Reflect.construct)return !1;if(Reflect.construct.sham)return !1;if("function"==typeof Proxy)return !0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return !1}}(),function(){var t,e=b(a);if(u){var n=b(this).constructor;t=Reflect.construct(e,arguments,n);}else t=e.apply(this,arguments);return g(this,t)});function l(){return m(this,l),c.apply(this,arguments)}return e=l,n=[{key:"events",get:function(){return [r.Events.PLAYER_LOADED]}},{key:"onEvent",value:(i=v(regeneratorRuntime.mark((function t(e){var n,i,a,u,c,l,p,d,m=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i=this.player.getCustomPluginIcon(this.name,"arrowLeftIcon")||s(),a=this.player.getCustomPluginIcon(this.name,"arrowRightIcon")||f(),console.debug("Loading arrow slides navigation plugin"),u=Array.isArray(this.config.target)?this.config.target:[this.config.target],c=this.player.videoContainer.streamProvider.streams,l=u.find((function(t){return null!==c[t]})),p=c[l],this.frames=(0, o.Xs)(this.player),p&&null!==(n=this.frames)&&void 0!==n&&n.length?(d=(0, r.createElementWithHtmlText)('<div class="arrow-slides-navigator"></div>',p.canvas.userArea),(0, r.createElementWithHtmlText)('\n            <button class="button-prev"><i>'.concat(i,"</i></button>\n            "),d).addEventListener("click",function(){var t=v(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.stopPropagation(),t.next=3,(0, o.V4)(m.player);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),(0, r.createElementWithHtmlText)('\n            <button class="button-next"><i>'.concat(a,"</i></button>\n            "),d).addEventListener("click",function(){var t=v(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.stopPropagation(),t.next=3,(0, o.oy)(m.player);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())):console.warn("No matching stream content or frames found for arrow slides navigator plugin");case 9:case"end":return t.stop()}}),t,this)}))),function(t){return i.apply(this,arguments)})}],n&&h(e.prototype,n),l}(r.EventLogPlugin);},588:(t,e,n)=>{n.r(e),n.d(e,{default:()=>C});var r=n(995),o=n(741),i=n.n(o),a=n(259),u=n.n(a),c=n(722),s=n.n(c),l=n(379),f=n.n(l),p=n(895);function d(t){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},d(t)}function v(t,e,n,r,o,i,a){try{var u=t[i](a),c=u.value;}catch(t){return void n(t)}u.done?e(c):Promise.resolve(c).then(r,o);}function m(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){v(i,r,o,a,u,"next",t);}function u(t){v(i,r,o,a,u,"throw",t);}a(void 0);}))}}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function y(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r);}}function g(t,e,n){return g="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=w(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}},g(t,e,n||t)}function b(t,e){return b=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},b(t,e)}function A(t,e){return !e||"object"!==d(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function w(t){return w=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},w(t)}function x(t,e){null==e||e.forEach((function(t){return t.classList.remove("selected")})),t.classList.add("selected");}f()(p.Z,{insert:"head",singleton:!1}),p.Z.locals;var C=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&b(t,e);}(d,t);var e,n,o,a,c,l,f,p=(l=d,f=function(){if("undefined"==typeof Reflect||!Reflect.construct)return !1;if(Reflect.construct.sham)return !1;if("function"==typeof Proxy)return !0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return !1}}(),function(){var t,e=w(l);if(f){var n=w(this).constructor;t=Reflect.construct(e,arguments,n);}else t=e.apply(this,arguments);return A(this,t)});function d(){return h(this,d),p.apply(this,arguments)}return e=d,n=[{key:"getAriaLabel",value:function(){return "Show slides"}},{key:"getDescription",value:function(){return this.getAriaLabel()}},{key:"popUpType",get:function(){return "timeline"}},{key:"isEnabled",value:(c=m(regeneratorRuntime.mark((function t(){var e,n,r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g(w(d.prototype),"isEnabled",this).call(this);case 2:return o=t.sent,this.frames=null===(e=this.player.videoManifest)||void 0===e?void 0:e.frameList,null===(n=this.frames)||void 0===n||n.sort((function(t,e){return t.time-e.time})),t.abrupt("return",o&&(null===(r=this.frames)||void 0===r?void 0:r.length));case 6:case"end":return t.stop()}}),t,this)}))),function(){return c.apply(this,arguments)})},{key:"getContent",value:(a=m(regeneratorRuntime.mark((function t(){var e,n,o,i,a,c,l,f,p,d,v,h,y,g=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.player.getCustomPluginIcon(this.name,"arrowLeftIcon")||u(),n=this.player.getCustomPluginIcon(this.name,"arrowRightIcon")||s(),o=this.config.targetContent||"presentation",i=(0, r.createElementWithHtmlText)('<div class="frame-control-plugin-container"></div>'),a=(0, r.createElementWithHtmlText)('<div class="image-list"></div>',i),c=(0, r.createElementWithHtmlText)('<button class="btn-left"><i class="button-icon">'.concat(e,"</i></button>"),i),l=(0, r.createElementWithHtmlText)('<button class="btn-right"><i class="button-icon">'.concat(n,"</i></button>"),i),f=this.player.videoContainer,t.next=10,f.duration();case 10:return p=t.sent,d=f.isTrimEnabled?f.trimStart:0,v=f.isTrimEnabled?f.trimEnd:p,h=function(t){return t=g.player.videoContainer.isTrimEnabled?t-g.player.videoContainer.trimStart:t,r.utils.secondsToTime(t<0?0:t)},this.frameElements=this.frames.filter((function(t,e){var n=g.frames[e+1];return ((null==n?void 0:n.time)>=d||t.time>=d)&&t.time<=v})).map((function(t){var e="".concat(g.player.translate("go to")," ").concat(h(t.time)),n=(0, r.createElementWithHtmlText)('\n                <button id="frame_'.concat(t.id,'" aria-label="').concat(e,'" title="').concat(e,'"><img src="').concat(t.thumb,'" alt="').concat(t.id,'"/></button>\n                '),a);return n.__data=t,n.addEventListener("click",function(){var t=m(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.currentTarget.__data.time-d,t.next=3,g.player.videoContainer.setCurrentTime(n>=0?n:0);case 3:x(e.currentTarget,g.frameElements);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),n.addEventListener("mouseover",function(){var e=m(regeneratorRuntime.mark((function e(n){var r,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:g._currentFrame&&g.player.videoContainer.removeChild(g._currentFrame),(r=document.createElement("img")).className="frame-control-preview",r.src=t.url,i=g.player.videoContainer.getVideoRect(o),g._currentFrame=g.player.videoContainer.appendChild(r,i);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.addEventListener("mouseout",function(){var t=m(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:g._currentFrame&&(g.player.videoContainer.removeChild(g._currentFrame),g._currentFrame=null);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),n})),y=function(){return 20*a.offsetWidth/100},c.addEventListener("click",(function(){a.scrollLeft-=y();})),l.addEventListener("click",(function(){a.scrollLeft+=y();})),setTimeout((function(){return g.frameElements[0]&&g.frameElements[0].focus()}),50),t.abrupt("return",i);case 20:case"end":return t.stop()}}),t,this)}))),function(){return a.apply(this,arguments)})},{key:"load",value:(o=m(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.icon=this.player.getCustomPluginIcon(this.name,"photoIcon")||i(),(0, r.bindEvent)(this.player,r.Events.TIMEUPDATE,function(){var t=m(regeneratorRuntime.mark((function t(n){var r,o,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:o=e.player.videoContainer.isTrimEnabled?e.player.videoContainer.trimStart:0,i=e.frameElements&&e.frameElements[0],null===(r=e.frameElements)||void 0===r||r.some((function(t){if(t.__data.time>Math.floor(n.currentTime+o+3))return !0;i=t;})),i&&x(i,e.frameElements);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),(0, r.bindEvent)(this.player,r.Events.TRIMMING_CHANGED,(function(t){e.refreshContent=!0;}));case 4:case"end":return t.stop()}}),t,this)}))),function(){return o.apply(this,arguments)})}],n&&y(e.prototype,n),d}(r.PopUpButtonPlugin);},797:(t,e,n)=>{n.r(e),n.d(e,{default:()=>h});var r=n(995),o=n(650),i=n(722),a=n.n(i);function u(t){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u(t)}function c(t,e,n,r,o,i,a){try{var u=t[i](a),c=u.value;}catch(t){return void n(t)}u.done?e(c):Promise.resolve(c).then(r,o);}function s(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){c(i,r,o,a,u,"next",t);}function u(t){c(i,r,o,a,u,"throw",t);}a(void 0);}))}}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r);}}function p(t,e,n){return p="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=m(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}},p(t,e,n||t)}function d(t,e){return d=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},d(t,e)}function v(t,e){return !e||"object"!==u(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function m(t){return m=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},m(t)}var h=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&d(t,e);}(g,t);var e,n,r,i,u,c,h,y=(c=g,h=function(){if("undefined"==typeof Reflect||!Reflect.construct)return !1;if(Reflect.construct.sham)return !1;if("function"==typeof Proxy)return !0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return !1}}(),function(){var t,e=m(c);if(h){var n=m(this).constructor;t=Reflect.construct(e,arguments,n);}else t=e.apply(this,arguments);return v(this,t)});function g(){return l(this,g),y.apply(this,arguments)}return e=g,n=[{key:"getAriaLabel",value:function(){return this.getDescription()}},{key:"getDescription",value:function(){return "Seek video to the next slide"}},{key:"isEnabled",value:(u=s(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p(m(g.prototype),"isEnabled",this).call(this);case 2:return e=t.sent,t.abrupt("return",e&&(0, o.$D)(this.player));case 4:case"end":return t.stop()}}),t,this)}))),function(){return u.apply(this,arguments)})},{key:"load",value:(i=s(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.icon=this.player.getCustomPluginIcon(this.name,"arrowRightIcon")||a();case 1:case"end":return t.stop()}}),t,this)}))),function(){return i.apply(this,arguments)})},{key:"action",value:(r=s(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0, o.oy)(this.player);case 2:case"end":return t.stop()}}),t,this)}))),function(){return r.apply(this,arguments)})}],n&&f(e.prototype,n),g}(r.CanvasButtonPlugin);},835:(t,e,n)=>{n.r(e),n.d(e,{default:()=>h});var r=n(995),o=n(650),i=n(259),a=n.n(i);function u(t){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u(t)}function c(t,e,n,r,o,i,a){try{var u=t[i](a),c=u.value;}catch(t){return void n(t)}u.done?e(c):Promise.resolve(c).then(r,o);}function s(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){c(i,r,o,a,u,"next",t);}function u(t){c(i,r,o,a,u,"throw",t);}a(void 0);}))}}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r);}}function p(t,e,n){return p="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=m(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}},p(t,e,n||t)}function d(t,e){return d=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},d(t,e)}function v(t,e){return !e||"object"!==u(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function m(t){return m=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},m(t)}var h=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&d(t,e);}(g,t);var e,n,r,i,u,c,h,y=(c=g,h=function(){if("undefined"==typeof Reflect||!Reflect.construct)return !1;if(Reflect.construct.sham)return !1;if("function"==typeof Proxy)return !0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return !1}}(),function(){var t,e=m(c);if(h){var n=m(this).constructor;t=Reflect.construct(e,arguments,n);}else t=e.apply(this,arguments);return v(this,t)});function g(){return l(this,g),y.apply(this,arguments)}return e=g,n=[{key:"getAriaLabel",value:function(){return this.getDescription()}},{key:"getDescription",value:function(){return "Seek video to the previous slide"}},{key:"isEnabled",value:(u=s(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p(m(g.prototype),"isEnabled",this).call(this);case 2:return e=t.sent,t.abrupt("return",e&&(0, o.$D)(this.player));case 4:case"end":return t.stop()}}),t,this)}))),function(){return u.apply(this,arguments)})},{key:"load",value:(i=s(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.icon=this.player.getCustomPluginIcon(this.name,"arrowLeftIcon")||a();case 1:case"end":return t.stop()}}),t,this)}))),function(){return i.apply(this,arguments)})},{key:"action",value:(r=s(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0, o.V4)(this.player);case 2:case"end":return t.stop()}}),t,this)}))),function(){return r.apply(this,arguments)})}],n&&f(e.prototype,n),g}(r.CanvasButtonPlugin);},244:(t,e,n)=>{function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(t,e,n,r,o,i,a){try{var u=t[i](a),c=u.value;}catch(t){return void n(t)}u.done?e(c):Promise.resolve(c).then(r,o);}function i(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var a=t.apply(e,n);function u(t){o(a,r,i,u,c,"next",t);}function c(t){o(a,r,i,u,c,"throw",t);}u(void 0);}))}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r);}}function c(t,e,n){return c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=f(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}},c(t,e,n||t)}function s(t,e){return s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},s(t,e)}function l(t,e){return !e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function f(t){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},f(t)}n.r(e),n.d(e,{default:()=>p});var p=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e);}(m,t);var e,n,r,o,p,d,v=(p=m,d=function(){if("undefined"==typeof Reflect||!Reflect.construct)return !1;if(Reflect.construct.sham)return !1;if("function"==typeof Proxy)return !0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return !1}}(),function(){var t,e=f(p);if(d){var n=f(this).constructor;t=Reflect.construct(e,arguments,n);}else t=e.apply(this,arguments);return l(this,t)});function m(){return a(this,m),v.apply(this,arguments)}return e=m,n=[{key:"isEnabled",value:(o=i(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c(f(m.prototype),"isEnabled",this).call(this);case 2:return n=t.sent,t.abrupt("return",n&&(null===(e=this.player.videoManifest.frameList)||void 0===e?void 0:e.length)>0);case 4:case"end":return t.stop()}}),t,this)}))),function(){return o.apply(this,arguments)})},{key:"load",value:(r=i(regeneratorRuntime.mark((function t(){var e,n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this._drawBackground=this.config.drawBackground||!1,this.strokeOut=(null===(e=this.config.markColor)||void 0===e?void 0:e.mouseOut)||"#0A0A0A",this.strokeHover=(null===(n=this.config.markColor)||void 0===n?void 0:n.mouseHover)||"#A9A9A9",this.strokeWidth=this.config.markWidth||3,t.next=6,this.player.videoContainer.duration();case 6:r=t.sent,this._frames=this.player.videoManifest.frameList.map((function(t){return t.time/r}));case 8:case"end":return t.stop()}}),t,this)}))),function(){return r.apply(this,arguments)})},{key:"drawForeground",value:function(t,e,n,r){this._drawBackground||(t.strokeStyle=r?this.strokeHover:this.strokeOut,t.lineWidth=this.strokeWidth,this._frames.forEach((function(r){var o=r*e;t.beginPath(),t.moveTo(o,0),t.lineTo(o,n),t.stroke();})));}},{key:"drawBackground",value:function(t,e,n,r){this._drawBackground&&(t.strokeStyle=r?this.strokeHover:this.strokeOut,t.lineWidth=this.strokeWidth,this._frames.forEach((function(r){var o=r*e;t.beginPath(),t.moveTo(o,0),t.lineTo(o,n),t.stroke();})));}}],n&&u(e.prototype,n),m}(n(995).ProgressIndicatorPlugin);},35:(t,e,n)=>{n.d(e,{Z:()=>u});var r=n(15),o=n.n(r),i=n(645),a=n.n(i)()(o());a.push([t.id,"\n.arrow-slides-navigator {\n    pointer-events: all;\n    display: flex;\n    justify-content: space-between;\n    height: 100%;\n}\n\n.arrow-slides-navigator button.button-prev:hover {\n    background: linear-gradient(-90deg, rgba(-1,0,0,0) 0%, rgba(0,0,0,0.1) 100%)\n}\n\n.arrow-slides-navigator button.button-next:hover {\n    background: linear-gradient(90deg, rgba(-1,0,0,0) 0%, rgba(0,0,0,0.1) 100%)\n}\n\n.arrow-slides-navigator button {\n    background: none;\n    border: none;\n    outline: none;\n}\n\n.arrow-slides-navigator button i {\n    width: 20px;\n    height: 20px;\n    display: block;\n}\n\n.arrow-slides-navigator button i svg {\n    fill: black;\n    stroke: white;\n    stroke-width: 4px;\n}","",{version:3,sources:["webpack://./src/styles/arrowSlidesNavigator.css"],names:[],mappings:";AACA;IACI,mBAAmB;IACnB,aAAa;IACb,8BAA8B;IAC9B,YAAY;AAChB;;AAEA;IACI;AACJ;;AAEA;IACI;AACJ;;AAEA;IACI,gBAAgB;IAChB,YAAY;IACZ,aAAa;AACjB;;AAEA;IACI,WAAW;IACX,YAAY;IACZ,cAAc;AAClB;;AAEA;IACI,WAAW;IACX,aAAa;IACb,iBAAiB;AACrB",sourcesContent:["\n.arrow-slides-navigator {\n    pointer-events: all;\n    display: flex;\n    justify-content: space-between;\n    height: 100%;\n}\n\n.arrow-slides-navigator button.button-prev:hover {\n    background: linear-gradient(-90deg, rgba(-1,0,0,0) 0%, rgba(0,0,0,0.1) 100%)\n}\n\n.arrow-slides-navigator button.button-next:hover {\n    background: linear-gradient(90deg, rgba(-1,0,0,0) 0%, rgba(0,0,0,0.1) 100%)\n}\n\n.arrow-slides-navigator button {\n    background: none;\n    border: none;\n    outline: none;\n}\n\n.arrow-slides-navigator button i {\n    width: 20px;\n    height: 20px;\n    display: block;\n}\n\n.arrow-slides-navigator button i svg {\n    fill: black;\n    stroke: white;\n    stroke-width: 4px;\n}"],sourceRoot:""}]);const u=a;},895:(t,e,n)=>{n.d(e,{Z:()=>u});var r=n(15),o=n.n(r),i=n(645),a=n.n(i)()(o());a.push([t.id,"\n.frame-control-plugin-container {\n    position: relative;\n    height: 100px;\n}\n\n.frame-control-plugin-container .btn-left {\n    position: absolute;\n    left: 0px;\n    top: -10px;\n    bottom: -10px;\n    background: linear-gradient(\n        90deg\n        , rgba(65,65,65,1) 0%, rgba(0,0,0,0) 100%);\n    border-radius: 6px;\n}\n\n.frame-control-plugin-container .image-list {\n    display: flex;\n    flex-wrap: nowrap;\n    overflow-y: hidden;\n    overflow-x: hidden;\n    padding-left: 30px;\n    position: absolute;\n    left: 0px;\n    right: 0px;\n    top: 0px;\n    bottom: 0px;\n}\n\n.frame-control-plugin-container .btn-right {\n    position: absolute;\n    right: 0px;\n    top: -11px;\n    bottom: -10px;\n    background: linear-gradient(\n        270deg\n        , rgba(65,65,65,1) 0%, rgba(0,0,0,0) 100%);\n    border-radius: 6px;\n}\n\n.frame-control-plugin-container .image-list a {\n    margin: 3px;\n    min-width: 160px;\n}\n\n.frame-control-plugin-container .image-list a:last-child {\n    border-right: 110px solid transparent;\n}\n\n.frame-control-plugin-container .image-list img {\n    pointer-events: none;\n}\n\n.frame-control-plugin-container .image-list a {\n    opacity: 0.5;\n    overflow: hidden;\n}\n\n.frame-control-plugin-container .image-list a:hover {\n    opacity: 1;\n    cursor: pointer;\n}\n\n.frame-control-plugin-container button {\n    background-color: transparent;\n    border: 0px;\n}\n\n.frame-control-plugin-container .button-icon {\n    display: block;\n    width: 15px;\n}\n\n.frame-control-plugin-container .button-icon svg {\n    fill: white;\n}\n\n.frame-control-plugin-container .image-list a.selected {\n    border: 2px solid red;\n    opacity: 0.8;\n}\n\n.frame-control-plugin-container .image-list a.selected:hover {\n    border: 2px solid red;\n    opacity: 1;\n}","",{version:3,sources:["webpack://./src/styles/frameControlButton.css"],names:[],mappings:";AACA;IACI,kBAAkB;IAClB,aAAa;AACjB;;AAEA;IACI,kBAAkB;IAClB,SAAS;IACT,UAAU;IACV,aAAa;IACb;;kDAE8C;IAC9C,kBAAkB;AACtB;;AAEA;IACI,aAAa;IACb,iBAAiB;IACjB,kBAAkB;IAClB,kBAAkB;IAClB,kBAAkB;IAClB,kBAAkB;IAClB,SAAS;IACT,UAAU;IACV,QAAQ;IACR,WAAW;AACf;;AAEA;IACI,kBAAkB;IAClB,UAAU;IACV,UAAU;IACV,aAAa;IACb;;kDAE8C;IAC9C,kBAAkB;AACtB;;AAEA;IACI,WAAW;IACX,gBAAgB;AACpB;;AAEA;IACI,qCAAqC;AACzC;;AAEA;IACI,oBAAoB;AACxB;;AAEA;IACI,YAAY;IACZ,gBAAgB;AACpB;;AAEA;IACI,UAAU;IACV,eAAe;AACnB;;AAEA;IACI,6BAA6B;IAC7B,WAAW;AACf;;AAEA;IACI,cAAc;IACd,WAAW;AACf;;AAEA;IACI,WAAW;AACf;;AAEA;IACI,qBAAqB;IACrB,YAAY;AAChB;;AAEA;IACI,qBAAqB;IACrB,UAAU;AACd",sourcesContent:["\n.frame-control-plugin-container {\n    position: relative;\n    height: 100px;\n}\n\n.frame-control-plugin-container .btn-left {\n    position: absolute;\n    left: 0px;\n    top: -10px;\n    bottom: -10px;\n    background: linear-gradient(\n        90deg\n        , rgba(65,65,65,1) 0%, rgba(0,0,0,0) 100%);\n    border-radius: 6px;\n}\n\n.frame-control-plugin-container .image-list {\n    display: flex;\n    flex-wrap: nowrap;\n    overflow-y: hidden;\n    overflow-x: hidden;\n    padding-left: 30px;\n    position: absolute;\n    left: 0px;\n    right: 0px;\n    top: 0px;\n    bottom: 0px;\n}\n\n.frame-control-plugin-container .btn-right {\n    position: absolute;\n    right: 0px;\n    top: -11px;\n    bottom: -10px;\n    background: linear-gradient(\n        270deg\n        , rgba(65,65,65,1) 0%, rgba(0,0,0,0) 100%);\n    border-radius: 6px;\n}\n\n.frame-control-plugin-container .image-list a {\n    margin: 3px;\n    min-width: 160px;\n}\n\n.frame-control-plugin-container .image-list a:last-child {\n    border-right: 110px solid transparent;\n}\n\n.frame-control-plugin-container .image-list img {\n    pointer-events: none;\n}\n\n.frame-control-plugin-container .image-list a {\n    opacity: 0.5;\n    overflow: hidden;\n}\n\n.frame-control-plugin-container .image-list a:hover {\n    opacity: 1;\n    cursor: pointer;\n}\n\n.frame-control-plugin-container button {\n    background-color: transparent;\n    border: 0px;\n}\n\n.frame-control-plugin-container .button-icon {\n    display: block;\n    width: 15px;\n}\n\n.frame-control-plugin-container .button-icon svg {\n    fill: white;\n}\n\n.frame-control-plugin-container .image-list a.selected {\n    border: 2px solid red;\n    opacity: 0.8;\n}\n\n.frame-control-plugin-container .image-list a.selected:hover {\n    border: 2px solid red;\n    opacity: 1;\n}"],sourceRoot:""}]);const u=a;},645:t=>{t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=t(e);return e[2]?"@media ".concat(e[2]," {").concat(n,"}"):n})).join("")},e.i=function(t,n,r){"string"==typeof t&&(t=[[null,t,""]]);var o={};if(r)for(var i=0;i<this.length;i++){var a=this[i][0];null!=a&&(o[a]=!0);}for(var u=0;u<t.length;u++){var c=[].concat(t[u]);r&&o[c[0]]||(n&&(c[2]?c[2]="".concat(n," and ").concat(c[2]):c[2]=n),e.push(c));}},e};},15:t=>{function e(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}t.exports=function(t){var n,r,o=(r=4,function(t){if(Array.isArray(t))return t}(n=t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t;}finally{try{r||null==u.return||u.return();}finally{if(o)throw i}}return n}}(n,r)||function(t,n){if(t){if("string"==typeof t)return e(t,n);var r=Object.prototype.toString.call(t).slice(8,-1);return "Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?e(t,n):void 0}}(n,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=o[1],a=o[3];if("function"==typeof btoa){var u=btoa(unescape(encodeURIComponent(JSON.stringify(a)))),c="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(u),s="/*# ".concat(c," */"),l=a.sources.map((function(t){return "/*# sourceURL=".concat(a.sourceRoot||"").concat(t," */")}));return [i].concat(l).concat([s]).join("\n")}return [i].join("\n")};},379:(t,e,n)=>{var r,o=function(){var t={};return function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head;}catch(t){n=null;}t[e]=n;}return t[e]}}(),i=[];function a(t){for(var e=-1,n=0;n<i.length;n++)if(i[n].identifier===t){e=n;break}return e}function u(t,e){for(var n={},r=[],o=0;o<t.length;o++){var u=t[o],c=e.base?u[0]+e.base:u[0],s=n[c]||0,l="".concat(c," ").concat(s);n[c]=s+1;var f=a(l),p={css:u[1],media:u[2],sourceMap:u[3]};-1!==f?(i[f].references++,i[f].updater(p)):i.push({identifier:l,updater:m(p,e),references:1}),r.push(l);}return r}function c(t){var e=document.createElement("style"),r=t.attributes||{};if(void 0===r.nonce){var i=n.nc;i&&(r.nonce=i);}if(Object.keys(r).forEach((function(t){e.setAttribute(t,r[t]);})),"function"==typeof t.insert)t.insert(e);else {var a=o(t.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(e);}return e}var s,l=(s=[],function(t,e){return s[t]=e,s.filter(Boolean).join("\n")});function f(t,e,n,r){var o=n?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(t.styleSheet)t.styleSheet.cssText=l(e,o);else {var i=document.createTextNode(o),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(i,a[e]):t.appendChild(i);}}function p(t,e,n){var r=n.css,o=n.media,i=n.sourceMap;if(o?t.setAttribute("media",o):t.removeAttribute("media"),i&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),t.styleSheet)t.styleSheet.cssText=r;else {for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(r));}}var d=null,v=0;function m(t,e){var n,r,o;if(e.singleton){var i=v++;n=d||(d=c(e)),r=f.bind(null,n,i,!1),o=f.bind(null,n,i,!0);}else n=c(e),r=p.bind(null,n,e),o=function(){!function(t){if(null===t.parentNode)return !1;t.parentNode.removeChild(t);}(n);};return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e);}else o();}}t.exports=function(t,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=(void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r));var n=u(t=t||[],e);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var r=0;r<n.length;r++){var o=a(n[r]);i[o].references--;}for(var c=u(t,e),s=0;s<n.length;s++){var l=a(n[s]);0===i[l].references&&(i[l].updater(),i.splice(l,1));}n=c;}}};},259:t=>{t.exports='<svg viewBox="0 0 512 512" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;"><g transform="matrix(4.38063e-16,11.4236,8.46191,-3.24491e-16,68.8773,-7740.5)"><g id="arrow-right" serif:id="arrow right"><path d="M698.36,2.82C698.726,2.08 699.341,1.636 700,1.636C700.659,1.636 701.274,2.08 701.64,2.82C705.27,10.172 713.981,27.811 717.958,35.864C718.361,36.68 718.398,37.73 718.055,38.595C717.712,39.46 717.045,40 716.318,40L683.682,40C682.955,40 682.288,39.46 681.945,38.595C681.602,37.73 681.639,36.68 682.042,35.864C686.019,27.811 694.73,10.172 698.36,2.82Z"></path></g></g></svg>';},722:t=>{t.exports='<svg viewBox="0 0 512 512" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;"><g transform="matrix(-1.83705e-15,-11.4236,-8.46191,1.36078e-15,452.158,8252.5)"><g id="arrow-right" serif:id="arrow right"><path d="M698.36,2.82C698.726,2.08 699.341,1.636 700,1.636C700.659,1.636 701.274,2.08 701.64,2.82C705.27,10.172 713.981,27.811 717.958,35.864C718.361,36.68 718.398,37.73 718.055,38.595C717.712,39.46 717.045,40 716.318,40L683.682,40C682.955,40 682.288,39.46 681.945,38.595C681.602,37.73 681.639,36.68 682.042,35.864C686.019,27.811 694.73,10.172 698.36,2.82Z"></path></g></g></svg>';},741:t=>{t.exports='<svg viewBox="0 0 33 30" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421;"><path d="M23,29.888L0,29.888L0,7.888L23,7.888L23,29.888ZM11,6.888L8.903,6.888L10.5,0L33,5.817L27,27.888L24,27.388L23.994,20.288L27,20.888L30.519,7.199L11.933,2.394L11,6.888ZM21,9.888L1.969,9.888L1.969,23.888L21,23.888L21,9.888ZM7.912,19.349L10.236,15.813L12.561,18.017L15.757,13.49L19,21.888L3.939,21.888L6.169,17.726L7.912,19.349ZM6.473,15.608C5.647,15.608 4.977,14.966 4.977,14.173C4.977,13.381 5.647,12.739 6.473,12.739C7.299,12.739 7.969,13.381 7.969,14.173C7.969,14.966 7.299,15.608 6.473,15.608Z"></path></svg>';},456:(t,e,n)=>{var r={"./en-US.json":263,"./es-ES.json":992};function o(t){var e=i(t);return n(e)}function i(t){if(!n.o(r,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return r[t]}o.keys=function(){return Object.keys(r)},o.resolve=i,t.exports=o,o.id=456;},757:(t,e,n)=>{var r={"./SlidePluginsModule.js":769,"./es.upv.paella.arrowSlidesNavigator.js":516,"./es.upv.paella.frameControlButtonPlugin.js":588,"./es.upv.paella.nextSlideNavigatorButton.js":797,"./es.upv.paella.prevSlideNavigatorButton.js":835,"./es.upv.paella.slideMapProgressBarPlugin.js":244};function o(t){var e=i(t);return n(e)}function i(t){if(!n.o(r,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return r[t]}o.keys=function(){return Object.keys(r)},o.resolve=i,t.exports=o,o.id=757;},995:e=>{e.exports=t;},263:t=>{t.exports=JSON.parse('{"Show slides":"Show slides","go to":"go to"}');},992:t=>{t.exports=JSON.parse('{"Show slides":"Mostrar diapositivas del vídeo","go to":"ir a"}');}},n={};function r(t){var o=n[t];if(void 0!==o)return o.exports;var i=n[t]={id:t,exports:{}};return e[t](i,i.exports,r),i.exports}r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]});},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0});};var o={};return (()=>{r.r(o),r.d(o,{default:()=>c,ArrowSlidesPlugin:()=>s,FrameControlButtonPlugin:()=>l,SlideMapProgressBarPlugin:()=>f,NextSlideNavigatorButtonPlugin:()=>p,PrevSlideNavigatorButtonPlugin:()=>d,utils:()=>v});var t=r(516),e=r(588),n=r(244),i=r(797),a=r(835),u=r(650);function c(){return r(757)}var s=t.default,l=e.default,f=n.default,p=i.default,d=a.default,v={nextSlide:u.oy,previousSlide:u.V4,checkSlides:u.$D,getFrames:u.Xs};})(),o})()}));

    });

    var getSlidePluginContext = /*@__PURE__*/getDefaultExportFromCjs(paellaSlidePlugins);

    var paellaZoomPlugin = createCommonjsModule(function (module, exports) {
    !function(t,e){module.exports=e(paellaCore);}(self,(t=>(()=>{var e={194:(t,e,n)=>{n.r(e),n.d(e,{default:()=>m});var r=n(995);const o=JSON.parse('{"u2":"paella-zoom-plugin","i8":"1.29.0"}');var i={},u=n(456);u.keys().forEach((function(t){var e=/([a-z-]+[A-Z_]+)\.json/.exec(t),n=e&&e[1];if(n){var r=u(t);i[n]=r;var o=n.substring(0,2);o in i||(i[o]=r);}}));const a=i;function c(t){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c(t)}function s(t,e,n,r,o,i,u){try{var a=t[i](u),c=a.value;}catch(t){return void n(t)}a.done?e(c):Promise.resolve(c).then(r,o);}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r);}}function p(t,e){return p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},p(t,e)}function y(t,e){return !e||"object"!==c(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function h(t){return h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},h(t)}var m=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&p(t,e);}(v,t);var e,n,r,i,u,c,m=(u=v,c=function(){if("undefined"==typeof Reflect||!Reflect.construct)return !1;if(Reflect.construct.sham)return !1;if("function"==typeof Proxy)return !0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return !1}}(),function(){var t,e=h(u);if(c){var n=h(this).constructor;t=Reflect.construct(e,arguments,n);}else t=e.apply(this,arguments);return y(this,t)});function v(){return l(this,v),m.apply(this,arguments)}return e=v,n=[{key:"moduleName",get:function(){return o.u2}},{key:"moduleVersion",get:function(){return o.i8}},{key:"getDictionaries",value:(r=regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",a);case 1:case"end":return t.stop()}}),t)})),i=function(){var t=this,e=arguments;return new Promise((function(n,o){var i=r.apply(t,e);function u(t){s(i,n,o,u,a,"next",t);}function a(t){s(i,n,o,u,a,"throw",t);}u(void 0);}))},function(){return i.apply(this,arguments)})}],n&&f(e.prototype,n),v}(r.PluginModule);},45:(t,e,n)=>{n.r(e),n.d(e,{default:()=>v});var r=n(995),o=n(629),i=n(288),u=n.n(i);function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function c(t,e,n,r,o,i,u){try{var a=t[i](u),c=a.value;}catch(t){return void n(t)}a.done?e(c):Promise.resolve(c).then(r,o);}function s(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function u(t){c(i,r,o,u,a,"next",t);}function a(t){c(i,r,o,u,a,"throw",t);}u(void 0);}))}}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r);}}function p(t,e,n){return p="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=m(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}},p(t,e,n||t)}function y(t,e){return y=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},y(t,e)}function h(t,e){return !e||"object"!==a(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function m(t){return m=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},m(t)}var v=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&y(t,e);}(b,t);var e,n,r,i,a,c,v,d=(c=b,v=function(){if("undefined"==typeof Reflect||!Reflect.construct)return !1;if(Reflect.construct.sham)return !1;if("function"==typeof Proxy)return !0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return !1}}(),function(){var t,e=m(c);if(v){var n=m(this).constructor;t=Reflect.construct(e,arguments,n);}else t=e.apply(this,arguments);return h(this,t)});function b(){return l(this,b),d.apply(this,arguments)}return e=b,n=[{key:"isEnabled",value:(a=s(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p(m(b.prototype),"isEnabled",this).call(this);case 2:if(t.sent){t.next=4;break}return t.abrupt("return",!1);case 4:for(n in e=!1,this._streams=this.player.videoContainer.streamProvider.streams,this._streams)e||(e=this._streams[n].canvas instanceof o.ZoomCanvas);return t.abrupt("return",e);case 8:case"end":return t.stop()}}),t,this)}))),function(){return a.apply(this,arguments)})},{key:"load",value:(i=s(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.icon=this.player.getCustomPluginIcon(this.name,"zoomInIcon")||u();case 1:case"end":return t.stop()}}),t,this)}))),function(){return i.apply(this,arguments)})},{key:"action",value:(r=s(regeneratorRuntime.mark((function t(e,n,r,i){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r instanceof o.ZoomCanvas&&r.zoomIn();case 1:case"end":return t.stop()}}),t)}))),function(t,e,n,o){return r.apply(this,arguments)})}],n&&f(e.prototype,n),b}(r.CanvasButtonPlugin);},147:(t,e,n)=>{n.r(e),n.d(e,{default:()=>v});var r=n(995),o=n(629),i=n(716),u=n.n(i);function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function c(t,e,n,r,o,i,u){try{var a=t[i](u),c=a.value;}catch(t){return void n(t)}a.done?e(c):Promise.resolve(c).then(r,o);}function s(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function u(t){c(i,r,o,u,a,"next",t);}function a(t){c(i,r,o,u,a,"throw",t);}u(void 0);}))}}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r);}}function p(t,e,n){return p="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=m(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}},p(t,e,n||t)}function y(t,e){return y=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},y(t,e)}function h(t,e){return !e||"object"!==a(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function m(t){return m=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},m(t)}var v=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&y(t,e);}(b,t);var e,n,r,i,a,c,v,d=(c=b,v=function(){if("undefined"==typeof Reflect||!Reflect.construct)return !1;if(Reflect.construct.sham)return !1;if("function"==typeof Proxy)return !0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return !1}}(),function(){var t,e=m(c);if(v){var n=m(this).constructor;t=Reflect.construct(e,arguments,n);}else t=e.apply(this,arguments);return h(this,t)});function b(){return l(this,b),d.apply(this,arguments)}return e=b,n=[{key:"isEnabled",value:(a=s(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p(m(b.prototype),"isEnabled",this).call(this);case 2:if(t.sent){t.next=4;break}return t.abrupt("return",!1);case 4:for(n in e=!1,this._streams=this.player.videoContainer.streamProvider.streams,this._streams)e||(e=this._streams[n].canvas instanceof o.ZoomCanvas);return t.abrupt("return",e);case 8:case"end":return t.stop()}}),t,this)}))),function(){return a.apply(this,arguments)})},{key:"load",value:(i=s(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.icon=this.player.getCustomPluginIcon(this.name,"zoomOutIcon")||u();case 1:case"end":return t.stop()}}),t,this)}))),function(){return i.apply(this,arguments)})},{key:"action",value:(r=s(regeneratorRuntime.mark((function t(e,n,r,i){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r instanceof o.ZoomCanvas&&r.zoomOut();case 1:case"end":return t.stop()}}),t)}))),function(t,e,n,o){return r.apply(this,arguments)})}],n&&f(e.prototype,n),b}(r.CanvasButtonPlugin);},392:(t,e,n)=>{n.r(e),n.d(e,{default:()=>v});var r=n(995),o=n(629),i=n(288),u=n.n(i);function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function c(t,e,n,r,o,i,u){try{var a=t[i](u),c=a.value;}catch(t){return void n(t)}a.done?e(c):Promise.resolve(c).then(r,o);}function s(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function u(t){c(i,r,o,u,a,"next",t);}function a(t){c(i,r,o,u,a,"throw",t);}u(void 0);}))}}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r);}}function p(t,e,n){return p="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=m(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}},p(t,e,n||t)}function y(t,e){return y=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},y(t,e)}function h(t,e){return !e||"object"!==a(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function m(t){return m=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},m(t)}var v=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&y(t,e);}(b,t);var e,n,r,i,a,c,v,d=(c=b,v=function(){if("undefined"==typeof Reflect||!Reflect.construct)return !1;if(Reflect.construct.sham)return !1;if("function"==typeof Proxy)return !0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return !1}}(),function(){var t,e=m(c);if(v){var n=m(this).constructor;t=Reflect.construct(e,arguments,n);}else t=e.apply(this,arguments);return h(this,t)});function b(){return l(this,b),d.apply(this,arguments)}return e=b,n=[{key:"getAriaLabel",value:function(){return "Zoom in"}},{key:"getDescription",value:function(){return this.getAriaLabel()}},{key:"isEnabled",value:(a=s(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p(m(b.prototype),"isEnabled",this).call(this);case 2:if(t.sent){t.next=4;break}return t.abrupt("return",!1);case 4:return this.target=this.config.target,this._canvas=this.player.videoContainer.streamProvider.streams[this.target].canvas,t.abrupt("return",this._canvas instanceof o.ZoomCanvas);case 7:case"end":return t.stop()}}),t,this)}))),function(){return a.apply(this,arguments)})},{key:"load",value:(i=s(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.icon=this.player.getCustomPluginIcon(this.name,"zoomInIcon")||u();case 1:case"end":return t.stop()}}),t,this)}))),function(){return i.apply(this,arguments)})},{key:"action",value:(r=s(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this._canvas.zoomIn();case 1:case"end":return t.stop()}}),t,this)}))),function(){return r.apply(this,arguments)})}],n&&f(e.prototype,n),b}(r.ButtonPlugin);},410:(t,e,n)=>{n.r(e),n.d(e,{default:()=>b});var r=n(995),o=n(629),i=n(288),u=n.n(i),a=n(716),c=n.n(a);function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function l(t,e,n,r,o,i,u){try{var a=t[i](u),c=a.value;}catch(t){return void n(t)}a.done?e(c):Promise.resolve(c).then(r,o);}function f(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function u(t){l(i,r,o,u,a,"next",t);}function a(t){l(i,r,o,u,a,"throw",t);}u(void 0);}))}}function p(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function y(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r);}}function h(t,e,n){return h="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=d(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}},h(t,e,n||t)}function m(t,e){return m=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},m(t,e)}function v(t,e){return !e||"object"!==s(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function d(t){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},d(t)}var b=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&m(t,e);}(g,t);var e,n,r,i,a,s,l,b=(s=g,l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return !1;if(Reflect.construct.sham)return !1;if("function"==typeof Proxy)return !0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return !1}}(),function(){var t,e=d(s);if(l){var n=d(this).constructor;t=Reflect.construct(e,arguments,n);}else t=e.apply(this,arguments);return v(this,t)});function g(){return p(this,g),b.apply(this,arguments)}return e=g,n=[{key:"getAriaLabel",value:function(){return "Show video zoom options"}},{key:"getDescription",value:function(){return this.getAriaLabel()}},{key:"isEnabled",value:(a=f(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h(d(g.prototype),"isEnabled",this).call(this);case 2:if(t.sent){t.next=4;break}return t.abrupt("return",!1);case 4:return this._target=this.config.target||"presenter",this._canvas=this.player.videoContainer.streamProvider.streams[this._target].canvas,t.abrupt("return",this._canvas instanceof o.ZoomCanvas);case 7:case"end":return t.stop()}}),t,this)}))),function(){return a.apply(this,arguments)})},{key:"load",value:(i=f(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.icon=this.player.getCustomPluginIcon(this.name,"zoomInIcon")||u();case 1:case"end":return t.stop()}}),t,this)}))),function(){return i.apply(this,arguments)})},{key:"getMenu",value:(r=f(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",[{id:"in",title:"Zoom in",icon:this.player.getCustomPluginIcon(this.name,"zoomInIcon")||u()},{id:"out",title:"Zoom out",icon:this.player.getCustomPluginIcon(this.name,"zoomOutIcon")||c()}]);case 1:case"end":return t.stop()}}),t,this)}))),function(){return r.apply(this,arguments)})},{key:"buttonType",get:function(){return "button"}},{key:"showTitles",get:function(){return !1}},{key:"itemSelected",value:function(t){switch(t.id){case"in":this._canvas.zoomIn();break;case"out":this._canvas.zoomOut();}}}],n&&y(e.prototype,n),g}(r.MenuButtonPlugin);},426:(t,e,n)=>{n.r(e),n.d(e,{default:()=>v});var r=n(995),o=n(629),i=n(716),u=n.n(i);function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function c(t,e,n,r,o,i,u){try{var a=t[i](u),c=a.value;}catch(t){return void n(t)}a.done?e(c):Promise.resolve(c).then(r,o);}function s(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function u(t){c(i,r,o,u,a,"next",t);}function a(t){c(i,r,o,u,a,"throw",t);}u(void 0);}))}}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r);}}function p(t,e,n){return p="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=m(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}},p(t,e,n||t)}function y(t,e){return y=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},y(t,e)}function h(t,e){return !e||"object"!==a(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function m(t){return m=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},m(t)}var v=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&y(t,e);}(b,t);var e,n,r,i,a,c,v,d=(c=b,v=function(){if("undefined"==typeof Reflect||!Reflect.construct)return !1;if(Reflect.construct.sham)return !1;if("function"==typeof Proxy)return !0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return !1}}(),function(){var t,e=m(c);if(v){var n=m(this).constructor;t=Reflect.construct(e,arguments,n);}else t=e.apply(this,arguments);return h(this,t)});function b(){return l(this,b),d.apply(this,arguments)}return e=b,n=[{key:"getAriaLabel",value:function(){return "Zoom out"}},{key:"getDescription",value:function(){return this.getAriaLabel()}},{key:"isEnabled",value:(a=s(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p(m(b.prototype),"isEnabled",this).call(this);case 2:if(t.sent){t.next=4;break}return t.abrupt("return",!1);case 4:return this.target=this.config.target,this._canvas=this.player.videoContainer.streamProvider.streams[this.target].canvas,t.abrupt("return",this._canvas instanceof o.ZoomCanvas);case 7:case"end":return t.stop()}}),t,this)}))),function(){return a.apply(this,arguments)})},{key:"load",value:(i=s(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.icon=this.player.getCustomPluginIcon(this.name,"zoomOutIcon")||u();case 1:case"end":return t.stop()}}),t,this)}))),function(){return i.apply(this,arguments)})},{key:"action",value:(r=s(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this._canvas.zoomOut();case 1:case"end":return t.stop()}}),t,this)}))),function(){return r.apply(this,arguments)})}],n&&f(e.prototype,n),b}(r.ButtonPlugin);},629:(t,e,n)=>{n.r(e),n.d(e,{ZoomCanvas:()=>w,default:()=>O});var r=n(995),o=n(379),i=n.n(o),u=n(547);function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function c(t,e,n){return c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=d(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}},c(t,e,n||t)}function s(t,e,n,r,o,i,u){try{var a=t[i](u),c=a.value;}catch(t){return void n(t)}a.done?e(c):Promise.resolve(c).then(r,o);}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r);}}function p(t,e,n){return e&&f(t.prototype,e),n&&f(t,n),t}function y(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e);}function h(t,e){return h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},h(t,e)}function m(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return !1;if(Reflect.construct.sham)return !1;if("function"==typeof Proxy)return !0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return !1}}();return function(){var n,r=d(t);if(e){var o=d(this).constructor;n=Reflect.construct(r,arguments,o);}else n=r.apply(this,arguments);return v(this,n)}}function v(t,e){return !e||"object"!==a(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function d(t){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},d(t)}function b(t,e,n){var r={left:t.offsetWidth/2,top:t.offsetHeight/2};e.style.width="".concat(100*n,"%"),e.style.height="".concat(100*n,"%"),e.offsetLeft,e.offsetTop;var o=e.offsetWidth,i=e.offsetHeight,u={left:o/2-r.left,top:i/2-r.top};return 1==n?(e.style.left="0px",e.style.top="0px",u.left=r.left,u.top=r.top):(e.style.left="-".concat(u.left,"px"),e.style.top="-".concat(u.top,"px")),u}function g(t,e,n){var r={left:e.left+n.left,top:e.top+n.top},o=t.parentElement;return t.style.top="-".concat(r.top,"px"),t.offsetHeight+t.offsetTop-o.offsetHeight<0&&(r.top=e.top),t.style.left="-".concat(r.left,"px"),t.offsetWidth+t.offsetLeft-o.offsetWidth<0&&(r.left=e.left),r}i()(u.Z,{insert:"head",singleton:!1}),u.Z.locals;var w=function(t){y(i,t);var e,n,o=m(i);function i(t,e,n){var r;return l(this,i),(r=o.call(this,"div",t,e)).config=n,r._maxZoom=r.config.maxZoom||4,r._showButtons=void 0===r.config.showButtons||r.config.showButtons,r}return p(i,[{key:"loadCanvas",value:(e=regeneratorRuntime.mark((function t(e){var n,o,i,u,a,c,s,l,f=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.currentZoom=1,this._videoPlayer=e,e.element.style.width="100%",e.element.style.height="100%",e.element.style.position="absolute",e.element.style.top="0",e.element.style.left="0",this.element.style.overflow="hidden",this.element.style.position="relative",n=function(t){if(t.stopPropagation(),t.altKey){f.hideAltKeyMessage();var e=void 0!==t.deltaY?.1*t.deltaY:4*t.detail,n=f.currentZoom+-.01*e;n>1&&n<=f._maxZoom?(f.currentZoom=n,f._playerCenter=b(f.element,f._videoPlayer.element,f.currentZoom)):n<=1&&(f.currentZoom=1,f._playerCenter=b(f.element,f._videoPlayer.element,f.currentZoom)),t.preventDefault();}else f.showAltKeyMessage();},this.element.addEventListener("DOMMouseScroll",n),this.element.addEventListener("mousewheel",n),o=!1,i=!1,u=null,a=function(){return o=!0},c=function(){return o=!1},s=function(t){i&&(t.stopPropagation(),t.preventDefault());},this.element.addEventListener("mousedown",a),this.element.addEventListener("mouseleave",c),this.element.addEventListener("mouseup",c),this.element.addEventListener("click",s),this.element.addEventListener("mouseup",s),this.element.addEventListener("mousemove",(function(t){if(o&&f._playerCenter){null===u&&(u={left:t.clientX,top:t.clientY}),i=!0;var e={left:u.left-t.clientX,top:u.top-t.clientY};1==f.currentZoom?f._playerCenter={left:0,top:0}:f._playerCenter=g(f._videoPlayer.element,f._playerCenter,e),u={left:t.clientX,top:t.clientY};}else i=!1,u=null;})),l=this.player.translate("Use Alt+Scroll to zoom"),this._zoomMessage=(0, r.createElementWithHtmlText)('\n            <div class="zoom-message">'.concat(l,"</div>\n        "),this.element),this._zoomMessage.style.display="none";case 27:case"end":return t.stop()}}),t,this)})),n=function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function u(t){s(i,r,o,u,a,"next",t);}function a(t){s(i,r,o,u,a,"throw",t);}u(void 0);}))},function(t){return n.apply(this,arguments)})},{key:"showAltKeyMessage",value:function(){var t=this;this._hideTimeout&&clearTimeout(this._hideTimeout),this._zoomMessage.style.display="",this._hideTimeout=setTimeout((function(){t.hideAltKeyMessage();}),2e3);}},{key:"hideAltKeyMessage",value:function(){this._zoomMessage.style.display="none",this._hideTimeout=null;}},{key:"zoomIn",value:function(){var t=1.1*this.currentZoom;t<this._maxZoom&&(this.currentZoom=t,this._playerCenter=b(this.element,this._videoPlayer.element,this.currentZoom));}},{key:"zoomOut",value:function(){var t=.9*this.currentZoom;t>=1&&(this.currentZoom=t,this._playerCenter=b(this.element,this._videoPlayer.element,this.currentZoom));}}]),i}(r.Canvas),O=function(t){y(n,t);var e=m(n);function n(){return l(this,n),e.apply(this,arguments)}return p(n,[{key:"canvasType",get:function(){return "video"}},{key:"isCompatible",value:function(t){return !Array.isArray(t.canvas)||0===t.canvas.length||c(d(n.prototype),"isCompatible",this).call(this,t)}},{key:"getCanvasInstance",value:function(t){return new w(this.player,t,this.config)}}]),n}(r.CanvasPlugin);},547:(t,e,n)=>{n.d(e,{Z:()=>a});var r=n(15),o=n.n(r),i=n(645),u=n.n(i)()(o());u.push([t.id,".zoom-message {\n    position: absolute;\n    top: 0px;\n    left: 0px;\n    right: 0px;\n    bottom: 0px;\n    background-color: rgba(0, 0, 0, 0.5);\n    pointer-events: none;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    color: white;\n}\n\n.zoom-buttons {\n    position: absolute;\n    top: 2px;\n    left: 0px;\n    right: 0px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n}\n\n.zoom-buttons button {\n    margin: 2px;\n    opacity: 0.4;\n    padding: 0;\n    width: 20px;\n    height: 20px;\n    display: block;\n}\n\n.zoom-buttons button:hover {\n    opacity: 1;\n}","",{version:3,sources:["webpack://./src/styles/zoom.css"],names:[],mappings:"AAAA;IACI,kBAAkB;IAClB,QAAQ;IACR,SAAS;IACT,UAAU;IACV,WAAW;IACX,oCAAoC;IACpC,oBAAoB;IACpB,aAAa;IACb,uBAAuB;IACvB,mBAAmB;IACnB,YAAY;AAChB;;AAEA;IACI,kBAAkB;IAClB,QAAQ;IACR,SAAS;IACT,UAAU;IACV,aAAa;IACb,mBAAmB;IACnB,uBAAuB;AAC3B;;AAEA;IACI,WAAW;IACX,YAAY;IACZ,UAAU;IACV,WAAW;IACX,YAAY;IACZ,cAAc;AAClB;;AAEA;IACI,UAAU;AACd",sourcesContent:[".zoom-message {\n    position: absolute;\n    top: 0px;\n    left: 0px;\n    right: 0px;\n    bottom: 0px;\n    background-color: rgba(0, 0, 0, 0.5);\n    pointer-events: none;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    color: white;\n}\n\n.zoom-buttons {\n    position: absolute;\n    top: 2px;\n    left: 0px;\n    right: 0px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n}\n\n.zoom-buttons button {\n    margin: 2px;\n    opacity: 0.4;\n    padding: 0;\n    width: 20px;\n    height: 20px;\n    display: block;\n}\n\n.zoom-buttons button:hover {\n    opacity: 1;\n}"],sourceRoot:""}]);const a=u;},645:t=>{t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=t(e);return e[2]?"@media ".concat(e[2]," {").concat(n,"}"):n})).join("")},e.i=function(t,n,r){"string"==typeof t&&(t=[[null,t,""]]);var o={};if(r)for(var i=0;i<this.length;i++){var u=this[i][0];null!=u&&(o[u]=!0);}for(var a=0;a<t.length;a++){var c=[].concat(t[a]);r&&o[c[0]]||(n&&(c[2]?c[2]="".concat(n," and ").concat(c[2]):c[2]=n),e.push(c));}},e};},15:t=>{function e(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}t.exports=function(t){var n,r,o=(r=4,function(t){if(Array.isArray(t))return t}(n=t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,o=!1,i=void 0;try{for(var u,a=t[Symbol.iterator]();!(r=(u=a.next()).done)&&(n.push(u.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t;}finally{try{r||null==a.return||a.return();}finally{if(o)throw i}}return n}}(n,r)||function(t,n){if(t){if("string"==typeof t)return e(t,n);var r=Object.prototype.toString.call(t).slice(8,-1);return "Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?e(t,n):void 0}}(n,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=o[1],u=o[3];if("function"==typeof btoa){var a=btoa(unescape(encodeURIComponent(JSON.stringify(u)))),c="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(a),s="/*# ".concat(c," */"),l=u.sources.map((function(t){return "/*# sourceURL=".concat(u.sourceRoot||"").concat(t," */")}));return [i].concat(l).concat([s]).join("\n")}return [i].join("\n")};},379:(t,e,n)=>{var r,o=function(){var t={};return function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head;}catch(t){n=null;}t[e]=n;}return t[e]}}(),i=[];function u(t){for(var e=-1,n=0;n<i.length;n++)if(i[n].identifier===t){e=n;break}return e}function a(t,e){for(var n={},r=[],o=0;o<t.length;o++){var a=t[o],c=e.base?a[0]+e.base:a[0],s=n[c]||0,l="".concat(c," ").concat(s);n[c]=s+1;var f=u(l),p={css:a[1],media:a[2],sourceMap:a[3]};-1!==f?(i[f].references++,i[f].updater(p)):i.push({identifier:l,updater:m(p,e),references:1}),r.push(l);}return r}function c(t){var e=document.createElement("style"),r=t.attributes||{};if(void 0===r.nonce){var i=n.nc;i&&(r.nonce=i);}if(Object.keys(r).forEach((function(t){e.setAttribute(t,r[t]);})),"function"==typeof t.insert)t.insert(e);else {var u=o(t.insert||"head");if(!u)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");u.appendChild(e);}return e}var s,l=(s=[],function(t,e){return s[t]=e,s.filter(Boolean).join("\n")});function f(t,e,n,r){var o=n?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(t.styleSheet)t.styleSheet.cssText=l(e,o);else {var i=document.createTextNode(o),u=t.childNodes;u[e]&&t.removeChild(u[e]),u.length?t.insertBefore(i,u[e]):t.appendChild(i);}}function p(t,e,n){var r=n.css,o=n.media,i=n.sourceMap;if(o?t.setAttribute("media",o):t.removeAttribute("media"),i&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),t.styleSheet)t.styleSheet.cssText=r;else {for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(r));}}var y=null,h=0;function m(t,e){var n,r,o;if(e.singleton){var i=h++;n=y||(y=c(e)),r=f.bind(null,n,i,!1),o=f.bind(null,n,i,!0);}else n=c(e),r=p.bind(null,n,e),o=function(){!function(t){if(null===t.parentNode)return !1;t.parentNode.removeChild(t);}(n);};return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e);}else o();}}t.exports=function(t,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=(void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r));var n=a(t=t||[],e);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var r=0;r<n.length;r++){var o=u(n[r]);i[o].references--;}for(var c=a(t,e),s=0;s<n.length;s++){var l=u(n[s]);0===i[l].references&&(i[l].updater(),i.splice(l,1));}n=c;}}};},288:t=>{t.exports='<svg viewBox="0 0 32 32" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421;"><path d="M17.094,18.048C15.976,18.956 14.551,19.5 13,19.5C9.413,19.5 6.5,16.587 6.5,13C6.5,9.413 9.413,6.5 13,6.5C16.587,6.5 19.5,9.413 19.5,13C19.5,14.522 18.976,15.923 18.098,17.031L19.553,18.487C20.094,17.958 20.962,17.962 21.498,18.498L25.522,22.522C26.062,23.062 26.062,23.938 25.522,24.478L24.519,25.481C23.98,26.02 23.103,26.02 22.563,25.481L18.539,21.457C18,20.917 18,20.041 18.539,19.501L18.543,19.497L17.094,18.048ZM13,8C15.76,8 18,10.24 18,13C18,15.76 15.76,18 13,18C10.24,18 8,15.76 8,13C8,10.24 10.24,8 13,8ZM13.927,11.886L15.927,11.886L15.927,13.886L13.927,13.886L13.927,15.886L11.927,15.886L11.927,13.886L9.927,13.886L9.927,11.886L11.927,11.886L11.927,9.886L13.927,9.886L13.927,11.886Z"></path></svg>';},716:t=>{t.exports='<svg viewBox="0 0 32 32" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421;"><path d="M17.094,18.048C15.976,18.956 14.551,19.5 13,19.5C9.413,19.5 6.5,16.587 6.5,13C6.5,9.413 9.413,6.5 13,6.5C16.587,6.5 19.5,9.413 19.5,13C19.5,14.522 18.976,15.923 18.098,17.031L19.553,18.487C20.094,17.958 20.962,17.962 21.498,18.498L25.522,22.522C26.062,23.062 26.062,23.938 25.522,24.478L24.519,25.481C23.98,26.02 23.103,26.02 22.563,25.481L18.539,21.457C18,20.917 18,20.041 18.539,19.501L18.543,19.497L17.094,18.048ZM13,8C15.76,8 18,10.24 18,13C18,15.76 15.76,18 13,18C10.24,18 8,15.76 8,13C8,10.24 10.24,8 13,8ZM9.927,11.886L15.927,11.886L15.927,13.886L9.927,13.886L9.927,11.886Z"></path></svg>';},456:(t,e,n)=>{var r={"./en-US.json":263,"./es-ES.json":992};function o(t){var e=i(t);return n(e)}function i(t){if(!n.o(r,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return r[t]}o.keys=function(){return Object.keys(r)},o.resolve=i,t.exports=o,o.id=456;},757:(t,e,n)=>{var r={"./ZoomPluginsModule.js":194,"./es.upv.paella.canvasZoomInButtonPlugin.js":45,"./es.upv.paella.canvasZoomOutButtonPlugin.js":147,"./es.upv.paella.zoomInButtonPlugin.js":392,"./es.upv.paella.zoomMenuButtonPlugin.js":410,"./es.upv.paella.zoomOutButtonPlugin.js":426,"./es.upv.paella.zoomPlugin.js":629};function o(t){var e=i(t);return n(e)}function i(t){if(!n.o(r,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return r[t]}o.keys=function(){return Object.keys(r)},o.resolve=i,t.exports=o,o.id=757;},995:e=>{e.exports=t;},263:t=>{t.exports=JSON.parse('{"Zoom in":"Zoom in","Zoom out":"Zoom out","Show video zoom options":"Show video zoom options","Use Alt+Scroll to zoom":"Use Alt+Scroll to zoom"}');},992:t=>{t.exports=JSON.parse('{"Zoom in":"Ampliar zoom del vídeo","Zoom out":"Reducir zoom de vídeo","Show video zoom options":"Mostrar opciones de zoom de vídeo","Use Alt+Scroll to zoom":"Usar Alt+Desplazamiento para hacer zoom"}');}},n={};function r(t){var o=n[t];if(void 0!==o)return o.exports;var i=n[t]={id:t,exports:{}};return e[t](i,i.exports,r),i.exports}r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]});},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0});},r.nc=void 0;var o={};return (()=>{r.r(o),r.d(o,{CanvasZoomInButtonPlugin:()=>y,CanvasZoomOutButtonPlugin:()=>h,ZoomCanvasPlugin:()=>s,ZoomInButtonPlugin:()=>l,ZoomMenuButtonPlugin:()=>p,ZoomOutButtonPlugin:()=>f,default:()=>c});var t=r(629),e=r(392),n=r(426),i=r(410),u=r(45),a=r(147);function c(){return r(757)}var s=t.default,l=e.default,f=n.default,p=i.default,y=u.default,h=a.default;})(),o})()));

    });

    var getZoomPluginContext = /*@__PURE__*/getDefaultExportFromCjs(paellaZoomPlugin);

    /*! For license information please see paella-user-tracking.js.LICENSE.txt */

    var paellaUserTracking = createCommonjsModule(function (module, exports) {
    !function(t,e){module.exports=e(paellaCore);}(self,(t=>(()=>{var e={263:(t,e,r)=>{r.r(e),r.d(e,{default:()=>s});var n=r(995);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n);}}function c(t,e){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},c(t,e)}function u(t,e){if(e&&("object"===o(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function f(t){return f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},f(t)}var s=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&c(t,e);}(l,t);var e,r,n,o,s=(n=l,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return !1;if(Reflect.construct.sham)return !1;if("function"==typeof Proxy)return !0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return !1}}(),function(){var t,e=f(n);if(o){var r=f(this).constructor;t=Reflect.construct(e,arguments,r);}else t=e.apply(this,arguments);return u(this,t)});function l(){return i(this,l),s.apply(this,arguments)}return e=l,(r=[{key:"moduleName",get:function(){return "paella-user-tracking"}},{key:"moduleVersion",get:function(){return "1.8.0"}}])&&a(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),l}(n.PluginModule);},561:(t,e,r)=>{function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function o(){o=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,i=Object.defineProperty||function(t,e,r){t[e]=r.value;},a="function"==typeof Symbol?Symbol:{},c=a.iterator||"@@iterator",u=a.asyncIterator||"@@asyncIterator",f=a.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"");}catch(t){s=function(t,e,r){return t[e]=r};}function l(t,e,r,n){var o=e&&e.prototype instanceof y?e:y,a=Object.create(o.prototype),c=new P(n||[]);return i(a,"_invoke",{value:x(t,r,c)}),a}function p(t,e,r){try{return {type:"normal",arg:t.call(e,r)}}catch(t){return {type:"throw",arg:t}}}t.wrap=l;var h={};function y(){}function v(){}function d(){}var g={};s(g,c,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(k([])));b&&b!==e&&r.call(b,c)&&(g=b);var w=d.prototype=y.prototype=Object.create(g);function E(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}));}));}function O(t,e){function o(i,a,c,u){var f=p(t[i],t,a);if("throw"!==f.type){var s=f.arg,l=s.value;return l&&"object"==n(l)&&r.call(l,"__await")?e.resolve(l.__await).then((function(t){o("next",t,c,u);}),(function(t){o("throw",t,c,u);})):e.resolve(l).then((function(t){s.value=t,c(s);}),(function(t){return o("throw",t,c,u)}))}u(f.arg);}var a;i(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n);}))}return a=a?a.then(n,n):n()}});}function x(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return {value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=_(a,r);if(c){if(c===h)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg);}else "return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=p(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===h)continue;return {value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg);}}}function _(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,_(t,e),"throw"===e.method))return h;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method");}return h}var n=p(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,h;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,h):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,h)}function L(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e);}function j(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e;}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(L,this),this.reset(!0);}function k(t){if(t){var e=t[c];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return {next:S}}function S(){return {value:void 0,done:!0}}return v.prototype=d,i(w,"constructor",{value:d,configurable:!0}),i(d,"constructor",{value:v,configurable:!0}),v.displayName=s(d,f,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return !!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,s(t,f,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return {__await:t}},E(O.prototype),s(O.prototype,u,(function(){return this})),t.AsyncIterator=O,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new O(l(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},E(w),s(w,f,"Generator"),s(w,c,(function(){return this})),s(w,"toString",(function(){return "[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=k,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0);},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else {if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return "break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),j(r),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;j(r);}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:k(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),h}},t}function i(t,e,r,n,o,i,a){try{var c=t[i](a),u=c.value;}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o);}function a(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function c(t){i(a,n,o,c,u,"next",t);}function u(t){i(a,n,o,c,u,"throw",t);}c(void 0);}))}}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n);}}function f(t,e){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},f(t,e)}function s(t,e){if(e&&("object"===n(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function l(t){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},l(t)}r.r(e),r.d(e,{default:()=>p});var p=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&f(t,e);}(v,t);var e,r,n,i,p,h,y=(p=v,h=function(){if("undefined"==typeof Reflect||!Reflect.construct)return !1;if(Reflect.construct.sham)return !1;if("function"==typeof Proxy)return !0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return !1}}(),function(){var t,e=l(p);if(h){var r=l(this).constructor;t=Reflect.construct(e,arguments,r);}else t=e.apply(this,arguments);return s(this,t)});function v(){return c(this,v),y.apply(this,arguments)}return e=v,r=[{key:"load",value:(i=a(o().mark((function t(){var e,r;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=this.config.trackingId,r=this.config.domain||"auto",e?(this.player.log.debug("Google Analytics Enabled"),function(t,e,r,n,o,i,a){t.GoogleAnalyticsObject=o,t[o]=t[o]||function(){(t[o].q=t[o].q||[]).push(arguments);},t[o].l=1*new Date,i=e.createElement(r),a=e.getElementsByTagName(r)[0],i.async=1,i.src="//www.google-analytics.com/analytics.js",a.parentNode.insertBefore(i,a);}(window,document,"script",0,"__gaTracker"),__gaTracker("create",e,r),__gaTracker("send","pageview")):this.player.log.debug("No Google Tracking ID found in config file. Disabling Google Analytics");case 3:case"end":return t.stop()}}),t,this)}))),function(){return i.apply(this,arguments)})},{key:"write",value:(n=a(o().mark((function t(e,r,n){var i,a,c,u,f;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=r.id,void 0===this.config.category||!0===this.config.category){a=this.config.category||"PaellaPlayer",c=n.event,u={videoId:i,plugin:n.plugin};try{JSON.stringify(n.params),u.params=n.params;}catch(t){}f=JSON.stringify(u),__gaTracker(" send","event",a,c,f);}case 2:case"end":return t.stop()}}),t,this)}))),function(t,e,r){return n.apply(this,arguments)})}],r&&u(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),v}(r(995).DataPlugin);},931:(t,e,r)=>{function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function o(){o=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,i=Object.defineProperty||function(t,e,r){t[e]=r.value;},a="function"==typeof Symbol?Symbol:{},c=a.iterator||"@@iterator",u=a.asyncIterator||"@@asyncIterator",f=a.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"");}catch(t){s=function(t,e,r){return t[e]=r};}function l(t,e,r,n){var o=e&&e.prototype instanceof y?e:y,a=Object.create(o.prototype),c=new P(n||[]);return i(a,"_invoke",{value:x(t,r,c)}),a}function p(t,e,r){try{return {type:"normal",arg:t.call(e,r)}}catch(t){return {type:"throw",arg:t}}}t.wrap=l;var h={};function y(){}function v(){}function d(){}var g={};s(g,c,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(k([])));b&&b!==e&&r.call(b,c)&&(g=b);var w=d.prototype=y.prototype=Object.create(g);function E(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}));}));}function O(t,e){function o(i,a,c,u){var f=p(t[i],t,a);if("throw"!==f.type){var s=f.arg,l=s.value;return l&&"object"==n(l)&&r.call(l,"__await")?e.resolve(l.__await).then((function(t){o("next",t,c,u);}),(function(t){o("throw",t,c,u);})):e.resolve(l).then((function(t){s.value=t,c(s);}),(function(t){return o("throw",t,c,u)}))}u(f.arg);}var a;i(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n);}))}return a=a?a.then(n,n):n()}});}function x(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return {value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=_(a,r);if(c){if(c===h)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg);}else "return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=p(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===h)continue;return {value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg);}}}function _(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,_(t,e),"throw"===e.method))return h;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method");}return h}var n=p(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,h;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,h):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,h)}function L(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e);}function j(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e;}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(L,this),this.reset(!0);}function k(t){if(t){var e=t[c];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return {next:S}}function S(){return {value:void 0,done:!0}}return v.prototype=d,i(w,"constructor",{value:d,configurable:!0}),i(d,"constructor",{value:v,configurable:!0}),v.displayName=s(d,f,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return !!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,s(t,f,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return {__await:t}},E(O.prototype),s(O.prototype,u,(function(){return this})),t.AsyncIterator=O,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new O(l(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},E(w),s(w,f,"Generator"),s(w,c,(function(){return this})),s(w,"toString",(function(){return "[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=k,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0);},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else {if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return "break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),j(r),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;j(r);}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:k(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),h}},t}function i(t,e,r,n,o,i,a){try{var c=t[i](a),u=c.value;}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o);}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n);}}function u(t,e){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},u(t,e)}function f(t,e){if(e&&("object"===n(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function s(t){return s=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},s(t)}r.r(e),r.d(e,{default:()=>l});var l=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&u(t,e);}(v,t);var e,r,n,l,p,h,y=(p=v,h=function(){if("undefined"==typeof Reflect||!Reflect.construct)return !1;if(Reflect.construct.sham)return !1;if("function"==typeof Proxy)return !0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return !1}}(),function(){var t,e=s(p);if(h){var r=s(this).constructor;t=Reflect.construct(e,arguments,r);}else t=e.apply(this,arguments);return f(this,t)});function v(){return a(this,v),y.apply(this,arguments)}return e=v,r=[{key:"write",value:(n=o().mark((function t(e,r,n){var i;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i=r.id,console.log("id: ".concat(i),e,n);case 2:case"end":return t.stop()}}),t)})),l=function(){var t=this,e=arguments;return new Promise((function(r,o){var a=n.apply(t,e);function c(t){i(a,r,o,c,u,"next",t);}function u(t){i(a,r,o,c,u,"throw",t);}c(void 0);}))},function(t,e,r){return l.apply(this,arguments)})}],r&&c(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),v}(r(995).DataPlugin);},484:(t,e,r)=>{function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function o(){o=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,i=Object.defineProperty||function(t,e,r){t[e]=r.value;},a="function"==typeof Symbol?Symbol:{},c=a.iterator||"@@iterator",u=a.asyncIterator||"@@asyncIterator",f=a.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"");}catch(t){s=function(t,e,r){return t[e]=r};}function l(t,e,r,n){var o=e&&e.prototype instanceof y?e:y,a=Object.create(o.prototype),c=new P(n||[]);return i(a,"_invoke",{value:x(t,r,c)}),a}function p(t,e,r){try{return {type:"normal",arg:t.call(e,r)}}catch(t){return {type:"throw",arg:t}}}t.wrap=l;var h={};function y(){}function v(){}function d(){}var g={};s(g,c,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(k([])));b&&b!==e&&r.call(b,c)&&(g=b);var w=d.prototype=y.prototype=Object.create(g);function E(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}));}));}function O(t,e){function o(i,a,c,u){var f=p(t[i],t,a);if("throw"!==f.type){var s=f.arg,l=s.value;return l&&"object"==n(l)&&r.call(l,"__await")?e.resolve(l.__await).then((function(t){o("next",t,c,u);}),(function(t){o("throw",t,c,u);})):e.resolve(l).then((function(t){s.value=t,c(s);}),(function(t){return o("throw",t,c,u)}))}u(f.arg);}var a;i(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n);}))}return a=a?a.then(n,n):n()}});}function x(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return {value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=_(a,r);if(c){if(c===h)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg);}else "return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=p(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===h)continue;return {value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg);}}}function _(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,_(t,e),"throw"===e.method))return h;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method");}return h}var n=p(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,h;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,h):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,h)}function L(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e);}function j(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e;}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(L,this),this.reset(!0);}function k(t){if(t){var e=t[c];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return {next:S}}function S(){return {value:void 0,done:!0}}return v.prototype=d,i(w,"constructor",{value:d,configurable:!0}),i(d,"constructor",{value:v,configurable:!0}),v.displayName=s(d,f,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return !!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,s(t,f,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return {__await:t}},E(O.prototype),s(O.prototype,u,(function(){return this})),t.AsyncIterator=O,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new O(l(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},E(w),s(w,f,"Generator"),s(w,c,(function(){return this})),s(w,"toString",(function(){return "[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=k,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0);},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else {if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return "break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),j(r),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;j(r);}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:k(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),h}},t}function i(t,e,r,n,o,i,a){try{var c=t[i](a),u=c.value;}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o);}function a(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function c(t){i(a,n,o,c,u,"next",t);}function u(t){i(a,n,o,c,u,"throw",t);}c(void 0);}))}}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n);}}function f(t,e){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},f(t,e)}function s(t,e){if(e&&("object"===n(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function l(t){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},l(t)}r.r(e),r.d(e,{default:()=>p});var p=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&f(t,e);}(v,t);var e,r,n,i,p,h,y=(p=v,h=function(){if("undefined"==typeof Reflect||!Reflect.construct)return !1;if(Reflect.construct.sham)return !1;if("function"==typeof Proxy)return !0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return !1}}(),function(){var t,e=l(p);if(h){var r=l(this).constructor;t=Reflect.construct(e,arguments,r);}else t=e.apply(this,arguments);return s(this,t)});function v(){return c(this,v),y.apply(this,arguments)}return e=v,r=[{key:"load",value:(i=a(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.config.tagId&&(this._elem=document.getElementById(this.config.tagId));case 1:case"end":return t.stop()}}),t,this)}))),function(){return i.apply(this,arguments)})},{key:"write",value:(n=a(o().mark((function t(e,r,n){var i;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i=r.id,this._elem&&(this._elem.innerHTML+="<br/>"+i+" "+n.event);case 2:case"end":return t.stop()}}),t,this)}))),function(t,e,r){return n.apply(this,arguments)})}],r&&u(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),v}(r(995).DataPlugin);},685:(t,e,r)=>{r.r(e),r.d(e,{default:()=>d});var n=r(995);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function a(){a=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value;},i="function"==typeof Symbol?Symbol:{},c=i.iterator||"@@iterator",u=i.asyncIterator||"@@asyncIterator",f=i.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"");}catch(t){s=function(t,e,r){return t[e]=r};}function l(t,e,r,o){var i=e&&e.prototype instanceof y?e:y,a=Object.create(i.prototype),c=new P(o||[]);return n(a,"_invoke",{value:x(t,r,c)}),a}function p(t,e,r){try{return {type:"normal",arg:t.call(e,r)}}catch(t){return {type:"throw",arg:t}}}t.wrap=l;var h={};function y(){}function v(){}function d(){}var g={};s(g,c,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(k([])));b&&b!==e&&r.call(b,c)&&(g=b);var w=d.prototype=y.prototype=Object.create(g);function E(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}));}));}function O(t,e){function i(n,a,c,u){var f=p(t[n],t,a);if("throw"!==f.type){var s=f.arg,l=s.value;return l&&"object"==o(l)&&r.call(l,"__await")?e.resolve(l.__await).then((function(t){i("next",t,c,u);}),(function(t){i("throw",t,c,u);})):e.resolve(l).then((function(t){s.value=t,c(s);}),(function(t){return i("throw",t,c,u)}))}u(f.arg);}var a;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){i(t,r,e,n);}))}return a=a?a.then(n,n):n()}});}function x(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return {value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=_(a,r);if(c){if(c===h)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg);}else "return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=p(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===h)continue;return {value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg);}}}function _(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,_(t,e),"throw"===e.method))return h;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method");}return h}var n=p(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,h;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,h):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,h)}function L(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e);}function j(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e;}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(L,this),this.reset(!0);}function k(t){if(t){var e=t[c];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return {next:S}}function S(){return {value:void 0,done:!0}}return v.prototype=d,n(w,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:v,configurable:!0}),v.displayName=s(d,f,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return !!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,s(t,f,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return {__await:t}},E(O.prototype),s(O.prototype,u,(function(){return this})),t.AsyncIterator=O,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new O(l(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},E(w),s(w,f,"Generator"),s(w,c,(function(){return this})),s(w,"toString",(function(){return "[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=k,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0);},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else {if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return "break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),j(r),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;j(r);}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:k(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),h}},t}function c(t,e,r,n,o,i,a){try{var c=t[i](a),u=c.value;}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o);}function u(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){c(i,n,o,a,u,"next",t);}function u(t){c(i,n,o,a,u,"throw",t);}a(void 0);}))}}function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n);}}function l(){return l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=p(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},l.apply(this,arguments)}function p(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=v(t)););return t}function h(t,e){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},h(t,e)}function y(t,e){if(e&&("object"===o(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function v(t){return v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},v(t)}var d=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&h(t,e);}(O,t);var e,r,o,c,p,d,g,m,b,w,E=(b=O,w=function(){if("undefined"==typeof Reflect||!Reflect.construct)return !1;if(Reflect.construct.sham)return !1;if("function"==typeof Proxy)return !0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return !1}}(),function(){var t,e=v(b);if(w){var r=v(this).constructor;t=Reflect.construct(e,arguments,r);}else t=e.apply(this,arguments);return y(this,t)});function O(){return f(this,O),E.apply(this,arguments)}return e=O,r=[{key:"isEnabled",value:(m=u(a().mark((function t(){var e;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l(v(O.prototype),"isEnabled",this).call(this);case 2:if(t.sent){t.next=6;break}return t.abrupt("return",!1);case 6:if(this.matomoGlobalLoaded=null!==(e=this.config.matomoGlobalLoaded)&&void 0!==e&&e,this.server=this.config.server,this.siteId=this.config.siteId,this.events=this.config.events,this.matomoGlobalLoaded||this.server&&this.siteId){t.next=13;break}return this.player.log.warn("Matomo plugin: Plugin is enabled, but is not configured correctly. Please configue `matomoGlobalLoaded`, `server`and `siteId` parameters."),t.abrupt("return",!1);case 13:return t.abrupt("return",!0);case 14:case"end":return t.stop()}}),t,this)}))),function(){return m.apply(this,arguments)})},{key:"getCurrentUserId",value:(g=u(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",null);case 1:case"end":return t.stop()}}),t)}))),function(){return g.apply(this,arguments)})},{key:"trackCustomDimensions",value:(d=u(a().mark((function t(){var e,r,n,o=this;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getTemplateVars();case 2:r=t.sent,n=null!==(e=this.config.customDimensions)&&void 0!==e?e:{};try{Object.entries(n).forEach((function(t){var e,n,a=(n=2,function(t){if(Array.isArray(t))return t}(e=t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i=[],a=!0,c=!1;try{for(r=r.call(t);!(a=(n=r.next()).done)&&(i.push(n.value),!e||i.length!==e);a=!0);}catch(t){c=!0,o=t;}finally{try{a||null==r.return||r.return();}finally{if(c)throw o}}return i}}(e,n)||function(t,e){if(t){if("string"==typeof t)return i(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return "Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?i(t,e):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),c=a[0],u=a[1],f=o.applyTemplate(u,r);_paq.push(["setCustomDimension",c,f]),o.player.log.debug("Matomo plugin: setting custom dimension id=".concat(c," to '").concat(f,"'"));}));}catch(t){}case 5:case"end":return t.stop()}}),t,this)}))),function(){return d.apply(this,arguments)})},{key:"getTemplateVars",value:(p=u(a().mark((function t(e){var r;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.getEventData(e),t.abrupt("return",{videoId:this.player._videoId,metadata:this.player.videoManifest.metadata,event:(null==e?void 0:e.event)||"",eventData:r});case 2:case"end":return t.stop()}}),t,this)}))),function(t){return p.apply(this,arguments)})},{key:"getEventData",value:function(t){switch(null==t?void 0:t.event){case n.Events.SEEK:return Math.round(t.params.newTime);case n.Events.VOLUME_CHANGED:return 100*t.params.volume;case n.Events.BUTTON_PRESS:case n.Events.SHOW_POPUP:case n.Events.HIDE_POPUP:return t.params.plugin.name;case n.Events.RESIZE_END:return "".concat(t.params.size.w,"x").concat(t.params.size.h);case n.Events.LAYOUT_CHANGED:return t.params.layoutId;case n.Events.PLAYBACK_RATE_CHANGED:return t.params.newPlaybackRate;case n.Events.CAPTIONS_ENABLED:return t.params.language}return ""}},{key:"load",value:(c=u(a().mark((function t(){var e,r,o,i,c,u=this;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.config.heartBeatTime||15,(r=window._paq=window._paq||[]).push(["requireCookieConsent"]),(0, n.bindEvent)(this.player,n.Events.COOKIE_CONSENT_CHANGED,(function(){u.player.log.debug("Matomo: Cookie consent changed."),u.player.cookieConsent.getConsentForType(u.config.cookieType)?r.push(["rememberCookieConsentGiven"]):r.push(["forgetCookieConsentGiven"]);})),!this.matomoGlobalLoaded){t.next=11;break}r=window._paq=window._paq||[],this.player.log.debug("Assuming Matomo analytics is initialized globaly."),server&&this.player.log.warn("Matomo plugin: `server` parameter is defined, but never used because Matomo is loaded globaly in the page. Is it an error? Please check it."),siteId&&this.player.log.warn("Matomo plugin: `siteId` parameter is defined, but never used because Matomo is loaded globaly in the page. Is it an error? Please check it."),t.next=22;break;case 11:return o=this.server,i=this.siteId,this.player.log.debug("Matomo analytics plugin enabled."),this.trackCustomDimensions(),t.next=17,this.getCurrentUserId();case 17:(c=t.sent)&&r.push(["setUserId",c]),r.push(["trackPageView"]),r.push(["enableLinkTracking"]),function(){var t=o;r.push(["setTrackerUrl",t+"matomo.php"]),r.push(["setSiteId",i]);var e=document,n=e.createElement("script"),a=e.getElementsByTagName("script")[0];n.type="text/javascript",n.async=!0,n.src=t+"matomo.js",a.parentNode.insertBefore(n,a);}();case 22:r.push(["enableHeartBeatTimer",e]),this.trackCustomDimensions(),(0, n.bindEvent)(this.player,n.Events.STREAM_LOADED,(function(){r.push(["MediaAnalytics::scanForMedia"]);}));case 25:case"end":return t.stop()}}),t,this)}))),function(){return c.apply(this,arguments)})},{key:"applyTemplate",value:function(t,e){return t.replace(/\${[^{]*}/g,(function(t){return t.substring(2,t.length-1).split(".").reduce((function(t,e){return t[e]}),e)}))}},{key:"write",value:(o=u(a().mark((function t(e,r,n){var o,i,c,u,f,s,l;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r.id,!this.events){t.next=13;break}return o=this.events.category||"PaellaPlayer",i=this.events.action||"${event}",c=this.events.name||"${eventData}",t.next=7,this.getTemplateVars(n);case 7:u=t.sent,f=this.applyTemplate(o,u),s=this.applyTemplate(i,u),l=this.applyTemplate(c,u),_paq.push(["trackEvent",f,s,l]),this.player.log.debug("Matomo plugin: track event category='".concat(f,"', action='").concat(s,"', name='").concat(l,"'"));case 13:case"end":return t.stop()}}),t,this)}))),function(t,e,r){return o.apply(this,arguments)})}],r&&s(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),O}(n.DataPlugin);},11:(t,e,r)=>{r.r(e),r.d(e,{default:()=>p});var n=r(995);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function i(){i=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value;},a="function"==typeof Symbol?Symbol:{},c=a.iterator||"@@iterator",u=a.asyncIterator||"@@asyncIterator",f=a.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"");}catch(t){s=function(t,e,r){return t[e]=r};}function l(t,e,r,o){var i=e&&e.prototype instanceof y?e:y,a=Object.create(i.prototype),c=new P(o||[]);return n(a,"_invoke",{value:x(t,r,c)}),a}function p(t,e,r){try{return {type:"normal",arg:t.call(e,r)}}catch(t){return {type:"throw",arg:t}}}t.wrap=l;var h={};function y(){}function v(){}function d(){}var g={};s(g,c,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(k([])));b&&b!==e&&r.call(b,c)&&(g=b);var w=d.prototype=y.prototype=Object.create(g);function E(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}));}));}function O(t,e){function i(n,a,c,u){var f=p(t[n],t,a);if("throw"!==f.type){var s=f.arg,l=s.value;return l&&"object"==o(l)&&r.call(l,"__await")?e.resolve(l.__await).then((function(t){i("next",t,c,u);}),(function(t){i("throw",t,c,u);})):e.resolve(l).then((function(t){s.value=t,c(s);}),(function(t){return i("throw",t,c,u)}))}u(f.arg);}var a;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){i(t,r,e,n);}))}return a=a?a.then(n,n):n()}});}function x(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return {value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=_(a,r);if(c){if(c===h)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg);}else "return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=p(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===h)continue;return {value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg);}}}function _(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,_(t,e),"throw"===e.method))return h;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method");}return h}var n=p(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,h;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,h):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,h)}function L(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e);}function j(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e;}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(L,this),this.reset(!0);}function k(t){if(t){var e=t[c];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return {next:S}}function S(){return {value:void 0,done:!0}}return v.prototype=d,n(w,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:v,configurable:!0}),v.displayName=s(d,f,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return !!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,s(t,f,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return {__await:t}},E(O.prototype),s(O.prototype,u,(function(){return this})),t.AsyncIterator=O,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new O(l(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},E(w),s(w,f,"Generator"),s(w,c,(function(){return this})),s(w,"toString",(function(){return "[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=k,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0);},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else {if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return "break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),j(r),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;j(r);}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:k(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),h}},t}function a(t,e,r,n,o,i,a){try{var c=t[i](a),u=c.value;}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o);}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n);}}function f(t,e){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},f(t,e)}function s(t,e){if(e&&("object"===o(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function l(t){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},l(t)}var p=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&f(t,e);}(d,t);var e,r,o,p,h,y,v=(h=d,y=function(){if("undefined"==typeof Reflect||!Reflect.construct)return !1;if(Reflect.construct.sham)return !1;if("function"==typeof Proxy)return !0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return !1}}(),function(){var t,e=l(h);if(y){var r=l(this).constructor;t=Reflect.construct(e,arguments,r);}else t=e.apply(this,arguments);return s(this,t)});function d(){return c(this,d),v.apply(this,arguments)}return e=d,r=[{key:"events",get:function(){return this.config.events?this.config.events.map((function(t){return n.Events[t]})):[n.Events.PLAY,n.Events.PAUSE,n.Events.SEEK,n.Events.STOP,n.Events.ENDED,n.Events.FULLSCREEN_CHANGED,n.Events.VOLUME_CHANGED,n.Events.BUTTON_PRESS,n.Events.RESIZE_END]}},{key:"onEvent",value:(o=i().mark((function t(e,r){var o,a,c,u,f,s,l;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:switch(a=this.player.videoId,r.plugin&&(c=r.plugin,u=c.name,f=c.config,r.plugin={name:u,config:f}),s={event:e,params:r},e){case n.Events.SHOW_POPUP:case n.Events.HIDE_POPUP:case n.Events.BUTTON_PRESS:s.plugin=(null===(o=r.plugin)||void 0===o?void 0:o.name)||null;}return l=this.config.context||"userTracking",t.next=7,this.player.data.write(l,{id:a},s);case 7:case"end":return t.stop()}}),t,this)})),p=function(){var t=this,e=arguments;return new Promise((function(r,n){var i=o.apply(t,e);function c(t){a(i,r,n,c,u,"next",t);}function u(t){a(i,r,n,c,u,"throw",t);}c(void 0);}))},function(t,e){return p.apply(this,arguments)})}],r&&u(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),d}(n.EventLogPlugin);},757:(t,e,r)=>{var n={"./UserTrackingPlugins.js":263,"./es.upv.paella.analytics.userTrackingDataPlugin.js":561,"./es.upv.paella.debug.userTrackingDataPlugin.js":931,"./es.upv.paella.debugTag.userTrackingDataPlugin.js":484,"./es.upv.paella.matomo.userTrackingDataPlugin.js":685,"./es.upv.paella.userEventTracker.js":11};function o(t){var e=i(t);return r(e)}function i(t){if(!r.o(n,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return n[t]}o.keys=function(){return Object.keys(n)},o.resolve=i,t.exports=o,o.id=757;},995:e=>{e.exports=t;}},r={};function n(t){var o=r[t];if(void 0!==o)return o.exports;var i=r[t]={exports:{}};return e[t](i,i.exports,n),i.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]});},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0});};var o={};return (()=>{n.r(o),n.d(o,{DebugUserTrackingDataPlugin:()=>f,GoogleAnalyticsUserTrackingDataPlugin:()=>c,MatomoUserTrackingDataPlugin:()=>u,UserEventTrackerPlugin:()=>s,default:()=>a});var t=n(561),e=n(685),r=n(931),i=n(11);function a(){return n(757)}var c=t.default,u=e.default,f=r.default,s=i.default;})(),o})()));

    });

    var getUserTrackingPluginContext = /*@__PURE__*/getDefaultExportFromCjs(paellaUserTracking);

    var paellaLayoutPlugins = createCommonjsModule(function (module, exports) {
    !function(t,e){module.exports=e(paellaCore);}(self,(function(t){return (()=>{var e={911:(t,e,o)=>{o.r(e),o.d(e,{default:()=>s});var i=o(995);function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){for(var o=0;o<e.length;o++){var i=e[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i);}}function u(t,e){return u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},u(t,e)}function l(t,e){return !e||"object"!==n(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function c(t){return c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},c(t)}var s=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e);}(f,t);var e,o,i,n,s=(i=f,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return !1;if(Reflect.construct.sham)return !1;if("function"==typeof Proxy)return !0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return !1}}(),function(){var t,e=c(i);if(n){var o=c(this).constructor;t=Reflect.construct(e,arguments,o);}else t=e.apply(this,arguments);return l(this,t)});function f(){return r(this,f),s.apply(this,arguments)}return e=f,(o=[{key:"moduleName",get:function(){return "paella-layout-plugins"}},{key:"moduleVersion",get:function(){return "1.8.0"}}])&&a(e.prototype,o),f}(i.PluginModule);},533:(t,e,o)=>{o.r(e),o.d(e,{default:()=>x});var i=o(995),n=o(725),r=o.n(n),a=o(550),u=o.n(a),l=o(835),c=o.n(l);function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function f(t,e,o,i,n,r,a){try{var u=t[r](a),l=u.value;}catch(t){return void o(t)}u.done?e(l):Promise.resolve(l).then(i,n);}function p(t){return function(){var e=this,o=arguments;return new Promise((function(i,n){var r=t.apply(e,o);function a(t){f(r,i,n,a,u,"next",t);}function u(t){f(r,i,n,a,u,"throw",t);}a(void 0);}))}}function d(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h(t,e){for(var o=0;o<e.length;o++){var i=e[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i);}}function y(t,e,o){return y="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,o){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=m(t)););return t}(t,e);if(i){var n=Object.getOwnPropertyDescriptor(i,e);return n.get?n.get.call(o):n.value}},y(t,e,o||t)}function v(t,e){return v=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},v(t,e)}function g(t,e){return !e||"object"!==s(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function m(t){return m=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},m(t)}var b=i.utils.getCookie,w=i.utils.setCookieIfAllowed,C={sideBySide:{id:"sideBySide",videos:[{content:null,rect:[{aspectRatio:"16/9",width:614,height:345,top:187,left:17},{aspectRatio:"16/10",width:614,height:384,top:167,left:17},{aspectRatio:"4/3",width:614,height:460,top:130,left:17},{aspectRatio:"3/2",width:614,height:409,top:155,left:17},{aspectRatio:"5/4",width:614,height:491,top:114,left:17}],visible:!0,layer:1},{content:null,rect:[{aspectRatio:"16/9",width:614,height:345,top:187,left:649},{aspectRatio:"16/10",width:614,height:384,top:167,left:649},{aspectRatio:"4/3",width:614,height:460,top:130,left:649},{aspectRatio:"3/2",width:614,height:409,top:155,left:649},{aspectRatio:"5/4",width:614,height:491,top:114,left:649}],visible:!0,layer:"1"}],buttons:[]},leftMaximized:{id:"leftMaximized",videos:[{content:null,rect:[{aspectRatio:"5/4",left:35,top:8,width:847,height:699},{aspectRatio:"3/2",left:35,top:66,width:874,height:584},{aspectRatio:"4/3",left:35,top:32,width:874,height:656},{aspectRatio:"16/10",left:35,top:84,width:874,height:548},{aspectRatio:"16/9",left:35,top:112,width:874,height:493}],visible:!0,layer:1},{content:null,rect:[{aspectRatio:"5/4",left:947,top:352,width:316,height:253},{aspectRatio:"3/2",left:947,top:374,width:316,height:211},{aspectRatio:"4/3",left:947,top:360,width:316,height:237},{aspectRatio:"16/10",left:947,top:380,width:316,height:198},{aspectRatio:"16/9",left:947,top:390,width:316,height:178}],visible:!0,layer:2}],buttons:[]},rightMaximized:{id:"rightMaximized",videos:[{content:null,rect:[{aspectRatio:"5/4",left:35,top:352,width:316,height:253},{aspectRatio:"3/2",left:35,top:374,width:316,height:211},{aspectRatio:"4/3",left:35,top:360,width:316,height:237},{aspectRatio:"16/10",left:35,top:380,width:316,height:198},{aspectRatio:"16/9",left:35,top:390,width:316,height:178}],visible:!0,layer:1},{content:null,rect:[{aspectRatio:"5/4",left:359,top:8,width:847,height:699},{aspectRatio:"3/2",left:359,top:66,width:874,height:584},{aspectRatio:"4/3",left:359,top:32,width:874,height:656},{aspectRatio:"16/10",left:359,top:84,width:874,height:548},{aspectRatio:"16/9",left:359,top:112,width:874,height:493}],visible:!0,layer:2}],buttons:[]}},R="sideBySide",x=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&v(t,e);}(x,t);var e,o,n,a,l,s,f=(l=x,s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return !1;if(Reflect.construct.sham)return !1;if("function"==typeof Proxy)return !0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return !1}}(),function(){var t,e=m(l);if(s){var o=m(this).constructor;t=Reflect.construct(e,arguments,o);}else t=e.apply(this,arguments);return g(this,t)});function x(){return d(this,x),f.apply(this,arguments)}return e=x,o=[{key:"identifier",get:function(){return "dual-video-ethz"}},{key:"load",value:(a=p(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.cookieType=this.config.cookieType||"preferences",""!==(e=b("dualVideoLayoutEthz"))&&-1!==Object.keys(C).indexOf(e)&&(R=e),this.player.log.debug("Dual video ETHZ layout loaded");case 4:case"end":return t.stop()}}),t,this)}))),function(){return a.apply(this,arguments)})},{key:"getValidStreams",value:function(t){return y(m(x.prototype),"getValidStreams",this).call(this,t).filter((function(t){return 2===t.length}))}},{key:"setSideBySide",value:function(){R="sideBySide",this.player.videoContainer.updateLayout();}},{key:"setLeftMaximized",value:function(){R="leftMaximized",this.player.videoContainer.updateLayout();}},{key:"setRightMaximized",value:function(){R="rightMaximized",this.player.videoContainer.updateLayout();}},{key:"closeVideo",value:function(t){var e=this.player.videoContainer.validContentIds.filter((function(t){return -1===t.indexOf("-")})).find((function(e){return e!=t}));this.player.videoContainer.setLayout(e);}},{key:"getVideoCanvasButtons",value:function(t,e,o,n){var a=this,l=function(){return {icon:a.player.getCustomPluginIcon(a.name,"iconMinimize")||r(),position:i.CanvasButtonPosition.RIGHT,title:a.player.translate("Minimize video"),ariaLabel:a.player.translate("Minimize video"),click:function(){e===a._currentContent[0]?a.setRightMaximized():a.setLeftMaximized();}}},s=function(){return {icon:a.player.getCustomPluginIcon(a.name,"iconMaximize")||u(),position:i.CanvasButtonPosition.RIGHT,title:a.player.translate("Maximize video"),ariaLabel:a.player.translate("Maximize video"),click:function(){a.setSideBySide();}}},f=function(){return {icon:a.player.getCustomPluginIcon(a.name,"iconClose")||c(),position:i.CanvasButtonPosition.RIGHT,title:a.player.translate("Close video"),ariaLabel:a.player.translate("Close video"),click:function(){a.closeVideo(e);}}};return "sideBySide"===t.id?[f(),l()]:"leftMaximized"===t.id?e===this._currentContent[0]?[f(),l()]:[f(),s()]:"rightMaximized"===t.id?e===this._currentContent[0]?[f(),s()]:[f(),l()]:void 0}},{key:"getLayoutStructure",value:function(t,e){if(!this._currentContent){var o=this.validContent.find((function(t){return t.id===e})),i=o.content;this._currentContent=i;}var n=function(t){var e=JSON.parse(JSON.stringify(C[R]));return e.videos[0].content=t[0],e.videos[1].content=t[1],e}(this._currentContent),r={id:n.id,player:this.player,name:{es:"Dos streams con posición dinámica"},hidden:!1,videos:n.videos,buttons:[]};return w(this.player,this.cookieType,"dualVideoLayoutEthz",R),r}},{key:"getDictionaries",value:(n=p(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",{es:{"Maximize video":"Maximizar vídeo","Minimize video":"Minimizar vídeo","Close video":"Cerrar vídeo"}});case 1:case"end":return t.stop()}}),t)}))),function(){return n.apply(this,arguments)})}],o&&h(e.prototype,o),x}(i.VideoLayout);},835:t=>{t.exports='<svg viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M0.292893 0.292893C0.683417 -0.0976311 1.31658 -0.0976311 1.70711 0.292893L7 5.58579L12.2929 0.292893C12.6834 -0.0976311 13.3166 -0.0976311 13.7071 0.292893C14.0976 0.683417 14.0976 1.31658 13.7071 1.70711L8.41421 7L13.7071 12.2929C14.0976 12.6834 14.0976 13.3166 13.7071 13.7071C13.3166 14.0976 12.6834 14.0976 12.2929 13.7071L7 8.41421L1.70711 13.7071C1.31658 14.0976 0.683417 14.0976 0.292893 13.7071C-0.0976311 13.3166 -0.0976311 12.6834 0.292893 12.2929L5.58579 7L0.292893 1.70711C-0.0976311 1.31658 -0.0976311 0.683417 0.292893 0.292893Z"></path></svg>';},550:t=>{t.exports='<svg viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M13 2C12.4477 2 12 1.55228 12 1C12 0.447715 12.4477 0 13 0H19C19.5523 0 20 0.447715 20 1V7C20 7.55228 19.5523 8 19 8C18.4477 8 18 7.55228 18 7V3.41421L12.7071 8.70711C12.3166 9.09763 11.6834 9.09763 11.2929 8.70711C10.9024 8.31658 10.9024 7.68342 11.2929 7.29289L16.5858 2H13ZM7.29289 11.2929C7.68342 10.9024 8.31658 10.9024 8.70711 11.2929C9.09763 11.6834 9.09763 12.3166 8.70711 12.7071L3.41421 18H7C7.55228 18 8 18.4477 8 19C8 19.5523 7.55228 20 7 20H1C0.447715 20 0 19.5523 0 19V13C0 12.4477 0.447715 12 1 12C1.55228 12 2 12.4477 2 13V16.5858L7.29289 11.2929Z"></path></svg>';},725:t=>{t.exports='<svg viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M18.2929 0.292893C18.6834 -0.0976311 19.3166 -0.0976311 19.7071 0.292893C20.0976 0.683417 20.0976 1.31658 19.7071 1.70711L14.4142 7H18C18.5523 7 19 7.44772 19 8C19 8.55228 18.5523 9 18 9H12C11.4477 9 11 8.55228 11 8V2C11 1.44772 11.4477 1 12 1C12.5523 1 13 1.44772 13 2V5.58579L18.2929 0.292893ZM1 12C1 11.4477 1.44772 11 2 11H8C8.55228 11 9 11.4477 9 12V18C9 18.5523 8.55228 19 8 19C7.44772 19 7 18.5523 7 18V14.4142L1.70711 19.7071C1.31658 20.0976 0.683417 20.0976 0.292893 19.7071C-0.0976311 19.3166 -0.0976311 18.6834 0.292893 18.2929L5.58579 13H2C1.44772 13 1 12.5523 1 12Z"></path></svg>';},757:(t,e,o)=>{var i={"./LayoutPluginsModule.js":911,"./es.upv.paella.dualVideoSideBySide.js":533};function n(t){var e=r(t);return o(e)}function r(t){if(!o.o(i,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return i[t]}n.keys=function(){return Object.keys(i)},n.resolve=r,t.exports=n,n.id=757;},995:e=>{e.exports=t;}},o={};function i(t){var n=o[t];if(void 0!==n)return n.exports;var r=o[t]={exports:{}};return e[t](r,r.exports,i),r.exports}i.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return i.d(e,{a:e}),e},i.d=(t,e)=>{for(var o in e)i.o(e,o)&&!i.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]});},i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),i.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0});};var n={};return (()=>{function t(){return i(757)}i.r(n),i.d(n,{default:()=>t,DualVideoSideBySideLayoutPlugin:()=>e});var e=i(533).default;})(),n})()}));

    });

    var getLayoutPluginContext = /*@__PURE__*/getDefaultExportFromCjs(paellaLayoutPlugins);

    var paellaWebglPlugins = createCommonjsModule(function (module, exports) {
    !function(t,e){module.exports=e(paellaCore);}(self,(t=>(()=>{var e={323:(t,e,n)=>{n.r(e),n.d(e,{default:()=>c});var r=n(995);function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r);}}function u(t,e){return u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},u(t,e)}function a(t,e){return !e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function h(t){return h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},h(t)}var c=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e);}(l,t);var e,n,r,i,c=(r=l,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return !1;if(Reflect.construct.sham)return !1;if("function"==typeof Proxy)return !0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return !1}}(),function(){var t,e=h(r);if(i){var n=h(this).constructor;t=Reflect.construct(e,arguments,n);}else t=e.apply(this,arguments);return a(this,t)});function l(){return o(this,l),c.apply(this,arguments)}return e=l,(n=[{key:"moduleName",get:function(){return "paella-webgl-plugins"}},{key:"moduleVersion",get:function(){return "1.25.2"}}])&&s(e.prototype,n),l}(r.PluginModule);},503:(t,e,n)=>{n.r(e),n.d(e,{Video360Canvas:()=>at,default:()=>ht});var r=n(995);function i(t){return function(t){if(Array.isArray(t))return o(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return o(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return "Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function s(t,e,n,r,i,o,s){try{var u=t[o](s),a=u.value;}catch(t){return void n(t)}u.done?e(a):Promise.resolve(a).then(r,i);}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r);}}var a=function(){function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.gl=e.getContext("webgl"),null===this.gl)throw new Error("This browser does not support WebGL")}var e,n,r,o;return e=t,n=[{key:"init",value:(r=regeneratorRuntime.mark((function t(){var e,n,r,o,s=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=s.length>0&&void 0!==s[0]?s[0]:{},n=e.clearColor,r=void 0===n?[0,0,0,1]:n,(o=this.gl).enable(o.DEPTH_TEST),o.clearColor.apply(o,i(r)),o.clear(o.COLOR_BUFFER_BIT|o.DEPTH_BUFFER_BIT);case 5:case"end":return t.stop()}}),t,this)})),o=function(){var t=this,e=arguments;return new Promise((function(n,i){var o=r.apply(t,e);function u(t){s(o,n,i,u,a,"next",t);}function a(t){s(o,n,i,u,a,"throw",t);}u(void 0);}))},function(){return o.apply(this,arguments)})}],n&&u(e.prototype,n),t}();function h(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r);}}var c=function(t,e,n){var r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),t.getShaderParameter(r,t.COMPILE_STATUS)||console.error("Error compiling shdaer: \n".concat(t.getShaderInfoLog(r))),r},l=function(){function t(e,n){var r=this,i=n.vertex,o=void 0===i?"\n\nattribute vec4 inVertexPos;\n\nvoid main() {\n    gl_Position = inVertexPos;\n}\n":i,s=n.fragment,u=void 0===s?"\nvoid main() {\n    gl_FragColor = vec4(1.0, 0.5, 1.0, 1.0);\n}\n":s,a=n.attribs,h=void 0===a?[]:a,l=n.uniforms,f=void 0===l?[]:l;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.gl=e;var y=c(e,e.VERTEX_SHADER,o),v=c(e,e.FRAGMENT_SHADER,u),p=e.createProgram();e.attachShader(p,y),e.attachShader(p,v),e.linkProgram(p),e.getProgramParameter(p,e.LINK_STATUS)||console.error("Unable to initialize shader program: ".concat(e.getProgramInfoLog(p))),e.deleteShader(y),e.deleteShader(v),this._shaderProgram=p,this.attribs={},h.forEach((function(t){r.attribs[t]=e.getAttribLocation(p,t),-1==r.attribs[t]&&console.warn("Attribute not found in shader: '".concat(t,"'"));})),this.uniforms={},f.forEach((function(t){r.uniforms[t]=e.getUniformLocation(p,t),null===r.uniforms[t]&&console.warn("Uniform not found in shader: ".concat(t));}));}var e,n;return e=t,(n=[{key:"useProgram",value:function(){this.gl.useProgram(this._shaderProgram);}},{key:"enablePositionArray",value:function(t,e){e.bindPositions(),this.enableArray(t,3);}},{key:"enableTexCoordArray",value:function(t,e){e.bindTexCoord(),this.enableArray(t,2);}},{key:"enableArray",value:function(t,e){var n=this.gl;n.enableVertexAttribArray(this.attribs[t]),n.vertexAttribPointer(this.attribs[t],e,n.FLOAT,!1,0,0);}},{key:"bindTexture",value:function(t,e){var n=this.gl;n.activeTexture(n.TEXTURE0),n.bindTexture(n.TEXTURE_2D,e),n.uniform1i(this.uniforms[t],0);}},{key:"bindFloat",value:function(t,e){this.gl.uniform1f(this.uniforms[t],e);}},{key:"bindMatrix4",value:function(t,e){this.gl.uniformMatrix4fv(this.uniforms[t],!1,e);}}])&&h(e.prototype,n),t}();function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r);}}function y(t,e){var n=t.createBuffer();return t.bindBuffer(t.ARRAY_BUFFER,n),t.bufferData(t.ARRAY_BUFFER,new Float32Array(e),t.STATIC_DRAW),n}var p=function(){function t(e,n,r,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.gl=e,this.positionArray=n,this.positionBuffer=y(e,n),this.texCoordArray=r,this.texCoordBuffer=y(e,r),this.indexArray=i,this.indexBuffer=function(t,e){var n=t.createBuffer();return t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,n),t.bufferData(t.ELEMENT_ARRAY_BUFFER,new Uint16Array(e),t.STATIC_DRAW),n}(e,i);}var e,n;return e=t,(n=[{key:"bindPositions",value:function(){this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.positionBuffer);}},{key:"bindTexCoord",value:function(){this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.texCoordBuffer);}},{key:"draw",value:function(){this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.indexBuffer),this.gl.drawElements(this.gl.TRIANGLES,this.indexArray.length,this.gl.UNSIGNED_SHORT,0);}}])&&f(e.prototype,n),t}();function w(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r);}}var g=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.gl=e,this.video=n,this.texture=e.createTexture(),e.bindTexture(e.TEXTURE_2D,this.texture);var r=new Uint8Array([0,0,255,255]);e.texImage2D(e.TEXTURE_2D,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,r),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR);}var e,n;return e=t,(n=[{key:"updateTexture",value:function(){var t=this.gl;t.bindTexture(t.TEXTURE_2D,this.texture),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,this.video);}}])&&w(e.prototype,n),t}();function d(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=t&&("undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"]);if(null!=n){var r,i,o=[],s=!0,u=!1;try{for(n=n.call(t);!(s=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);s=!0);}catch(t){u=!0,i=t;}finally{try{s||null==n.return||n.return();}finally{if(u)throw i}}return o}}(t,e)||function(t,e){if(t){if("string"==typeof t)return m(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return "Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var b=2*Math.PI,k=Math.PI/2;function E(t,e,n){return (n-t)/(e-t)}function x(t){for(var e,n,r,i,o=Math.PI/t,s=2*t,u=[],a=[],h=-Math.PI/2,c=0;c<=t;c++){for(var l=E(-k,k,-h),f=0,y=s+(c>0&&c<t?1:0),v=0;v<y;v++)u.push((i=void 0,n=(e=d([1,h,f],3))[0],r=e[1],i=-(i=e[2])+Math.PI/2,[n*Math.cos(r)*Math.cos(i),n*Math.sin(r),n*-Math.cos(r)*Math.sin(i)])),a.push([E(0,b,f),l]),f+=o;h+=o;}for(var p=[],w=0;w<u.length;w++)p.push([1,1,0]);for(var g=[],m=0,x=0;x<t;x++){for(var _=x>0?1:0,R=0;R<s;R++){var P=m+R,T=m+R+1,I=P+s+_,N=T+s+_;0===x&&g.push([P,N,I]),x===t-1&&g.push([P,T,I]),x>0&&x<t-1&&t>2&&(g.push([P,N,I]),g.push([P,T,N]));}m+=0===x?s:s+1;}return {positions:u.flat(),colors:p.flat(),triangles:g.flat(),uvs:a.flat(),normals:u.flat()}}var _=Float32Array,R=(function(t){return t>-1e-7&&t<1e-7?0:t}),P=function(t){return 0===R(t)},T=function(t,e){return Math.abs(t-e)<1e-7};function I(t){return I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},I(t)}function N(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function M(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r);}}function O(t,e){return O=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},O(t,e)}function z(t,e){return !e||"object"!==I(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function S(t){return S=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},S(t)}var A=function(t,e){if(t.length!=e.length)throw new Error("Invalid vector length in operation")},D=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&O(t,e);}(u,t);var e,n,r,i,o,s=(i=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return !1;if(Reflect.construct.sham)return !1;if("function"==typeof Proxy)return !0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return !1}}(),function(){var t,e=S(i);if(o){var n=S(this).constructor;t=Reflect.construct(e,arguments,n);}else t=e.apply(this,arguments);return z(this,t)});function u(){var t;switch(N(this,u),arguments.length){case 0:t=s.call(this,[0,0]);break;case 1:arguments[0].length>1&&arguments[0].length<5&&(t=s.call(this,arguments[0]));break;case 2:2===arguments[0].length&&"number"==typeof arguments[1]?t=s.call(this,[arguments[0][0],arguments[0][1],arguments[1]]):3===arguments[0].length&&"number"==typeof arguments[1]?t=s.call(this,[arguments[0][0],arguments[0][1],arguments[0][2],arguments[1]]):"number"==typeof arguments[0]&&"number"==typeof arguments[1]&&(t=s.call(this,[arguments[0],arguments[1]]));break;case 3:2===arguments[0].length&&"number"==typeof arguments[1]&&"number"==typeof arguments[2]?t=s.call(this,[arguments[0][0],arguments[0][1],arguments[1],arguments[2]]):"number"==typeof arguments[0]&&"number"==typeof arguments[1]&&"number"==typeof arguments[2]&&(t=s.call(this,[arguments[0],arguments[1],arguments[2]]));break;case 4:t=s.call(this,[arguments[0],arguments[1],arguments[2],arguments[3]]);break;default:throw new Error("Invalid parameters in Vec constructor")}return z(t)}return e=u,n=[{key:"normalize",value:function(){var t=u.Magnitude(this);switch(this.length){case 4:this[3]=this[3]/t;case 3:this[2]=this[2]/t;case 2:this[1]=this[1]/t,this[0]=this[0]/t;break;default:throw new Error("Invalid vector size: ".concat(this.length))}return this}},{key:"assign",value:function(t){switch(A(this,t),this.length){case 4:this[3]=t[3];case 3:this[2]=t[2];case 2:this[1]=t[1],this[0]=t[0];break;default:throw new Error("Invalid vector size: ".concat(this.length))}}},{key:"set",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(2===this.length)this[0]=t,this[1]=e;else if(3===this.length&&null!==n)this[0]=t,this[1]=e,this[2]=n;else {if(4!==this.length||null===r)throw new Error("Invalid vector size: ".concat(this.length,". Trying to set x=").concat(t,", y=").concat(e,", z=").concat(n,", w=").concat(r));this[0]=t,this[1]=e,this[2]=n,this[3]=r;}}},{key:"scale",value:function(t){switch(this.length){case 4:this[3]=this[3]*t;case 3:this[2]=this[2]*t;case 2:this[1]=this[1]*t,this[0]=this[0]*t;break;default:throw new Error("Invalid vector size: ".concat(v.length))}return this}},{key:"x",get:function(){return this[0]},set:function(t){return this[0]=t,this}},{key:"y",get:function(){return this[1]},set:function(t){return this[1]=t,this}},{key:"z",get:function(){return this[2]},set:function(t){return this[2]=t,this}},{key:"w",get:function(){return this[3]},set:function(t){return this[3]=t,this}},{key:"r",get:function(){return this[0]},set:function(t){return this[0]=t,this}},{key:"g",get:function(){return this[1]},set:function(t){return this[1]=t,this}},{key:"b",get:function(){return this[2]},set:function(t){return this[2]=t,this}},{key:"a",get:function(){return this[3]},set:function(t){return this[3]=t,this}},{key:"width",get:function(){switch(this.length){case 2:return this[0];case 4:return this[2];default:throw new Error("Vec.width function used on non size or viewport vectors (two or four elements)")}},set:function(t){return this[0]=t,this}},{key:"height",get:function(){switch(this.length){case 2:return this[1];case 4:return this[3];default:throw new Error("Vec.width function used on non size or viewport vectors (two or four elements)")}},set:function(t){return this[1]=t,this}},{key:"xy",get:function(){switch(this.length){case 2:return new u(this);case 3:case 4:return new u(this[0],this[1]);default:throw new Error("Invalid vector size: ".concat(this.length))}},set:function(t){return this[0]=t[0],this[1]=t[1],this}},{key:"xz",get:function(){switch(this.length){case 3:case 4:return new u(this[0],this[2]);default:throw new Error("Invalid vector size: ".concat(this.length))}},set:function(t){if(this.length<3)throw new Error("Invalid vector size");return this[0]=t[0],this[2]=t[1],this}},{key:"yz",get:function(){switch(this.length){case 3:case 4:return new u(this[1],this[2]);default:throw new Error("Invalid vector size: ".concat(this.length))}},set:function(t){if(this.length<3)throw new Error("Invalid vector size");return this[1]=t[0],this[2]=t[1],this}},{key:"xyz",get:function(){if(this.length<3)throw new Error("Invalid vector size: ".concat(this.length));return new u(this[0],this[1],this[2])},set:function(t){if(t.length<3||this.length<3)throw new Error("Invalid vector size to set: l;".concat(this.length,", r:").concat(t.length));return this[0]=t[0],this[1]=t[1],this[2]=t[2],this}},{key:"xyzw",get:function(){if(this.length<4)throw new Error("Invalid vector size: ".concat(this.length,", 4 required"));return new u(this[0],this[1],this[2],this[3])},set:function(t){if(this.length<4||t.length<4)throw new Error("Invalid vector size to set: l;".concat(this.length,", r:").concat(t.length));return this[0]=t[0],this[1]=t[1],this[2]=t[2],this[3]=t[3],this}},{key:"rgb",get:function(){if(this.length<3)throw new Error("Invalid vector size: ".concat(this.length,", but at least 3 required"));return new u(this[0],this[1],this[2])},set:function(t){if(t.length<3||this.length<3)throw new Error("Invalid vector size to set: l;".concat(this.length,", r:").concat(t.length));return this[0]=t[0],this[1]=t[1],this[2]=t[2],this}},{key:"rg",get:function(){if(v.length<3||this.length<3)throw new Error("Invalid vector size to set: l;".concat(this.length,", r:").concat(v.length));return new u(this[0],this[1])}},{key:"gb",get:function(){if(v.length<3||this.length<3)throw new Error("Invalid vector size to set: l;".concat(this.length,", r:").concat(v.length));return new u(this[1],this[2])}},{key:"rb",get:function(){if(v.length<3||this.length<3)throw new Error("Invalid vector size to set: l;".concat(this.length,", r:").concat(v.length));return new u(this[0],this[2])}},{key:"hexColor",get:function(){var t=Math.round(255*this.r),e=Math.round(255*this.g),n=Math.round(255*this.b),r=function(t){return t.toString(16).toUpperCase()};return "#".concat(r(t)).concat(r(e)).concat(r(n))}},{key:"cssColor",get:function(){}},{key:"aspectRatio",get:function(){return this.width/this.height}},{key:"toString",value:function(){switch(this.length){case 2:return "[".concat(this[0],", ").concat(this[1],"]");case 3:return "[".concat(this[0],", ").concat(this[1],", ").concat(this[2],"]");case 4:return "[".concat(this[0],", ").concat(this[1],", ").concat(this[2],", ").concat(this[5],"]")}}}],r=[{key:"CheckEqualLength",value:function(t,e){A(t,e);}},{key:"Max",value:function(t,e){switch(A(t,e),t.length){case 2:return new u([t[0]>e[0]?t[0]:e[0],t[1]>e[1]?t[1]:e[1]]);case 3:return new u([t[0]>e[0]?t[0]:e[0],t[1]>e[1]?t[1]:e[1],t[2]>e[2]?t[2]:e[2]]);case 4:return new u([t[0]>e[0]?t[0]:e[0],t[1]>e[1]?t[1]:e[1],t[2]>e[2]?t[2]:e[2],t[3]>e[3]?t[3]:e[3]]);default:throw new Error("Invalid vector size: ".concat(t.length))}}},{key:"Min",value:function(t,e){switch(A(t,e),t.length){case 2:return new u([t[0]<e[0]?t[0]:e[0],t[1]<e[1]?t[1]:e[1]]);case 3:return new u([t[0]<e[0]?t[0]:e[0],t[1]<e[1]?t[1]:e[1],t[2]<e[2]?t[2]:e[2]]);case 4:return new u([t[0]<e[0]?t[0]:e[0],t[1]<e[1]?t[1]:e[1],t[2]<e[2]?t[2]:e[2],t[3]<e[3]?t[3]:e[3]]);default:throw new Error("Invalid vector size: ".concat(t.length))}}},{key:"Add",value:function(t,e){switch(A(t,e),t.length){case 2:return new u([t[0]+e[0],t[1]+e[1]]);case 3:return new u([t[0]+e[0],t[1]+e[1],t[2]+e[2]]);case 4:return new u([t[0]+e[0],t[1]+e[1],t[2]+e[2],t[3]+e[3]]);default:throw new Error("Invalid vector size: ".concat(t.length))}}},{key:"Sub",value:function(t,e){switch(A(t,e),t.length){case 2:return new u([t[0]-e[0],t[1]-e[1]]);case 3:return new u([t[0]-e[0],t[1]-e[1],t[2]-e[2]]);case 4:return new u([t[0]-e[0],t[1]-e[1],t[2]-e[2],t[3]-e[3]]);default:throw new Error("Invalid vector size: ".concat(t.length))}}},{key:"Magnitude",value:function(t){switch(t.length){case 2:return Math.sqrt(t[0]*t[0]+t[1]*t[1]);case 3:return Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);case 4:return Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]+t[3]*t[3]);default:throw new Error("Invalid vector size: ".concat(t.length))}}},{key:"Distance",value:function(t,e){return A(t,e),u.Magnitude(u.Sub(t,e))}},{key:"Dot",value:function(t,e){switch(A(t,e),t.length){case 2:return t[0]*e[0]+t[1]*e[1];case 3:return t[0]*e[0]+t[1]*e[1]+t[2]*e[2];case 4:return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3];default:throw new Error("Invalid vector size: ".concat(t.length))}}},{key:"Cross",value:function(t,e){switch(A(t,e),t.length){case 2:return t[0]*e[1]-t[1]-e[0];case 3:return new u([t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]);default:throw new Error("Invalid vector size for cross product: ".concat(t.length))}}},{key:"Normalized",value:function(t){var e=u.Magnitude(t);switch(t.length){case 2:return new u([t[0]/e,t[1]/e]);case 3:return new u([t[0]/e,t[1]/e,t[2]/e]);case 4:return new u([t[0]/e,t[1]/e,t[2]/e,t[3]/e]);default:throw new Error("Invalid vector size: ".concat(t.length))}}},{key:"Mult",value:function(t,e){switch(t.length){case 2:return new u([t[0]*e,t[1]*e]);case 3:return new u([t[0]*e,t[1]*e,t[2]*e]);case 4:return new u([t[0]*e,t[1]*e,t[2]*e,t[3]*e]);default:throw new Error("Invalid vector size: ".concat(t.length))}}},{key:"Div",value:function(t,e){switch(t.length){case 2:return new u([t[0]/e,t[1]/e]);case 3:return new u([t[0]/e,t[1]/e,t[2]/e]);case 4:return new u([t[0]/e,t[1]/e,t[2]/e,t[3]/e]);default:throw new Error("Invalid vector size: ".concat(t.length))}}},{key:"Equals",value:function(t,e){if(t.length!=e.length)return !1;switch(t.length){case 2:return T(t[0],e[0])&&T(t[1],e[1]);case 3:return T(t[0],e[0])&&T(t[1],e[1])&&T(t[2],e[2]);case 4:return T(t[0],e[0])&&T(t[1],e[1])&&T(t[2],e[2])&&T(t[3],e[3]);default:throw new Error("Invalid vector size: ".concat(t.length))}}},{key:"IsZero",value:function(t){switch(t.length){case 2:return P(t[0])||P(t[1]);case 3:return P(t[0])||P(t[1])||P(t[2]);case 4:return P(t[0])||P(t[1])||P(t[2])||P(t[3]);default:throw new Error("Invalid vector size: ".concat(t.length))}}},{key:"IsNaN",value:function(t){switch(t.length){case 2:return isNaN(t[0])||isNaN(t[1]);case 3:return isNaN(t[0])||isNaN(t[1])||isNaN(t[2]);case 4:return isNaN(t[0])||isNaN(t[1])||isNaN(t[2])||isNaN(t[3]);default:throw new Error("Invalid vector size: ".concat(t.length))}}},{key:"Vec2",value:function(){return new u(0,0)}},{key:"Vec3",value:function(){return new u(0,0,0)}},{key:"Vec4",value:function(){return new u(0,0,0,0)}}],n&&M(e.prototype,n),r&&M(e,r),u}(_);function j(t){return j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},j(t)}function C(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function B(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r);}}function U(t,e){return U=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},U(t,e)}function V(t,e){return !e||"object"!==j(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function F(t){return F=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},F(t)}var L=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&U(t,e);}(u,t);var e,n,r,i,o,s=(i=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return !1;if(Reflect.construct.sham)return !1;if("function"==typeof Proxy)return !0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return !1}}(),function(){var t,e=F(i);if(o){var n=F(this).constructor;t=Reflect.construct(e,arguments,n);}else t=e.apply(this,arguments);return V(this,t)});function u(){var t;if(C(this,u),9===arguments.length)t=s.call(this,arguments);else if(1===arguments.length&&9===arguments[0].length)t=s.call(this,arguments[0]);else {if(0!==arguments.length)throw new Error("Invalid parameter size in Mat3 constructor");t=s.call(this,[0,0,0,0,0,0,0,0,0]);}return V(t)}return e=u,n=[{key:"identity",value:function(){return this[0]=1,this[1]=0,this[2]=0,this[3]=0,this[4]=1,this[5]=0,this[6]=0,this[7]=0,this[8]=1,this}},{key:"zero",value:function(){return this[0]=0,this[1]=0,this[2]=0,this[3]=0,this[4]=0,this[5]=0,this[6]=0,this[7]=0,this[8]=0,this}},{key:"row",value:function(t){return new D(this[3*t],this[3*t+1],this[3*t+2])}},{key:"setRow",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if((null==e?void 0:e.length)>=3)this[3*t]=e[0],this[3*t+1]=e[1],this[3*t+2]=e[2];else {if("number"!=typeof e||"number"!=typeof n||"number"!=typeof r)throw new Error("Invalid parameter setting matrix row");this[3*t]=e,this[3*t+1]=n,this[3*t+2]=r;}return this}},{key:"col",value:function(t){return new D(this[t],this[t+3],this[t+6])}},{key:"setCol",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if((null==e?void 0:e.length)>=3)this[t]=e[0],this[t+3]=e[1],this[t+6]=e[2];else {if("number"!=typeof e||"number"!=typeof n||"number"!=typeof r)throw new Error("Invalid parameter setting matrix row");this[t]=e,this[t+3]=n,this[t+6]=r;}return this}},{key:"assign",value:function(t){if(9===t.length)this[0]=t[0],this[1]=t[1],this[2]=t[2],this[3]=t[3],this[4]=t[4],this[5]=t[5],this[6]=t[6],this[7]=t[7],this[8]=t[8];else {if(16!==t.length)throw new Error("Invalid plarameter setting matrix data");this[0]=t[0],this[1]=t[1],this[2]=t[2],this[3]=t[4],this[4]=t[5],this[5]=t[6],this[6]=t[8],this[7]=t[9],this[8]=t[10];}return this}},{key:"setScale",value:function(t,e,n){var r=new D(this[0],this[3],this[6]).normalize().scale(t),i=new D(this[1],this[4],this[7]).normalize().scale(e),o=new D(this[2],this[5],this[8]).normalize().scale(n);return this[0]=r.x,this[3]=r.y,this[6]=r.z,this[1]=i.x,this[4]=i.y,this[7]=i.z,this[2]=o.x,this[5]=o.y,this[8]=o.z,this}},{key:"traspose",value:function(){var t=this[3],e=this[7],n=this[6];return this[3]=this[1],this[6]=this[2],this[7]=this[5],this[1]=t,this[2]=n,this[5]=e,this}},{key:"mult",value:function(t){if("number"==typeof t)this[0]*=t,this[1]*=t,this[2]*=t,this[3]*=t,this[4]*=t,this[5]*=t,this[6]*=t,this[7]*=t,this[8]*=t;else {if(!(t instanceof _&&9===t.length))throw new Error("Invalid parameter in Mat3.mult()");var e=this.row(0),n=this.row(1),r=this.row(2),i=t.col(0),o=t.col(1),s=t.col(2);this[0]=D.Dot(e,i),this[1]=D.Dot(e,o),this[2]=D.Dot(e,s),this[3]=D.Dot(n,i),this[4]=D.Dot(n,o),this[5]=D.Dot(n,s),this[6]=D.Dot(r,i),this[7]=D.Dot(r,o),this[8]=D.Dot(r,s);}return this}},{key:"multVector",value:function(t){if(2===t.length||3===t.length){var e=t[0],n=t[1],r=2===t.length?1:t[2];return new D(this[0]*e+this[3]*n+this[6]*r,this[1]*e+this[4]*n+this[7]*r,this[2]*e+this[5]*n+this[8]*r)}throw new Error("Invalid parameter in Mat3.multVector()")}},{key:"toString",value:function(){return "[ ".concat(this[0],", ").concat(this[1],", ").concat(this[2],"\n")+"  ".concat(this[3],", ").concat(this[4],", ").concat(this[5],"\n")+"  ".concat(this[6],", ").concat(this[7],", ").concat(this[8]," ]")}}],r=[{key:"MakeIdentity",value:function(){return (new u).identity()}},{key:"MakeZero",value:function(){return (new u).zero()}},{key:"MakeWithQuaternion",value:function(t){var e=u.MakeIdentity();return e.setRow(0,new D(1-2*t[1]*t[1]-2*t[2]*t[2],2*t[0]*t[1]-2*t[2]*t[3],2*t[0]*t[2]+2*t[1]*t[3])),e.setRow(1,new D(2*t[0]*t[1]+2*t[2]*t[3],1-2*t[0]*t[0]-2*t[2]*t[2],2*t[1]*t[2]-2*t[0]*t[3])),e.setRow(2,new D(2*t[0]*t[2]-2*t[1]*t[3],2*t[1]*t[2]+2*t[0]*t[3],1-2*t[0]*t[0]-2*t[1]*t[1])),e}},{key:"IsZero",value:function(t){return P(v[0])&&P(v[1])&&P(v[2])&&P(v[3])&&P(v[4])&&P(v[5])&&P(v[6])&&P(v[7])&&P(v[8])}},{key:"IsIdentity",value:function(t){return T(v[0],1)&&P(v[1])&&P(v[2])&&P(v[3])&&T(v[4],1)&&P(v[5])&&P(v[6])&&P(v[7])&&T(v[8],1)}},{key:"GetScale",value:function(t){return new D(D.Magnitude(new D(t[0],t[3],t[6])),D.Magnitude(new D(t[1],t[4],t[7])),D.Magnitude(new D(t[2],t[5],t[8])))}},{key:"Equals",value:function(t,e){return T(t[0],e[0])&&T(t[1],e[1])&&T(t[2],e[2])&&T(t[3],e[3])&&T(t[4],e[4])&&T(t[5],e[5])&&T(t[6],e[6])&&T(t[7],e[7])&&T(t[8],e[8])}},{key:"IsNaN",value:function(t){return isNaN(t[0])||isNaN(t[1])||isNaN(t[2])&&isNaN(t[3])||isNaN(t[4])||isNaN(t[5])&&isNaN(t[6])||isNaN(t[7])||isNaN(t[8])}}],n&&B(e.prototype,n),r&&B(e,r),u}(_);function G(t){return G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},G(t)}function Z(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function X(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r);}}function Y(t,e){return Y=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Y(t,e)}function q(t,e){return !e||"object"!==G(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function W(t){return W=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},W(t)}var H=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Y(t,e);}(u,t);var e,n,r,i,o,s=(i=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return !1;if(Reflect.construct.sham)return !1;if("function"==typeof Proxy)return !0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return !1}}(),function(){var t,e=W(i);if(o){var n=W(this).constructor;t=Reflect.construct(e,arguments,n);}else t=e.apply(this,arguments);return q(this,t)});function u(){Z(this,u);var t=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];if(9===arguments.length)t[0]=arguments[0],t[1]=arguments[1],t[2]=arguments[2],t[4]=arguments[3],t[5]=arguments[4],t[6]=arguments[5],t[8]=arguments[6],t[9]=arguments[7],t[10]=arguments[8],t[15]=1;else if(1===arguments.length&&9===arguments[0].length)t[0]=arguments[0][0],t[1]=arguments[0][1],t[2]=arguments[0][2],t[4]=arguments[0][3],t[5]=arguments[0][4],t[6]=arguments[0][5],t[8]=arguments[0][6],t[9]=arguments[0][7],t[10]=arguments[0][8],t[15]=1;else if(16===arguments.length)t[0]=arguments[0],t[1]=arguments[1],t[2]=arguments[2],t[3]=arguments[3],t[4]=arguments[4],t[5]=arguments[5],t[6]=arguments[6],t[7]=arguments[7],t[8]=arguments[8],t[9]=arguments[9],t[10]=arguments[10],t[11]=arguments[11],t[12]=arguments[12],t[13]=arguments[13],t[14]=arguments[14],t[15]=arguments[15];else if(1===arguments.length&&16===arguments[0].length)t[0]=arguments[0][0],t[1]=arguments[0][1],t[2]=arguments[0][2],t[3]=arguments[0][3],t[4]=arguments[0][4],t[5]=arguments[0][5],t[6]=arguments[0][6],t[7]=arguments[0][7],t[8]=arguments[0][8],t[9]=arguments[0][9],t[10]=arguments[0][10],t[11]=arguments[0][11],t[12]=arguments[0][12],t[13]=arguments[0][13],t[14]=arguments[0][14],t[15]=arguments[0][15];else if(0!=arguments.length)throw new Error("Invalid parameter size in Matrix3 constructor");return s.call(this,t)}return e=u,n=[{key:"identity",value:function(){return this[0]=1,this[1]=0,this[2]=0,this[3]=0,this[4]=0,this[5]=1,this[6]=0,this[7]=0,this[8]=0,this[9]=0,this[10]=1,this[11]=0,this[12]=0,this[13]=0,this[14]=0,this[15]=1,this}},{key:"zero",value:function(){return this[0]=0,this[1]=0,this[2]=0,this[3]=0,this[4]=0,this[5]=0,this[6]=0,this[7]=0,this[8]=0,this[9]=0,this[10]=0,this[11]=0,this[12]=0,this[13]=0,this[14]=0,this[15]=0,this}},{key:"perspective",value:function(t,e,n,r){var i=Math.tan(3.141592653589793*t/360)*n,o=i*e;return this.frustum(-o,o,-i,i,n,r),this}},{key:"frustum",value:function(t,e,n,r,i,o){var s=e-t,u=r-n,a=o-i;return this.setRow(0,new D(2*i/s,0,0,0)),this.setRow(1,new D(0,2*i/u,0,0)),this.setRow(2,new D((e+t)/s,(r+n)/u,-(o+i)/a,-1)),this.setRow(3,new D(0,0,-o*i*2/a,0)),this}},{key:"ortho",value:function(t,e,n,r,i,o){var s=e-t,u=r-n,a=o-i;return this[0]=2/s,this[1]=0,this[2]=0,this[3]=0,this[4]=0,this[5]=2/u,this[6]=0,this[7]=0,this[8]=0,this[9]=0,this[10]=-2/a,this[11]=0,this[12]=-(t+e)/s,this[13]=-(r+n)/u,this[14]=-(o+i)/a,this[15]=1,this}},{key:"lookAt",value:function(t,e,n){this.identity();var r=new D(n),i=D.Sub(t,e);i.normalize();var o=D.Cross(r,i);return o.normalize(),r.normalize(),this.m00=o.x,this.m10=o.y,this.m20=o.z,this.m30=-D.Dot(o,t),this.m01=r.x,this.m11=r.y,this.m21=r.z,this.m31=-D.Dot(r,t),this.m02=i.x,this.m12=i.y,this.m22=i.z,this.m32=-D.Dot(i,t),this.m03=0,this.m13=0,this.m23=0,this.m33=1,this}},{key:"m00",get:function(){return this[0]},set:function(t){this[0]=t;}},{key:"m01",get:function(){return this[1]},set:function(t){this[1]=t;}},{key:"m02",get:function(){return this[2]},set:function(t){this[2]=t;}},{key:"m03",get:function(){return this[3]},set:function(t){this[3]=t;}},{key:"m10",get:function(){return this[4]},set:function(t){this[4]=t;}},{key:"m11",get:function(){return this[5]},set:function(t){this[5]=t;}},{key:"m12",get:function(){return this[6]},set:function(t){this[6]=t;}},{key:"m13",get:function(){return this[7]},set:function(t){this[7]=t;}},{key:"m20",get:function(){return this[8]},set:function(t){this[8]=t;}},{key:"m21",get:function(){return this[9]},set:function(t){this[9]=t;}},{key:"m22",get:function(){return this[10]},set:function(t){this[10]=t;}},{key:"m23",get:function(){return this[11]},set:function(t){this[11]=t;}},{key:"m30",get:function(){return this[12]},set:function(t){this[12]=t;}},{key:"m31",get:function(){return this[13]},set:function(t){this[13]=t;}},{key:"m32",get:function(){return this[14]},set:function(t){this[14]=t;}},{key:"m33",get:function(){return this[15]},set:function(t){this[15]=t;}},{key:"mat3",get:function(){return new L(this[0],this[1],this[2],this[4],this[5],this[6],this[8],this[9],this[10])}},{key:"forwardVector",get:function(){return u.TransformDirection(this,new D(0,0,1))}},{key:"rightVector",get:function(){return u.TransformDirection(this,new D(1,0,0))}},{key:"upVector",get:function(){return u.TransformDirection(this,new D(0,1,0))}},{key:"backwardVector",get:function(){return u.TransformDirection(this,new D(0,0,-1))}},{key:"leftVector",get:function(){return u.TransformDirection(this,new D(-1,0,0))}},{key:"downVector",get:function(){return u.TransformDirection(this,new D(0,-1,0))}},{key:"row",value:function(t){return new D(this[4*t],this[4*t+1],this[4*t+2],this[4*t+3])}},{key:"setRow",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;if(e.length>=4)this[4*t]=e[0],this[4*t+1]=e[1],this[4*t+2]=e[2],this[4*t+3]=e[3];else {if("number"!=typeof e||"number"!=typeof n||"number"!=typeof r||"number"!=typeof i)throw new Error("Invalid parameter setting matrix row");this[4*t]=e,this[4*t+1]=n,this[4*t+2]=r,this[4*t+3]=i;}return this}},{key:"col",value:function(t){return new D(this[t],this[t+4],this[t+8],this[t+12])}},{key:"setCol",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;if(e.length>=4)this[t]=e[0],this[t+4]=e[1],this[t+8]=e[2],this[t+12]=e[3];else {if("number"!=typeof e||"number"!=typeof n||"number"!=typeof r||"number"!=typeof i)throw new Error("Invalid parameter setting matrix row");this[t]=e,this[t+4]=n,this[t+8]=r,this[t+12]=i;}return this}},{key:"assign",value:function(t){return 9==t.length?(this[0]=t[0],this[1]=t[1],this[2]=t[2],this[3]=0,this[4]=t[3],this[5]=t[4],this[6]=t[5],this[7]=0,this[8]=t[6],this[9]=t[7],this[10]=t[8],this[11]=0,this[12]=0,this[13]=0,this[14]=0,this[15]=1):16==t.length&&(this[0]=t[0],this[1]=t[1],this[2]=t[2],this[3]=t[3],this[4]=t[4],this[5]=t[5],this[6]=t[6],this[7]=t[7],this[8]=t[8],this[9]=t[9],this[10]=t[10],this[11]=t[11],this[12]=t[12],this[13]=t[13],this[14]=t[14],this[15]=t[15]),this}},{key:"translate",value:function(t,e,n){return this.mult(u.MakeTranslation(t,e,n)),this}},{key:"rotate",value:function(t,e,n,r){return this.mult(u.MakeRotation(t,e,n,r)),this}},{key:"scale",value:function(t,e,n){return this.mult(u.MakeScale(t,e,n)),this}},{key:"toString",value:function(){return "[ ".concat(this[0],", ").concat(this[1],", ").concat(this[2],", ").concat(this[3],"\n")+"  ".concat(this[4],", ").concat(this[5],", ").concat(this[6],", ").concat(this[7],"\n")+"  ".concat(this[8],", ").concat(this[9],", ").concat(this[10],", ").concat(this[11],"\n")+"  ".concat(this[12],", ").concat(this[13],", ").concat(this[14],", ").concat(this[15]," ]")}},{key:"setScale",value:function(t,e,n){var r=new D(this[0],this[4],this[8]).normalize().scale(t),i=new D(this[1],this[5],this[9]).normalize().scale(e),o=new D(this[2],this[6],this[10]).normalize().scale(n);return this[0]=r.x,this[4]=r.y,this[8]=r.z,this[1]=i.x,this[5]=i.y,this[9]=i.z,this[2]=o.x,this[6]=o.y,this[10]=o.z,this}},{key:"setPosition",value:function(t,e,n){return "number"==typeof t?(this[12]=t,this[13]=e,this[14]=n):(this[12]=t.x,this[13]=t.y,this[14]=t.z),this}},{key:"mult",value:function(t){if("number"==typeof t)return this[0]*=t,this[1]*=t,this[2]*=t,this[3]*=t,this[4]*=t,this[5]*=t,this[6]*=t,this[7]*=t,this[8]*=t,this[9]*=t,this[10]*=t,this[11]*=t,this[12]*=t,this[13]*=t,this[14]*=t,this[15]*=t,this;var e=this.row(0),n=this.row(1),r=this.row(2),i=this.row(3),o=t.col(0),s=t.col(1),u=t.col(2),a=t.col(3);return this[0]=D.Dot(e,o),this[1]=D.Dot(e,s),this[2]=D.Dot(e,u),this[3]=D.Dot(e,a),this[4]=D.Dot(n,o),this[5]=D.Dot(n,s),this[6]=D.Dot(n,u),this[7]=D.Dot(n,a),this[8]=D.Dot(r,o),this[9]=D.Dot(r,s),this[10]=D.Dot(r,u),this[11]=D.Dot(r,a),this[12]=D.Dot(i,o),this[13]=D.Dot(i,s),this[14]=D.Dot(i,u),this[15]=D.Dot(i,a),this}},{key:"multVector",value:function(t){if(t.length<3)throw new Error("Invalid parameter multiplying Mat4 by vector");var e=t[0],n=t[1],r=t[2],i=t.length>3?t[3]:1;return new D(this[0]*e+this[4]*n+this[8]*r+this[12]*i,this[1]*e+this[5]*n+this[9]*r+this[13]*i,this[2]*e+this[6]*n+this[10]*r+this[14]*i,this[3]*e+this[7]*n+this[11]*r+this[15]*i)}},{key:"invert",value:function(){var t=this[0],e=this[1],n=this[2],r=this[3],i=this[4],o=this[5],s=this[6],u=this[7],a=this[8],h=this[9],c=this[10],l=this[11],f=this[12],y=this[13],v=this[14],p=this[15],w=t*o-e*i,g=t*s-n*i,d=t*u-r*i,m=e*s-n*o,b=e*u-r*o,k=n*u-r*s,E=a*y-h*f,x=a*v-c*f,_=a*p-l*f,R=h*v-c*y,P=h*p-l*y,T=c*p-l*v,I=w*T-g*P+d*R+m*_-b*x+k*E;return I?(I=1/I,this[0]=(o*T-s*P+u*R)*I,this[1]=(n*P-e*T-r*R)*I,this[2]=(y*k-v*b+p*m)*I,this[3]=(c*b-h*k-l*m)*I,this[4]=(s*_-i*T-u*x)*I,this[5]=(t*T-n*_+r*x)*I,this[6]=(v*d-f*k-p*g)*I,this[7]=(a*k-c*d+l*g)*I,this[8]=(i*P-o*_+u*E)*I,this[9]=(e*_-t*P-r*E)*I,this[10]=(f*b-y*d+p*w)*I,this[11]=(h*d-a*b-l*w)*I,this[12]=(o*x-i*R-s*E)*I,this[13]=(t*R-e*x+n*E)*I,this[14]=(y*g-f*m-v*w)*I,this[15]=(a*m-h*g+c*w)*I):this.zero(),this}},{key:"traspose",value:function(){var t=new D(this[0],this[4],this[8],this[12]),e=new D(this[1],this[5],this[9],this[13]),n=new D(this[2],this[6],this[10],this[14]),r=new D(this[3],this[7],this[11],this[15]);return this.setRow(0,t),this.setRow(1,e),this.setRow(2,n),this.setRow(3,r),this}}],r=[{key:"MakeIdentity",value:function(){return (new u).identity()}},{key:"MakeZero",value:function(){return (new u).zero()}},{key:"MakeWithQuaternion",value:function(t){var e=u.MakeIdentity();return e.setRow(0,new D(1-2*t[1]*t[1]-2*t[2]*t[2],2*t[0]*t[1]-2*t[2]*t[3],2*t[0]*t[2]+2*t[1]*t[3],0)),e.setRow(1,new D(2*t[0]*t[1]+2*t[2]*t[3],1-2*t[0]*t[0]-2*t[2]*t[2],2*t[1]*t[2]-2*t[0]*t[3],0)),e.setRow(2,new D(2*t[0]*t[2]-2*t[1]*t[3],2*t[1]*t[2]+2*t[0]*t[3],1-2*t[0]*t[0]-2*t[1]*t[1],0)),e}},{key:"MakeTranslation",value:function(t,e,n){return t instanceof _&&t.length>=3&&(e=t[1],n=t[2],t=t[0]),new u(1,0,0,0,0,1,0,0,0,0,1,0,t,e,n,1)}},{key:"MakeRotation",value:function(t,e,n,r){var i=new D(e,n,r);i.normalize();var o=Math.cos(t),s=1-o,a=Math.sin(t);return new u(i.x*i.x*s+o,i.x*i.y*s+i.z*a,i.x*i.z*s-i.y*a,0,i.y*i.x*s-i.z*a,i.y*i.y*s+o,i.y*i.z*s+i.x*a,0,i.z*i.x*s+i.y*a,i.z*i.y*s-i.x*a,i.z*i.z*s+o,0,0,0,0,1)}},{key:"MakeScale",value:function(t,e,n){return t instanceof _&&t.length>=3&&(e=t[1],n=t[2],t=t[0]),new u(t,0,0,0,0,e,0,0,0,0,n,0,0,0,0,1)}},{key:"MakePerspective",value:function(t,e,n,r){return (new u).perspective(t,e,n,r)}},{key:"MakeFrustum",value:function(t,e,n,r,i,o){return (new u).frustum(t,e,n,r,i,o)}},{key:"MakeOrtho",value:function(t,e,n,r,i,o){return (new u).ortho(t,e,n,r,i,o)}},{key:"MakeLookAt",value:function(t,e,n){return (new u).lookAt(t,e,n)}},{key:"Mult",value:function(t,e){return new u(t).mult(e)}},{key:"Unproject",value:function(t,e,n,r,i,o){var s=new u(i);s.mult(r),s.invert();var a=new D((t-o.y)/o.width*2-1,(e-o.x)/o.height*2-1,2*n-1,1),h=new Vec4(s.multVector(a));return 0==h.z?h.set(0):h.set(h.x/h.w,h.y/h.w,h.z/h.w,h.w/h.w),h}},{key:"GetScale",value:function(t){return new D(D.Magnitude([t[1],t[5],t[9]]),D.Magnitude([t[0],t[4],t[8]]),D.Magnitude([t[2],t[6],t[10]]))}},{key:"GetRotation",value:function(t){var e=u.GetScale(t);return new u(t[0]/e.x,t[1]/e.y,t[2]/e.z,0,t[4]/e.x,t[5]/e.y,t[6]/e.z,0,t[8]/e.x,t[9]/e.y,t[10]/e.z,0,0,0,0,1)}},{key:"GetPosition",value:function(t){return new D(t[12],t[13],t[14])}},{key:"GetInverted",value:function(t){var e=new u(t);return e.invert(),e}},{key:"GetNormalMatrix",value:function(t){return new u(t).invert().traspose().mat3}},{key:"Equals",value:function(t,e){return t[0]==e[0]&&t[1]==e[1]&&t[2]==e[2]&&t[3]==e[3]&&t[4]==e[4]&&t[5]==e[5]&&t[6]==e[6]&&t[7]==e[7]&&t[8]==e[8]&&t[9]==e[9]&&t[10]==e[10]&&t[11]==e[11]&&t[12]==e[12]&&t[13]==e[13]&&t[14]==e[14]&&t[15]==e[15]}},{key:"TransformDirection",value:function(t,e){var n=new D(e),r=new u(t);return r.setRow(3,new D(0,0,0,1)),n.assign(r.multVector(n).xyz),n.normalize(),n}},{key:"IsNan",value:function(){return isNaN(this[0])||isNaN(this[1])||isNaN(this[2])||isNaN(this[3])||isNaN(this[4])||isNaN(this[5])||isNaN(this[6])||isNaN(this[7])||isNaN(this[8])||isNaN(this[9])||isNaN(this[10])||isNaN(this[11])||isNaN(this[12])||isNaN(this[13])||isNaN(this[14])||isNaN(this[15])}},{key:"IsZero",value:function(t){return P(t[0])&&P(t[1])&&P(t[2])&&P(t[3])&&P(t[4])&&P(t[5])&&P(t[6])&&P(t[7])&&P(t[8])&&P(t[9])&&P(t[10])&&P(t[11])&&P(t[12])&&P(t[13])&&P(t[14])&&P(t[15])}},{key:"IsIdentity",value:function(t){return T(t[0],1)&&T(t[1],0)&&T(t[2],0)&&T(t[3],0)&&T(t[4],0)&&T(t[5],1)&&T(t[6],0)&&T(t[7],0)&&T(t[8],0)&&T(t[9],0)&&T(t[10],1)&&T(t[11],0)&&T(t[12],0)&&T(t[13],0)&&T(t[14],0)&&T(t[15],1)}}],n&&X(e.prototype,n),r&&X(e,r),u}(_);function Q(t){return Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Q(t)}function $(t,e,n){return $="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=st(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}},$(t,e,n||t)}function K(t,e,n,r,i,o,s){try{var u=t[o](s),a=u.value;}catch(t){return void n(t)}u.done?e(a):Promise.resolve(a).then(r,i);}function J(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r);}}function et(t,e,n){return e&&tt(t.prototype,e),n&&tt(t,n),t}function nt(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&rt(t,e);}function rt(t,e){return rt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},rt(t,e)}function it(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return !1;if(Reflect.construct.sham)return !1;if("function"==typeof Proxy)return !0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return !1}}();return function(){var n,r=st(t);if(e){var i=st(this).constructor;n=Reflect.construct(r,arguments,i);}else n=r.apply(this,arguments);return ot(this,n)}}function ot(t,e){return !e||"object"!==Q(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function st(t){return st=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},st(t)}var ut=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t.parentNode;n.removeChild(t),document.body.appendChild(t),t.style.position="fixed",t.style.width="100px",t.style.height="50px",t.style.top="0px",t.style.left="0px",e||(t.style.display="none");},at=function(t){nt(i,t);var e,n,r=it(i);function i(t,e,n){var o,s,u,a,h;J(this,i),(h=r.call(this,"canvas",t,e)).config=n,h.maxZoom=null!==(o=n.maxZoom)&&void 0!==o?o:3,h.minZoom=null!==(s=n.minZoom)&&void 0!==s?s:.3,h.speedX=null!==(u=n.speedX)&&void 0!==u?u:1,h.speedY=null!==(a=n.speedY)&&void 0!==a?a:1;var c=[0,0],l=!1;return h._pitch=0,h._yaw=0,h.element.addEventListener("mousedown",(function(t){l=!0,c=[t.clientX,t.clientY],t.stopPropagation();})),h.element.addEventListener("click",(function(t){t.stopPropagation();})),h.element.addEventListener("mouseup",(function(t){l=!1,t.stopPropagation();})),h.element.addEventListener("wheel",(function(t){h.currentZoom+=t.deltaY/1e3,h.currentZoom>h.maxZoom?h.currentZoom=h.maxZoom:h.currentZoom<h.minZoom&&(h.currentZoom=h.minZoom),t.stopPropagation(),t.preventDefault();})),h.element.addEventListener("mouseout",(function(t){l=!1,t.stopPropagation();})),h.element.addEventListener("mousemove",(function(t){if(l){var e=[t.clientX,t.clientY],n=[c[0]-e[0],c[1]-e[1]];c=e,h._yaw+=.004*n[0]*h.speedX,h._pitch+=.004*n[1]*h.speedY,h._yaw>2*Math.PI?h._yaw=h._yaw-2*Math.PI:h._yaw<0&&(h._yaw=2*Math.PI+h._yaw),h._pitch>Math.PI/2?h._pitch=Math.PI/2:h._pitch<=-Math.PI/2&&(h._pitch=-Math.PI/2);}t.stopPropagation();})),h}return et(i,[{key:"loadCanvas",value:(e=regeneratorRuntime.mark((function t(e){var n,r,i,o,s,u,h=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.currentZoom=1,this._videoPlayer=e,e.element.style.width="100%",e.element.style.height="100%",e.element.style.position="absolute",e.element.style.top="0",e.element.style.left="0",this.element.style.overflow="hidden",this.element.style.position="relative",this._videoPlayer=e,e.element.crossOrigin="",ut.apply(this,[e.element,!1]),this._webGLCanvas=new a(this.element),t.next=15,this._webGLCanvas.init({clearColor:[.2,.3,.8,1]});case 15:n=this._webGLCanvas.gl,r=new g(n,e.element),i=new l(n,{vertex:"\nprecision highp float;\nattribute vec3 inVertexPos;\nattribute vec2 inTexCoord;\n\nvarying vec2 fsTexCoord;\n\nuniform mat4 uView;\nuniform mat4 uProj;\n\nvoid main() {\n    gl_Position = uProj * uView * vec4(inVertexPos,1.0);\n    fsTexCoord = inTexCoord;\n}\n",fragment:"\nprecision highp float;\nuniform sampler2D uVideoTexture;\n\nvarying vec2 fsTexCoord;\n\nvoid main() {\n    gl_FragColor = texture2D(uVideoTexture,fsTexCoord);\n}\n",attribs:["inVertexPos","inTexCoord"],uniforms:["uView","uProj","uVideoTexture"]}),o=x(30),s=new p(n,o.positions,o.uvs,o.triangles),u=this.element,function t(){var e=u.clientWidth,o=u.clientHeight,a=45*h.currentZoom,c=e/o,l=H.MakePerspective(a,isNaN(c)?16/9:c,.01,10),f=H.MakeIdentity(),y=H.MakeRotation(h._yaw,0,1,0);y.rotate(h._pitch,1,0,0),r.updateTexture(),u.width=e,u.height=o,n.viewport(0,0,e,o),n.clear(n.COLOR_BUFFER_BIT),i.useProgram(),i.enablePositionArray("inVertexPos",s),i.enableTexCoordArray("inTexCoord",s),i.bindMatrix4("uView",H.Mult(y,f)),i.bindMatrix4("uProj",l),i.bindTexture("uVideoTexture",r.texture),s.draw(),requestAnimationFrame(t);}();case 23:case"end":return t.stop()}}),t,this)})),n=function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function s(t){K(o,r,i,s,u,"next",t);}function u(t){K(o,r,i,s,u,"throw",t);}s(void 0);}))},function(t){return n.apply(this,arguments)})}]),i}(r.Canvas),ht=function(t){nt(n,t);var e=it(n);function n(){return J(this,n),e.apply(this,arguments)}return et(n,[{key:"canvasType",get:function(){return "video360"}},{key:"isCompatible",value:function(t){var e,r=this;return !(null===(e=t.canvas)||void 0===e||!e.find((function(t){return t==r.canvasType})))||$(st(n.prototype),"isCompatible",this).call(this,t)}},{key:"getCanvasInstance",value:function(t){return new at(this.player,t,this.config)}}]),n}(r.CanvasPlugin);},757:(t,e,n)=>{var r={"./WebGLPluginModule.js":323,"./es.upv.paella.video360Canvas.js":503};function i(t){var e=o(t);return n(e)}function o(t){if(!n.o(r,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return r[t]}i.keys=function(){return Object.keys(r)},i.resolve=o,t.exports=i,i.id=757;},995:e=>{e.exports=t;}},n={};function r(t){var i=n[t];if(void 0!==i)return i.exports;var o=n[t]={exports:{}};return e[t](o,o.exports,r),o.exports}r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]});},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0});};var i={};return (()=>{function t(){return r(757)}r.r(i),r.d(i,{Video360CanvasPlugin:()=>e,default:()=>t});var e=r(503).default;})(),i})()));

    });

    var getWebGLPluginContext = /*@__PURE__*/getDefaultExportFromCjs(paellaWebglPlugins);

    var backwardIcon = "<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"no\"?>\r\n<!DOCTYPE svg PUBLIC \"-//W3C//DTD SVG 1.1//EN\" \"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd\">\r\n<svg width=\"100%\" height=\"100%\" viewBox=\"0 0 64 64\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" xml:space=\"preserve\" xmlns:serif=\"http://www.serif.com/\" style=\"fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;\">\r\n    <g id=\"Mesa-de-trabajo1\" serif:id=\"Mesa de trabajo1\" transform=\"matrix(0.125,0,0,0.125,0,0)\">\r\n        <rect x=\"0\" y=\"0\" width=\"512\" height=\"512\" style=\"fill:none;\"/>\r\n        <g id=\"backwardIcon\">\r\n            <g transform=\"matrix(0.301682,-0.953409,0.953409,0.301682,-33.639,434.074)\">\r\n                <path d=\"M355.677,210.325L313.116,244.106C310.204,246.417 306.249,246.917 302.853,245.404C299.458,243.891 297.186,240.615 296.958,236.904C294.434,195.787 288.533,99.662 286.302,63.32C286.102,60.067 287.504,56.922 290.057,54.896C292.609,52.87 295.991,52.218 299.113,53.151C334,63.575 426.276,91.145 465.746,102.938C469.308,104.002 471.982,106.958 472.686,110.609C473.389,114.259 472.004,117.997 469.092,120.308L428.325,152.665C446.893,183.621 456.937,219.293 456.937,256C456.937,366.9 366.9,456.937 256,456.937C209.979,456.937 165.585,441.149 129.919,412.741C125.631,409.157 123.047,403.936 122.798,398.352C122.55,392.769 124.66,387.338 128.613,383.387C139.797,372.203 155.034,356.966 165.942,346.53C172.858,339.614 183.818,338.865 191.611,344.775C210.215,358.269 232.726,365.668 256,365.668C316.527,365.668 365.668,316.527 365.668,256C365.668,240.079 362.205,224.514 355.677,210.325Z\"/>\r\n            </g>\r\n            <g transform=\"matrix(8,0,0,8,-12.5937,20.6629)\">\r\n                <path d=\"M9.072,38.76C9.188,38.775 9.286,38.782 9.366,38.782L9.573,38.782C10.11,38.782 10.546,38.622 10.88,38.303C11.215,37.983 11.382,37.569 11.382,37.061C11.382,36.567 11.225,36.167 10.913,35.862C10.601,35.557 10.198,35.405 9.704,35.405C9.181,35.405 8.759,35.579 8.44,35.927C8.12,36.276 7.96,36.726 7.96,37.279L4.016,37.279C4.118,36.421 4.332,35.659 4.659,34.99C4.986,34.322 5.404,33.759 5.912,33.302C6.421,32.844 7.016,32.495 7.699,32.256C8.382,32.016 9.137,31.896 9.965,31.896C10.779,31.896 11.516,32.009 12.177,32.234C12.838,32.459 13.404,32.779 13.877,33.193C14.349,33.607 14.712,34.108 14.966,34.696C15.22,35.285 15.347,35.942 15.347,36.668C15.347,37.453 15.199,38.096 14.901,38.597C14.603,39.098 14.178,39.53 13.626,39.893C14.469,40.155 15.126,40.623 15.598,41.299C16.07,41.974 16.306,42.806 16.306,43.794C16.306,44.607 16.146,45.348 15.827,46.017C15.507,46.685 15.061,47.259 14.487,47.738C13.913,48.217 13.23,48.588 12.438,48.849C11.647,49.111 10.779,49.242 9.834,49.242C8.571,49.242 7.43,48.995 6.413,48.501C5.396,48.007 4.583,47.222 3.973,46.147C3.697,45.668 3.511,45.189 3.417,44.709C3.323,44.23 3.275,43.743 3.275,43.249L7.503,43.249C7.532,44.019 7.757,44.604 8.178,45.003C8.6,45.403 9.166,45.603 9.878,45.603C10.633,45.603 11.185,45.399 11.534,44.992C11.883,44.586 12.057,44.084 12.057,43.489C12.057,42.777 11.846,42.24 11.425,41.876C11.004,41.513 10.503,41.332 9.922,41.332C9.776,41.332 9.638,41.342 9.508,41.364C9.377,41.386 9.232,41.411 9.072,41.441L9.072,38.76Z\" style=\"fill-rule:nonzero;\"/>\r\n                <path d=\"M22.037,40.547C22.037,41.273 22.103,41.934 22.233,42.53C22.364,43.126 22.549,43.641 22.789,44.077C23.029,44.513 23.316,44.851 23.65,45.09C23.984,45.33 24.362,45.45 24.783,45.45C25.19,45.45 25.564,45.33 25.905,45.09C26.246,44.851 26.533,44.513 26.766,44.077C26.998,43.641 27.18,43.126 27.311,42.53C27.441,41.934 27.507,41.273 27.507,40.547C27.507,39.835 27.441,39.178 27.311,38.575C27.18,37.972 26.998,37.456 26.766,37.028C26.533,36.599 26.246,36.265 25.905,36.026C25.564,35.786 25.19,35.666 24.783,35.666C24.362,35.666 23.984,35.786 23.65,36.026C23.316,36.265 23.029,36.599 22.789,37.028C22.549,37.456 22.364,37.972 22.233,38.575C22.103,39.178 22.037,39.835 22.037,40.547ZM17.81,40.547C17.81,39.24 17.981,38.052 18.322,36.984C18.663,35.917 19.143,35.005 19.76,34.25C20.378,33.494 21.111,32.909 21.961,32.495C22.811,32.081 23.751,31.874 24.783,31.874C25.8,31.874 26.737,32.081 27.594,32.495C28.451,32.909 29.185,33.494 29.795,34.25C30.405,35.005 30.881,35.917 31.222,36.984C31.563,38.052 31.734,39.24 31.734,40.547C31.734,41.855 31.563,43.042 31.222,44.11C30.881,45.178 30.405,46.093 29.795,46.856C29.185,47.618 28.451,48.207 27.594,48.621C26.737,49.035 25.8,49.242 24.783,49.242C23.751,49.242 22.811,49.035 21.961,48.621C21.111,48.207 20.378,47.618 19.76,46.856C19.143,46.093 18.663,45.178 18.322,44.11C17.981,43.042 17.81,41.855 17.81,40.547Z\" style=\"fill-rule:nonzero;\"/>\r\n                <path d=\"M40.952,40.482C40.225,40.104 39.513,39.915 38.816,39.915C38.453,39.915 38.159,39.988 37.934,40.133C37.708,40.278 37.596,40.474 37.596,40.721C37.596,40.852 37.614,40.958 37.65,41.037C37.687,41.117 37.767,41.194 37.89,41.266C38.013,41.339 38.195,41.404 38.435,41.462C38.674,41.52 38.99,41.593 39.383,41.68C40.472,41.898 41.286,42.287 41.823,42.846C42.361,43.405 42.629,44.121 42.629,44.992C42.629,45.646 42.499,46.234 42.237,46.757C41.976,47.28 41.613,47.72 41.148,48.076C40.683,48.432 40.124,48.708 39.47,48.904C38.816,49.1 38.097,49.198 37.313,49.198C35.802,49.198 34.313,48.769 32.845,47.912L34.284,45.123C35.388,45.879 36.434,46.256 37.421,46.256C37.785,46.256 38.082,46.176 38.315,46.017C38.547,45.857 38.664,45.653 38.664,45.406C38.664,45.261 38.645,45.141 38.609,45.047C38.573,44.952 38.496,44.865 38.38,44.785C38.264,44.706 38.093,44.633 37.868,44.568C37.643,44.502 37.349,44.433 36.986,44.36C35.765,44.114 34.912,43.747 34.425,43.26C33.939,42.773 33.695,42.102 33.695,41.244C33.695,40.62 33.811,40.057 34.044,39.556C34.276,39.054 34.61,38.63 35.046,38.281C35.482,37.932 36.009,37.663 36.626,37.475C37.244,37.286 37.93,37.191 38.685,37.191C39.92,37.191 41.119,37.431 42.281,37.91L40.952,40.482Z\" style=\"fill-rule:nonzero;\"/>\r\n            </g>\r\n        </g>\r\n    </g>\r\n</svg>\r\n";

    var captionsIcon = "<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"no\"?>\r\n<!DOCTYPE svg PUBLIC \"-//W3C//DTD SVG 1.1//EN\" \"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd\">\r\n<svg width=\"100%\" height=\"100%\" viewBox=\"0 0 64 64\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" xml:space=\"preserve\" xmlns:serif=\"http://www.serif.com/\" style=\"fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;\">\r\n    <g id=\"Mesa-de-trabajo1\" serif:id=\"Mesa de trabajo1\" transform=\"matrix(0.125,0,0,0.125,0,0)\">\r\n        <rect x=\"0\" y=\"0\" width=\"512\" height=\"512\" style=\"fill:none;\"/>\r\n        <clipPath id=\"_clip1\">\r\n            <rect x=\"0\" y=\"0\" width=\"512\" height=\"512\"/>\r\n        </clipPath>\r\n        <g clip-path=\"url(#_clip1)\">\r\n            <g id=\"captionsIcon\" transform=\"matrix(8,0,0,8,-37.4035,-9.20672)\">\r\n                <g transform=\"matrix(1,0,0,1,-0.77175,0)\">\r\n                    <path d=\"M35.14,26.15C35.139,26.606 34.89,27.026 34.489,27.244C34.089,27.462 33.601,27.443 33.218,27.196C32.106,26.42 30.827,26.052 29.406,26.052C28.404,26.052 27.477,26.234 26.624,26.598C25.771,26.962 25.037,27.457 24.422,28.082C23.808,28.708 23.325,29.453 22.972,30.318C22.619,31.183 22.443,32.116 22.443,33.117C22.443,34.141 22.619,35.085 22.972,35.95C23.325,36.814 23.814,37.565 24.44,38.202C25.065,38.839 25.799,39.34 26.641,39.704C27.483,40.068 28.393,40.25 29.371,40.25C30.757,40.25 32.051,39.868 33.255,39.105C33.628,38.873 34.097,38.861 34.48,39.074C34.864,39.287 35.102,39.691 35.102,40.13C35.14,41.738 35.14,43.684 35.14,44.715C35.14,45.148 34.866,45.534 34.457,45.677C34.457,45.677 34.457,45.677 34.457,45.677C33.433,46.041 32.477,46.308 31.59,46.479C30.703,46.65 29.826,46.735 28.962,46.735C27.187,46.735 25.486,46.399 23.859,45.728C22.232,45.057 20.799,44.113 19.559,42.895C18.319,41.678 17.323,40.233 16.572,38.561C15.821,36.888 15.446,35.062 15.446,33.083C15.446,31.103 15.816,29.288 16.555,27.639C17.295,25.989 18.285,24.567 19.525,23.372C20.765,22.178 22.204,21.245 23.842,20.574C25.48,19.902 27.198,19.567 28.996,19.567C30.02,19.567 31.027,19.675 32.017,19.891C32.591,20.017 33.184,20.182 33.793,20.389C34.596,20.658 35.136,21.409 35.136,22.256C35.14,23.32 35.14,24.837 35.14,26.15Z\" style=\"fill-rule:nonzero;\"/>\r\n                </g>\r\n                <g transform=\"matrix(1,0,0,1,-0.77175,0)\">\r\n                    <path d=\"M57.905,26.15C57.905,26.606 57.655,27.026 57.255,27.244C56.854,27.462 56.367,27.443 55.983,27.196C54.871,26.42 53.592,26.052 52.171,26.052C51.17,26.052 50.242,26.234 49.389,26.598C48.536,26.962 47.802,27.457 47.188,28.082C46.573,28.708 46.09,29.453 45.737,30.318C45.384,31.183 45.208,32.116 45.208,33.117C45.208,34.141 45.384,35.085 45.737,35.95C46.09,36.814 46.579,37.565 47.205,38.202C47.831,38.839 48.564,39.34 49.406,39.704C50.248,40.068 51.158,40.25 52.137,40.25C53.522,40.25 54.817,39.868 56.021,39.105C56.393,38.873 56.862,38.861 57.246,39.074C57.629,39.287 57.867,39.691 57.867,40.13C57.905,41.738 57.905,43.684 57.905,44.715C57.905,45.148 57.631,45.534 57.222,45.677C57.222,45.677 57.222,45.677 57.222,45.677C56.198,46.041 55.243,46.308 54.355,46.479C53.468,46.65 52.592,46.735 51.727,46.735C49.952,46.735 48.251,46.399 46.625,45.728C44.998,45.057 43.564,44.113 42.324,42.895C41.084,41.678 40.089,40.233 39.338,38.561C38.587,36.888 38.211,35.062 38.211,33.083C38.211,31.103 38.581,29.288 39.321,27.639C40.06,25.989 41.05,24.567 42.29,23.372C43.53,22.178 44.969,21.245 46.608,20.574C48.246,19.902 49.964,19.567 51.761,19.567C52.785,19.567 53.792,19.675 54.782,19.891C55.357,20.017 55.949,20.182 56.558,20.389C57.361,20.658 57.902,21.409 57.902,22.256C57.905,23.32 57.905,24.837 57.905,26.15Z\" style=\"fill-rule:nonzero;\"/>\r\n                </g>\r\n                <g transform=\"matrix(0.125,0,0,0.125,4.67543,1.15084)\">\r\n                    <path d=\"M512,106.13C512,81.659 492.163,61.822 467.692,61.822C370.831,61.822 141.169,61.822 44.308,61.822C19.837,61.822 0,81.659 0,106.13C-0,180.868 -0,331.132 -0,405.87C0,430.341 19.837,450.178 44.308,450.178C141.169,450.178 370.831,450.178 467.692,450.178C492.163,450.178 512,430.341 512,405.87C512,331.132 512,180.868 512,106.13ZM473.643,116.375C473.643,111.366 471.653,106.562 468.111,103.02C464.569,99.478 459.764,97.488 454.755,97.488C383.15,97.488 128.85,97.488 57.245,97.488C52.236,97.488 47.431,99.478 43.889,103.02C40.347,106.562 38.357,111.366 38.357,116.375C38.357,172.732 38.357,339.268 38.357,395.625C38.357,400.634 40.347,405.438 43.889,408.98C47.431,412.522 52.236,414.512 57.245,414.512C128.85,414.512 383.15,414.512 454.755,414.512C459.764,414.512 464.569,412.522 468.111,408.98C471.653,405.438 473.643,400.634 473.643,395.625C473.643,339.268 473.643,172.732 473.643,116.375Z\"/>\r\n                </g>\r\n            </g>\r\n        </g>\r\n    </g>\r\n</svg>\r\n";

    var downloadIcon = "<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"no\"?>\r\n<!DOCTYPE svg PUBLIC \"-//W3C//DTD SVG 1.1//EN\" \"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd\">\r\n<svg width=\"100%\" height=\"100%\" viewBox=\"0 0 64 64\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" xml:space=\"preserve\" xmlns:serif=\"http://www.serif.com/\" style=\"fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;\">\r\n    <g id=\"Mesa-de-trabajo1\" serif:id=\"Mesa de trabajo1\" transform=\"matrix(0.125,0,0,0.125,0,0)\">\r\n        <rect x=\"0\" y=\"0\" width=\"512\" height=\"512\" style=\"fill:none;\"/>\r\n        <path id=\"Downloads\" d=\"M167.094,103.981L135.858,103.981C118.445,103.981 101.746,110.898 89.433,123.21C77.121,135.523 70.204,152.222 70.204,169.635L70.204,411.669C70.204,429.082 77.121,445.781 89.433,458.094C101.746,470.406 118.445,477.323 135.858,477.323L377.892,477.323C395.305,477.323 412.004,470.406 424.316,458.094C436.629,445.781 443.546,429.082 443.546,411.669L443.546,169.635C443.546,152.222 436.629,135.523 424.316,123.21C412.004,110.898 395.305,103.981 377.892,103.981L346.655,103.981L346.655,143.049L379.716,143.049C386.284,143.049 392.582,145.658 397.225,150.302C401.869,154.945 404.478,161.243 404.478,167.81L404.478,413.494C404.478,420.061 401.869,426.359 397.225,431.002C392.582,435.646 386.284,438.255 379.716,438.255L134.033,438.255C127.466,438.255 121.168,435.646 116.524,431.002C111.881,426.359 109.272,420.061 109.272,413.494L109.272,167.81C109.272,161.243 111.881,154.945 116.524,150.302C121.168,145.658 127.466,143.049 134.033,143.049L167.094,143.049L167.094,103.981ZM309.071,255.457L351.272,255.457C356.584,255.457 361.44,258.458 363.816,263.209C366.192,267.961 365.679,273.647 362.492,277.896C336.919,311.994 288.958,375.944 267.22,404.929C264.571,408.461 260.415,410.539 256,410.539C251.585,410.539 247.429,408.461 244.78,404.929C223.042,375.944 175.081,311.994 149.508,277.896C146.321,273.647 145.808,267.961 148.184,263.209C150.56,258.458 155.416,255.457 160.728,255.457C180.3,255.457 202.929,255.457 202.929,255.457L202.929,50.981C202.929,43.236 209.208,36.956 216.954,36.956C237.282,36.956 274.718,36.956 295.046,36.956C302.792,36.956 309.071,43.236 309.071,50.981C309.071,99.235 309.071,255.457 309.071,255.457Z\"/>\r\n    </g>\r\n</svg>\r\n";

    var findCaptionsIcon = "<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"no\"?>\r\n<!DOCTYPE svg PUBLIC \"-//W3C//DTD SVG 1.1//EN\" \"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd\">\r\n<svg width=\"100%\" height=\"100%\" viewBox=\"0 0 64 64\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" xml:space=\"preserve\" xmlns:serif=\"http://www.serif.com/\" style=\"fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;\">\r\n    <g id=\"Mesa-de-trabajo1\" serif:id=\"Mesa de trabajo1\" transform=\"matrix(0.125,0,0,0.125,0,0)\">\r\n        <rect x=\"0\" y=\"0\" width=\"512\" height=\"512\" style=\"fill:none;\"/>\r\n        <clipPath id=\"_clip1\">\r\n            <rect x=\"0\" y=\"0\" width=\"512\" height=\"512\"/>\r\n        </clipPath>\r\n        <g clip-path=\"url(#_clip1)\">\r\n            <g id=\"searchCaptionsIcon\" transform=\"matrix(5.31378,0,0,5.31378,-24.8442,14.6432)\">\r\n                <path d=\"M63.881,36.046C65.618,36.44 67.236,37.145 68.675,38.1L68.675,49.085C68.675,53.69 64.942,57.423 60.337,57.423L48.01,57.423C47.222,56.062 46.653,54.561 46.354,52.965L60.326,52.965C61.269,52.965 62.173,52.59 62.84,51.924C63.506,51.257 63.881,50.353 63.881,49.41L63.881,36.046ZM32.476,57.423L13.014,57.423C8.409,57.423 4.675,53.69 4.675,49.085C4.675,40.173 4.675,26.128 4.675,17.217C4.675,12.612 8.409,8.879 13.014,8.879C25.283,8.879 48.068,8.879 60.337,8.879C64.942,8.879 68.675,12.612 68.675,17.217L68.675,22.274L66.496,21.713L63.881,21.313L63.881,16.891C63.881,15.949 63.506,15.044 62.84,14.378C62.173,13.711 61.269,13.337 60.326,13.337C50.471,13.337 22.88,13.337 13.025,13.337C12.082,13.337 11.178,13.711 10.511,14.378C9.845,15.044 9.47,15.949 9.47,16.891C9.47,24.417 9.47,41.885 9.47,49.41C9.47,50.353 9.845,51.257 10.511,51.924C11.178,52.59 12.082,52.965 13.025,52.965L31.677,52.965C31.819,54.491 32.08,55.983 32.476,57.423ZM31.843,46.235L30.818,46.479C29.931,46.65 29.055,46.735 28.19,46.735C26.415,46.735 24.714,46.399 23.088,45.728C21.461,45.057 20.027,44.113 18.787,42.895C17.547,41.678 16.551,40.233 15.801,38.561C15.05,36.888 14.674,35.062 14.674,33.083C14.674,31.103 15.044,29.288 15.784,27.639C16.523,25.989 17.513,24.567 18.753,23.372C19.993,22.178 21.432,21.245 23.07,20.574C24.709,19.902 26.427,19.567 28.224,19.567C29.248,19.567 30.255,19.675 31.245,19.891C31.554,19.959 31.869,20.038 32.188,20.129C33.473,20.484 34.364,21.654 34.364,22.987C34.368,23.64 34.368,24.381 34.368,25.112C34.367,25.754 34.039,26.351 33.496,26.695C32.954,27.038 32.274,27.081 31.693,26.807C30.784,26.28 29.753,26.052 28.634,26.052C27.633,26.052 26.705,26.234 25.852,26.598C24.999,26.962 24.265,27.457 23.651,28.082C23.036,28.708 22.553,29.453 22.2,30.318C21.847,31.183 21.671,32.116 21.671,33.117C21.671,34.141 21.847,35.085 22.2,35.95C22.553,36.814 23.042,37.565 23.668,38.202C24.293,38.839 25.027,39.34 25.869,39.704C26.711,40.068 27.621,40.25 28.6,40.25C29.7,40.25 30.744,40.009 31.73,39.527C32.29,39.267 32.944,39.31 33.464,39.642L33.533,39.699L32.847,41.569C32.608,42.498 32.369,43.428 32.13,44.357L31.843,46.235ZM50.166,40.135L51.365,40.25C52.466,40.25 53.509,40.009 54.495,39.527C55.055,39.267 55.709,39.31 56.23,39.642C56.75,39.974 57.065,40.549 57.065,41.166C57.133,43.244 57.133,45.438 57.133,45.438L56.45,45.677C55.427,46.041 54.471,46.308 53.583,46.479C52.696,46.65 51.82,46.735 50.955,46.735C49.487,46.735 48.068,46.505 46.705,46.032C47.377,43.789 48.576,41.773 50.166,40.135ZM37.458,32.687C37.491,30.86 37.859,29.178 38.549,27.639C39.288,25.989 40.278,24.567 41.518,23.372C42.758,22.178 44.197,21.245 45.836,20.574C47.474,19.902 49.192,19.567 50.99,19.567C52.013,19.567 53.02,19.675 54.01,19.891C54.32,19.959 54.634,20.038 54.954,20.129C55.686,20.331 56.291,20.799 56.649,21.426C48.825,22.483 41.99,26.662 37.458,32.687Z\"/>\r\n                <g id=\"Search\" transform=\"matrix(1.50552,9.27848e-32,-1.8557e-32,1.50552,-8022.17,-408.877)\">\r\n                    <path d=\"M5378.55,318.058C5375.82,320.091 5372.43,321.294 5368.76,321.294C5359.7,321.294 5352.35,313.952 5352.35,304.895C5352.35,295.838 5359.7,288.495 5368.76,288.495C5377.82,288.495 5385.17,295.838 5385.17,304.895C5385.17,308.808 5383.8,312.401 5381.51,315.221L5391.79,326.032C5392.57,326.853 5392.53,328.15 5391.71,328.93C5390.89,329.71 5389.59,329.676 5388.81,328.855L5378.55,318.058ZM5368.76,317.194C5361.97,317.194 5356.46,311.687 5356.46,304.895C5356.46,298.102 5361.97,292.595 5368.76,292.595C5375.56,292.595 5381.07,298.102 5381.07,304.895C5381.07,311.687 5375.56,317.194 5368.76,317.194Z\"/>\r\n                </g>\r\n            </g>\r\n        </g>\r\n    </g>\r\n</svg>\r\n";

    var forwardIcon = "<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"no\"?>\r\n<!DOCTYPE svg PUBLIC \"-//W3C//DTD SVG 1.1//EN\" \"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd\">\r\n<svg width=\"100%\" height=\"100%\" viewBox=\"0 0 64 64\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" xml:space=\"preserve\" xmlns:serif=\"http://www.serif.com/\" style=\"fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;\">\r\n    <g id=\"Mesa-de-trabajo1\" serif:id=\"Mesa de trabajo1\" transform=\"matrix(0.125,0,0,0.125,0,0)\">\r\n        <rect x=\"0\" y=\"0\" width=\"512\" height=\"512\" style=\"fill:none;\"/>\r\n        <g id=\"forwardIcon\">\r\n            <g transform=\"matrix(-0.301682,-0.953409,-0.953409,0.301682,543.589,434.074)\">\r\n                <path d=\"M355.677,210.325L313.116,244.106C310.204,246.417 306.249,246.917 302.853,245.404C299.458,243.891 297.186,240.615 296.958,236.904C294.434,195.787 288.533,99.662 286.302,63.32C286.102,60.067 287.504,56.922 290.057,54.896C292.609,52.87 295.991,52.218 299.113,53.151C334,63.575 426.276,91.145 465.746,102.938C469.308,104.002 471.982,106.958 472.686,110.609C473.389,114.259 472.004,117.997 469.092,120.308L428.325,152.665C446.893,183.621 456.937,219.293 456.937,256C456.937,366.9 366.9,456.937 256,456.937C209.979,456.937 165.585,441.149 129.919,412.741C125.631,409.157 123.047,403.936 122.798,398.352C122.55,392.769 124.66,387.338 128.613,383.387C139.797,372.203 155.034,356.966 165.942,346.53C172.858,339.614 183.818,338.865 191.611,344.775C210.215,358.269 232.726,365.668 256,365.668C316.527,365.668 365.668,316.527 365.668,256C365.668,240.079 362.205,224.514 355.677,210.325Z\"/>\r\n            </g>\r\n            <g transform=\"matrix(8,0,0,8,160.765,20.6629)\">\r\n                <path d=\"M9.072,38.76C9.188,38.775 9.286,38.782 9.366,38.782L9.573,38.782C10.11,38.782 10.546,38.622 10.88,38.303C11.215,37.983 11.382,37.569 11.382,37.061C11.382,36.567 11.225,36.167 10.913,35.862C10.601,35.557 10.198,35.405 9.704,35.405C9.181,35.405 8.759,35.579 8.44,35.927C8.12,36.276 7.96,36.726 7.96,37.279L4.016,37.279C4.118,36.421 4.332,35.659 4.659,34.99C4.986,34.322 5.404,33.759 5.912,33.302C6.421,32.844 7.016,32.495 7.699,32.256C8.382,32.016 9.137,31.896 9.965,31.896C10.779,31.896 11.516,32.009 12.177,32.234C12.838,32.459 13.404,32.779 13.877,33.193C14.349,33.607 14.712,34.108 14.966,34.696C15.22,35.285 15.347,35.942 15.347,36.668C15.347,37.453 15.199,38.096 14.901,38.597C14.603,39.098 14.178,39.53 13.626,39.893C14.469,40.155 15.126,40.623 15.598,41.299C16.07,41.974 16.306,42.806 16.306,43.794C16.306,44.607 16.146,45.348 15.827,46.017C15.507,46.685 15.061,47.259 14.487,47.738C13.913,48.217 13.23,48.588 12.438,48.849C11.647,49.111 10.779,49.242 9.834,49.242C8.571,49.242 7.43,48.995 6.413,48.501C5.396,48.007 4.583,47.222 3.973,46.147C3.697,45.668 3.511,45.189 3.417,44.709C3.323,44.23 3.275,43.743 3.275,43.249L7.503,43.249C7.532,44.019 7.757,44.604 8.178,45.003C8.6,45.403 9.166,45.603 9.878,45.603C10.633,45.603 11.185,45.399 11.534,44.992C11.883,44.586 12.057,44.084 12.057,43.489C12.057,42.777 11.846,42.24 11.425,41.876C11.004,41.513 10.503,41.332 9.922,41.332C9.776,41.332 9.638,41.342 9.508,41.364C9.377,41.386 9.232,41.411 9.072,41.441L9.072,38.76Z\" style=\"fill-rule:nonzero;\"/>\r\n                <path d=\"M22.037,40.547C22.037,41.273 22.103,41.934 22.233,42.53C22.364,43.126 22.549,43.641 22.789,44.077C23.029,44.513 23.316,44.851 23.65,45.09C23.984,45.33 24.362,45.45 24.783,45.45C25.19,45.45 25.564,45.33 25.905,45.09C26.246,44.851 26.533,44.513 26.766,44.077C26.998,43.641 27.18,43.126 27.311,42.53C27.441,41.934 27.507,41.273 27.507,40.547C27.507,39.835 27.441,39.178 27.311,38.575C27.18,37.972 26.998,37.456 26.766,37.028C26.533,36.599 26.246,36.265 25.905,36.026C25.564,35.786 25.19,35.666 24.783,35.666C24.362,35.666 23.984,35.786 23.65,36.026C23.316,36.265 23.029,36.599 22.789,37.028C22.549,37.456 22.364,37.972 22.233,38.575C22.103,39.178 22.037,39.835 22.037,40.547ZM17.81,40.547C17.81,39.24 17.981,38.052 18.322,36.984C18.663,35.917 19.143,35.005 19.76,34.25C20.378,33.494 21.111,32.909 21.961,32.495C22.811,32.081 23.751,31.874 24.783,31.874C25.8,31.874 26.737,32.081 27.594,32.495C28.451,32.909 29.185,33.494 29.795,34.25C30.405,35.005 30.881,35.917 31.222,36.984C31.563,38.052 31.734,39.24 31.734,40.547C31.734,41.855 31.563,43.042 31.222,44.11C30.881,45.178 30.405,46.093 29.795,46.856C29.185,47.618 28.451,48.207 27.594,48.621C26.737,49.035 25.8,49.242 24.783,49.242C23.751,49.242 22.811,49.035 21.961,48.621C21.111,48.207 20.378,47.618 19.76,46.856C19.143,46.093 18.663,45.178 18.322,44.11C17.981,43.042 17.81,41.855 17.81,40.547Z\" style=\"fill-rule:nonzero;\"/>\r\n                <path d=\"M40.952,40.482C40.225,40.104 39.513,39.915 38.816,39.915C38.453,39.915 38.159,39.988 37.934,40.133C37.708,40.278 37.596,40.474 37.596,40.721C37.596,40.852 37.614,40.958 37.65,41.037C37.687,41.117 37.767,41.194 37.89,41.266C38.013,41.339 38.195,41.404 38.435,41.462C38.674,41.52 38.99,41.593 39.383,41.68C40.472,41.898 41.286,42.287 41.823,42.846C42.361,43.405 42.629,44.121 42.629,44.992C42.629,45.646 42.499,46.234 42.237,46.757C41.976,47.28 41.613,47.72 41.148,48.076C40.683,48.432 40.124,48.708 39.47,48.904C38.816,49.1 38.097,49.198 37.313,49.198C35.802,49.198 34.313,48.769 32.845,47.912L34.284,45.123C35.388,45.879 36.434,46.256 37.421,46.256C37.785,46.256 38.082,46.176 38.315,46.017C38.547,45.857 38.664,45.653 38.664,45.406C38.664,45.261 38.645,45.141 38.609,45.047C38.573,44.952 38.496,44.865 38.38,44.785C38.264,44.706 38.093,44.633 37.868,44.568C37.643,44.502 37.349,44.433 36.986,44.36C35.765,44.114 34.912,43.747 34.425,43.26C33.939,42.773 33.695,42.102 33.695,41.244C33.695,40.62 33.811,40.057 34.044,39.556C34.276,39.054 34.61,38.63 35.046,38.281C35.482,37.932 36.009,37.663 36.626,37.475C37.244,37.286 37.93,37.191 38.685,37.191C39.92,37.191 41.119,37.431 42.281,37.91L40.952,40.482Z\" style=\"fill-rule:nonzero;\"/>\r\n            </g>\r\n        </g>\r\n    </g>\r\n</svg>\r\n";

    var fullscreenIcon = "<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"no\"?>\r\n<!DOCTYPE svg PUBLIC \"-//W3C//DTD SVG 1.1//EN\" \"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd\">\r\n<svg width=\"100%\" height=\"100%\" viewBox=\"0 0 64 64\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" xml:space=\"preserve\" xmlns:serif=\"http://www.serif.com/\" style=\"fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;\">\r\n    <g id=\"Mesa-de-trabajo1\" serif:id=\"Mesa de trabajo1\" transform=\"matrix(0.125,0,0,0.125,0,0)\">\r\n        <rect x=\"0\" y=\"0\" width=\"512\" height=\"512\" style=\"fill:none;\"/>\r\n        <clipPath id=\"_clip1\">\r\n            <rect x=\"0\" y=\"0\" width=\"512\" height=\"512\"/>\r\n        </clipPath>\r\n        <g clip-path=\"url(#_clip1)\">\r\n            <path id=\"fullscreenIcon-2\" serif:id=\"fullscreenIcon 2\" d=\"M483.999,310.017L483.999,398.122C483.999,405.72 477.839,411.879 470.241,411.88L392.268,411.88L392.268,440.665L482.357,440.665C498.728,440.665 512,427.393 512,411.021L512,310.017L483.999,310.017ZM28.001,310.017L-0,310.017L0,411.021C0,427.393 13.272,440.665 29.643,440.665L119.732,440.665L119.732,411.88L41.759,411.88C34.161,411.879 28.001,405.72 28.001,398.122L28.001,310.017ZM28.001,186.292L28.001,113.878C28.001,106.28 34.161,100.121 41.759,100.12L119.732,100.12L119.732,71.335L29.643,71.335C13.272,71.335 0,84.607 -0,100.979L-0,186.292L28.001,186.292ZM392.268,100.12L470.241,100.12C477.839,100.121 483.999,106.28 483.999,113.878L483.999,186.292L512,186.292L512,100.979C512,84.607 498.728,71.335 482.357,71.335L392.268,71.335L392.268,100.12Z\"/>\r\n        </g>\r\n    </g>\r\n</svg>\r\n";

    var keyboardIcon = "<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"no\"?>\r\n<!DOCTYPE svg PUBLIC \"-//W3C//DTD SVG 1.1//EN\" \"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd\">\r\n<svg width=\"100%\" height=\"100%\" viewBox=\"0 0 64 64\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" xml:space=\"preserve\" xmlns:serif=\"http://www.serif.com/\" style=\"fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;\">\r\n    <g id=\"Mesa-de-trabajo1\" serif:id=\"Mesa de trabajo1\" transform=\"matrix(0.125,0,0,0.125,0,0)\">\r\n        <rect x=\"0\" y=\"0\" width=\"512\" height=\"512\" style=\"fill:none;\"/>\r\n        <g id=\"keyboardIcon\">\r\n            <path d=\"M512,177.811C512,134.658 476.965,99.623 433.811,99.623L78.189,99.623C35.035,99.623 0,134.658 0,177.811L0,334.189C0,377.342 35.035,412.377 78.189,412.377L433.811,412.377C476.965,412.377 512,377.342 512,334.189L512,177.811ZM487.075,183.535C487.075,151.037 460.691,124.652 428.193,124.652L83.807,124.652C51.309,124.652 24.925,151.037 24.925,183.535L24.925,328.465C24.925,360.963 51.309,387.348 83.807,387.348L428.193,387.348C460.691,387.348 487.075,360.963 487.075,328.465L487.075,183.535Z\"/>\r\n            <g transform=\"matrix(0.92829,0,0,0.872244,15.5985,12.5823)\">\r\n                <path d=\"M477.762,203.315C477.762,191.775 473.454,180.708 465.787,172.548C458.12,164.388 447.721,159.804 436.878,159.804C420.926,159.804 403.526,159.804 391.102,159.804C386.598,159.804 382.278,161.709 379.093,165.098C375.907,168.488 374.118,173.086 374.118,177.88C374.118,188.807 374.118,202.667 374.118,213.478C374.118,223.11 381.455,230.919 390.506,230.919C409.93,230.919 442.098,230.919 461.476,230.919C465.795,230.919 469.938,229.093 472.992,225.842C476.046,222.592 477.762,218.183 477.762,213.587C477.762,210.381 477.762,206.905 477.762,203.315ZM353.827,177.583C353.827,167.771 346.342,159.804 337.122,159.804L287.003,159.804C277.783,159.804 270.297,167.771 270.297,177.583L270.297,213.14C270.297,222.952 277.783,230.919 287.003,230.919L337.122,230.919C346.342,230.919 353.827,222.952 353.827,213.14L353.827,177.583ZM250.007,177.583C250.007,167.771 242.521,159.804 233.302,159.804L183.182,159.804C173.962,159.804 166.477,167.771 166.477,177.583L166.477,213.14C166.477,222.952 173.962,230.919 183.182,230.919L233.302,230.919C242.521,230.919 250.007,222.952 250.007,213.14L250.007,177.583ZM146.186,178.912C146.186,168.359 138.148,159.804 128.232,159.804C115.883,159.804 98.967,159.804 83.427,159.804C72.583,159.804 62.184,164.388 54.517,172.548C46.85,180.708 42.543,191.775 42.543,203.315C42.543,206.641 42.543,209.869 42.543,212.874C42.543,222.84 50.133,230.918 59.497,230.919C78.849,230.919 110.299,230.919 129.526,230.919C133.945,230.919 138.182,229.051 141.306,225.725C144.431,222.4 146.186,217.891 146.186,213.188C146.186,202.759 146.186,189.571 146.186,178.912Z\"/>\r\n            </g>\r\n            <g transform=\"matrix(0.92829,0,0,0.872244,15.5985,12.5823)\">\r\n                <path d=\"M351.792,345.001C351.792,335.189 344.307,327.223 335.087,327.223L184.019,327.223C174.799,327.223 167.314,335.189 167.314,345.001L167.314,380.559C167.314,390.371 174.799,398.337 184.019,398.337L335.087,398.337C344.307,398.337 351.792,390.371 351.792,380.559L351.792,345.001ZM476.68,345.515C476.68,335.556 469.094,327.483 459.737,327.483C440.435,327.483 409.078,327.483 389.777,327.483C380.419,327.483 372.834,335.556 372.834,345.515C372.834,356.179 372.834,369.641 372.834,380.305C372.834,390.264 380.419,398.337 389.777,398.337C404.625,398.337 426.608,398.337 444.749,398.337C462.384,398.337 476.68,383.122 476.68,364.354C476.68,357.846 476.68,351.273 476.68,345.515ZM146.272,345.197C146.272,335.27 138.711,327.223 129.383,327.223C110.068,327.223 78.63,327.223 59.315,327.223C49.988,327.223 42.426,335.27 42.426,345.197C42.426,350.968 42.426,357.564 42.426,364.094C42.426,382.862 56.722,398.076 74.357,398.077C92.52,398.077 114.534,398.077 129.383,398.077C138.711,398.077 146.272,390.029 146.272,380.102C146.272,369.41 146.272,355.89 146.272,345.197Z\"/>\r\n            </g>\r\n            <g transform=\"matrix(0.92829,0,0,0.872244,15.5985,12.5342)\">\r\n                <path d=\"M42.426,261.347C42.426,251.535 49.912,243.569 59.131,243.569L95.022,243.569C104.241,243.569 111.727,251.535 111.727,261.347L111.727,296.904C111.727,306.717 104.241,314.683 95.022,314.683L59.131,314.683C49.912,314.683 42.426,306.717 42.426,296.904L42.426,261.347ZM407.631,261.347C407.631,251.535 415.116,243.569 424.336,243.569L461.056,243.569C470.276,243.569 477.762,251.535 477.762,261.347L477.762,296.904C477.762,306.717 470.276,314.683 461.056,314.683L424.336,314.683C415.116,314.683 407.631,306.717 407.631,296.904L407.631,261.347ZM223.029,261.347C223.029,251.535 230.514,243.569 239.734,243.569L279.624,243.569C288.843,243.569 296.329,251.535 296.329,261.347L296.329,296.904C296.329,306.717 288.843,314.683 279.624,314.683L239.734,314.683C230.514,314.683 223.029,306.717 223.029,296.904L223.029,261.347ZM130.728,261.347C130.728,251.535 138.213,243.569 147.433,243.569L187.323,243.569C196.542,243.569 204.028,251.535 204.028,261.347L204.028,296.904C204.028,306.717 196.542,314.683 187.323,314.683L147.433,314.683C138.213,314.683 130.728,306.717 130.728,296.904L130.728,261.347ZM315.33,261.347C315.33,251.535 322.815,243.569 332.035,243.569L371.925,243.569C381.144,243.569 388.63,251.535 388.63,261.347L388.63,296.904C388.63,306.717 381.144,314.683 371.925,314.683L332.035,314.683C322.815,314.683 315.33,306.717 315.33,296.904L315.33,261.347Z\"/>\r\n            </g>\r\n        </g>\r\n    </g>\r\n</svg>\r\n";

    var layoutIcon = "<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"no\"?>\r\n<!DOCTYPE svg PUBLIC \"-//W3C//DTD SVG 1.1//EN\" \"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd\">\r\n<svg width=\"100%\" height=\"100%\" viewBox=\"0 0 64 64\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" xml:space=\"preserve\" xmlns:serif=\"http://www.serif.com/\" style=\"fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;\">\r\n    <g id=\"Mesa-de-trabajo1\" serif:id=\"Mesa de trabajo1\" transform=\"matrix(0.125,0,0,0.125,0,0)\">\r\n        <rect x=\"0\" y=\"0\" width=\"512\" height=\"512\" style=\"fill:none;\"/>\r\n        <clipPath id=\"_clip1\">\r\n            <rect x=\"0\" y=\"0\" width=\"512\" height=\"512\"/>\r\n        </clipPath>\r\n        <g clip-path=\"url(#_clip1)\">\r\n            <g id=\"layout\" transform=\"matrix(1.08755,0,0,1.08232,-1.54978e-11,11.7156)\">\r\n                <path d=\"M470.404,198.226C470.404,175.617 452.164,157.289 429.664,157.289C360.16,157.289 219.464,157.289 149.961,157.289C127.461,157.289 109.22,175.617 109.22,198.226C109.22,242.709 109.22,313.363 109.22,357.845C109.22,380.455 127.461,398.783 149.961,398.783C219.464,398.783 360.16,398.783 429.664,398.783C452.164,398.783 470.404,380.455 470.404,357.845C470.404,313.363 470.404,242.709 470.404,198.226ZM440.829,204.577C440.829,200.102 439.059,195.809 435.91,192.644C432.76,189.48 428.489,187.702 424.035,187.702C371.155,187.702 208.469,187.702 155.59,187.702C151.136,187.702 146.864,189.48 143.715,192.644C140.565,195.809 138.796,200.102 138.796,204.577C138.796,239.019 138.796,317.053 138.796,351.495C138.796,355.97 140.565,360.262 143.715,363.427C146.864,366.592 151.136,368.37 155.59,368.37C208.469,368.37 371.155,368.37 424.035,368.37C428.489,368.37 432.76,366.592 435.91,363.427C439.059,360.262 440.829,355.97 440.829,351.495C440.829,317.053 440.829,239.019 440.829,204.577ZM83.903,309.036L83.903,190.046C83.903,174.115 90.201,158.836 101.412,147.571C112.623,136.306 127.828,129.977 143.682,129.977L400.155,129.977L400.155,69.352C400.155,46.742 381.915,28.414 359.414,28.414C282.665,28.414 117.49,28.414 40.741,28.414C18.24,28.414 0,46.742 -0,69.352C0,122.549 0,214.901 0,268.098C0,290.708 18.24,309.036 40.741,309.036L83.903,309.036Z\"/>\r\n            </g>\r\n        </g>\r\n    </g>\r\n</svg>\r\n";

    var screenIcon = "<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"no\"?>\r\n<!DOCTYPE svg PUBLIC \"-//W3C//DTD SVG 1.1//EN\" \"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd\">\r\n<svg width=\"100%\" height=\"100%\" viewBox=\"0 0 64 64\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" xml:space=\"preserve\" xmlns:serif=\"http://www.serif.com/\" style=\"fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;\">\r\n    <g id=\"Mesa-de-trabajo1\" serif:id=\"Mesa de trabajo1\" transform=\"matrix(0.125,0,0,0.125,0,0)\">\r\n        <rect x=\"0\" y=\"0\" width=\"512\" height=\"512\" style=\"fill:none;\"/>\r\n        <clipPath id=\"_clip1\">\r\n            <rect x=\"0\" y=\"0\" width=\"512\" height=\"512\"/>\r\n        </clipPath>\r\n        <g clip-path=\"url(#_clip1)\">\r\n            <g transform=\"matrix(8.60945,0,0,9.26493,-16.5603,-37.3015)\">\r\n                <path d=\"M61.393,15.481C61.393,12.84 59.089,10.699 56.247,10.699C44.996,10.699 18.32,10.699 7.07,10.699C4.228,10.699 1.924,12.84 1.924,15.481C1.924,23.548 1.924,39.767 1.924,47.833C1.924,50.474 4.228,52.616 7.07,52.616C18.32,52.616 44.996,52.616 56.247,52.616C59.089,52.616 61.393,50.474 61.393,47.833C61.393,39.767 61.393,23.548 61.393,15.481Z\"/>\r\n            </g>\r\n        </g>\r\n    </g>\r\n</svg>\r\n";

    var slidesIcon = "<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"no\"?>\r\n<!DOCTYPE svg PUBLIC \"-//W3C//DTD SVG 1.1//EN\" \"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd\">\r\n<svg width=\"100%\" height=\"100%\" viewBox=\"0 0 512 512\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" xml:space=\"preserve\" xmlns:serif=\"http://www.serif.com/\" style=\"fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;\">\r\n    <rect id=\"Mesa-de-trabajo1\" serif:id=\"Mesa de trabajo1\" x=\"0\" y=\"0\" width=\"512\" height=\"512\" style=\"fill:none;\"/>\r\n    <clipPath id=\"_clip1\">\r\n        <rect id=\"Mesa-de-trabajo11\" serif:id=\"Mesa de trabajo1\" x=\"0\" y=\"0\" width=\"512\" height=\"512\"/>\r\n    </clipPath>\r\n    <g clip-path=\"url(#_clip1)\">\r\n        <g id=\"slidesIcon\">\r\n            <path d=\"M512,138.078C512,123.175 499.919,111.094 485.016,111.094L167.999,111.094C153.096,111.094 141.015,123.175 141.015,138.078L141.015,373.922C141.015,388.825 153.096,400.906 167.999,400.906L485.016,400.906C499.919,400.906 512,388.825 512,373.922L512,138.078ZM479.811,149.528C479.811,144.275 475.552,140.016 470.299,140.016C424.65,140.016 228.365,140.016 182.716,140.016C177.463,140.016 173.205,144.275 173.205,149.528C173.205,187.093 173.205,324.907 173.205,362.472C173.205,367.725 177.463,371.984 182.716,371.984C228.365,371.984 424.65,371.984 470.299,371.984C475.552,371.984 479.811,367.725 479.811,362.472C479.811,324.907 479.811,187.093 479.811,149.528Z\"/>\r\n            <g transform=\"matrix(1,0,0,1,-70.405,3.41061e-13)\">\r\n                <path d=\"M207.6,111.094L167.999,111.094C160.843,111.094 153.979,113.937 148.919,118.998C143.858,124.058 141.015,130.922 141.015,138.078L141.015,373.922C141.015,381.078 143.858,387.942 148.919,393.002C153.979,398.063 160.843,400.906 167.999,400.906L207.6,400.906C202.206,394.923 198.943,386.995 198.943,378.304L198.943,371.984L175.409,371.984C172.887,371.984 170.467,370.981 168.684,369.198C166.9,367.414 165.898,364.995 165.898,362.472C165.898,324.907 165.898,187.093 165.898,149.528C165.898,147.005 166.9,144.586 168.684,142.802C170.467,141.019 172.887,140.016 175.409,140.016L198.943,140.016L198.943,133.696C198.943,125.005 202.206,117.077 207.6,111.094Z\"/>\r\n            </g>\r\n            <g transform=\"matrix(1,0,0,1,-141.015,-5.11591e-13)\">\r\n                <path d=\"M207.6,111.094L167.999,111.094C160.843,111.094 153.979,113.937 148.919,118.998C143.858,124.058 141.015,130.922 141.015,138.078L141.015,373.922C141.015,381.078 143.858,387.942 148.919,393.002C153.979,398.063 160.843,400.906 167.999,400.906L207.6,400.906C202.206,394.923 198.943,386.995 198.943,378.304L198.943,371.984L175.409,371.984C172.887,371.984 170.467,370.981 168.684,369.198C166.9,367.414 165.898,364.995 165.898,362.472C165.898,324.907 165.898,187.093 165.898,149.528C165.898,147.005 166.9,144.586 168.684,142.802C170.467,141.019 172.887,140.016 175.409,140.016L198.943,140.016L198.943,133.696C198.943,125.005 202.206,117.077 207.6,111.094Z\"/>\r\n            </g>\r\n        </g>\r\n    </g>\r\n</svg>\r\n";

    var volumeHighIcon = "<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"no\"?>\r\n<!DOCTYPE svg PUBLIC \"-//W3C//DTD SVG 1.1//EN\" \"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd\">\r\n<svg width=\"100%\" height=\"100%\" viewBox=\"0 0 64 64\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" xml:space=\"preserve\" xmlns:serif=\"http://www.serif.com/\" style=\"fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;\">\r\n    <g id=\"Mesa-de-trabajo1\" serif:id=\"Mesa de trabajo1\" transform=\"matrix(0.125,0,0,0.125,0,0)\">\r\n        <rect x=\"0\" y=\"0\" width=\"512\" height=\"512\" style=\"fill:none;\"/>\r\n        <g id=\"volumeHighIcon\">\r\n            <g transform=\"matrix(4.89859e-16,8,-8,4.89859e-16,670.252,-65.0485)\">\r\n                <path d=\"M49.251,54.277C49.251,49.739 45.572,46.06 41.034,46.06C36.496,46.06 32.817,49.739 32.817,54.277L49.251,54.277Z\"/>\r\n            </g>\r\n            <g transform=\"matrix(1,0,0,1,28.1589,7.22343)\">\r\n                <path d=\"M207.873,173.844L207.873,109.946C288.023,109.946 352.997,175.337 352.997,256C352.997,336.663 288.023,402.054 207.874,402.054L207.873,338.156C209.412,338.262 210.965,338.309 212.528,338.309C256.325,338.309 291.882,301.427 291.882,256C291.882,210.573 256.325,173.691 212.528,173.691C210.965,173.691 209.412,173.738 207.873,173.844Z\"/>\r\n            </g>\r\n            <g transform=\"matrix(1.60452,0,0,1.60452,-97.5051,-147.534)\">\r\n                <path d=\"M207.873,155.16L207.873,109.946C288.023,109.946 352.997,175.337 352.997,256C352.997,336.663 288.023,402.054 207.874,402.054L207.873,356.84L212.528,356.962C266.25,356.962 309.865,311.722 309.865,256C309.865,200.278 266.25,155.038 212.528,155.038L207.873,155.16Z\"/>\r\n            </g>\r\n            <g id=\"loudspeaker\" transform=\"matrix(1,0,0,1,28.1589,7.22343)\">\r\n                <path d=\"M84,153.273L168.219,27.969C171.391,23.249 177.276,21.157 182.716,22.816C188.156,24.474 191.873,29.493 191.873,35.18C191.873,133.887 191.873,378.113 191.873,476.82C191.873,482.507 188.156,487.526 182.716,489.184C177.276,490.843 171.391,488.751 168.219,484.031L84,358.727L84,376.822L-3.037,376.822L-3.037,135.178L84,135.178L84,153.273Z\"/>\r\n            </g>\r\n        </g>\r\n    </g>\r\n</svg>\r\n";

    var volumeLowIcon = "<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"no\"?>\r\n<!DOCTYPE svg PUBLIC \"-//W3C//DTD SVG 1.1//EN\" \"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd\">\r\n<svg width=\"100%\" height=\"100%\" viewBox=\"0 0 64 64\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" xml:space=\"preserve\" xmlns:serif=\"http://www.serif.com/\" style=\"fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;\">\r\n    <g id=\"Mesa-de-trabajo1\" serif:id=\"Mesa de trabajo1\" transform=\"matrix(0.125,0,0,0.125,0,0)\">\r\n        <rect x=\"0\" y=\"0\" width=\"512\" height=\"512\" style=\"fill:none;\"/>\r\n        <g id=\"volumeLowIcon\">\r\n            <g transform=\"matrix(4.89859e-16,8,-8,4.89859e-16,670.252,-65.0485)\">\r\n                <path d=\"M49.251,54.277C49.251,49.739 45.572,46.06 41.034,46.06C36.496,46.06 32.817,49.739 32.817,54.277L49.251,54.277Z\"/>\r\n            </g>\r\n            <g id=\"loudspeaker\" transform=\"matrix(1,0,0,1,28.1589,7.22343)\">\r\n                <path d=\"M84,153.273L168.219,27.969C171.391,23.249 177.276,21.157 182.716,22.816C188.156,24.474 191.873,29.493 191.873,35.18C191.873,133.887 191.873,378.113 191.873,476.82C191.873,482.507 188.156,487.526 182.716,489.184C177.276,490.843 171.391,488.751 168.219,484.031L84,358.727L84,376.822L-3.037,376.822L-3.037,135.178L84,135.178L84,153.273Z\"/>\r\n            </g>\r\n        </g>\r\n    </g>\r\n</svg>\r\n";

    var volumeMidIcon = "<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"no\"?>\r\n<!DOCTYPE svg PUBLIC \"-//W3C//DTD SVG 1.1//EN\" \"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd\">\r\n<svg width=\"100%\" height=\"100%\" viewBox=\"0 0 64 64\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" xml:space=\"preserve\" xmlns:serif=\"http://www.serif.com/\" style=\"fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;\">\r\n    <g id=\"Mesa-de-trabajo1\" serif:id=\"Mesa de trabajo1\" transform=\"matrix(0.125,0,0,0.125,0,0)\">\r\n        <rect x=\"0\" y=\"0\" width=\"512\" height=\"512\" style=\"fill:none;\"/>\r\n        <g id=\"volumeMidIcon\">\r\n            <g transform=\"matrix(4.89859e-16,8,-8,4.89859e-16,670.252,-65.0485)\">\r\n                <path d=\"M49.251,54.277C49.251,49.739 45.572,46.06 41.034,46.06C36.496,46.06 32.817,49.739 32.817,54.277L49.251,54.277Z\"/>\r\n            </g>\r\n            <g transform=\"matrix(1,0,0,1,28.1589,7.22343)\">\r\n                <path d=\"M207.873,173.844L207.873,109.946C288.023,109.946 352.997,175.337 352.997,256C352.997,336.663 288.023,402.054 207.874,402.054L207.873,338.156C209.412,338.262 210.965,338.309 212.528,338.309C256.325,338.309 291.882,301.427 291.882,256C291.882,210.573 256.325,173.691 212.528,173.691C210.965,173.691 209.412,173.738 207.873,173.844Z\"/>\r\n            </g>\r\n            <g id=\"loudspeaker\" transform=\"matrix(1,0,0,1,28.1589,7.22343)\">\r\n                <path d=\"M84,153.273L168.219,27.969C171.391,23.249 177.276,21.157 182.716,22.816C188.156,24.474 191.873,29.493 191.873,35.18C191.873,133.887 191.873,378.113 191.873,476.82C191.873,482.507 188.156,487.526 182.716,489.184C177.276,490.843 171.391,488.751 168.219,484.031L84,358.727L84,376.822L-3.037,376.822L-3.037,135.178L84,135.178L84,153.273Z\"/>\r\n            </g>\r\n        </g>\r\n    </g>\r\n</svg>\r\n";

    var volumeMuteIcon = "<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"no\"?>\r\n<!DOCTYPE svg PUBLIC \"-//W3C//DTD SVG 1.1//EN\" \"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd\">\r\n<svg width=\"100%\" height=\"100%\" viewBox=\"0 0 64 64\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" xml:space=\"preserve\" xmlns:serif=\"http://www.serif.com/\" style=\"fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;\">\r\n    <g id=\"Mesa-de-trabajo1\" serif:id=\"Mesa de trabajo1\" transform=\"matrix(0.125,0,0,0.125,0,0)\">\r\n        <rect x=\"0\" y=\"0\" width=\"512\" height=\"512\" style=\"fill:none;\"/>\r\n        <g transform=\"matrix(1,0,0,1,28.1589,7.22343)\">\r\n            <g id=\"volumeMuteIcon\">\r\n                <path id=\"loudspeaker\" d=\"M84,153.273L168.219,27.969C171.391,23.249 177.276,21.157 182.716,22.816C188.156,24.474 191.873,29.493 191.873,35.18C191.873,133.887 191.873,378.113 191.873,476.82C191.873,482.507 188.156,487.526 182.716,489.184C177.276,490.843 171.391,488.751 168.219,484.031L84,358.727L84,376.822L-3.037,376.822L-3.037,135.178L84,135.178L84,153.273Z\"/>\r\n            </g>\r\n        </g>\r\n    </g>\r\n</svg>\r\n";

    var windowedIcon = "<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"no\"?>\r\n<!DOCTYPE svg PUBLIC \"-//W3C//DTD SVG 1.1//EN\" \"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd\">\r\n<svg width=\"100%\" height=\"100%\" viewBox=\"0 0 64 64\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" xml:space=\"preserve\" xmlns:serif=\"http://www.serif.com/\" style=\"fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;\">\r\n    <g id=\"Mesa-de-trabajo1\" serif:id=\"Mesa de trabajo1\" transform=\"matrix(0.125,0,0,0.125,0,0)\">\r\n        <rect x=\"0\" y=\"0\" width=\"512\" height=\"512\" style=\"fill:none;\"/>\r\n        <path id=\"windowedIcon-2\" serif:id=\"windowedIcon 2\" d=\"M99.271,352.203L43.069,296L216,296L216,468.931L159.797,412.729L105.769,466.757L45.243,406.231L99.271,352.203ZM412.729,159.797L468.931,216L296,216L296,43.069L352.203,99.271L406.231,45.243L466.757,105.769L412.729,159.797Z\"/>\r\n    </g>\r\n</svg>\r\n";

    /* src\Player.svelte generated by Svelte v3.52.0 */

    const { console: console_1$2 } = globals;
    const file$9 = "src\\Player.svelte";

    function create_fragment$g(ctx) {
    	let div;

    	const block = {
    		c: function create() {
    			div = element("div");
    			attr_dev(div, "id", /*containerId*/ ctx[0]);
    			attr_dev(div, "class", "player-container svelte-1ud6k3e");
    			add_location(div, file$9, 177, 0, 7285);
    		},
    		l: function claim(nodes) {
    			throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option");
    		},
    		m: function mount(target, anchor) {
    			insert_dev(target, div, anchor);
    		},
    		p: function update(ctx, [dirty]) {
    			if (dirty & /*containerId*/ 1) {
    				attr_dev(div, "id", /*containerId*/ ctx[0]);
    			}
    		},
    		i: noop,
    		o: noop,
    		d: function destroy(detaching) {
    			if (detaching) detach_dev(div);
    		}
    	};

    	dispatch_dev("SvelteRegisterBlock", {
    		block,
    		id: create_fragment$g.name,
    		type: "component",
    		source: "",
    		ctx
    	});

    	return block;
    }

    function instance$g($$self, $$props, $$invalidate) {
    	let { $$slots: slots = {}, $$scope } = $$props;
    	validate_slots('Player', slots, []);
    	let { videoId } = $$props;
    	let { containerId = 'player-container' } = $$props;
    	let { onVideoIdChanged } = $$props;
    	let { onPlay } = $$props;
    	let { config } = $$props;
    	let { manifest } = $$props;
    	let { autoplay = false } = $$props;

    	const cancelLoad = nextVideoId => {
    		if (paella && (paella.state === paellaCore.PlayerState.LOADING_MANIFEST || paella.state === paellaCore.PlayerState.LOADING_PLAYER)) {
    			// To break a player load, the only option is to reload the page
    			setCookie('nextVideo', nextVideoId);

    			location.reload();
    		} //paella.unload();
    	};

    	const reloadPlayer = async (skinObject = null) => {
    		if (skinObject) {
    			await paella.skin.loadSkin(skinObject);
    		} else {
    			await paella.reload();
    		}
    	};

    	let { paella = null } = $$props;

    	onMount(async () => {
    		const initParams = {
    			customPluginContext: [
    				getBasicPluginContext(),
    				getSlidePluginContext(),
    				getZoomPluginContext(),
    				getUserTrackingPluginContext(),
    				getLayoutPluginContext(),
    				getWebGLPluginContext()
    			],
    			configResourcesUrl: 'player-config/',
    			configUrl: 'player-config/config.json',
    			loadConfig: async (configUrl, player) => {
    				if (config) {
    					return config;
    				} else {
    					return await paellaCore.defaultLoadConfigFunction(configUrl, player);
    				}
    			},
    			getVideoId: (config, player) => {
    				const cookieVideo = getCookie('nextVideo');

    				if (cookieVideo !== "") {
    					$$invalidate(1, videoId = cookieVideo);

    					if (onVideoIdChanged) {
    						onVideoIdChanged(videoId);
    					}

    					return cookieVideo;
    				}

    				if (!videoId) {
    					$$invalidate(1, videoId = paellaCore.utils.getUrlParameter("id"));
    				}

    				return videoId;
    			},
    			loadVideoManifest: async (videoManifestUrl, config, player) => {
    				if (manifest) {
    					return manifest;
    				} else {
    					return await paellaCore.defaultLoadVideoManifestFunction(videoManifestUrl, config, player);
    				}
    			},
    			getCookieConsentFunction: type => {
    				const consentData = getCookieConsentData();
    				return consentData[type];
    			}
    		};

    		$$invalidate(2, paella = new paellaCore.Paella(containerId, initParams));

    		window.addEventListener('cookiesUpdated', () => {
    			paella.cookieConsent.updateConsentData();
    		});

    		paella.loadManifest().then(() => {
    			paella.addCustomPluginIcon("es.upv.paella.backwardButtonPlugin", "backwardIcon", backwardIcon);
    			paella.addCustomPluginIcon("es.upv.paella.captionsSelectorPlugin", "captionsIcon", captionsIcon);
    			paella.addCustomPluginIcon("es.upv.paella.downloadsPlugin", "downloadIcon", downloadIcon);
    			paella.addCustomPluginIcon("es.upv.paella.findCaptionsPlugin", "findCaptionsIcon", findCaptionsIcon);
    			paella.addCustomPluginIcon("es.upv.paella.forwardButtonPlugin", "forwardIcon", forwardIcon);
    			paella.addCustomPluginIcon("es.upv.paella.fullscreenButton", "fullscreenIcon", fullscreenIcon);
    			paella.addCustomPluginIcon("es.upv.paella.fullscreenButton", "windowedIcon", windowedIcon);
    			paella.addCustomPluginIcon("es.upv.paella.keyboardShortcutsHelp", "keyboardIcon", keyboardIcon);
    			paella.addCustomPluginIcon("es.upv.paella.layoutSelector", "layoutIcon", layoutIcon);
    			paella.addCustomPluginIcon("es.upv.paella.qualitySelector", "screenIcon", screenIcon);
    			paella.addCustomPluginIcon("es.upv.paella.audioSelector", "screenIcon", screenIcon);
    			paella.addCustomPluginIcon("es.upv.paella.frameControlButtonPlugin", "photoIcon", slidesIcon);
    			paella.addCustomPluginIcon("es.upv.paella.volumeButtonPlugin", "volumeHighIcon", volumeHighIcon);
    			paella.addCustomPluginIcon("es.upv.paella.volumeButtonPlugin", "volumeLowIcon", volumeLowIcon);
    			paella.addCustomPluginIcon("es.upv.paella.volumeButtonPlugin", "volumeMidIcon", volumeMidIcon);
    			paella.addCustomPluginIcon("es.upv.paella.volumeButtonPlugin", "volumeMuteIcon", volumeMuteIcon);
    			paellaCore.utils.loadStyle('./paella_player_styles.css');

    			if (autoplay) {
    				return paella.load();
    			} else {
    				return Promise.resolve();
    			}
    		}).then(() => {
    			
    		}).catch(err => console.error(err));

    		paella.bindEvent(paellaCore.Events.PLAY, () => {
    			if (typeof onPlay === "function") {
    				onPlay(paella);
    			}
    		});
    	});

    	afterUpdate(async () => {
    		setCookie('nextVideo', "");

    		if (paella && paella.state === paellaCore.PlayerState.ERROR) {
    			await paella.unload();
    		}

    		if (paella && (paella.state === paellaCore.PlayerState.LOADED || paella.state == paellaCore.PlayerState.MANIFEST)) {
    			await paella.unload();
    			await paella.loadManifest();
    		} else if (paella && paella.state === paellaCore.PlayerState.UNLOADED) {
    			await paella.load();
    		}
    	});

    	$$self.$$.on_mount.push(function () {
    		if (videoId === undefined && !('videoId' in $$props || $$self.$$.bound[$$self.$$.props['videoId']])) {
    			console_1$2.warn("<Player> was created without expected prop 'videoId'");
    		}

    		if (onVideoIdChanged === undefined && !('onVideoIdChanged' in $$props || $$self.$$.bound[$$self.$$.props['onVideoIdChanged']])) {
    			console_1$2.warn("<Player> was created without expected prop 'onVideoIdChanged'");
    		}

    		if (onPlay === undefined && !('onPlay' in $$props || $$self.$$.bound[$$self.$$.props['onPlay']])) {
    			console_1$2.warn("<Player> was created without expected prop 'onPlay'");
    		}

    		if (config === undefined && !('config' in $$props || $$self.$$.bound[$$self.$$.props['config']])) {
    			console_1$2.warn("<Player> was created without expected prop 'config'");
    		}

    		if (manifest === undefined && !('manifest' in $$props || $$self.$$.bound[$$self.$$.props['manifest']])) {
    			console_1$2.warn("<Player> was created without expected prop 'manifest'");
    		}
    	});

    	const writable_props = [
    		'videoId',
    		'containerId',
    		'onVideoIdChanged',
    		'onPlay',
    		'config',
    		'manifest',
    		'autoplay',
    		'paella'
    	];

    	Object.keys($$props).forEach(key => {
    		if (!~writable_props.indexOf(key) && key.slice(0, 2) !== '$$' && key !== 'slot') console_1$2.warn(`<Player> was created with unknown prop '${key}'`);
    	});

    	$$self.$$set = $$props => {
    		if ('videoId' in $$props) $$invalidate(1, videoId = $$props.videoId);
    		if ('containerId' in $$props) $$invalidate(0, containerId = $$props.containerId);
    		if ('onVideoIdChanged' in $$props) $$invalidate(3, onVideoIdChanged = $$props.onVideoIdChanged);
    		if ('onPlay' in $$props) $$invalidate(4, onPlay = $$props.onPlay);
    		if ('config' in $$props) $$invalidate(5, config = $$props.config);
    		if ('manifest' in $$props) $$invalidate(6, manifest = $$props.manifest);
    		if ('autoplay' in $$props) $$invalidate(7, autoplay = $$props.autoplay);
    		if ('paella' in $$props) $$invalidate(2, paella = $$props.paella);
    	};

    	$$self.$capture_state = () => ({
    		onMount,
    		afterUpdate,
    		setCookie,
    		getCookie,
    		getCookieConsentData,
    		Paella: paellaCore.Paella,
    		utils: paellaCore.utils,
    		PlayerState: paellaCore.PlayerState,
    		Events: paellaCore.Events,
    		defaultLoadConfigFunction: paellaCore.defaultLoadConfigFunction,
    		defaultLoadVideoManifestFunction: paellaCore.defaultLoadVideoManifestFunction,
    		getBasicPluginContext,
    		getSlidePluginContext,
    		getZoomPluginContext,
    		getUserTrackingPluginContext,
    		getLayoutPluginContext,
    		getWebGLPluginContext,
    		backwardIcon,
    		captionsIcon,
    		downloadIcon,
    		findCaptionsIcon,
    		forwardIcon,
    		fullscreenIcon,
    		keyboardIcon,
    		layoutIcon,
    		screenIcon,
    		slidesIcon,
    		volumeHighIcon,
    		volumeLowIcon,
    		volumeMidIcon,
    		volumeMuteIcon,
    		windowedIcon,
    		videoId,
    		containerId,
    		onVideoIdChanged,
    		onPlay,
    		config,
    		manifest,
    		autoplay,
    		cancelLoad,
    		reloadPlayer,
    		paella
    	});

    	$$self.$inject_state = $$props => {
    		if ('videoId' in $$props) $$invalidate(1, videoId = $$props.videoId);
    		if ('containerId' in $$props) $$invalidate(0, containerId = $$props.containerId);
    		if ('onVideoIdChanged' in $$props) $$invalidate(3, onVideoIdChanged = $$props.onVideoIdChanged);
    		if ('onPlay' in $$props) $$invalidate(4, onPlay = $$props.onPlay);
    		if ('config' in $$props) $$invalidate(5, config = $$props.config);
    		if ('manifest' in $$props) $$invalidate(6, manifest = $$props.manifest);
    		if ('autoplay' in $$props) $$invalidate(7, autoplay = $$props.autoplay);
    		if ('paella' in $$props) $$invalidate(2, paella = $$props.paella);
    	};

    	if ($$props && "$$inject" in $$props) {
    		$$self.$inject_state($$props.$$inject);
    	}

    	return [
    		containerId,
    		videoId,
    		paella,
    		onVideoIdChanged,
    		onPlay,
    		config,
    		manifest,
    		autoplay,
    		cancelLoad,
    		reloadPlayer
    	];
    }

    class Player extends SvelteComponentDev {
    	constructor(options) {
    		super(options);

    		init$1(this, options, instance$g, create_fragment$g, safe_not_equal, {
    			videoId: 1,
    			containerId: 0,
    			onVideoIdChanged: 3,
    			onPlay: 4,
    			config: 5,
    			manifest: 6,
    			autoplay: 7,
    			cancelLoad: 8,
    			reloadPlayer: 9,
    			paella: 2
    		});

    		dispatch_dev("SvelteRegisterComponent", {
    			component: this,
    			tagName: "Player",
    			options,
    			id: create_fragment$g.name
    		});
    	}

    	get videoId() {
    		throw new Error("<Player>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
    	}

    	set videoId(value) {
    		throw new Error("<Player>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
    	}

    	get containerId() {
    		throw new Error("<Player>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
    	}

    	set containerId(value) {
    		throw new Error("<Player>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
    	}

    	get onVideoIdChanged() {
    		throw new Error("<Player>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
    	}

    	set onVideoIdChanged(value) {
    		throw new Error("<Player>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
    	}

    	get onPlay() {
    		throw new Error("<Player>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
    	}

    	set onPlay(value) {
    		throw new Error("<Player>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
    	}

    	get config() {
    		throw new Error("<Player>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
    	}

    	set config(value) {
    		throw new Error("<Player>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
    	}

    	get manifest() {
    		throw new Error("<Player>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
    	}

    	set manifest(value) {
    		throw new Error("<Player>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
    	}

    	get autoplay() {
    		throw new Error("<Player>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
    	}

    	set autoplay(value) {
    		throw new Error("<Player>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
    	}

    	get cancelLoad() {
    		return this.$$.ctx[8];
    	}

    	set cancelLoad(value) {
    		throw new Error("<Player>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
    	}

    	get reloadPlayer() {
    		return this.$$.ctx[9];
    	}

    	set reloadPlayer(value) {
    		throw new Error("<Player>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
    	}

    	get paella() {
    		throw new Error("<Player>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
    	}

    	set paella(value) {
    		throw new Error("<Player>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
    	}
    }

    var showdown = createCommonjsModule(function (module) {
    (function(){
    /**
     * Created by Tivie on 13-07-2015.
     */

    function getDefaultOpts (simple) {

      var defaultOptions = {
        omitExtraWLInCodeBlocks: {
          defaultValue: false,
          describe: 'Omit the default extra whiteline added to code blocks',
          type: 'boolean'
        },
        noHeaderId: {
          defaultValue: false,
          describe: 'Turn on/off generated header id',
          type: 'boolean'
        },
        prefixHeaderId: {
          defaultValue: false,
          describe: 'Add a prefix to the generated header ids. Passing a string will prefix that string to the header id. Setting to true will add a generic \'section-\' prefix',
          type: 'string'
        },
        rawPrefixHeaderId: {
          defaultValue: false,
          describe: 'Setting this option to true will prevent showdown from modifying the prefix. This might result in malformed IDs (if, for instance, the " char is used in the prefix)',
          type: 'boolean'
        },
        ghCompatibleHeaderId: {
          defaultValue: false,
          describe: 'Generate header ids compatible with github style (spaces are replaced with dashes, a bunch of non alphanumeric chars are removed)',
          type: 'boolean'
        },
        rawHeaderId: {
          defaultValue: false,
          describe: 'Remove only spaces, \' and " from generated header ids (including prefixes), replacing them with dashes (-). WARNING: This might result in malformed ids',
          type: 'boolean'
        },
        headerLevelStart: {
          defaultValue: false,
          describe: 'The header blocks level start',
          type: 'integer'
        },
        parseImgDimensions: {
          defaultValue: false,
          describe: 'Turn on/off image dimension parsing',
          type: 'boolean'
        },
        simplifiedAutoLink: {
          defaultValue: false,
          describe: 'Turn on/off GFM autolink style',
          type: 'boolean'
        },
        excludeTrailingPunctuationFromURLs: {
          defaultValue: false,
          describe: 'Excludes trailing punctuation from links generated with autoLinking',
          type: 'boolean'
        },
        literalMidWordUnderscores: {
          defaultValue: false,
          describe: 'Parse midword underscores as literal underscores',
          type: 'boolean'
        },
        literalMidWordAsterisks: {
          defaultValue: false,
          describe: 'Parse midword asterisks as literal asterisks',
          type: 'boolean'
        },
        strikethrough: {
          defaultValue: false,
          describe: 'Turn on/off strikethrough support',
          type: 'boolean'
        },
        tables: {
          defaultValue: false,
          describe: 'Turn on/off tables support',
          type: 'boolean'
        },
        tablesHeaderId: {
          defaultValue: false,
          describe: 'Add an id to table headers',
          type: 'boolean'
        },
        ghCodeBlocks: {
          defaultValue: true,
          describe: 'Turn on/off GFM fenced code blocks support',
          type: 'boolean'
        },
        tasklists: {
          defaultValue: false,
          describe: 'Turn on/off GFM tasklist support',
          type: 'boolean'
        },
        smoothLivePreview: {
          defaultValue: false,
          describe: 'Prevents weird effects in live previews due to incomplete input',
          type: 'boolean'
        },
        smartIndentationFix: {
          defaultValue: false,
          describe: 'Tries to smartly fix indentation in es6 strings',
          type: 'boolean'
        },
        disableForced4SpacesIndentedSublists: {
          defaultValue: false,
          describe: 'Disables the requirement of indenting nested sublists by 4 spaces',
          type: 'boolean'
        },
        simpleLineBreaks: {
          defaultValue: false,
          describe: 'Parses simple line breaks as <br> (GFM Style)',
          type: 'boolean'
        },
        requireSpaceBeforeHeadingText: {
          defaultValue: false,
          describe: 'Makes adding a space between `#` and the header text mandatory (GFM Style)',
          type: 'boolean'
        },
        ghMentions: {
          defaultValue: false,
          describe: 'Enables github @mentions',
          type: 'boolean'
        },
        ghMentionsLink: {
          defaultValue: 'https://github.com/{u}',
          describe: 'Changes the link generated by @mentions. Only applies if ghMentions option is enabled.',
          type: 'string'
        },
        encodeEmails: {
          defaultValue: true,
          describe: 'Encode e-mail addresses through the use of Character Entities, transforming ASCII e-mail addresses into its equivalent decimal entities',
          type: 'boolean'
        },
        openLinksInNewWindow: {
          defaultValue: false,
          describe: 'Open all links in new windows',
          type: 'boolean'
        },
        backslashEscapesHTMLTags: {
          defaultValue: false,
          describe: 'Support for HTML Tag escaping. ex: \<div>foo\</div>',
          type: 'boolean'
        },
        emoji: {
          defaultValue: false,
          describe: 'Enable emoji support. Ex: `this is a :smile: emoji`',
          type: 'boolean'
        },
        underline: {
          defaultValue: false,
          describe: 'Enable support for underline. Syntax is double or triple underscores: `__underline word__`. With this option enabled, underscores no longer parses into `<em>` and `<strong>`',
          type: 'boolean'
        },
        ellipsis: {
          defaultValue: true,
          describe: 'Replaces three dots with the ellipsis unicode character',
          type: 'boolean'
        },
        completeHTMLDocument: {
          defaultValue: false,
          describe: 'Outputs a complete html document, including `<html>`, `<head>` and `<body>` tags',
          type: 'boolean'
        },
        metadata: {
          defaultValue: false,
          describe: 'Enable support for document metadata (defined at the top of the document between `«««` and `»»»` or between `---` and `---`).',
          type: 'boolean'
        },
        splitAdjacentBlockquotes: {
          defaultValue: false,
          describe: 'Split adjacent blockquote blocks',
          type: 'boolean'
        }
      };
      if (simple === false) {
        return JSON.parse(JSON.stringify(defaultOptions));
      }
      var ret = {};
      for (var opt in defaultOptions) {
        if (defaultOptions.hasOwnProperty(opt)) {
          ret[opt] = defaultOptions[opt].defaultValue;
        }
      }
      return ret;
    }

    function allOptionsOn () {
      var options = getDefaultOpts(true),
          ret = {};
      for (var opt in options) {
        if (options.hasOwnProperty(opt)) {
          ret[opt] = true;
        }
      }
      return ret;
    }

    /**
     * Created by Tivie on 06-01-2015.
     */

    // Private properties
    var showdown = {},
        parsers = {},
        extensions = {},
        globalOptions = getDefaultOpts(true),
        setFlavor = 'vanilla',
        flavor = {
          github: {
            omitExtraWLInCodeBlocks:              true,
            simplifiedAutoLink:                   true,
            excludeTrailingPunctuationFromURLs:   true,
            literalMidWordUnderscores:            true,
            strikethrough:                        true,
            tables:                               true,
            tablesHeaderId:                       true,
            ghCodeBlocks:                         true,
            tasklists:                            true,
            disableForced4SpacesIndentedSublists: true,
            simpleLineBreaks:                     true,
            requireSpaceBeforeHeadingText:        true,
            ghCompatibleHeaderId:                 true,
            ghMentions:                           true,
            backslashEscapesHTMLTags:             true,
            emoji:                                true,
            splitAdjacentBlockquotes:             true
          },
          original: {
            noHeaderId:                           true,
            ghCodeBlocks:                         false
          },
          ghost: {
            omitExtraWLInCodeBlocks:              true,
            parseImgDimensions:                   true,
            simplifiedAutoLink:                   true,
            excludeTrailingPunctuationFromURLs:   true,
            literalMidWordUnderscores:            true,
            strikethrough:                        true,
            tables:                               true,
            tablesHeaderId:                       true,
            ghCodeBlocks:                         true,
            tasklists:                            true,
            smoothLivePreview:                    true,
            simpleLineBreaks:                     true,
            requireSpaceBeforeHeadingText:        true,
            ghMentions:                           false,
            encodeEmails:                         true
          },
          vanilla: getDefaultOpts(true),
          allOn: allOptionsOn()
        };

    /**
     * helper namespace
     * @type {{}}
     */
    showdown.helper = {};

    /**
     * TODO LEGACY SUPPORT CODE
     * @type {{}}
     */
    showdown.extensions = {};

    /**
     * Set a global option
     * @static
     * @param {string} key
     * @param {*} value
     * @returns {showdown}
     */
    showdown.setOption = function (key, value) {
      globalOptions[key] = value;
      return this;
    };

    /**
     * Get a global option
     * @static
     * @param {string} key
     * @returns {*}
     */
    showdown.getOption = function (key) {
      return globalOptions[key];
    };

    /**
     * Get the global options
     * @static
     * @returns {{}}
     */
    showdown.getOptions = function () {
      return globalOptions;
    };

    /**
     * Reset global options to the default values
     * @static
     */
    showdown.resetOptions = function () {
      globalOptions = getDefaultOpts(true);
    };

    /**
     * Set the flavor showdown should use as default
     * @param {string} name
     */
    showdown.setFlavor = function (name) {
      if (!flavor.hasOwnProperty(name)) {
        throw Error(name + ' flavor was not found');
      }
      showdown.resetOptions();
      var preset = flavor[name];
      setFlavor = name;
      for (var option in preset) {
        if (preset.hasOwnProperty(option)) {
          globalOptions[option] = preset[option];
        }
      }
    };

    /**
     * Get the currently set flavor
     * @returns {string}
     */
    showdown.getFlavor = function () {
      return setFlavor;
    };

    /**
     * Get the options of a specified flavor. Returns undefined if the flavor was not found
     * @param {string} name Name of the flavor
     * @returns {{}|undefined}
     */
    showdown.getFlavorOptions = function (name) {
      if (flavor.hasOwnProperty(name)) {
        return flavor[name];
      }
    };

    /**
     * Get the default options
     * @static
     * @param {boolean} [simple=true]
     * @returns {{}}
     */
    showdown.getDefaultOptions = function (simple) {
      return getDefaultOpts(simple);
    };

    /**
     * Get or set a subParser
     *
     * subParser(name)       - Get a registered subParser
     * subParser(name, func) - Register a subParser
     * @static
     * @param {string} name
     * @param {function} [func]
     * @returns {*}
     */
    showdown.subParser = function (name, func) {
      if (showdown.helper.isString(name)) {
        if (typeof func !== 'undefined') {
          parsers[name] = func;
        } else {
          if (parsers.hasOwnProperty(name)) {
            return parsers[name];
          } else {
            throw Error('SubParser named ' + name + ' not registered!');
          }
        }
      }
    };

    /**
     * Gets or registers an extension
     * @static
     * @param {string} name
     * @param {object|object[]|function=} ext
     * @returns {*}
     */
    showdown.extension = function (name, ext) {

      if (!showdown.helper.isString(name)) {
        throw Error('Extension \'name\' must be a string');
      }

      name = showdown.helper.stdExtName(name);

      // Getter
      if (showdown.helper.isUndefined(ext)) {
        if (!extensions.hasOwnProperty(name)) {
          throw Error('Extension named ' + name + ' is not registered!');
        }
        return extensions[name];

        // Setter
      } else {
        // Expand extension if it's wrapped in a function
        if (typeof ext === 'function') {
          ext = ext();
        }

        // Ensure extension is an array
        if (!showdown.helper.isArray(ext)) {
          ext = [ext];
        }

        var validExtension = validate(ext, name);

        if (validExtension.valid) {
          extensions[name] = ext;
        } else {
          throw Error(validExtension.error);
        }
      }
    };

    /**
     * Gets all extensions registered
     * @returns {{}}
     */
    showdown.getAllExtensions = function () {
      return extensions;
    };

    /**
     * Remove an extension
     * @param {string} name
     */
    showdown.removeExtension = function (name) {
      delete extensions[name];
    };

    /**
     * Removes all extensions
     */
    showdown.resetExtensions = function () {
      extensions = {};
    };

    /**
     * Validate extension
     * @param {array} extension
     * @param {string} name
     * @returns {{valid: boolean, error: string}}
     */
    function validate (extension, name) {

      var errMsg = (name) ? 'Error in ' + name + ' extension->' : 'Error in unnamed extension',
          ret = {
            valid: true,
            error: ''
          };

      if (!showdown.helper.isArray(extension)) {
        extension = [extension];
      }

      for (var i = 0; i < extension.length; ++i) {
        var baseMsg = errMsg + ' sub-extension ' + i + ': ',
            ext = extension[i];
        if (typeof ext !== 'object') {
          ret.valid = false;
          ret.error = baseMsg + 'must be an object, but ' + typeof ext + ' given';
          return ret;
        }

        if (!showdown.helper.isString(ext.type)) {
          ret.valid = false;
          ret.error = baseMsg + 'property "type" must be a string, but ' + typeof ext.type + ' given';
          return ret;
        }

        var type = ext.type = ext.type.toLowerCase();

        // normalize extension type
        if (type === 'language') {
          type = ext.type = 'lang';
        }

        if (type === 'html') {
          type = ext.type = 'output';
        }

        if (type !== 'lang' && type !== 'output' && type !== 'listener') {
          ret.valid = false;
          ret.error = baseMsg + 'type ' + type + ' is not recognized. Valid values: "lang/language", "output/html" or "listener"';
          return ret;
        }

        if (type === 'listener') {
          if (showdown.helper.isUndefined(ext.listeners)) {
            ret.valid = false;
            ret.error = baseMsg + '. Extensions of type "listener" must have a property called "listeners"';
            return ret;
          }
        } else {
          if (showdown.helper.isUndefined(ext.filter) && showdown.helper.isUndefined(ext.regex)) {
            ret.valid = false;
            ret.error = baseMsg + type + ' extensions must define either a "regex" property or a "filter" method';
            return ret;
          }
        }

        if (ext.listeners) {
          if (typeof ext.listeners !== 'object') {
            ret.valid = false;
            ret.error = baseMsg + '"listeners" property must be an object but ' + typeof ext.listeners + ' given';
            return ret;
          }
          for (var ln in ext.listeners) {
            if (ext.listeners.hasOwnProperty(ln)) {
              if (typeof ext.listeners[ln] !== 'function') {
                ret.valid = false;
                ret.error = baseMsg + '"listeners" property must be an hash of [event name]: [callback]. listeners.' + ln +
                  ' must be a function but ' + typeof ext.listeners[ln] + ' given';
                return ret;
              }
            }
          }
        }

        if (ext.filter) {
          if (typeof ext.filter !== 'function') {
            ret.valid = false;
            ret.error = baseMsg + '"filter" must be a function, but ' + typeof ext.filter + ' given';
            return ret;
          }
        } else if (ext.regex) {
          if (showdown.helper.isString(ext.regex)) {
            ext.regex = new RegExp(ext.regex, 'g');
          }
          if (!(ext.regex instanceof RegExp)) {
            ret.valid = false;
            ret.error = baseMsg + '"regex" property must either be a string or a RegExp object, but ' + typeof ext.regex + ' given';
            return ret;
          }
          if (showdown.helper.isUndefined(ext.replace)) {
            ret.valid = false;
            ret.error = baseMsg + '"regex" extensions must implement a replace string or function';
            return ret;
          }
        }
      }
      return ret;
    }

    /**
     * Validate extension
     * @param {object} ext
     * @returns {boolean}
     */
    showdown.validateExtension = function (ext) {

      var validateExtension = validate(ext, null);
      if (!validateExtension.valid) {
        console.warn(validateExtension.error);
        return false;
      }
      return true;
    };

    /**
     * showdownjs helper functions
     */

    if (!showdown.hasOwnProperty('helper')) {
      showdown.helper = {};
    }

    /**
     * Check if var is string
     * @static
     * @param {string} a
     * @returns {boolean}
     */
    showdown.helper.isString = function (a) {
      return (typeof a === 'string' || a instanceof String);
    };

    /**
     * Check if var is a function
     * @static
     * @param {*} a
     * @returns {boolean}
     */
    showdown.helper.isFunction = function (a) {
      var getType = {};
      return a && getType.toString.call(a) === '[object Function]';
    };

    /**
     * isArray helper function
     * @static
     * @param {*} a
     * @returns {boolean}
     */
    showdown.helper.isArray = function (a) {
      return Array.isArray(a);
    };

    /**
     * Check if value is undefined
     * @static
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is `undefined`, else `false`.
     */
    showdown.helper.isUndefined = function (value) {
      return typeof value === 'undefined';
    };

    /**
     * ForEach helper function
     * Iterates over Arrays and Objects (own properties only)
     * @static
     * @param {*} obj
     * @param {function} callback Accepts 3 params: 1. value, 2. key, 3. the original array/object
     */
    showdown.helper.forEach = function (obj, callback) {
      // check if obj is defined
      if (showdown.helper.isUndefined(obj)) {
        throw new Error('obj param is required');
      }

      if (showdown.helper.isUndefined(callback)) {
        throw new Error('callback param is required');
      }

      if (!showdown.helper.isFunction(callback)) {
        throw new Error('callback param must be a function/closure');
      }

      if (typeof obj.forEach === 'function') {
        obj.forEach(callback);
      } else if (showdown.helper.isArray(obj)) {
        for (var i = 0; i < obj.length; i++) {
          callback(obj[i], i, obj);
        }
      } else if (typeof (obj) === 'object') {
        for (var prop in obj) {
          if (obj.hasOwnProperty(prop)) {
            callback(obj[prop], prop, obj);
          }
        }
      } else {
        throw new Error('obj does not seem to be an array or an iterable object');
      }
    };

    /**
     * Standardidize extension name
     * @static
     * @param {string} s extension name
     * @returns {string}
     */
    showdown.helper.stdExtName = function (s) {
      return s.replace(/[_?*+\/\\.^-]/g, '').replace(/\s/g, '').toLowerCase();
    };

    function escapeCharactersCallback (wholeMatch, m1) {
      var charCodeToEscape = m1.charCodeAt(0);
      return '¨E' + charCodeToEscape + 'E';
    }

    /**
     * Callback used to escape characters when passing through String.replace
     * @static
     * @param {string} wholeMatch
     * @param {string} m1
     * @returns {string}
     */
    showdown.helper.escapeCharactersCallback = escapeCharactersCallback;

    /**
     * Escape characters in a string
     * @static
     * @param {string} text
     * @param {string} charsToEscape
     * @param {boolean} afterBackslash
     * @returns {XML|string|void|*}
     */
    showdown.helper.escapeCharacters = function (text, charsToEscape, afterBackslash) {
      // First we have to escape the escape characters so that
      // we can build a character class out of them
      var regexString = '([' + charsToEscape.replace(/([\[\]\\])/g, '\\$1') + '])';

      if (afterBackslash) {
        regexString = '\\\\' + regexString;
      }

      var regex = new RegExp(regexString, 'g');
      text = text.replace(regex, escapeCharactersCallback);

      return text;
    };

    /**
     * Unescape HTML entities
     * @param txt
     * @returns {string}
     */
    showdown.helper.unescapeHTMLEntities = function (txt) {

      return txt
        .replace(/&quot;/g, '"')
        .replace(/&lt;/g, '<')
        .replace(/&gt;/g, '>')
        .replace(/&amp;/g, '&');
    };

    var rgxFindMatchPos = function (str, left, right, flags) {
      var f = flags || '',
          g = f.indexOf('g') > -1,
          x = new RegExp(left + '|' + right, 'g' + f.replace(/g/g, '')),
          l = new RegExp(left, f.replace(/g/g, '')),
          pos = [],
          t, s, m, start, end;

      do {
        t = 0;
        while ((m = x.exec(str))) {
          if (l.test(m[0])) {
            if (!(t++)) {
              s = x.lastIndex;
              start = s - m[0].length;
            }
          } else if (t) {
            if (!--t) {
              end = m.index + m[0].length;
              var obj = {
                left: {start: start, end: s},
                match: {start: s, end: m.index},
                right: {start: m.index, end: end},
                wholeMatch: {start: start, end: end}
              };
              pos.push(obj);
              if (!g) {
                return pos;
              }
            }
          }
        }
      } while (t && (x.lastIndex = s));

      return pos;
    };

    /**
     * matchRecursiveRegExp
     *
     * (c) 2007 Steven Levithan <stevenlevithan.com>
     * MIT License
     *
     * Accepts a string to search, a left and right format delimiter
     * as regex patterns, and optional regex flags. Returns an array
     * of matches, allowing nested instances of left/right delimiters.
     * Use the "g" flag to return all matches, otherwise only the
     * first is returned. Be careful to ensure that the left and
     * right format delimiters produce mutually exclusive matches.
     * Backreferences are not supported within the right delimiter
     * due to how it is internally combined with the left delimiter.
     * When matching strings whose format delimiters are unbalanced
     * to the left or right, the output is intentionally as a
     * conventional regex library with recursion support would
     * produce, e.g. "<<x>" and "<x>>" both produce ["x"] when using
     * "<" and ">" as the delimiters (both strings contain a single,
     * balanced instance of "<x>").
     *
     * examples:
     * matchRecursiveRegExp("test", "\\(", "\\)")
     * returns: []
     * matchRecursiveRegExp("<t<<e>><s>>t<>", "<", ">", "g")
     * returns: ["t<<e>><s>", ""]
     * matchRecursiveRegExp("<div id=\"x\">test</div>", "<div\\b[^>]*>", "</div>", "gi")
     * returns: ["test"]
     */
    showdown.helper.matchRecursiveRegExp = function (str, left, right, flags) {

      var matchPos = rgxFindMatchPos (str, left, right, flags),
          results = [];

      for (var i = 0; i < matchPos.length; ++i) {
        results.push([
          str.slice(matchPos[i].wholeMatch.start, matchPos[i].wholeMatch.end),
          str.slice(matchPos[i].match.start, matchPos[i].match.end),
          str.slice(matchPos[i].left.start, matchPos[i].left.end),
          str.slice(matchPos[i].right.start, matchPos[i].right.end)
        ]);
      }
      return results;
    };

    /**
     *
     * @param {string} str
     * @param {string|function} replacement
     * @param {string} left
     * @param {string} right
     * @param {string} flags
     * @returns {string}
     */
    showdown.helper.replaceRecursiveRegExp = function (str, replacement, left, right, flags) {

      if (!showdown.helper.isFunction(replacement)) {
        var repStr = replacement;
        replacement = function () {
          return repStr;
        };
      }

      var matchPos = rgxFindMatchPos(str, left, right, flags),
          finalStr = str,
          lng = matchPos.length;

      if (lng > 0) {
        var bits = [];
        if (matchPos[0].wholeMatch.start !== 0) {
          bits.push(str.slice(0, matchPos[0].wholeMatch.start));
        }
        for (var i = 0; i < lng; ++i) {
          bits.push(
            replacement(
              str.slice(matchPos[i].wholeMatch.start, matchPos[i].wholeMatch.end),
              str.slice(matchPos[i].match.start, matchPos[i].match.end),
              str.slice(matchPos[i].left.start, matchPos[i].left.end),
              str.slice(matchPos[i].right.start, matchPos[i].right.end)
            )
          );
          if (i < lng - 1) {
            bits.push(str.slice(matchPos[i].wholeMatch.end, matchPos[i + 1].wholeMatch.start));
          }
        }
        if (matchPos[lng - 1].wholeMatch.end < str.length) {
          bits.push(str.slice(matchPos[lng - 1].wholeMatch.end));
        }
        finalStr = bits.join('');
      }
      return finalStr;
    };

    /**
     * Returns the index within the passed String object of the first occurrence of the specified regex,
     * starting the search at fromIndex. Returns -1 if the value is not found.
     *
     * @param {string} str string to search
     * @param {RegExp} regex Regular expression to search
     * @param {int} [fromIndex = 0] Index to start the search
     * @returns {Number}
     * @throws InvalidArgumentError
     */
    showdown.helper.regexIndexOf = function (str, regex, fromIndex) {
      if (!showdown.helper.isString(str)) {
        throw 'InvalidArgumentError: first parameter of showdown.helper.regexIndexOf function must be a string';
      }
      if (regex instanceof RegExp === false) {
        throw 'InvalidArgumentError: second parameter of showdown.helper.regexIndexOf function must be an instance of RegExp';
      }
      var indexOf = str.substring(fromIndex || 0).search(regex);
      return (indexOf >= 0) ? (indexOf + (fromIndex || 0)) : indexOf;
    };

    /**
     * Splits the passed string object at the defined index, and returns an array composed of the two substrings
     * @param {string} str string to split
     * @param {int} index index to split string at
     * @returns {[string,string]}
     * @throws InvalidArgumentError
     */
    showdown.helper.splitAtIndex = function (str, index) {
      if (!showdown.helper.isString(str)) {
        throw 'InvalidArgumentError: first parameter of showdown.helper.regexIndexOf function must be a string';
      }
      return [str.substring(0, index), str.substring(index)];
    };

    /**
     * Obfuscate an e-mail address through the use of Character Entities,
     * transforming ASCII characters into their equivalent decimal or hex entities.
     *
     * Since it has a random component, subsequent calls to this function produce different results
     *
     * @param {string} mail
     * @returns {string}
     */
    showdown.helper.encodeEmailAddress = function (mail) {
      var encode = [
        function (ch) {
          return '&#' + ch.charCodeAt(0) + ';';
        },
        function (ch) {
          return '&#x' + ch.charCodeAt(0).toString(16) + ';';
        },
        function (ch) {
          return ch;
        }
      ];

      mail = mail.replace(/./g, function (ch) {
        if (ch === '@') {
          // this *must* be encoded. I insist.
          ch = encode[Math.floor(Math.random() * 2)](ch);
        } else {
          var r = Math.random();
          // roughly 10% raw, 45% hex, 45% dec
          ch = (
            r > 0.9 ? encode[2](ch) : r > 0.45 ? encode[1](ch) : encode[0](ch)
          );
        }
        return ch;
      });

      return mail;
    };

    /**
     *
     * @param str
     * @param targetLength
     * @param padString
     * @returns {string}
     */
    showdown.helper.padEnd = function padEnd (str, targetLength, padString) {
      /*jshint bitwise: false*/
      // eslint-disable-next-line space-infix-ops
      targetLength = targetLength>>0; //floor if number or convert non-number to 0;
      /*jshint bitwise: true*/
      padString = String(padString || ' ');
      if (str.length > targetLength) {
        return String(str);
      } else {
        targetLength = targetLength - str.length;
        if (targetLength > padString.length) {
          padString += padString.repeat(targetLength / padString.length); //append to original to ensure we are longer than needed
        }
        return String(str) + padString.slice(0,targetLength);
      }
    };

    /**
     * POLYFILLS
     */
    // use this instead of builtin is undefined for IE8 compatibility
    if (typeof (console) === 'undefined') {
      console = {
        warn: function (msg) {
          alert(msg);
        },
        log: function (msg) {
          alert(msg);
        },
        error: function (msg) {
          throw msg;
        }
      };
    }

    /**
     * Common regexes.
     * We declare some common regexes to improve performance
     */
    showdown.helper.regexes = {
      asteriskDashAndColon: /([*_:~])/g
    };

    /**
     * EMOJIS LIST
     */
    showdown.helper.emojis = {
      '+1':'\ud83d\udc4d',
      '-1':'\ud83d\udc4e',
      '100':'\ud83d\udcaf',
      '1234':'\ud83d\udd22',
      '1st_place_medal':'\ud83e\udd47',
      '2nd_place_medal':'\ud83e\udd48',
      '3rd_place_medal':'\ud83e\udd49',
      '8ball':'\ud83c\udfb1',
      'a':'\ud83c\udd70\ufe0f',
      'ab':'\ud83c\udd8e',
      'abc':'\ud83d\udd24',
      'abcd':'\ud83d\udd21',
      'accept':'\ud83c\ude51',
      'aerial_tramway':'\ud83d\udea1',
      'airplane':'\u2708\ufe0f',
      'alarm_clock':'\u23f0',
      'alembic':'\u2697\ufe0f',
      'alien':'\ud83d\udc7d',
      'ambulance':'\ud83d\ude91',
      'amphora':'\ud83c\udffa',
      'anchor':'\u2693\ufe0f',
      'angel':'\ud83d\udc7c',
      'anger':'\ud83d\udca2',
      'angry':'\ud83d\ude20',
      'anguished':'\ud83d\ude27',
      'ant':'\ud83d\udc1c',
      'apple':'\ud83c\udf4e',
      'aquarius':'\u2652\ufe0f',
      'aries':'\u2648\ufe0f',
      'arrow_backward':'\u25c0\ufe0f',
      'arrow_double_down':'\u23ec',
      'arrow_double_up':'\u23eb',
      'arrow_down':'\u2b07\ufe0f',
      'arrow_down_small':'\ud83d\udd3d',
      'arrow_forward':'\u25b6\ufe0f',
      'arrow_heading_down':'\u2935\ufe0f',
      'arrow_heading_up':'\u2934\ufe0f',
      'arrow_left':'\u2b05\ufe0f',
      'arrow_lower_left':'\u2199\ufe0f',
      'arrow_lower_right':'\u2198\ufe0f',
      'arrow_right':'\u27a1\ufe0f',
      'arrow_right_hook':'\u21aa\ufe0f',
      'arrow_up':'\u2b06\ufe0f',
      'arrow_up_down':'\u2195\ufe0f',
      'arrow_up_small':'\ud83d\udd3c',
      'arrow_upper_left':'\u2196\ufe0f',
      'arrow_upper_right':'\u2197\ufe0f',
      'arrows_clockwise':'\ud83d\udd03',
      'arrows_counterclockwise':'\ud83d\udd04',
      'art':'\ud83c\udfa8',
      'articulated_lorry':'\ud83d\ude9b',
      'artificial_satellite':'\ud83d\udef0',
      'astonished':'\ud83d\ude32',
      'athletic_shoe':'\ud83d\udc5f',
      'atm':'\ud83c\udfe7',
      'atom_symbol':'\u269b\ufe0f',
      'avocado':'\ud83e\udd51',
      'b':'\ud83c\udd71\ufe0f',
      'baby':'\ud83d\udc76',
      'baby_bottle':'\ud83c\udf7c',
      'baby_chick':'\ud83d\udc24',
      'baby_symbol':'\ud83d\udebc',
      'back':'\ud83d\udd19',
      'bacon':'\ud83e\udd53',
      'badminton':'\ud83c\udff8',
      'baggage_claim':'\ud83d\udec4',
      'baguette_bread':'\ud83e\udd56',
      'balance_scale':'\u2696\ufe0f',
      'balloon':'\ud83c\udf88',
      'ballot_box':'\ud83d\uddf3',
      'ballot_box_with_check':'\u2611\ufe0f',
      'bamboo':'\ud83c\udf8d',
      'banana':'\ud83c\udf4c',
      'bangbang':'\u203c\ufe0f',
      'bank':'\ud83c\udfe6',
      'bar_chart':'\ud83d\udcca',
      'barber':'\ud83d\udc88',
      'baseball':'\u26be\ufe0f',
      'basketball':'\ud83c\udfc0',
      'basketball_man':'\u26f9\ufe0f',
      'basketball_woman':'\u26f9\ufe0f&zwj;\u2640\ufe0f',
      'bat':'\ud83e\udd87',
      'bath':'\ud83d\udec0',
      'bathtub':'\ud83d\udec1',
      'battery':'\ud83d\udd0b',
      'beach_umbrella':'\ud83c\udfd6',
      'bear':'\ud83d\udc3b',
      'bed':'\ud83d\udecf',
      'bee':'\ud83d\udc1d',
      'beer':'\ud83c\udf7a',
      'beers':'\ud83c\udf7b',
      'beetle':'\ud83d\udc1e',
      'beginner':'\ud83d\udd30',
      'bell':'\ud83d\udd14',
      'bellhop_bell':'\ud83d\udece',
      'bento':'\ud83c\udf71',
      'biking_man':'\ud83d\udeb4',
      'bike':'\ud83d\udeb2',
      'biking_woman':'\ud83d\udeb4&zwj;\u2640\ufe0f',
      'bikini':'\ud83d\udc59',
      'biohazard':'\u2623\ufe0f',
      'bird':'\ud83d\udc26',
      'birthday':'\ud83c\udf82',
      'black_circle':'\u26ab\ufe0f',
      'black_flag':'\ud83c\udff4',
      'black_heart':'\ud83d\udda4',
      'black_joker':'\ud83c\udccf',
      'black_large_square':'\u2b1b\ufe0f',
      'black_medium_small_square':'\u25fe\ufe0f',
      'black_medium_square':'\u25fc\ufe0f',
      'black_nib':'\u2712\ufe0f',
      'black_small_square':'\u25aa\ufe0f',
      'black_square_button':'\ud83d\udd32',
      'blonde_man':'\ud83d\udc71',
      'blonde_woman':'\ud83d\udc71&zwj;\u2640\ufe0f',
      'blossom':'\ud83c\udf3c',
      'blowfish':'\ud83d\udc21',
      'blue_book':'\ud83d\udcd8',
      'blue_car':'\ud83d\ude99',
      'blue_heart':'\ud83d\udc99',
      'blush':'\ud83d\ude0a',
      'boar':'\ud83d\udc17',
      'boat':'\u26f5\ufe0f',
      'bomb':'\ud83d\udca3',
      'book':'\ud83d\udcd6',
      'bookmark':'\ud83d\udd16',
      'bookmark_tabs':'\ud83d\udcd1',
      'books':'\ud83d\udcda',
      'boom':'\ud83d\udca5',
      'boot':'\ud83d\udc62',
      'bouquet':'\ud83d\udc90',
      'bowing_man':'\ud83d\ude47',
      'bow_and_arrow':'\ud83c\udff9',
      'bowing_woman':'\ud83d\ude47&zwj;\u2640\ufe0f',
      'bowling':'\ud83c\udfb3',
      'boxing_glove':'\ud83e\udd4a',
      'boy':'\ud83d\udc66',
      'bread':'\ud83c\udf5e',
      'bride_with_veil':'\ud83d\udc70',
      'bridge_at_night':'\ud83c\udf09',
      'briefcase':'\ud83d\udcbc',
      'broken_heart':'\ud83d\udc94',
      'bug':'\ud83d\udc1b',
      'building_construction':'\ud83c\udfd7',
      'bulb':'\ud83d\udca1',
      'bullettrain_front':'\ud83d\ude85',
      'bullettrain_side':'\ud83d\ude84',
      'burrito':'\ud83c\udf2f',
      'bus':'\ud83d\ude8c',
      'business_suit_levitating':'\ud83d\udd74',
      'busstop':'\ud83d\ude8f',
      'bust_in_silhouette':'\ud83d\udc64',
      'busts_in_silhouette':'\ud83d\udc65',
      'butterfly':'\ud83e\udd8b',
      'cactus':'\ud83c\udf35',
      'cake':'\ud83c\udf70',
      'calendar':'\ud83d\udcc6',
      'call_me_hand':'\ud83e\udd19',
      'calling':'\ud83d\udcf2',
      'camel':'\ud83d\udc2b',
      'camera':'\ud83d\udcf7',
      'camera_flash':'\ud83d\udcf8',
      'camping':'\ud83c\udfd5',
      'cancer':'\u264b\ufe0f',
      'candle':'\ud83d\udd6f',
      'candy':'\ud83c\udf6c',
      'canoe':'\ud83d\udef6',
      'capital_abcd':'\ud83d\udd20',
      'capricorn':'\u2651\ufe0f',
      'car':'\ud83d\ude97',
      'card_file_box':'\ud83d\uddc3',
      'card_index':'\ud83d\udcc7',
      'card_index_dividers':'\ud83d\uddc2',
      'carousel_horse':'\ud83c\udfa0',
      'carrot':'\ud83e\udd55',
      'cat':'\ud83d\udc31',
      'cat2':'\ud83d\udc08',
      'cd':'\ud83d\udcbf',
      'chains':'\u26d3',
      'champagne':'\ud83c\udf7e',
      'chart':'\ud83d\udcb9',
      'chart_with_downwards_trend':'\ud83d\udcc9',
      'chart_with_upwards_trend':'\ud83d\udcc8',
      'checkered_flag':'\ud83c\udfc1',
      'cheese':'\ud83e\uddc0',
      'cherries':'\ud83c\udf52',
      'cherry_blossom':'\ud83c\udf38',
      'chestnut':'\ud83c\udf30',
      'chicken':'\ud83d\udc14',
      'children_crossing':'\ud83d\udeb8',
      'chipmunk':'\ud83d\udc3f',
      'chocolate_bar':'\ud83c\udf6b',
      'christmas_tree':'\ud83c\udf84',
      'church':'\u26ea\ufe0f',
      'cinema':'\ud83c\udfa6',
      'circus_tent':'\ud83c\udfaa',
      'city_sunrise':'\ud83c\udf07',
      'city_sunset':'\ud83c\udf06',
      'cityscape':'\ud83c\udfd9',
      'cl':'\ud83c\udd91',
      'clamp':'\ud83d\udddc',
      'clap':'\ud83d\udc4f',
      'clapper':'\ud83c\udfac',
      'classical_building':'\ud83c\udfdb',
      'clinking_glasses':'\ud83e\udd42',
      'clipboard':'\ud83d\udccb',
      'clock1':'\ud83d\udd50',
      'clock10':'\ud83d\udd59',
      'clock1030':'\ud83d\udd65',
      'clock11':'\ud83d\udd5a',
      'clock1130':'\ud83d\udd66',
      'clock12':'\ud83d\udd5b',
      'clock1230':'\ud83d\udd67',
      'clock130':'\ud83d\udd5c',
      'clock2':'\ud83d\udd51',
      'clock230':'\ud83d\udd5d',
      'clock3':'\ud83d\udd52',
      'clock330':'\ud83d\udd5e',
      'clock4':'\ud83d\udd53',
      'clock430':'\ud83d\udd5f',
      'clock5':'\ud83d\udd54',
      'clock530':'\ud83d\udd60',
      'clock6':'\ud83d\udd55',
      'clock630':'\ud83d\udd61',
      'clock7':'\ud83d\udd56',
      'clock730':'\ud83d\udd62',
      'clock8':'\ud83d\udd57',
      'clock830':'\ud83d\udd63',
      'clock9':'\ud83d\udd58',
      'clock930':'\ud83d\udd64',
      'closed_book':'\ud83d\udcd5',
      'closed_lock_with_key':'\ud83d\udd10',
      'closed_umbrella':'\ud83c\udf02',
      'cloud':'\u2601\ufe0f',
      'cloud_with_lightning':'\ud83c\udf29',
      'cloud_with_lightning_and_rain':'\u26c8',
      'cloud_with_rain':'\ud83c\udf27',
      'cloud_with_snow':'\ud83c\udf28',
      'clown_face':'\ud83e\udd21',
      'clubs':'\u2663\ufe0f',
      'cocktail':'\ud83c\udf78',
      'coffee':'\u2615\ufe0f',
      'coffin':'\u26b0\ufe0f',
      'cold_sweat':'\ud83d\ude30',
      'comet':'\u2604\ufe0f',
      'computer':'\ud83d\udcbb',
      'computer_mouse':'\ud83d\uddb1',
      'confetti_ball':'\ud83c\udf8a',
      'confounded':'\ud83d\ude16',
      'confused':'\ud83d\ude15',
      'congratulations':'\u3297\ufe0f',
      'construction':'\ud83d\udea7',
      'construction_worker_man':'\ud83d\udc77',
      'construction_worker_woman':'\ud83d\udc77&zwj;\u2640\ufe0f',
      'control_knobs':'\ud83c\udf9b',
      'convenience_store':'\ud83c\udfea',
      'cookie':'\ud83c\udf6a',
      'cool':'\ud83c\udd92',
      'policeman':'\ud83d\udc6e',
      'copyright':'\u00a9\ufe0f',
      'corn':'\ud83c\udf3d',
      'couch_and_lamp':'\ud83d\udecb',
      'couple':'\ud83d\udc6b',
      'couple_with_heart_woman_man':'\ud83d\udc91',
      'couple_with_heart_man_man':'\ud83d\udc68&zwj;\u2764\ufe0f&zwj;\ud83d\udc68',
      'couple_with_heart_woman_woman':'\ud83d\udc69&zwj;\u2764\ufe0f&zwj;\ud83d\udc69',
      'couplekiss_man_man':'\ud83d\udc68&zwj;\u2764\ufe0f&zwj;\ud83d\udc8b&zwj;\ud83d\udc68',
      'couplekiss_man_woman':'\ud83d\udc8f',
      'couplekiss_woman_woman':'\ud83d\udc69&zwj;\u2764\ufe0f&zwj;\ud83d\udc8b&zwj;\ud83d\udc69',
      'cow':'\ud83d\udc2e',
      'cow2':'\ud83d\udc04',
      'cowboy_hat_face':'\ud83e\udd20',
      'crab':'\ud83e\udd80',
      'crayon':'\ud83d\udd8d',
      'credit_card':'\ud83d\udcb3',
      'crescent_moon':'\ud83c\udf19',
      'cricket':'\ud83c\udfcf',
      'crocodile':'\ud83d\udc0a',
      'croissant':'\ud83e\udd50',
      'crossed_fingers':'\ud83e\udd1e',
      'crossed_flags':'\ud83c\udf8c',
      'crossed_swords':'\u2694\ufe0f',
      'crown':'\ud83d\udc51',
      'cry':'\ud83d\ude22',
      'crying_cat_face':'\ud83d\ude3f',
      'crystal_ball':'\ud83d\udd2e',
      'cucumber':'\ud83e\udd52',
      'cupid':'\ud83d\udc98',
      'curly_loop':'\u27b0',
      'currency_exchange':'\ud83d\udcb1',
      'curry':'\ud83c\udf5b',
      'custard':'\ud83c\udf6e',
      'customs':'\ud83d\udec3',
      'cyclone':'\ud83c\udf00',
      'dagger':'\ud83d\udde1',
      'dancer':'\ud83d\udc83',
      'dancing_women':'\ud83d\udc6f',
      'dancing_men':'\ud83d\udc6f&zwj;\u2642\ufe0f',
      'dango':'\ud83c\udf61',
      'dark_sunglasses':'\ud83d\udd76',
      'dart':'\ud83c\udfaf',
      'dash':'\ud83d\udca8',
      'date':'\ud83d\udcc5',
      'deciduous_tree':'\ud83c\udf33',
      'deer':'\ud83e\udd8c',
      'department_store':'\ud83c\udfec',
      'derelict_house':'\ud83c\udfda',
      'desert':'\ud83c\udfdc',
      'desert_island':'\ud83c\udfdd',
      'desktop_computer':'\ud83d\udda5',
      'male_detective':'\ud83d\udd75\ufe0f',
      'diamond_shape_with_a_dot_inside':'\ud83d\udca0',
      'diamonds':'\u2666\ufe0f',
      'disappointed':'\ud83d\ude1e',
      'disappointed_relieved':'\ud83d\ude25',
      'dizzy':'\ud83d\udcab',
      'dizzy_face':'\ud83d\ude35',
      'do_not_litter':'\ud83d\udeaf',
      'dog':'\ud83d\udc36',
      'dog2':'\ud83d\udc15',
      'dollar':'\ud83d\udcb5',
      'dolls':'\ud83c\udf8e',
      'dolphin':'\ud83d\udc2c',
      'door':'\ud83d\udeaa',
      'doughnut':'\ud83c\udf69',
      'dove':'\ud83d\udd4a',
      'dragon':'\ud83d\udc09',
      'dragon_face':'\ud83d\udc32',
      'dress':'\ud83d\udc57',
      'dromedary_camel':'\ud83d\udc2a',
      'drooling_face':'\ud83e\udd24',
      'droplet':'\ud83d\udca7',
      'drum':'\ud83e\udd41',
      'duck':'\ud83e\udd86',
      'dvd':'\ud83d\udcc0',
      'e-mail':'\ud83d\udce7',
      'eagle':'\ud83e\udd85',
      'ear':'\ud83d\udc42',
      'ear_of_rice':'\ud83c\udf3e',
      'earth_africa':'\ud83c\udf0d',
      'earth_americas':'\ud83c\udf0e',
      'earth_asia':'\ud83c\udf0f',
      'egg':'\ud83e\udd5a',
      'eggplant':'\ud83c\udf46',
      'eight_pointed_black_star':'\u2734\ufe0f',
      'eight_spoked_asterisk':'\u2733\ufe0f',
      'electric_plug':'\ud83d\udd0c',
      'elephant':'\ud83d\udc18',
      'email':'\u2709\ufe0f',
      'end':'\ud83d\udd1a',
      'envelope_with_arrow':'\ud83d\udce9',
      'euro':'\ud83d\udcb6',
      'european_castle':'\ud83c\udff0',
      'european_post_office':'\ud83c\udfe4',
      'evergreen_tree':'\ud83c\udf32',
      'exclamation':'\u2757\ufe0f',
      'expressionless':'\ud83d\ude11',
      'eye':'\ud83d\udc41',
      'eye_speech_bubble':'\ud83d\udc41&zwj;\ud83d\udde8',
      'eyeglasses':'\ud83d\udc53',
      'eyes':'\ud83d\udc40',
      'face_with_head_bandage':'\ud83e\udd15',
      'face_with_thermometer':'\ud83e\udd12',
      'fist_oncoming':'\ud83d\udc4a',
      'factory':'\ud83c\udfed',
      'fallen_leaf':'\ud83c\udf42',
      'family_man_woman_boy':'\ud83d\udc6a',
      'family_man_boy':'\ud83d\udc68&zwj;\ud83d\udc66',
      'family_man_boy_boy':'\ud83d\udc68&zwj;\ud83d\udc66&zwj;\ud83d\udc66',
      'family_man_girl':'\ud83d\udc68&zwj;\ud83d\udc67',
      'family_man_girl_boy':'\ud83d\udc68&zwj;\ud83d\udc67&zwj;\ud83d\udc66',
      'family_man_girl_girl':'\ud83d\udc68&zwj;\ud83d\udc67&zwj;\ud83d\udc67',
      'family_man_man_boy':'\ud83d\udc68&zwj;\ud83d\udc68&zwj;\ud83d\udc66',
      'family_man_man_boy_boy':'\ud83d\udc68&zwj;\ud83d\udc68&zwj;\ud83d\udc66&zwj;\ud83d\udc66',
      'family_man_man_girl':'\ud83d\udc68&zwj;\ud83d\udc68&zwj;\ud83d\udc67',
      'family_man_man_girl_boy':'\ud83d\udc68&zwj;\ud83d\udc68&zwj;\ud83d\udc67&zwj;\ud83d\udc66',
      'family_man_man_girl_girl':'\ud83d\udc68&zwj;\ud83d\udc68&zwj;\ud83d\udc67&zwj;\ud83d\udc67',
      'family_man_woman_boy_boy':'\ud83d\udc68&zwj;\ud83d\udc69&zwj;\ud83d\udc66&zwj;\ud83d\udc66',
      'family_man_woman_girl':'\ud83d\udc68&zwj;\ud83d\udc69&zwj;\ud83d\udc67',
      'family_man_woman_girl_boy':'\ud83d\udc68&zwj;\ud83d\udc69&zwj;\ud83d\udc67&zwj;\ud83d\udc66',
      'family_man_woman_girl_girl':'\ud83d\udc68&zwj;\ud83d\udc69&zwj;\ud83d\udc67&zwj;\ud83d\udc67',
      'family_woman_boy':'\ud83d\udc69&zwj;\ud83d\udc66',
      'family_woman_boy_boy':'\ud83d\udc69&zwj;\ud83d\udc66&zwj;\ud83d\udc66',
      'family_woman_girl':'\ud83d\udc69&zwj;\ud83d\udc67',
      'family_woman_girl_boy':'\ud83d\udc69&zwj;\ud83d\udc67&zwj;\ud83d\udc66',
      'family_woman_girl_girl':'\ud83d\udc69&zwj;\ud83d\udc67&zwj;\ud83d\udc67',
      'family_woman_woman_boy':'\ud83d\udc69&zwj;\ud83d\udc69&zwj;\ud83d\udc66',
      'family_woman_woman_boy_boy':'\ud83d\udc69&zwj;\ud83d\udc69&zwj;\ud83d\udc66&zwj;\ud83d\udc66',
      'family_woman_woman_girl':'\ud83d\udc69&zwj;\ud83d\udc69&zwj;\ud83d\udc67',
      'family_woman_woman_girl_boy':'\ud83d\udc69&zwj;\ud83d\udc69&zwj;\ud83d\udc67&zwj;\ud83d\udc66',
      'family_woman_woman_girl_girl':'\ud83d\udc69&zwj;\ud83d\udc69&zwj;\ud83d\udc67&zwj;\ud83d\udc67',
      'fast_forward':'\u23e9',
      'fax':'\ud83d\udce0',
      'fearful':'\ud83d\ude28',
      'feet':'\ud83d\udc3e',
      'female_detective':'\ud83d\udd75\ufe0f&zwj;\u2640\ufe0f',
      'ferris_wheel':'\ud83c\udfa1',
      'ferry':'\u26f4',
      'field_hockey':'\ud83c\udfd1',
      'file_cabinet':'\ud83d\uddc4',
      'file_folder':'\ud83d\udcc1',
      'film_projector':'\ud83d\udcfd',
      'film_strip':'\ud83c\udf9e',
      'fire':'\ud83d\udd25',
      'fire_engine':'\ud83d\ude92',
      'fireworks':'\ud83c\udf86',
      'first_quarter_moon':'\ud83c\udf13',
      'first_quarter_moon_with_face':'\ud83c\udf1b',
      'fish':'\ud83d\udc1f',
      'fish_cake':'\ud83c\udf65',
      'fishing_pole_and_fish':'\ud83c\udfa3',
      'fist_raised':'\u270a',
      'fist_left':'\ud83e\udd1b',
      'fist_right':'\ud83e\udd1c',
      'flags':'\ud83c\udf8f',
      'flashlight':'\ud83d\udd26',
      'fleur_de_lis':'\u269c\ufe0f',
      'flight_arrival':'\ud83d\udeec',
      'flight_departure':'\ud83d\udeeb',
      'floppy_disk':'\ud83d\udcbe',
      'flower_playing_cards':'\ud83c\udfb4',
      'flushed':'\ud83d\ude33',
      'fog':'\ud83c\udf2b',
      'foggy':'\ud83c\udf01',
      'football':'\ud83c\udfc8',
      'footprints':'\ud83d\udc63',
      'fork_and_knife':'\ud83c\udf74',
      'fountain':'\u26f2\ufe0f',
      'fountain_pen':'\ud83d\udd8b',
      'four_leaf_clover':'\ud83c\udf40',
      'fox_face':'\ud83e\udd8a',
      'framed_picture':'\ud83d\uddbc',
      'free':'\ud83c\udd93',
      'fried_egg':'\ud83c\udf73',
      'fried_shrimp':'\ud83c\udf64',
      'fries':'\ud83c\udf5f',
      'frog':'\ud83d\udc38',
      'frowning':'\ud83d\ude26',
      'frowning_face':'\u2639\ufe0f',
      'frowning_man':'\ud83d\ude4d&zwj;\u2642\ufe0f',
      'frowning_woman':'\ud83d\ude4d',
      'middle_finger':'\ud83d\udd95',
      'fuelpump':'\u26fd\ufe0f',
      'full_moon':'\ud83c\udf15',
      'full_moon_with_face':'\ud83c\udf1d',
      'funeral_urn':'\u26b1\ufe0f',
      'game_die':'\ud83c\udfb2',
      'gear':'\u2699\ufe0f',
      'gem':'\ud83d\udc8e',
      'gemini':'\u264a\ufe0f',
      'ghost':'\ud83d\udc7b',
      'gift':'\ud83c\udf81',
      'gift_heart':'\ud83d\udc9d',
      'girl':'\ud83d\udc67',
      'globe_with_meridians':'\ud83c\udf10',
      'goal_net':'\ud83e\udd45',
      'goat':'\ud83d\udc10',
      'golf':'\u26f3\ufe0f',
      'golfing_man':'\ud83c\udfcc\ufe0f',
      'golfing_woman':'\ud83c\udfcc\ufe0f&zwj;\u2640\ufe0f',
      'gorilla':'\ud83e\udd8d',
      'grapes':'\ud83c\udf47',
      'green_apple':'\ud83c\udf4f',
      'green_book':'\ud83d\udcd7',
      'green_heart':'\ud83d\udc9a',
      'green_salad':'\ud83e\udd57',
      'grey_exclamation':'\u2755',
      'grey_question':'\u2754',
      'grimacing':'\ud83d\ude2c',
      'grin':'\ud83d\ude01',
      'grinning':'\ud83d\ude00',
      'guardsman':'\ud83d\udc82',
      'guardswoman':'\ud83d\udc82&zwj;\u2640\ufe0f',
      'guitar':'\ud83c\udfb8',
      'gun':'\ud83d\udd2b',
      'haircut_woman':'\ud83d\udc87',
      'haircut_man':'\ud83d\udc87&zwj;\u2642\ufe0f',
      'hamburger':'\ud83c\udf54',
      'hammer':'\ud83d\udd28',
      'hammer_and_pick':'\u2692',
      'hammer_and_wrench':'\ud83d\udee0',
      'hamster':'\ud83d\udc39',
      'hand':'\u270b',
      'handbag':'\ud83d\udc5c',
      'handshake':'\ud83e\udd1d',
      'hankey':'\ud83d\udca9',
      'hatched_chick':'\ud83d\udc25',
      'hatching_chick':'\ud83d\udc23',
      'headphones':'\ud83c\udfa7',
      'hear_no_evil':'\ud83d\ude49',
      'heart':'\u2764\ufe0f',
      'heart_decoration':'\ud83d\udc9f',
      'heart_eyes':'\ud83d\ude0d',
      'heart_eyes_cat':'\ud83d\ude3b',
      'heartbeat':'\ud83d\udc93',
      'heartpulse':'\ud83d\udc97',
      'hearts':'\u2665\ufe0f',
      'heavy_check_mark':'\u2714\ufe0f',
      'heavy_division_sign':'\u2797',
      'heavy_dollar_sign':'\ud83d\udcb2',
      'heavy_heart_exclamation':'\u2763\ufe0f',
      'heavy_minus_sign':'\u2796',
      'heavy_multiplication_x':'\u2716\ufe0f',
      'heavy_plus_sign':'\u2795',
      'helicopter':'\ud83d\ude81',
      'herb':'\ud83c\udf3f',
      'hibiscus':'\ud83c\udf3a',
      'high_brightness':'\ud83d\udd06',
      'high_heel':'\ud83d\udc60',
      'hocho':'\ud83d\udd2a',
      'hole':'\ud83d\udd73',
      'honey_pot':'\ud83c\udf6f',
      'horse':'\ud83d\udc34',
      'horse_racing':'\ud83c\udfc7',
      'hospital':'\ud83c\udfe5',
      'hot_pepper':'\ud83c\udf36',
      'hotdog':'\ud83c\udf2d',
      'hotel':'\ud83c\udfe8',
      'hotsprings':'\u2668\ufe0f',
      'hourglass':'\u231b\ufe0f',
      'hourglass_flowing_sand':'\u23f3',
      'house':'\ud83c\udfe0',
      'house_with_garden':'\ud83c\udfe1',
      'houses':'\ud83c\udfd8',
      'hugs':'\ud83e\udd17',
      'hushed':'\ud83d\ude2f',
      'ice_cream':'\ud83c\udf68',
      'ice_hockey':'\ud83c\udfd2',
      'ice_skate':'\u26f8',
      'icecream':'\ud83c\udf66',
      'id':'\ud83c\udd94',
      'ideograph_advantage':'\ud83c\ude50',
      'imp':'\ud83d\udc7f',
      'inbox_tray':'\ud83d\udce5',
      'incoming_envelope':'\ud83d\udce8',
      'tipping_hand_woman':'\ud83d\udc81',
      'information_source':'\u2139\ufe0f',
      'innocent':'\ud83d\ude07',
      'interrobang':'\u2049\ufe0f',
      'iphone':'\ud83d\udcf1',
      'izakaya_lantern':'\ud83c\udfee',
      'jack_o_lantern':'\ud83c\udf83',
      'japan':'\ud83d\uddfe',
      'japanese_castle':'\ud83c\udfef',
      'japanese_goblin':'\ud83d\udc7a',
      'japanese_ogre':'\ud83d\udc79',
      'jeans':'\ud83d\udc56',
      'joy':'\ud83d\ude02',
      'joy_cat':'\ud83d\ude39',
      'joystick':'\ud83d\udd79',
      'kaaba':'\ud83d\udd4b',
      'key':'\ud83d\udd11',
      'keyboard':'\u2328\ufe0f',
      'keycap_ten':'\ud83d\udd1f',
      'kick_scooter':'\ud83d\udef4',
      'kimono':'\ud83d\udc58',
      'kiss':'\ud83d\udc8b',
      'kissing':'\ud83d\ude17',
      'kissing_cat':'\ud83d\ude3d',
      'kissing_closed_eyes':'\ud83d\ude1a',
      'kissing_heart':'\ud83d\ude18',
      'kissing_smiling_eyes':'\ud83d\ude19',
      'kiwi_fruit':'\ud83e\udd5d',
      'koala':'\ud83d\udc28',
      'koko':'\ud83c\ude01',
      'label':'\ud83c\udff7',
      'large_blue_circle':'\ud83d\udd35',
      'large_blue_diamond':'\ud83d\udd37',
      'large_orange_diamond':'\ud83d\udd36',
      'last_quarter_moon':'\ud83c\udf17',
      'last_quarter_moon_with_face':'\ud83c\udf1c',
      'latin_cross':'\u271d\ufe0f',
      'laughing':'\ud83d\ude06',
      'leaves':'\ud83c\udf43',
      'ledger':'\ud83d\udcd2',
      'left_luggage':'\ud83d\udec5',
      'left_right_arrow':'\u2194\ufe0f',
      'leftwards_arrow_with_hook':'\u21a9\ufe0f',
      'lemon':'\ud83c\udf4b',
      'leo':'\u264c\ufe0f',
      'leopard':'\ud83d\udc06',
      'level_slider':'\ud83c\udf9a',
      'libra':'\u264e\ufe0f',
      'light_rail':'\ud83d\ude88',
      'link':'\ud83d\udd17',
      'lion':'\ud83e\udd81',
      'lips':'\ud83d\udc44',
      'lipstick':'\ud83d\udc84',
      'lizard':'\ud83e\udd8e',
      'lock':'\ud83d\udd12',
      'lock_with_ink_pen':'\ud83d\udd0f',
      'lollipop':'\ud83c\udf6d',
      'loop':'\u27bf',
      'loud_sound':'\ud83d\udd0a',
      'loudspeaker':'\ud83d\udce2',
      'love_hotel':'\ud83c\udfe9',
      'love_letter':'\ud83d\udc8c',
      'low_brightness':'\ud83d\udd05',
      'lying_face':'\ud83e\udd25',
      'm':'\u24c2\ufe0f',
      'mag':'\ud83d\udd0d',
      'mag_right':'\ud83d\udd0e',
      'mahjong':'\ud83c\udc04\ufe0f',
      'mailbox':'\ud83d\udceb',
      'mailbox_closed':'\ud83d\udcea',
      'mailbox_with_mail':'\ud83d\udcec',
      'mailbox_with_no_mail':'\ud83d\udced',
      'man':'\ud83d\udc68',
      'man_artist':'\ud83d\udc68&zwj;\ud83c\udfa8',
      'man_astronaut':'\ud83d\udc68&zwj;\ud83d\ude80',
      'man_cartwheeling':'\ud83e\udd38&zwj;\u2642\ufe0f',
      'man_cook':'\ud83d\udc68&zwj;\ud83c\udf73',
      'man_dancing':'\ud83d\udd7a',
      'man_facepalming':'\ud83e\udd26&zwj;\u2642\ufe0f',
      'man_factory_worker':'\ud83d\udc68&zwj;\ud83c\udfed',
      'man_farmer':'\ud83d\udc68&zwj;\ud83c\udf3e',
      'man_firefighter':'\ud83d\udc68&zwj;\ud83d\ude92',
      'man_health_worker':'\ud83d\udc68&zwj;\u2695\ufe0f',
      'man_in_tuxedo':'\ud83e\udd35',
      'man_judge':'\ud83d\udc68&zwj;\u2696\ufe0f',
      'man_juggling':'\ud83e\udd39&zwj;\u2642\ufe0f',
      'man_mechanic':'\ud83d\udc68&zwj;\ud83d\udd27',
      'man_office_worker':'\ud83d\udc68&zwj;\ud83d\udcbc',
      'man_pilot':'\ud83d\udc68&zwj;\u2708\ufe0f',
      'man_playing_handball':'\ud83e\udd3e&zwj;\u2642\ufe0f',
      'man_playing_water_polo':'\ud83e\udd3d&zwj;\u2642\ufe0f',
      'man_scientist':'\ud83d\udc68&zwj;\ud83d\udd2c',
      'man_shrugging':'\ud83e\udd37&zwj;\u2642\ufe0f',
      'man_singer':'\ud83d\udc68&zwj;\ud83c\udfa4',
      'man_student':'\ud83d\udc68&zwj;\ud83c\udf93',
      'man_teacher':'\ud83d\udc68&zwj;\ud83c\udfeb',
      'man_technologist':'\ud83d\udc68&zwj;\ud83d\udcbb',
      'man_with_gua_pi_mao':'\ud83d\udc72',
      'man_with_turban':'\ud83d\udc73',
      'tangerine':'\ud83c\udf4a',
      'mans_shoe':'\ud83d\udc5e',
      'mantelpiece_clock':'\ud83d\udd70',
      'maple_leaf':'\ud83c\udf41',
      'martial_arts_uniform':'\ud83e\udd4b',
      'mask':'\ud83d\ude37',
      'massage_woman':'\ud83d\udc86',
      'massage_man':'\ud83d\udc86&zwj;\u2642\ufe0f',
      'meat_on_bone':'\ud83c\udf56',
      'medal_military':'\ud83c\udf96',
      'medal_sports':'\ud83c\udfc5',
      'mega':'\ud83d\udce3',
      'melon':'\ud83c\udf48',
      'memo':'\ud83d\udcdd',
      'men_wrestling':'\ud83e\udd3c&zwj;\u2642\ufe0f',
      'menorah':'\ud83d\udd4e',
      'mens':'\ud83d\udeb9',
      'metal':'\ud83e\udd18',
      'metro':'\ud83d\ude87',
      'microphone':'\ud83c\udfa4',
      'microscope':'\ud83d\udd2c',
      'milk_glass':'\ud83e\udd5b',
      'milky_way':'\ud83c\udf0c',
      'minibus':'\ud83d\ude90',
      'minidisc':'\ud83d\udcbd',
      'mobile_phone_off':'\ud83d\udcf4',
      'money_mouth_face':'\ud83e\udd11',
      'money_with_wings':'\ud83d\udcb8',
      'moneybag':'\ud83d\udcb0',
      'monkey':'\ud83d\udc12',
      'monkey_face':'\ud83d\udc35',
      'monorail':'\ud83d\ude9d',
      'moon':'\ud83c\udf14',
      'mortar_board':'\ud83c\udf93',
      'mosque':'\ud83d\udd4c',
      'motor_boat':'\ud83d\udee5',
      'motor_scooter':'\ud83d\udef5',
      'motorcycle':'\ud83c\udfcd',
      'motorway':'\ud83d\udee3',
      'mount_fuji':'\ud83d\uddfb',
      'mountain':'\u26f0',
      'mountain_biking_man':'\ud83d\udeb5',
      'mountain_biking_woman':'\ud83d\udeb5&zwj;\u2640\ufe0f',
      'mountain_cableway':'\ud83d\udea0',
      'mountain_railway':'\ud83d\ude9e',
      'mountain_snow':'\ud83c\udfd4',
      'mouse':'\ud83d\udc2d',
      'mouse2':'\ud83d\udc01',
      'movie_camera':'\ud83c\udfa5',
      'moyai':'\ud83d\uddff',
      'mrs_claus':'\ud83e\udd36',
      'muscle':'\ud83d\udcaa',
      'mushroom':'\ud83c\udf44',
      'musical_keyboard':'\ud83c\udfb9',
      'musical_note':'\ud83c\udfb5',
      'musical_score':'\ud83c\udfbc',
      'mute':'\ud83d\udd07',
      'nail_care':'\ud83d\udc85',
      'name_badge':'\ud83d\udcdb',
      'national_park':'\ud83c\udfde',
      'nauseated_face':'\ud83e\udd22',
      'necktie':'\ud83d\udc54',
      'negative_squared_cross_mark':'\u274e',
      'nerd_face':'\ud83e\udd13',
      'neutral_face':'\ud83d\ude10',
      'new':'\ud83c\udd95',
      'new_moon':'\ud83c\udf11',
      'new_moon_with_face':'\ud83c\udf1a',
      'newspaper':'\ud83d\udcf0',
      'newspaper_roll':'\ud83d\uddde',
      'next_track_button':'\u23ed',
      'ng':'\ud83c\udd96',
      'no_good_man':'\ud83d\ude45&zwj;\u2642\ufe0f',
      'no_good_woman':'\ud83d\ude45',
      'night_with_stars':'\ud83c\udf03',
      'no_bell':'\ud83d\udd15',
      'no_bicycles':'\ud83d\udeb3',
      'no_entry':'\u26d4\ufe0f',
      'no_entry_sign':'\ud83d\udeab',
      'no_mobile_phones':'\ud83d\udcf5',
      'no_mouth':'\ud83d\ude36',
      'no_pedestrians':'\ud83d\udeb7',
      'no_smoking':'\ud83d\udead',
      'non-potable_water':'\ud83d\udeb1',
      'nose':'\ud83d\udc43',
      'notebook':'\ud83d\udcd3',
      'notebook_with_decorative_cover':'\ud83d\udcd4',
      'notes':'\ud83c\udfb6',
      'nut_and_bolt':'\ud83d\udd29',
      'o':'\u2b55\ufe0f',
      'o2':'\ud83c\udd7e\ufe0f',
      'ocean':'\ud83c\udf0a',
      'octopus':'\ud83d\udc19',
      'oden':'\ud83c\udf62',
      'office':'\ud83c\udfe2',
      'oil_drum':'\ud83d\udee2',
      'ok':'\ud83c\udd97',
      'ok_hand':'\ud83d\udc4c',
      'ok_man':'\ud83d\ude46&zwj;\u2642\ufe0f',
      'ok_woman':'\ud83d\ude46',
      'old_key':'\ud83d\udddd',
      'older_man':'\ud83d\udc74',
      'older_woman':'\ud83d\udc75',
      'om':'\ud83d\udd49',
      'on':'\ud83d\udd1b',
      'oncoming_automobile':'\ud83d\ude98',
      'oncoming_bus':'\ud83d\ude8d',
      'oncoming_police_car':'\ud83d\ude94',
      'oncoming_taxi':'\ud83d\ude96',
      'open_file_folder':'\ud83d\udcc2',
      'open_hands':'\ud83d\udc50',
      'open_mouth':'\ud83d\ude2e',
      'open_umbrella':'\u2602\ufe0f',
      'ophiuchus':'\u26ce',
      'orange_book':'\ud83d\udcd9',
      'orthodox_cross':'\u2626\ufe0f',
      'outbox_tray':'\ud83d\udce4',
      'owl':'\ud83e\udd89',
      'ox':'\ud83d\udc02',
      'package':'\ud83d\udce6',
      'page_facing_up':'\ud83d\udcc4',
      'page_with_curl':'\ud83d\udcc3',
      'pager':'\ud83d\udcdf',
      'paintbrush':'\ud83d\udd8c',
      'palm_tree':'\ud83c\udf34',
      'pancakes':'\ud83e\udd5e',
      'panda_face':'\ud83d\udc3c',
      'paperclip':'\ud83d\udcce',
      'paperclips':'\ud83d\udd87',
      'parasol_on_ground':'\u26f1',
      'parking':'\ud83c\udd7f\ufe0f',
      'part_alternation_mark':'\u303d\ufe0f',
      'partly_sunny':'\u26c5\ufe0f',
      'passenger_ship':'\ud83d\udef3',
      'passport_control':'\ud83d\udec2',
      'pause_button':'\u23f8',
      'peace_symbol':'\u262e\ufe0f',
      'peach':'\ud83c\udf51',
      'peanuts':'\ud83e\udd5c',
      'pear':'\ud83c\udf50',
      'pen':'\ud83d\udd8a',
      'pencil2':'\u270f\ufe0f',
      'penguin':'\ud83d\udc27',
      'pensive':'\ud83d\ude14',
      'performing_arts':'\ud83c\udfad',
      'persevere':'\ud83d\ude23',
      'person_fencing':'\ud83e\udd3a',
      'pouting_woman':'\ud83d\ude4e',
      'phone':'\u260e\ufe0f',
      'pick':'\u26cf',
      'pig':'\ud83d\udc37',
      'pig2':'\ud83d\udc16',
      'pig_nose':'\ud83d\udc3d',
      'pill':'\ud83d\udc8a',
      'pineapple':'\ud83c\udf4d',
      'ping_pong':'\ud83c\udfd3',
      'pisces':'\u2653\ufe0f',
      'pizza':'\ud83c\udf55',
      'place_of_worship':'\ud83d\uded0',
      'plate_with_cutlery':'\ud83c\udf7d',
      'play_or_pause_button':'\u23ef',
      'point_down':'\ud83d\udc47',
      'point_left':'\ud83d\udc48',
      'point_right':'\ud83d\udc49',
      'point_up':'\u261d\ufe0f',
      'point_up_2':'\ud83d\udc46',
      'police_car':'\ud83d\ude93',
      'policewoman':'\ud83d\udc6e&zwj;\u2640\ufe0f',
      'poodle':'\ud83d\udc29',
      'popcorn':'\ud83c\udf7f',
      'post_office':'\ud83c\udfe3',
      'postal_horn':'\ud83d\udcef',
      'postbox':'\ud83d\udcee',
      'potable_water':'\ud83d\udeb0',
      'potato':'\ud83e\udd54',
      'pouch':'\ud83d\udc5d',
      'poultry_leg':'\ud83c\udf57',
      'pound':'\ud83d\udcb7',
      'rage':'\ud83d\ude21',
      'pouting_cat':'\ud83d\ude3e',
      'pouting_man':'\ud83d\ude4e&zwj;\u2642\ufe0f',
      'pray':'\ud83d\ude4f',
      'prayer_beads':'\ud83d\udcff',
      'pregnant_woman':'\ud83e\udd30',
      'previous_track_button':'\u23ee',
      'prince':'\ud83e\udd34',
      'princess':'\ud83d\udc78',
      'printer':'\ud83d\udda8',
      'purple_heart':'\ud83d\udc9c',
      'purse':'\ud83d\udc5b',
      'pushpin':'\ud83d\udccc',
      'put_litter_in_its_place':'\ud83d\udeae',
      'question':'\u2753',
      'rabbit':'\ud83d\udc30',
      'rabbit2':'\ud83d\udc07',
      'racehorse':'\ud83d\udc0e',
      'racing_car':'\ud83c\udfce',
      'radio':'\ud83d\udcfb',
      'radio_button':'\ud83d\udd18',
      'radioactive':'\u2622\ufe0f',
      'railway_car':'\ud83d\ude83',
      'railway_track':'\ud83d\udee4',
      'rainbow':'\ud83c\udf08',
      'rainbow_flag':'\ud83c\udff3\ufe0f&zwj;\ud83c\udf08',
      'raised_back_of_hand':'\ud83e\udd1a',
      'raised_hand_with_fingers_splayed':'\ud83d\udd90',
      'raised_hands':'\ud83d\ude4c',
      'raising_hand_woman':'\ud83d\ude4b',
      'raising_hand_man':'\ud83d\ude4b&zwj;\u2642\ufe0f',
      'ram':'\ud83d\udc0f',
      'ramen':'\ud83c\udf5c',
      'rat':'\ud83d\udc00',
      'record_button':'\u23fa',
      'recycle':'\u267b\ufe0f',
      'red_circle':'\ud83d\udd34',
      'registered':'\u00ae\ufe0f',
      'relaxed':'\u263a\ufe0f',
      'relieved':'\ud83d\ude0c',
      'reminder_ribbon':'\ud83c\udf97',
      'repeat':'\ud83d\udd01',
      'repeat_one':'\ud83d\udd02',
      'rescue_worker_helmet':'\u26d1',
      'restroom':'\ud83d\udebb',
      'revolving_hearts':'\ud83d\udc9e',
      'rewind':'\u23ea',
      'rhinoceros':'\ud83e\udd8f',
      'ribbon':'\ud83c\udf80',
      'rice':'\ud83c\udf5a',
      'rice_ball':'\ud83c\udf59',
      'rice_cracker':'\ud83c\udf58',
      'rice_scene':'\ud83c\udf91',
      'right_anger_bubble':'\ud83d\uddef',
      'ring':'\ud83d\udc8d',
      'robot':'\ud83e\udd16',
      'rocket':'\ud83d\ude80',
      'rofl':'\ud83e\udd23',
      'roll_eyes':'\ud83d\ude44',
      'roller_coaster':'\ud83c\udfa2',
      'rooster':'\ud83d\udc13',
      'rose':'\ud83c\udf39',
      'rosette':'\ud83c\udff5',
      'rotating_light':'\ud83d\udea8',
      'round_pushpin':'\ud83d\udccd',
      'rowing_man':'\ud83d\udea3',
      'rowing_woman':'\ud83d\udea3&zwj;\u2640\ufe0f',
      'rugby_football':'\ud83c\udfc9',
      'running_man':'\ud83c\udfc3',
      'running_shirt_with_sash':'\ud83c\udfbd',
      'running_woman':'\ud83c\udfc3&zwj;\u2640\ufe0f',
      'sa':'\ud83c\ude02\ufe0f',
      'sagittarius':'\u2650\ufe0f',
      'sake':'\ud83c\udf76',
      'sandal':'\ud83d\udc61',
      'santa':'\ud83c\udf85',
      'satellite':'\ud83d\udce1',
      'saxophone':'\ud83c\udfb7',
      'school':'\ud83c\udfeb',
      'school_satchel':'\ud83c\udf92',
      'scissors':'\u2702\ufe0f',
      'scorpion':'\ud83e\udd82',
      'scorpius':'\u264f\ufe0f',
      'scream':'\ud83d\ude31',
      'scream_cat':'\ud83d\ude40',
      'scroll':'\ud83d\udcdc',
      'seat':'\ud83d\udcba',
      'secret':'\u3299\ufe0f',
      'see_no_evil':'\ud83d\ude48',
      'seedling':'\ud83c\udf31',
      'selfie':'\ud83e\udd33',
      'shallow_pan_of_food':'\ud83e\udd58',
      'shamrock':'\u2618\ufe0f',
      'shark':'\ud83e\udd88',
      'shaved_ice':'\ud83c\udf67',
      'sheep':'\ud83d\udc11',
      'shell':'\ud83d\udc1a',
      'shield':'\ud83d\udee1',
      'shinto_shrine':'\u26e9',
      'ship':'\ud83d\udea2',
      'shirt':'\ud83d\udc55',
      'shopping':'\ud83d\udecd',
      'shopping_cart':'\ud83d\uded2',
      'shower':'\ud83d\udebf',
      'shrimp':'\ud83e\udd90',
      'signal_strength':'\ud83d\udcf6',
      'six_pointed_star':'\ud83d\udd2f',
      'ski':'\ud83c\udfbf',
      'skier':'\u26f7',
      'skull':'\ud83d\udc80',
      'skull_and_crossbones':'\u2620\ufe0f',
      'sleeping':'\ud83d\ude34',
      'sleeping_bed':'\ud83d\udecc',
      'sleepy':'\ud83d\ude2a',
      'slightly_frowning_face':'\ud83d\ude41',
      'slightly_smiling_face':'\ud83d\ude42',
      'slot_machine':'\ud83c\udfb0',
      'small_airplane':'\ud83d\udee9',
      'small_blue_diamond':'\ud83d\udd39',
      'small_orange_diamond':'\ud83d\udd38',
      'small_red_triangle':'\ud83d\udd3a',
      'small_red_triangle_down':'\ud83d\udd3b',
      'smile':'\ud83d\ude04',
      'smile_cat':'\ud83d\ude38',
      'smiley':'\ud83d\ude03',
      'smiley_cat':'\ud83d\ude3a',
      'smiling_imp':'\ud83d\ude08',
      'smirk':'\ud83d\ude0f',
      'smirk_cat':'\ud83d\ude3c',
      'smoking':'\ud83d\udeac',
      'snail':'\ud83d\udc0c',
      'snake':'\ud83d\udc0d',
      'sneezing_face':'\ud83e\udd27',
      'snowboarder':'\ud83c\udfc2',
      'snowflake':'\u2744\ufe0f',
      'snowman':'\u26c4\ufe0f',
      'snowman_with_snow':'\u2603\ufe0f',
      'sob':'\ud83d\ude2d',
      'soccer':'\u26bd\ufe0f',
      'soon':'\ud83d\udd1c',
      'sos':'\ud83c\udd98',
      'sound':'\ud83d\udd09',
      'space_invader':'\ud83d\udc7e',
      'spades':'\u2660\ufe0f',
      'spaghetti':'\ud83c\udf5d',
      'sparkle':'\u2747\ufe0f',
      'sparkler':'\ud83c\udf87',
      'sparkles':'\u2728',
      'sparkling_heart':'\ud83d\udc96',
      'speak_no_evil':'\ud83d\ude4a',
      'speaker':'\ud83d\udd08',
      'speaking_head':'\ud83d\udde3',
      'speech_balloon':'\ud83d\udcac',
      'speedboat':'\ud83d\udea4',
      'spider':'\ud83d\udd77',
      'spider_web':'\ud83d\udd78',
      'spiral_calendar':'\ud83d\uddd3',
      'spiral_notepad':'\ud83d\uddd2',
      'spoon':'\ud83e\udd44',
      'squid':'\ud83e\udd91',
      'stadium':'\ud83c\udfdf',
      'star':'\u2b50\ufe0f',
      'star2':'\ud83c\udf1f',
      'star_and_crescent':'\u262a\ufe0f',
      'star_of_david':'\u2721\ufe0f',
      'stars':'\ud83c\udf20',
      'station':'\ud83d\ude89',
      'statue_of_liberty':'\ud83d\uddfd',
      'steam_locomotive':'\ud83d\ude82',
      'stew':'\ud83c\udf72',
      'stop_button':'\u23f9',
      'stop_sign':'\ud83d\uded1',
      'stopwatch':'\u23f1',
      'straight_ruler':'\ud83d\udccf',
      'strawberry':'\ud83c\udf53',
      'stuck_out_tongue':'\ud83d\ude1b',
      'stuck_out_tongue_closed_eyes':'\ud83d\ude1d',
      'stuck_out_tongue_winking_eye':'\ud83d\ude1c',
      'studio_microphone':'\ud83c\udf99',
      'stuffed_flatbread':'\ud83e\udd59',
      'sun_behind_large_cloud':'\ud83c\udf25',
      'sun_behind_rain_cloud':'\ud83c\udf26',
      'sun_behind_small_cloud':'\ud83c\udf24',
      'sun_with_face':'\ud83c\udf1e',
      'sunflower':'\ud83c\udf3b',
      'sunglasses':'\ud83d\ude0e',
      'sunny':'\u2600\ufe0f',
      'sunrise':'\ud83c\udf05',
      'sunrise_over_mountains':'\ud83c\udf04',
      'surfing_man':'\ud83c\udfc4',
      'surfing_woman':'\ud83c\udfc4&zwj;\u2640\ufe0f',
      'sushi':'\ud83c\udf63',
      'suspension_railway':'\ud83d\ude9f',
      'sweat':'\ud83d\ude13',
      'sweat_drops':'\ud83d\udca6',
      'sweat_smile':'\ud83d\ude05',
      'sweet_potato':'\ud83c\udf60',
      'swimming_man':'\ud83c\udfca',
      'swimming_woman':'\ud83c\udfca&zwj;\u2640\ufe0f',
      'symbols':'\ud83d\udd23',
      'synagogue':'\ud83d\udd4d',
      'syringe':'\ud83d\udc89',
      'taco':'\ud83c\udf2e',
      'tada':'\ud83c\udf89',
      'tanabata_tree':'\ud83c\udf8b',
      'taurus':'\u2649\ufe0f',
      'taxi':'\ud83d\ude95',
      'tea':'\ud83c\udf75',
      'telephone_receiver':'\ud83d\udcde',
      'telescope':'\ud83d\udd2d',
      'tennis':'\ud83c\udfbe',
      'tent':'\u26fa\ufe0f',
      'thermometer':'\ud83c\udf21',
      'thinking':'\ud83e\udd14',
      'thought_balloon':'\ud83d\udcad',
      'ticket':'\ud83c\udfab',
      'tickets':'\ud83c\udf9f',
      'tiger':'\ud83d\udc2f',
      'tiger2':'\ud83d\udc05',
      'timer_clock':'\u23f2',
      'tipping_hand_man':'\ud83d\udc81&zwj;\u2642\ufe0f',
      'tired_face':'\ud83d\ude2b',
      'tm':'\u2122\ufe0f',
      'toilet':'\ud83d\udebd',
      'tokyo_tower':'\ud83d\uddfc',
      'tomato':'\ud83c\udf45',
      'tongue':'\ud83d\udc45',
      'top':'\ud83d\udd1d',
      'tophat':'\ud83c\udfa9',
      'tornado':'\ud83c\udf2a',
      'trackball':'\ud83d\uddb2',
      'tractor':'\ud83d\ude9c',
      'traffic_light':'\ud83d\udea5',
      'train':'\ud83d\ude8b',
      'train2':'\ud83d\ude86',
      'tram':'\ud83d\ude8a',
      'triangular_flag_on_post':'\ud83d\udea9',
      'triangular_ruler':'\ud83d\udcd0',
      'trident':'\ud83d\udd31',
      'triumph':'\ud83d\ude24',
      'trolleybus':'\ud83d\ude8e',
      'trophy':'\ud83c\udfc6',
      'tropical_drink':'\ud83c\udf79',
      'tropical_fish':'\ud83d\udc20',
      'truck':'\ud83d\ude9a',
      'trumpet':'\ud83c\udfba',
      'tulip':'\ud83c\udf37',
      'tumbler_glass':'\ud83e\udd43',
      'turkey':'\ud83e\udd83',
      'turtle':'\ud83d\udc22',
      'tv':'\ud83d\udcfa',
      'twisted_rightwards_arrows':'\ud83d\udd00',
      'two_hearts':'\ud83d\udc95',
      'two_men_holding_hands':'\ud83d\udc6c',
      'two_women_holding_hands':'\ud83d\udc6d',
      'u5272':'\ud83c\ude39',
      'u5408':'\ud83c\ude34',
      'u55b6':'\ud83c\ude3a',
      'u6307':'\ud83c\ude2f\ufe0f',
      'u6708':'\ud83c\ude37\ufe0f',
      'u6709':'\ud83c\ude36',
      'u6e80':'\ud83c\ude35',
      'u7121':'\ud83c\ude1a\ufe0f',
      'u7533':'\ud83c\ude38',
      'u7981':'\ud83c\ude32',
      'u7a7a':'\ud83c\ude33',
      'umbrella':'\u2614\ufe0f',
      'unamused':'\ud83d\ude12',
      'underage':'\ud83d\udd1e',
      'unicorn':'\ud83e\udd84',
      'unlock':'\ud83d\udd13',
      'up':'\ud83c\udd99',
      'upside_down_face':'\ud83d\ude43',
      'v':'\u270c\ufe0f',
      'vertical_traffic_light':'\ud83d\udea6',
      'vhs':'\ud83d\udcfc',
      'vibration_mode':'\ud83d\udcf3',
      'video_camera':'\ud83d\udcf9',
      'video_game':'\ud83c\udfae',
      'violin':'\ud83c\udfbb',
      'virgo':'\u264d\ufe0f',
      'volcano':'\ud83c\udf0b',
      'volleyball':'\ud83c\udfd0',
      'vs':'\ud83c\udd9a',
      'vulcan_salute':'\ud83d\udd96',
      'walking_man':'\ud83d\udeb6',
      'walking_woman':'\ud83d\udeb6&zwj;\u2640\ufe0f',
      'waning_crescent_moon':'\ud83c\udf18',
      'waning_gibbous_moon':'\ud83c\udf16',
      'warning':'\u26a0\ufe0f',
      'wastebasket':'\ud83d\uddd1',
      'watch':'\u231a\ufe0f',
      'water_buffalo':'\ud83d\udc03',
      'watermelon':'\ud83c\udf49',
      'wave':'\ud83d\udc4b',
      'wavy_dash':'\u3030\ufe0f',
      'waxing_crescent_moon':'\ud83c\udf12',
      'wc':'\ud83d\udebe',
      'weary':'\ud83d\ude29',
      'wedding':'\ud83d\udc92',
      'weight_lifting_man':'\ud83c\udfcb\ufe0f',
      'weight_lifting_woman':'\ud83c\udfcb\ufe0f&zwj;\u2640\ufe0f',
      'whale':'\ud83d\udc33',
      'whale2':'\ud83d\udc0b',
      'wheel_of_dharma':'\u2638\ufe0f',
      'wheelchair':'\u267f\ufe0f',
      'white_check_mark':'\u2705',
      'white_circle':'\u26aa\ufe0f',
      'white_flag':'\ud83c\udff3\ufe0f',
      'white_flower':'\ud83d\udcae',
      'white_large_square':'\u2b1c\ufe0f',
      'white_medium_small_square':'\u25fd\ufe0f',
      'white_medium_square':'\u25fb\ufe0f',
      'white_small_square':'\u25ab\ufe0f',
      'white_square_button':'\ud83d\udd33',
      'wilted_flower':'\ud83e\udd40',
      'wind_chime':'\ud83c\udf90',
      'wind_face':'\ud83c\udf2c',
      'wine_glass':'\ud83c\udf77',
      'wink':'\ud83d\ude09',
      'wolf':'\ud83d\udc3a',
      'woman':'\ud83d\udc69',
      'woman_artist':'\ud83d\udc69&zwj;\ud83c\udfa8',
      'woman_astronaut':'\ud83d\udc69&zwj;\ud83d\ude80',
      'woman_cartwheeling':'\ud83e\udd38&zwj;\u2640\ufe0f',
      'woman_cook':'\ud83d\udc69&zwj;\ud83c\udf73',
      'woman_facepalming':'\ud83e\udd26&zwj;\u2640\ufe0f',
      'woman_factory_worker':'\ud83d\udc69&zwj;\ud83c\udfed',
      'woman_farmer':'\ud83d\udc69&zwj;\ud83c\udf3e',
      'woman_firefighter':'\ud83d\udc69&zwj;\ud83d\ude92',
      'woman_health_worker':'\ud83d\udc69&zwj;\u2695\ufe0f',
      'woman_judge':'\ud83d\udc69&zwj;\u2696\ufe0f',
      'woman_juggling':'\ud83e\udd39&zwj;\u2640\ufe0f',
      'woman_mechanic':'\ud83d\udc69&zwj;\ud83d\udd27',
      'woman_office_worker':'\ud83d\udc69&zwj;\ud83d\udcbc',
      'woman_pilot':'\ud83d\udc69&zwj;\u2708\ufe0f',
      'woman_playing_handball':'\ud83e\udd3e&zwj;\u2640\ufe0f',
      'woman_playing_water_polo':'\ud83e\udd3d&zwj;\u2640\ufe0f',
      'woman_scientist':'\ud83d\udc69&zwj;\ud83d\udd2c',
      'woman_shrugging':'\ud83e\udd37&zwj;\u2640\ufe0f',
      'woman_singer':'\ud83d\udc69&zwj;\ud83c\udfa4',
      'woman_student':'\ud83d\udc69&zwj;\ud83c\udf93',
      'woman_teacher':'\ud83d\udc69&zwj;\ud83c\udfeb',
      'woman_technologist':'\ud83d\udc69&zwj;\ud83d\udcbb',
      'woman_with_turban':'\ud83d\udc73&zwj;\u2640\ufe0f',
      'womans_clothes':'\ud83d\udc5a',
      'womans_hat':'\ud83d\udc52',
      'women_wrestling':'\ud83e\udd3c&zwj;\u2640\ufe0f',
      'womens':'\ud83d\udeba',
      'world_map':'\ud83d\uddfa',
      'worried':'\ud83d\ude1f',
      'wrench':'\ud83d\udd27',
      'writing_hand':'\u270d\ufe0f',
      'x':'\u274c',
      'yellow_heart':'\ud83d\udc9b',
      'yen':'\ud83d\udcb4',
      'yin_yang':'\u262f\ufe0f',
      'yum':'\ud83d\ude0b',
      'zap':'\u26a1\ufe0f',
      'zipper_mouth_face':'\ud83e\udd10',
      'zzz':'\ud83d\udca4',

      /* special emojis :P */
      'octocat':  '<img alt=":octocat:" height="20" width="20" align="absmiddle" src="https://assets-cdn.github.com/images/icons/emoji/octocat.png">',
      'showdown': '<span style="font-family: \'Anonymous Pro\', monospace; text-decoration: underline; text-decoration-style: dashed; text-decoration-color: #3e8b8a;text-underline-position: under;">S</span>'
    };

    /**
     * Created by Estevao on 31-05-2015.
     */

    /**
     * Showdown Converter class
     * @class
     * @param {object} [converterOptions]
     * @returns {Converter}
     */
    showdown.Converter = function (converterOptions) {

      var
          /**
           * Options used by this converter
           * @private
           * @type {{}}
           */
          options = {},

          /**
           * Language extensions used by this converter
           * @private
           * @type {Array}
           */
          langExtensions = [],

          /**
           * Output modifiers extensions used by this converter
           * @private
           * @type {Array}
           */
          outputModifiers = [],

          /**
           * Event listeners
           * @private
           * @type {{}}
           */
          listeners = {},

          /**
           * The flavor set in this converter
           */
          setConvFlavor = setFlavor,

          /**
           * Metadata of the document
           * @type {{parsed: {}, raw: string, format: string}}
           */
          metadata = {
            parsed: {},
            raw: '',
            format: ''
          };

      _constructor();

      /**
       * Converter constructor
       * @private
       */
      function _constructor () {
        converterOptions = converterOptions || {};

        for (var gOpt in globalOptions) {
          if (globalOptions.hasOwnProperty(gOpt)) {
            options[gOpt] = globalOptions[gOpt];
          }
        }

        // Merge options
        if (typeof converterOptions === 'object') {
          for (var opt in converterOptions) {
            if (converterOptions.hasOwnProperty(opt)) {
              options[opt] = converterOptions[opt];
            }
          }
        } else {
          throw Error('Converter expects the passed parameter to be an object, but ' + typeof converterOptions +
          ' was passed instead.');
        }

        if (options.extensions) {
          showdown.helper.forEach(options.extensions, _parseExtension);
        }
      }

      /**
       * Parse extension
       * @param {*} ext
       * @param {string} [name='']
       * @private
       */
      function _parseExtension (ext, name) {

        name = name || null;
        // If it's a string, the extension was previously loaded
        if (showdown.helper.isString(ext)) {
          ext = showdown.helper.stdExtName(ext);
          name = ext;

          // LEGACY_SUPPORT CODE
          if (showdown.extensions[ext]) {
            console.warn('DEPRECATION WARNING: ' + ext + ' is an old extension that uses a deprecated loading method.' +
              'Please inform the developer that the extension should be updated!');
            legacyExtensionLoading(showdown.extensions[ext], ext);
            return;
            // END LEGACY SUPPORT CODE

          } else if (!showdown.helper.isUndefined(extensions[ext])) {
            ext = extensions[ext];

          } else {
            throw Error('Extension "' + ext + '" could not be loaded. It was either not found or is not a valid extension.');
          }
        }

        if (typeof ext === 'function') {
          ext = ext();
        }

        if (!showdown.helper.isArray(ext)) {
          ext = [ext];
        }

        var validExt = validate(ext, name);
        if (!validExt.valid) {
          throw Error(validExt.error);
        }

        for (var i = 0; i < ext.length; ++i) {
          switch (ext[i].type) {

            case 'lang':
              langExtensions.push(ext[i]);
              break;

            case 'output':
              outputModifiers.push(ext[i]);
              break;
          }
          if (ext[i].hasOwnProperty('listeners')) {
            for (var ln in ext[i].listeners) {
              if (ext[i].listeners.hasOwnProperty(ln)) {
                listen(ln, ext[i].listeners[ln]);
              }
            }
          }
        }

      }

      /**
       * LEGACY_SUPPORT
       * @param {*} ext
       * @param {string} name
       */
      function legacyExtensionLoading (ext, name) {
        if (typeof ext === 'function') {
          ext = ext(new showdown.Converter());
        }
        if (!showdown.helper.isArray(ext)) {
          ext = [ext];
        }
        var valid = validate(ext, name);

        if (!valid.valid) {
          throw Error(valid.error);
        }

        for (var i = 0; i < ext.length; ++i) {
          switch (ext[i].type) {
            case 'lang':
              langExtensions.push(ext[i]);
              break;
            case 'output':
              outputModifiers.push(ext[i]);
              break;
            default:// should never reach here
              throw Error('Extension loader error: Type unrecognized!!!');
          }
        }
      }

      /**
       * Listen to an event
       * @param {string} name
       * @param {function} callback
       */
      function listen (name, callback) {
        if (!showdown.helper.isString(name)) {
          throw Error('Invalid argument in converter.listen() method: name must be a string, but ' + typeof name + ' given');
        }

        if (typeof callback !== 'function') {
          throw Error('Invalid argument in converter.listen() method: callback must be a function, but ' + typeof callback + ' given');
        }

        if (!listeners.hasOwnProperty(name)) {
          listeners[name] = [];
        }
        listeners[name].push(callback);
      }

      function rTrimInputText (text) {
        var rsp = text.match(/^\s*/)[0].length,
            rgx = new RegExp('^\\s{0,' + rsp + '}', 'gm');
        return text.replace(rgx, '');
      }

      /**
       * Dispatch an event
       * @private
       * @param {string} evtName Event name
       * @param {string} text Text
       * @param {{}} options Converter Options
       * @param {{}} globals
       * @returns {string}
       */
      this._dispatch = function dispatch (evtName, text, options, globals) {
        if (listeners.hasOwnProperty(evtName)) {
          for (var ei = 0; ei < listeners[evtName].length; ++ei) {
            var nText = listeners[evtName][ei](evtName, text, this, options, globals);
            if (nText && typeof nText !== 'undefined') {
              text = nText;
            }
          }
        }
        return text;
      };

      /**
       * Listen to an event
       * @param {string} name
       * @param {function} callback
       * @returns {showdown.Converter}
       */
      this.listen = function (name, callback) {
        listen(name, callback);
        return this;
      };

      /**
       * Converts a markdown string into HTML
       * @param {string} text
       * @returns {*}
       */
      this.makeHtml = function (text) {
        //check if text is not falsy
        if (!text) {
          return text;
        }

        var globals = {
          gHtmlBlocks:     [],
          gHtmlMdBlocks:   [],
          gHtmlSpans:      [],
          gUrls:           {},
          gTitles:         {},
          gDimensions:     {},
          gListLevel:      0,
          hashLinkCounts:  {},
          langExtensions:  langExtensions,
          outputModifiers: outputModifiers,
          converter:       this,
          ghCodeBlocks:    [],
          metadata: {
            parsed: {},
            raw: '',
            format: ''
          }
        };

        // This lets us use ¨ trema as an escape char to avoid md5 hashes
        // The choice of character is arbitrary; anything that isn't
        // magic in Markdown will work.
        text = text.replace(/¨/g, '¨T');

        // Replace $ with ¨D
        // RegExp interprets $ as a special character
        // when it's in a replacement string
        text = text.replace(/\$/g, '¨D');

        // Standardize line endings
        text = text.replace(/\r\n/g, '\n'); // DOS to Unix
        text = text.replace(/\r/g, '\n'); // Mac to Unix

        // Stardardize line spaces
        text = text.replace(/\u00A0/g, '&nbsp;');

        if (options.smartIndentationFix) {
          text = rTrimInputText(text);
        }

        // Make sure text begins and ends with a couple of newlines:
        text = '\n\n' + text + '\n\n';

        // detab
        text = showdown.subParser('detab')(text, options, globals);

        /**
         * Strip any lines consisting only of spaces and tabs.
         * This makes subsequent regexs easier to write, because we can
         * match consecutive blank lines with /\n+/ instead of something
         * contorted like /[ \t]*\n+/
         */
        text = text.replace(/^[ \t]+$/mg, '');

        //run languageExtensions
        showdown.helper.forEach(langExtensions, function (ext) {
          text = showdown.subParser('runExtension')(ext, text, options, globals);
        });

        // run the sub parsers
        text = showdown.subParser('metadata')(text, options, globals);
        text = showdown.subParser('hashPreCodeTags')(text, options, globals);
        text = showdown.subParser('githubCodeBlocks')(text, options, globals);
        text = showdown.subParser('hashHTMLBlocks')(text, options, globals);
        text = showdown.subParser('hashCodeTags')(text, options, globals);
        text = showdown.subParser('stripLinkDefinitions')(text, options, globals);
        text = showdown.subParser('blockGamut')(text, options, globals);
        text = showdown.subParser('unhashHTMLSpans')(text, options, globals);
        text = showdown.subParser('unescapeSpecialChars')(text, options, globals);

        // attacklab: Restore dollar signs
        text = text.replace(/¨D/g, '$$');

        // attacklab: Restore tremas
        text = text.replace(/¨T/g, '¨');

        // render a complete html document instead of a partial if the option is enabled
        text = showdown.subParser('completeHTMLDocument')(text, options, globals);

        // Run output modifiers
        showdown.helper.forEach(outputModifiers, function (ext) {
          text = showdown.subParser('runExtension')(ext, text, options, globals);
        });

        // update metadata
        metadata = globals.metadata;
        return text;
      };

      /**
       * Converts an HTML string into a markdown string
       * @param src
       * @param [HTMLParser] A WHATWG DOM and HTML parser, such as JSDOM. If none is supplied, window.document will be used.
       * @returns {string}
       */
      this.makeMarkdown = this.makeMd = function (src, HTMLParser) {

        // replace \r\n with \n
        src = src.replace(/\r\n/g, '\n');
        src = src.replace(/\r/g, '\n'); // old macs

        // due to an edge case, we need to find this: > <
        // to prevent removing of non silent white spaces
        // ex: <em>this is</em> <strong>sparta</strong>
        src = src.replace(/>[ \t]+</, '>¨NBSP;<');

        if (!HTMLParser) {
          if (window && window.document) {
            HTMLParser = window.document;
          } else {
            throw new Error('HTMLParser is undefined. If in a webworker or nodejs environment, you need to provide a WHATWG DOM and HTML such as JSDOM');
          }
        }

        var doc = HTMLParser.createElement('div');
        doc.innerHTML = src;

        var globals = {
          preList: substitutePreCodeTags(doc)
        };

        // remove all newlines and collapse spaces
        clean(doc);

        // some stuff, like accidental reference links must now be escaped
        // TODO
        // doc.innerHTML = doc.innerHTML.replace(/\[[\S\t ]]/);

        var nodes = doc.childNodes,
            mdDoc = '';

        for (var i = 0; i < nodes.length; i++) {
          mdDoc += showdown.subParser('makeMarkdown.node')(nodes[i], globals);
        }

        function clean (node) {
          for (var n = 0; n < node.childNodes.length; ++n) {
            var child = node.childNodes[n];
            if (child.nodeType === 3) {
              if (!/\S/.test(child.nodeValue) && !/^[ ]+$/.test(child.nodeValue)) {
                node.removeChild(child);
                --n;
              } else {
                child.nodeValue = child.nodeValue.split('\n').join(' ');
                child.nodeValue = child.nodeValue.replace(/(\s)+/g, '$1');
              }
            } else if (child.nodeType === 1) {
              clean(child);
            }
          }
        }

        // find all pre tags and replace contents with placeholder
        // we need this so that we can remove all indentation from html
        // to ease up parsing
        function substitutePreCodeTags (doc) {

          var pres = doc.querySelectorAll('pre'),
              presPH = [];

          for (var i = 0; i < pres.length; ++i) {

            if (pres[i].childElementCount === 1 && pres[i].firstChild.tagName.toLowerCase() === 'code') {
              var content = pres[i].firstChild.innerHTML.trim(),
                  language = pres[i].firstChild.getAttribute('data-language') || '';

              // if data-language attribute is not defined, then we look for class language-*
              if (language === '') {
                var classes = pres[i].firstChild.className.split(' ');
                for (var c = 0; c < classes.length; ++c) {
                  var matches = classes[c].match(/^language-(.+)$/);
                  if (matches !== null) {
                    language = matches[1];
                    break;
                  }
                }
              }

              // unescape html entities in content
              content = showdown.helper.unescapeHTMLEntities(content);

              presPH.push(content);
              pres[i].outerHTML = '<precode language="' + language + '" precodenum="' + i.toString() + '"></precode>';
            } else {
              presPH.push(pres[i].innerHTML);
              pres[i].innerHTML = '';
              pres[i].setAttribute('prenum', i.toString());
            }
          }
          return presPH;
        }

        return mdDoc;
      };

      /**
       * Set an option of this Converter instance
       * @param {string} key
       * @param {*} value
       */
      this.setOption = function (key, value) {
        options[key] = value;
      };

      /**
       * Get the option of this Converter instance
       * @param {string} key
       * @returns {*}
       */
      this.getOption = function (key) {
        return options[key];
      };

      /**
       * Get the options of this Converter instance
       * @returns {{}}
       */
      this.getOptions = function () {
        return options;
      };

      /**
       * Add extension to THIS converter
       * @param {{}} extension
       * @param {string} [name=null]
       */
      this.addExtension = function (extension, name) {
        name = name || null;
        _parseExtension(extension, name);
      };

      /**
       * Use a global registered extension with THIS converter
       * @param {string} extensionName Name of the previously registered extension
       */
      this.useExtension = function (extensionName) {
        _parseExtension(extensionName);
      };

      /**
       * Set the flavor THIS converter should use
       * @param {string} name
       */
      this.setFlavor = function (name) {
        if (!flavor.hasOwnProperty(name)) {
          throw Error(name + ' flavor was not found');
        }
        var preset = flavor[name];
        setConvFlavor = name;
        for (var option in preset) {
          if (preset.hasOwnProperty(option)) {
            options[option] = preset[option];
          }
        }
      };

      /**
       * Get the currently set flavor of this converter
       * @returns {string}
       */
      this.getFlavor = function () {
        return setConvFlavor;
      };

      /**
       * Remove an extension from THIS converter.
       * Note: This is a costly operation. It's better to initialize a new converter
       * and specify the extensions you wish to use
       * @param {Array} extension
       */
      this.removeExtension = function (extension) {
        if (!showdown.helper.isArray(extension)) {
          extension = [extension];
        }
        for (var a = 0; a < extension.length; ++a) {
          var ext = extension[a];
          for (var i = 0; i < langExtensions.length; ++i) {
            if (langExtensions[i] === ext) {
              langExtensions.splice(i, 1);
            }
          }
          for (var ii = 0; ii < outputModifiers.length; ++ii) {
            if (outputModifiers[ii] === ext) {
              outputModifiers.splice(ii, 1);
            }
          }
        }
      };

      /**
       * Get all extension of THIS converter
       * @returns {{language: Array, output: Array}}
       */
      this.getAllExtensions = function () {
        return {
          language: langExtensions,
          output: outputModifiers
        };
      };

      /**
       * Get the metadata of the previously parsed document
       * @param raw
       * @returns {string|{}}
       */
      this.getMetadata = function (raw) {
        if (raw) {
          return metadata.raw;
        } else {
          return metadata.parsed;
        }
      };

      /**
       * Get the metadata format of the previously parsed document
       * @returns {string}
       */
      this.getMetadataFormat = function () {
        return metadata.format;
      };

      /**
       * Private: set a single key, value metadata pair
       * @param {string} key
       * @param {string} value
       */
      this._setMetadataPair = function (key, value) {
        metadata.parsed[key] = value;
      };

      /**
       * Private: set metadata format
       * @param {string} format
       */
      this._setMetadataFormat = function (format) {
        metadata.format = format;
      };

      /**
       * Private: set metadata raw text
       * @param {string} raw
       */
      this._setMetadataRaw = function (raw) {
        metadata.raw = raw;
      };
    };

    /**
     * Turn Markdown link shortcuts into XHTML <a> tags.
     */
    showdown.subParser('anchors', function (text, options, globals) {

      text = globals.converter._dispatch('anchors.before', text, options, globals);

      var writeAnchorTag = function (wholeMatch, linkText, linkId, url, m5, m6, title) {
        if (showdown.helper.isUndefined(title)) {
          title = '';
        }
        linkId = linkId.toLowerCase();

        // Special case for explicit empty url
        if (wholeMatch.search(/\(<?\s*>? ?(['"].*['"])?\)$/m) > -1) {
          url = '';
        } else if (!url) {
          if (!linkId) {
            // lower-case and turn embedded newlines into spaces
            linkId = linkText.toLowerCase().replace(/ ?\n/g, ' ');
          }
          url = '#' + linkId;

          if (!showdown.helper.isUndefined(globals.gUrls[linkId])) {
            url = globals.gUrls[linkId];
            if (!showdown.helper.isUndefined(globals.gTitles[linkId])) {
              title = globals.gTitles[linkId];
            }
          } else {
            return wholeMatch;
          }
        }

        //url = showdown.helper.escapeCharacters(url, '*_', false); // replaced line to improve performance
        url = url.replace(showdown.helper.regexes.asteriskDashAndColon, showdown.helper.escapeCharactersCallback);

        var result = '<a href="' + url + '"';

        if (title !== '' && title !== null) {
          title = title.replace(/"/g, '&quot;');
          //title = showdown.helper.escapeCharacters(title, '*_', false); // replaced line to improve performance
          title = title.replace(showdown.helper.regexes.asteriskDashAndColon, showdown.helper.escapeCharactersCallback);
          result += ' title="' + title + '"';
        }

        // optionLinksInNewWindow only applies
        // to external links. Hash links (#) open in same page
        if (options.openLinksInNewWindow && !/^#/.test(url)) {
          // escaped _
          result += ' rel="noopener noreferrer" target="¨E95Eblank"';
        }

        result += '>' + linkText + '</a>';

        return result;
      };

      // First, handle reference-style links: [link text] [id]
      text = text.replace(/\[((?:\[[^\]]*]|[^\[\]])*)] ?(?:\n *)?\[(.*?)]()()()()/g, writeAnchorTag);

      // Next, inline-style links: [link text](url "optional title")
      // cases with crazy urls like ./image/cat1).png
      text = text.replace(/\[((?:\[[^\]]*]|[^\[\]])*)]()[ \t]*\([ \t]?<([^>]*)>(?:[ \t]*((["'])([^"]*?)\5))?[ \t]?\)/g,
        writeAnchorTag);

      // normal cases
      text = text.replace(/\[((?:\[[^\]]*]|[^\[\]])*)]()[ \t]*\([ \t]?<?([\S]+?(?:\([\S]*?\)[\S]*?)?)>?(?:[ \t]*((["'])([^"]*?)\5))?[ \t]?\)/g,
        writeAnchorTag);

      // handle reference-style shortcuts: [link text]
      // These must come last in case you've also got [link test][1]
      // or [link test](/foo)
      text = text.replace(/\[([^\[\]]+)]()()()()()/g, writeAnchorTag);

      // Lastly handle GithubMentions if option is enabled
      if (options.ghMentions) {
        text = text.replace(/(^|\s)(\\)?(@([a-z\d]+(?:[a-z\d.-]+?[a-z\d]+)*))/gmi, function (wm, st, escape, mentions, username) {
          if (escape === '\\') {
            return st + mentions;
          }

          //check if options.ghMentionsLink is a string
          if (!showdown.helper.isString(options.ghMentionsLink)) {
            throw new Error('ghMentionsLink option must be a string');
          }
          var lnk = options.ghMentionsLink.replace(/\{u}/g, username),
              target = '';
          if (options.openLinksInNewWindow) {
            target = ' rel="noopener noreferrer" target="¨E95Eblank"';
          }
          return st + '<a href="' + lnk + '"' + target + '>' + mentions + '</a>';
        });
      }

      text = globals.converter._dispatch('anchors.after', text, options, globals);
      return text;
    });

    // url allowed chars [a-z\d_.~:/?#[]@!$&'()*+,;=-]

    var simpleURLRegex  = /([*~_]+|\b)(((https?|ftp|dict):\/\/|www\.)[^'">\s]+?\.[^'">\s]+?)()(\1)?(?=\s|$)(?!["<>])/gi,
        simpleURLRegex2 = /([*~_]+|\b)(((https?|ftp|dict):\/\/|www\.)[^'">\s]+\.[^'">\s]+?)([.!?,()\[\]])?(\1)?(?=\s|$)(?!["<>])/gi,
        delimUrlRegex   = /()<(((https?|ftp|dict):\/\/|www\.)[^'">\s]+)()>()/gi,
        simpleMailRegex = /(^|\s)(?:mailto:)?([A-Za-z0-9!#$%&'*+-/=?^_`{|}~.]+@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)(?=$|\s)/gmi,
        delimMailRegex  = /<()(?:mailto:)?([-.\w]+@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)>/gi,

        replaceLink = function (options) {
          return function (wm, leadingMagicChars, link, m2, m3, trailingPunctuation, trailingMagicChars) {
            link = link.replace(showdown.helper.regexes.asteriskDashAndColon, showdown.helper.escapeCharactersCallback);
            var lnkTxt = link,
                append = '',
                target = '',
                lmc    = leadingMagicChars || '',
                tmc    = trailingMagicChars || '';
            if (/^www\./i.test(link)) {
              link = link.replace(/^www\./i, 'http://www.');
            }
            if (options.excludeTrailingPunctuationFromURLs && trailingPunctuation) {
              append = trailingPunctuation;
            }
            if (options.openLinksInNewWindow) {
              target = ' rel="noopener noreferrer" target="¨E95Eblank"';
            }
            return lmc + '<a href="' + link + '"' + target + '>' + lnkTxt + '</a>' + append + tmc;
          };
        },

        replaceMail = function (options, globals) {
          return function (wholeMatch, b, mail) {
            var href = 'mailto:';
            b = b || '';
            mail = showdown.subParser('unescapeSpecialChars')(mail, options, globals);
            if (options.encodeEmails) {
              href = showdown.helper.encodeEmailAddress(href + mail);
              mail = showdown.helper.encodeEmailAddress(mail);
            } else {
              href = href + mail;
            }
            return b + '<a href="' + href + '">' + mail + '</a>';
          };
        };

    showdown.subParser('autoLinks', function (text, options, globals) {

      text = globals.converter._dispatch('autoLinks.before', text, options, globals);

      text = text.replace(delimUrlRegex, replaceLink(options));
      text = text.replace(delimMailRegex, replaceMail(options, globals));

      text = globals.converter._dispatch('autoLinks.after', text, options, globals);

      return text;
    });

    showdown.subParser('simplifiedAutoLinks', function (text, options, globals) {

      if (!options.simplifiedAutoLink) {
        return text;
      }

      text = globals.converter._dispatch('simplifiedAutoLinks.before', text, options, globals);

      if (options.excludeTrailingPunctuationFromURLs) {
        text = text.replace(simpleURLRegex2, replaceLink(options));
      } else {
        text = text.replace(simpleURLRegex, replaceLink(options));
      }
      text = text.replace(simpleMailRegex, replaceMail(options, globals));

      text = globals.converter._dispatch('simplifiedAutoLinks.after', text, options, globals);

      return text;
    });

    /**
     * These are all the transformations that form block-level
     * tags like paragraphs, headers, and list items.
     */
    showdown.subParser('blockGamut', function (text, options, globals) {

      text = globals.converter._dispatch('blockGamut.before', text, options, globals);

      // we parse blockquotes first so that we can have headings and hrs
      // inside blockquotes
      text = showdown.subParser('blockQuotes')(text, options, globals);
      text = showdown.subParser('headers')(text, options, globals);

      // Do Horizontal Rules:
      text = showdown.subParser('horizontalRule')(text, options, globals);

      text = showdown.subParser('lists')(text, options, globals);
      text = showdown.subParser('codeBlocks')(text, options, globals);
      text = showdown.subParser('tables')(text, options, globals);

      // We already ran _HashHTMLBlocks() before, in Markdown(), but that
      // was to escape raw HTML in the original Markdown source. This time,
      // we're escaping the markup we've just created, so that we don't wrap
      // <p> tags around block-level tags.
      text = showdown.subParser('hashHTMLBlocks')(text, options, globals);
      text = showdown.subParser('paragraphs')(text, options, globals);

      text = globals.converter._dispatch('blockGamut.after', text, options, globals);

      return text;
    });

    showdown.subParser('blockQuotes', function (text, options, globals) {

      text = globals.converter._dispatch('blockQuotes.before', text, options, globals);

      // add a couple extra lines after the text and endtext mark
      text = text + '\n\n';

      var rgx = /(^ {0,3}>[ \t]?.+\n(.+\n)*\n*)+/gm;

      if (options.splitAdjacentBlockquotes) {
        rgx = /^ {0,3}>[\s\S]*?(?:\n\n)/gm;
      }

      text = text.replace(rgx, function (bq) {
        // attacklab: hack around Konqueror 3.5.4 bug:
        // "----------bug".replace(/^-/g,"") == "bug"
        bq = bq.replace(/^[ \t]*>[ \t]?/gm, ''); // trim one level of quoting

        // attacklab: clean up hack
        bq = bq.replace(/¨0/g, '');

        bq = bq.replace(/^[ \t]+$/gm, ''); // trim whitespace-only lines
        bq = showdown.subParser('githubCodeBlocks')(bq, options, globals);
        bq = showdown.subParser('blockGamut')(bq, options, globals); // recurse

        bq = bq.replace(/(^|\n)/g, '$1  ');
        // These leading spaces screw with <pre> content, so we need to fix that:
        bq = bq.replace(/(\s*<pre>[^\r]+?<\/pre>)/gm, function (wholeMatch, m1) {
          var pre = m1;
          // attacklab: hack around Konqueror 3.5.4 bug:
          pre = pre.replace(/^  /mg, '¨0');
          pre = pre.replace(/¨0/g, '');
          return pre;
        });

        return showdown.subParser('hashBlock')('<blockquote>\n' + bq + '\n</blockquote>', options, globals);
      });

      text = globals.converter._dispatch('blockQuotes.after', text, options, globals);
      return text;
    });

    /**
     * Process Markdown `<pre><code>` blocks.
     */
    showdown.subParser('codeBlocks', function (text, options, globals) {

      text = globals.converter._dispatch('codeBlocks.before', text, options, globals);

      // sentinel workarounds for lack of \A and \Z, safari\khtml bug
      text += '¨0';

      var pattern = /(?:\n\n|^)((?:(?:[ ]{4}|\t).*\n+)+)(\n*[ ]{0,3}[^ \t\n]|(?=¨0))/g;
      text = text.replace(pattern, function (wholeMatch, m1, m2) {
        var codeblock = m1,
            nextChar = m2,
            end = '\n';

        codeblock = showdown.subParser('outdent')(codeblock, options, globals);
        codeblock = showdown.subParser('encodeCode')(codeblock, options, globals);
        codeblock = showdown.subParser('detab')(codeblock, options, globals);
        codeblock = codeblock.replace(/^\n+/g, ''); // trim leading newlines
        codeblock = codeblock.replace(/\n+$/g, ''); // trim trailing newlines

        if (options.omitExtraWLInCodeBlocks) {
          end = '';
        }

        codeblock = '<pre><code>' + codeblock + end + '</code></pre>';

        return showdown.subParser('hashBlock')(codeblock, options, globals) + nextChar;
      });

      // strip sentinel
      text = text.replace(/¨0/, '');

      text = globals.converter._dispatch('codeBlocks.after', text, options, globals);
      return text;
    });

    /**
     *
     *   *  Backtick quotes are used for <code></code> spans.
     *
     *   *  You can use multiple backticks as the delimiters if you want to
     *     include literal backticks in the code span. So, this input:
     *
     *         Just type ``foo `bar` baz`` at the prompt.
     *
     *       Will translate to:
     *
     *         <p>Just type <code>foo `bar` baz</code> at the prompt.</p>
     *
     *    There's no arbitrary limit to the number of backticks you
     *    can use as delimters. If you need three consecutive backticks
     *    in your code, use four for delimiters, etc.
     *
     *  *  You can use spaces to get literal backticks at the edges:
     *
     *         ... type `` `bar` `` ...
     *
     *       Turns to:
     *
     *         ... type <code>`bar`</code> ...
     */
    showdown.subParser('codeSpans', function (text, options, globals) {

      text = globals.converter._dispatch('codeSpans.before', text, options, globals);

      if (typeof (text) === 'undefined') {
        text = '';
      }
      text = text.replace(/(^|[^\\])(`+)([^\r]*?[^`])\2(?!`)/gm,
        function (wholeMatch, m1, m2, m3) {
          var c = m3;
          c = c.replace(/^([ \t]*)/g, '');	// leading whitespace
          c = c.replace(/[ \t]*$/g, '');	// trailing whitespace
          c = showdown.subParser('encodeCode')(c, options, globals);
          c = m1 + '<code>' + c + '</code>';
          c = showdown.subParser('hashHTMLSpans')(c, options, globals);
          return c;
        }
      );

      text = globals.converter._dispatch('codeSpans.after', text, options, globals);
      return text;
    });

    /**
     * Create a full HTML document from the processed markdown
     */
    showdown.subParser('completeHTMLDocument', function (text, options, globals) {

      if (!options.completeHTMLDocument) {
        return text;
      }

      text = globals.converter._dispatch('completeHTMLDocument.before', text, options, globals);

      var doctype = 'html',
          doctypeParsed = '<!DOCTYPE HTML>\n',
          title = '',
          charset = '<meta charset="utf-8">\n',
          lang = '',
          metadata = '';

      if (typeof globals.metadata.parsed.doctype !== 'undefined') {
        doctypeParsed = '<!DOCTYPE ' +  globals.metadata.parsed.doctype + '>\n';
        doctype = globals.metadata.parsed.doctype.toString().toLowerCase();
        if (doctype === 'html' || doctype === 'html5') {
          charset = '<meta charset="utf-8">';
        }
      }

      for (var meta in globals.metadata.parsed) {
        if (globals.metadata.parsed.hasOwnProperty(meta)) {
          switch (meta.toLowerCase()) {
            case 'doctype':
              break;

            case 'title':
              title = '<title>' +  globals.metadata.parsed.title + '</title>\n';
              break;

            case 'charset':
              if (doctype === 'html' || doctype === 'html5') {
                charset = '<meta charset="' + globals.metadata.parsed.charset + '">\n';
              } else {
                charset = '<meta name="charset" content="' + globals.metadata.parsed.charset + '">\n';
              }
              break;

            case 'language':
            case 'lang':
              lang = ' lang="' + globals.metadata.parsed[meta] + '"';
              metadata += '<meta name="' + meta + '" content="' + globals.metadata.parsed[meta] + '">\n';
              break;

            default:
              metadata += '<meta name="' + meta + '" content="' + globals.metadata.parsed[meta] + '">\n';
          }
        }
      }

      text = doctypeParsed + '<html' + lang + '>\n<head>\n' + title + charset + metadata + '</head>\n<body>\n' + text.trim() + '\n</body>\n</html>';

      text = globals.converter._dispatch('completeHTMLDocument.after', text, options, globals);
      return text;
    });

    /**
     * Convert all tabs to spaces
     */
    showdown.subParser('detab', function (text, options, globals) {
      text = globals.converter._dispatch('detab.before', text, options, globals);

      // expand first n-1 tabs
      text = text.replace(/\t(?=\t)/g, '    '); // g_tab_width

      // replace the nth with two sentinels
      text = text.replace(/\t/g, '¨A¨B');

      // use the sentinel to anchor our regex so it doesn't explode
      text = text.replace(/¨B(.+?)¨A/g, function (wholeMatch, m1) {
        var leadingText = m1,
            numSpaces = 4 - leadingText.length % 4;  // g_tab_width

        // there *must* be a better way to do this:
        for (var i = 0; i < numSpaces; i++) {
          leadingText += ' ';
        }

        return leadingText;
      });

      // clean up sentinels
      text = text.replace(/¨A/g, '    ');  // g_tab_width
      text = text.replace(/¨B/g, '');

      text = globals.converter._dispatch('detab.after', text, options, globals);
      return text;
    });

    showdown.subParser('ellipsis', function (text, options, globals) {

      if (!options.ellipsis) {
        return text;
      }

      text = globals.converter._dispatch('ellipsis.before', text, options, globals);

      text = text.replace(/\.\.\./g, '…');

      text = globals.converter._dispatch('ellipsis.after', text, options, globals);

      return text;
    });

    /**
     * Turn emoji codes into emojis
     *
     * List of supported emojis: https://github.com/showdownjs/showdown/wiki/Emojis
     */
    showdown.subParser('emoji', function (text, options, globals) {

      if (!options.emoji) {
        return text;
      }

      text = globals.converter._dispatch('emoji.before', text, options, globals);

      var emojiRgx = /:([\S]+?):/g;

      text = text.replace(emojiRgx, function (wm, emojiCode) {
        if (showdown.helper.emojis.hasOwnProperty(emojiCode)) {
          return showdown.helper.emojis[emojiCode];
        }
        return wm;
      });

      text = globals.converter._dispatch('emoji.after', text, options, globals);

      return text;
    });

    /**
     * Smart processing for ampersands and angle brackets that need to be encoded.
     */
    showdown.subParser('encodeAmpsAndAngles', function (text, options, globals) {
      text = globals.converter._dispatch('encodeAmpsAndAngles.before', text, options, globals);

      // Ampersand-encoding based entirely on Nat Irons's Amputator MT plugin:
      // http://bumppo.net/projects/amputator/
      text = text.replace(/&(?!#?[xX]?(?:[0-9a-fA-F]+|\w+);)/g, '&amp;');

      // Encode naked <'s
      text = text.replace(/<(?![a-z\/?$!])/gi, '&lt;');

      // Encode <
      text = text.replace(/</g, '&lt;');

      // Encode >
      text = text.replace(/>/g, '&gt;');

      text = globals.converter._dispatch('encodeAmpsAndAngles.after', text, options, globals);
      return text;
    });

    /**
     * Returns the string, with after processing the following backslash escape sequences.
     *
     * attacklab: The polite way to do this is with the new escapeCharacters() function:
     *
     *    text = escapeCharacters(text,"\\",true);
     *    text = escapeCharacters(text,"`*_{}[]()>#+-.!",true);
     *
     * ...but we're sidestepping its use of the (slow) RegExp constructor
     * as an optimization for Firefox.  This function gets called a LOT.
     */
    showdown.subParser('encodeBackslashEscapes', function (text, options, globals) {
      text = globals.converter._dispatch('encodeBackslashEscapes.before', text, options, globals);

      text = text.replace(/\\(\\)/g, showdown.helper.escapeCharactersCallback);
      text = text.replace(/\\([`*_{}\[\]()>#+.!~=|:-])/g, showdown.helper.escapeCharactersCallback);

      text = globals.converter._dispatch('encodeBackslashEscapes.after', text, options, globals);
      return text;
    });

    /**
     * Encode/escape certain characters inside Markdown code runs.
     * The point is that in code, these characters are literals,
     * and lose their special Markdown meanings.
     */
    showdown.subParser('encodeCode', function (text, options, globals) {

      text = globals.converter._dispatch('encodeCode.before', text, options, globals);

      // Encode all ampersands; HTML entities are not
      // entities within a Markdown code span.
      text = text
        .replace(/&/g, '&amp;')
      // Do the angle bracket song and dance:
        .replace(/</g, '&lt;')
        .replace(/>/g, '&gt;')
      // Now, escape characters that are magic in Markdown:
        .replace(/([*_{}\[\]\\=~-])/g, showdown.helper.escapeCharactersCallback);

      text = globals.converter._dispatch('encodeCode.after', text, options, globals);
      return text;
    });

    /**
     * Within tags -- meaning between < and > -- encode [\ ` * _ ~ =] so they
     * don't conflict with their use in Markdown for code, italics and strong.
     */
    showdown.subParser('escapeSpecialCharsWithinTagAttributes', function (text, options, globals) {
      text = globals.converter._dispatch('escapeSpecialCharsWithinTagAttributes.before', text, options, globals);

      // Build a regex to find HTML tags.
      var tags     = /<\/?[a-z\d_:-]+(?:[\s]+[\s\S]+?)?>/gi,
          comments = /<!(--(?:(?:[^>-]|-[^>])(?:[^-]|-[^-])*)--)>/gi;

      text = text.replace(tags, function (wholeMatch) {
        return wholeMatch
          .replace(/(.)<\/?code>(?=.)/g, '$1`')
          .replace(/([\\`*_~=|])/g, showdown.helper.escapeCharactersCallback);
      });

      text = text.replace(comments, function (wholeMatch) {
        return wholeMatch
          .replace(/([\\`*_~=|])/g, showdown.helper.escapeCharactersCallback);
      });

      text = globals.converter._dispatch('escapeSpecialCharsWithinTagAttributes.after', text, options, globals);
      return text;
    });

    /**
     * Handle github codeblocks prior to running HashHTML so that
     * HTML contained within the codeblock gets escaped properly
     * Example:
     * ```ruby
     *     def hello_world(x)
     *       puts "Hello, #{x}"
     *     end
     * ```
     */
    showdown.subParser('githubCodeBlocks', function (text, options, globals) {

      // early exit if option is not enabled
      if (!options.ghCodeBlocks) {
        return text;
      }

      text = globals.converter._dispatch('githubCodeBlocks.before', text, options, globals);

      text += '¨0';

      text = text.replace(/(?:^|\n)(?: {0,3})(```+|~~~+)(?: *)([^\s`~]*)\n([\s\S]*?)\n(?: {0,3})\1/g, function (wholeMatch, delim, language, codeblock) {
        var end = (options.omitExtraWLInCodeBlocks) ? '' : '\n';

        // First parse the github code block
        codeblock = showdown.subParser('encodeCode')(codeblock, options, globals);
        codeblock = showdown.subParser('detab')(codeblock, options, globals);
        codeblock = codeblock.replace(/^\n+/g, ''); // trim leading newlines
        codeblock = codeblock.replace(/\n+$/g, ''); // trim trailing whitespace

        codeblock = '<pre><code' + (language ? ' class="' + language + ' language-' + language + '"' : '') + '>' + codeblock + end + '</code></pre>';

        codeblock = showdown.subParser('hashBlock')(codeblock, options, globals);

        // Since GHCodeblocks can be false positives, we need to
        // store the primitive text and the parsed text in a global var,
        // and then return a token
        return '\n\n¨G' + (globals.ghCodeBlocks.push({text: wholeMatch, codeblock: codeblock}) - 1) + 'G\n\n';
      });

      // attacklab: strip sentinel
      text = text.replace(/¨0/, '');

      return globals.converter._dispatch('githubCodeBlocks.after', text, options, globals);
    });

    showdown.subParser('hashBlock', function (text, options, globals) {
      text = globals.converter._dispatch('hashBlock.before', text, options, globals);
      text = text.replace(/(^\n+|\n+$)/g, '');
      text = '\n\n¨K' + (globals.gHtmlBlocks.push(text) - 1) + 'K\n\n';
      text = globals.converter._dispatch('hashBlock.after', text, options, globals);
      return text;
    });

    /**
     * Hash and escape <code> elements that should not be parsed as markdown
     */
    showdown.subParser('hashCodeTags', function (text, options, globals) {
      text = globals.converter._dispatch('hashCodeTags.before', text, options, globals);

      var repFunc = function (wholeMatch, match, left, right) {
        var codeblock = left + showdown.subParser('encodeCode')(match, options, globals) + right;
        return '¨C' + (globals.gHtmlSpans.push(codeblock) - 1) + 'C';
      };

      // Hash naked <code>
      text = showdown.helper.replaceRecursiveRegExp(text, repFunc, '<code\\b[^>]*>', '</code>', 'gim');

      text = globals.converter._dispatch('hashCodeTags.after', text, options, globals);
      return text;
    });

    showdown.subParser('hashElement', function (text, options, globals) {

      return function (wholeMatch, m1) {
        var blockText = m1;

        // Undo double lines
        blockText = blockText.replace(/\n\n/g, '\n');
        blockText = blockText.replace(/^\n/, '');

        // strip trailing blank lines
        blockText = blockText.replace(/\n+$/g, '');

        // Replace the element text with a marker ("¨KxK" where x is its key)
        blockText = '\n\n¨K' + (globals.gHtmlBlocks.push(blockText) - 1) + 'K\n\n';

        return blockText;
      };
    });

    showdown.subParser('hashHTMLBlocks', function (text, options, globals) {
      text = globals.converter._dispatch('hashHTMLBlocks.before', text, options, globals);

      var blockTags = [
            'pre',
            'div',
            'h1',
            'h2',
            'h3',
            'h4',
            'h5',
            'h6',
            'blockquote',
            'table',
            'dl',
            'ol',
            'ul',
            'script',
            'noscript',
            'form',
            'fieldset',
            'iframe',
            'math',
            'style',
            'section',
            'header',
            'footer',
            'nav',
            'article',
            'aside',
            'address',
            'audio',
            'canvas',
            'figure',
            'hgroup',
            'output',
            'video',
            'p'
          ],
          repFunc = function (wholeMatch, match, left, right) {
            var txt = wholeMatch;
            // check if this html element is marked as markdown
            // if so, it's contents should be parsed as markdown
            if (left.search(/\bmarkdown\b/) !== -1) {
              txt = left + globals.converter.makeHtml(match) + right;
            }
            return '\n\n¨K' + (globals.gHtmlBlocks.push(txt) - 1) + 'K\n\n';
          };

      if (options.backslashEscapesHTMLTags) {
        // encode backslash escaped HTML tags
        text = text.replace(/\\<(\/?[^>]+?)>/g, function (wm, inside) {
          return '&lt;' + inside + '&gt;';
        });
      }

      // hash HTML Blocks
      for (var i = 0; i < blockTags.length; ++i) {

        var opTagPos,
            rgx1     = new RegExp('^ {0,3}(<' + blockTags[i] + '\\b[^>]*>)', 'im'),
            patLeft  = '<' + blockTags[i] + '\\b[^>]*>',
            patRight = '</' + blockTags[i] + '>';
        // 1. Look for the first position of the first opening HTML tag in the text
        while ((opTagPos = showdown.helper.regexIndexOf(text, rgx1)) !== -1) {

          // if the HTML tag is \ escaped, we need to escape it and break


          //2. Split the text in that position
          var subTexts = showdown.helper.splitAtIndex(text, opTagPos),
              //3. Match recursively
              newSubText1 = showdown.helper.replaceRecursiveRegExp(subTexts[1], repFunc, patLeft, patRight, 'im');

          // prevent an infinite loop
          if (newSubText1 === subTexts[1]) {
            break;
          }
          text = subTexts[0].concat(newSubText1);
        }
      }
      // HR SPECIAL CASE
      text = text.replace(/(\n {0,3}(<(hr)\b([^<>])*?\/?>)[ \t]*(?=\n{2,}))/g,
        showdown.subParser('hashElement')(text, options, globals));

      // Special case for standalone HTML comments
      text = showdown.helper.replaceRecursiveRegExp(text, function (txt) {
        return '\n\n¨K' + (globals.gHtmlBlocks.push(txt) - 1) + 'K\n\n';
      }, '^ {0,3}<!--', '-->', 'gm');

      // PHP and ASP-style processor instructions (<?...?> and <%...%>)
      text = text.replace(/(?:\n\n)( {0,3}(?:<([?%])[^\r]*?\2>)[ \t]*(?=\n{2,}))/g,
        showdown.subParser('hashElement')(text, options, globals));

      text = globals.converter._dispatch('hashHTMLBlocks.after', text, options, globals);
      return text;
    });

    /**
     * Hash span elements that should not be parsed as markdown
     */
    showdown.subParser('hashHTMLSpans', function (text, options, globals) {
      text = globals.converter._dispatch('hashHTMLSpans.before', text, options, globals);

      function hashHTMLSpan (html) {
        return '¨C' + (globals.gHtmlSpans.push(html) - 1) + 'C';
      }

      // Hash Self Closing tags
      text = text.replace(/<[^>]+?\/>/gi, function (wm) {
        return hashHTMLSpan(wm);
      });

      // Hash tags without properties
      text = text.replace(/<([^>]+?)>[\s\S]*?<\/\1>/g, function (wm) {
        return hashHTMLSpan(wm);
      });

      // Hash tags with properties
      text = text.replace(/<([^>]+?)\s[^>]+?>[\s\S]*?<\/\1>/g, function (wm) {
        return hashHTMLSpan(wm);
      });

      // Hash self closing tags without />
      text = text.replace(/<[^>]+?>/gi, function (wm) {
        return hashHTMLSpan(wm);
      });

      /*showdown.helper.matchRecursiveRegExp(text, '<code\\b[^>]*>', '</code>', 'gi');*/

      text = globals.converter._dispatch('hashHTMLSpans.after', text, options, globals);
      return text;
    });

    /**
     * Unhash HTML spans
     */
    showdown.subParser('unhashHTMLSpans', function (text, options, globals) {
      text = globals.converter._dispatch('unhashHTMLSpans.before', text, options, globals);

      for (var i = 0; i < globals.gHtmlSpans.length; ++i) {
        var repText = globals.gHtmlSpans[i],
            // limiter to prevent infinite loop (assume 10 as limit for recurse)
            limit = 0;

        while (/¨C(\d+)C/.test(repText)) {
          var num = RegExp.$1;
          repText = repText.replace('¨C' + num + 'C', globals.gHtmlSpans[num]);
          if (limit === 10) {
            console.error('maximum nesting of 10 spans reached!!!');
            break;
          }
          ++limit;
        }
        text = text.replace('¨C' + i + 'C', repText);
      }

      text = globals.converter._dispatch('unhashHTMLSpans.after', text, options, globals);
      return text;
    });

    /**
     * Hash and escape <pre><code> elements that should not be parsed as markdown
     */
    showdown.subParser('hashPreCodeTags', function (text, options, globals) {
      text = globals.converter._dispatch('hashPreCodeTags.before', text, options, globals);

      var repFunc = function (wholeMatch, match, left, right) {
        // encode html entities
        var codeblock = left + showdown.subParser('encodeCode')(match, options, globals) + right;
        return '\n\n¨G' + (globals.ghCodeBlocks.push({text: wholeMatch, codeblock: codeblock}) - 1) + 'G\n\n';
      };

      // Hash <pre><code>
      text = showdown.helper.replaceRecursiveRegExp(text, repFunc, '^ {0,3}<pre\\b[^>]*>\\s*<code\\b[^>]*>', '^ {0,3}</code>\\s*</pre>', 'gim');

      text = globals.converter._dispatch('hashPreCodeTags.after', text, options, globals);
      return text;
    });

    showdown.subParser('headers', function (text, options, globals) {

      text = globals.converter._dispatch('headers.before', text, options, globals);

      var headerLevelStart = (isNaN(parseInt(options.headerLevelStart))) ? 1 : parseInt(options.headerLevelStart),

          // Set text-style headers:
          //	Header 1
          //	========
          //
          //	Header 2
          //	--------
          //
          setextRegexH1 = (options.smoothLivePreview) ? /^(.+)[ \t]*\n={2,}[ \t]*\n+/gm : /^(.+)[ \t]*\n=+[ \t]*\n+/gm,
          setextRegexH2 = (options.smoothLivePreview) ? /^(.+)[ \t]*\n-{2,}[ \t]*\n+/gm : /^(.+)[ \t]*\n-+[ \t]*\n+/gm;

      text = text.replace(setextRegexH1, function (wholeMatch, m1) {

        var spanGamut = showdown.subParser('spanGamut')(m1, options, globals),
            hID = (options.noHeaderId) ? '' : ' id="' + headerId(m1) + '"',
            hLevel = headerLevelStart,
            hashBlock = '<h' + hLevel + hID + '>' + spanGamut + '</h' + hLevel + '>';
        return showdown.subParser('hashBlock')(hashBlock, options, globals);
      });

      text = text.replace(setextRegexH2, function (matchFound, m1) {
        var spanGamut = showdown.subParser('spanGamut')(m1, options, globals),
            hID = (options.noHeaderId) ? '' : ' id="' + headerId(m1) + '"',
            hLevel = headerLevelStart + 1,
            hashBlock = '<h' + hLevel + hID + '>' + spanGamut + '</h' + hLevel + '>';
        return showdown.subParser('hashBlock')(hashBlock, options, globals);
      });

      // atx-style headers:
      //  # Header 1
      //  ## Header 2
      //  ## Header 2 with closing hashes ##
      //  ...
      //  ###### Header 6
      //
      var atxStyle = (options.requireSpaceBeforeHeadingText) ? /^(#{1,6})[ \t]+(.+?)[ \t]*#*\n+/gm : /^(#{1,6})[ \t]*(.+?)[ \t]*#*\n+/gm;

      text = text.replace(atxStyle, function (wholeMatch, m1, m2) {
        var hText = m2;
        if (options.customizedHeaderId) {
          hText = m2.replace(/\s?\{([^{]+?)}\s*$/, '');
        }

        var span = showdown.subParser('spanGamut')(hText, options, globals),
            hID = (options.noHeaderId) ? '' : ' id="' + headerId(m2) + '"',
            hLevel = headerLevelStart - 1 + m1.length,
            header = '<h' + hLevel + hID + '>' + span + '</h' + hLevel + '>';

        return showdown.subParser('hashBlock')(header, options, globals);
      });

      function headerId (m) {
        var title,
            prefix;

        // It is separate from other options to allow combining prefix and customized
        if (options.customizedHeaderId) {
          var match = m.match(/\{([^{]+?)}\s*$/);
          if (match && match[1]) {
            m = match[1];
          }
        }

        title = m;

        // Prefix id to prevent causing inadvertent pre-existing style matches.
        if (showdown.helper.isString(options.prefixHeaderId)) {
          prefix = options.prefixHeaderId;
        } else if (options.prefixHeaderId === true) {
          prefix = 'section-';
        } else {
          prefix = '';
        }

        if (!options.rawPrefixHeaderId) {
          title = prefix + title;
        }

        if (options.ghCompatibleHeaderId) {
          title = title
            .replace(/ /g, '-')
            // replace previously escaped chars (&, ¨ and $)
            .replace(/&amp;/g, '')
            .replace(/¨T/g, '')
            .replace(/¨D/g, '')
            // replace rest of the chars (&~$ are repeated as they might have been escaped)
            // borrowed from github's redcarpet (some they should produce similar results)
            .replace(/[&+$,\/:;=?@"#{}|^¨~\[\]`\\*)(%.!'<>]/g, '')
            .toLowerCase();
        } else if (options.rawHeaderId) {
          title = title
            .replace(/ /g, '-')
            // replace previously escaped chars (&, ¨ and $)
            .replace(/&amp;/g, '&')
            .replace(/¨T/g, '¨')
            .replace(/¨D/g, '$')
            // replace " and '
            .replace(/["']/g, '-')
            .toLowerCase();
        } else {
          title = title
            .replace(/[^\w]/g, '')
            .toLowerCase();
        }

        if (options.rawPrefixHeaderId) {
          title = prefix + title;
        }

        if (globals.hashLinkCounts[title]) {
          title = title + '-' + (globals.hashLinkCounts[title]++);
        } else {
          globals.hashLinkCounts[title] = 1;
        }
        return title;
      }

      text = globals.converter._dispatch('headers.after', text, options, globals);
      return text;
    });

    /**
     * Turn Markdown link shortcuts into XHTML <a> tags.
     */
    showdown.subParser('horizontalRule', function (text, options, globals) {
      text = globals.converter._dispatch('horizontalRule.before', text, options, globals);

      var key = showdown.subParser('hashBlock')('<hr />', options, globals);
      text = text.replace(/^ {0,2}( ?-){3,}[ \t]*$/gm, key);
      text = text.replace(/^ {0,2}( ?\*){3,}[ \t]*$/gm, key);
      text = text.replace(/^ {0,2}( ?_){3,}[ \t]*$/gm, key);

      text = globals.converter._dispatch('horizontalRule.after', text, options, globals);
      return text;
    });

    /**
     * Turn Markdown image shortcuts into <img> tags.
     */
    showdown.subParser('images', function (text, options, globals) {

      text = globals.converter._dispatch('images.before', text, options, globals);

      var inlineRegExp      = /!\[([^\]]*?)][ \t]*()\([ \t]?<?([\S]+?(?:\([\S]*?\)[\S]*?)?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(["'])([^"]*?)\6)?[ \t]?\)/g,
          crazyRegExp       = /!\[([^\]]*?)][ \t]*()\([ \t]?<([^>]*)>(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(?:(["'])([^"]*?)\6))?[ \t]?\)/g,
          base64RegExp      = /!\[([^\]]*?)][ \t]*()\([ \t]?<?(data:.+?\/.+?;base64,[A-Za-z0-9+/=\n]+?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(["'])([^"]*?)\6)?[ \t]?\)/g,
          referenceRegExp   = /!\[([^\]]*?)] ?(?:\n *)?\[([\s\S]*?)]()()()()()/g,
          refShortcutRegExp = /!\[([^\[\]]+)]()()()()()/g;

      function writeImageTagBase64 (wholeMatch, altText, linkId, url, width, height, m5, title) {
        url = url.replace(/\s/g, '');
        return writeImageTag (wholeMatch, altText, linkId, url, width, height, m5, title);
      }

      function writeImageTag (wholeMatch, altText, linkId, url, width, height, m5, title) {

        var gUrls   = globals.gUrls,
            gTitles = globals.gTitles,
            gDims   = globals.gDimensions;

        linkId = linkId.toLowerCase();

        if (!title) {
          title = '';
        }
        // Special case for explicit empty url
        if (wholeMatch.search(/\(<?\s*>? ?(['"].*['"])?\)$/m) > -1) {
          url = '';

        } else if (url === '' || url === null) {
          if (linkId === '' || linkId === null) {
            // lower-case and turn embedded newlines into spaces
            linkId = altText.toLowerCase().replace(/ ?\n/g, ' ');
          }
          url = '#' + linkId;

          if (!showdown.helper.isUndefined(gUrls[linkId])) {
            url = gUrls[linkId];
            if (!showdown.helper.isUndefined(gTitles[linkId])) {
              title = gTitles[linkId];
            }
            if (!showdown.helper.isUndefined(gDims[linkId])) {
              width = gDims[linkId].width;
              height = gDims[linkId].height;
            }
          } else {
            return wholeMatch;
          }
        }

        altText = altText
          .replace(/"/g, '&quot;')
        //altText = showdown.helper.escapeCharacters(altText, '*_', false);
          .replace(showdown.helper.regexes.asteriskDashAndColon, showdown.helper.escapeCharactersCallback);
        //url = showdown.helper.escapeCharacters(url, '*_', false);
        url = url.replace(showdown.helper.regexes.asteriskDashAndColon, showdown.helper.escapeCharactersCallback);
        var result = '<img src="' + url + '" alt="' + altText + '"';

        if (title && showdown.helper.isString(title)) {
          title = title
            .replace(/"/g, '&quot;')
          //title = showdown.helper.escapeCharacters(title, '*_', false);
            .replace(showdown.helper.regexes.asteriskDashAndColon, showdown.helper.escapeCharactersCallback);
          result += ' title="' + title + '"';
        }

        if (width && height) {
          width  = (width === '*') ? 'auto' : width;
          height = (height === '*') ? 'auto' : height;

          result += ' width="' + width + '"';
          result += ' height="' + height + '"';
        }

        result += ' />';

        return result;
      }

      // First, handle reference-style labeled images: ![alt text][id]
      text = text.replace(referenceRegExp, writeImageTag);

      // Next, handle inline images:  ![alt text](url =<width>x<height> "optional title")

      // base64 encoded images
      text = text.replace(base64RegExp, writeImageTagBase64);

      // cases with crazy urls like ./image/cat1).png
      text = text.replace(crazyRegExp, writeImageTag);

      // normal cases
      text = text.replace(inlineRegExp, writeImageTag);

      // handle reference-style shortcuts: ![img text]
      text = text.replace(refShortcutRegExp, writeImageTag);

      text = globals.converter._dispatch('images.after', text, options, globals);
      return text;
    });

    showdown.subParser('italicsAndBold', function (text, options, globals) {

      text = globals.converter._dispatch('italicsAndBold.before', text, options, globals);

      // it's faster to have 3 separate regexes for each case than have just one
      // because of backtracing, in some cases, it could lead to an exponential effect
      // called "catastrophic backtrace". Ominous!

      function parseInside (txt, left, right) {
        /*
        if (options.simplifiedAutoLink) {
          txt = showdown.subParser('simplifiedAutoLinks')(txt, options, globals);
        }
        */
        return left + txt + right;
      }

      // Parse underscores
      if (options.literalMidWordUnderscores) {
        text = text.replace(/\b___(\S[\s\S]*?)___\b/g, function (wm, txt) {
          return parseInside (txt, '<strong><em>', '</em></strong>');
        });
        text = text.replace(/\b__(\S[\s\S]*?)__\b/g, function (wm, txt) {
          return parseInside (txt, '<strong>', '</strong>');
        });
        text = text.replace(/\b_(\S[\s\S]*?)_\b/g, function (wm, txt) {
          return parseInside (txt, '<em>', '</em>');
        });
      } else {
        text = text.replace(/___(\S[\s\S]*?)___/g, function (wm, m) {
          return (/\S$/.test(m)) ? parseInside (m, '<strong><em>', '</em></strong>') : wm;
        });
        text = text.replace(/__(\S[\s\S]*?)__/g, function (wm, m) {
          return (/\S$/.test(m)) ? parseInside (m, '<strong>', '</strong>') : wm;
        });
        text = text.replace(/_([^\s_][\s\S]*?)_/g, function (wm, m) {
          // !/^_[^_]/.test(m) - test if it doesn't start with __ (since it seems redundant, we removed it)
          return (/\S$/.test(m)) ? parseInside (m, '<em>', '</em>') : wm;
        });
      }

      // Now parse asterisks
      if (options.literalMidWordAsterisks) {
        text = text.replace(/([^*]|^)\B\*\*\*(\S[\s\S]*?)\*\*\*\B(?!\*)/g, function (wm, lead, txt) {
          return parseInside (txt, lead + '<strong><em>', '</em></strong>');
        });
        text = text.replace(/([^*]|^)\B\*\*(\S[\s\S]*?)\*\*\B(?!\*)/g, function (wm, lead, txt) {
          return parseInside (txt, lead + '<strong>', '</strong>');
        });
        text = text.replace(/([^*]|^)\B\*(\S[\s\S]*?)\*\B(?!\*)/g, function (wm, lead, txt) {
          return parseInside (txt, lead + '<em>', '</em>');
        });
      } else {
        text = text.replace(/\*\*\*(\S[\s\S]*?)\*\*\*/g, function (wm, m) {
          return (/\S$/.test(m)) ? parseInside (m, '<strong><em>', '</em></strong>') : wm;
        });
        text = text.replace(/\*\*(\S[\s\S]*?)\*\*/g, function (wm, m) {
          return (/\S$/.test(m)) ? parseInside (m, '<strong>', '</strong>') : wm;
        });
        text = text.replace(/\*([^\s*][\s\S]*?)\*/g, function (wm, m) {
          // !/^\*[^*]/.test(m) - test if it doesn't start with ** (since it seems redundant, we removed it)
          return (/\S$/.test(m)) ? parseInside (m, '<em>', '</em>') : wm;
        });
      }


      text = globals.converter._dispatch('italicsAndBold.after', text, options, globals);
      return text;
    });

    /**
     * Form HTML ordered (numbered) and unordered (bulleted) lists.
     */
    showdown.subParser('lists', function (text, options, globals) {

      /**
       * Process the contents of a single ordered or unordered list, splitting it
       * into individual list items.
       * @param {string} listStr
       * @param {boolean} trimTrailing
       * @returns {string}
       */
      function processListItems (listStr, trimTrailing) {
        // The $g_list_level global keeps track of when we're inside a list.
        // Each time we enter a list, we increment it; when we leave a list,
        // we decrement. If it's zero, we're not in a list anymore.
        //
        // We do this because when we're not inside a list, we want to treat
        // something like this:
        //
        //    I recommend upgrading to version
        //    8. Oops, now this line is treated
        //    as a sub-list.
        //
        // As a single paragraph, despite the fact that the second line starts
        // with a digit-period-space sequence.
        //
        // Whereas when we're inside a list (or sub-list), that line will be
        // treated as the start of a sub-list. What a kludge, huh? This is
        // an aspect of Markdown's syntax that's hard to parse perfectly
        // without resorting to mind-reading. Perhaps the solution is to
        // change the syntax rules such that sub-lists must start with a
        // starting cardinal number; e.g. "1." or "a.".
        globals.gListLevel++;

        // trim trailing blank lines:
        listStr = listStr.replace(/\n{2,}$/, '\n');

        // attacklab: add sentinel to emulate \z
        listStr += '¨0';

        var rgx = /(\n)?(^ {0,3})([*+-]|\d+[.])[ \t]+((\[(x|X| )?])?[ \t]*[^\r]+?(\n{1,2}))(?=\n*(¨0| {0,3}([*+-]|\d+[.])[ \t]+))/gm,
            isParagraphed = (/\n[ \t]*\n(?!¨0)/.test(listStr));

        // Since version 1.5, nesting sublists requires 4 spaces (or 1 tab) indentation,
        // which is a syntax breaking change
        // activating this option reverts to old behavior
        if (options.disableForced4SpacesIndentedSublists) {
          rgx = /(\n)?(^ {0,3})([*+-]|\d+[.])[ \t]+((\[(x|X| )?])?[ \t]*[^\r]+?(\n{1,2}))(?=\n*(¨0|\2([*+-]|\d+[.])[ \t]+))/gm;
        }

        listStr = listStr.replace(rgx, function (wholeMatch, m1, m2, m3, m4, taskbtn, checked) {
          checked = (checked && checked.trim() !== '');

          var item = showdown.subParser('outdent')(m4, options, globals),
              bulletStyle = '';

          // Support for github tasklists
          if (taskbtn && options.tasklists) {
            bulletStyle = ' class="task-list-item" style="list-style-type: none;"';
            item = item.replace(/^[ \t]*\[(x|X| )?]/m, function () {
              var otp = '<input type="checkbox" disabled style="margin: 0px 0.35em 0.25em -1.6em; vertical-align: middle;"';
              if (checked) {
                otp += ' checked';
              }
              otp += '>';
              return otp;
            });
          }

          // ISSUE #312
          // This input: - - - a
          // causes trouble to the parser, since it interprets it as:
          // <ul><li><li><li>a</li></li></li></ul>
          // instead of:
          // <ul><li>- - a</li></ul>
          // So, to prevent it, we will put a marker (¨A)in the beginning of the line
          // Kind of hackish/monkey patching, but seems more effective than overcomplicating the list parser
          item = item.replace(/^([-*+]|\d\.)[ \t]+[\S\n ]*/g, function (wm2) {
            return '¨A' + wm2;
          });

          // m1 - Leading line or
          // Has a double return (multi paragraph) or
          // Has sublist
          if (m1 || (item.search(/\n{2,}/) > -1)) {
            item = showdown.subParser('githubCodeBlocks')(item, options, globals);
            item = showdown.subParser('blockGamut')(item, options, globals);
          } else {
            // Recursion for sub-lists:
            item = showdown.subParser('lists')(item, options, globals);
            item = item.replace(/\n$/, ''); // chomp(item)
            item = showdown.subParser('hashHTMLBlocks')(item, options, globals);

            // Colapse double linebreaks
            item = item.replace(/\n\n+/g, '\n\n');
            if (isParagraphed) {
              item = showdown.subParser('paragraphs')(item, options, globals);
            } else {
              item = showdown.subParser('spanGamut')(item, options, globals);
            }
          }

          // now we need to remove the marker (¨A)
          item = item.replace('¨A', '');
          // we can finally wrap the line in list item tags
          item =  '<li' + bulletStyle + '>' + item + '</li>\n';

          return item;
        });

        // attacklab: strip sentinel
        listStr = listStr.replace(/¨0/g, '');

        globals.gListLevel--;

        if (trimTrailing) {
          listStr = listStr.replace(/\s+$/, '');
        }

        return listStr;
      }

      function styleStartNumber (list, listType) {
        // check if ol and starts by a number different than 1
        if (listType === 'ol') {
          var res = list.match(/^ *(\d+)\./);
          if (res && res[1] !== '1') {
            return ' start="' + res[1] + '"';
          }
        }
        return '';
      }

      /**
       * Check and parse consecutive lists (better fix for issue #142)
       * @param {string} list
       * @param {string} listType
       * @param {boolean} trimTrailing
       * @returns {string}
       */
      function parseConsecutiveLists (list, listType, trimTrailing) {
        // check if we caught 2 or more consecutive lists by mistake
        // we use the counterRgx, meaning if listType is UL we look for OL and vice versa
        var olRgx = (options.disableForced4SpacesIndentedSublists) ? /^ ?\d+\.[ \t]/gm : /^ {0,3}\d+\.[ \t]/gm,
            ulRgx = (options.disableForced4SpacesIndentedSublists) ? /^ ?[*+-][ \t]/gm : /^ {0,3}[*+-][ \t]/gm,
            counterRxg = (listType === 'ul') ? olRgx : ulRgx,
            result = '';

        if (list.search(counterRxg) !== -1) {
          (function parseCL (txt) {
            var pos = txt.search(counterRxg),
                style = styleStartNumber(list, listType);
            if (pos !== -1) {
              // slice
              result += '\n\n<' + listType + style + '>\n' + processListItems(txt.slice(0, pos), !!trimTrailing) + '</' + listType + '>\n';

              // invert counterType and listType
              listType = (listType === 'ul') ? 'ol' : 'ul';
              counterRxg = (listType === 'ul') ? olRgx : ulRgx;

              //recurse
              parseCL(txt.slice(pos));
            } else {
              result += '\n\n<' + listType + style + '>\n' + processListItems(txt, !!trimTrailing) + '</' + listType + '>\n';
            }
          })(list);
        } else {
          var style = styleStartNumber(list, listType);
          result = '\n\n<' + listType + style + '>\n' + processListItems(list, !!trimTrailing) + '</' + listType + '>\n';
        }

        return result;
      }

      /** Start of list parsing **/
      text = globals.converter._dispatch('lists.before', text, options, globals);
      // add sentinel to hack around khtml/safari bug:
      // http://bugs.webkit.org/show_bug.cgi?id=11231
      text += '¨0';

      if (globals.gListLevel) {
        text = text.replace(/^(( {0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(¨0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm,
          function (wholeMatch, list, m2) {
            var listType = (m2.search(/[*+-]/g) > -1) ? 'ul' : 'ol';
            return parseConsecutiveLists(list, listType, true);
          }
        );
      } else {
        text = text.replace(/(\n\n|^\n?)(( {0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(¨0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm,
          function (wholeMatch, m1, list, m3) {
            var listType = (m3.search(/[*+-]/g) > -1) ? 'ul' : 'ol';
            return parseConsecutiveLists(list, listType, false);
          }
        );
      }

      // strip sentinel
      text = text.replace(/¨0/, '');
      text = globals.converter._dispatch('lists.after', text, options, globals);
      return text;
    });

    /**
     * Parse metadata at the top of the document
     */
    showdown.subParser('metadata', function (text, options, globals) {

      if (!options.metadata) {
        return text;
      }

      text = globals.converter._dispatch('metadata.before', text, options, globals);

      function parseMetadataContents (content) {
        // raw is raw so it's not changed in any way
        globals.metadata.raw = content;

        // escape chars forbidden in html attributes
        // double quotes
        content = content
          // ampersand first
          .replace(/&/g, '&amp;')
          // double quotes
          .replace(/"/g, '&quot;');

        content = content.replace(/\n {4}/g, ' ');
        content.replace(/^([\S ]+): +([\s\S]+?)$/gm, function (wm, key, value) {
          globals.metadata.parsed[key] = value;
          return '';
        });
      }

      text = text.replace(/^\s*«««+(\S*?)\n([\s\S]+?)\n»»»+\n/, function (wholematch, format, content) {
        parseMetadataContents(content);
        return '¨M';
      });

      text = text.replace(/^\s*---+(\S*?)\n([\s\S]+?)\n---+\n/, function (wholematch, format, content) {
        if (format) {
          globals.metadata.format = format;
        }
        parseMetadataContents(content);
        return '¨M';
      });

      text = text.replace(/¨M/g, '');

      text = globals.converter._dispatch('metadata.after', text, options, globals);
      return text;
    });

    /**
     * Remove one level of line-leading tabs or spaces
     */
    showdown.subParser('outdent', function (text, options, globals) {
      text = globals.converter._dispatch('outdent.before', text, options, globals);

      // attacklab: hack around Konqueror 3.5.4 bug:
      // "----------bug".replace(/^-/g,"") == "bug"
      text = text.replace(/^(\t|[ ]{1,4})/gm, '¨0'); // attacklab: g_tab_width

      // attacklab: clean up hack
      text = text.replace(/¨0/g, '');

      text = globals.converter._dispatch('outdent.after', text, options, globals);
      return text;
    });

    /**
     *
     */
    showdown.subParser('paragraphs', function (text, options, globals) {

      text = globals.converter._dispatch('paragraphs.before', text, options, globals);
      // Strip leading and trailing lines:
      text = text.replace(/^\n+/g, '');
      text = text.replace(/\n+$/g, '');

      var grafs = text.split(/\n{2,}/g),
          grafsOut = [],
          end = grafs.length; // Wrap <p> tags

      for (var i = 0; i < end; i++) {
        var str = grafs[i];
        // if this is an HTML marker, copy it
        if (str.search(/¨(K|G)(\d+)\1/g) >= 0) {
          grafsOut.push(str);

        // test for presence of characters to prevent empty lines being parsed
        // as paragraphs (resulting in undesired extra empty paragraphs)
        } else if (str.search(/\S/) >= 0) {
          str = showdown.subParser('spanGamut')(str, options, globals);
          str = str.replace(/^([ \t]*)/g, '<p>');
          str += '</p>';
          grafsOut.push(str);
        }
      }

      /** Unhashify HTML blocks */
      end = grafsOut.length;
      for (i = 0; i < end; i++) {
        var blockText = '',
            grafsOutIt = grafsOut[i],
            codeFlag = false;
        // if this is a marker for an html block...
        // use RegExp.test instead of string.search because of QML bug
        while (/¨(K|G)(\d+)\1/.test(grafsOutIt)) {
          var delim = RegExp.$1,
              num   = RegExp.$2;

          if (delim === 'K') {
            blockText = globals.gHtmlBlocks[num];
          } else {
            // we need to check if ghBlock is a false positive
            if (codeFlag) {
              // use encoded version of all text
              blockText = showdown.subParser('encodeCode')(globals.ghCodeBlocks[num].text, options, globals);
            } else {
              blockText = globals.ghCodeBlocks[num].codeblock;
            }
          }
          blockText = blockText.replace(/\$/g, '$$$$'); // Escape any dollar signs

          grafsOutIt = grafsOutIt.replace(/(\n\n)?¨(K|G)\d+\2(\n\n)?/, blockText);
          // Check if grafsOutIt is a pre->code
          if (/^<pre\b[^>]*>\s*<code\b[^>]*>/.test(grafsOutIt)) {
            codeFlag = true;
          }
        }
        grafsOut[i] = grafsOutIt;
      }
      text = grafsOut.join('\n');
      // Strip leading and trailing lines:
      text = text.replace(/^\n+/g, '');
      text = text.replace(/\n+$/g, '');
      return globals.converter._dispatch('paragraphs.after', text, options, globals);
    });

    /**
     * Run extension
     */
    showdown.subParser('runExtension', function (ext, text, options, globals) {

      if (ext.filter) {
        text = ext.filter(text, globals.converter, options);

      } else if (ext.regex) {
        // TODO remove this when old extension loading mechanism is deprecated
        var re = ext.regex;
        if (!(re instanceof RegExp)) {
          re = new RegExp(re, 'g');
        }
        text = text.replace(re, ext.replace);
      }

      return text;
    });

    /**
     * These are all the transformations that occur *within* block-level
     * tags like paragraphs, headers, and list items.
     */
    showdown.subParser('spanGamut', function (text, options, globals) {

      text = globals.converter._dispatch('spanGamut.before', text, options, globals);
      text = showdown.subParser('codeSpans')(text, options, globals);
      text = showdown.subParser('escapeSpecialCharsWithinTagAttributes')(text, options, globals);
      text = showdown.subParser('encodeBackslashEscapes')(text, options, globals);

      // Process anchor and image tags. Images must come first,
      // because ![foo][f] looks like an anchor.
      text = showdown.subParser('images')(text, options, globals);
      text = showdown.subParser('anchors')(text, options, globals);

      // Make links out of things like `<http://example.com/>`
      // Must come after anchors, because you can use < and >
      // delimiters in inline links like [this](<url>).
      text = showdown.subParser('autoLinks')(text, options, globals);
      text = showdown.subParser('simplifiedAutoLinks')(text, options, globals);
      text = showdown.subParser('emoji')(text, options, globals);
      text = showdown.subParser('underline')(text, options, globals);
      text = showdown.subParser('italicsAndBold')(text, options, globals);
      text = showdown.subParser('strikethrough')(text, options, globals);
      text = showdown.subParser('ellipsis')(text, options, globals);

      // we need to hash HTML tags inside spans
      text = showdown.subParser('hashHTMLSpans')(text, options, globals);

      // now we encode amps and angles
      text = showdown.subParser('encodeAmpsAndAngles')(text, options, globals);

      // Do hard breaks
      if (options.simpleLineBreaks) {
        // GFM style hard breaks
        // only add line breaks if the text does not contain a block (special case for lists)
        if (!/\n\n¨K/.test(text)) {
          text = text.replace(/\n+/g, '<br />\n');
        }
      } else {
        // Vanilla hard breaks
        text = text.replace(/  +\n/g, '<br />\n');
      }

      text = globals.converter._dispatch('spanGamut.after', text, options, globals);
      return text;
    });

    showdown.subParser('strikethrough', function (text, options, globals) {

      function parseInside (txt) {
        if (options.simplifiedAutoLink) {
          txt = showdown.subParser('simplifiedAutoLinks')(txt, options, globals);
        }
        return '<del>' + txt + '</del>';
      }

      if (options.strikethrough) {
        text = globals.converter._dispatch('strikethrough.before', text, options, globals);
        text = text.replace(/(?:~){2}([\s\S]+?)(?:~){2}/g, function (wm, txt) { return parseInside(txt); });
        text = globals.converter._dispatch('strikethrough.after', text, options, globals);
      }

      return text;
    });

    /**
     * Strips link definitions from text, stores the URLs and titles in
     * hash references.
     * Link defs are in the form: ^[id]: url "optional title"
     */
    showdown.subParser('stripLinkDefinitions', function (text, options, globals) {

      var regex       = /^ {0,3}\[([^\]]+)]:[ \t]*\n?[ \t]*<?([^>\s]+)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*\n?[ \t]*(?:(\n*)["|'(](.+?)["|')][ \t]*)?(?:\n+|(?=¨0))/gm,
          base64Regex = /^ {0,3}\[([^\]]+)]:[ \t]*\n?[ \t]*<?(data:.+?\/.+?;base64,[A-Za-z0-9+/=\n]+?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*\n?[ \t]*(?:(\n*)["|'(](.+?)["|')][ \t]*)?(?:\n\n|(?=¨0)|(?=\n\[))/gm;

      // attacklab: sentinel workarounds for lack of \A and \Z, safari\khtml bug
      text += '¨0';

      var replaceFunc = function (wholeMatch, linkId, url, width, height, blankLines, title) {

        // if there aren't two instances of linkId it must not be a reference link so back out
        linkId = linkId.toLowerCase();
        if (text.toLowerCase().split(linkId).length - 1 < 2) {
          return wholeMatch;
        }
        if (url.match(/^data:.+?\/.+?;base64,/)) {
          // remove newlines
          globals.gUrls[linkId] = url.replace(/\s/g, '');
        } else {
          globals.gUrls[linkId] = showdown.subParser('encodeAmpsAndAngles')(url, options, globals);  // Link IDs are case-insensitive
        }

        if (blankLines) {
          // Oops, found blank lines, so it's not a title.
          // Put back the parenthetical statement we stole.
          return blankLines + title;

        } else {
          if (title) {
            globals.gTitles[linkId] = title.replace(/"|'/g, '&quot;');
          }
          if (options.parseImgDimensions && width && height) {
            globals.gDimensions[linkId] = {
              width:  width,
              height: height
            };
          }
        }
        // Completely remove the definition from the text
        return '';
      };

      // first we try to find base64 link references
      text = text.replace(base64Regex, replaceFunc);

      text = text.replace(regex, replaceFunc);

      // attacklab: strip sentinel
      text = text.replace(/¨0/, '');

      return text;
    });

    showdown.subParser('tables', function (text, options, globals) {

      if (!options.tables) {
        return text;
      }

      var tableRgx       = /^ {0,3}\|?.+\|.+\n {0,3}\|?[ \t]*:?[ \t]*(?:[-=]){2,}[ \t]*:?[ \t]*\|[ \t]*:?[ \t]*(?:[-=]){2,}[\s\S]+?(?:\n\n|¨0)/gm,
          //singeColTblRgx = /^ {0,3}\|.+\|\n {0,3}\|[ \t]*:?[ \t]*(?:[-=]){2,}[ \t]*:?[ \t]*\|[ \t]*\n(?: {0,3}\|.+\|\n)+(?:\n\n|¨0)/gm;
          singeColTblRgx = /^ {0,3}\|.+\|[ \t]*\n {0,3}\|[ \t]*:?[ \t]*(?:[-=]){2,}[ \t]*:?[ \t]*\|[ \t]*\n( {0,3}\|.+\|[ \t]*\n)*(?:\n|¨0)/gm;

      function parseStyles (sLine) {
        if (/^:[ \t]*--*$/.test(sLine)) {
          return ' style="text-align:left;"';
        } else if (/^--*[ \t]*:[ \t]*$/.test(sLine)) {
          return ' style="text-align:right;"';
        } else if (/^:[ \t]*--*[ \t]*:$/.test(sLine)) {
          return ' style="text-align:center;"';
        } else {
          return '';
        }
      }

      function parseHeaders (header, style) {
        var id = '';
        header = header.trim();
        // support both tablesHeaderId and tableHeaderId due to error in documentation so we don't break backwards compatibility
        if (options.tablesHeaderId || options.tableHeaderId) {
          id = ' id="' + header.replace(/ /g, '_').toLowerCase() + '"';
        }
        header = showdown.subParser('spanGamut')(header, options, globals);

        return '<th' + id + style + '>' + header + '</th>\n';
      }

      function parseCells (cell, style) {
        var subText = showdown.subParser('spanGamut')(cell, options, globals);
        return '<td' + style + '>' + subText + '</td>\n';
      }

      function buildTable (headers, cells) {
        var tb = '<table>\n<thead>\n<tr>\n',
            tblLgn = headers.length;

        for (var i = 0; i < tblLgn; ++i) {
          tb += headers[i];
        }
        tb += '</tr>\n</thead>\n<tbody>\n';

        for (i = 0; i < cells.length; ++i) {
          tb += '<tr>\n';
          for (var ii = 0; ii < tblLgn; ++ii) {
            tb += cells[i][ii];
          }
          tb += '</tr>\n';
        }
        tb += '</tbody>\n</table>\n';
        return tb;
      }

      function parseTable (rawTable) {
        var i, tableLines = rawTable.split('\n');

        for (i = 0; i < tableLines.length; ++i) {
          // strip wrong first and last column if wrapped tables are used
          if (/^ {0,3}\|/.test(tableLines[i])) {
            tableLines[i] = tableLines[i].replace(/^ {0,3}\|/, '');
          }
          if (/\|[ \t]*$/.test(tableLines[i])) {
            tableLines[i] = tableLines[i].replace(/\|[ \t]*$/, '');
          }
          // parse code spans first, but we only support one line code spans
          tableLines[i] = showdown.subParser('codeSpans')(tableLines[i], options, globals);
        }

        var rawHeaders = tableLines[0].split('|').map(function (s) { return s.trim();}),
            rawStyles = tableLines[1].split('|').map(function (s) { return s.trim();}),
            rawCells = [],
            headers = [],
            styles = [],
            cells = [];

        tableLines.shift();
        tableLines.shift();

        for (i = 0; i < tableLines.length; ++i) {
          if (tableLines[i].trim() === '') {
            continue;
          }
          rawCells.push(
            tableLines[i]
              .split('|')
              .map(function (s) {
                return s.trim();
              })
          );
        }

        if (rawHeaders.length < rawStyles.length) {
          return rawTable;
        }

        for (i = 0; i < rawStyles.length; ++i) {
          styles.push(parseStyles(rawStyles[i]));
        }

        for (i = 0; i < rawHeaders.length; ++i) {
          if (showdown.helper.isUndefined(styles[i])) {
            styles[i] = '';
          }
          headers.push(parseHeaders(rawHeaders[i], styles[i]));
        }

        for (i = 0; i < rawCells.length; ++i) {
          var row = [];
          for (var ii = 0; ii < headers.length; ++ii) {
            if (showdown.helper.isUndefined(rawCells[i][ii])) ;
            row.push(parseCells(rawCells[i][ii], styles[ii]));
          }
          cells.push(row);
        }

        return buildTable(headers, cells);
      }

      text = globals.converter._dispatch('tables.before', text, options, globals);

      // find escaped pipe characters
      text = text.replace(/\\(\|)/g, showdown.helper.escapeCharactersCallback);

      // parse multi column tables
      text = text.replace(tableRgx, parseTable);

      // parse one column tables
      text = text.replace(singeColTblRgx, parseTable);

      text = globals.converter._dispatch('tables.after', text, options, globals);

      return text;
    });

    showdown.subParser('underline', function (text, options, globals) {

      if (!options.underline) {
        return text;
      }

      text = globals.converter._dispatch('underline.before', text, options, globals);

      if (options.literalMidWordUnderscores) {
        text = text.replace(/\b___(\S[\s\S]*?)___\b/g, function (wm, txt) {
          return '<u>' + txt + '</u>';
        });
        text = text.replace(/\b__(\S[\s\S]*?)__\b/g, function (wm, txt) {
          return '<u>' + txt + '</u>';
        });
      } else {
        text = text.replace(/___(\S[\s\S]*?)___/g, function (wm, m) {
          return (/\S$/.test(m)) ? '<u>' + m + '</u>' : wm;
        });
        text = text.replace(/__(\S[\s\S]*?)__/g, function (wm, m) {
          return (/\S$/.test(m)) ? '<u>' + m + '</u>' : wm;
        });
      }

      // escape remaining underscores to prevent them being parsed by italic and bold
      text = text.replace(/(_)/g, showdown.helper.escapeCharactersCallback);

      text = globals.converter._dispatch('underline.after', text, options, globals);

      return text;
    });

    /**
     * Swap back in all the special characters we've hidden.
     */
    showdown.subParser('unescapeSpecialChars', function (text, options, globals) {
      text = globals.converter._dispatch('unescapeSpecialChars.before', text, options, globals);

      text = text.replace(/¨E(\d+)E/g, function (wholeMatch, m1) {
        var charCodeToReplace = parseInt(m1);
        return String.fromCharCode(charCodeToReplace);
      });

      text = globals.converter._dispatch('unescapeSpecialChars.after', text, options, globals);
      return text;
    });

    showdown.subParser('makeMarkdown.blockquote', function (node, globals) {

      var txt = '';
      if (node.hasChildNodes()) {
        var children = node.childNodes,
            childrenLength = children.length;

        for (var i = 0; i < childrenLength; ++i) {
          var innerTxt = showdown.subParser('makeMarkdown.node')(children[i], globals);

          if (innerTxt === '') {
            continue;
          }
          txt += innerTxt;
        }
      }
      // cleanup
      txt = txt.trim();
      txt = '> ' + txt.split('\n').join('\n> ');
      return txt;
    });

    showdown.subParser('makeMarkdown.codeBlock', function (node, globals) {

      var lang = node.getAttribute('language'),
          num  = node.getAttribute('precodenum');
      return '```' + lang + '\n' + globals.preList[num] + '\n```';
    });

    showdown.subParser('makeMarkdown.codeSpan', function (node) {

      return '`' + node.innerHTML + '`';
    });

    showdown.subParser('makeMarkdown.emphasis', function (node, globals) {

      var txt = '';
      if (node.hasChildNodes()) {
        txt += '*';
        var children = node.childNodes,
            childrenLength = children.length;
        for (var i = 0; i < childrenLength; ++i) {
          txt += showdown.subParser('makeMarkdown.node')(children[i], globals);
        }
        txt += '*';
      }
      return txt;
    });

    showdown.subParser('makeMarkdown.header', function (node, globals, headerLevel) {

      var headerMark = new Array(headerLevel + 1).join('#'),
          txt = '';

      if (node.hasChildNodes()) {
        txt = headerMark + ' ';
        var children = node.childNodes,
            childrenLength = children.length;

        for (var i = 0; i < childrenLength; ++i) {
          txt += showdown.subParser('makeMarkdown.node')(children[i], globals);
        }
      }
      return txt;
    });

    showdown.subParser('makeMarkdown.hr', function () {

      return '---';
    });

    showdown.subParser('makeMarkdown.image', function (node) {

      var txt = '';
      if (node.hasAttribute('src')) {
        txt += '![' + node.getAttribute('alt') + '](';
        txt += '<' + node.getAttribute('src') + '>';
        if (node.hasAttribute('width') && node.hasAttribute('height')) {
          txt += ' =' + node.getAttribute('width') + 'x' + node.getAttribute('height');
        }

        if (node.hasAttribute('title')) {
          txt += ' "' + node.getAttribute('title') + '"';
        }
        txt += ')';
      }
      return txt;
    });

    showdown.subParser('makeMarkdown.links', function (node, globals) {

      var txt = '';
      if (node.hasChildNodes() && node.hasAttribute('href')) {
        var children = node.childNodes,
            childrenLength = children.length;
        txt = '[';
        for (var i = 0; i < childrenLength; ++i) {
          txt += showdown.subParser('makeMarkdown.node')(children[i], globals);
        }
        txt += '](';
        txt += '<' + node.getAttribute('href') + '>';
        if (node.hasAttribute('title')) {
          txt += ' "' + node.getAttribute('title') + '"';
        }
        txt += ')';
      }
      return txt;
    });

    showdown.subParser('makeMarkdown.list', function (node, globals, type) {

      var txt = '';
      if (!node.hasChildNodes()) {
        return '';
      }
      var listItems       = node.childNodes,
          listItemsLenght = listItems.length,
          listNum = node.getAttribute('start') || 1;

      for (var i = 0; i < listItemsLenght; ++i) {
        if (typeof listItems[i].tagName === 'undefined' || listItems[i].tagName.toLowerCase() !== 'li') {
          continue;
        }

        // define the bullet to use in list
        var bullet = '';
        if (type === 'ol') {
          bullet = listNum.toString() + '. ';
        } else {
          bullet = '- ';
        }

        // parse list item
        txt += bullet + showdown.subParser('makeMarkdown.listItem')(listItems[i], globals);
        ++listNum;
      }

      // add comment at the end to prevent consecutive lists to be parsed as one
      txt += '\n<!-- -->\n';
      return txt.trim();
    });

    showdown.subParser('makeMarkdown.listItem', function (node, globals) {

      var listItemTxt = '';

      var children = node.childNodes,
          childrenLenght = children.length;

      for (var i = 0; i < childrenLenght; ++i) {
        listItemTxt += showdown.subParser('makeMarkdown.node')(children[i], globals);
      }
      // if it's only one liner, we need to add a newline at the end
      if (!/\n$/.test(listItemTxt)) {
        listItemTxt += '\n';
      } else {
        // it's multiparagraph, so we need to indent
        listItemTxt = listItemTxt
          .split('\n')
          .join('\n    ')
          .replace(/^ {4}$/gm, '')
          .replace(/\n\n+/g, '\n\n');
      }

      return listItemTxt;
    });



    showdown.subParser('makeMarkdown.node', function (node, globals, spansOnly) {

      spansOnly = spansOnly || false;

      var txt = '';

      // edge case of text without wrapper paragraph
      if (node.nodeType === 3) {
        return showdown.subParser('makeMarkdown.txt')(node, globals);
      }

      // HTML comment
      if (node.nodeType === 8) {
        return '<!--' + node.data + '-->\n\n';
      }

      // process only node elements
      if (node.nodeType !== 1) {
        return '';
      }

      var tagName = node.tagName.toLowerCase();

      switch (tagName) {

        //
        // BLOCKS
        //
        case 'h1':
          if (!spansOnly) { txt = showdown.subParser('makeMarkdown.header')(node, globals, 1) + '\n\n'; }
          break;
        case 'h2':
          if (!spansOnly) { txt = showdown.subParser('makeMarkdown.header')(node, globals, 2) + '\n\n'; }
          break;
        case 'h3':
          if (!spansOnly) { txt = showdown.subParser('makeMarkdown.header')(node, globals, 3) + '\n\n'; }
          break;
        case 'h4':
          if (!spansOnly) { txt = showdown.subParser('makeMarkdown.header')(node, globals, 4) + '\n\n'; }
          break;
        case 'h5':
          if (!spansOnly) { txt = showdown.subParser('makeMarkdown.header')(node, globals, 5) + '\n\n'; }
          break;
        case 'h6':
          if (!spansOnly) { txt = showdown.subParser('makeMarkdown.header')(node, globals, 6) + '\n\n'; }
          break;

        case 'p':
          if (!spansOnly) { txt = showdown.subParser('makeMarkdown.paragraph')(node, globals) + '\n\n'; }
          break;

        case 'blockquote':
          if (!spansOnly) { txt = showdown.subParser('makeMarkdown.blockquote')(node, globals) + '\n\n'; }
          break;

        case 'hr':
          if (!spansOnly) { txt = showdown.subParser('makeMarkdown.hr')(node, globals) + '\n\n'; }
          break;

        case 'ol':
          if (!spansOnly) { txt = showdown.subParser('makeMarkdown.list')(node, globals, 'ol') + '\n\n'; }
          break;

        case 'ul':
          if (!spansOnly) { txt = showdown.subParser('makeMarkdown.list')(node, globals, 'ul') + '\n\n'; }
          break;

        case 'precode':
          if (!spansOnly) { txt = showdown.subParser('makeMarkdown.codeBlock')(node, globals) + '\n\n'; }
          break;

        case 'pre':
          if (!spansOnly) { txt = showdown.subParser('makeMarkdown.pre')(node, globals) + '\n\n'; }
          break;

        case 'table':
          if (!spansOnly) { txt = showdown.subParser('makeMarkdown.table')(node, globals) + '\n\n'; }
          break;

        //
        // SPANS
        //
        case 'code':
          txt = showdown.subParser('makeMarkdown.codeSpan')(node, globals);
          break;

        case 'em':
        case 'i':
          txt = showdown.subParser('makeMarkdown.emphasis')(node, globals);
          break;

        case 'strong':
        case 'b':
          txt = showdown.subParser('makeMarkdown.strong')(node, globals);
          break;

        case 'del':
          txt = showdown.subParser('makeMarkdown.strikethrough')(node, globals);
          break;

        case 'a':
          txt = showdown.subParser('makeMarkdown.links')(node, globals);
          break;

        case 'img':
          txt = showdown.subParser('makeMarkdown.image')(node, globals);
          break;

        default:
          txt = node.outerHTML + '\n\n';
      }

      // common normalization
      // TODO eventually

      return txt;
    });

    showdown.subParser('makeMarkdown.paragraph', function (node, globals) {

      var txt = '';
      if (node.hasChildNodes()) {
        var children = node.childNodes,
            childrenLength = children.length;
        for (var i = 0; i < childrenLength; ++i) {
          txt += showdown.subParser('makeMarkdown.node')(children[i], globals);
        }
      }

      // some text normalization
      txt = txt.trim();

      return txt;
    });

    showdown.subParser('makeMarkdown.pre', function (node, globals) {

      var num  = node.getAttribute('prenum');
      return '<pre>' + globals.preList[num] + '</pre>';
    });

    showdown.subParser('makeMarkdown.strikethrough', function (node, globals) {

      var txt = '';
      if (node.hasChildNodes()) {
        txt += '~~';
        var children = node.childNodes,
            childrenLength = children.length;
        for (var i = 0; i < childrenLength; ++i) {
          txt += showdown.subParser('makeMarkdown.node')(children[i], globals);
        }
        txt += '~~';
      }
      return txt;
    });

    showdown.subParser('makeMarkdown.strong', function (node, globals) {

      var txt = '';
      if (node.hasChildNodes()) {
        txt += '**';
        var children = node.childNodes,
            childrenLength = children.length;
        for (var i = 0; i < childrenLength; ++i) {
          txt += showdown.subParser('makeMarkdown.node')(children[i], globals);
        }
        txt += '**';
      }
      return txt;
    });

    showdown.subParser('makeMarkdown.table', function (node, globals) {

      var txt = '',
          tableArray = [[], []],
          headings   = node.querySelectorAll('thead>tr>th'),
          rows       = node.querySelectorAll('tbody>tr'),
          i, ii;
      for (i = 0; i < headings.length; ++i) {
        var headContent = showdown.subParser('makeMarkdown.tableCell')(headings[i], globals),
            allign = '---';

        if (headings[i].hasAttribute('style')) {
          var style = headings[i].getAttribute('style').toLowerCase().replace(/\s/g, '');
          switch (style) {
            case 'text-align:left;':
              allign = ':---';
              break;
            case 'text-align:right;':
              allign = '---:';
              break;
            case 'text-align:center;':
              allign = ':---:';
              break;
          }
        }
        tableArray[0][i] = headContent.trim();
        tableArray[1][i] = allign;
      }

      for (i = 0; i < rows.length; ++i) {
        var r = tableArray.push([]) - 1,
            cols = rows[i].getElementsByTagName('td');

        for (ii = 0; ii < headings.length; ++ii) {
          var cellContent = ' ';
          if (typeof cols[ii] !== 'undefined') {
            cellContent = showdown.subParser('makeMarkdown.tableCell')(cols[ii], globals);
          }
          tableArray[r].push(cellContent);
        }
      }

      var cellSpacesCount = 3;
      for (i = 0; i < tableArray.length; ++i) {
        for (ii = 0; ii < tableArray[i].length; ++ii) {
          var strLen = tableArray[i][ii].length;
          if (strLen > cellSpacesCount) {
            cellSpacesCount = strLen;
          }
        }
      }

      for (i = 0; i < tableArray.length; ++i) {
        for (ii = 0; ii < tableArray[i].length; ++ii) {
          if (i === 1) {
            if (tableArray[i][ii].slice(-1) === ':') {
              tableArray[i][ii] = showdown.helper.padEnd(tableArray[i][ii].slice(-1), cellSpacesCount - 1, '-') + ':';
            } else {
              tableArray[i][ii] = showdown.helper.padEnd(tableArray[i][ii], cellSpacesCount, '-');
            }
          } else {
            tableArray[i][ii] = showdown.helper.padEnd(tableArray[i][ii], cellSpacesCount);
          }
        }
        txt += '| ' + tableArray[i].join(' | ') + ' |\n';
      }

      return txt.trim();
    });

    showdown.subParser('makeMarkdown.tableCell', function (node, globals) {

      var txt = '';
      if (!node.hasChildNodes()) {
        return '';
      }
      var children = node.childNodes,
          childrenLength = children.length;

      for (var i = 0; i < childrenLength; ++i) {
        txt += showdown.subParser('makeMarkdown.node')(children[i], globals, true);
      }
      return txt.trim();
    });

    showdown.subParser('makeMarkdown.txt', function (node) {

      var txt = node.nodeValue;

      // multiple spaces are collapsed
      txt = txt.replace(/ +/g, ' ');

      // replace the custom ¨NBSP; with a space
      txt = txt.replace(/¨NBSP;/g, ' ');

      // ", <, > and & should replace escaped html entities
      txt = showdown.helper.unescapeHTMLEntities(txt);

      // escape markdown magic characters
      // emphasis, strong and strikethrough - can appear everywhere
      // we also escape pipe (|) because of tables
      // and escape ` because of code blocks and spans
      txt = txt.replace(/([*_~|`])/g, '\\$1');

      // escape > because of blockquotes
      txt = txt.replace(/^(\s*)>/g, '\\$1>');

      // hash character, only troublesome at the beginning of a line because of headers
      txt = txt.replace(/^#/gm, '\\#');

      // horizontal rules
      txt = txt.replace(/^(\s*)([-=]{3,})(\s*)$/, '$1\\$2$3');

      // dot, because of ordered lists, only troublesome at the beginning of a line when preceded by an integer
      txt = txt.replace(/^( {0,3}\d+)\./gm, '$1\\.');

      // +, * and -, at the beginning of a line becomes a list, so we need to escape them also (asterisk was already escaped)
      txt = txt.replace(/^( {0,3})([+-])/gm, '$1\\$2');

      // images and links, ] followed by ( is problematic, so we escape it
      txt = txt.replace(/]([\s]*)\(/g, '\\]$1\\(');

      // reference URIs must also be escaped
      txt = txt.replace(/^ {0,3}\[([\S \t]*?)]:/gm, '\\[$1]:');

      return txt;
    });

    var root = this;

    // AMD Loader
    if (module.exports) {
      module.exports = showdown;

    // Regular Browser loader
    } else {
      root.showdown = showdown;
    }
    }).call(commonjsGlobal);


    });

    /* src\ExternalMarkdown.svelte generated by Svelte v3.52.0 */
    const file$8 = "src\\ExternalMarkdown.svelte";

    function create_fragment$f(ctx) {
    	let div;

    	const block = {
    		c: function create() {
    			div = element("div");
    			add_location(div, file$8, 24, 0, 610);
    		},
    		l: function claim(nodes) {
    			throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option");
    		},
    		m: function mount(target, anchor) {
    			insert_dev(target, div, anchor);
    			div.innerHTML = /*htmlText*/ ctx[0];
    		},
    		p: function update(ctx, [dirty]) {
    			if (dirty & /*htmlText*/ 1) div.innerHTML = /*htmlText*/ ctx[0];		},
    		i: noop,
    		o: noop,
    		d: function destroy(detaching) {
    			if (detaching) detach_dev(div);
    		}
    	};

    	dispatch_dev("SvelteRegisterBlock", {
    		block,
    		id: create_fragment$f.name,
    		type: "component",
    		source: "",
    		ctx
    	});

    	return block;
    }

    function instance$f($$self, $$props, $$invalidate) {
    	let { $$slots: slots = {}, $$scope } = $$props;
    	validate_slots('ExternalMarkdown', slots, []);
    	let { site } = $$props;
    	let { section } = $$props;
    	let htmlText = "";

    	onMount(async () => {
    		const converter = new showdown.Converter();
    		const response = await fetch(site);

    		if (response.ok) {
    			const mdText = await response.text();
    			const linkRE = /\[(.+)\]\(((?!http).+)\)/ig;
    			const links = mdText.replace(linkRE, `[$1](#/${section}/$2)`);
    			$$invalidate(0, htmlText = converter.makeHtml(links));
    		}
    	});

    	$$self.$$.on_mount.push(function () {
    		if (site === undefined && !('site' in $$props || $$self.$$.bound[$$self.$$.props['site']])) {
    			console.warn("<ExternalMarkdown> was created without expected prop 'site'");
    		}

    		if (section === undefined && !('section' in $$props || $$self.$$.bound[$$self.$$.props['section']])) {
    			console.warn("<ExternalMarkdown> was created without expected prop 'section'");
    		}
    	});

    	const writable_props = ['site', 'section'];

    	Object.keys($$props).forEach(key => {
    		if (!~writable_props.indexOf(key) && key.slice(0, 2) !== '$$' && key !== 'slot') console.warn(`<ExternalMarkdown> was created with unknown prop '${key}'`);
    	});

    	$$self.$$set = $$props => {
    		if ('site' in $$props) $$invalidate(1, site = $$props.site);
    		if ('section' in $$props) $$invalidate(2, section = $$props.section);
    	};

    	$$self.$capture_state = () => ({
    		onMount,
    		showdown,
    		site,
    		section,
    		htmlText
    	});

    	$$self.$inject_state = $$props => {
    		if ('site' in $$props) $$invalidate(1, site = $$props.site);
    		if ('section' in $$props) $$invalidate(2, section = $$props.section);
    		if ('htmlText' in $$props) $$invalidate(0, htmlText = $$props.htmlText);
    	};

    	if ($$props && "$$inject" in $$props) {
    		$$self.$inject_state($$props.$$inject);
    	}

    	return [htmlText, site, section];
    }

    class ExternalMarkdown extends SvelteComponentDev {
    	constructor(options) {
    		super(options);
    		init$1(this, options, instance$f, create_fragment$f, safe_not_equal, { site: 1, section: 2 });

    		dispatch_dev("SvelteRegisterComponent", {
    			component: this,
    			tagName: "ExternalMarkdown",
    			options,
    			id: create_fragment$f.name
    		});
    	}

    	get site() {
    		throw new Error("<ExternalMarkdown>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
    	}

    	set site(value) {
    		throw new Error("<ExternalMarkdown>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
    	}

    	get section() {
    		throw new Error("<ExternalMarkdown>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
    	}

    	set section(value) {
    		throw new Error("<ExternalMarkdown>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
    	}
    }

    /* src\Home.svelte generated by Svelte v3.52.0 */

    function create_fragment$e(ctx) {
    	let sveltemarkdown;
    	let t;
    	let player;
    	let current;
    	sveltemarkdown = new SvelteMarkdown({ props: { source: source$8 }, $$inline: true });

    	player = new Player({
    			props: { videoId: "belmar-multiresolution-remote" },
    			$$inline: true
    		});

    	const block = {
    		c: function create() {
    			create_component(sveltemarkdown.$$.fragment);
    			t = space();
    			create_component(player.$$.fragment);
    		},
    		l: function claim(nodes) {
    			throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option");
    		},
    		m: function mount(target, anchor) {
    			mount_component(sveltemarkdown, target, anchor);
    			insert_dev(target, t, anchor);
    			mount_component(player, target, anchor);
    			current = true;
    		},
    		p: noop,
    		i: function intro(local) {
    			if (current) return;
    			transition_in(sveltemarkdown.$$.fragment, local);
    			transition_in(player.$$.fragment, local);
    			current = true;
    		},
    		o: function outro(local) {
    			transition_out(sveltemarkdown.$$.fragment, local);
    			transition_out(player.$$.fragment, local);
    			current = false;
    		},
    		d: function destroy(detaching) {
    			destroy_component(sveltemarkdown, detaching);
    			if (detaching) detach_dev(t);
    			destroy_component(player, detaching);
    		}
    	};

    	dispatch_dev("SvelteRegisterBlock", {
    		block,
    		id: create_fragment$e.name,
    		type: "component",
    		source: "",
    		ctx
    	});

    	return block;
    }

    function instance$e($$self, $$props, $$invalidate) {
    	let { $$slots: slots = {}, $$scope } = $$props;
    	validate_slots('Home', slots, []);
    	const writable_props = [];

    	Object.keys($$props).forEach(key => {
    		if (!~writable_props.indexOf(key) && key.slice(0, 2) !== '$$' && key !== 'slot') console.warn(`<Home> was created with unknown prop '${key}'`);
    	});

    	$$self.$capture_state = () => ({
    		onMount,
    		SvelteMarkdown,
    		source: source$8,
    		Player,
    		ExternalMarkdown
    	});

    	return [];
    }

    class Home extends SvelteComponentDev {
    	constructor(options) {
    		super(options);
    		init$1(this, options, instance$e, create_fragment$e, safe_not_equal, {});

    		dispatch_dev("SvelteRegisterComponent", {
    			component: this,
    			tagName: "Home",
    			options,
    			id: create_fragment$e.name
    		});
    	}
    }

    var markdown = "# Download\r\n\r\n## Reference player\r\n\r\nYou can use our reference player as a base to create your own by [downloading it from our github repository](https://github.com/polimediaupv/paella-player). \r\n\r\n## Create your own player from scratch\r\n\r\nOur reference player uses the base paella-core library, and a number of extra libraries that provide plugins of different types:\r\n\r\n- paella-core (%VERSION(paella-core)%): paella player core library ([git](https://github.com/polimediaupv/paella-core), [npm](https://www.npmjs.com/package/paella-core)).\r\n- paella-basic-plugins (%VERSION(paella-basic-plugins)%): most commonly used plugins (volume, subtitle selection, video layout change, playback speed, etc.) ([git](https://github.com/polimediaupv/paella-basic-plugins), [npm](https://www.npmjs.com/package/paella-basic-plugins)).\r\n- paella-slide-plugins  (%VERSION(paella-slide-plugins)%): plugins designed to interact with slide-based presentations ([git](https://github.com/polimediaupv/paella-slide-plugins), [npm](https://www.npmjs.com/package/paella-slide-plugins)).\r\n- paella-zoom-plugin (%VERSION(paella-zoom-plugin)%): allows you to zoom into the video ([git](https://github.com/polimediaupv/paella-zoom-plugin), [npm](https://www.npmjs.com/package/paella-zoom-plugin)).\r\n- paella-user-tracking (%VERSION(paella-user-tracking)%): integration with usage analysis tools ([git](https://github.com/polimediaupv/paella-user-tracking), [npm](https://www.npmjs.com/package/paella-user-tracking)).\r\n- paella-layout-plugins (%VERSION(paella-layout-plugins)%): Extra video layout plugins ([git](https://github.com/polimediaupv/paella-layout-plugins), [npm](https://www.npmjs.com/package/paella-layout-plugins)).\r\n- paella-webgl-plugins (%VERSION(paella-webgl-plugins)%): Canvas plugins that use WebGL to display video, e.g. Video360CanvasPlugin ([git](https://github.com/polimediaupv/paella-webgl-plugins), [npm](https://www.npmjs.com/package/paella-webgl-plugins)).\r\n\r\nYou can get each of these libraries with npm\r\n\r\n```sh\r\nnpm install --save paella-core paella-basic-plugins paella-slide-plugins paella-zoom-plugin paella-user-tracking paella-layout-plugins paella-webgl-plugins\r\n```\r\n\r\nSee the documentation to learn how to use `paella-core` and the plugin libraries.\r\n";

    /* src\Download.svelte generated by Svelte v3.52.0 */

    function create_fragment$d(ctx) {
    	let sveltemarkdown;
    	let current;

    	sveltemarkdown = new SvelteMarkdown({
    			props: { source: /*source*/ ctx[0] },
    			$$inline: true
    		});

    	const block = {
    		c: function create() {
    			create_component(sveltemarkdown.$$.fragment);
    		},
    		l: function claim(nodes) {
    			throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option");
    		},
    		m: function mount(target, anchor) {
    			mount_component(sveltemarkdown, target, anchor);
    			current = true;
    		},
    		p: function update(ctx, [dirty]) {
    			const sveltemarkdown_changes = {};
    			if (dirty & /*source*/ 1) sveltemarkdown_changes.source = /*source*/ ctx[0];
    			sveltemarkdown.$set(sveltemarkdown_changes);
    		},
    		i: function intro(local) {
    			if (current) return;
    			transition_in(sveltemarkdown.$$.fragment, local);
    			current = true;
    		},
    		o: function outro(local) {
    			transition_out(sveltemarkdown.$$.fragment, local);
    			current = false;
    		},
    		d: function destroy(detaching) {
    			destroy_component(sveltemarkdown, detaching);
    		}
    	};

    	dispatch_dev("SvelteRegisterBlock", {
    		block,
    		id: create_fragment$d.name,
    		type: "component",
    		source: "",
    		ctx
    	});

    	return block;
    }

    function instance$d($$self, $$props, $$invalidate) {
    	let { $$slots: slots = {}, $$scope } = $$props;
    	validate_slots('Download', slots, []);
    	let source = markdown;

    	onMount(async () => {
    		const re = /\%VERSION\((.+)\)\%/g;
    		let result;
    		let mdText = markdown;

    		while ((result = re.exec(markdown)) !== null) {
    			const library = result[1];
    			const version = await lastPacakgeVersion('polimediaupv', library);
    			mdText = mdText.replace(result[0], version);
    		}

    		$$invalidate(0, source = mdText);
    	});

    	const writable_props = [];

    	Object.keys($$props).forEach(key => {
    		if (!~writable_props.indexOf(key) && key.slice(0, 2) !== '$$' && key !== 'slot') console.warn(`<Download> was created with unknown prop '${key}'`);
    	});

    	$$self.$capture_state = () => ({
    		onMount,
    		SvelteMarkdown,
    		markdown,
    		lastPacakgeVersion,
    		source
    	});

    	$$self.$inject_state = $$props => {
    		if ('source' in $$props) $$invalidate(0, source = $$props.source);
    	};

    	if ($$props && "$$inject" in $$props) {
    		$$self.$inject_state($$props.$$inject);
    	}

    	return [source];
    }

    class Download extends SvelteComponentDev {
    	constructor(options) {
    		super(options);
    		init$1(this, options, instance$d, create_fragment$d, safe_not_equal, {});

    		dispatch_dev("SvelteRegisterComponent", {
    			component: this,
    			tagName: "Download",
    			options,
    			id: create_fragment$d.name
    		});
    	}
    }

    var source$7 = "# About Paella Player\r\n\r\n## License\r\n\r\nPaella Player has been mainly developed by the Universitat Politècnica de València, with portions contributed/copyrighted by others (see the developer credits in the source code itself) and all of it is provided under the terms of the Educational Community License\r\n\r\nPaella Player and its documentation are distributed in the hope that they will be useful, but without any warranty; without even the implied warranty of merchantability or fitness for a particular purpose. See the License for more details.\r\n\r\n\r\n## Source code, Contributions and Issues\r\n\r\nPaella source code lives in our GitHub site. Pull requests are welcomed.\r\n\r\nIf you want to report an issue with paella, please do that there too.\r\n\r\n\r\n## Mailing list\r\n\r\nIf you find Paella useful we would like to hear from your experience. You may join the Paella Player mailing list and send your messages to [paellaplayer@upv.es](mailto:paellaplayer@upv.es). Feel free to subscribe to that list.\r\n";

    /* src\About.svelte generated by Svelte v3.52.0 */

    function create_fragment$c(ctx) {
    	let sveltemarkdown;
    	let current;
    	sveltemarkdown = new SvelteMarkdown({ props: { source: source$7 }, $$inline: true });

    	const block = {
    		c: function create() {
    			create_component(sveltemarkdown.$$.fragment);
    		},
    		l: function claim(nodes) {
    			throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option");
    		},
    		m: function mount(target, anchor) {
    			mount_component(sveltemarkdown, target, anchor);
    			current = true;
    		},
    		p: noop,
    		i: function intro(local) {
    			if (current) return;
    			transition_in(sveltemarkdown.$$.fragment, local);
    			current = true;
    		},
    		o: function outro(local) {
    			transition_out(sveltemarkdown.$$.fragment, local);
    			current = false;
    		},
    		d: function destroy(detaching) {
    			destroy_component(sveltemarkdown, detaching);
    		}
    	};

    	dispatch_dev("SvelteRegisterBlock", {
    		block,
    		id: create_fragment$c.name,
    		type: "component",
    		source: "",
    		ctx
    	});

    	return block;
    }

    function instance$c($$self, $$props, $$invalidate) {
    	let { $$slots: slots = {}, $$scope } = $$props;
    	validate_slots('About', slots, []);
    	const writable_props = [];

    	Object.keys($$props).forEach(key => {
    		if (!~writable_props.indexOf(key) && key.slice(0, 2) !== '$$' && key !== 'slot') console.warn(`<About> was created with unknown prop '${key}'`);
    	});

    	$$self.$capture_state = () => ({ SvelteMarkdown, source: source$7 });
    	return [];
    }

    class About extends SvelteComponentDev {
    	constructor(options) {
    		super(options);
    		init$1(this, options, instance$c, create_fragment$c, safe_not_equal, {});

    		dispatch_dev("SvelteRegisterComponent", {
    			component: this,
    			tagName: "About",
    			options,
    			id: create_fragment$c.name
    		});
    	}
    }

    var source$6 = "# Paella Main features\r\n\r\n- Split-screen player for viewing video and slide content simultaneously\r\n- Unlimited number of simultaneous video streams\r\n- Zoom in any video window\r\n- Automatic slide index\r\n- Heat maps indicate sections of content most often watched\r\n- Multiple quality adaptive Streaming support with HTTP Live Streaming (HLS) or MPEG-DASH\r\n- Live Streaming support\r\n- Multiple language captions\r\n- Support for multiple audio tracks\r\n- REST APIs make it easy to extend to or integrate\r\n- Easy customization and localization of the player interface\r\n- ARIA support\r\n\r\n… and many more. See the CHANGELOG file in our GitHub Paella site or browse the demos .\r\n\r\n## Opencast Support\r\n\r\nPaella Player works BOTH as an standalone JavaScript player and as an Opencast video player. So:\r\n\r\n- If you are using Opencast >5.0 you have already Paella in your system.\r\n- If you have an old O\r\n";

    /* src\Features.svelte generated by Svelte v3.52.0 */

    function create_fragment$b(ctx) {
    	let sveltemarkdown;
    	let current;
    	sveltemarkdown = new SvelteMarkdown({ props: { source: source$6 }, $$inline: true });

    	const block = {
    		c: function create() {
    			create_component(sveltemarkdown.$$.fragment);
    		},
    		l: function claim(nodes) {
    			throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option");
    		},
    		m: function mount(target, anchor) {
    			mount_component(sveltemarkdown, target, anchor);
    			current = true;
    		},
    		p: noop,
    		i: function intro(local) {
    			if (current) return;
    			transition_in(sveltemarkdown.$$.fragment, local);
    			current = true;
    		},
    		o: function outro(local) {
    			transition_out(sveltemarkdown.$$.fragment, local);
    			current = false;
    		},
    		d: function destroy(detaching) {
    			destroy_component(sveltemarkdown, detaching);
    		}
    	};

    	dispatch_dev("SvelteRegisterBlock", {
    		block,
    		id: create_fragment$b.name,
    		type: "component",
    		source: "",
    		ctx
    	});

    	return block;
    }

    function instance$b($$self, $$props, $$invalidate) {
    	let { $$slots: slots = {}, $$scope } = $$props;
    	validate_slots('Features', slots, []);
    	const writable_props = [];

    	Object.keys($$props).forEach(key => {
    		if (!~writable_props.indexOf(key) && key.slice(0, 2) !== '$$' && key !== 'slot') console.warn(`<Features> was created with unknown prop '${key}'`);
    	});

    	$$self.$capture_state = () => ({ SvelteMarkdown, source: source$6 });
    	return [];
    }

    class Features extends SvelteComponentDev {
    	constructor(options) {
    		super(options);
    		init$1(this, options, instance$b, create_fragment$b, safe_not_equal, {});

    		dispatch_dev("SvelteRegisterComponent", {
    			component: this,
    			tagName: "Features",
    			options,
    			id: create_fragment$b.name
    		});
    	}
    }

    /* src\NotFound.svelte generated by Svelte v3.52.0 */

    const file$7 = "src\\NotFound.svelte";

    function create_fragment$a(ctx) {
    	let h1;
    	let t1;
    	let p;
    	let a;

    	const block = {
    		c: function create() {
    			h1 = element("h1");
    			h1.textContent = "Not found";
    			t1 = space();
    			p = element("p");
    			a = element("a");
    			a.textContent = "Home";
    			add_location(h1, file$7, 4, 0, 25);
    			attr_dev(a, "href", "#/");
    			add_location(a, file$7, 5, 3, 48);
    			add_location(p, file$7, 5, 0, 45);
    		},
    		l: function claim(nodes) {
    			throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option");
    		},
    		m: function mount(target, anchor) {
    			insert_dev(target, h1, anchor);
    			insert_dev(target, t1, anchor);
    			insert_dev(target, p, anchor);
    			append_dev(p, a);
    		},
    		p: noop,
    		i: noop,
    		o: noop,
    		d: function destroy(detaching) {
    			if (detaching) detach_dev(h1);
    			if (detaching) detach_dev(t1);
    			if (detaching) detach_dev(p);
    		}
    	};

    	dispatch_dev("SvelteRegisterBlock", {
    		block,
    		id: create_fragment$a.name,
    		type: "component",
    		source: "",
    		ctx
    	});

    	return block;
    }

    function instance$a($$self, $$props) {
    	let { $$slots: slots = {}, $$scope } = $$props;
    	validate_slots('NotFound', slots, []);
    	const writable_props = [];

    	Object.keys($$props).forEach(key => {
    		if (!~writable_props.indexOf(key) && key.slice(0, 2) !== '$$' && key !== 'slot') console.warn(`<NotFound> was created with unknown prop '${key}'`);
    	});

    	return [];
    }

    class NotFound extends SvelteComponentDev {
    	constructor(options) {
    		super(options);
    		init$1(this, options, instance$a, create_fragment$a, safe_not_equal, {});

    		dispatch_dev("SvelteRegisterComponent", {
    			component: this,
    			tagName: "NotFound",
    			options,
    			id: create_fragment$a.name
    		});
    	}
    }

    var source$5 = "\r\n# Reference player demo.\r\n\r\nYou can get this player source code from the [github repository](https://github.com/polimediaupv/paella-player)\r\n\r\nCheck the paella player 7 documentation and tutorials [here](https://github.com/polimediaupv/paella-core/blob/main/doc/index.md).\r\n\r\n# New feature: Multiple players on single page\r\n\r\nIn the following link, you can test the paella-core's new ability to load multiple instances of the player on the same page. Note that this is an experimental feature, and may be problematic in resource-constrained environments, such as on some smartphones.\r\n\r\n- [Multiple instances of paella player on a single page](#/demos-all)\r\n\r\n# Playground page\r\n\r\nExperiment with the `paella-core` configuration options using the playground page:\r\n\r\n- [paella-core playground](#/playground)\r\n\r\n# Paella Player demos\r\n";

    /* src\Demos.svelte generated by Svelte v3.52.0 */

    const { Error: Error_1$2 } = globals;
    const file$6 = "src\\Demos.svelte";

    function get_each_context$3(ctx, list, i) {
    	const child_ctx = ctx.slice();
    	child_ctx[12] = list[i];
    	return child_ctx;
    }

    function get_each_context_1$2(ctx, list, i) {
    	const child_ctx = ctx.slice();
    	child_ctx[15] = list[i];
    	return child_ctx;
    }

    function get_each_context_2$1(ctx, list, i) {
    	const child_ctx = ctx.slice();
    	child_ctx[12] = list[i];
    	return child_ctx;
    }

    function get_each_context_3(ctx, list, i) {
    	const child_ctx = ctx.slice();
    	child_ctx[15] = list[i];
    	return child_ctx;
    }

    // (57:12) {#each demoSection.demos as demo}
    function create_each_block_3(ctx) {
    	let li;
    	let button;
    	let t_value = /*demo*/ ctx[15].name + "";
    	let t;
    	let button_class_value;
    	let mounted;
    	let dispose;

    	const block = {
    		c: function create() {
    			li = element("li");
    			button = element("button");
    			t = text(t_value);

    			attr_dev(button, "class", button_class_value = "" + (null_to_empty(/*demo*/ ctx[15].id == /*videoId*/ ctx[1]
    			? 'anchor-button disabled'
    			: 'anchor-button') + " svelte-1pt21bu"));

    			add_location(button, file$6, 57, 20, 1445);
    			attr_dev(li, "class", "svelte-1pt21bu");
    			add_location(li, file$6, 57, 16, 1441);
    		},
    		m: function mount(target, anchor) {
    			insert_dev(target, li, anchor);
    			append_dev(li, button);
    			append_dev(button, t);

    			if (!mounted) {
    				dispose = listen_dev(
    					button,
    					"click",
    					function () {
    						if (is_function(/*loadDemo*/ ctx[3](/*demo*/ ctx[15].id))) /*loadDemo*/ ctx[3](/*demo*/ ctx[15].id).apply(this, arguments);
    					},
    					false,
    					false,
    					false
    				);

    				mounted = true;
    			}
    		},
    		p: function update(new_ctx, dirty) {
    			ctx = new_ctx;
    			if (dirty & /*demos*/ 1 && t_value !== (t_value = /*demo*/ ctx[15].name + "")) set_data_dev(t, t_value);

    			if (dirty & /*demos, videoId*/ 3 && button_class_value !== (button_class_value = "" + (null_to_empty(/*demo*/ ctx[15].id == /*videoId*/ ctx[1]
    			? 'anchor-button disabled'
    			: 'anchor-button') + " svelte-1pt21bu"))) {
    				attr_dev(button, "class", button_class_value);
    			}
    		},
    		d: function destroy(detaching) {
    			if (detaching) detach_dev(li);
    			mounted = false;
    			dispose();
    		}
    	};

    	dispatch_dev("SvelteRegisterBlock", {
    		block,
    		id: create_each_block_3.name,
    		type: "each",
    		source: "(57:12) {#each demoSection.demos as demo}",
    		ctx
    	});

    	return block;
    }

    // (54:8) {#each demos as demoSection}
    function create_each_block_2$1(ctx) {
    	let h2;
    	let t0_value = /*demoSection*/ ctx[12].title + "";
    	let t0;
    	let t1;
    	let ul;
    	let t2;
    	let each_value_3 = /*demoSection*/ ctx[12].demos;
    	validate_each_argument(each_value_3);
    	let each_blocks = [];

    	for (let i = 0; i < each_value_3.length; i += 1) {
    		each_blocks[i] = create_each_block_3(get_each_context_3(ctx, each_value_3, i));
    	}

    	const block = {
    		c: function create() {
    			h2 = element("h2");
    			t0 = text(t0_value);
    			t1 = space();
    			ul = element("ul");

    			for (let i = 0; i < each_blocks.length; i += 1) {
    				each_blocks[i].c();
    			}

    			t2 = space();
    			attr_dev(h2, "class", "svelte-1pt21bu");
    			add_location(h2, file$6, 54, 8, 1334);
    			attr_dev(ul, "class", "svelte-1pt21bu");
    			add_location(ul, file$6, 55, 8, 1372);
    		},
    		m: function mount(target, anchor) {
    			insert_dev(target, h2, anchor);
    			append_dev(h2, t0);
    			insert_dev(target, t1, anchor);
    			insert_dev(target, ul, anchor);

    			for (let i = 0; i < each_blocks.length; i += 1) {
    				each_blocks[i].m(ul, null);
    			}

    			append_dev(ul, t2);
    		},
    		p: function update(ctx, dirty) {
    			if (dirty & /*demos*/ 1 && t0_value !== (t0_value = /*demoSection*/ ctx[12].title + "")) set_data_dev(t0, t0_value);

    			if (dirty & /*demos, videoId, loadDemo*/ 11) {
    				each_value_3 = /*demoSection*/ ctx[12].demos;
    				validate_each_argument(each_value_3);
    				let i;

    				for (i = 0; i < each_value_3.length; i += 1) {
    					const child_ctx = get_each_context_3(ctx, each_value_3, i);

    					if (each_blocks[i]) {
    						each_blocks[i].p(child_ctx, dirty);
    					} else {
    						each_blocks[i] = create_each_block_3(child_ctx);
    						each_blocks[i].c();
    						each_blocks[i].m(ul, t2);
    					}
    				}

    				for (; i < each_blocks.length; i += 1) {
    					each_blocks[i].d(1);
    				}

    				each_blocks.length = each_value_3.length;
    			}
    		},
    		d: function destroy(detaching) {
    			if (detaching) detach_dev(h2);
    			if (detaching) detach_dev(t1);
    			if (detaching) detach_dev(ul);
    			destroy_each(each_blocks, detaching);
    		}
    	};

    	dispatch_dev("SvelteRegisterBlock", {
    		block,
    		id: create_each_block_2$1.name,
    		type: "each",
    		source: "(54:8) {#each demos as demoSection}",
    		ctx
    	});

    	return block;
    }

    // (67:16) {#if demo.id === videoId}
    function create_if_block$5(ctx) {
    	let h1;
    	let t_value = /*demo*/ ctx[15].name + "";
    	let t;

    	const block = {
    		c: function create() {
    			h1 = element("h1");
    			t = text(t_value);
    			add_location(h1, file$6, 67, 20, 1839);
    		},
    		m: function mount(target, anchor) {
    			insert_dev(target, h1, anchor);
    			append_dev(h1, t);
    		},
    		p: function update(ctx, dirty) {
    			if (dirty & /*demos*/ 1 && t_value !== (t_value = /*demo*/ ctx[15].name + "")) set_data_dev(t, t_value);
    		},
    		d: function destroy(detaching) {
    			if (detaching) detach_dev(h1);
    		}
    	};

    	dispatch_dev("SvelteRegisterBlock", {
    		block,
    		id: create_if_block$5.name,
    		type: "if",
    		source: "(67:16) {#if demo.id === videoId}",
    		ctx
    	});

    	return block;
    }

    // (66:12) {#each demoSection.demos as demo}
    function create_each_block_1$2(ctx) {
    	let if_block_anchor;
    	let if_block = /*demo*/ ctx[15].id === /*videoId*/ ctx[1] && create_if_block$5(ctx);

    	const block = {
    		c: function create() {
    			if (if_block) if_block.c();
    			if_block_anchor = empty();
    		},
    		m: function mount(target, anchor) {
    			if (if_block) if_block.m(target, anchor);
    			insert_dev(target, if_block_anchor, anchor);
    		},
    		p: function update(ctx, dirty) {
    			if (/*demo*/ ctx[15].id === /*videoId*/ ctx[1]) {
    				if (if_block) {
    					if_block.p(ctx, dirty);
    				} else {
    					if_block = create_if_block$5(ctx);
    					if_block.c();
    					if_block.m(if_block_anchor.parentNode, if_block_anchor);
    				}
    			} else if (if_block) {
    				if_block.d(1);
    				if_block = null;
    			}
    		},
    		d: function destroy(detaching) {
    			if (if_block) if_block.d(detaching);
    			if (detaching) detach_dev(if_block_anchor);
    		}
    	};

    	dispatch_dev("SvelteRegisterBlock", {
    		block,
    		id: create_each_block_1$2.name,
    		type: "each",
    		source: "(66:12) {#each demoSection.demos as demo}",
    		ctx
    	});

    	return block;
    }

    // (65:8) {#each demos as demoSection}
    function create_each_block$3(ctx) {
    	let each_1_anchor;
    	let each_value_1 = /*demoSection*/ ctx[12].demos;
    	validate_each_argument(each_value_1);
    	let each_blocks = [];

    	for (let i = 0; i < each_value_1.length; i += 1) {
    		each_blocks[i] = create_each_block_1$2(get_each_context_1$2(ctx, each_value_1, i));
    	}

    	const block = {
    		c: function create() {
    			for (let i = 0; i < each_blocks.length; i += 1) {
    				each_blocks[i].c();
    			}

    			each_1_anchor = empty();
    		},
    		m: function mount(target, anchor) {
    			for (let i = 0; i < each_blocks.length; i += 1) {
    				each_blocks[i].m(target, anchor);
    			}

    			insert_dev(target, each_1_anchor, anchor);
    		},
    		p: function update(ctx, dirty) {
    			if (dirty & /*demos, videoId*/ 3) {
    				each_value_1 = /*demoSection*/ ctx[12].demos;
    				validate_each_argument(each_value_1);
    				let i;

    				for (i = 0; i < each_value_1.length; i += 1) {
    					const child_ctx = get_each_context_1$2(ctx, each_value_1, i);

    					if (each_blocks[i]) {
    						each_blocks[i].p(child_ctx, dirty);
    					} else {
    						each_blocks[i] = create_each_block_1$2(child_ctx);
    						each_blocks[i].c();
    						each_blocks[i].m(each_1_anchor.parentNode, each_1_anchor);
    					}
    				}

    				for (; i < each_blocks.length; i += 1) {
    					each_blocks[i].d(1);
    				}

    				each_blocks.length = each_value_1.length;
    			}
    		},
    		d: function destroy(detaching) {
    			destroy_each(each_blocks, detaching);
    			if (detaching) detach_dev(each_1_anchor);
    		}
    	};

    	dispatch_dev("SvelteRegisterBlock", {
    		block,
    		id: create_each_block$3.name,
    		type: "each",
    		source: "(65:8) {#each demos as demoSection}",
    		ctx
    	});

    	return block;
    }

    function create_fragment$9(ctx) {
    	let sveltemarkdown;
    	let t0;
    	let section;
    	let div0;
    	let t1;
    	let div2;
    	let t2;
    	let player;
    	let updating_cancelLoad;
    	let t3;
    	let div1;
    	let button0;
    	let t5;
    	let button1;
    	let current;
    	let mounted;
    	let dispose;
    	sveltemarkdown = new SvelteMarkdown({ props: { source: source$5 }, $$inline: true });
    	let each_value_2 = /*demos*/ ctx[0];
    	validate_each_argument(each_value_2);
    	let each_blocks_1 = [];

    	for (let i = 0; i < each_value_2.length; i += 1) {
    		each_blocks_1[i] = create_each_block_2$1(get_each_context_2$1(ctx, each_value_2, i));
    	}

    	let each_value = /*demos*/ ctx[0];
    	validate_each_argument(each_value);
    	let each_blocks = [];

    	for (let i = 0; i < each_value.length; i += 1) {
    		each_blocks[i] = create_each_block$3(get_each_context$3(ctx, each_value, i));
    	}

    	function player_cancelLoad_binding(value) {
    		/*player_cancelLoad_binding*/ ctx[8](value);
    	}

    	let player_props = {
    		videoId: /*videoId*/ ctx[1],
    		onVideoIdChanged: /*videoIdChanged*/ ctx[4]
    	};

    	if (/*cancelLoad*/ ctx[2] !== void 0) {
    		player_props.cancelLoad = /*cancelLoad*/ ctx[2];
    	}

    	player = new Player({ props: player_props, $$inline: true });
    	binding_callbacks.push(() => bind(player, 'cancelLoad', player_cancelLoad_binding));

    	const block = {
    		c: function create() {
    			create_component(sveltemarkdown.$$.fragment);
    			t0 = space();
    			section = element("section");
    			div0 = element("div");

    			for (let i = 0; i < each_blocks_1.length; i += 1) {
    				each_blocks_1[i].c();
    			}

    			t1 = space();
    			div2 = element("div");

    			for (let i = 0; i < each_blocks.length; i += 1) {
    				each_blocks[i].c();
    			}

    			t2 = space();
    			create_component(player.$$.fragment);
    			t3 = space();
    			div1 = element("div");
    			button0 = element("button");
    			button0.textContent = "Download Video Manifest";
    			t5 = space();
    			button1 = element("button");
    			button1.textContent = "Open In New Tab";
    			attr_dev(div0, "class", "demos-index svelte-1pt21bu");
    			add_location(div0, file$6, 52, 4, 1261);
    			add_location(button0, file$6, 73, 12, 2070);
    			add_location(button1, file$6, 74, 12, 2160);
    			attr_dev(div1, "class", "demo-actions svelte-1pt21bu");
    			add_location(div1, file$6, 72, 8, 2030);
    			attr_dev(div2, "class", "demo-player-container svelte-1pt21bu");
    			add_location(div2, file$6, 63, 4, 1654);
    			attr_dev(section, "class", "demos-container svelte-1pt21bu");
    			add_location(section, file$6, 51, 0, 1222);
    		},
    		l: function claim(nodes) {
    			throw new Error_1$2("options.hydrate only works if the component was compiled with the `hydratable: true` option");
    		},
    		m: function mount(target, anchor) {
    			mount_component(sveltemarkdown, target, anchor);
    			insert_dev(target, t0, anchor);
    			insert_dev(target, section, anchor);
    			append_dev(section, div0);

    			for (let i = 0; i < each_blocks_1.length; i += 1) {
    				each_blocks_1[i].m(div0, null);
    			}

    			append_dev(section, t1);
    			append_dev(section, div2);

    			for (let i = 0; i < each_blocks.length; i += 1) {
    				each_blocks[i].m(div2, null);
    			}

    			append_dev(div2, t2);
    			mount_component(player, div2, null);
    			append_dev(div2, t3);
    			append_dev(div2, div1);
    			append_dev(div1, button0);
    			append_dev(div1, t5);
    			append_dev(div1, button1);
    			current = true;

    			if (!mounted) {
    				dispose = [
    					listen_dev(button0, "click", /*click_handler*/ ctx[9], false, false, false),
    					listen_dev(button1, "click", /*click_handler_1*/ ctx[10], false, false, false)
    				];

    				mounted = true;
    			}
    		},
    		p: function update(ctx, [dirty]) {
    			if (dirty & /*demos, videoId, loadDemo*/ 11) {
    				each_value_2 = /*demos*/ ctx[0];
    				validate_each_argument(each_value_2);
    				let i;

    				for (i = 0; i < each_value_2.length; i += 1) {
    					const child_ctx = get_each_context_2$1(ctx, each_value_2, i);

    					if (each_blocks_1[i]) {
    						each_blocks_1[i].p(child_ctx, dirty);
    					} else {
    						each_blocks_1[i] = create_each_block_2$1(child_ctx);
    						each_blocks_1[i].c();
    						each_blocks_1[i].m(div0, null);
    					}
    				}

    				for (; i < each_blocks_1.length; i += 1) {
    					each_blocks_1[i].d(1);
    				}

    				each_blocks_1.length = each_value_2.length;
    			}

    			if (dirty & /*demos, videoId*/ 3) {
    				each_value = /*demos*/ ctx[0];
    				validate_each_argument(each_value);
    				let i;

    				for (i = 0; i < each_value.length; i += 1) {
    					const child_ctx = get_each_context$3(ctx, each_value, i);

    					if (each_blocks[i]) {
    						each_blocks[i].p(child_ctx, dirty);
    					} else {
    						each_blocks[i] = create_each_block$3(child_ctx);
    						each_blocks[i].c();
    						each_blocks[i].m(div2, t2);
    					}
    				}

    				for (; i < each_blocks.length; i += 1) {
    					each_blocks[i].d(1);
    				}

    				each_blocks.length = each_value.length;
    			}

    			const player_changes = {};
    			if (dirty & /*videoId*/ 2) player_changes.videoId = /*videoId*/ ctx[1];

    			if (!updating_cancelLoad && dirty & /*cancelLoad*/ 4) {
    				updating_cancelLoad = true;
    				player_changes.cancelLoad = /*cancelLoad*/ ctx[2];
    				add_flush_callback(() => updating_cancelLoad = false);
    			}

    			player.$set(player_changes);
    		},
    		i: function intro(local) {
    			if (current) return;
    			transition_in(sveltemarkdown.$$.fragment, local);
    			transition_in(player.$$.fragment, local);
    			current = true;
    		},
    		o: function outro(local) {
    			transition_out(sveltemarkdown.$$.fragment, local);
    			transition_out(player.$$.fragment, local);
    			current = false;
    		},
    		d: function destroy(detaching) {
    			destroy_component(sveltemarkdown, detaching);
    			if (detaching) detach_dev(t0);
    			if (detaching) detach_dev(section);
    			destroy_each(each_blocks_1, detaching);
    			destroy_each(each_blocks, detaching);
    			destroy_component(player);
    			mounted = false;
    			run_all(dispose);
    		}
    	};

    	dispatch_dev("SvelteRegisterBlock", {
    		block,
    		id: create_fragment$9.name,
    		type: "component",
    		source: "",
    		ctx
    	});

    	return block;
    }

    function instance$9($$self, $$props, $$invalidate) {
    	let { $$slots: slots = {}, $$scope } = $$props;
    	validate_slots('Demos', slots, []);
    	let { params = {} } = $$props;
    	let demos = [];
    	let videoId = params.id || "belmar-multiresolution-remote";
    	let cancelLoad;

    	const loadDemos = async () => {
    		const response = await fetch('demos/demos.json');

    		if (response.ok) {
    			$$invalidate(0, demos = await response.json());
    		} else {
    			throw new Error("Error loading demos index.");
    		}
    	};

    	onMount(async () => {
    		await loadDemos();
    	});

    	const loadDemo = async demoId => {
    		$$invalidate(1, videoId = demoId);
    		location.hash = `#/demos/${demoId}`;
    		cancelLoad(demoId);
    	};

    	const videoIdChanged = newVideoId => {
    		$$invalidate(1, videoId = newVideoId);
    		location.hash = `#/demos/${newVideoId}`;
    	};

    	const downloadManifest = () => {
    		window.open(`demos/${videoId}/data.json`, "__blank");
    	};

    	const openInNewTab = () => {
    		window.open(`/player.html?id=${videoId}`, "__blank");
    	};

    	const writable_props = ['params'];

    	Object.keys($$props).forEach(key => {
    		if (!~writable_props.indexOf(key) && key.slice(0, 2) !== '$$' && key !== 'slot') console.warn(`<Demos> was created with unknown prop '${key}'`);
    	});

    	function player_cancelLoad_binding(value) {
    		cancelLoad = value;
    		$$invalidate(2, cancelLoad);
    	}

    	const click_handler = () => downloadManifest();
    	const click_handler_1 = () => openInNewTab();

    	$$self.$$set = $$props => {
    		if ('params' in $$props) $$invalidate(7, params = $$props.params);
    	};

    	$$self.$capture_state = () => ({
    		SvelteMarkdown,
    		source: source$5,
    		onMount,
    		Player,
    		params,
    		demos,
    		videoId,
    		cancelLoad,
    		loadDemos,
    		loadDemo,
    		videoIdChanged,
    		downloadManifest,
    		openInNewTab
    	});

    	$$self.$inject_state = $$props => {
    		if ('params' in $$props) $$invalidate(7, params = $$props.params);
    		if ('demos' in $$props) $$invalidate(0, demos = $$props.demos);
    		if ('videoId' in $$props) $$invalidate(1, videoId = $$props.videoId);
    		if ('cancelLoad' in $$props) $$invalidate(2, cancelLoad = $$props.cancelLoad);
    	};

    	if ($$props && "$$inject" in $$props) {
    		$$self.$inject_state($$props.$$inject);
    	}

    	return [
    		demos,
    		videoId,
    		cancelLoad,
    		loadDemo,
    		videoIdChanged,
    		downloadManifest,
    		openInNewTab,
    		params,
    		player_cancelLoad_binding,
    		click_handler,
    		click_handler_1
    	];
    }

    class Demos extends SvelteComponentDev {
    	constructor(options) {
    		super(options);
    		init$1(this, options, instance$9, create_fragment$9, safe_not_equal, { params: 7 });

    		dispatch_dev("SvelteRegisterComponent", {
    			component: this,
    			tagName: "Demos",
    			options,
    			id: create_fragment$9.name
    		});
    	}

    	get params() {
    		throw new Error_1$2("<Demos>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
    	}

    	set params(value) {
    		throw new Error_1$2("<Demos>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
    	}
    }

    var source$4 = "# Documentation\r\n\r\nOn this page you can find all the documentation for the main `paella-core` branch. The documentation is taken directly from the [github](https://github.com/polimediaupv/paella-core) repository, so you can check it there too, in the `doc` directory.\r\n\r\n## Bug tracking and contributions\r\n\r\nTo get more info about bug tracking and contributions in `paella-core` and the plugin libraries, [refer to this document](/#/contributions)\r\n\r\n\r\n";

    /* src\Doc.svelte generated by Svelte v3.52.0 */
    const file$5 = "src\\Doc.svelte";

    // (27:0) {:else}
    function create_else_block$1(ctx) {
    	let sveltemarkdown;
    	let current;
    	sveltemarkdown = new SvelteMarkdown({ props: { source: source$4 }, $$inline: true });

    	const block = {
    		c: function create() {
    			create_component(sveltemarkdown.$$.fragment);
    		},
    		m: function mount(target, anchor) {
    			mount_component(sveltemarkdown, target, anchor);
    			current = true;
    		},
    		p: noop,
    		i: function intro(local) {
    			if (current) return;
    			transition_in(sveltemarkdown.$$.fragment, local);
    			current = true;
    		},
    		o: function outro(local) {
    			transition_out(sveltemarkdown.$$.fragment, local);
    			current = false;
    		},
    		d: function destroy(detaching) {
    			destroy_component(sveltemarkdown, detaching);
    		}
    	};

    	dispatch_dev("SvelteRegisterBlock", {
    		block,
    		id: create_else_block$1.name,
    		type: "else",
    		source: "(27:0) {:else}",
    		ctx
    	});

    	return block;
    }

    // (25:0) {#if page !== 'index.md'}
    function create_if_block_1$2(ctx) {
    	let p;
    	let a;

    	const block = {
    		c: function create() {
    			p = element("p");
    			a = element("a");
    			a.textContent = "Documentation index";
    			attr_dev(a, "href", "#/doc/index.md");
    			add_location(a, file$5, 25, 7, 640);
    			add_location(p, file$5, 25, 4, 637);
    		},
    		m: function mount(target, anchor) {
    			insert_dev(target, p, anchor);
    			append_dev(p, a);
    		},
    		p: noop,
    		i: noop,
    		o: noop,
    		d: function destroy(detaching) {
    			if (detaching) detach_dev(p);
    		}
    	};

    	dispatch_dev("SvelteRegisterBlock", {
    		block,
    		id: create_if_block_1$2.name,
    		type: "if",
    		source: "(25:0) {#if page !== 'index.md'}",
    		ctx
    	});

    	return block;
    }

    // (35:0) {#if page !== 'index.md'}
    function create_if_block$4(ctx) {
    	let p;
    	let a;

    	const block = {
    		c: function create() {
    			p = element("p");
    			a = element("a");
    			a.textContent = "Documentation index";
    			attr_dev(a, "href", "#/doc/index.md");
    			add_location(a, file$5, 35, 7, 1026);
    			add_location(p, file$5, 35, 4, 1023);
    		},
    		m: function mount(target, anchor) {
    			insert_dev(target, p, anchor);
    			append_dev(p, a);
    		},
    		d: function destroy(detaching) {
    			if (detaching) detach_dev(p);
    		}
    	};

    	dispatch_dev("SvelteRegisterBlock", {
    		block,
    		id: create_if_block$4.name,
    		type: "if",
    		source: "(35:0) {#if page !== 'index.md'}",
    		ctx
    	});

    	return block;
    }

    function create_fragment$8(ctx) {
    	let current_block_type_index;
    	let if_block0;
    	let t0;
    	let externalmarkdown;
    	let t1;
    	let p;
    	let t2;
    	let a;
    	let t4;
    	let t5;
    	let if_block1_anchor;
    	let current;
    	const if_block_creators = [create_if_block_1$2, create_else_block$1];
    	const if_blocks = [];

    	function select_block_type(ctx, dirty) {
    		if (/*page*/ ctx[0] !== 'index.md') return 0;
    		return 1;
    	}

    	current_block_type_index = select_block_type(ctx);
    	if_block0 = if_blocks[current_block_type_index] = if_block_creators[current_block_type_index](ctx);

    	externalmarkdown = new ExternalMarkdown({
    			props: {
    				site: /*site*/ ctx[1],
    				section: /*section*/ ctx[2]
    			},
    			$$inline: true
    		});

    	let if_block1 = /*page*/ ctx[0] !== 'index.md' && create_if_block$4(ctx);

    	const block = {
    		c: function create() {
    			if_block0.c();
    			t0 = space();
    			create_component(externalmarkdown.$$.fragment);
    			t1 = space();
    			p = element("p");
    			t2 = text("This documentation is generated from the ");
    			a = element("a");
    			a.textContent = "paella-core repository at GitHub";
    			t4 = text(".");
    			t5 = space();
    			if (if_block1) if_block1.c();
    			if_block1_anchor = empty();
    			attr_dev(a, "href", "https://github.com/polimediaupv/paella-core/tree/main/doc");
    			attr_dev(a, "target", "__blank");
    			add_location(a, file$5, 32, 44, 862);
    			add_location(p, file$5, 32, 0, 818);
    		},
    		l: function claim(nodes) {
    			throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option");
    		},
    		m: function mount(target, anchor) {
    			if_blocks[current_block_type_index].m(target, anchor);
    			insert_dev(target, t0, anchor);
    			mount_component(externalmarkdown, target, anchor);
    			insert_dev(target, t1, anchor);
    			insert_dev(target, p, anchor);
    			append_dev(p, t2);
    			append_dev(p, a);
    			append_dev(p, t4);
    			insert_dev(target, t5, anchor);
    			if (if_block1) if_block1.m(target, anchor);
    			insert_dev(target, if_block1_anchor, anchor);
    			current = true;
    		},
    		p: function update(ctx, [dirty]) {
    			if_block0.p(ctx, dirty);
    		},
    		i: function intro(local) {
    			if (current) return;
    			transition_in(if_block0);
    			transition_in(externalmarkdown.$$.fragment, local);
    			current = true;
    		},
    		o: function outro(local) {
    			transition_out(if_block0);
    			transition_out(externalmarkdown.$$.fragment, local);
    			current = false;
    		},
    		d: function destroy(detaching) {
    			if_blocks[current_block_type_index].d(detaching);
    			if (detaching) detach_dev(t0);
    			destroy_component(externalmarkdown, detaching);
    			if (detaching) detach_dev(t1);
    			if (detaching) detach_dev(p);
    			if (detaching) detach_dev(t5);
    			if (if_block1) if_block1.d(detaching);
    			if (detaching) detach_dev(if_block1_anchor);
    		}
    	};

    	dispatch_dev("SvelteRegisterBlock", {
    		block,
    		id: create_fragment$8.name,
    		type: "component",
    		source: "",
    		ctx
    	});

    	return block;
    }

    const prefix = "https://raw.githubusercontent.com/polimediaupv/paella-core/main/doc/";

    function instance$8($$self, $$props, $$invalidate) {
    	let { $$slots: slots = {}, $$scope } = $$props;
    	validate_slots('Doc', slots, []);
    	let { params = {} } = $$props;
    	let page = params.id;
    	let site = prefix + page;
    	let section = "doc";

    	onMount(() => {
    		window.onhashchange = () => {
    			window.scrollTo(0, 0);
    			window.location.reload();
    		};
    	});

    	const writable_props = ['params'];

    	Object.keys($$props).forEach(key => {
    		if (!~writable_props.indexOf(key) && key.slice(0, 2) !== '$$' && key !== 'slot') console.warn(`<Doc> was created with unknown prop '${key}'`);
    	});

    	$$self.$$set = $$props => {
    		if ('params' in $$props) $$invalidate(3, params = $$props.params);
    	};

    	$$self.$capture_state = () => ({
    		onMount,
    		ExternalMarkdown,
    		SvelteMarkdown,
    		source: source$4,
    		params,
    		prefix,
    		page,
    		site,
    		section
    	});

    	$$self.$inject_state = $$props => {
    		if ('params' in $$props) $$invalidate(3, params = $$props.params);
    		if ('page' in $$props) $$invalidate(0, page = $$props.page);
    		if ('site' in $$props) $$invalidate(1, site = $$props.site);
    		if ('section' in $$props) $$invalidate(2, section = $$props.section);
    	};

    	if ($$props && "$$inject" in $$props) {
    		$$self.$inject_state($$props.$$inject);
    	}

    	return [page, site, section, params];
    }

    class Doc extends SvelteComponentDev {
    	constructor(options) {
    		super(options);
    		init$1(this, options, instance$8, create_fragment$8, safe_not_equal, { params: 3 });

    		dispatch_dev("SvelteRegisterComponent", {
    			component: this,
    			tagName: "Doc",
    			options,
    			id: create_fragment$8.name
    		});
    	}

    	get params() {
    		throw new Error("<Doc>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
    	}

    	set params(value) {
    		throw new Error("<Doc>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
    	}
    }

    var source$3 = "# Demos on single page\r\n\r\nThe same examples are available on this page as on the [demos page](#/demos), but all included on a single page. This is an example of paella-core's new capabilities for working with multiple instances of a player on a single page.\r\n\r\nPlease note that this is an experimental feature. Loading more than one player on the same page simultaneously may cause memory issues, especially on more resource-constrained platforms such as smartphones.";

    /* src\DemosSinglePage.svelte generated by Svelte v3.52.0 */

    const { Error: Error_1$1 } = globals;
    const file$4 = "src\\DemosSinglePage.svelte";

    function get_each_context$2(ctx, list, i) {
    	const child_ctx = ctx.slice();
    	child_ctx[4] = list[i];
    	return child_ctx;
    }

    function get_each_context_1$1(ctx, list, i) {
    	const child_ctx = ctx.slice();
    	child_ctx[7] = list[i];
    	return child_ctx;
    }

    // (39:8) {#each demoSection.demos as demo}
    function create_each_block_1$1(ctx) {
    	let h3;
    	let t0_value = /*demo*/ ctx[7].name + "";
    	let t0;
    	let t1;
    	let div;
    	let player;
    	let t2;
    	let current;

    	player = new Player({
    			props: {
    				videoId: /*demo*/ ctx[7].id,
    				containerId: /*demo*/ ctx[7].id,
    				onPlay: /*func*/ ctx[2]
    			},
    			$$inline: true
    		});

    	const block = {
    		c: function create() {
    			h3 = element("h3");
    			t0 = text(t0_value);
    			t1 = space();
    			div = element("div");
    			create_component(player.$$.fragment);
    			t2 = space();
    			add_location(h3, file$4, 39, 12, 1082);
    			attr_dev(div, "class", "demo-player svelte-tz657w");
    			add_location(div, file$4, 40, 12, 1116);
    		},
    		m: function mount(target, anchor) {
    			insert_dev(target, h3, anchor);
    			append_dev(h3, t0);
    			insert_dev(target, t1, anchor);
    			insert_dev(target, div, anchor);
    			mount_component(player, div, null);
    			append_dev(div, t2);
    			current = true;
    		},
    		p: function update(ctx, dirty) {
    			if ((!current || dirty & /*demos*/ 1) && t0_value !== (t0_value = /*demo*/ ctx[7].name + "")) set_data_dev(t0, t0_value);
    			const player_changes = {};
    			if (dirty & /*demos*/ 1) player_changes.videoId = /*demo*/ ctx[7].id;
    			if (dirty & /*demos*/ 1) player_changes.containerId = /*demo*/ ctx[7].id;
    			player.$set(player_changes);
    		},
    		i: function intro(local) {
    			if (current) return;
    			transition_in(player.$$.fragment, local);
    			current = true;
    		},
    		o: function outro(local) {
    			transition_out(player.$$.fragment, local);
    			current = false;
    		},
    		d: function destroy(detaching) {
    			if (detaching) detach_dev(h3);
    			if (detaching) detach_dev(t1);
    			if (detaching) detach_dev(div);
    			destroy_component(player);
    		}
    	};

    	dispatch_dev("SvelteRegisterBlock", {
    		block,
    		id: create_each_block_1$1.name,
    		type: "each",
    		source: "(39:8) {#each demoSection.demos as demo}",
    		ctx
    	});

    	return block;
    }

    // (37:4) {#each demos as demoSection}
    function create_each_block$2(ctx) {
    	let h2;
    	let t0_value = /*demoSection*/ ctx[4].title + "";
    	let t0;
    	let t1;
    	let each_1_anchor;
    	let current;
    	let each_value_1 = /*demoSection*/ ctx[4].demos;
    	validate_each_argument(each_value_1);
    	let each_blocks = [];

    	for (let i = 0; i < each_value_1.length; i += 1) {
    		each_blocks[i] = create_each_block_1$1(get_each_context_1$1(ctx, each_value_1, i));
    	}

    	const out = i => transition_out(each_blocks[i], 1, 1, () => {
    		each_blocks[i] = null;
    	});

    	const block = {
    		c: function create() {
    			h2 = element("h2");
    			t0 = text(t0_value);
    			t1 = space();

    			for (let i = 0; i < each_blocks.length; i += 1) {
    				each_blocks[i].c();
    			}

    			each_1_anchor = empty();
    			add_location(h2, file$4, 37, 8, 997);
    		},
    		m: function mount(target, anchor) {
    			insert_dev(target, h2, anchor);
    			append_dev(h2, t0);
    			insert_dev(target, t1, anchor);

    			for (let i = 0; i < each_blocks.length; i += 1) {
    				each_blocks[i].m(target, anchor);
    			}

    			insert_dev(target, each_1_anchor, anchor);
    			current = true;
    		},
    		p: function update(ctx, dirty) {
    			if ((!current || dirty & /*demos*/ 1) && t0_value !== (t0_value = /*demoSection*/ ctx[4].title + "")) set_data_dev(t0, t0_value);

    			if (dirty & /*demos, onPlay*/ 3) {
    				each_value_1 = /*demoSection*/ ctx[4].demos;
    				validate_each_argument(each_value_1);
    				let i;

    				for (i = 0; i < each_value_1.length; i += 1) {
    					const child_ctx = get_each_context_1$1(ctx, each_value_1, i);

    					if (each_blocks[i]) {
    						each_blocks[i].p(child_ctx, dirty);
    						transition_in(each_blocks[i], 1);
    					} else {
    						each_blocks[i] = create_each_block_1$1(child_ctx);
    						each_blocks[i].c();
    						transition_in(each_blocks[i], 1);
    						each_blocks[i].m(each_1_anchor.parentNode, each_1_anchor);
    					}
    				}

    				group_outros();

    				for (i = each_value_1.length; i < each_blocks.length; i += 1) {
    					out(i);
    				}

    				check_outros();
    			}
    		},
    		i: function intro(local) {
    			if (current) return;

    			for (let i = 0; i < each_value_1.length; i += 1) {
    				transition_in(each_blocks[i]);
    			}

    			current = true;
    		},
    		o: function outro(local) {
    			each_blocks = each_blocks.filter(Boolean);

    			for (let i = 0; i < each_blocks.length; i += 1) {
    				transition_out(each_blocks[i]);
    			}

    			current = false;
    		},
    		d: function destroy(detaching) {
    			if (detaching) detach_dev(h2);
    			if (detaching) detach_dev(t1);
    			destroy_each(each_blocks, detaching);
    			if (detaching) detach_dev(each_1_anchor);
    		}
    	};

    	dispatch_dev("SvelteRegisterBlock", {
    		block,
    		id: create_each_block$2.name,
    		type: "each",
    		source: "(37:4) {#each demos as demoSection}",
    		ctx
    	});

    	return block;
    }

    function create_fragment$7(ctx) {
    	let section;
    	let sveltemarkdown;
    	let t;
    	let current;
    	sveltemarkdown = new SvelteMarkdown({ props: { source: source$3 }, $$inline: true });
    	let each_value = /*demos*/ ctx[0];
    	validate_each_argument(each_value);
    	let each_blocks = [];

    	for (let i = 0; i < each_value.length; i += 1) {
    		each_blocks[i] = create_each_block$2(get_each_context$2(ctx, each_value, i));
    	}

    	const out = i => transition_out(each_blocks[i], 1, 1, () => {
    		each_blocks[i] = null;
    	});

    	const block = {
    		c: function create() {
    			section = element("section");
    			create_component(sveltemarkdown.$$.fragment);
    			t = space();

    			for (let i = 0; i < each_blocks.length; i += 1) {
    				each_blocks[i].c();
    			}

    			attr_dev(section, "class", "demos-container");
    			add_location(section, file$4, 33, 0, 866);
    		},
    		l: function claim(nodes) {
    			throw new Error_1$1("options.hydrate only works if the component was compiled with the `hydratable: true` option");
    		},
    		m: function mount(target, anchor) {
    			insert_dev(target, section, anchor);
    			mount_component(sveltemarkdown, section, null);
    			append_dev(section, t);

    			for (let i = 0; i < each_blocks.length; i += 1) {
    				each_blocks[i].m(section, null);
    			}

    			current = true;
    		},
    		p: function update(ctx, [dirty]) {
    			if (dirty & /*demos, onPlay*/ 3) {
    				each_value = /*demos*/ ctx[0];
    				validate_each_argument(each_value);
    				let i;

    				for (i = 0; i < each_value.length; i += 1) {
    					const child_ctx = get_each_context$2(ctx, each_value, i);

    					if (each_blocks[i]) {
    						each_blocks[i].p(child_ctx, dirty);
    						transition_in(each_blocks[i], 1);
    					} else {
    						each_blocks[i] = create_each_block$2(child_ctx);
    						each_blocks[i].c();
    						transition_in(each_blocks[i], 1);
    						each_blocks[i].m(section, null);
    					}
    				}

    				group_outros();

    				for (i = each_value.length; i < each_blocks.length; i += 1) {
    					out(i);
    				}

    				check_outros();
    			}
    		},
    		i: function intro(local) {
    			if (current) return;
    			transition_in(sveltemarkdown.$$.fragment, local);

    			for (let i = 0; i < each_value.length; i += 1) {
    				transition_in(each_blocks[i]);
    			}

    			current = true;
    		},
    		o: function outro(local) {
    			transition_out(sveltemarkdown.$$.fragment, local);
    			each_blocks = each_blocks.filter(Boolean);

    			for (let i = 0; i < each_blocks.length; i += 1) {
    				transition_out(each_blocks[i]);
    			}

    			current = false;
    		},
    		d: function destroy(detaching) {
    			if (detaching) detach_dev(section);
    			destroy_component(sveltemarkdown);
    			destroy_each(each_blocks, detaching);
    		}
    	};

    	dispatch_dev("SvelteRegisterBlock", {
    		block,
    		id: create_fragment$7.name,
    		type: "component",
    		source: "",
    		ctx
    	});

    	return block;
    }

    function instance$7($$self, $$props, $$invalidate) {
    	let { $$slots: slots = {}, $$scope } = $$props;
    	validate_slots('DemosSinglePage', slots, []);
    	let demos = [];

    	const loadDemo = async () => {
    		const response = await fetch('demos/demos.json');

    		if (response.ok) {
    			$$invalidate(0, demos = await response.json());
    		} else {
    			throw new Error("Error loading demos index.");
    		}
    	};

    	onMount(async () => {
    		await loadDemo();
    	});

    	const onPlay = targetPlayer => {
    		__paella_instances__.forEach(player => {
    			if (targetPlayer !== player && player.state === paellaCore.PlayerState.LOADED) {
    				player.pause();
    			}
    		});
    	};

    	const writable_props = [];

    	Object.keys($$props).forEach(key => {
    		if (!~writable_props.indexOf(key) && key.slice(0, 2) !== '$$' && key !== 'slot') console.warn(`<DemosSinglePage> was created with unknown prop '${key}'`);
    	});

    	const func = target => onPlay(target);

    	$$self.$capture_state = () => ({
    		Player,
    		onMount,
    		PlayerState: paellaCore.PlayerState,
    		source: source$3,
    		SvelteMarkdown,
    		demos,
    		loadDemo,
    		onPlay
    	});

    	$$self.$inject_state = $$props => {
    		if ('demos' in $$props) $$invalidate(0, demos = $$props.demos);
    	};

    	if ($$props && "$$inject" in $$props) {
    		$$self.$inject_state($$props.$$inject);
    	}

    	return [demos, onPlay, func];
    }

    class DemosSinglePage extends SvelteComponentDev {
    	constructor(options) {
    		super(options);
    		init$1(this, options, instance$7, create_fragment$7, safe_not_equal, {});

    		dispatch_dev("SvelteRegisterComponent", {
    			component: this,
    			tagName: "DemosSinglePage",
    			options,
    			id: create_fragment$7.name
    		});
    	}
    }

    var source$2 = "# Bug track\r\n\r\nBug tracking in previous versions of Paella Player was very simple, as there was only one repository. With `paella-core` we have come a long way in terms of organising the main library, plugins and the creation of third-party plugin libraries, but on the other hand it has become more complicated to report bugs.\r\n\r\nTo find out in which repository you have to report bugs you can follow these tips:\r\n\r\n- If you don't know in which library the bug is: keep in mind that `paella-core` and the rest of the plugins are now independent libraries. To get a video player, you have to use the `paella-core` APIs correctly, as well as configure the plugins correctly, which is why we have put a lot of effort into writing all this documentation. For that reason, if you notice a bug in a player that uses `paella-core` and you are not sure what is causing it, you should report the bug in that specific player repository. You can try downloading our [reference player](https://github.com/polimediaupv/paella-player) to see if you see the same bug, or explore the [demos on this website](/#/demos) to see if you can replicate the bug.\r\n- If your problems are with HLS (m3u8) streams, the vast majority of failures are usually in the configuration of the streaming server, in the encoding of the videos or in the configuration of the HLS plugins. Refer to the documentation for these plugins for more information.: [hls](/#/doc/hls-video-plugin.md), [hlsLive](https://paellaplayer.upv.es/#/doc/hls-live-video-plugin.md).\r\n- If you know specifically where the bug is: generally if this is your case, you are a developer using `paella-core` or one of its plugins and you have been able to track down the bug. In that case, please go to the corresponding repository to report the bug. We'd also appreciate pull requests if you've managed to fix it. Please note that bugs reported in the `paella-core` repositories and its plugins that cannot be replicated in the reference player, or that are not correctly identified, will be marked as invalid and closed.\r\n\r\n    * `paella-core` bug track: [https://github.com/polimediaupv/paella-core/issues](https://github.com/polimediaupv/paella-core/issues).\r\n    * `paella-basic-plugins` bug track: [https://github.com/polimediaupv/paella-basic-plugins/issues](https://github.com/polimediaupv/paella-basic-plugins/issues).\r\n    * `paella-slide-plugins` bug track: [https://github.com/polimediaupv/paella-slide-plugins/issues](https://github.com/polimediaupv/paella-slide-plugins/issues).\r\n    * `paella-zoom-plugin` bug track: [https://github.com/polimediaupv/paella-zoom-plugin/issues](https://github.com/polimediaupv/paella-zoom-plugin/issues).\r\n    * `paella-user-tracking` bug track: [https://github.com/polimediaupv/paella-user-tracking/issues](https://github.com/polimediaupv/paella-user-tracking/issues).\r\n\r\n# Contributions\r\n\r\nWe are happy to review any pull request that affects the `paella-core` code or any of the plugins included in our repositories, but we will rarely agree to include new plugins. The plugins we have developed are those we use at the Universidad Politécnica de Valencia, and for that reason we can maintain and update them correctly. Including plugins in our repositories that we do not use in our institution ends up being counterproductive for everyone, because we cannot maintain and update them properly.\r\n\r\nIf you have a plugin or plugin package that you think would be useful to the community, we recommend that you reference any of our plugin repositories to create a repository of your own. It will be better for you, because your role in your contribution will be more visible, and it will be easier to debug and update the code.\r\n\r\nHaving said that, we would be also glad to know about your plugin, and maybe more people in the community too, so it would be great if you post a notice of it to the paella mailing list: [paellaplayer@upv.es](mailto:paellaplayer@upv.es)\r\n\r\n";

    /* src\Contributions.svelte generated by Svelte v3.52.0 */

    function create_fragment$6(ctx) {
    	let sveltemarkdown;
    	let current;
    	sveltemarkdown = new SvelteMarkdown({ props: { source: source$2 }, $$inline: true });

    	const block = {
    		c: function create() {
    			create_component(sveltemarkdown.$$.fragment);
    		},
    		l: function claim(nodes) {
    			throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option");
    		},
    		m: function mount(target, anchor) {
    			mount_component(sveltemarkdown, target, anchor);
    			current = true;
    		},
    		p: noop,
    		i: function intro(local) {
    			if (current) return;
    			transition_in(sveltemarkdown.$$.fragment, local);
    			current = true;
    		},
    		o: function outro(local) {
    			transition_out(sveltemarkdown.$$.fragment, local);
    			current = false;
    		},
    		d: function destroy(detaching) {
    			destroy_component(sveltemarkdown, detaching);
    		}
    	};

    	dispatch_dev("SvelteRegisterBlock", {
    		block,
    		id: create_fragment$6.name,
    		type: "component",
    		source: "",
    		ctx
    	});

    	return block;
    }

    function instance$6($$self, $$props, $$invalidate) {
    	let { $$slots: slots = {}, $$scope } = $$props;
    	validate_slots('Contributions', slots, []);
    	const writable_props = [];

    	Object.keys($$props).forEach(key => {
    		if (!~writable_props.indexOf(key) && key.slice(0, 2) !== '$$' && key !== 'slot') console.warn(`<Contributions> was created with unknown prop '${key}'`);
    	});

    	$$self.$capture_state = () => ({ SvelteMarkdown, source: source$2 });
    	return [];
    }

    class Contributions extends SvelteComponentDev {
    	constructor(options) {
    		super(options);
    		init$1(this, options, instance$6, create_fragment$6, safe_not_equal, {});

    		dispatch_dev("SvelteRegisterComponent", {
    			component: this,
    			tagName: "Contributions",
    			options,
    			id: create_fragment$6.name
    		});
    	}
    }

    var source$1 = "# paella-core playground page\r\n\r\nTry the paella-core configuration options on this page. Change the configuration options you want and press the `Reload` button.";

    const globalWindow = window;
    function CodeJar(editor, highlight, opt = {}) {
        const options = Object.assign({ tab: '\t', indentOn: /[({\[]$/, moveToNewLine: /^[)}\]]/, spellcheck: false, catchTab: true, preserveIdent: true, addClosing: true, history: true, window: globalWindow }, opt);
        const window = options.window;
        const document = window.document;
        let listeners = [];
        let history = [];
        let at = -1;
        let focus = false;
        let callback;
        let prev; // code content prior keydown event
        editor.setAttribute('contenteditable', 'plaintext-only');
        editor.setAttribute('spellcheck', options.spellcheck ? 'true' : 'false');
        editor.style.outline = 'none';
        editor.style.overflowWrap = 'break-word';
        editor.style.overflowY = 'auto';
        editor.style.whiteSpace = 'pre-wrap';
        let isLegacy = false; // true if plaintext-only is not supported
        highlight(editor);
        if (editor.contentEditable !== 'plaintext-only')
            isLegacy = true;
        if (isLegacy)
            editor.setAttribute('contenteditable', 'true');
        const debounceHighlight = debounce(() => {
            const pos = save();
            highlight(editor, pos);
            restore(pos);
        }, 30);
        let recording = false;
        const shouldRecord = (event) => {
            return !isUndo(event) && !isRedo(event)
                && event.key !== 'Meta'
                && event.key !== 'Control'
                && event.key !== 'Alt'
                && !event.key.startsWith('Arrow');
        };
        const debounceRecordHistory = debounce((event) => {
            if (shouldRecord(event)) {
                recordHistory();
                recording = false;
            }
        }, 300);
        const on = (type, fn) => {
            listeners.push([type, fn]);
            editor.addEventListener(type, fn);
        };
        on('keydown', event => {
            if (event.defaultPrevented)
                return;
            prev = toString();
            if (options.preserveIdent)
                handleNewLine(event);
            else
                legacyNewLineFix(event);
            if (options.catchTab)
                handleTabCharacters(event);
            if (options.addClosing)
                handleSelfClosingCharacters(event);
            if (options.history) {
                handleUndoRedo(event);
                if (shouldRecord(event) && !recording) {
                    recordHistory();
                    recording = true;
                }
            }
            if (isLegacy)
                restore(save());
        });
        on('keyup', event => {
            if (event.defaultPrevented)
                return;
            if (event.isComposing)
                return;
            if (prev !== toString())
                debounceHighlight();
            debounceRecordHistory(event);
            if (callback)
                callback(toString());
        });
        on('focus', _event => {
            focus = true;
        });
        on('blur', _event => {
            focus = false;
        });
        on('paste', event => {
            recordHistory();
            handlePaste(event);
            recordHistory();
            if (callback)
                callback(toString());
        });
        function save() {
            const s = getSelection();
            const pos = { start: 0, end: 0, dir: undefined };
            let { anchorNode, anchorOffset, focusNode, focusOffset } = s;
            if (!anchorNode || !focusNode)
                throw 'error1';
            // Selection anchor and focus are expected to be text nodes,
            // so normalize them.
            if (anchorNode.nodeType === Node.ELEMENT_NODE) {
                const node = document.createTextNode('');
                anchorNode.insertBefore(node, anchorNode.childNodes[anchorOffset]);
                anchorNode = node;
                anchorOffset = 0;
            }
            if (focusNode.nodeType === Node.ELEMENT_NODE) {
                const node = document.createTextNode('');
                focusNode.insertBefore(node, focusNode.childNodes[focusOffset]);
                focusNode = node;
                focusOffset = 0;
            }
            visit(editor, el => {
                if (el === anchorNode && el === focusNode) {
                    pos.start += anchorOffset;
                    pos.end += focusOffset;
                    pos.dir = anchorOffset <= focusOffset ? '->' : '<-';
                    return 'stop';
                }
                if (el === anchorNode) {
                    pos.start += anchorOffset;
                    if (!pos.dir) {
                        pos.dir = '->';
                    }
                    else {
                        return 'stop';
                    }
                }
                else if (el === focusNode) {
                    pos.end += focusOffset;
                    if (!pos.dir) {
                        pos.dir = '<-';
                    }
                    else {
                        return 'stop';
                    }
                }
                if (el.nodeType === Node.TEXT_NODE) {
                    if (pos.dir != '->')
                        pos.start += el.nodeValue.length;
                    if (pos.dir != '<-')
                        pos.end += el.nodeValue.length;
                }
            });
            // collapse empty text nodes
            editor.normalize();
            return pos;
        }
        function restore(pos) {
            const s = getSelection();
            let startNode, startOffset = 0;
            let endNode, endOffset = 0;
            if (!pos.dir)
                pos.dir = '->';
            if (pos.start < 0)
                pos.start = 0;
            if (pos.end < 0)
                pos.end = 0;
            // Flip start and end if the direction reversed
            if (pos.dir == '<-') {
                const { start, end } = pos;
                pos.start = end;
                pos.end = start;
            }
            let current = 0;
            visit(editor, el => {
                if (el.nodeType !== Node.TEXT_NODE)
                    return;
                const len = (el.nodeValue || '').length;
                if (current + len > pos.start) {
                    if (!startNode) {
                        startNode = el;
                        startOffset = pos.start - current;
                    }
                    if (current + len > pos.end) {
                        endNode = el;
                        endOffset = pos.end - current;
                        return 'stop';
                    }
                }
                current += len;
            });
            if (!startNode)
                startNode = editor, startOffset = editor.childNodes.length;
            if (!endNode)
                endNode = editor, endOffset = editor.childNodes.length;
            // Flip back the selection
            if (pos.dir == '<-') {
                [startNode, startOffset, endNode, endOffset] = [endNode, endOffset, startNode, startOffset];
            }
            s.setBaseAndExtent(startNode, startOffset, endNode, endOffset);
        }
        function beforeCursor() {
            const s = getSelection();
            const r0 = s.getRangeAt(0);
            const r = document.createRange();
            r.selectNodeContents(editor);
            r.setEnd(r0.startContainer, r0.startOffset);
            return r.toString();
        }
        function afterCursor() {
            const s = getSelection();
            const r0 = s.getRangeAt(0);
            const r = document.createRange();
            r.selectNodeContents(editor);
            r.setStart(r0.endContainer, r0.endOffset);
            return r.toString();
        }
        function handleNewLine(event) {
            if (event.key === 'Enter') {
                const before = beforeCursor();
                const after = afterCursor();
                let [padding] = findPadding(before);
                let newLinePadding = padding;
                // If last symbol is "{" ident new line
                if (options.indentOn.test(before)) {
                    newLinePadding += options.tab;
                }
                // Preserve padding
                if (newLinePadding.length > 0) {
                    preventDefault(event);
                    event.stopPropagation();
                    insert('\n' + newLinePadding);
                }
                else {
                    legacyNewLineFix(event);
                }
                // Place adjacent "}" on next line
                if (newLinePadding !== padding && options.moveToNewLine.test(after)) {
                    const pos = save();
                    insert('\n' + padding);
                    restore(pos);
                }
            }
        }
        function legacyNewLineFix(event) {
            // Firefox does not support plaintext-only mode
            // and puts <div><br></div> on Enter. Let's help.
            if (isLegacy && event.key === 'Enter') {
                preventDefault(event);
                event.stopPropagation();
                if (afterCursor() == '') {
                    insert('\n ');
                    const pos = save();
                    pos.start = --pos.end;
                    restore(pos);
                }
                else {
                    insert('\n');
                }
            }
        }
        function handleSelfClosingCharacters(event) {
            const open = `([{'"`;
            const close = `)]}'"`;
            const codeAfter = afterCursor();
            const codeBefore = beforeCursor();
            const escapeCharacter = codeBefore.substr(codeBefore.length - 1) === '\\';
            const charAfter = codeAfter.substr(0, 1);
            if (close.includes(event.key) && !escapeCharacter && charAfter === event.key) {
                // We already have closing char next to cursor.
                // Move one char to right.
                const pos = save();
                preventDefault(event);
                pos.start = ++pos.end;
                restore(pos);
            }
            else if (open.includes(event.key)
                && !escapeCharacter
                && (`"'`.includes(event.key) || ['', ' ', '\n'].includes(charAfter))) {
                preventDefault(event);
                const pos = save();
                const wrapText = pos.start == pos.end ? '' : getSelection().toString();
                const text = event.key + wrapText + close[open.indexOf(event.key)];
                insert(text);
                pos.start++;
                pos.end++;
                restore(pos);
            }
        }
        function handleTabCharacters(event) {
            if (event.key === 'Tab') {
                preventDefault(event);
                if (event.shiftKey) {
                    const before = beforeCursor();
                    let [padding, start,] = findPadding(before);
                    if (padding.length > 0) {
                        const pos = save();
                        // Remove full length tab or just remaining padding
                        const len = Math.min(options.tab.length, padding.length);
                        restore({ start, end: start + len });
                        document.execCommand('delete');
                        pos.start -= len;
                        pos.end -= len;
                        restore(pos);
                    }
                }
                else {
                    insert(options.tab);
                }
            }
        }
        function handleUndoRedo(event) {
            if (isUndo(event)) {
                preventDefault(event);
                at--;
                const record = history[at];
                if (record) {
                    editor.innerHTML = record.html;
                    restore(record.pos);
                }
                if (at < 0)
                    at = 0;
            }
            if (isRedo(event)) {
                preventDefault(event);
                at++;
                const record = history[at];
                if (record) {
                    editor.innerHTML = record.html;
                    restore(record.pos);
                }
                if (at >= history.length)
                    at--;
            }
        }
        function recordHistory() {
            if (!focus)
                return;
            const html = editor.innerHTML;
            const pos = save();
            const lastRecord = history[at];
            if (lastRecord) {
                if (lastRecord.html === html
                    && lastRecord.pos.start === pos.start
                    && lastRecord.pos.end === pos.end)
                    return;
            }
            at++;
            history[at] = { html, pos };
            history.splice(at + 1);
            const maxHistory = 300;
            if (at > maxHistory) {
                at = maxHistory;
                history.splice(0, 1);
            }
        }
        function handlePaste(event) {
            preventDefault(event);
            const text = (event.originalEvent || event)
                .clipboardData
                .getData('text/plain')
                .replace(/\r/g, '');
            const pos = save();
            insert(text);
            highlight(editor);
            restore({
                start: Math.min(pos.start, pos.end) + text.length,
                end: Math.min(pos.start, pos.end) + text.length,
                dir: '<-',
            });
        }
        function visit(editor, visitor) {
            const queue = [];
            if (editor.firstChild)
                queue.push(editor.firstChild);
            let el = queue.pop();
            while (el) {
                if (visitor(el) === 'stop')
                    break;
                if (el.nextSibling)
                    queue.push(el.nextSibling);
                if (el.firstChild)
                    queue.push(el.firstChild);
                el = queue.pop();
            }
        }
        function isCtrl(event) {
            return event.metaKey || event.ctrlKey;
        }
        function isUndo(event) {
            return isCtrl(event) && !event.shiftKey && event.code === 'KeyZ';
        }
        function isRedo(event) {
            return isCtrl(event) && event.shiftKey && event.code === 'KeyZ';
        }
        function insert(text) {
            text = text
                .replace(/&/g, '&amp;')
                .replace(/</g, '&lt;')
                .replace(/>/g, '&gt;')
                .replace(/"/g, '&quot;')
                .replace(/'/g, '&#039;');
            document.execCommand('insertHTML', false, text);
        }
        function debounce(cb, wait) {
            let timeout = 0;
            return (...args) => {
                clearTimeout(timeout);
                timeout = window.setTimeout(() => cb(...args), wait);
            };
        }
        function findPadding(text) {
            // Find beginning of previous line.
            let i = text.length - 1;
            while (i >= 0 && text[i] !== '\n')
                i--;
            i++;
            // Find padding of the line.
            let j = i;
            while (j < text.length && /[ \t]/.test(text[j]))
                j++;
            return [text.substring(i, j) || '', i, j];
        }
        function toString() {
            return editor.textContent || '';
        }
        function preventDefault(event) {
            event.preventDefault();
        }
        function getSelection() {
            var _a;
            if (((_a = editor.parentNode) === null || _a === void 0 ? void 0 : _a.nodeType) == Node.DOCUMENT_FRAGMENT_NODE) {
                return editor.parentNode.getSelection();
            }
            return window.getSelection();
        }
        return {
            updateOptions(newOptions) {
                Object.assign(options, newOptions);
            },
            updateCode(code) {
                editor.textContent = code;
                highlight(editor);
            },
            onUpdate(cb) {
                callback = cb;
            },
            toString,
            save,
            restore,
            recordHistory,
            destroy() {
                for (let [type, fn] of listeners) {
                    editor.removeEventListener(type, fn);
                }
            },
        };
    }

    function withLineNumbers(highlight, options = {}) {
        const opts = Object.assign({ class: "codejar-linenumbers", wrapClass: "codejar-wrap", width: "35px", backgroundColor: "rgba(128, 128, 128, 0.15)", color: "" }, options);
        let lineNumbers;
        return function (editor) {
            highlight(editor);
            if (!lineNumbers) {
                lineNumbers = init(editor, opts);
                editor.addEventListener("scroll", () => lineNumbers.style.top = `-${editor.scrollTop}px`);
            }
            const code = editor.textContent || "";
            const linesCount = code.replace(/\n+$/, "\n").split("\n").length + 1;
            let text = "";
            for (let i = 1; i < linesCount; i++) {
                text += `${i}\n`;
            }
            lineNumbers.innerText = text;
        };
    }
    function init(editor, opts) {
        const css = getComputedStyle(editor);
        const wrap = document.createElement("div");
        wrap.className = opts.wrapClass;
        wrap.style.position = "relative";
        const gutter = document.createElement("div");
        gutter.className = opts.class;
        wrap.appendChild(gutter);
        // Add own styles
        gutter.style.position = "absolute";
        gutter.style.top = "0px";
        gutter.style.left = "0px";
        gutter.style.bottom = "0px";
        gutter.style.width = opts.width;
        gutter.style.overflow = "hidden";
        gutter.style.backgroundColor = opts.backgroundColor;
        gutter.style.color = opts.color || css.color;
        gutter.style.setProperty("mix-blend-mode", "difference");
        // Copy editor styles
        gutter.style.fontFamily = css.fontFamily;
        gutter.style.fontSize = css.fontSize;
        gutter.style.lineHeight = css.lineHeight;
        gutter.style.paddingTop = css.paddingTop;
        gutter.style.paddingLeft = css.paddingLeft;
        gutter.style.borderTopLeftRadius = css.borderTopLeftRadius;
        gutter.style.borderBottomLeftRadius = css.borderBottomLeftRadius;
        // Add line numbers
        const lineNumbers = document.createElement("div");
        lineNumbers.style.position = "relative";
        lineNumbers.style.top = "0px";
        gutter.appendChild(lineNumbers);
        // Tweak editor styles
        editor.style.paddingLeft = `calc(${opts.width} + ${gutter.style.paddingLeft})`;
        editor.style.whiteSpace = "pre";
        // Swap editor with a wrap
        editor.parentNode.insertBefore(wrap, editor);
        wrap.appendChild(editor);
        return lineNumbers;
    }

    const json = (editor) => {
        let code = editor.textContent;
        code = code.replace(
            /(\"[a-z0-9\_\-\s\.]*\")(\s*\:)/gi,
            '<font class="key">$1</font>$2'
        );
        code = code.replace(
            /(\:\s*)(\"[a-z0-9\_\-\s\.\/\\\(\)\:]*\")/gi,
            '$1<font class="string">$2</font>'
        );
        code = code.replace(
            /(\[|\,)(\s*)(\"[a-z0-9\_\-\s\.]*\")/gi,
            '$1$2<font class="string">$3</font>'
        );
        code = code.replace(
            /(\:|\[|\,)(\s*)([0-9\-\.]+)/g,
            '$1$2<font class="number">$3</font>'
        );
        code = code.replace(
            /(\:|\[|\,)(\s*)([0-9\-\.]+)/g,
            '$1$2<font class="number">$3</font>'
        );
        code = code.replace(
            /(\{|\}|\[|\])/g,
            '<font class="brackets">$1</font>'
        );
        code = code.replace(
            /(\:|\,)/g,
            '<font class="separator">$1</font>'
        );
        code = code.replace(
            /(true)/gi,
            '<font class="boolean-true">$1</font>'
        );
        code = code.replace(
            /(false)/gi,
            '<font class="boolean-false">$1</font>'
        );
        editor.innerHTML = code;
    };

    const css = (editor) => {
        let code = editor.textContent;

        code = code.replace(
            /([a-z\-0-9]+)(\s*\:)/gi,
            '<font class="css-property">$1</font>$2'
        );
     
        code = code.replace(
            /(\s*)(.*)(\s*\{)/gi,
            '$1<font class="css-query">$2</font>$3'
        );

        code = code.replace(
            /({|}|:|,)/g,
            `<font class="css-separator">$1</font>`
        );

        editor.innerHTML = `<font class="css-code">${code}</font>`;
    };

    /* src\Editor.svelte generated by Svelte v3.52.0 */
    const file$3 = "src\\Editor.svelte";

    function create_fragment$5(ctx) {
    	let div;
    	let t0;
    	let t1;
    	let link;

    	const block = {
    		c: function create() {
    			div = element("div");
    			t0 = text(/*text*/ ctx[0]);
    			t1 = space();
    			link = element("link");
    			attr_dev(div, "class", "editor svelte-1lxs1bu");
    			add_location(div, file$3, 40, 0, 928);
    			attr_dev(link, "rel", "stylesheet");
    			attr_dev(link, "href", "text-edit.css");
    			add_location(link, file$3, 52, 4, 1163);
    		},
    		l: function claim(nodes) {
    			throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option");
    		},
    		m: function mount(target, anchor) {
    			insert_dev(target, div, anchor);
    			append_dev(div, t0);
    			/*div_binding*/ ctx[4](div);
    			insert_dev(target, t1, anchor);
    			append_dev(document.head, link);
    		},
    		p: function update(ctx, [dirty]) {
    			if (dirty & /*text*/ 1) set_data_dev(t0, /*text*/ ctx[0]);
    		},
    		i: noop,
    		o: noop,
    		d: function destroy(detaching) {
    			if (detaching) detach_dev(div);
    			/*div_binding*/ ctx[4](null);
    			if (detaching) detach_dev(t1);
    			detach_dev(link);
    		}
    	};

    	dispatch_dev("SvelteRegisterBlock", {
    		block,
    		id: create_fragment$5.name,
    		type: "component",
    		source: "",
    		ctx
    	});

    	return block;
    }

    function instance$5($$self, $$props, $$invalidate) {
    	let { $$slots: slots = {}, $$scope } = $$props;
    	validate_slots('Editor', slots, []);
    	let editorContainer = null;
    	let { text = "" } = $$props;
    	let { language = "json" } = $$props;
    	let jar = null;

    	const updateText = () => {
    		if (jar) {
    			jar.updateCode(text);
    		}
    	};

    	onMount(async () => {
    		const my = editor => {
    			switch (language) {
    				case 'json':
    					json(editor);
    					break;
    				case 'css':
    					css(editor);
    					break;
    			}
    		};

    		jar = CodeJar(editorContainer, withLineNumbers(my, { backgroundColor: "auto", color: "auto" }));

    		jar.onUpdate(code => {
    			$$invalidate(0, text = code);
    		});
    	});

    	const writable_props = ['text', 'language'];

    	Object.keys($$props).forEach(key => {
    		if (!~writable_props.indexOf(key) && key.slice(0, 2) !== '$$' && key !== 'slot') console.warn(`<Editor> was created with unknown prop '${key}'`);
    	});

    	function div_binding($$value) {
    		binding_callbacks[$$value ? 'unshift' : 'push'](() => {
    			editorContainer = $$value;
    			$$invalidate(1, editorContainer);
    		});
    	}

    	$$self.$$set = $$props => {
    		if ('text' in $$props) $$invalidate(0, text = $$props.text);
    		if ('language' in $$props) $$invalidate(2, language = $$props.language);
    	};

    	$$self.$capture_state = () => ({
    		CodeJar,
    		withLineNumbers,
    		onMount,
    		json,
    		css,
    		editorContainer,
    		text,
    		language,
    		jar,
    		updateText
    	});

    	$$self.$inject_state = $$props => {
    		if ('editorContainer' in $$props) $$invalidate(1, editorContainer = $$props.editorContainer);
    		if ('text' in $$props) $$invalidate(0, text = $$props.text);
    		if ('language' in $$props) $$invalidate(2, language = $$props.language);
    		if ('jar' in $$props) jar = $$props.jar;
    	};

    	if ($$props && "$$inject" in $$props) {
    		$$self.$inject_state($$props.$$inject);
    	}

    	return [text, editorContainer, language, updateText, div_binding];
    }

    class Editor extends SvelteComponentDev {
    	constructor(options) {
    		super(options);
    		init$1(this, options, instance$5, create_fragment$5, safe_not_equal, { text: 0, language: 2, updateText: 3 });

    		dispatch_dev("SvelteRegisterComponent", {
    			component: this,
    			tagName: "Editor",
    			options,
    			id: create_fragment$5.name
    		});
    	}

    	get text() {
    		throw new Error("<Editor>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
    	}

    	set text(value) {
    		throw new Error("<Editor>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
    	}

    	get language() {
    		throw new Error("<Editor>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
    	}

    	set language(value) {
    		throw new Error("<Editor>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
    	}

    	get updateText() {
    		return this.$$.ctx[3];
    	}

    	set updateText(value) {
    		throw new Error("<Editor>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
    	}
    }

    var repositoryUrl$1 = "demos";
    var manifestFileName$1 = "data.json";
    var defaultLayout$1 = "presenter-presentation";
    var logLevel$1 = "INFO";
    var accessibility$1 = {
    	clickWithSpacebar: false
    };
    var preferences$1 = {
    	currentSource: "cookie",
    	sources: {
    		cookie: {
    			consentType: "necessary"
    		},
    		dataPlugin: {
    			context: "preferences"
    		}
    	}
    };
    var videoContainer$1 = {
    	overPlaybackBar: false,
    	restorePlaybackRate: true,
    	restoreVolume: true,
    	restoreVideoLayout: {
    		enabled: true,
    		global: true
    	},
    	restoreLastTime: {
    		enabled: true,
    		remainingSeconds: 5
    	}
    };
    var buttonGroups$1 = [
    	{
    		enabled: true,
    		groupName: "optionsContainer",
    		description: "Options",
    		icon: "settings-icon.svg",
    		order: 4,
    		side: "right",
    		tabIndex: 10,
    		parentContainer: "playbackBar"
    	}
    ];
    var progressIndicator$1 = {
    	showTotal: true,
    	parentContainer: "buttonArea",
    	side: "left",
    	visible: true,
    	showHandler: true,
    	hideHandlerOnMouseOut: true,
    	showRemainingProgress: true
    };
    var cookieConsent$1 = [
    	{
    		type: "necessary",
    		title: "Necessary",
    		description: "",
    		required: true
    	},
    	{
    		type: "preferences",
    		title: "Preferences",
    		description: "",
    		required: true
    	},
    	{
    		type: "analytics",
    		title: "Analytical",
    		description: "",
    		required: false
    	},
    	{
    		type: "marketing",
    		title: "Marketing",
    		description: "",
    		required: false
    	}
    ];
    var plugins$1 = {
    	"es.upv.paella.matomo": {
    		enabled: true,
    		cookieConsent: "tracking"
    	},
    	"es.upv.paella.singleVideo": {
    		enabled: true,
    		dualVideoContentIds: [
    			"presenter-presentation-dynamic",
    			"presenter-2-presentation-dynamic",
    			"presenter-presenter-2-dynamic"
    		],
    		validContent: [
    			{
    				id: "presenter",
    				content: [
    					"presenter"
    				],
    				icon: "present-mode-2.svg",
    				title: "Presenter"
    			},
    			{
    				id: "presentation",
    				content: [
    					"presentation"
    				],
    				icon: "present-mode-1.svg",
    				title: "Presentation"
    			},
    			{
    				id: "presenter-2",
    				content: [
    					"presenter-2"
    				],
    				icon: "present-mode-1.svg",
    				title: "Presentation"
    			}
    		],
    		tabIndexStart: 200
    	},
    	"es.upv.paella.dualVideo": {
    		enabled: false,
    		validContent: [
    			{
    				id: "presenter-presentation",
    				content: [
    					"presentation",
    					"presenter"
    				],
    				icon: "present-mode-5.svg",
    				title: "Presenter and presentation"
    			},
    			{
    				id: "presenter-2-presentation",
    				content: [
    					"presenter-2",
    					"presentation"
    				],
    				icon: "present-mode-5.svg",
    				title: "Presenter and presentation"
    			},
    			{
    				id: "presenter-presenter-2",
    				content: [
    					"presenter",
    					"presenter-2"
    				],
    				icon: "present-mode-5.svg",
    				title: "Presenter and presentation"
    			}
    		],
    		tabIndexStart: 200
    	},
    	"es.upv.paella.dualVideoSideBySide": {
    		enabled: false,
    		cookieType: "preferences",
    		validContent: [
    			{
    				id: "presenter-presentation-sbs",
    				content: [
    					"presentation",
    					"presenter"
    				],
    				icon: "present-mode-3.svg",
    				title: "Presenter and presentation side by side"
    			},
    			{
    				id: "presenter-2-presentation-sbs",
    				content: [
    					"presenter-2",
    					"presentation"
    				],
    				icon: "present-mode-3.svg",
    				title: "Presenter and presentation side by side"
    			},
    			{
    				id: "presenter-presenter-2-sbs",
    				content: [
    					"presenter",
    					"presenter-2"
    				],
    				icon: "present-mode-3.svg",
    				title: "Presenter and presentation side by side"
    			}
    		],
    		tabIndexStart: 200
    	},
    	"es.upv.paella.dualVideoDynamic": {
    		enabled: true,
    		validContent: [
    			{
    				id: "presenter-presentation-dynamic",
    				content: [
    					"presentation",
    					"presenter"
    				],
    				icon: "present-mode-3.svg",
    				title: "Presenter and presentation"
    			},
    			{
    				id: "presenter-2-presentation-dynamic",
    				content: [
    					"presenter-2",
    					"presentation"
    				],
    				icon: "present-mode-3.svg",
    				title: "Presenter and presentation"
    			},
    			{
    				id: "presenter-presenter-2-dynamic",
    				content: [
    					"presenter",
    					"presenter-2"
    				],
    				icon: "present-mode-3.svg",
    				title: "Presenter and presentation"
    			}
    		],
    		tabIndexStart: 200
    	},
    	"es.upv.paella.dualVideoPiP": {
    		enabled: true,
    		validContent: [
    			{
    				id: "presenter-presentation-pip",
    				content: [
    					"presenter",
    					"presentation"
    				],
    				icon: "present-mode-5.svg",
    				title: "Presenter and presentation"
    			},
    			{
    				id: "presenter-2-presentation-pip",
    				content: [
    					"presenter-2",
    					"presentation"
    				],
    				icon: "present-mode-5.svg",
    				title: "Presenter and presentation"
    			},
    			{
    				id: "presenter-presenter-2-pip",
    				content: [
    					"presenter",
    					"presenter-2"
    				],
    				icon: "present-mode-5.svg",
    				title: "Presenter and presentation"
    			}
    		],
    		dualVideoContentIds: [
    			"presenter-presentation-dynamic",
    			"presenter-2-presentation-dynamic",
    			"presenter-presenter-2-dynamic",
    			"presenter-presentation",
    			"presenter-2-presentation",
    			"presenter-presenter-2"
    		],
    		tabIndexStart: 20
    	},
    	"es.upv.paella.tripleVideo": {
    		enabled: true,
    		validContent: [
    			{
    				id: "presenter-presenter-2-presentation",
    				content: [
    					"presenter",
    					"presenter-2",
    					"presentation"
    				],
    				icon: "present-mode-4.svg",
    				title: "Presenter and presentation"
    			},
    			{
    				id: "presenter-2-presenter-3-presentation",
    				content: [
    					"presenter-2",
    					"presenter-3",
    					"presentation"
    				],
    				icon: "present-mode-4.svg",
    				title: "Presenter and presentation"
    			}
    		]
    	},
    	"es.upv.paella.hlsVideoFormat": {
    		enabled: true,
    		order: 0,
    		hlsConfig: {
    			maxBufferLength: 40
    		},
    		corsConfig: {
    			withCredentials: false,
    			requestHeaders: {
    				"Access-Control-Allow-Credentials": false
    			}
    		}
    	},
    	"es.upv.paella.hlsLiveVideoFormat": {
    		enabled: true,
    		order: 0,
    		hlsConfig: {
    			maxBufferLength: 40
    		},
    		corsConfig: {
    			withCredentials: false,
    			requestHeaders: {
    				"Access-Control-Allow-Credentials": false
    			}
    		}
    	},
    	"es.upv.paella.audioVideoFormat": {
    		enabled: true,
    		order: 4
    	},
    	"es.upv.paella.imageVideoFormat": {
    		enabled: true,
    		order: 3
    	},
    	"es.upv.paella.htmlVideoFormat": {
    		enabled: true,
    		order: 2
    	},
    	"es.upv.paella.mp4VideoFormat": {
    		enabled: true,
    		order: 1
    	},
    	"es.upv.paella.playPauseButton": {
    		enabled: true,
    		order: 0,
    		description: "Play and pause button",
    		tabIndex: 1
    	},
    	"es.upv.paella.backwardButtonPlugin": {
    		enabled: true,
    		side: "left",
    		order: 1,
    		tabIndex: 2
    	},
    	"es.upv.paella.forwardButtonPlugin": {
    		enabled: true,
    		side: "left",
    		order: 2,
    		tabIndex: 3
    	},
    	"es.upv.paella.volumeButtonPlugin": {
    		enabled: true,
    		side: "left",
    		order: 4,
    		tabIndex: 4
    	},
    	"es.upv.paella.qualitySelector": {
    		enabled: true,
    		side: "right",
    		parentContainer: "optionsContainer",
    		menuTitle: "Select quality",
    		tabIndex: 11,
    		popUpType: "no-modal"
    	},
    	"es.upv.paella.playbackRateButton": {
    		enabled: true,
    		side: "left",
    		order: 3,
    		parentContainer: "optionsContainer",
    		rates: [
    			0.75,
    			1,
    			1.5,
    			2
    		],
    		menuTitle: "Playback Rate",
    		showIcon: false,
    		tabIndex: 12,
    		popUpType: "no-modal"
    	},
    	"es.upv.paella.captionsSelectorPlugin": {
    		enabled: true,
    		side: "right",
    		parentContainer: "optionsContainer",
    		tabIndex: 13,
    		popUpType: "no-modal"
    	},
    	"es.upv.paella.audioSelector": {
    		enabled: true,
    		side: "right",
    		tabIndex: 14,
    		popUpType: "no-modal"
    	},
    	"es.upv.paella.keyboardShortcutsHelp": {
    		enabled: true,
    		order: 80,
    		description: "Keyboard Shortcuts",
    		side: "right",
    		menuTitle: "Keyboard Shortcuts",
    		parentContainer: "optionsContainer",
    		tabIndex: 15,
    		popUpType: "no-modal"
    	},
    	"es.upv.paella.layoutSelector": {
    		enabled: true,
    		side: "right",
    		order: 101,
    		parentContainer: "playbackBar",
    		menuTitle: "Layout",
    		tabIndex: 16
    	},
    	"es.upv.paella.frameControlButtonPlugin": {
    		enabled: true,
    		side: "right",
    		order: 102,
    		tabIndex: 17
    	},
    	"es.upv.paella.fullscreenButton": {
    		enabled: true,
    		side: "right",
    		order: 103,
    		tabIndex: 18
    	},
    	"es.upv.paella.zoomPlugin": {
    		enabled: true,
    		order: 0,
    		maxZoom: 400,
    		showButtons: true,
    		target: "presenter"
    	},
    	"es.upv.paella.videoCanvas": {
    		enabled: true,
    		order: 1
    	},
    	"es.upv.paella.video360Canvas": {
    		enabled: true,
    		order: 1,
    		maxZoom: 2,
    		minZoom: 0.5,
    		speedX: 0.4,
    		speedY: 0.4
    	},
    	"es.upv.paella.audioCanvas": {
    		enabled: true,
    		order: 1
    	},
    	"es.upv.paella.cookieDataPlugin": {
    		enabled: true,
    		order: 0,
    		context: [
    			"default",
    			"trimming"
    		]
    	},
    	"es.upv.paella.vttManifestCaptionsPlugin": {
    		enabled: true
    	},
    	"es.upv.paella.hlsCaptionsPlugin": {
    		enabled: true
    	},
    	"es.upv.paella.defaultShortcuts": {
    		enabled: true,
    		validPlaybackRates: [
    			0.75,
    			1,
    			1.5,
    			2
    		]
    	},
    	"es.upv.paella.arrowSlidesNavigator": {
    		enabled: false,
    		target: [
    			"presentation",
    			"presenter"
    		]
    	},
    	"es.upv.paella.userEventTracker": {
    		enabled: true,
    		context: "userTracking"
    	},
    	"es.upv.paella.debug.userTrackingDataPlugin": {
    		enabled: false,
    		context: [
    			"userTracking"
    		]
    	},
    	"es.upv.paella.analytics.userTrackingDataPlugin": {
    		enabled: false,
    		trackingId: "configure_your_tracking_id_here",
    		domain: "",
    		category: true,
    		context: [
    			"userTracking"
    		]
    	},
    	"es.upv.paella.findCaptionsPlugin": {
    		enabled: true,
    		side: "right",
    		description: "Search in captions",
    		parentContainer: "optionsContainer"
    	},
    	"es.upv.paella.slideMapProgressBarPlugin": {
    		enabled: true,
    		markColor: {
    			mouseOut: "#0A0A0A",
    			mouseHover: "#A9A9A9"
    		},
    		markWidth: 3,
    		drawBackground: false
    	},
    	"es.upv.paella.customTimeProgressIndicator": {
    		enabled: false,
    		textSize: "large",
    		showTotal: false
    	},
    	"es.upv.paella.nextSlideNavigatorButton": {
    		enabled: true,
    		content: [
    			"presentation"
    		],
    		side: "left",
    		order: 1
    	},
    	"es.upv.paella.prevSlideNavigatorButton": {
    		enabled: true,
    		content: [
    			"presentation"
    		],
    		side: "left",
    		order: 0
    	},
    	"es.upv.paella.liveStreamingProgressIndicator": {
    		enabled: true,
    		layer: "foreground",
    		side: "left",
    		margin: 10,
    		textColor: "#AA0000",
    		circleColor: "#FF0000"
    	}
    };
    var defaultConfig = {
    	repositoryUrl: repositoryUrl$1,
    	manifestFileName: manifestFileName$1,
    	defaultLayout: defaultLayout$1,
    	logLevel: logLevel$1,
    	accessibility: accessibility$1,
    	preferences: preferences$1,
    	videoContainer: videoContainer$1,
    	buttonGroups: buttonGroups$1,
    	progressIndicator: progressIndicator$1,
    	cookieConsent: cookieConsent$1,
    	plugins: plugins$1
    };

    var metadata = {
    	duration: 909.13,
    	title: "Belmar 15 minutes (multiresolution)",
    	preview: "https://repository.paellaplayer.upv.es/belmar-multiresolution/preview/belmar-preview.jpg"
    };
    var streams = [
    	{
    		sources: {
    			mp4: [
    				{
    					src: "https://repository.paellaplayer.upv.es/belmar-multiresolution/media/720-presentation.mp4",
    					mimetype: "video/mp4",
    					res: {
    						w: "1442",
    						h: "1080"
    					}
    				}
    			],
    			image: [
    				{
    					mimetype: "image/jpeg",
    					frames: [
    						{
    							time: 854,
    							src: "https://repository.paellaplayer.upv.es/belmar-multiresolution/slides/3d90109c-9608-44c1-8660-fce3f216d716/presentation_cut.jpg"
    						},
    						{
    							time: 751,
    							src: "https://repository.paellaplayer.upv.es/belmar-multiresolution/slides/598bd2ba-4fef-4886-884e-0ab82176f13d/presentation_cut.jpg"
    						},
    						{
    							time: 0,
    							src: "https://repository.paellaplayer.upv.es/belmar-multiresolution/slides/7dc22bee-14f3-442c-8f0d-30d8b68c8604/presentation_cut.jpg"
    						},
    						{
    							time: 363,
    							src: "https://repository.paellaplayer.upv.es/belmar-multiresolution/slides/d3194d9b-8f65-403b-a639-9de4311a283b/presentation_cut.jpg"
    						}
    					],
    					count: 4,
    					duration: 909,
    					res: {
    						w: 1442,
    						h: 1080
    					}
    				},
    				{
    					mimetype: "image/jpeg",
    					frames: [
    						{
    							time: 854,
    							src: "https://repository.paellaplayer.upv.es/belmar-multiresolution/slides/403de1df-aa66-44c0-b600-7683acf249b8/presentation_cut.jpg"
    						},
    						{
    							time: 751,
    							src: "https://repository.paellaplayer.upv.es/belmar-multiresolution/slides/73a6564c-b2d6-4896-b0f1-38129dde2c85/presentation_cut.jpg"
    						},
    						{
    							time: 0,
    							src: "https://repository.paellaplayer.upv.es/belmar-multiresolution/slides/46561b90-85b3-4ad7-a986-cdd9b52ae02b/presentation_cut.jpg"
    						},
    						{
    							time: 363,
    							src: "https://repository.paellaplayer.upv.es/belmar-multiresolution/slides/4505b6d9-8a0c-4809-ade3-840e743188ed/presentation_cut.jpg"
    						}
    					],
    					count: 4,
    					duration: 909,
    					res: {
    						w: 320,
    						h: 240
    					}
    				}
    			]
    		},
    		content: "presentation"
    	},
    	{
    		sources: {
    			mp4: [
    				{
    					src: "https://repository.paellaplayer.upv.es/belmar-multiresolution/media/720-presenter.mp4",
    					mimetype: "video/mp4",
    					res: {
    						w: "1920",
    						h: "1080"
    					}
    				}
    			]
    		},
    		content: "presenter",
    		role: "mainAudio"
    	}
    ];
    var frameList = [
    	{
    		id: "frame_854",
    		mimetype: "image/jpeg",
    		time: 854,
    		url: "https://repository.paellaplayer.upv.es/belmar-multiresolution/slides/3d90109c-9608-44c1-8660-fce3f216d716/presentation_cut.jpg",
    		thumb: "https://repository.paellaplayer.upv.es/belmar-multiresolution/slides/403de1df-aa66-44c0-b600-7683acf249b8/presentation_cut.jpg"
    	},
    	{
    		id: "frame_751",
    		mimetype: "image/jpeg",
    		time: 751,
    		url: "https://repository.paellaplayer.upv.es/belmar-multiresolution/slides/598bd2ba-4fef-4886-884e-0ab82176f13d/presentation_cut.jpg",
    		thumb: "https://repository.paellaplayer.upv.es/belmar-multiresolution/slides/73a6564c-b2d6-4896-b0f1-38129dde2c85/presentation_cut.jpg"
    	},
    	{
    		id: "frame_0",
    		mimetype: "image/jpeg",
    		time: 0,
    		url: "https://repository.paellaplayer.upv.es/belmar-multiresolution/slides/7dc22bee-14f3-442c-8f0d-30d8b68c8604/presentation_cut.jpg",
    		thumb: "https://repository.paellaplayer.upv.es/belmar-multiresolution/slides/46561b90-85b3-4ad7-a986-cdd9b52ae02b/presentation_cut.jpg"
    	},
    	{
    		id: "frame_363",
    		mimetype: "image/jpeg",
    		time: 363,
    		url: "https://repository.paellaplayer.upv.es/belmar-multiresolution/slides/d3194d9b-8f65-403b-a639-9de4311a283b/presentation_cut.jpg",
    		thumb: "https://repository.paellaplayer.upv.es/belmar-multiresolution/slides/4505b6d9-8a0c-4809-ade3-840e743188ed/presentation_cut.jpg"
    	}
    ];
    var defaultManifest = {
    	metadata: metadata,
    	streams: streams,
    	frameList: frameList
    };

    var demos = [
    	{
    		title: "mp4 videos",
    		id: "mp4",
    		demos: [
    			{
    				name: "Dual stream video",
    				description: "",
    				id: "belmar-multiresolution-remote"
    			},
    			{
    				name: "Single stream video",
    				description: "",
    				id: "belmar-multiresolution-single"
    			},
    			{
    				name: "Triple stream",
    				description: "",
    				id: "n-stream"
    			},
    			{
    				name: "WebVTT captions",
    				description: "",
    				id: "webvtt-captions"
    			},
    			{
    				name: "Video 360",
    				description: "",
    				id: "video-360"
    			}
    		]
    	},
    	{
    		title: "hls videos",
    		id: "hls",
    		demos: [
    			{
    				name: "HLS multi quality",
    				description: "",
    				id: "hls-multiquality"
    			},
    			{
    				name: "HLS multi audio",
    				description: "",
    				id: "hls-multiaudio"
    			},
    			{
    				name: "Multi quality/langs (wowza SMIL)",
    				description: "",
    				id: "hls-multiaudio-smil-1"
    			},
    			{
    				name: "HLS live stream",
    				description: "",
    				id: "hls-live",
    				disabled: true
    			}
    		]
    	},
    	{
    		title: "Error handling",
    		id: "error-handling",
    		demos: [
    			{
    				name: "Error test: manifest file not found",
    				description: "",
    				id: "manifest-not-found"
    			},
    			{
    				name: "Error test: mp4 stream not found",
    				description: "",
    				id: "error-mp4-stream"
    			},
    			{
    				name: "Error test: hls stream not available",
    				description: "",
    				id: "error-hls-stream"
    			}
    		]
    	},
    	{
    		title: "Audio player",
    		id: "audio",
    		demos: [
    			{
    				name: "Audio only",
    				description: "",
    				id: "audio-only"
    			},
    			{
    				name: "Audio and images",
    				description: "",
    				id: "audio-and-images"
    			}
    		]
    	}
    ];

    /* src\Playground.svelte generated by Svelte v3.52.0 */
    const file$2 = "src\\Playground.svelte";

    function get_each_context$1(ctx, list, i) {
    	const child_ctx = ctx.slice();
    	child_ctx[39] = list[i];
    	return child_ctx;
    }

    // (215:36) 
    function create_if_block_2$1(ctx) {
    	let div1;
    	let div0;
    	let button0;
    	let t1;
    	let button1;
    	let t3;
    	let editor;
    	let updating_text;
    	let updating_updateText;
    	let current;
    	let mounted;
    	let dispose;

    	function editor_text_binding_2(value) {
    		/*editor_text_binding_2*/ ctx[30](value);
    	}

    	function editor_updateText_binding_2(value) {
    		/*editor_updateText_binding_2*/ ctx[31](value);
    	}

    	let editor_props = {
    		class: "editor-container",
    		height: "200px",
    		language: "css"
    	};

    	if (/*styleText*/ ctx[8] !== void 0) {
    		editor_props.text = /*styleText*/ ctx[8];
    	}

    	if (/*updateStyleText*/ ctx[2] !== void 0) {
    		editor_props.updateText = /*updateStyleText*/ ctx[2];
    	}

    	editor = new Editor({ props: editor_props, $$inline: true });
    	binding_callbacks.push(() => bind(editor, 'text', editor_text_binding_2));
    	binding_callbacks.push(() => bind(editor, 'updateText', editor_updateText_binding_2));

    	const block = {
    		c: function create() {
    			div1 = element("div");
    			div0 = element("div");
    			button0 = element("button");
    			button0.textContent = "Load Default";
    			t1 = space();
    			button1 = element("button");
    			button1.textContent = "Download";
    			t3 = space();
    			create_component(editor.$$.fragment);
    			attr_dev(button0, "class", "svelte-1foe98x");
    			add_location(button0, file$2, 217, 16, 7187);
    			attr_dev(button1, "class", "svelte-1foe98x");
    			add_location(button1, file$2, 218, 16, 7262);
    			attr_dev(div0, "class", "tab-tools-container svelte-1foe98x");
    			add_location(div0, file$2, 216, 12, 7136);
    			attr_dev(div1, "class", "editor-style-page");
    			add_location(div1, file$2, 215, 8, 7091);
    		},
    		m: function mount(target, anchor) {
    			insert_dev(target, div1, anchor);
    			append_dev(div1, div0);
    			append_dev(div0, button0);
    			append_dev(div0, t1);
    			append_dev(div0, button1);
    			append_dev(div1, t3);
    			mount_component(editor, div1, null);
    			current = true;

    			if (!mounted) {
    				dispose = [
    					listen_dev(button0, "click", /*loadDefaultStyle*/ ctx[16], false, false, false),
    					listen_dev(button1, "click", /*downloadStyle*/ ctx[19], false, false, false)
    				];

    				mounted = true;
    			}
    		},
    		p: function update(ctx, dirty) {
    			const editor_changes = {};

    			if (!updating_text && dirty[0] & /*styleText*/ 256) {
    				updating_text = true;
    				editor_changes.text = /*styleText*/ ctx[8];
    				add_flush_callback(() => updating_text = false);
    			}

    			if (!updating_updateText && dirty[0] & /*updateStyleText*/ 4) {
    				updating_updateText = true;
    				editor_changes.updateText = /*updateStyleText*/ ctx[2];
    				add_flush_callback(() => updating_updateText = false);
    			}

    			editor.$set(editor_changes);
    		},
    		i: function intro(local) {
    			if (current) return;
    			transition_in(editor.$$.fragment, local);
    			current = true;
    		},
    		o: function outro(local) {
    			transition_out(editor.$$.fragment, local);
    			current = false;
    		},
    		d: function destroy(detaching) {
    			if (detaching) detach_dev(div1);
    			destroy_component(editor);
    			mounted = false;
    			run_all(dispose);
    		}
    	};

    	dispatch_dev("SvelteRegisterBlock", {
    		block,
    		id: create_if_block_2$1.name,
    		type: "if",
    		source: "(215:36) ",
    		ctx
    	});

    	return block;
    }

    // (202:39) 
    function create_if_block_1$1(ctx) {
    	let div1;
    	let div0;
    	let label;
    	let t1;
    	let select;
    	let t2;
    	let button;
    	let t4;
    	let editor;
    	let updating_text;
    	let updating_updateText;
    	let current;
    	let mounted;
    	let dispose;
    	let each_value = /*ids*/ ctx[11];
    	validate_each_argument(each_value);
    	let each_blocks = [];

    	for (let i = 0; i < each_value.length; i += 1) {
    		each_blocks[i] = create_each_block$1(get_each_context$1(ctx, each_value, i));
    	}

    	function editor_text_binding_1(value) {
    		/*editor_text_binding_1*/ ctx[28](value);
    	}

    	function editor_updateText_binding_1(value) {
    		/*editor_updateText_binding_1*/ ctx[29](value);
    	}

    	let editor_props = {
    		class: "editor-container",
    		height: "200px",
    		language: "json"
    	};

    	if (/*manifestText*/ ctx[7] !== void 0) {
    		editor_props.text = /*manifestText*/ ctx[7];
    	}

    	if (/*updateManifestText*/ ctx[1] !== void 0) {
    		editor_props.updateText = /*updateManifestText*/ ctx[1];
    	}

    	editor = new Editor({ props: editor_props, $$inline: true });
    	binding_callbacks.push(() => bind(editor, 'text', editor_text_binding_1));
    	binding_callbacks.push(() => bind(editor, 'updateText', editor_updateText_binding_1));

    	const block = {
    		c: function create() {
    			div1 = element("div");
    			div0 = element("div");
    			label = element("label");
    			label.textContent = "Example video manifests:";
    			t1 = space();
    			select = element("select");

    			for (let i = 0; i < each_blocks.length; i += 1) {
    				each_blocks[i].c();
    			}

    			t2 = space();
    			button = element("button");
    			button.textContent = "Download";
    			t4 = space();
    			create_component(editor.$$.fragment);
    			attr_dev(label, "for", "videoIdSelector");
    			add_location(label, file$2, 204, 16, 6474);
    			attr_dev(select, "id", "videoIdSelector");
    			attr_dev(select, "name", "videoIdSelector");
    			add_location(select, file$2, 205, 16, 6553);
    			attr_dev(button, "class", "svelte-1foe98x");
    			add_location(button, file$2, 210, 16, 6805);
    			attr_dev(div0, "class", "tab-tools-container svelte-1foe98x");
    			add_location(div0, file$2, 203, 12, 6423);
    			attr_dev(div1, "class", "editor-manifest-page");
    			add_location(div1, file$2, 202, 8, 6375);
    		},
    		m: function mount(target, anchor) {
    			insert_dev(target, div1, anchor);
    			append_dev(div1, div0);
    			append_dev(div0, label);
    			append_dev(div0, t1);
    			append_dev(div0, select);

    			for (let i = 0; i < each_blocks.length; i += 1) {
    				each_blocks[i].m(select, null);
    			}

    			append_dev(div0, t2);
    			append_dev(div0, button);
    			append_dev(div1, t4);
    			mount_component(editor, div1, null);
    			current = true;

    			if (!mounted) {
    				dispose = [
    					listen_dev(select, "change", /*idChanged*/ ctx[14], false, false, false),
    					listen_dev(button, "click", /*downloadManifest*/ ctx[18], false, false, false)
    				];

    				mounted = true;
    			}
    		},
    		p: function update(ctx, dirty) {
    			if (dirty[0] & /*ids*/ 2048) {
    				each_value = /*ids*/ ctx[11];
    				validate_each_argument(each_value);
    				let i;

    				for (i = 0; i < each_value.length; i += 1) {
    					const child_ctx = get_each_context$1(ctx, each_value, i);

    					if (each_blocks[i]) {
    						each_blocks[i].p(child_ctx, dirty);
    					} else {
    						each_blocks[i] = create_each_block$1(child_ctx);
    						each_blocks[i].c();
    						each_blocks[i].m(select, null);
    					}
    				}

    				for (; i < each_blocks.length; i += 1) {
    					each_blocks[i].d(1);
    				}

    				each_blocks.length = each_value.length;
    			}

    			const editor_changes = {};

    			if (!updating_text && dirty[0] & /*manifestText*/ 128) {
    				updating_text = true;
    				editor_changes.text = /*manifestText*/ ctx[7];
    				add_flush_callback(() => updating_text = false);
    			}

    			if (!updating_updateText && dirty[0] & /*updateManifestText*/ 2) {
    				updating_updateText = true;
    				editor_changes.updateText = /*updateManifestText*/ ctx[1];
    				add_flush_callback(() => updating_updateText = false);
    			}

    			editor.$set(editor_changes);
    		},
    		i: function intro(local) {
    			if (current) return;
    			transition_in(editor.$$.fragment, local);
    			current = true;
    		},
    		o: function outro(local) {
    			transition_out(editor.$$.fragment, local);
    			current = false;
    		},
    		d: function destroy(detaching) {
    			if (detaching) detach_dev(div1);
    			destroy_each(each_blocks, detaching);
    			destroy_component(editor);
    			mounted = false;
    			run_all(dispose);
    		}
    	};

    	dispatch_dev("SvelteRegisterBlock", {
    		block,
    		id: create_if_block_1$1.name,
    		type: "if",
    		source: "(202:39) ",
    		ctx
    	});

    	return block;
    }

    // (194:4) { #if tabPage === 'config' }
    function create_if_block$3(ctx) {
    	let div1;
    	let div0;
    	let button0;
    	let t1;
    	let button1;
    	let t3;
    	let editor;
    	let updating_text;
    	let updating_updateText;
    	let current;
    	let mounted;
    	let dispose;

    	function editor_text_binding(value) {
    		/*editor_text_binding*/ ctx[26](value);
    	}

    	function editor_updateText_binding(value) {
    		/*editor_updateText_binding*/ ctx[27](value);
    	}

    	let editor_props = {
    		class: "editor-container",
    		height: "200px",
    		language: "json"
    	};

    	if (/*configText*/ ctx[4] !== void 0) {
    		editor_props.text = /*configText*/ ctx[4];
    	}

    	if (/*updateConfigText*/ ctx[0] !== void 0) {
    		editor_props.updateText = /*updateConfigText*/ ctx[0];
    	}

    	editor = new Editor({ props: editor_props, $$inline: true });
    	binding_callbacks.push(() => bind(editor, 'text', editor_text_binding));
    	binding_callbacks.push(() => bind(editor, 'updateText', editor_updateText_binding));

    	const block = {
    		c: function create() {
    			div1 = element("div");
    			div0 = element("div");
    			button0 = element("button");
    			button0.textContent = "Load Default";
    			t1 = space();
    			button1 = element("button");
    			button1.textContent = "Download";
    			t3 = space();
    			create_component(editor.$$.fragment);
    			attr_dev(button0, "class", "svelte-1foe98x");
    			add_location(button0, file$2, 196, 16, 6016);
    			attr_dev(button1, "class", "svelte-1foe98x");
    			add_location(button1, file$2, 197, 16, 6092);
    			attr_dev(div0, "class", "tab-tools-container svelte-1foe98x");
    			add_location(div0, file$2, 195, 12, 5965);
    			attr_dev(div1, "class", "editor-config-page");
    			add_location(div1, file$2, 194, 8, 5919);
    		},
    		m: function mount(target, anchor) {
    			insert_dev(target, div1, anchor);
    			append_dev(div1, div0);
    			append_dev(div0, button0);
    			append_dev(div0, t1);
    			append_dev(div0, button1);
    			append_dev(div1, t3);
    			mount_component(editor, div1, null);
    			current = true;

    			if (!mounted) {
    				dispose = [
    					listen_dev(button0, "click", /*loadDefaultConfig*/ ctx[15], false, false, false),
    					listen_dev(button1, "click", /*downloadConfig*/ ctx[17], false, false, false)
    				];

    				mounted = true;
    			}
    		},
    		p: function update(ctx, dirty) {
    			const editor_changes = {};

    			if (!updating_text && dirty[0] & /*configText*/ 16) {
    				updating_text = true;
    				editor_changes.text = /*configText*/ ctx[4];
    				add_flush_callback(() => updating_text = false);
    			}

    			if (!updating_updateText && dirty[0] & /*updateConfigText*/ 1) {
    				updating_updateText = true;
    				editor_changes.updateText = /*updateConfigText*/ ctx[0];
    				add_flush_callback(() => updating_updateText = false);
    			}

    			editor.$set(editor_changes);
    		},
    		i: function intro(local) {
    			if (current) return;
    			transition_in(editor.$$.fragment, local);
    			current = true;
    		},
    		o: function outro(local) {
    			transition_out(editor.$$.fragment, local);
    			current = false;
    		},
    		d: function destroy(detaching) {
    			if (detaching) detach_dev(div1);
    			destroy_component(editor);
    			mounted = false;
    			run_all(dispose);
    		}
    	};

    	dispatch_dev("SvelteRegisterBlock", {
    		block,
    		id: create_if_block$3.name,
    		type: "if",
    		source: "(194:4) { #if tabPage === 'config' }",
    		ctx
    	});

    	return block;
    }

    // (207:20) {#each ids as id}
    function create_each_block$1(ctx) {
    	let option;
    	let t_value = /*id*/ ctx[39].name + "";
    	let t;

    	const block = {
    		c: function create() {
    			option = element("option");
    			t = text(t_value);
    			option.__value = /*id*/ ctx[39];
    			option.value = option.__value;
    			add_location(option, file$2, 207, 24, 6694);
    		},
    		m: function mount(target, anchor) {
    			insert_dev(target, option, anchor);
    			append_dev(option, t);
    		},
    		p: noop,
    		d: function destroy(detaching) {
    			if (detaching) detach_dev(option);
    		}
    	};

    	dispatch_dev("SvelteRegisterBlock", {
    		block,
    		id: create_each_block$1.name,
    		type: "each",
    		source: "(207:20) {#each ids as id}",
    		ctx
    	});

    	return block;
    }

    function create_fragment$4(ctx) {
    	let sveltemarkdown;
    	let t0;
    	let section0;
    	let player;
    	let updating_reloadPlayer;
    	let t1;
    	let section1;
    	let ul;
    	let li0;
    	let button0;
    	let li0_class_value;
    	let t3;
    	let li1;
    	let button1;
    	let li1_class_value;
    	let t5;
    	let li2;
    	let button2;
    	let li2_class_value;
    	let t7;
    	let li3;
    	let button3;
    	let t9;
    	let current_block_type_index;
    	let if_block;
    	let t10;
    	let section2;
    	let div;
    	let t11;
    	let current;
    	let mounted;
    	let dispose;
    	sveltemarkdown = new SvelteMarkdown({ props: { source: source$1 }, $$inline: true });

    	function player_reloadPlayer_binding(value) {
    		/*player_reloadPlayer_binding*/ ctx[21](value);
    	}

    	let player_props = {
    		videoId: /*videoId*/ ctx[12],
    		config: /*config*/ ctx[3],
    		manifest: /*manifest*/ ctx[6]
    	};

    	if (/*reloadPlayer*/ ctx[9] !== void 0) {
    		player_props.reloadPlayer = /*reloadPlayer*/ ctx[9];
    	}

    	player = new Player({ props: player_props, $$inline: true });
    	binding_callbacks.push(() => bind(player, 'reloadPlayer', player_reloadPlayer_binding));
    	const if_block_creators = [create_if_block$3, create_if_block_1$1, create_if_block_2$1];
    	const if_blocks = [];

    	function select_block_type(ctx, dirty) {
    		if (/*tabPage*/ ctx[10] === 'config') return 0;
    		if (/*tabPage*/ ctx[10] === 'manifest') return 1;
    		if (/*tabPage*/ ctx[10] === 'style') return 2;
    		return -1;
    	}

    	if (~(current_block_type_index = select_block_type(ctx))) {
    		if_block = if_blocks[current_block_type_index] = if_block_creators[current_block_type_index](ctx);
    	}

    	const block = {
    		c: function create() {
    			create_component(sveltemarkdown.$$.fragment);
    			t0 = space();
    			section0 = element("section");
    			create_component(player.$$.fragment);
    			t1 = space();
    			section1 = element("section");
    			ul = element("ul");
    			li0 = element("li");
    			button0 = element("button");
    			button0.textContent = "Configuration";
    			t3 = space();
    			li1 = element("li");
    			button1 = element("button");
    			button1.textContent = "Video Manifest";
    			t5 = space();
    			li2 = element("li");
    			button2 = element("button");
    			button2.textContent = "Custom Styles";
    			t7 = space();
    			li3 = element("li");
    			button3 = element("button");
    			button3.textContent = "ReloadPlayer";
    			t9 = space();
    			if (if_block) if_block.c();
    			t10 = space();
    			section2 = element("section");
    			div = element("div");
    			t11 = text(/*error*/ ctx[5]);
    			attr_dev(section0, "class", "player-section svelte-1foe98x");
    			add_location(section0, file$2, 174, 0, 5093);
    			attr_dev(button0, "class", "svelte-1foe98x");
    			add_location(button0, file$2, 181, 12, 5347);
    			attr_dev(li0, "class", li0_class_value = /*tabPage*/ ctx[10] === 'config' ? 'current' : '');
    			add_location(li0, file$2, 180, 8, 5279);
    			attr_dev(button1, "class", "svelte-1foe98x");
    			add_location(button1, file$2, 184, 12, 5509);
    			attr_dev(li1, "class", li1_class_value = /*tabPage*/ ctx[10] === 'manifest' ? 'current' : '');
    			add_location(li1, file$2, 183, 8, 5439);
    			attr_dev(button2, "class", "svelte-1foe98x");
    			add_location(button2, file$2, 187, 12, 5671);
    			attr_dev(li2, "class", li2_class_value = /*tabPage*/ ctx[10] === 'style' ? 'current' : '');
    			add_location(li2, file$2, 186, 8, 5604);
    			attr_dev(button3, "class", "svelte-1foe98x");
    			add_location(button3, file$2, 190, 12, 5794);
    			attr_dev(li3, "class", "tools svelte-1foe98x");
    			add_location(li3, file$2, 189, 8, 5762);
    			attr_dev(ul, "class", "svelte-1foe98x");
    			add_location(ul, file$2, 179, 4, 5265);
    			attr_dev(section1, "class", "editor-section svelte-1foe98x");
    			add_location(section1, file$2, 178, 0, 5227);
    			attr_dev(div, "class", "error-output svelte-1foe98x");
    			add_location(div, file$2, 226, 4, 7563);
    			attr_dev(section2, "class", "error-output-section svelte-1foe98x");
    			add_location(section2, file$2, 225, 0, 7519);
    		},
    		l: function claim(nodes) {
    			throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option");
    		},
    		m: function mount(target, anchor) {
    			mount_component(sveltemarkdown, target, anchor);
    			insert_dev(target, t0, anchor);
    			insert_dev(target, section0, anchor);
    			mount_component(player, section0, null);
    			insert_dev(target, t1, anchor);
    			insert_dev(target, section1, anchor);
    			append_dev(section1, ul);
    			append_dev(ul, li0);
    			append_dev(li0, button0);
    			append_dev(ul, t3);
    			append_dev(ul, li1);
    			append_dev(li1, button1);
    			append_dev(ul, t5);
    			append_dev(ul, li2);
    			append_dev(li2, button2);
    			append_dev(ul, t7);
    			append_dev(ul, li3);
    			append_dev(li3, button3);
    			append_dev(section1, t9);

    			if (~current_block_type_index) {
    				if_blocks[current_block_type_index].m(section1, null);
    			}

    			insert_dev(target, t10, anchor);
    			insert_dev(target, section2, anchor);
    			append_dev(section2, div);
    			append_dev(div, t11);
    			current = true;

    			if (!mounted) {
    				dispose = [
    					listen_dev(button0, "click", /*click_handler*/ ctx[22], false, false, false),
    					listen_dev(button1, "click", /*click_handler_1*/ ctx[23], false, false, false),
    					listen_dev(button2, "click", /*click_handler_2*/ ctx[24], false, false, false),
    					listen_dev(button3, "click", /*click_handler_3*/ ctx[25], false, false, false)
    				];

    				mounted = true;
    			}
    		},
    		p: function update(ctx, dirty) {
    			const player_changes = {};
    			if (dirty[0] & /*config*/ 8) player_changes.config = /*config*/ ctx[3];
    			if (dirty[0] & /*manifest*/ 64) player_changes.manifest = /*manifest*/ ctx[6];

    			if (!updating_reloadPlayer && dirty[0] & /*reloadPlayer*/ 512) {
    				updating_reloadPlayer = true;
    				player_changes.reloadPlayer = /*reloadPlayer*/ ctx[9];
    				add_flush_callback(() => updating_reloadPlayer = false);
    			}

    			player.$set(player_changes);

    			if (!current || dirty[0] & /*tabPage*/ 1024 && li0_class_value !== (li0_class_value = /*tabPage*/ ctx[10] === 'config' ? 'current' : '')) {
    				attr_dev(li0, "class", li0_class_value);
    			}

    			if (!current || dirty[0] & /*tabPage*/ 1024 && li1_class_value !== (li1_class_value = /*tabPage*/ ctx[10] === 'manifest' ? 'current' : '')) {
    				attr_dev(li1, "class", li1_class_value);
    			}

    			if (!current || dirty[0] & /*tabPage*/ 1024 && li2_class_value !== (li2_class_value = /*tabPage*/ ctx[10] === 'style' ? 'current' : '')) {
    				attr_dev(li2, "class", li2_class_value);
    			}

    			let previous_block_index = current_block_type_index;
    			current_block_type_index = select_block_type(ctx);

    			if (current_block_type_index === previous_block_index) {
    				if (~current_block_type_index) {
    					if_blocks[current_block_type_index].p(ctx, dirty);
    				}
    			} else {
    				if (if_block) {
    					group_outros();

    					transition_out(if_blocks[previous_block_index], 1, 1, () => {
    						if_blocks[previous_block_index] = null;
    					});

    					check_outros();
    				}

    				if (~current_block_type_index) {
    					if_block = if_blocks[current_block_type_index];

    					if (!if_block) {
    						if_block = if_blocks[current_block_type_index] = if_block_creators[current_block_type_index](ctx);
    						if_block.c();
    					} else {
    						if_block.p(ctx, dirty);
    					}

    					transition_in(if_block, 1);
    					if_block.m(section1, null);
    				} else {
    					if_block = null;
    				}
    			}

    			if (!current || dirty[0] & /*error*/ 32) set_data_dev(t11, /*error*/ ctx[5]);
    		},
    		i: function intro(local) {
    			if (current) return;
    			transition_in(sveltemarkdown.$$.fragment, local);
    			transition_in(player.$$.fragment, local);
    			transition_in(if_block);
    			current = true;
    		},
    		o: function outro(local) {
    			transition_out(sveltemarkdown.$$.fragment, local);
    			transition_out(player.$$.fragment, local);
    			transition_out(if_block);
    			current = false;
    		},
    		d: function destroy(detaching) {
    			destroy_component(sveltemarkdown, detaching);
    			if (detaching) detach_dev(t0);
    			if (detaching) detach_dev(section0);
    			destroy_component(player);
    			if (detaching) detach_dev(t1);
    			if (detaching) detach_dev(section1);

    			if (~current_block_type_index) {
    				if_blocks[current_block_type_index].d();
    			}

    			if (detaching) detach_dev(t10);
    			if (detaching) detach_dev(section2);
    			mounted = false;
    			run_all(dispose);
    		}
    	};

    	dispatch_dev("SvelteRegisterBlock", {
    		block,
    		id: create_fragment$4.name,
    		type: "component",
    		source: "",
    		ctx
    	});

    	return block;
    }

    function instance$4($$self, $$props, $$invalidate) {
    	let { $$slots: slots = {}, $$scope } = $$props;
    	validate_slots('Playground', slots, []);
    	let { params = {} } = $$props;

    	const storedData = {
    		savedConfig: null,
    		savedManifest: null,
    		savedStyle: null
    	};

    	const loadStoredData = (dataItem, type) => {
    		storedData[dataItem] = window.localStorage.getItem(dataItem);

    		if (type === 'json') {
    			try {
    				storedData[dataItem] = JSON.parse(storedData[dataItem]);
    			} catch(e) {
    				storedData[dataItem] = null;
    			}
    		}
    	};

    	const saveData = (dataItem, data) => {
    		if (typeof data === "object") {
    			data = JSON.stringify(data);
    		}

    		window.localStorage.setItem(dataItem, data);
    	};

    	loadStoredData("savedConfig", "json");
    	loadStoredData("savedManifest", "json");
    	loadStoredData("savedStyle");
    	let updateConfigText;
    	let updateManifestText;
    	let updateStyleText;
    	const ids = [];

    	demos.forEach(group => {
    		if (group.id !== "error-handling") {
    			group.demos.forEach(id => ids.push(id));
    		}
    	});

    	let config = storedData.savedConfig || defaultConfig;
    	let configText = JSON.stringify(config, "", "  ");
    	let error = "";
    	let manifest = {};
    	let manifestText = "";
    	let videoId = params.id || "belmar-multiresolution-remote";

    	const loadManifest = async id => {
    		const response = await fetch(`demos/${id.id}/data.json`);

    		if (response.ok) {
    			$$invalidate(6, manifest = await response.json());
    			$$invalidate(7, manifestText = JSON.stringify(manifest, "", "  "));
    			setTimeout(() => updateManifestText(), 100);
    		}
    	};

    	let styleText = "";
    	let styleElem = null;
    	let reloadPlayer;
    	let tabPage = 'config';

    	const reloadStyle = styleText => {
    		if (styleElem) {
    			styleElem.parentNode.removeChild(styleElem);
    		}

    		styleElem = document.createElement('style');
    		styleElem.innerHTML = styleText;
    		document.head.appendChild(styleElem);
    	};

    	onMount(async () => {
    		$$invalidate(6, manifest = storedData.savedManifest || defaultManifest);
    		$$invalidate(7, manifestText = JSON.stringify(manifest, "", "  "));

    		if (!storedData.savedStyle) {
    			const defaultCssResponse = await fetch("playground-style.css");
    			$$invalidate(8, styleText = await defaultCssResponse.text());
    		} else {
    			$$invalidate(8, styleText = storedData.savedStyle);
    		}

    		reloadStyle(styleText);
    	});

    	onDestroy(() => {
    		if (styleElem) {
    			styleElem.parentNode.removeChild(styleElem);
    		}
    	});

    	const reload = async () => {
    		let currentError = "";

    		try {
    			$$invalidate(5, error = "");
    			currentError = "Error in configuration file: ";
    			$$invalidate(3, config = JSON.parse(configText));
    			currentError = "Error in video manifest file: ";
    			$$invalidate(6, manifest = JSON.parse(manifestText));
    			await reloadPlayer();
    			reloadStyle(styleText);
    			saveData("savedConfig", config);
    			saveData("savedManifest", manifest);
    			saveData("savedStyle", styleText);
    		} catch(err) {
    			$$invalidate(5, error = currentError + err.message);
    		}
    	};

    	const idChanged = async evt => {
    		const selected = ids[evt.target.selectedIndex];
    		loadManifest(selected);
    	};

    	const loadDefaultConfig = () => {
    		$$invalidate(3, config = defaultConfig);
    		$$invalidate(4, configText = JSON.stringify(config, "", "  "));
    		setTimeout(() => updateConfigText(), 100);
    	};

    	const loadDefaultStyle = async () => {
    		const defaultCssResponse = await fetch("playground-style.css");
    		$$invalidate(8, styleText = await defaultCssResponse.text());
    		reloadStyle(styleText);
    		setTimeout(() => updateStyleText(), 100);
    	};

    	const downloadText = (text, type, filename) => {
    		const a = document.createElement('a');
    		const blob = new Blob([text], { type });
    		const url = URL.createObjectURL(blob);
    		a.setAttribute('href', url);
    		a.setAttribute('download', filename);
    		a.click();
    	};

    	const downloadConfig = () => {
    		downloadText(configText, 'application/json', 'config.json');
    	};

    	const downloadManifest = () => {
    		downloadText(manifestText, 'application/json', 'data.json');
    	};

    	const downloadStyle = () => {
    		downloadText(configText, 'text/css', 'custom_style.css');
    	};

    	const writable_props = ['params'];

    	Object.keys($$props).forEach(key => {
    		if (!~writable_props.indexOf(key) && key.slice(0, 2) !== '$$' && key !== 'slot') console.warn(`<Playground> was created with unknown prop '${key}'`);
    	});

    	function player_reloadPlayer_binding(value) {
    		reloadPlayer = value;
    		$$invalidate(9, reloadPlayer);
    	}

    	const click_handler = () => $$invalidate(10, tabPage = 'config');
    	const click_handler_1 = () => $$invalidate(10, tabPage = 'manifest');
    	const click_handler_2 = () => $$invalidate(10, tabPage = 'style');
    	const click_handler_3 = () => reload();

    	function editor_text_binding(value) {
    		configText = value;
    		$$invalidate(4, configText);
    	}

    	function editor_updateText_binding(value) {
    		updateConfigText = value;
    		$$invalidate(0, updateConfigText);
    	}

    	function editor_text_binding_1(value) {
    		manifestText = value;
    		$$invalidate(7, manifestText);
    	}

    	function editor_updateText_binding_1(value) {
    		updateManifestText = value;
    		$$invalidate(1, updateManifestText);
    	}

    	function editor_text_binding_2(value) {
    		styleText = value;
    		$$invalidate(8, styleText);
    	}

    	function editor_updateText_binding_2(value) {
    		updateStyleText = value;
    		$$invalidate(2, updateStyleText);
    	}

    	$$self.$$set = $$props => {
    		if ('params' in $$props) $$invalidate(20, params = $$props.params);
    	};

    	$$self.$capture_state = () => ({
    		SvelteMarkdown,
    		source: source$1,
    		onDestroy,
    		onMount,
    		Player,
    		Editor,
    		defaultConfig,
    		defaultManifest,
    		demos,
    		params,
    		storedData,
    		loadStoredData,
    		saveData,
    		updateConfigText,
    		updateManifestText,
    		updateStyleText,
    		ids,
    		config,
    		configText,
    		error,
    		manifest,
    		manifestText,
    		videoId,
    		loadManifest,
    		styleText,
    		styleElem,
    		reloadPlayer,
    		tabPage,
    		reloadStyle,
    		reload,
    		idChanged,
    		loadDefaultConfig,
    		loadDefaultStyle,
    		downloadText,
    		downloadConfig,
    		downloadManifest,
    		downloadStyle
    	});

    	$$self.$inject_state = $$props => {
    		if ('params' in $$props) $$invalidate(20, params = $$props.params);
    		if ('updateConfigText' in $$props) $$invalidate(0, updateConfigText = $$props.updateConfigText);
    		if ('updateManifestText' in $$props) $$invalidate(1, updateManifestText = $$props.updateManifestText);
    		if ('updateStyleText' in $$props) $$invalidate(2, updateStyleText = $$props.updateStyleText);
    		if ('config' in $$props) $$invalidate(3, config = $$props.config);
    		if ('configText' in $$props) $$invalidate(4, configText = $$props.configText);
    		if ('error' in $$props) $$invalidate(5, error = $$props.error);
    		if ('manifest' in $$props) $$invalidate(6, manifest = $$props.manifest);
    		if ('manifestText' in $$props) $$invalidate(7, manifestText = $$props.manifestText);
    		if ('videoId' in $$props) $$invalidate(12, videoId = $$props.videoId);
    		if ('styleText' in $$props) $$invalidate(8, styleText = $$props.styleText);
    		if ('styleElem' in $$props) styleElem = $$props.styleElem;
    		if ('reloadPlayer' in $$props) $$invalidate(9, reloadPlayer = $$props.reloadPlayer);
    		if ('tabPage' in $$props) $$invalidate(10, tabPage = $$props.tabPage);
    	};

    	if ($$props && "$$inject" in $$props) {
    		$$self.$inject_state($$props.$$inject);
    	}

    	return [
    		updateConfigText,
    		updateManifestText,
    		updateStyleText,
    		config,
    		configText,
    		error,
    		manifest,
    		manifestText,
    		styleText,
    		reloadPlayer,
    		tabPage,
    		ids,
    		videoId,
    		reload,
    		idChanged,
    		loadDefaultConfig,
    		loadDefaultStyle,
    		downloadConfig,
    		downloadManifest,
    		downloadStyle,
    		params,
    		player_reloadPlayer_binding,
    		click_handler,
    		click_handler_1,
    		click_handler_2,
    		click_handler_3,
    		editor_text_binding,
    		editor_updateText_binding,
    		editor_text_binding_1,
    		editor_updateText_binding_1,
    		editor_text_binding_2,
    		editor_updateText_binding_2
    	];
    }

    class Playground extends SvelteComponentDev {
    	constructor(options) {
    		super(options);
    		init$1(this, options, instance$4, create_fragment$4, safe_not_equal, { params: 20 }, null, [-1, -1]);

    		dispatch_dev("SvelteRegisterComponent", {
    			component: this,
    			tagName: "Playground",
    			options,
    			id: create_fragment$4.name
    		});
    	}

    	get params() {
    		throw new Error("<Playground>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
    	}

    	set params(value) {
    		throw new Error("<Playground>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
    	}
    }

    var source = "\r\n# Skin generator\r\n\r\nFrom this page you can generate a `paella-core` skin to customize your player. See the [customization](https://paellaplayer.upv.es/#/doc/customization.md) and [skin APIs](https://paellaplayer.upv.es/#/doc/skin_api.md) documentation for more information.\r\n\r\n";

    var repositoryUrl = "demos";
    var manifestFileName = "data.json";
    var defaultLayout = "presenter-presentation";
    var logLevel = "INFO";
    var accessibility = {
    	clickWithSpacebar: false
    };
    var preferences = {
    	currentSource: "cookie",
    	sources: {
    		cookie: {
    			consentType: "necessary"
    		},
    		dataPlugin: {
    			context: "preferences"
    		}
    	}
    };
    var videoContainer = {
    	restorePlaybackRate: true,
    	restoreVolume: true,
    	restoreVideoLayout: {
    		enabled: true,
    		global: true
    	},
    	restoreLastTime: {
    		enabled: true,
    		remainingSeconds: 5
    	}
    };
    var buttonGroups = [
    	{
    		enabled: true,
    		groupName: "optionsContainer",
    		description: "Options",
    		icon: "settings-icon.svg",
    		order: 4,
    		side: "right",
    		tabIndex: 10,
    		parentContainer: "playbackBar"
    	}
    ];
    var progressIndicator = {
    };
    var cookieConsent = [
    	{
    		type: "necessary",
    		title: "Necessary",
    		description: "",
    		required: true
    	},
    	{
    		type: "preferences",
    		title: "Preferences",
    		description: "",
    		required: true
    	},
    	{
    		type: "analytics",
    		title: "Analytical",
    		description: "",
    		required: false
    	},
    	{
    		type: "marketing",
    		title: "Marketing",
    		description: "",
    		required: false
    	}
    ];
    var plugins = {
    	"es.upv.paella.matomo": {
    		enabled: true,
    		cookieConsent: "tracking"
    	},
    	"es.upv.paella.singleVideo": {
    		enabled: true,
    		dualVideoContentIds: [
    			"presenter-presentation-dynamic",
    			"presenter-2-presentation-dynamic",
    			"presenter-presenter-2-dynamic"
    		],
    		validContent: [
    			{
    				id: "presenter",
    				content: [
    					"presenter"
    				],
    				icon: "present-mode-2.svg",
    				title: "Presenter"
    			},
    			{
    				id: "presentation",
    				content: [
    					"presentation"
    				],
    				icon: "present-mode-1.svg",
    				title: "Presentation"
    			},
    			{
    				id: "presenter-2",
    				content: [
    					"presenter-2"
    				],
    				icon: "present-mode-1.svg",
    				title: "Presentation"
    			}
    		],
    		tabIndexStart: 200
    	},
    	"es.upv.paella.dualVideo": {
    		enabled: false,
    		validContent: [
    			{
    				id: "presenter-presentation",
    				content: [
    					"presentation",
    					"presenter"
    				],
    				icon: "present-mode-5.svg",
    				title: "Presenter and presentation"
    			},
    			{
    				id: "presenter-2-presentation",
    				content: [
    					"presenter-2",
    					"presentation"
    				],
    				icon: "present-mode-5.svg",
    				title: "Presenter and presentation"
    			},
    			{
    				id: "presenter-presenter-2",
    				content: [
    					"presenter",
    					"presenter-2"
    				],
    				icon: "present-mode-5.svg",
    				title: "Presenter and presentation"
    			}
    		],
    		tabIndexStart: 200
    	},
    	"es.upv.paella.dualVideoSideBySide": {
    		enabled: false,
    		cookieType: "preferences",
    		validContent: [
    			{
    				id: "presenter-presentation-sbs",
    				content: [
    					"presentation",
    					"presenter"
    				],
    				icon: "present-mode-3.svg",
    				title: "Presenter and presentation side by side"
    			},
    			{
    				id: "presenter-2-presentation-sbs",
    				content: [
    					"presenter-2",
    					"presentation"
    				],
    				icon: "present-mode-3.svg",
    				title: "Presenter and presentation side by side"
    			},
    			{
    				id: "presenter-presenter-2-sbs",
    				content: [
    					"presenter",
    					"presenter-2"
    				],
    				icon: "present-mode-3.svg",
    				title: "Presenter and presentation side by side"
    			}
    		],
    		tabIndexStart: 200
    	},
    	"es.upv.paella.dualVideoDynamic": {
    		enabled: true,
    		validContent: [
    			{
    				id: "presenter-presentation-dynamic",
    				content: [
    					"presentation",
    					"presenter"
    				],
    				icon: "present-mode-3.svg",
    				title: "Presenter and presentation"
    			},
    			{
    				id: "presenter-2-presentation-dynamic",
    				content: [
    					"presenter-2",
    					"presentation"
    				],
    				icon: "present-mode-3.svg",
    				title: "Presenter and presentation"
    			},
    			{
    				id: "presenter-presenter-2-dynamic",
    				content: [
    					"presenter",
    					"presenter-2"
    				],
    				icon: "present-mode-3.svg",
    				title: "Presenter and presentation"
    			}
    		],
    		tabIndexStart: 200
    	},
    	"es.upv.paella.dualVideoPiP": {
    		enabled: true,
    		validContent: [
    			{
    				id: "presenter-presentation-pip",
    				content: [
    					"presenter",
    					"presentation"
    				],
    				icon: "present-mode-5.svg",
    				title: "Presenter and presentation"
    			},
    			{
    				id: "presenter-2-presentation-pip",
    				content: [
    					"presenter-2",
    					"presentation"
    				],
    				icon: "present-mode-5.svg",
    				title: "Presenter and presentation"
    			},
    			{
    				id: "presenter-presenter-2-pip",
    				content: [
    					"presenter",
    					"presenter-2"
    				],
    				icon: "present-mode-5.svg",
    				title: "Presenter and presentation"
    			}
    		],
    		dualVideoContentIds: [
    			"presenter-presentation-dynamic",
    			"presenter-2-presentation-dynamic",
    			"presenter-presenter-2-dynamic",
    			"presenter-presentation",
    			"presenter-2-presentation",
    			"presenter-presenter-2"
    		],
    		tabIndexStart: 20
    	},
    	"es.upv.paella.tripleVideo": {
    		enabled: true,
    		validContent: [
    			{
    				id: "presenter-presenter-2-presentation",
    				content: [
    					"presenter",
    					"presenter-2",
    					"presentation"
    				],
    				icon: "present-mode-4.svg",
    				title: "Presenter and presentation"
    			},
    			{
    				id: "presenter-2-presenter-3-presentation",
    				content: [
    					"presenter-2",
    					"presenter-3",
    					"presentation"
    				],
    				icon: "present-mode-4.svg",
    				title: "Presenter and presentation"
    			}
    		]
    	},
    	"es.upv.paella.hlsVideoFormat": {
    		enabled: true,
    		order: 0,
    		hlsConfig: {
    			maxBufferLength: 40
    		},
    		corsConfig: {
    			withCredentials: false,
    			requestHeaders: {
    				"Access-Control-Allow-Credentials": false
    			}
    		}
    	},
    	"es.upv.paella.hlsLiveVideoFormat": {
    		enabled: true,
    		order: 0,
    		hlsConfig: {
    			maxBufferLength: 40
    		},
    		corsConfig: {
    			withCredentials: false,
    			requestHeaders: {
    				"Access-Control-Allow-Credentials": false
    			}
    		}
    	},
    	"es.upv.paella.audioVideoFormat": {
    		enabled: true,
    		order: 4
    	},
    	"es.upv.paella.imageVideoFormat": {
    		enabled: true,
    		order: 3
    	},
    	"es.upv.paella.htmlVideoFormat": {
    		enabled: true,
    		order: 2
    	},
    	"es.upv.paella.mp4VideoFormat": {
    		enabled: true,
    		order: 1
    	},
    	"es.upv.paella.playPauseButton": {
    		enabled: true,
    		order: 0,
    		description: "Play and pause button",
    		tabIndex: 1
    	},
    	"es.upv.paella.backwardButtonPlugin": {
    		enabled: true,
    		side: "left",
    		order: 1,
    		tabIndex: 2
    	},
    	"es.upv.paella.forwardButtonPlugin": {
    		enabled: true,
    		side: "left",
    		order: 2,
    		tabIndex: 3
    	},
    	"es.upv.paella.volumeButtonPlugin": {
    		enabled: true,
    		side: "left",
    		order: 4,
    		tabIndex: 4
    	},
    	"es.upv.paella.qualitySelector": {
    		enabled: true,
    		side: "right",
    		parentContainer: "optionsContainer",
    		menuTitle: "Select quality",
    		tabIndex: 11,
    		popUpType: "no-modal"
    	},
    	"es.upv.paella.playbackRateButton": {
    		enabled: true,
    		side: "left",
    		order: 3,
    		parentContainer: "optionsContainer",
    		rates: [
    			0.75,
    			1,
    			1.5,
    			2
    		],
    		menuTitle: "Playback Rate",
    		showIcon: false,
    		tabIndex: 12,
    		popUpType: "no-modal"
    	},
    	"es.upv.paella.captionsSelectorPlugin": {
    		enabled: true,
    		side: "right",
    		parentContainer: "optionsContainer",
    		tabIndex: 13,
    		popUpType: "no-modal"
    	},
    	"es.upv.paella.audioSelector": {
    		enabled: true,
    		side: "right",
    		tabIndex: 14,
    		popUpType: "no-modal"
    	},
    	"es.upv.paella.keyboardShortcutsHelp": {
    		enabled: true,
    		order: 80,
    		description: "Keyboard Shortcuts",
    		side: "right",
    		menuTitle: "Keyboard Shortcuts",
    		parentContainer: "optionsContainer",
    		tabIndex: 15,
    		popUpType: "no-modal"
    	},
    	"es.upv.paella.layoutSelector": {
    		enabled: true,
    		side: "right",
    		order: 101,
    		parentContainer: "playbackBar",
    		menuTitle: "Layout",
    		tabIndex: 16
    	},
    	"es.upv.paella.frameControlButtonPlugin": {
    		enabled: true,
    		side: "right",
    		order: 102,
    		tabIndex: 17
    	},
    	"es.upv.paella.fullscreenButton": {
    		enabled: true,
    		side: "right",
    		order: 103,
    		tabIndex: 18
    	},
    	"es.upv.paella.zoomPlugin": {
    		enabled: true,
    		order: 0,
    		maxZoom: 400,
    		showButtons: true,
    		target: "presenter"
    	},
    	"es.upv.paella.videoCanvas": {
    		enabled: true,
    		order: 1
    	},
    	"es.upv.paella.video360Canvas": {
    		enabled: true,
    		order: 1,
    		maxZoom: 2,
    		minZoom: 0.5,
    		speedX: 0.4,
    		speedY: 0.4
    	},
    	"es.upv.paella.audioCanvas": {
    		enabled: true,
    		order: 1
    	},
    	"es.upv.paella.cookieDataPlugin": {
    		enabled: true,
    		order: 0,
    		context: [
    			"default",
    			"trimming"
    		]
    	},
    	"es.upv.paella.vttManifestCaptionsPlugin": {
    		enabled: true
    	},
    	"es.upv.paella.hlsCaptionsPlugin": {
    		enabled: true
    	},
    	"es.upv.paella.defaultShortcuts": {
    		enabled: true,
    		validPlaybackRates: [
    			0.75,
    			1,
    			1.5,
    			2
    		]
    	},
    	"es.upv.paella.arrowSlidesNavigator": {
    		enabled: false,
    		target: [
    			"presentation",
    			"presenter"
    		]
    	},
    	"es.upv.paella.userEventTracker": {
    		enabled: true,
    		context: "userTracking"
    	},
    	"es.upv.paella.debug.userTrackingDataPlugin": {
    		enabled: false,
    		context: [
    			"userTracking"
    		]
    	},
    	"es.upv.paella.analytics.userTrackingDataPlugin": {
    		enabled: false,
    		trackingId: "configure_your_tracking_id_here",
    		domain: "",
    		category: true,
    		context: [
    			"userTracking"
    		]
    	},
    	"es.upv.paella.findCaptionsPlugin": {
    		enabled: true,
    		side: "right",
    		description: "Search in captions",
    		parentContainer: "optionsContainer"
    	},
    	"es.upv.paella.slideMapProgressBarPlugin": {
    		enabled: true,
    		markColor: {
    			mouseOut: "#0A0A0A",
    			mouseHover: "#A9A9A9"
    		},
    		markWidth: 3,
    		drawBackground: false
    	},
    	"es.upv.paella.customTimeProgressIndicator": {
    		enabled: false,
    		textSize: "large",
    		showTotal: false
    	},
    	"es.upv.paella.nextSlideNavigatorButton": {
    		enabled: true,
    		content: [
    			"presentation"
    		],
    		side: "left",
    		order: 1
    	},
    	"es.upv.paella.prevSlideNavigatorButton": {
    		enabled: true,
    		content: [
    			"presentation"
    		],
    		side: "left",
    		order: 0
    	},
    	"es.upv.paella.liveStreamingProgressIndicator": {
    		enabled: true,
    		layer: "foreground",
    		side: "left",
    		margin: 10,
    		textColor: "#AA0000",
    		circleColor: "#FF0000"
    	}
    };
    var config = {
    	repositoryUrl: repositoryUrl,
    	manifestFileName: manifestFileName,
    	defaultLayout: defaultLayout,
    	logLevel: logLevel,
    	accessibility: accessibility,
    	preferences: preferences,
    	videoContainer: videoContainer,
    	buttonGroups: buttonGroups,
    	progressIndicator: progressIndicator,
    	cookieConsent: cookieConsent,
    	plugins: plugins
    };

    /* src\Skin.svelte generated by Svelte v3.52.0 */

    const { console: console_1$1 } = globals;
    const file$1 = "src\\Skin.svelte";

    function get_each_context(ctx, list, i) {
    	const child_ctx = ctx.slice();
    	child_ctx[39] = list[i];
    	child_ctx[40] = list;
    	child_ctx[41] = i;
    	return child_ctx;
    }

    function get_each_context_1(ctx, list, i) {
    	const child_ctx = ctx.slice();
    	child_ctx[42] = list[i];
    	return child_ctx;
    }

    function get_each_context_2(ctx, list, i) {
    	const child_ctx = ctx.slice();
    	child_ctx[45] = list[i];
    	return child_ctx;
    }

    // (161:34) 
    function create_if_block_2(ctx) {
    	let div4;
    	let div1;
    	let h20;
    	let t1;
    	let div0;
    	let label0;
    	let t2;
    	let select0;
    	let t3;
    	let label1;
    	let t4;
    	let select1;
    	let t5;
    	let i;
    	let t6;
    	let button0;
    	let t8;
    	let button1;
    	let t10;
    	let div3;
    	let h21;
    	let t12;
    	let div2;
    	let mounted;
    	let dispose;
    	let each_value_2 = /*requestedPluginIds*/ ctx[8];
    	validate_each_argument(each_value_2);
    	let each_blocks_2 = [];

    	for (let i = 0; i < each_value_2.length; i += 1) {
    		each_blocks_2[i] = create_each_block_2(get_each_context_2(ctx, each_value_2, i));
    	}

    	let each_value_1 = /*requestedIconNames*/ ctx[9];
    	validate_each_argument(each_value_1);
    	let each_blocks_1 = [];

    	for (let i = 0; i < each_value_1.length; i += 1) {
    		each_blocks_1[i] = create_each_block_1(get_each_context_1(ctx, each_value_1, i));
    	}

    	let each_value = /*icons*/ ctx[3];
    	validate_each_argument(each_value);
    	let each_blocks = [];

    	for (let i = 0; i < each_value.length; i += 1) {
    		each_blocks[i] = create_each_block(get_each_context(ctx, each_value, i));
    	}

    	const block = {
    		c: function create() {
    			div4 = element("div");
    			div1 = element("div");
    			h20 = element("h2");
    			h20.textContent = "Add new custom icon";
    			t1 = space();
    			div0 = element("div");
    			label0 = element("label");
    			t2 = text("Plugin identifier:\r\n                        ");
    			select0 = element("select");

    			for (let i = 0; i < each_blocks_2.length; i += 1) {
    				each_blocks_2[i].c();
    			}

    			t3 = space();
    			label1 = element("label");
    			t4 = text("Icon identifier:\r\n                        ");
    			select1 = element("select");

    			for (let i = 0; i < each_blocks_1.length; i += 1) {
    				each_blocks_1[i].c();
    			}

    			t5 = space();
    			i = element("i");
    			t6 = space();
    			button0 = element("button");
    			button0.textContent = "Pick SVG Image";
    			t8 = space();
    			button1 = element("button");
    			button1.textContent = "Add Custom Icon";
    			t10 = space();
    			div3 = element("div");
    			h21 = element("h2");
    			h21.textContent = "Custom icons added";
    			t12 = space();
    			div2 = element("div");

    			for (let i = 0; i < each_blocks.length; i += 1) {
    				each_blocks[i].c();
    			}

    			add_location(h20, file$1, 163, 16, 5903);
    			add_location(select0, file$1, 167, 24, 6053);
    			add_location(label0, file$1, 165, 20, 5976);
    			add_location(select1, file$1, 175, 24, 6472);
    			add_location(label1, file$1, 173, 20, 6397);
    			attr_dev(i, "class", "icon-preview svelte-1300nnx");
    			add_location(i, file$1, 181, 20, 6830);
    			attr_dev(button0, "class", "svelte-1300nnx");
    			add_location(button0, file$1, 182, 20, 6900);
    			attr_dev(button1, "class", "svelte-1300nnx");
    			add_location(button1, file$1, 183, 20, 7004);
    			add_location(div0, file$1, 164, 16, 5949);
    			add_location(div1, file$1, 162, 12, 5880);
    			add_location(h21, file$1, 187, 16, 7144);
    			attr_dev(div2, "class", "added-skin-icons svelte-1300nnx");
    			add_location(div2, file$1, 188, 16, 7189);
    			add_location(div3, file$1, 186, 12, 7121);
    			attr_dev(div4, "class", "editor-icon-page svelte-1300nnx");
    			add_location(div4, file$1, 161, 8, 5836);
    		},
    		m: function mount(target, anchor) {
    			insert_dev(target, div4, anchor);
    			append_dev(div4, div1);
    			append_dev(div1, h20);
    			append_dev(div1, t1);
    			append_dev(div1, div0);
    			append_dev(div0, label0);
    			append_dev(label0, t2);
    			append_dev(label0, select0);

    			for (let i = 0; i < each_blocks_2.length; i += 1) {
    				each_blocks_2[i].m(select0, null);
    			}

    			select_option(select0, /*selectedPluginId*/ ctx[10]);
    			append_dev(div0, t3);
    			append_dev(div0, label1);
    			append_dev(label1, t4);
    			append_dev(label1, select1);

    			for (let i = 0; i < each_blocks_1.length; i += 1) {
    				each_blocks_1[i].m(select1, null);
    			}

    			select_option(select1, /*selectedIconName*/ ctx[11]);
    			append_dev(div0, t5);
    			append_dev(div0, i);
    			i.innerHTML = /*selectedIcon*/ ctx[12];
    			append_dev(div0, t6);
    			append_dev(div0, button0);
    			append_dev(div0, t8);
    			append_dev(div0, button1);
    			append_dev(div4, t10);
    			append_dev(div4, div3);
    			append_dev(div3, h21);
    			append_dev(div3, t12);
    			append_dev(div3, div2);

    			for (let i = 0; i < each_blocks.length; i += 1) {
    				each_blocks[i].m(div2, null);
    			}

    			if (!mounted) {
    				dispose = [
    					listen_dev(select0, "change", /*change_handler*/ ctx[30], false, false, false),
    					listen_dev(select1, "change", /*change_handler_1*/ ctx[31], false, false, false),
    					listen_dev(button0, "click", /*click_handler_5*/ ctx[32], false, false, false),
    					listen_dev(button1, "click", /*click_handler_6*/ ctx[33], false, false, false)
    				];

    				mounted = true;
    			}
    		},
    		p: function update(ctx, dirty) {
    			if (dirty[0] & /*requestedPluginIds*/ 256) {
    				each_value_2 = /*requestedPluginIds*/ ctx[8];
    				validate_each_argument(each_value_2);
    				let i;

    				for (i = 0; i < each_value_2.length; i += 1) {
    					const child_ctx = get_each_context_2(ctx, each_value_2, i);

    					if (each_blocks_2[i]) {
    						each_blocks_2[i].p(child_ctx, dirty);
    					} else {
    						each_blocks_2[i] = create_each_block_2(child_ctx);
    						each_blocks_2[i].c();
    						each_blocks_2[i].m(select0, null);
    					}
    				}

    				for (; i < each_blocks_2.length; i += 1) {
    					each_blocks_2[i].d(1);
    				}

    				each_blocks_2.length = each_value_2.length;
    			}

    			if (dirty[0] & /*selectedPluginId, requestedPluginIds*/ 1280) {
    				select_option(select0, /*selectedPluginId*/ ctx[10]);
    			}

    			if (dirty[0] & /*requestedIconNames*/ 512) {
    				each_value_1 = /*requestedIconNames*/ ctx[9];
    				validate_each_argument(each_value_1);
    				let i;

    				for (i = 0; i < each_value_1.length; i += 1) {
    					const child_ctx = get_each_context_1(ctx, each_value_1, i);

    					if (each_blocks_1[i]) {
    						each_blocks_1[i].p(child_ctx, dirty);
    					} else {
    						each_blocks_1[i] = create_each_block_1(child_ctx);
    						each_blocks_1[i].c();
    						each_blocks_1[i].m(select1, null);
    					}
    				}

    				for (; i < each_blocks_1.length; i += 1) {
    					each_blocks_1[i].d(1);
    				}

    				each_blocks_1.length = each_value_1.length;
    			}

    			if (dirty[0] & /*selectedIconName, requestedIconNames*/ 2560) {
    				select_option(select1, /*selectedIconName*/ ctx[11]);
    			}

    			if (dirty[0] & /*selectedIcon*/ 4096) i.innerHTML = /*selectedIcon*/ ctx[12];
    			if (dirty[0] & /*selectIconImage, icons*/ 16392) {
    				each_value = /*icons*/ ctx[3];
    				validate_each_argument(each_value);
    				let i;

    				for (i = 0; i < each_value.length; i += 1) {
    					const child_ctx = get_each_context(ctx, each_value, i);

    					if (each_blocks[i]) {
    						each_blocks[i].p(child_ctx, dirty);
    					} else {
    						each_blocks[i] = create_each_block(child_ctx);
    						each_blocks[i].c();
    						each_blocks[i].m(div2, null);
    					}
    				}

    				for (; i < each_blocks.length; i += 1) {
    					each_blocks[i].d(1);
    				}

    				each_blocks.length = each_value.length;
    			}
    		},
    		i: noop,
    		o: noop,
    		d: function destroy(detaching) {
    			if (detaching) detach_dev(div4);
    			destroy_each(each_blocks_2, detaching);
    			destroy_each(each_blocks_1, detaching);
    			destroy_each(each_blocks, detaching);
    			mounted = false;
    			run_all(dispose);
    		}
    	};

    	dispatch_dev("SvelteRegisterBlock", {
    		block,
    		id: create_if_block_2.name,
    		type: "if",
    		source: "(161:34) ",
    		ctx
    	});

    	return block;
    }

    // (157:34) 
    function create_if_block_1(ctx) {
    	let div;
    	let editor;
    	let updating_text;
    	let updating_updateText;
    	let current;

    	function editor_text_binding_1(value) {
    		/*editor_text_binding_1*/ ctx[28](value);
    	}

    	function editor_updateText_binding_1(value) {
    		/*editor_updateText_binding_1*/ ctx[29](value);
    	}

    	let editor_props = {
    		class: "editor-container",
    		height: "200px",
    		language: "css"
    	};

    	if (/*skinStyle*/ ctx[2] !== void 0) {
    		editor_props.text = /*skinStyle*/ ctx[2];
    	}

    	if (/*updateSkinStyle*/ ctx[5] !== void 0) {
    		editor_props.updateText = /*updateSkinStyle*/ ctx[5];
    	}

    	editor = new Editor({ props: editor_props, $$inline: true });
    	binding_callbacks.push(() => bind(editor, 'text', editor_text_binding_1));
    	binding_callbacks.push(() => bind(editor, 'updateText', editor_updateText_binding_1));

    	const block = {
    		c: function create() {
    			div = element("div");
    			create_component(editor.$$.fragment);
    			attr_dev(div, "class", "editor-style-page");
    			add_location(div, file$1, 157, 8, 5601);
    		},
    		m: function mount(target, anchor) {
    			insert_dev(target, div, anchor);
    			mount_component(editor, div, null);
    			current = true;
    		},
    		p: function update(ctx, dirty) {
    			const editor_changes = {};

    			if (!updating_text && dirty[0] & /*skinStyle*/ 4) {
    				updating_text = true;
    				editor_changes.text = /*skinStyle*/ ctx[2];
    				add_flush_callback(() => updating_text = false);
    			}

    			if (!updating_updateText && dirty[0] & /*updateSkinStyle*/ 32) {
    				updating_updateText = true;
    				editor_changes.updateText = /*updateSkinStyle*/ ctx[5];
    				add_flush_callback(() => updating_updateText = false);
    			}

    			editor.$set(editor_changes);
    		},
    		i: function intro(local) {
    			if (current) return;
    			transition_in(editor.$$.fragment, local);
    			current = true;
    		},
    		o: function outro(local) {
    			transition_out(editor.$$.fragment, local);
    			current = false;
    		},
    		d: function destroy(detaching) {
    			if (detaching) detach_dev(div);
    			destroy_component(editor);
    		}
    	};

    	dispatch_dev("SvelteRegisterBlock", {
    		block,
    		id: create_if_block_1.name,
    		type: "if",
    		source: "(157:34) ",
    		ctx
    	});

    	return block;
    }

    // (153:4) {#if tabPage === 'config'}
    function create_if_block$2(ctx) {
    	let div;
    	let editor;
    	let updating_text;
    	let updating_updateText;
    	let current;

    	function editor_text_binding(value) {
    		/*editor_text_binding*/ ctx[26](value);
    	}

    	function editor_updateText_binding(value) {
    		/*editor_updateText_binding*/ ctx[27](value);
    	}

    	let editor_props = {
    		class: "editor-container",
    		height: "200px",
    		language: "json"
    	};

    	if (/*skinConfig*/ ctx[1] !== void 0) {
    		editor_props.text = /*skinConfig*/ ctx[1];
    	}

    	if (/*updateSkinConfig*/ ctx[4] !== void 0) {
    		editor_props.updateText = /*updateSkinConfig*/ ctx[4];
    	}

    	editor = new Editor({ props: editor_props, $$inline: true });
    	binding_callbacks.push(() => bind(editor, 'text', editor_text_binding));
    	binding_callbacks.push(() => bind(editor, 'updateText', editor_updateText_binding));

    	const block = {
    		c: function create() {
    			div = element("div");
    			create_component(editor.$$.fragment);
    			attr_dev(div, "class", "editor-config-page");
    			add_location(div, file$1, 153, 8, 5362);
    		},
    		m: function mount(target, anchor) {
    			insert_dev(target, div, anchor);
    			mount_component(editor, div, null);
    			current = true;
    		},
    		p: function update(ctx, dirty) {
    			const editor_changes = {};

    			if (!updating_text && dirty[0] & /*skinConfig*/ 2) {
    				updating_text = true;
    				editor_changes.text = /*skinConfig*/ ctx[1];
    				add_flush_callback(() => updating_text = false);
    			}

    			if (!updating_updateText && dirty[0] & /*updateSkinConfig*/ 16) {
    				updating_updateText = true;
    				editor_changes.updateText = /*updateSkinConfig*/ ctx[4];
    				add_flush_callback(() => updating_updateText = false);
    			}

    			editor.$set(editor_changes);
    		},
    		i: function intro(local) {
    			if (current) return;
    			transition_in(editor.$$.fragment, local);
    			current = true;
    		},
    		o: function outro(local) {
    			transition_out(editor.$$.fragment, local);
    			current = false;
    		},
    		d: function destroy(detaching) {
    			if (detaching) detach_dev(div);
    			destroy_component(editor);
    		}
    	};

    	dispatch_dev("SvelteRegisterBlock", {
    		block,
    		id: create_if_block$2.name,
    		type: "if",
    		source: "(153:4) {#if tabPage === 'config'}",
    		ctx
    	});

    	return block;
    }

    // (169:28) {#each requestedPluginIds as pluginId}
    function create_each_block_2(ctx) {
    	let option;
    	let t_value = /*pluginId*/ ctx[45] + "";
    	let t;
    	let option_value_value;

    	const block = {
    		c: function create() {
    			option = element("option");
    			t = text(t_value);
    			option.__value = option_value_value = /*pluginId*/ ctx[45];
    			option.value = option.__value;
    			add_location(option, file$1, 169, 32, 6229);
    		},
    		m: function mount(target, anchor) {
    			insert_dev(target, option, anchor);
    			append_dev(option, t);
    		},
    		p: function update(ctx, dirty) {
    			if (dirty[0] & /*requestedPluginIds*/ 256 && t_value !== (t_value = /*pluginId*/ ctx[45] + "")) set_data_dev(t, t_value);

    			if (dirty[0] & /*requestedPluginIds*/ 256 && option_value_value !== (option_value_value = /*pluginId*/ ctx[45])) {
    				prop_dev(option, "__value", option_value_value);
    				option.value = option.__value;
    			}
    		},
    		d: function destroy(detaching) {
    			if (detaching) detach_dev(option);
    		}
    	};

    	dispatch_dev("SvelteRegisterBlock", {
    		block,
    		id: create_each_block_2.name,
    		type: "each",
    		source: "(169:28) {#each requestedPluginIds as pluginId}",
    		ctx
    	});

    	return block;
    }

    // (177:28) {#each requestedIconNames as iconName}
    function create_each_block_1(ctx) {
    	let option;
    	let t_value = /*iconName*/ ctx[42] + "";
    	let t;
    	let option_value_value;

    	const block = {
    		c: function create() {
    			option = element("option");
    			t = text(t_value);
    			option.__value = option_value_value = /*iconName*/ ctx[42];
    			option.value = option.__value;
    			add_location(option, file$1, 177, 32, 6662);
    		},
    		m: function mount(target, anchor) {
    			insert_dev(target, option, anchor);
    			append_dev(option, t);
    		},
    		p: function update(ctx, dirty) {
    			if (dirty[0] & /*requestedIconNames*/ 512 && t_value !== (t_value = /*iconName*/ ctx[42] + "")) set_data_dev(t, t_value);

    			if (dirty[0] & /*requestedIconNames*/ 512 && option_value_value !== (option_value_value = /*iconName*/ ctx[42])) {
    				prop_dev(option, "__value", option_value_value);
    				option.value = option.__value;
    			}
    		},
    		d: function destroy(detaching) {
    			if (detaching) detach_dev(option);
    		}
    	};

    	dispatch_dev("SvelteRegisterBlock", {
    		block,
    		id: create_each_block_1.name,
    		type: "each",
    		source: "(177:28) {#each requestedIconNames as iconName}",
    		ctx
    	});

    	return block;
    }

    // (190:20) {#each icons as icon, i}
    function create_each_block(ctx) {
    	let div3;
    	let div0;
    	let label0;
    	let span0;
    	let t1;
    	let input0;
    	let t2;
    	let div1;
    	let label1;
    	let span1;
    	let t4;
    	let input1;
    	let t5;
    	let div2;
    	let label2;
    	let i_1;
    	let raw_value = /*icon*/ ctx[39].icon + "";
    	let t6;
    	let button0;
    	let t8;
    	let button1;
    	let t10;
    	let mounted;
    	let dispose;

    	function input0_input_handler() {
    		/*input0_input_handler*/ ctx[34].call(input0, /*each_value*/ ctx[40], /*i*/ ctx[41]);
    	}

    	function input1_input_handler() {
    		/*input1_input_handler*/ ctx[35].call(input1, /*each_value*/ ctx[40], /*i*/ ctx[41]);
    	}

    	function click_handler_7() {
    		return /*click_handler_7*/ ctx[36](/*icon*/ ctx[39]);
    	}

    	const block = {
    		c: function create() {
    			div3 = element("div");
    			div0 = element("div");
    			label0 = element("label");
    			span0 = element("span");
    			span0.textContent = "Identifier:";
    			t1 = space();
    			input0 = element("input");
    			t2 = space();
    			div1 = element("div");
    			label1 = element("label");
    			span1 = element("span");
    			span1.textContent = "Name:";
    			t4 = space();
    			input1 = element("input");
    			t5 = space();
    			div2 = element("div");
    			label2 = element("label");
    			i_1 = element("i");
    			t6 = space();
    			button0 = element("button");
    			button0.textContent = "Select Icon";
    			t8 = space();
    			button1 = element("button");
    			button1.textContent = "Remove";
    			t10 = space();
    			attr_dev(span0, "class", "svelte-1300nnx");
    			add_location(span0, file$1, 193, 36, 7428);
    			attr_dev(input0, "name", `identifier_${/*i*/ ctx[41]}`);
    			attr_dev(input0, "type", "text");
    			attr_dev(input0, "class", "svelte-1300nnx");
    			add_location(input0, file$1, 194, 36, 7490);
    			add_location(label0, file$1, 192, 32, 7383);
    			add_location(div0, file$1, 191, 28, 7344);
    			attr_dev(span1, "class", "svelte-1300nnx");
    			add_location(span1, file$1, 199, 36, 7754);
    			attr_dev(input1, "name", `name_${/*i*/ ctx[41]}`);
    			attr_dev(input1, "type", "text");
    			attr_dev(input1, "class", "svelte-1300nnx");
    			add_location(input1, file$1, 200, 36, 7810);
    			add_location(label1, file$1, 198, 32, 7709);
    			add_location(div1, file$1, 197, 28, 7670);
    			attr_dev(i_1, "class", "icon-preview svelte-1300nnx");
    			add_location(i_1, file$1, 205, 36, 8093);
    			attr_dev(button0, "class", "svelte-1300nnx");
    			add_location(button0, file$1, 206, 36, 8176);
    			add_location(label2, file$1, 204, 32, 8048);
    			attr_dev(button1, "class", "remove-icon-button svelte-1300nnx");
    			add_location(button1, file$1, 208, 32, 8331);
    			attr_dev(div2, "class", "icon-actions svelte-1300nnx");
    			add_location(div2, file$1, 203, 28, 7988);
    			attr_dev(div3, "class", "skin-icon svelte-1300nnx");
    			add_location(div3, file$1, 190, 24, 7291);
    		},
    		m: function mount(target, anchor) {
    			insert_dev(target, div3, anchor);
    			append_dev(div3, div0);
    			append_dev(div0, label0);
    			append_dev(label0, span0);
    			append_dev(label0, t1);
    			append_dev(label0, input0);
    			set_input_value(input0, /*icon*/ ctx[39].plugin);
    			append_dev(div3, t2);
    			append_dev(div3, div1);
    			append_dev(div1, label1);
    			append_dev(label1, span1);
    			append_dev(label1, t4);
    			append_dev(label1, input1);
    			set_input_value(input1, /*icon*/ ctx[39].identifier);
    			append_dev(div3, t5);
    			append_dev(div3, div2);
    			append_dev(div2, label2);
    			append_dev(label2, i_1);
    			i_1.innerHTML = raw_value;
    			append_dev(label2, t6);
    			append_dev(label2, button0);
    			append_dev(div2, t8);
    			append_dev(div2, button1);
    			append_dev(div3, t10);

    			if (!mounted) {
    				dispose = [
    					listen_dev(input0, "input", input0_input_handler),
    					listen_dev(input1, "input", input1_input_handler),
    					listen_dev(button0, "click", click_handler_7, false, false, false)
    				];

    				mounted = true;
    			}
    		},
    		p: function update(new_ctx, dirty) {
    			ctx = new_ctx;

    			if (dirty[0] & /*icons*/ 8 && input0.value !== /*icon*/ ctx[39].plugin) {
    				set_input_value(input0, /*icon*/ ctx[39].plugin);
    			}

    			if (dirty[0] & /*icons*/ 8 && input1.value !== /*icon*/ ctx[39].identifier) {
    				set_input_value(input1, /*icon*/ ctx[39].identifier);
    			}

    			if (dirty[0] & /*icons*/ 8 && raw_value !== (raw_value = /*icon*/ ctx[39].icon + "")) i_1.innerHTML = raw_value;		},
    		d: function destroy(detaching) {
    			if (detaching) detach_dev(div3);
    			mounted = false;
    			run_all(dispose);
    		}
    	};

    	dispatch_dev("SvelteRegisterBlock", {
    		block,
    		id: create_each_block.name,
    		type: "each",
    		source: "(190:20) {#each icons as icon, i}",
    		ctx
    	});

    	return block;
    }

    function create_fragment$3(ctx) {
    	let sveltemarkdown;
    	let t0;
    	let section0;
    	let player;
    	let updating_paella;
    	let updating_reloadPlayer;
    	let t1;
    	let section1;
    	let ul;
    	let li0;
    	let button0;
    	let li0_class_value;
    	let t3;
    	let li1;
    	let button1;
    	let li1_class_value;
    	let t5;
    	let li2;
    	let button2;
    	let li2_class_value;
    	let t7;
    	let li3;
    	let button3;
    	let t9;
    	let button4;
    	let t11;
    	let current_block_type_index;
    	let if_block;
    	let current;
    	let mounted;
    	let dispose;
    	sveltemarkdown = new SvelteMarkdown({ props: { source }, $$inline: true });

    	function player_paella_binding(value) {
    		/*player_paella_binding*/ ctx[19](value);
    	}

    	function player_reloadPlayer_binding(value) {
    		/*player_reloadPlayer_binding*/ ctx[20](value);
    	}

    	let player_props = { videoId, config, autoplay: true };

    	if (/*paella*/ ctx[6] !== void 0) {
    		player_props.paella = /*paella*/ ctx[6];
    	}

    	if (/*reloadPlayer*/ ctx[7] !== void 0) {
    		player_props.reloadPlayer = /*reloadPlayer*/ ctx[7];
    	}

    	player = new Player({ props: player_props, $$inline: true });
    	binding_callbacks.push(() => bind(player, 'paella', player_paella_binding));
    	binding_callbacks.push(() => bind(player, 'reloadPlayer', player_reloadPlayer_binding));
    	const if_block_creators = [create_if_block$2, create_if_block_1, create_if_block_2];
    	const if_blocks = [];

    	function select_block_type(ctx, dirty) {
    		if (/*tabPage*/ ctx[0] === 'config') return 0;
    		if (/*tabPage*/ ctx[0] === 'style') return 1;
    		if (/*tabPage*/ ctx[0] === 'icons') return 2;
    		return -1;
    	}

    	if (~(current_block_type_index = select_block_type(ctx))) {
    		if_block = if_blocks[current_block_type_index] = if_block_creators[current_block_type_index](ctx);
    	}

    	const block = {
    		c: function create() {
    			create_component(sveltemarkdown.$$.fragment);
    			t0 = space();
    			section0 = element("section");
    			create_component(player.$$.fragment);
    			t1 = space();
    			section1 = element("section");
    			ul = element("ul");
    			li0 = element("li");
    			button0 = element("button");
    			button0.textContent = "Configuration";
    			t3 = space();
    			li1 = element("li");
    			button1 = element("button");
    			button1.textContent = "Style sheet";
    			t5 = space();
    			li2 = element("li");
    			button2 = element("button");
    			button2.textContent = "Icons";
    			t7 = space();
    			li3 = element("li");
    			button3 = element("button");
    			button3.textContent = "Reload Skin";
    			t9 = space();
    			button4 = element("button");
    			button4.textContent = "Download Skin File";
    			t11 = space();
    			if (if_block) if_block.c();
    			attr_dev(section0, "class", "player-section svelte-1300nnx");
    			add_location(section0, file$1, 132, 0, 4431);
    			attr_dev(button0, "class", "svelte-1300nnx");
    			add_location(button0, file$1, 139, 12, 4710);
    			attr_dev(li0, "class", li0_class_value = /*tabPage*/ ctx[0] === 'config' ? 'current' : '');
    			add_location(li0, file$1, 138, 8, 4643);
    			attr_dev(button1, "class", "svelte-1300nnx");
    			add_location(button1, file$1, 142, 12, 4867);
    			attr_dev(li1, "class", li1_class_value = /*tabPage*/ ctx[0] === 'style' ? 'current' : '');
    			add_location(li1, file$1, 141, 8, 4801);
    			attr_dev(button2, "class", "svelte-1300nnx");
    			add_location(button2, file$1, 145, 12, 5021);
    			attr_dev(li2, "class", li2_class_value = /*tabPage*/ ctx[0] === 'icons' ? 'current' : '');
    			add_location(li2, file$1, 144, 8, 4955);
    			attr_dev(button3, "class", "svelte-1300nnx");
    			add_location(button3, file$1, 148, 12, 5155);
    			attr_dev(button4, "class", "svelte-1300nnx");
    			add_location(button4, file$1, 149, 12, 5226);
    			attr_dev(li3, "class", "tools svelte-1300nnx");
    			add_location(li3, file$1, 147, 8, 5123);
    			attr_dev(ul, "class", "svelte-1300nnx");
    			add_location(ul, file$1, 137, 4, 4629);
    			attr_dev(section1, "class", "editor-section svelte-1300nnx");
    			add_location(section1, file$1, 136, 0, 4591);
    		},
    		l: function claim(nodes) {
    			throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option");
    		},
    		m: function mount(target, anchor) {
    			mount_component(sveltemarkdown, target, anchor);
    			insert_dev(target, t0, anchor);
    			insert_dev(target, section0, anchor);
    			mount_component(player, section0, null);
    			insert_dev(target, t1, anchor);
    			insert_dev(target, section1, anchor);
    			append_dev(section1, ul);
    			append_dev(ul, li0);
    			append_dev(li0, button0);
    			append_dev(ul, t3);
    			append_dev(ul, li1);
    			append_dev(li1, button1);
    			append_dev(ul, t5);
    			append_dev(ul, li2);
    			append_dev(li2, button2);
    			append_dev(ul, t7);
    			append_dev(ul, li3);
    			append_dev(li3, button3);
    			append_dev(li3, t9);
    			append_dev(li3, button4);
    			append_dev(section1, t11);

    			if (~current_block_type_index) {
    				if_blocks[current_block_type_index].m(section1, null);
    			}

    			current = true;

    			if (!mounted) {
    				dispose = [
    					listen_dev(button0, "click", /*click_handler*/ ctx[21], false, false, false),
    					listen_dev(button1, "click", /*click_handler_1*/ ctx[22], false, false, false),
    					listen_dev(button2, "click", /*click_handler_2*/ ctx[23], false, false, false),
    					listen_dev(button3, "click", /*click_handler_3*/ ctx[24], false, false, false),
    					listen_dev(button4, "click", /*click_handler_4*/ ctx[25], false, false, false)
    				];

    				mounted = true;
    			}
    		},
    		p: function update(ctx, dirty) {
    			const player_changes = {};

    			if (!updating_paella && dirty[0] & /*paella*/ 64) {
    				updating_paella = true;
    				player_changes.paella = /*paella*/ ctx[6];
    				add_flush_callback(() => updating_paella = false);
    			}

    			if (!updating_reloadPlayer && dirty[0] & /*reloadPlayer*/ 128) {
    				updating_reloadPlayer = true;
    				player_changes.reloadPlayer = /*reloadPlayer*/ ctx[7];
    				add_flush_callback(() => updating_reloadPlayer = false);
    			}

    			player.$set(player_changes);

    			if (!current || dirty[0] & /*tabPage*/ 1 && li0_class_value !== (li0_class_value = /*tabPage*/ ctx[0] === 'config' ? 'current' : '')) {
    				attr_dev(li0, "class", li0_class_value);
    			}

    			if (!current || dirty[0] & /*tabPage*/ 1 && li1_class_value !== (li1_class_value = /*tabPage*/ ctx[0] === 'style' ? 'current' : '')) {
    				attr_dev(li1, "class", li1_class_value);
    			}

    			if (!current || dirty[0] & /*tabPage*/ 1 && li2_class_value !== (li2_class_value = /*tabPage*/ ctx[0] === 'icons' ? 'current' : '')) {
    				attr_dev(li2, "class", li2_class_value);
    			}

    			let previous_block_index = current_block_type_index;
    			current_block_type_index = select_block_type(ctx);

    			if (current_block_type_index === previous_block_index) {
    				if (~current_block_type_index) {
    					if_blocks[current_block_type_index].p(ctx, dirty);
    				}
    			} else {
    				if (if_block) {
    					group_outros();

    					transition_out(if_blocks[previous_block_index], 1, 1, () => {
    						if_blocks[previous_block_index] = null;
    					});

    					check_outros();
    				}

    				if (~current_block_type_index) {
    					if_block = if_blocks[current_block_type_index];

    					if (!if_block) {
    						if_block = if_blocks[current_block_type_index] = if_block_creators[current_block_type_index](ctx);
    						if_block.c();
    					} else {
    						if_block.p(ctx, dirty);
    					}

    					transition_in(if_block, 1);
    					if_block.m(section1, null);
    				} else {
    					if_block = null;
    				}
    			}
    		},
    		i: function intro(local) {
    			if (current) return;
    			transition_in(sveltemarkdown.$$.fragment, local);
    			transition_in(player.$$.fragment, local);
    			transition_in(if_block);
    			current = true;
    		},
    		o: function outro(local) {
    			transition_out(sveltemarkdown.$$.fragment, local);
    			transition_out(player.$$.fragment, local);
    			transition_out(if_block);
    			current = false;
    		},
    		d: function destroy(detaching) {
    			destroy_component(sveltemarkdown, detaching);
    			if (detaching) detach_dev(t0);
    			if (detaching) detach_dev(section0);
    			destroy_component(player);
    			if (detaching) detach_dev(t1);
    			if (detaching) detach_dev(section1);

    			if (~current_block_type_index) {
    				if_blocks[current_block_type_index].d();
    			}

    			mounted = false;
    			run_all(dispose);
    		}
    	};

    	dispatch_dev("SvelteRegisterBlock", {
    		block,
    		id: create_fragment$3.name,
    		type: "component",
    		source: "",
    		ctx
    	});

    	return block;
    }

    const videoId = 'belmar-multiresolution-remote';

    function instance$3($$self, $$props, $$invalidate) {
    	let { $$slots: slots = {}, $$scope } = $$props;
    	validate_slots('Skin', slots, []);
    	let tabPage = 'config';
    	let skinConfig = "{}";
    	let skinStyle = "";

    	let icons = [
    		{
    			plugin: "es.upv.paella.playPauseButton",
    			identifier: "play",
    			icon: `<svg width="16" height="20" viewBox="0 0 16 20" xmlns="http://www.w3.org/2000/svg">
    <path fill-rule="evenodd" clip-rule="evenodd" d="M0.520812 0.122289C0.841885 -0.0530018 1.23305 -0.0389906 1.54076 0.158822L15.5408 9.15882C15.827 9.34282 16 9.65974 16 10C16 10.3403 15.827 10.6572 15.5408 10.8412L1.54076 19.8412C1.23305 20.039 0.841885 20.053 0.520812 19.8777C0.199739 19.7024 0 19.3658 0 19V1C0 0.634194 0.199739 0.297579 0.520812 0.122289ZM2 2.83167V17.1683L13.1507 10L2 2.83167Z" />
</svg>`
    		},
    		{
    			plugin: "es.upv.paella.playPauseButton",
    			identifier: "pause",
    			icon: `<svg width="100%" height="100%" viewBox="0 0 24 22" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421;">
    <g id="pause" transform="matrix(1,0,0,0.956522,-48,-7.65217)">
        <path d="M64,8L72,8L72,31L64,31L64,8ZM48,8L56,8L56,31L48,31L48,8Z"/>
    </g>
</svg>
`
    		}
    	];

    	let updateSkinConfig;
    	let updateSkinStyle;
    	let paella;
    	let reloadPlayer;
    	let requestedIcons = [];
    	let requestedPluginIds = [];
    	let requestedIconNames = [];
    	let selectedPluginId = "";
    	let selectedIconName = "";
    	let selectedIcon = "";

    	function getSkin() {
    		const skin = {
    			styleSheets: [],
    			configOverrides: JSON.parse(skinConfig),
    			icons
    		};

    		if (!(/^[\s\n]*$/).test(skinStyle)) {
    			skin.styleSheets.push(skinStyle);
    		}

    		return skin;
    	}

    	async function loadSkin() {
    		const skin = getSkin();
    		reloadPlayer(skin);
    	}

    	function selectIconImage(icon) {
    		const input = document.createElement('input');
    		input.type = "file";
    		input.accept = "image/svg";

    		input.onchange = async evt => {
    			const file = evt.target.files[0];

    			if (icon !== null) {
    				icon.icon = await file.text();
    				$$invalidate(3, icons);
    			} else {
    				$$invalidate(12, selectedIcon = await file.text());
    			}
    		};

    		input.click();
    	}

    	function addIcon() {
    		$$invalidate(3, icons = [
    			{
    				plugin: selectedPluginId,
    				identifier: selectedIconName,
    				icon: selectedIcon
    			},
    			...icons
    		]);

    		$$invalidate(11, selectedIconName = "");
    		$$invalidate(12, selectedIcon = "");
    	}

    	function reloadIcons() {
    		requestedIcons = paella.requestedCustomIcons;
    		const ids = [];

    		$$invalidate(8, requestedPluginIds = requestedIcons.filter(iconData => {
    			if (ids.indexOf(iconData.pluginName) === -1) {
    				ids.push(iconData.pluginName);
    				return true;
    			}
    		}).map(({ pluginName }) => pluginName));

    		console.log(requestedPluginIds);
    	}

    	function loadIconNames(evt) {
    		$$invalidate(10, selectedPluginId = evt.target.value);
    		$$invalidate(9, requestedIconNames = requestedIcons.filter(iconData => iconData.pluginName === selectedPluginId).map(({ iconName }) => iconName));
    	}

    	function downloadSkin() {
    		const blob = new Blob([JSON.stringify(getSkin(), "", "\t")], { type: 'application/json' });
    		const elem = window.document.createElement('a');
    		elem.href = window.URL.createObjectURL(blob);
    		elem.download = "skin.json";
    		document.body.appendChild(elem);
    		elem.click();
    		document.body.removeChild(elem);
    	}

    	onMount(() => {
    		paella.bindEvent(paella.Events.LOADED, () => {
    			reloadIcons();
    		});
    	});

    	const writable_props = [];

    	Object.keys($$props).forEach(key => {
    		if (!~writable_props.indexOf(key) && key.slice(0, 2) !== '$$' && key !== 'slot') console_1$1.warn(`<Skin> was created with unknown prop '${key}'`);
    	});

    	function player_paella_binding(value) {
    		paella = value;
    		$$invalidate(6, paella);
    	}

    	function player_reloadPlayer_binding(value) {
    		reloadPlayer = value;
    		$$invalidate(7, reloadPlayer);
    	}

    	const click_handler = () => $$invalidate(0, tabPage = 'config');
    	const click_handler_1 = () => $$invalidate(0, tabPage = 'style');

    	const click_handler_2 = () => {
    		$$invalidate(0, tabPage = 'icons');
    		reloadIcons();
    	};

    	const click_handler_3 = () => loadSkin();
    	const click_handler_4 = () => downloadSkin();

    	function editor_text_binding(value) {
    		skinConfig = value;
    		$$invalidate(1, skinConfig);
    	}

    	function editor_updateText_binding(value) {
    		updateSkinConfig = value;
    		$$invalidate(4, updateSkinConfig);
    	}

    	function editor_text_binding_1(value) {
    		skinStyle = value;
    		$$invalidate(2, skinStyle);
    	}

    	function editor_updateText_binding_1(value) {
    		updateSkinStyle = value;
    		$$invalidate(5, updateSkinStyle);
    	}

    	const change_handler = evt => loadIconNames(evt);
    	const change_handler_1 = evt => $$invalidate(11, selectedIconName = evt.target.value);
    	const click_handler_5 = async () => await selectIconImage(null);
    	const click_handler_6 = () => addIcon();

    	function input0_input_handler(each_value, i) {
    		each_value[i].plugin = this.value;
    		$$invalidate(3, icons);
    	}

    	function input1_input_handler(each_value, i) {
    		each_value[i].identifier = this.value;
    		$$invalidate(3, icons);
    	}

    	const click_handler_7 = async icon => await selectIconImage(icon);

    	$$self.$capture_state = () => ({
    		SvelteMarkdown,
    		source,
    		Player,
    		onDestroy,
    		onMount,
    		config,
    		Editor,
    		videoId,
    		tabPage,
    		skinConfig,
    		skinStyle,
    		icons,
    		updateSkinConfig,
    		updateSkinStyle,
    		paella,
    		reloadPlayer,
    		requestedIcons,
    		requestedPluginIds,
    		requestedIconNames,
    		selectedPluginId,
    		selectedIconName,
    		selectedIcon,
    		getSkin,
    		loadSkin,
    		selectIconImage,
    		addIcon,
    		reloadIcons,
    		loadIconNames,
    		downloadSkin
    	});

    	$$self.$inject_state = $$props => {
    		if ('tabPage' in $$props) $$invalidate(0, tabPage = $$props.tabPage);
    		if ('skinConfig' in $$props) $$invalidate(1, skinConfig = $$props.skinConfig);
    		if ('skinStyle' in $$props) $$invalidate(2, skinStyle = $$props.skinStyle);
    		if ('icons' in $$props) $$invalidate(3, icons = $$props.icons);
    		if ('updateSkinConfig' in $$props) $$invalidate(4, updateSkinConfig = $$props.updateSkinConfig);
    		if ('updateSkinStyle' in $$props) $$invalidate(5, updateSkinStyle = $$props.updateSkinStyle);
    		if ('paella' in $$props) $$invalidate(6, paella = $$props.paella);
    		if ('reloadPlayer' in $$props) $$invalidate(7, reloadPlayer = $$props.reloadPlayer);
    		if ('requestedIcons' in $$props) requestedIcons = $$props.requestedIcons;
    		if ('requestedPluginIds' in $$props) $$invalidate(8, requestedPluginIds = $$props.requestedPluginIds);
    		if ('requestedIconNames' in $$props) $$invalidate(9, requestedIconNames = $$props.requestedIconNames);
    		if ('selectedPluginId' in $$props) $$invalidate(10, selectedPluginId = $$props.selectedPluginId);
    		if ('selectedIconName' in $$props) $$invalidate(11, selectedIconName = $$props.selectedIconName);
    		if ('selectedIcon' in $$props) $$invalidate(12, selectedIcon = $$props.selectedIcon);
    	};

    	if ($$props && "$$inject" in $$props) {
    		$$self.$inject_state($$props.$$inject);
    	}

    	return [
    		tabPage,
    		skinConfig,
    		skinStyle,
    		icons,
    		updateSkinConfig,
    		updateSkinStyle,
    		paella,
    		reloadPlayer,
    		requestedPluginIds,
    		requestedIconNames,
    		selectedPluginId,
    		selectedIconName,
    		selectedIcon,
    		loadSkin,
    		selectIconImage,
    		addIcon,
    		reloadIcons,
    		loadIconNames,
    		downloadSkin,
    		player_paella_binding,
    		player_reloadPlayer_binding,
    		click_handler,
    		click_handler_1,
    		click_handler_2,
    		click_handler_3,
    		click_handler_4,
    		editor_text_binding,
    		editor_updateText_binding,
    		editor_text_binding_1,
    		editor_updateText_binding_1,
    		change_handler,
    		change_handler_1,
    		click_handler_5,
    		click_handler_6,
    		input0_input_handler,
    		input1_input_handler,
    		click_handler_7
    	];
    }

    class Skin extends SvelteComponentDev {
    	constructor(options) {
    		super(options);
    		init$1(this, options, instance$3, create_fragment$3, safe_not_equal, {}, null, [-1, -1]);

    		dispatch_dev("SvelteRegisterComponent", {
    			component: this,
    			tagName: "Skin",
    			options,
    			id: create_fragment$3.name
    		});
    	}
    }

    /**
     * @typedef {Object} WrappedComponent Object returned by the `wrap` method
     * @property {SvelteComponent} component - Component to load (this is always asynchronous)
     * @property {RoutePrecondition[]} [conditions] - Route pre-conditions to validate
     * @property {Object} [props] - Optional dictionary of static props
     * @property {Object} [userData] - Optional user data dictionary
     * @property {bool} _sveltesparouter - Internal flag; always set to true
     */

    /**
     * @callback AsyncSvelteComponent
     * @returns {Promise<SvelteComponent>} Returns a Promise that resolves with a Svelte component
     */

    /**
     * @callback RoutePrecondition
     * @param {RouteDetail} detail - Route detail object
     * @returns {boolean|Promise<boolean>} If the callback returns a false-y value, it's interpreted as the precondition failed, so it aborts loading the component (and won't process other pre-condition callbacks)
     */

    /**
     * @typedef {Object} WrapOptions Options object for the call to `wrap`
     * @property {SvelteComponent} [component] - Svelte component to load (this is incompatible with `asyncComponent`)
     * @property {AsyncSvelteComponent} [asyncComponent] - Function that returns a Promise that fulfills with a Svelte component (e.g. `{asyncComponent: () => import('Foo.svelte')}`)
     * @property {SvelteComponent} [loadingComponent] - Svelte component to be displayed while the async route is loading (as a placeholder); when unset or false-y, no component is shown while component
     * @property {object} [loadingParams] - Optional dictionary passed to the `loadingComponent` component as params (for an exported prop called `params`)
     * @property {object} [userData] - Optional object that will be passed to events such as `routeLoading`, `routeLoaded`, `conditionsFailed`
     * @property {object} [props] - Optional key-value dictionary of static props that will be passed to the component. The props are expanded with {...props}, so the key in the dictionary becomes the name of the prop.
     * @property {RoutePrecondition[]|RoutePrecondition} [conditions] - Route pre-conditions to add, which will be executed in order
     */

    /**
     * Wraps a component to enable multiple capabilities:
     * 1. Using dynamically-imported component, with (e.g. `{asyncComponent: () => import('Foo.svelte')}`), which also allows bundlers to do code-splitting.
     * 2. Adding route pre-conditions (e.g. `{conditions: [...]}`)
     * 3. Adding static props that are passed to the component
     * 4. Adding custom userData, which is passed to route events (e.g. route loaded events) or to route pre-conditions (e.g. `{userData: {foo: 'bar}}`)
     * 
     * @param {WrapOptions} args - Arguments object
     * @returns {WrappedComponent} Wrapped component
     */
    function wrap$1(args) {
        if (!args) {
            throw Error('Parameter args is required')
        }

        // We need to have one and only one of component and asyncComponent
        // This does a "XNOR"
        if (!args.component == !args.asyncComponent) {
            throw Error('One and only one of component and asyncComponent is required')
        }

        // If the component is not async, wrap it into a function returning a Promise
        if (args.component) {
            args.asyncComponent = () => Promise.resolve(args.component);
        }

        // Parameter asyncComponent and each item of conditions must be functions
        if (typeof args.asyncComponent != 'function') {
            throw Error('Parameter asyncComponent must be a function')
        }
        if (args.conditions) {
            // Ensure it's an array
            if (!Array.isArray(args.conditions)) {
                args.conditions = [args.conditions];
            }
            for (let i = 0; i < args.conditions.length; i++) {
                if (!args.conditions[i] || typeof args.conditions[i] != 'function') {
                    throw Error('Invalid parameter conditions[' + i + ']')
                }
            }
        }

        // Check if we have a placeholder component
        if (args.loadingComponent) {
            args.asyncComponent.loading = args.loadingComponent;
            args.asyncComponent.loadingParams = args.loadingParams || undefined;
        }

        // Returns an object that contains all the functions to execute too
        // The _sveltesparouter flag is to confirm the object was created by this router
        const obj = {
            component: args.asyncComponent,
            userData: args.userData,
            conditions: (args.conditions && args.conditions.length) ? args.conditions : undefined,
            props: (args.props && Object.keys(args.props).length) ? args.props : {},
            _sveltesparouter: true
        };

        return obj
    }

    const subscriber_queue = [];
    /**
     * Creates a `Readable` store that allows reading by subscription.
     * @param value initial value
     * @param {StartStopNotifier}start start and stop notifications for subscriptions
     */
    function readable(value, start) {
        return {
            subscribe: writable(value, start).subscribe
        };
    }
    /**
     * Create a `Writable` store that allows both updating and reading by subscription.
     * @param {*=}value initial value
     * @param {StartStopNotifier=}start start and stop notifications for subscriptions
     */
    function writable(value, start = noop) {
        let stop;
        const subscribers = new Set();
        function set(new_value) {
            if (safe_not_equal(value, new_value)) {
                value = new_value;
                if (stop) { // store is ready
                    const run_queue = !subscriber_queue.length;
                    for (const subscriber of subscribers) {
                        subscriber[1]();
                        subscriber_queue.push(subscriber, value);
                    }
                    if (run_queue) {
                        for (let i = 0; i < subscriber_queue.length; i += 2) {
                            subscriber_queue[i][0](subscriber_queue[i + 1]);
                        }
                        subscriber_queue.length = 0;
                    }
                }
            }
        }
        function update(fn) {
            set(fn(value));
        }
        function subscribe(run, invalidate = noop) {
            const subscriber = [run, invalidate];
            subscribers.add(subscriber);
            if (subscribers.size === 1) {
                stop = start(set) || noop;
            }
            run(value);
            return () => {
                subscribers.delete(subscriber);
                if (subscribers.size === 0) {
                    stop();
                    stop = null;
                }
            };
        }
        return { set, update, subscribe };
    }
    function derived(stores, fn, initial_value) {
        const single = !Array.isArray(stores);
        const stores_array = single
            ? [stores]
            : stores;
        const auto = fn.length < 2;
        return readable(initial_value, (set) => {
            let inited = false;
            const values = [];
            let pending = 0;
            let cleanup = noop;
            const sync = () => {
                if (pending) {
                    return;
                }
                cleanup();
                const result = fn(single ? values[0] : values, set);
                if (auto) {
                    set(result);
                }
                else {
                    cleanup = is_function(result) ? result : noop;
                }
            };
            const unsubscribers = stores_array.map((store, i) => subscribe(store, (value) => {
                values[i] = value;
                pending &= ~(1 << i);
                if (inited) {
                    sync();
                }
            }, () => {
                pending |= (1 << i);
            }));
            inited = true;
            sync();
            return function stop() {
                run_all(unsubscribers);
                cleanup();
            };
        });
    }

    function parse(str, loose) {
    	if (str instanceof RegExp) return { keys:false, pattern:str };
    	var c, o, tmp, ext, keys=[], pattern='', arr = str.split('/');
    	arr[0] || arr.shift();

    	while (tmp = arr.shift()) {
    		c = tmp[0];
    		if (c === '*') {
    			keys.push('wild');
    			pattern += '/(.*)';
    		} else if (c === ':') {
    			o = tmp.indexOf('?', 1);
    			ext = tmp.indexOf('.', 1);
    			keys.push( tmp.substring(1, !!~o ? o : !!~ext ? ext : tmp.length) );
    			pattern += !!~o && !~ext ? '(?:/([^/]+?))?' : '/([^/]+?)';
    			if (!!~ext) pattern += (!!~o ? '?' : '') + '\\' + tmp.substring(ext);
    		} else {
    			pattern += '/' + tmp;
    		}
    	}

    	return {
    		keys: keys,
    		pattern: new RegExp('^' + pattern + (loose ? '(?=$|\/)' : '\/?$'), 'i')
    	};
    }

    /* node_modules\svelte-spa-router\Router.svelte generated by Svelte v3.52.0 */

    const { Error: Error_1, Object: Object_1, console: console_1 } = globals;

    // (267:0) {:else}
    function create_else_block(ctx) {
    	let switch_instance;
    	let switch_instance_anchor;
    	let current;
    	const switch_instance_spread_levels = [/*props*/ ctx[2]];
    	var switch_value = /*component*/ ctx[0];

    	function switch_props(ctx) {
    		let switch_instance_props = {};

    		for (let i = 0; i < switch_instance_spread_levels.length; i += 1) {
    			switch_instance_props = assign(switch_instance_props, switch_instance_spread_levels[i]);
    		}

    		return {
    			props: switch_instance_props,
    			$$inline: true
    		};
    	}

    	if (switch_value) {
    		switch_instance = construct_svelte_component_dev(switch_value, switch_props());
    		switch_instance.$on("routeEvent", /*routeEvent_handler_1*/ ctx[7]);
    	}

    	const block = {
    		c: function create() {
    			if (switch_instance) create_component(switch_instance.$$.fragment);
    			switch_instance_anchor = empty();
    		},
    		m: function mount(target, anchor) {
    			if (switch_instance) mount_component(switch_instance, target, anchor);
    			insert_dev(target, switch_instance_anchor, anchor);
    			current = true;
    		},
    		p: function update(ctx, dirty) {
    			const switch_instance_changes = (dirty & /*props*/ 4)
    			? get_spread_update(switch_instance_spread_levels, [get_spread_object(/*props*/ ctx[2])])
    			: {};

    			if (switch_value !== (switch_value = /*component*/ ctx[0])) {
    				if (switch_instance) {
    					group_outros();
    					const old_component = switch_instance;

    					transition_out(old_component.$$.fragment, 1, 0, () => {
    						destroy_component(old_component, 1);
    					});

    					check_outros();
    				}

    				if (switch_value) {
    					switch_instance = construct_svelte_component_dev(switch_value, switch_props());
    					switch_instance.$on("routeEvent", /*routeEvent_handler_1*/ ctx[7]);
    					create_component(switch_instance.$$.fragment);
    					transition_in(switch_instance.$$.fragment, 1);
    					mount_component(switch_instance, switch_instance_anchor.parentNode, switch_instance_anchor);
    				} else {
    					switch_instance = null;
    				}
    			} else if (switch_value) {
    				switch_instance.$set(switch_instance_changes);
    			}
    		},
    		i: function intro(local) {
    			if (current) return;
    			if (switch_instance) transition_in(switch_instance.$$.fragment, local);
    			current = true;
    		},
    		o: function outro(local) {
    			if (switch_instance) transition_out(switch_instance.$$.fragment, local);
    			current = false;
    		},
    		d: function destroy(detaching) {
    			if (detaching) detach_dev(switch_instance_anchor);
    			if (switch_instance) destroy_component(switch_instance, detaching);
    		}
    	};

    	dispatch_dev("SvelteRegisterBlock", {
    		block,
    		id: create_else_block.name,
    		type: "else",
    		source: "(267:0) {:else}",
    		ctx
    	});

    	return block;
    }

    // (260:0) {#if componentParams}
    function create_if_block$1(ctx) {
    	let switch_instance;
    	let switch_instance_anchor;
    	let current;
    	const switch_instance_spread_levels = [{ params: /*componentParams*/ ctx[1] }, /*props*/ ctx[2]];
    	var switch_value = /*component*/ ctx[0];

    	function switch_props(ctx) {
    		let switch_instance_props = {};

    		for (let i = 0; i < switch_instance_spread_levels.length; i += 1) {
    			switch_instance_props = assign(switch_instance_props, switch_instance_spread_levels[i]);
    		}

    		return {
    			props: switch_instance_props,
    			$$inline: true
    		};
    	}

    	if (switch_value) {
    		switch_instance = construct_svelte_component_dev(switch_value, switch_props());
    		switch_instance.$on("routeEvent", /*routeEvent_handler*/ ctx[6]);
    	}

    	const block = {
    		c: function create() {
    			if (switch_instance) create_component(switch_instance.$$.fragment);
    			switch_instance_anchor = empty();
    		},
    		m: function mount(target, anchor) {
    			if (switch_instance) mount_component(switch_instance, target, anchor);
    			insert_dev(target, switch_instance_anchor, anchor);
    			current = true;
    		},
    		p: function update(ctx, dirty) {
    			const switch_instance_changes = (dirty & /*componentParams, props*/ 6)
    			? get_spread_update(switch_instance_spread_levels, [
    					dirty & /*componentParams*/ 2 && { params: /*componentParams*/ ctx[1] },
    					dirty & /*props*/ 4 && get_spread_object(/*props*/ ctx[2])
    				])
    			: {};

    			if (switch_value !== (switch_value = /*component*/ ctx[0])) {
    				if (switch_instance) {
    					group_outros();
    					const old_component = switch_instance;

    					transition_out(old_component.$$.fragment, 1, 0, () => {
    						destroy_component(old_component, 1);
    					});

    					check_outros();
    				}

    				if (switch_value) {
    					switch_instance = construct_svelte_component_dev(switch_value, switch_props());
    					switch_instance.$on("routeEvent", /*routeEvent_handler*/ ctx[6]);
    					create_component(switch_instance.$$.fragment);
    					transition_in(switch_instance.$$.fragment, 1);
    					mount_component(switch_instance, switch_instance_anchor.parentNode, switch_instance_anchor);
    				} else {
    					switch_instance = null;
    				}
    			} else if (switch_value) {
    				switch_instance.$set(switch_instance_changes);
    			}
    		},
    		i: function intro(local) {
    			if (current) return;
    			if (switch_instance) transition_in(switch_instance.$$.fragment, local);
    			current = true;
    		},
    		o: function outro(local) {
    			if (switch_instance) transition_out(switch_instance.$$.fragment, local);
    			current = false;
    		},
    		d: function destroy(detaching) {
    			if (detaching) detach_dev(switch_instance_anchor);
    			if (switch_instance) destroy_component(switch_instance, detaching);
    		}
    	};

    	dispatch_dev("SvelteRegisterBlock", {
    		block,
    		id: create_if_block$1.name,
    		type: "if",
    		source: "(260:0) {#if componentParams}",
    		ctx
    	});

    	return block;
    }

    function create_fragment$2(ctx) {
    	let current_block_type_index;
    	let if_block;
    	let if_block_anchor;
    	let current;
    	const if_block_creators = [create_if_block$1, create_else_block];
    	const if_blocks = [];

    	function select_block_type(ctx, dirty) {
    		if (/*componentParams*/ ctx[1]) return 0;
    		return 1;
    	}

    	current_block_type_index = select_block_type(ctx);
    	if_block = if_blocks[current_block_type_index] = if_block_creators[current_block_type_index](ctx);

    	const block = {
    		c: function create() {
    			if_block.c();
    			if_block_anchor = empty();
    		},
    		l: function claim(nodes) {
    			throw new Error_1("options.hydrate only works if the component was compiled with the `hydratable: true` option");
    		},
    		m: function mount(target, anchor) {
    			if_blocks[current_block_type_index].m(target, anchor);
    			insert_dev(target, if_block_anchor, anchor);
    			current = true;
    		},
    		p: function update(ctx, [dirty]) {
    			let previous_block_index = current_block_type_index;
    			current_block_type_index = select_block_type(ctx);

    			if (current_block_type_index === previous_block_index) {
    				if_blocks[current_block_type_index].p(ctx, dirty);
    			} else {
    				group_outros();

    				transition_out(if_blocks[previous_block_index], 1, 1, () => {
    					if_blocks[previous_block_index] = null;
    				});

    				check_outros();
    				if_block = if_blocks[current_block_type_index];

    				if (!if_block) {
    					if_block = if_blocks[current_block_type_index] = if_block_creators[current_block_type_index](ctx);
    					if_block.c();
    				} else {
    					if_block.p(ctx, dirty);
    				}

    				transition_in(if_block, 1);
    				if_block.m(if_block_anchor.parentNode, if_block_anchor);
    			}
    		},
    		i: function intro(local) {
    			if (current) return;
    			transition_in(if_block);
    			current = true;
    		},
    		o: function outro(local) {
    			transition_out(if_block);
    			current = false;
    		},
    		d: function destroy(detaching) {
    			if_blocks[current_block_type_index].d(detaching);
    			if (detaching) detach_dev(if_block_anchor);
    		}
    	};

    	dispatch_dev("SvelteRegisterBlock", {
    		block,
    		id: create_fragment$2.name,
    		type: "component",
    		source: "",
    		ctx
    	});

    	return block;
    }

    function wrap(component, userData, ...conditions) {
    	// Use the new wrap method and show a deprecation warning
    	// eslint-disable-next-line no-console
    	console.warn('Method `wrap` from `svelte-spa-router` is deprecated and will be removed in a future version. Please use `svelte-spa-router/wrap` instead. See http://bit.ly/svelte-spa-router-upgrading');

    	return wrap$1({ component, userData, conditions });
    }

    /**
     * @typedef {Object} Location
     * @property {string} location - Location (page/view), for example `/book`
     * @property {string} [querystring] - Querystring from the hash, as a string not parsed
     */
    /**
     * Returns the current location from the hash.
     *
     * @returns {Location} Location object
     * @private
     */
    function getLocation() {
    	const hashPosition = window.location.href.indexOf('#/');

    	let location = hashPosition > -1
    	? window.location.href.substr(hashPosition + 1)
    	: '/';

    	// Check if there's a querystring
    	const qsPosition = location.indexOf('?');

    	let querystring = '';

    	if (qsPosition > -1) {
    		querystring = location.substr(qsPosition + 1);
    		location = location.substr(0, qsPosition);
    	}

    	return { location, querystring };
    }

    const loc = readable(null, // eslint-disable-next-line prefer-arrow-callback
    function start(set) {
    	set(getLocation());

    	const update = () => {
    		set(getLocation());
    	};

    	window.addEventListener('hashchange', update, false);

    	return function stop() {
    		window.removeEventListener('hashchange', update, false);
    	};
    });

    const location$1 = derived(loc, $loc => $loc.location);
    const querystring = derived(loc, $loc => $loc.querystring);
    const params = writable(undefined);

    async function push(location) {
    	if (!location || location.length < 1 || location.charAt(0) != '/' && location.indexOf('#/') !== 0) {
    		throw Error('Invalid parameter location');
    	}

    	// Execute this code when the current call stack is complete
    	await tick();

    	// Note: this will include scroll state in history even when restoreScrollState is false
    	history.replaceState(
    		{
    			...history.state,
    			__svelte_spa_router_scrollX: window.scrollX,
    			__svelte_spa_router_scrollY: window.scrollY
    		},
    		undefined
    	);

    	window.location.hash = (location.charAt(0) == '#' ? '' : '#') + location;
    }

    async function pop() {
    	// Execute this code when the current call stack is complete
    	await tick();

    	window.history.back();
    }

    async function replace(location) {
    	if (!location || location.length < 1 || location.charAt(0) != '/' && location.indexOf('#/') !== 0) {
    		throw Error('Invalid parameter location');
    	}

    	// Execute this code when the current call stack is complete
    	await tick();

    	const dest = (location.charAt(0) == '#' ? '' : '#') + location;

    	try {
    		const newState = { ...history.state };
    		delete newState['__svelte_spa_router_scrollX'];
    		delete newState['__svelte_spa_router_scrollY'];
    		window.history.replaceState(newState, undefined, dest);
    	} catch(e) {
    		// eslint-disable-next-line no-console
    		console.warn('Caught exception while replacing the current page. If you\'re running this in the Svelte REPL, please note that the `replace` method might not work in this environment.');
    	}

    	// The method above doesn't trigger the hashchange event, so let's do that manually
    	window.dispatchEvent(new Event('hashchange'));
    }

    function link(node, opts) {
    	opts = linkOpts(opts);

    	// Only apply to <a> tags
    	if (!node || !node.tagName || node.tagName.toLowerCase() != 'a') {
    		throw Error('Action "link" can only be used with <a> tags');
    	}

    	updateLink(node, opts);

    	return {
    		update(updated) {
    			updated = linkOpts(updated);
    			updateLink(node, updated);
    		}
    	};
    }

    function restoreScroll(state) {
    	// If this exists, then this is a back navigation: restore the scroll position
    	if (state) {
    		window.scrollTo(state.__svelte_spa_router_scrollX, state.__svelte_spa_router_scrollY);
    	} else {
    		// Otherwise this is a forward navigation: scroll to top
    		window.scrollTo(0, 0);
    	}
    }

    // Internal function used by the link function
    function updateLink(node, opts) {
    	let href = opts.href || node.getAttribute('href');

    	// Destination must start with '/' or '#/'
    	if (href && href.charAt(0) == '/') {
    		// Add # to the href attribute
    		href = '#' + href;
    	} else if (!href || href.length < 2 || href.slice(0, 2) != '#/') {
    		throw Error('Invalid value for "href" attribute: ' + href);
    	}

    	node.setAttribute('href', href);

    	node.addEventListener('click', event => {
    		// Prevent default anchor onclick behaviour
    		event.preventDefault();

    		if (!opts.disabled) {
    			scrollstateHistoryHandler(event.currentTarget.getAttribute('href'));
    		}
    	});
    }

    // Internal function that ensures the argument of the link action is always an object
    function linkOpts(val) {
    	if (val && typeof val == 'string') {
    		return { href: val };
    	} else {
    		return val || {};
    	}
    }

    /**
     * The handler attached to an anchor tag responsible for updating the
     * current history state with the current scroll state
     *
     * @param {string} href - Destination
     */
    function scrollstateHistoryHandler(href) {
    	// Setting the url (3rd arg) to href will break clicking for reasons, so don't try to do that
    	history.replaceState(
    		{
    			...history.state,
    			__svelte_spa_router_scrollX: window.scrollX,
    			__svelte_spa_router_scrollY: window.scrollY
    		},
    		undefined
    	);

    	// This will force an update as desired, but this time our scroll state will be attached
    	window.location.hash = href;
    }

    function instance$2($$self, $$props, $$invalidate) {
    	let { $$slots: slots = {}, $$scope } = $$props;
    	validate_slots('Router', slots, []);
    	let { routes = {} } = $$props;
    	let { prefix = '' } = $$props;
    	let { restoreScrollState = false } = $$props;

    	/**
     * Container for a route: path, component
     */
    	class RouteItem {
    		/**
     * Initializes the object and creates a regular expression from the path, using regexparam.
     *
     * @param {string} path - Path to the route (must start with '/' or '*')
     * @param {SvelteComponent|WrappedComponent} component - Svelte component for the route, optionally wrapped
     */
    		constructor(path, component) {
    			if (!component || typeof component != 'function' && (typeof component != 'object' || component._sveltesparouter !== true)) {
    				throw Error('Invalid component object');
    			}

    			// Path must be a regular or expression, or a string starting with '/' or '*'
    			if (!path || typeof path == 'string' && (path.length < 1 || path.charAt(0) != '/' && path.charAt(0) != '*') || typeof path == 'object' && !(path instanceof RegExp)) {
    				throw Error('Invalid value for "path" argument - strings must start with / or *');
    			}

    			const { pattern, keys } = parse(path);
    			this.path = path;

    			// Check if the component is wrapped and we have conditions
    			if (typeof component == 'object' && component._sveltesparouter === true) {
    				this.component = component.component;
    				this.conditions = component.conditions || [];
    				this.userData = component.userData;
    				this.props = component.props || {};
    			} else {
    				// Convert the component to a function that returns a Promise, to normalize it
    				this.component = () => Promise.resolve(component);

    				this.conditions = [];
    				this.props = {};
    			}

    			this._pattern = pattern;
    			this._keys = keys;
    		}

    		/**
     * Checks if `path` matches the current route.
     * If there's a match, will return the list of parameters from the URL (if any).
     * In case of no match, the method will return `null`.
     *
     * @param {string} path - Path to test
     * @returns {null|Object.<string, string>} List of paramters from the URL if there's a match, or `null` otherwise.
     */
    		match(path) {
    			// If there's a prefix, check if it matches the start of the path.
    			// If not, bail early, else remove it before we run the matching.
    			if (prefix) {
    				if (typeof prefix == 'string') {
    					if (path.startsWith(prefix)) {
    						path = path.substr(prefix.length) || '/';
    					} else {
    						return null;
    					}
    				} else if (prefix instanceof RegExp) {
    					const match = path.match(prefix);

    					if (match && match[0]) {
    						path = path.substr(match[0].length) || '/';
    					} else {
    						return null;
    					}
    				}
    			}

    			// Check if the pattern matches
    			const matches = this._pattern.exec(path);

    			if (matches === null) {
    				return null;
    			}

    			// If the input was a regular expression, this._keys would be false, so return matches as is
    			if (this._keys === false) {
    				return matches;
    			}

    			const out = {};
    			let i = 0;

    			while (i < this._keys.length) {
    				// In the match parameters, URL-decode all values
    				try {
    					out[this._keys[i]] = decodeURIComponent(matches[i + 1] || '') || null;
    				} catch(e) {
    					out[this._keys[i]] = null;
    				}

    				i++;
    			}

    			return out;
    		}

    		/**
     * Dictionary with route details passed to the pre-conditions functions, as well as the `routeLoading`, `routeLoaded` and `conditionsFailed` events
     * @typedef {Object} RouteDetail
     * @property {string|RegExp} route - Route matched as defined in the route definition (could be a string or a reguar expression object)
     * @property {string} location - Location path
     * @property {string} querystring - Querystring from the hash
     * @property {object} [userData] - Custom data passed by the user
     * @property {SvelteComponent} [component] - Svelte component (only in `routeLoaded` events)
     * @property {string} [name] - Name of the Svelte component (only in `routeLoaded` events)
     */
    		/**
     * Executes all conditions (if any) to control whether the route can be shown. Conditions are executed in the order they are defined, and if a condition fails, the following ones aren't executed.
     * 
     * @param {RouteDetail} detail - Route detail
     * @returns {boolean} Returns true if all the conditions succeeded
     */
    		async checkConditions(detail) {
    			for (let i = 0; i < this.conditions.length; i++) {
    				if (!await this.conditions[i](detail)) {
    					return false;
    				}
    			}

    			return true;
    		}
    	}

    	// Set up all routes
    	const routesList = [];

    	if (routes instanceof Map) {
    		// If it's a map, iterate on it right away
    		routes.forEach((route, path) => {
    			routesList.push(new RouteItem(path, route));
    		});
    	} else {
    		// We have an object, so iterate on its own properties
    		Object.keys(routes).forEach(path => {
    			routesList.push(new RouteItem(path, routes[path]));
    		});
    	}

    	// Props for the component to render
    	let component = null;

    	let componentParams = null;
    	let props = {};

    	// Event dispatcher from Svelte
    	const dispatch = createEventDispatcher();

    	// Just like dispatch, but executes on the next iteration of the event loop
    	async function dispatchNextTick(name, detail) {
    		// Execute this code when the current call stack is complete
    		await tick();

    		dispatch(name, detail);
    	}

    	// If this is set, then that means we have popped into this var the state of our last scroll position
    	let previousScrollState = null;

    	let popStateChanged = null;

    	if (restoreScrollState) {
    		popStateChanged = event => {
    			// If this event was from our history.replaceState, event.state will contain
    			// our scroll history. Otherwise, event.state will be null (like on forward
    			// navigation)
    			if (event.state && (event.state.__svelte_spa_router_scrollY || event.state.__svelte_spa_router_scrollX)) {
    				previousScrollState = event.state;
    			} else {
    				previousScrollState = null;
    			}
    		};

    		// This is removed in the destroy() invocation below
    		window.addEventListener('popstate', popStateChanged);

    		afterUpdate(() => {
    			restoreScroll(previousScrollState);
    		});
    	}

    	// Always have the latest value of loc
    	let lastLoc = null;

    	// Current object of the component loaded
    	let componentObj = null;

    	// Handle hash change events
    	// Listen to changes in the $loc store and update the page
    	// Do not use the $: syntax because it gets triggered by too many things
    	const unsubscribeLoc = loc.subscribe(async newLoc => {
    		lastLoc = newLoc;

    		// Find a route matching the location
    		let i = 0;

    		while (i < routesList.length) {
    			const match = routesList[i].match(newLoc.location);

    			if (!match) {
    				i++;
    				continue;
    			}

    			const detail = {
    				route: routesList[i].path,
    				location: newLoc.location,
    				querystring: newLoc.querystring,
    				userData: routesList[i].userData,
    				params: match && typeof match == 'object' && Object.keys(match).length
    				? match
    				: null
    			};

    			// Check if the route can be loaded - if all conditions succeed
    			if (!await routesList[i].checkConditions(detail)) {
    				// Don't display anything
    				$$invalidate(0, component = null);

    				componentObj = null;

    				// Trigger an event to notify the user, then exit
    				dispatchNextTick('conditionsFailed', detail);

    				return;
    			}

    			// Trigger an event to alert that we're loading the route
    			// We need to clone the object on every event invocation so we don't risk the object to be modified in the next tick
    			dispatchNextTick('routeLoading', Object.assign({}, detail));

    			// If there's a component to show while we're loading the route, display it
    			const obj = routesList[i].component;

    			// Do not replace the component if we're loading the same one as before, to avoid the route being unmounted and re-mounted
    			if (componentObj != obj) {
    				if (obj.loading) {
    					$$invalidate(0, component = obj.loading);
    					componentObj = obj;
    					$$invalidate(1, componentParams = obj.loadingParams);
    					$$invalidate(2, props = {});

    					// Trigger the routeLoaded event for the loading component
    					// Create a copy of detail so we don't modify the object for the dynamic route (and the dynamic route doesn't modify our object too)
    					dispatchNextTick('routeLoaded', Object.assign({}, detail, {
    						component,
    						name: component.name,
    						params: componentParams
    					}));
    				} else {
    					$$invalidate(0, component = null);
    					componentObj = null;
    				}

    				// Invoke the Promise
    				const loaded = await obj();

    				// Now that we're here, after the promise resolved, check if we still want this component, as the user might have navigated to another page in the meanwhile
    				if (newLoc != lastLoc) {
    					// Don't update the component, just exit
    					return;
    				}

    				// If there is a "default" property, which is used by async routes, then pick that
    				$$invalidate(0, component = loaded && loaded.default || loaded);

    				componentObj = obj;
    			}

    			// Set componentParams only if we have a match, to avoid a warning similar to `<Component> was created with unknown prop 'params'`
    			// Of course, this assumes that developers always add a "params" prop when they are expecting parameters
    			if (match && typeof match == 'object' && Object.keys(match).length) {
    				$$invalidate(1, componentParams = match);
    			} else {
    				$$invalidate(1, componentParams = null);
    			}

    			// Set static props, if any
    			$$invalidate(2, props = routesList[i].props);

    			// Dispatch the routeLoaded event then exit
    			// We need to clone the object on every event invocation so we don't risk the object to be modified in the next tick
    			dispatchNextTick('routeLoaded', Object.assign({}, detail, {
    				component,
    				name: component.name,
    				params: componentParams
    			})).then(() => {
    				params.set(componentParams);
    			});

    			return;
    		}

    		// If we're still here, there was no match, so show the empty component
    		$$invalidate(0, component = null);

    		componentObj = null;
    		params.set(undefined);
    	});

    	onDestroy(() => {
    		unsubscribeLoc();
    		popStateChanged && window.removeEventListener('popstate', popStateChanged);
    	});

    	const writable_props = ['routes', 'prefix', 'restoreScrollState'];

    	Object_1.keys($$props).forEach(key => {
    		if (!~writable_props.indexOf(key) && key.slice(0, 2) !== '$$' && key !== 'slot') console_1.warn(`<Router> was created with unknown prop '${key}'`);
    	});

    	function routeEvent_handler(event) {
    		bubble.call(this, $$self, event);
    	}

    	function routeEvent_handler_1(event) {
    		bubble.call(this, $$self, event);
    	}

    	$$self.$$set = $$props => {
    		if ('routes' in $$props) $$invalidate(3, routes = $$props.routes);
    		if ('prefix' in $$props) $$invalidate(4, prefix = $$props.prefix);
    		if ('restoreScrollState' in $$props) $$invalidate(5, restoreScrollState = $$props.restoreScrollState);
    	};

    	$$self.$capture_state = () => ({
    		readable,
    		writable,
    		derived,
    		tick,
    		_wrap: wrap$1,
    		wrap,
    		getLocation,
    		loc,
    		location: location$1,
    		querystring,
    		params,
    		push,
    		pop,
    		replace,
    		link,
    		restoreScroll,
    		updateLink,
    		linkOpts,
    		scrollstateHistoryHandler,
    		onDestroy,
    		createEventDispatcher,
    		afterUpdate,
    		parse,
    		routes,
    		prefix,
    		restoreScrollState,
    		RouteItem,
    		routesList,
    		component,
    		componentParams,
    		props,
    		dispatch,
    		dispatchNextTick,
    		previousScrollState,
    		popStateChanged,
    		lastLoc,
    		componentObj,
    		unsubscribeLoc
    	});

    	$$self.$inject_state = $$props => {
    		if ('routes' in $$props) $$invalidate(3, routes = $$props.routes);
    		if ('prefix' in $$props) $$invalidate(4, prefix = $$props.prefix);
    		if ('restoreScrollState' in $$props) $$invalidate(5, restoreScrollState = $$props.restoreScrollState);
    		if ('component' in $$props) $$invalidate(0, component = $$props.component);
    		if ('componentParams' in $$props) $$invalidate(1, componentParams = $$props.componentParams);
    		if ('props' in $$props) $$invalidate(2, props = $$props.props);
    		if ('previousScrollState' in $$props) previousScrollState = $$props.previousScrollState;
    		if ('popStateChanged' in $$props) popStateChanged = $$props.popStateChanged;
    		if ('lastLoc' in $$props) lastLoc = $$props.lastLoc;
    		if ('componentObj' in $$props) componentObj = $$props.componentObj;
    	};

    	if ($$props && "$$inject" in $$props) {
    		$$self.$inject_state($$props.$$inject);
    	}

    	$$self.$$.update = () => {
    		if ($$self.$$.dirty & /*restoreScrollState*/ 32) {
    			// Update history.scrollRestoration depending on restoreScrollState
    			history.scrollRestoration = restoreScrollState ? 'manual' : 'auto';
    		}
    	};

    	return [
    		component,
    		componentParams,
    		props,
    		routes,
    		prefix,
    		restoreScrollState,
    		routeEvent_handler,
    		routeEvent_handler_1
    	];
    }

    class Router extends SvelteComponentDev {
    	constructor(options) {
    		super(options);

    		init$1(this, options, instance$2, create_fragment$2, safe_not_equal, {
    			routes: 3,
    			prefix: 4,
    			restoreScrollState: 5
    		});

    		dispatch_dev("SvelteRegisterComponent", {
    			component: this,
    			tagName: "Router",
    			options,
    			id: create_fragment$2.name
    		});
    	}

    	get routes() {
    		throw new Error_1("<Router>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
    	}

    	set routes(value) {
    		throw new Error_1("<Router>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
    	}

    	get prefix() {
    		throw new Error_1("<Router>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
    	}

    	set prefix(value) {
    		throw new Error_1("<Router>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
    	}

    	get restoreScrollState() {
    		throw new Error_1("<Router>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
    	}

    	set restoreScrollState(value) {
    		throw new Error_1("<Router>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
    	}
    }

    function load (urls, test, callback) {
      let remaining = urls.length;

      function maybeCallback () {
        remaining = --remaining;
        if (remaining < 1) {
          callback();
        }
      }

      if (test()) {
        return callback()
      }

      for (const { type, url, options = { async: true, defer: true }} of urls) {
        const isScript = type === 'script';
        const tag = document.createElement(isScript ? 'script': 'link');
        if (isScript) {
          tag.src = url;
          tag.async = options.async;
          tag.defer = options.defer;
        } else {
          tag.rel = 'stylesheet';
          tag.href = url;
        }
        tag.onload = maybeCallback;
        document.body.appendChild(tag);
      }
    }

    const gaStore = writable([]);

    /* node_modules\@beyonk\svelte-google-analytics\src\GoogleAnalytics.svelte generated by Svelte v3.52.0 */

    function create_fragment$1(ctx) {
    	const block = {
    		c: noop,
    		l: function claim(nodes) {
    			throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option");
    		},
    		m: noop,
    		p: noop,
    		i: noop,
    		o: noop,
    		d: noop
    	};

    	dispatch_dev("SvelteRegisterBlock", {
    		block,
    		id: create_fragment$1.name,
    		type: "component",
    		source: "",
    		ctx
    	});

    	return block;
    }

    function test() {
    	return Boolean(window.dataLayer).valueOf() && Array.isArray(window.dataLayer);
    }

    function gtag() {
    	window.dataLayer.push(arguments);
    }

    function instance$1($$self, $$props, $$invalidate) {
    	let { $$slots: slots = {}, $$scope } = $$props;
    	validate_slots('GoogleAnalytics', slots, []);
    	let { properties } = $$props;
    	let { configurations = {} } = $$props;
    	let { enabled = true } = $$props;

    	onMount(() => {
    		if (!enabled) {
    			return;
    		}

    		init();
    	});

    	function init() {
    		const mainProperty = properties[0];

    		load(
    			[
    				{
    					type: 'script',
    					url: `//www.googletagmanager.com/gtag/js?id=${mainProperty}`
    				}
    			],
    			test,
    			callback
    		);
    	}

    	function callback() {
    		window.dataLayer = window.dataLayer || [];
    		gtag('js', new Date());

    		properties.forEach(p => {
    			gtag('config', p, configurations[p] || {});
    		});

    		return gaStore.subscribe(queue => {
    			let next = queue.length && queue.shift();

    			while (next) {
    				const { type, event, data } = next;
    				gtag(type, event, data);
    				next = queue.shift();
    			}
    		});
    	}

    	$$self.$$.on_mount.push(function () {
    		if (properties === undefined && !('properties' in $$props || $$self.$$.bound[$$self.$$.props['properties']])) {
    			console.warn("<GoogleAnalytics> was created without expected prop 'properties'");
    		}
    	});

    	const writable_props = ['properties', 'configurations', 'enabled'];

    	Object.keys($$props).forEach(key => {
    		if (!~writable_props.indexOf(key) && key.slice(0, 2) !== '$$' && key !== 'slot') console.warn(`<GoogleAnalytics> was created with unknown prop '${key}'`);
    	});

    	$$self.$$set = $$props => {
    		if ('properties' in $$props) $$invalidate(0, properties = $$props.properties);
    		if ('configurations' in $$props) $$invalidate(1, configurations = $$props.configurations);
    		if ('enabled' in $$props) $$invalidate(2, enabled = $$props.enabled);
    	};

    	$$self.$capture_state = () => ({
    		onMount,
    		loader: load,
    		gaStore,
    		properties,
    		configurations,
    		enabled,
    		init,
    		test,
    		gtag,
    		callback
    	});

    	$$self.$inject_state = $$props => {
    		if ('properties' in $$props) $$invalidate(0, properties = $$props.properties);
    		if ('configurations' in $$props) $$invalidate(1, configurations = $$props.configurations);
    		if ('enabled' in $$props) $$invalidate(2, enabled = $$props.enabled);
    	};

    	if ($$props && "$$inject" in $$props) {
    		$$self.$inject_state($$props.$$inject);
    	}

    	return [properties, configurations, enabled, init];
    }

    class GoogleAnalytics extends SvelteComponentDev {
    	constructor(options) {
    		super(options);

    		init$1(this, options, instance$1, create_fragment$1, safe_not_equal, {
    			properties: 0,
    			configurations: 1,
    			enabled: 2,
    			init: 3
    		});

    		dispatch_dev("SvelteRegisterComponent", {
    			component: this,
    			tagName: "GoogleAnalytics",
    			options,
    			id: create_fragment$1.name
    		});
    	}

    	get properties() {
    		throw new Error("<GoogleAnalytics>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
    	}

    	set properties(value) {
    		throw new Error("<GoogleAnalytics>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
    	}

    	get configurations() {
    		throw new Error("<GoogleAnalytics>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
    	}

    	set configurations(value) {
    		throw new Error("<GoogleAnalytics>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
    	}

    	get enabled() {
    		throw new Error("<GoogleAnalytics>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
    	}

    	set enabled(value) {
    		throw new Error("<GoogleAnalytics>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
    	}

    	get init() {
    		return this.$$.ctx[3];
    	}

    	set init(value) {
    		throw new Error("<GoogleAnalytics>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
    	}
    }

    /* src\App.svelte generated by Svelte v3.52.0 */
    const file = "src\\App.svelte";

    // (99:0) {#if cookiesMessage}
    function create_if_block(ctx) {
    	let div;
    	let h3;
    	let t1;
    	let p0;
    	let t3;
    	let p1;
    	let t5;
    	let button0;
    	let t7;
    	let button1;
    	let mounted;
    	let dispose;

    	const block = {
    		c: function create() {
    			div = element("div");
    			h3 = element("h3");
    			h3.textContent = "This website uses cookies";
    			t1 = space();
    			p0 = element("p");
    			p0.textContent = "Functionality cookies are used for the proper functioning of the website, and cannot be disabled, but neither do they collect any information that is not strictly necessary for the proper functioning of the website.";
    			t3 = space();
    			p1 = element("p");
    			p1.textContent = "Statistical cookies help website owners understand how visitors interact with websites by gathering and providing information in an anonymous form. You can choose whether to enable or disable statistical cookies.";
    			t5 = space();
    			button0 = element("button");
    			button0.textContent = "Accept statistical cookies";
    			t7 = space();
    			button1 = element("button");
    			button1.textContent = "Deny statistical cookies";
    			add_location(h3, file, 100, 1, 2369);
    			add_location(p0, file, 101, 1, 2406);
    			add_location(p1, file, 102, 1, 2631);
    			add_location(button0, file, 103, 1, 2853);
    			add_location(button1, file, 106, 1, 2931);
    			attr_dev(div, "class", "rgpd-message svelte-15ydfwf");
    			add_location(div, file, 99, 0, 2340);
    		},
    		m: function mount(target, anchor) {
    			insert_dev(target, div, anchor);
    			append_dev(div, h3);
    			append_dev(div, t1);
    			append_dev(div, p0);
    			append_dev(div, t3);
    			append_dev(div, p1);
    			append_dev(div, t5);
    			append_dev(div, button0);
    			append_dev(div, t7);
    			append_dev(div, button1);

    			if (!mounted) {
    				dispose = [
    					listen_dev(button0, "click", /*acceptCookies*/ ctx[3], false, false, false),
    					listen_dev(button1, "click", /*denyCookies*/ ctx[4], false, false, false)
    				];

    				mounted = true;
    			}
    		},
    		p: noop,
    		d: function destroy(detaching) {
    			if (detaching) detach_dev(div);
    			mounted = false;
    			run_all(dispose);
    		}
    	};

    	dispatch_dev("SvelteRegisterBlock", {
    		block,
    		id: create_if_block.name,
    		type: "if",
    		source: "(99:0) {#if cookiesMessage}",
    		ctx
    	});

    	return block;
    }

    function create_fragment(ctx) {
    	let googleanalytics;
    	let t0;
    	let menu;
    	let t1;
    	let main;
    	let section;
    	let router;
    	let t2;
    	let footer;
    	let t3;
    	let if_block_anchor;
    	let current;

    	let googleanalytics_props = {
    		properties: [gaMeasurementId],
    		enabled: false
    	};

    	googleanalytics = new GoogleAnalytics({
    			props: googleanalytics_props,
    			$$inline: true
    		});

    	/*googleanalytics_binding*/ ctx[6](googleanalytics);
    	menu = new Menu({ $$inline: true });

    	router = new Router({
    			props: { routes: /*routes*/ ctx[2] },
    			$$inline: true
    		});

    	footer = new Footer({
    			props: {
    				onUpdateCookies: /*updateCookies*/ ctx[5]
    			},
    			$$inline: true
    		});

    	let if_block = /*cookiesMessage*/ ctx[1] && create_if_block(ctx);

    	const block = {
    		c: function create() {
    			create_component(googleanalytics.$$.fragment);
    			t0 = space();
    			create_component(menu.$$.fragment);
    			t1 = space();
    			main = element("main");
    			section = element("section");
    			create_component(router.$$.fragment);
    			t2 = space();
    			create_component(footer.$$.fragment);
    			t3 = space();
    			if (if_block) if_block.c();
    			if_block_anchor = empty();
    			attr_dev(section, "class", "section-container svelte-15ydfwf");
    			add_location(section, file, 92, 1, 2191);
    			attr_dev(main, "class", "svelte-15ydfwf");
    			add_location(main, file, 91, 0, 2182);
    		},
    		l: function claim(nodes) {
    			throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option");
    		},
    		m: function mount(target, anchor) {
    			mount_component(googleanalytics, target, anchor);
    			insert_dev(target, t0, anchor);
    			mount_component(menu, target, anchor);
    			insert_dev(target, t1, anchor);
    			insert_dev(target, main, anchor);
    			append_dev(main, section);
    			mount_component(router, section, null);
    			append_dev(main, t2);
    			mount_component(footer, main, null);
    			insert_dev(target, t3, anchor);
    			if (if_block) if_block.m(target, anchor);
    			insert_dev(target, if_block_anchor, anchor);
    			current = true;
    		},
    		p: function update(ctx, [dirty]) {
    			const googleanalytics_changes = {};
    			googleanalytics.$set(googleanalytics_changes);

    			if (/*cookiesMessage*/ ctx[1]) {
    				if (if_block) {
    					if_block.p(ctx, dirty);
    				} else {
    					if_block = create_if_block(ctx);
    					if_block.c();
    					if_block.m(if_block_anchor.parentNode, if_block_anchor);
    				}
    			} else if (if_block) {
    				if_block.d(1);
    				if_block = null;
    			}
    		},
    		i: function intro(local) {
    			if (current) return;
    			transition_in(googleanalytics.$$.fragment, local);
    			transition_in(menu.$$.fragment, local);
    			transition_in(router.$$.fragment, local);
    			transition_in(footer.$$.fragment, local);
    			current = true;
    		},
    		o: function outro(local) {
    			transition_out(googleanalytics.$$.fragment, local);
    			transition_out(menu.$$.fragment, local);
    			transition_out(router.$$.fragment, local);
    			transition_out(footer.$$.fragment, local);
    			current = false;
    		},
    		d: function destroy(detaching) {
    			/*googleanalytics_binding*/ ctx[6](null);
    			destroy_component(googleanalytics, detaching);
    			if (detaching) detach_dev(t0);
    			destroy_component(menu, detaching);
    			if (detaching) detach_dev(t1);
    			if (detaching) detach_dev(main);
    			destroy_component(router);
    			destroy_component(footer);
    			if (detaching) detach_dev(t3);
    			if (if_block) if_block.d(detaching);
    			if (detaching) detach_dev(if_block_anchor);
    		}
    	};

    	dispatch_dev("SvelteRegisterBlock", {
    		block,
    		id: create_fragment.name,
    		type: "component",
    		source: "",
    		ctx
    	});

    	return block;
    }

    const gaMeasurementId = 'G-WR4KH5R0SN';

    function updateCookiesEvent(cookiesEnabled) {
    	const customEvent = new CustomEvent('cookiesUpdated', { detail: { cookiesEnabled } });
    	window.dispatchEvent(customEvent);
    }

    function instance($$self, $$props, $$invalidate) {
    	let { $$slots: slots = {}, $$scope } = $$props;
    	validate_slots('App', slots, []);

    	const routes = {
    		'/': Home,
    		'/download': Download,
    		'/about': About,
    		'/features': Features,
    		'/demos': Demos,
    		'/demos/:id': Demos,
    		'/contributions': Contributions,
    		'/doc/:id': Doc,
    		'/demos-all': DemosSinglePage,
    		'/playground': Playground,
    		'/skin': Skin,
    		'*': NotFound
    	};

    	let ga = null;
    	let cookiesMessage = true;

    	function enableAnalytics() {
    		ga.init();
    	}

    	function acceptCookies() {
    		setCookieConsentData({ analytical: true });
    		ga.init();
    		$$invalidate(1, cookiesMessage = false);
    		updateCookiesEvent(true);
    	}

    	function denyCookies() {
    		setCookieConsentData({ analytical: false });
    		$$invalidate(1, cookiesMessage = false);
    		updateCookiesEvent(false);
    	}

    	const updateCookies = () => {
    		clearConsentData();
    		location.reload();
    	};

    	onMount(() => {
    		// Find google analytics cookie
    		const cookieConsent = getCookieConsentData();

    		$$invalidate(1, cookiesMessage = !isConsentSaved());

    		if (cookieConsent.analytical) {
    			enableAnalytics();
    		}
    	});

    	const writable_props = [];

    	Object.keys($$props).forEach(key => {
    		if (!~writable_props.indexOf(key) && key.slice(0, 2) !== '$$' && key !== 'slot') console.warn(`<App> was created with unknown prop '${key}'`);
    	});

    	function googleanalytics_binding($$value) {
    		binding_callbacks[$$value ? 'unshift' : 'push'](() => {
    			ga = $$value;
    			$$invalidate(0, ga);
    		});
    	}

    	$$self.$capture_state = () => ({
    		Menu,
    		Footer,
    		Home,
    		Download,
    		About,
    		Features,
    		NotFound,
    		Demos,
    		Doc,
    		DemosSinglePage,
    		Contributions,
    		Playground,
    		Skin,
    		getCookieConsentData,
    		isConsentSaved,
    		setCookieConsentData,
    		clearConsentData,
    		Router,
    		onMount,
    		GoogleAnalytics,
    		routes,
    		ga,
    		cookiesMessage,
    		gaMeasurementId,
    		enableAnalytics,
    		updateCookiesEvent,
    		acceptCookies,
    		denyCookies,
    		updateCookies
    	});

    	$$self.$inject_state = $$props => {
    		if ('ga' in $$props) $$invalidate(0, ga = $$props.ga);
    		if ('cookiesMessage' in $$props) $$invalidate(1, cookiesMessage = $$props.cookiesMessage);
    	};

    	if ($$props && "$$inject" in $$props) {
    		$$self.$inject_state($$props.$$inject);
    	}

    	return [
    		ga,
    		cookiesMessage,
    		routes,
    		acceptCookies,
    		denyCookies,
    		updateCookies,
    		googleanalytics_binding
    	];
    }

    class App extends SvelteComponentDev {
    	constructor(options) {
    		super(options);
    		init$1(this, options, instance, create_fragment, safe_not_equal, {});

    		dispatch_dev("SvelteRegisterComponent", {
    			component: this,
    			tagName: "App",
    			options,
    			id: create_fragment.name
    		});
    	}
    }

    var main = new App({ target: document.body });

    return main;

})();
//# sourceMappingURL=website.js.map
