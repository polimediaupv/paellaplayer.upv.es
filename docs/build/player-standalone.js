var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function r(t){t.forEach(e)}function o(t){return"function"==typeof t}function i(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function a(t,e){t.appendChild(e)}function s(t,e,n){t.insertBefore(e,n||null)}function u(t){t.parentNode.removeChild(t)}function c(t){return document.createElement(t)}function l(t){return document.createTextNode(t)}function f(){return l(" ")}function h(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function p(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}let d;function y(t){d=t}function g(){if(!d)throw new Error("Function called outside component initialization");return d}function m(t){g().$$.on_mount.push(t)}const b=[],w=[],A=[],x=[],C=Promise.resolve();let E=!1;function k(t){A.push(t)}const L=new Set;let _=0;function S(){const t=d;do{for(;_<b.length;){const t=b[_];_++,y(t),P(t.$$)}for(y(null),b.length=0,_=0;w.length;)w.pop()();for(let t=0;t<A.length;t+=1){const e=A[t];L.has(e)||(L.add(e),e())}A.length=0}while(b.length);for(;x.length;)x.pop()();E=!1,L.clear(),y(t)}function P(t){if(null!==t.fragment){t.update(),r(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(k)}}const T=new Set;function O(t,e){t&&t.i&&(T.delete(t),t.i(e))}function R(t,e,n,r){if(t&&t.o){if(T.has(t))return;T.add(t),undefined.c.push((()=>{T.delete(t),r&&(n&&t.d(1),r())})),t.o(e)}else r&&r()}function I(t){t&&t.c()}function j(t,n,i,a){const{fragment:s,after_update:u}=t.$$;s&&s.m(n,i),a||k((()=>{const n=t.$$.on_mount.map(e).filter(o);t.$$.on_destroy?t.$$.on_destroy.push(...n):r(n),t.$$.on_mount=[]})),u.forEach(k)}function D(t,e){const n=t.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function B(t,e){-1===t.$$.dirty[0]&&(b.push(t),E||(E=!0,C.then(S)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function N(e,o,i,a,s,c,l,f=[-1]){const h=d;y(e);const p=e.$$={fragment:null,ctx:[],props:c,update:t,not_equal:s,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(o.context||(h?h.$$.context:[])),callbacks:n(),dirty:f,skip_bound:!1,root:o.target||h.$$.root};l&&l(p.root);let v=!1;if(p.ctx=i?i(e,o.props||{},((t,n,...r)=>{const o=r.length?r[0]:n;return p.ctx&&s(p.ctx[t],p.ctx[t]=o)&&(!p.skip_bound&&p.bound[t]&&p.bound[t](o),v&&B(e,t)),n})):[],p.update(),v=!0,r(p.before_update),p.fragment=!!a&&a(p.ctx),o.target){if(o.hydrate){const t=function(t){return Array.from(t.childNodes)}(o.target);p.fragment&&p.fragment.l(t),t.forEach(u)}else p.fragment&&p.fragment.c();o.intro&&O(e.$$.fragment),j(e,o.target,o.anchor,o.customElement),S()}y(h)}class M{$destroy(){D(this,1),this.$destroy=t}$on(e,n){if(!o(n))return t;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const t=r.indexOf(n);-1!==t&&r.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const F=(t,e,n=365)=>{const r=new Date;r.setTime(r.getTime()+24*n*60*60*1e3);let o="expires="+r.toUTCString();document.cookie=t+"="+e+";"+o+";path=/;SameSite=None; Secure"},U=t=>{let e=t+"=",n=decodeURIComponent(document.cookie).split(";");for(let t=0;t<n.length;t++){let r=n[t];for(;" "==r.charAt(0);)r=r.substring(1);if(0==r.indexOf(e))return r.substring(e.length,r.length)}return""};function G(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function V(t){var e={exports:{}};return t(e,e.exports),e.exports}var $=V((function(t,e){var n;self,n=()=>(()=>{var t={1993:(t,e,n)=>{n.r(e),n.d(e,{AudioCanvas:()=>g,default:()=>m});var r=n(4382);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function i(){return i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=a(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},i.apply(this,arguments)}function a(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=v(t)););return t}function s(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */s=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",u=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function f(t,e,n,o){var i=e&&e.prototype instanceof d?e:d,a=Object.create(i.prototype),s=new _(o||[]);return r(a,"_invoke",{value:C(t,n,s)}),a}function h(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=f;var p={};function d(){}function y(){}function v(){}var g={};l(g,a,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(S([])));b&&b!==e&&n.call(b,a)&&(g=b);var w=v.prototype=d.prototype=Object.create(g);function A(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function x(t,e){function i(r,a,s,u){var c=h(t[r],t,a);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==o(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){i("next",t,s,u)}),(function(t){i("throw",t,s,u)})):e.resolve(f).then((function(t){l.value=t,s(l)}),(function(t){return i("throw",t,s,u)}))}u(c.arg)}var a;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){i(t,n,e,r)}))}return a=a?a.then(r,r):r()}})}function C(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=E(a,n);if(s){if(s===p)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=h(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===p)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function E(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var o=h(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,p;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,p):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function _(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function S(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return y.prototype=v,r(w,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:y,configurable:!0}),y.displayName=l(v,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,l(t,c,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},A(x.prototype),l(x.prototype,u,(function(){return this})),t.AsyncIterator=x,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new x(f(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},A(w),l(w,c,"Generator"),l(w,a,(function(){return this})),l(w,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=S,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),L(n),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;L(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:S(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},t}function u(t,e,n,r,o,i,a){try{var s=t[i](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,o)}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(i=r.key,a=void 0,a=function(t,e){if("object"!==o(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===o(a)?a:String(a)),r)}var i,a}function f(t,e,n){return e&&l(t.prototype,e),n&&l(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function h(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&p(t,e)}function p(t,e){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},p(t,e)}function d(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=v(t);if(e){var o=v(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y(this,n)}}function y(t,e){if(e&&("object"===o(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function v(t){return v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},v(t)}var g=function(t){h(o,t);var e,n,r=d(o);function o(t,e){var n;return c(this,o),(n=r.call(this,"div",t,e)).element.classList.add("image-canvas"),n}return f(o,[{key:"loadCanvas",value:(e=s().mark((function t(e){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.element.style.width="100%",e.element.style.height="100%";case 2:case"end":return t.stop()}}),t)})),n=function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(t){u(i,r,o,a,s,"next",t)}function s(t){u(i,r,o,a,s,"throw",t)}a(void 0)}))},function(t){return n.apply(this,arguments)})}]),o}(r.Xz),m=function(t){h(n,t);var e=d(n);function n(){return c(this,n),e.apply(this,arguments)}return f(n,[{key:"name",get:function(){return i(v(n.prototype),"name",this)||"es.upv.paella.audioCanvas"}},{key:"canvasType",get:function(){return"audio"}},{key:"getCanvasInstance",value:function(t){return new g(this.player,t)}}]),n}(r.ZP)},1425:(t,e,n)=>{n.r(e),n.d(e,{TestVideoCanvas:()=>m,default:()=>b});var r=n(4382);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function i(){return i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=a(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},i.apply(this,arguments)}function a(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=g(t)););return t}function s(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */s=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",u=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function f(t,e,n,o){var i=e&&e.prototype instanceof d?e:d,a=Object.create(i.prototype),s=new _(o||[]);return r(a,"_invoke",{value:C(t,n,s)}),a}function h(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=f;var p={};function d(){}function y(){}function v(){}var g={};l(g,a,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(S([])));b&&b!==e&&n.call(b,a)&&(g=b);var w=v.prototype=d.prototype=Object.create(g);function A(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function x(t,e){function i(r,a,s,u){var c=h(t[r],t,a);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==o(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){i("next",t,s,u)}),(function(t){i("throw",t,s,u)})):e.resolve(f).then((function(t){l.value=t,s(l)}),(function(t){return i("throw",t,s,u)}))}u(c.arg)}var a;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){i(t,n,e,r)}))}return a=a?a.then(r,r):r()}})}function C(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=E(a,n);if(s){if(s===p)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=h(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===p)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function E(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var o=h(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,p;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,p):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function _(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function S(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return y.prototype=v,r(w,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:y,configurable:!0}),y.displayName=l(v,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,l(t,c,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},A(x.prototype),l(x.prototype,u,(function(){return this})),t.AsyncIterator=x,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new x(f(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},A(w),l(w,c,"Generator"),l(w,a,(function(){return this})),l(w,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=S,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),L(n),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;L(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:S(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},t}function u(t,e,n,r,o,i,a){try{var s=t[i](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,o)}function c(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){u(i,r,o,a,s,"next",t)}function s(t){u(i,r,o,a,s,"throw",t)}a(void 0)}))}}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(i=r.key,a=void 0,a=function(t,e){if("object"!==o(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===o(a)?a:String(a)),r)}var i,a}function h(t,e,n){return e&&f(t.prototype,e),n&&f(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function p(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&d(t,e)}function d(t,e){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},d(t,e)}function y(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=g(t);if(e){var o=g(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return v(this,n)}}function v(t,e){if(e&&("object"===o(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function g(t){return g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},g(t)}var m=function(t){p(r,t);var e,n=y(r);function r(t,e){return l(this,r),n.call(this,"div",t,e)}return h(r,[{key:"loadCanvas",value:(e=c(s().mark((function t(e){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.parent,e.element.style.width="200%",e.element.style.height="200%",e.element.style.top="-25%",e.element.style.left="-25%",e.element.style.position="absolute",this.element.style.overflow="hidden",this.element.style.position="relative",this.player.log.debug("test video canvas");case 9:case"end":return t.stop()}}),t,this)}))),function(t){return e.apply(this,arguments)})}]),r}(r.Xz),b=function(t){p(r,t);var e,n=y(r);function r(){return l(this,r),n.apply(this,arguments)}return h(r,[{key:"canvasType",get:function(){return"video"}},{key:"isEnabled",value:(e=c(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.player.log.debug("TestVideoCanvasPlugin"),t.abrupt("return",i(g(r.prototype),"isEnabled",this).call(this));case 2:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})},{key:"isCompatible",value:function(t){return!Array.isArray(t.canvas)||0===t.canvas.length||i(g(r.prototype),"isCompatible",this).call(this,t)}},{key:"getCanvasInstance",value:function(t){return new m(this.player,t)}}]),r}(r.ZP)},6280:(t,e,n)=>{n.r(e),n.d(e,{VideoCanvas:()=>g,default:()=>m});var r=n(4382);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function i(){return i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=a(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},i.apply(this,arguments)}function a(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=v(t)););return t}function s(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */s=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",u=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function f(t,e,n,o){var i=e&&e.prototype instanceof d?e:d,a=Object.create(i.prototype),s=new _(o||[]);return r(a,"_invoke",{value:C(t,n,s)}),a}function h(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=f;var p={};function d(){}function y(){}function v(){}var g={};l(g,a,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(S([])));b&&b!==e&&n.call(b,a)&&(g=b);var w=v.prototype=d.prototype=Object.create(g);function A(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function x(t,e){function i(r,a,s,u){var c=h(t[r],t,a);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==o(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){i("next",t,s,u)}),(function(t){i("throw",t,s,u)})):e.resolve(f).then((function(t){l.value=t,s(l)}),(function(t){return i("throw",t,s,u)}))}u(c.arg)}var a;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){i(t,n,e,r)}))}return a=a?a.then(r,r):r()}})}function C(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=E(a,n);if(s){if(s===p)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=h(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===p)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function E(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var o=h(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,p;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,p):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function _(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function S(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return y.prototype=v,r(w,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:y,configurable:!0}),y.displayName=l(v,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,l(t,c,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},A(x.prototype),l(x.prototype,u,(function(){return this})),t.AsyncIterator=x,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new x(f(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},A(w),l(w,c,"Generator"),l(w,a,(function(){return this})),l(w,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=S,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),L(n),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;L(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:S(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},t}function u(t,e,n,r,o,i,a){try{var s=t[i](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,o)}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(i=r.key,a=void 0,a=function(t,e){if("object"!==o(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===o(a)?a:String(a)),r)}var i,a}function f(t,e,n){return e&&l(t.prototype,e),n&&l(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function h(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&p(t,e)}function p(t,e){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},p(t,e)}function d(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=v(t);if(e){var o=v(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y(this,n)}}function y(t,e){if(e&&("object"===o(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function v(t){return v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},v(t)}var g=function(t){h(o,t);var e,n,r=d(o);function o(t,e){return c(this,o),r.call(this,"div",t,e)}return f(o,[{key:"loadCanvas",value:(e=s().mark((function t(e){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.element.style.width="100%",e.element.style.height="100%";case 2:case"end":return t.stop()}}),t)})),n=function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(t){u(i,r,o,a,s,"next",t)}function s(t){u(i,r,o,a,s,"throw",t)}a(void 0)}))},function(t){return n.apply(this,arguments)})}]),o}(r.Xz),m=function(t){h(n,t);var e=d(n);function n(){return c(this,n),e.apply(this,arguments)}return f(n,[{key:"name",get:function(){return i(v(n.prototype),"name",this)||"es.upv.paella.videoCanvas"}},{key:"canvasType",get:function(){return"video"}},{key:"isCompatible",value:function(t){return!Array.isArray(t.canvas)||0===t.canvas.length||i(v(n.prototype),"isCompatible",this).call(this,t)}},{key:"getCanvasInstance",value:function(t){return new g(this.player,t)}}]),n}(r.ZP)},7096:(t,e,n)=>{n.d(e,{Z:()=>s});var r=n(1401);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(i=r.key,a=void 0,a=function(t,e){if("object"!==o(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===o(a)?a:String(a)),r)}var i,a}var s=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";i(this,t),this._cues=[],this._label=e,this._lang=n}var e,n,o;return e=t,(n=[{key:"cues",get:function(){return this._cues}},{key:"label",get:function(){return this._label},set:function(t){this._label=t}},{key:"language",get:function(){return this._lang},set:function(t){this._lang=t}},{key:"addCue",value:function(t){var e=t.label,n=void 0===e?"":e,o=t.start,i=t.end,a=t.captions,s={label:n};if("string"==typeof a)s.captions=[a];else{if(!Array.isArray(a))throw Error("Invalid cue caption format: must be an array of strings or a string");s.captions=a}if("string"==typeof o)s.start=(0,r.timeToSeconds)(o),s.startString=o;else{if("number"!=typeof o)throw Error("Invalid cue timestamp format: must be a valid time string or a number of seconds");s.start=o,s.startString=(0,r.secondsToTime)(o)}if("string"==typeof i)s.end=(0,r.timeToSeconds)(i),s.endString=i;else{if("number"!=typeof i)throw Error("Invalid cue timestamp format: must be a valid time string or a number of seconds");s.end=i,s.endString=(0,r.secondsToTime)(i)}return this._cues.push(s),s}},{key:"getCue",value:function(t){if("string"==typeof t)t=(0,r.timeToSeconds)(t);else if("number"!=typeof t)throw Error("Invalid time instant format getting cue");var e=null;return this._cues.some((function(n){if(t>=n.start&&t<=n.end)return e=n,!0})),e}}])&&a(e.prototype,n),o&&a(e,o),Object.defineProperty(e,"prototype",{writable:!1}),t}()},8704:(t,e,n)=>{n.d(e,{N:()=>y,Z:()=>g});var r=n(9076),o=n(6038);function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function a(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */a=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},s=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function f(t,e,n,o){var i=e&&e.prototype instanceof d?e:d,a=Object.create(i.prototype),s=new _(o||[]);return r(a,"_invoke",{value:C(t,n,s)}),a}function h(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=f;var p={};function d(){}function y(){}function v(){}var g={};l(g,s,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(S([])));b&&b!==e&&n.call(b,s)&&(g=b);var w=v.prototype=d.prototype=Object.create(g);function A(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function x(t,e){function o(r,a,s,u){var c=h(t[r],t,a);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==i(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,s,u)}),(function(t){o("throw",t,s,u)})):e.resolve(f).then((function(t){l.value=t,s(l)}),(function(t){return o("throw",t,s,u)}))}u(c.arg)}var a;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){o(t,n,e,r)}))}return a=a?a.then(r,r):r()}})}function C(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=E(a,n);if(s){if(s===p)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=h(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===p)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function E(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var o=h(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,p;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,p):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function _(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function S(t){if(t){var e=t[s];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return y.prototype=v,r(w,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:y,configurable:!0}),y.displayName=l(v,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,l(t,c,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},A(x.prototype),l(x.prototype,u,(function(){return this})),t.AsyncIterator=x,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new x(f(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},A(w),l(w,c,"Generator"),l(w,s,(function(){return this})),l(w,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=S,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),L(n),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;L(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:S(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},t}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,a=void 0,a=function(t,e){if("object"!==i(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===i(a)?a:String(a)),r)}var o,a}function c(t,e){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},c(t,e)}function l(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=h(t);if(e){var o=h(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f(this,n)}}function f(t,e){if(e&&("object"===i(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function h(t){return h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},h(t)}function p(t,e,n,r,o,i,a){try{var s=t[i](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,o)}function d(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){p(i,r,o,a,s,"next",t)}function s(t){p(i,r,o,a,s,"throw",t)}a(void 0)}))}}function y(t){return v.apply(this,arguments)}function v(){return v=d(a().mark((function t(e){var n,r,i;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=[],t.next=3,(0,o.FP)(e,"captions",function(){var t=d(a().mark((function t(e){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n.push(e);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 3:r=a().mark((function t(){var r,o,s;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n[i],t.next=3,r.getCaptions();case 3:o=t.sent,s=e.captionsCanvas,o.forEach((function(t){return s.addCaptions(t)}));case 6:case"end":return t.stop()}}),t)})),t.t0=a().keys(n);case 5:if((t.t1=t.t0()).done){t.next=10;break}return i=t.t1.value,t.delegateYield(r(),"t2",8);case 8:t.next=5;break;case 10:case"end":return t.stop()}}),t)}))),v.apply(this,arguments)}var g=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&c(t,e)}(h,t);var e,n,r,o,i,f=l(h);function h(){return s(this,h),f.apply(this,arguments)}return e=h,n=[{key:"type",get:function(){return"captions"}},{key:"load",value:(i=d(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.player.log.debug("load captions plugin");case 1:case"end":return t.stop()}}),t,this)}))),function(){return i.apply(this,arguments)})},{key:"getCaptions",value:(o=d(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.player.log.warn("CaptionsPlugin ".concat(this.name,": getCaptions() is not implemented.")),t.abrupt("return",[]);case 2:case"end":return t.stop()}}),t,this)}))),function(){return o.apply(this,arguments)})}],n&&u(e.prototype,n),r&&u(e,r),Object.defineProperty(e,"prototype",{writable:!1}),h}(r.Z)},4062:(t,e,n)=>{n.d(e,{Z:()=>c,l:()=>u});var r=n(7096),o=n(1401);function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,a=void 0,a=function(t,e){if("object"!==i(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===i(a)?a:String(a)),r)}var o,a}function u(t,e){var n={},i=(new DOMParser).parseFromString(e,"text/xml");return Array.from(i.getElementsByTagName("div")).forEach((function(e){var i=e.getAttribute("xml:lang")||"unknonw";n[i]=n[i]||new r.Z(t.translate(i),i),Array.from(e.getElementsByTagName("p")).forEach((function(t){var e=(0,o.timeToMilliseconds)(t.getAttribute("begin"));n[i].addCue({label:"caption_".concat(t.getAttribute("xml:id")||e),start:e/1e3,end:(0,o.timeToMilliseconds)(t.getAttribute("end"))/1e3,captions:t.innerHTML})}))})),n}var c=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";a(this,t),this.player=e,this._text=n,this._captions=u(this.player,n)}var e,n,r;return e=t,n=[{key:"text",get:function(){return this._text},set:function(t){this._text=t,this._captions=u(t)}},{key:"captions",get:function(){return this._captions}}],n&&s(e.prototype,n),r&&s(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}()},1309:(t,e,n)=>{n.d(e,{Z:()=>f,n:()=>l});var r=n(7096);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(i=r.key,a=void 0,a=function(t,e){if("object"!==o(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===o(a)?a:String(a)),r)}var i,a}var s="(?:\\d*:){1,2}\\d*(?:\\.\\d+)?",u="(".concat(s,")\\s*\\-\\->\\s*(").concat(s,")"),c={cueTiming:new RegExp(u)};function l(t){var e=new r.Z;return""!==t&&(t=(t=t.replace(/\r\n/gm,"\n")).replace(/\r/gm,"\n")).split(/\n/).forEach((function(t,n,r){!function(t,e,n,r){var o=c.cueTiming.exec(e);if(o){for(var i=r[n-1],a=[],s=1;n+s<r.length&&""!==r[n+s];++s)a.push(r[n+s]);t.addCue({label:i,start:o[1],end:o[2],captions:a})}}(e,t,n,r)})),e}var f=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";i(this,t),this._text=e,this._captions=l(e)}var e,n,r;return e=t,n=[{key:"text",get:function(){return this._text},set:function(t){this._text=t,this._captions=l(t)}},{key:"captions",get:function(){return this._captions}}],n&&a(e.prototype,n),r&&a(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}()},2452:(t,e,n)=>{function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,(i=o.key,a=void 0,a=function(t,e){if("object"!==r(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,e||"default");if("object"!==r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===r(a)?a:String(a)),o)}var i,a}n.d(e,{Z:()=>i});var i=function(){function t(e){var n=e.id,r=e.name,o=e.groupId,i=void 0===o?"":o,a=e.language,s=void 0===a?"":a,u=e.selected,c=void 0!==u&&u;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._id=n,this._name=r,this._groupId=i,this._lang=s,this._selected=c}var e,n,r;return e=t,(n=[{key:"id",get:function(){return this._id}},{key:"name",get:function(){return this._name}},{key:"groupId",get:function(){return this._groupId}},{key:"language",get:function(){return this._lang}},{key:"selected",get:function(){return this._selected},set:function(t){this._selected=t}}])&&o(e.prototype,n),r&&o(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}()},7488:(t,e,n)=>{n.d(e,{Z:()=>D});var r=n(7528),o=n(916),i=n(6038),a=n(1768),s=n(629),u=n(3379),c=n.n(u),l=n(7795),f=n.n(l),h=n(569),p=n.n(h),d=n(3565),y=n.n(d),v=n(9216),g=n.n(v),m=n(4589),b=n.n(m),w=n(372),A={};A.styleTagTransform=b(),A.setAttributes=y(),A.insert=p().bind(null,"head"),A.domAPI=f(),A.insertStyleElement=g(),c()(w.Z,A),w.Z&&w.Z.locals&&w.Z.locals;var x=n(1401);function C(t){return C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},C(t)}function E(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */E=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function c(t,e,n,o){var i=e&&e.prototype instanceof h?e:h,a=Object.create(i.prototype),s=new _(o||[]);return r(a,"_invoke",{value:A(t,n,s)}),a}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var f={};function h(){}function p(){}function d(){}var y={};u(y,i,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(S([])));g&&g!==e&&n.call(g,i)&&(y=g);var m=d.prototype=h.prototype=Object.create(y);function b(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(r,i,a,s){var u=l(t[r],t,i);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"==C(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,s)}),(function(t){o("throw",t,a,s)})):e.resolve(f).then((function(t){c.value=t,a(c)}),(function(t){return o("throw",t,a,s)}))}s(u.arg)}var i;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){o(t,n,e,r)}))}return i=i?i.then(r,r):r()}})}function A(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=x(a,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=l(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function x(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,x(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=l(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function _(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function S(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return p.prototype=d,r(m,"constructor",{value:d,configurable:!0}),r(d,"constructor",{value:p,configurable:!0}),p.displayName=u(d,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,u(t,s,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},b(w.prototype),u(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new w(c(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(m),u(m,s,"Generator"),u(m,i,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=S,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),L(n),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;L(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:S(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},t}function k(t,e,n,r,o,i,a){try{var s=t[i](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,o)}function L(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){k(i,r,o,a,s,"next",t)}function s(t){k(i,r,o,a,s,"throw",t)}a(void 0)}))}}function _(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function S(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==C(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==C(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===C(i)?i:String(i)),r)}var o,i}function P(){return P="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=T(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},P.apply(this,arguments)}function T(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=j(t)););return t}function O(t,e){return O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},O(t,e)}function R(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=j(t);if(e){var o=j(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return I(this,n)}}function I(t,e){if(e&&("object"===C(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function j(t){return j=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},j(t)}var D=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&O(t,e)}(p,t);var e,n,u,c,l,f,h=R(p);function p(){return _(this,p),h.apply(this,arguments)}return e=p,n=[{key:"load",value:(f=L(E().mark((function t(){return E().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this._iconPath){t.next=4;break}return t.next=3,(0,x.loadSvgIcon)(this._iconPath);case 3:this.icon=t.sent;case 4:case"end":return t.stop()}}),t,this)}))),function(){return f.apply(this,arguments)})},{key:"groupName",get:function(){var t;return(null===(t=this.config)||void 0===t?void 0:t.groupName)||"buttonGroup"}},{key:"popUpType",get:function(){return"no-modal"}},{key:"getClosePopUps",value:function(){return!1}},{key:"getContent",value:(l=L(E().mark((function t(){var e,n=this;return E().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=(0,o.jS)('<div class="button-group"></div>'),this._firstItem=null,this._initialized){t.next=7;break}return this.player.log.debug('Load button plugins into "'.concat(this.groupName,'" container')),t.next=6,(0,i.FP)(this.player,"button",function(){var t=L(E().mark((function t(i){var u,c;return E().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.player.log.debug(" Button plugin: ".concat(i.name)),u=(0,o.jS)('<div class="button-plugin-wrapper"></div>',e),i instanceof r.Z&&(i.parentPopUp=n._popUp),t.next=5,(0,a.k1)(i,u);case 5:(0,o.jS)('<a class="button-description">'.concat((0,s.Iu)(i.description),"</a>"),u).addEventListener("click",(function(t){i.action(),t.stopPropagation()})),n._firstItem||(c=u.getElementsByTagName("button"),n._firstItem=c&&c[0]);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var t=L(E().mark((function t(e){return E().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.parentContainer!==n.groupName){t.next=7;break}return t.next=4,e.isEnabled();case 4:return t.abrupt("return",t.sent);case 7:return t.abrupt("return",!1);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 6:this._initialized=!0;case 7:return t.abrupt("return",e);case 8:case"end":return t.stop()}}),t,this)}))),function(){return l.apply(this,arguments)})},{key:"showPopUp",value:(c=L(E().mark((function t(){var e=this;return E().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,P(j(p.prototype),"showPopUp",this).call(this);case 2:setTimeout((function(){e._firstItem&&e._firstItem.focus()}),50),this.buttons.forEach((function(t){"none"===t.style.display?e.hideButtonContainer(t):e.showButtonContainer(t)}));case 4:case"end":return t.stop()}}),t,this)}))),function(){return c.apply(this,arguments)})},{key:"buttons",get:function(){return Array.from(this.popUp.element.getElementsByClassName("button-plugin"))}},{key:"hideButtonContainer",value:function(t){var e,n=null===(e=t.parentNode)||void 0===e?void 0:e.parentNode;n&&(n.style.display="none")}},{key:"showButtonContainer",value:function(t){var e,n=null===(e=t.parentNode)||void 0===e?void 0:e.parentNode;n&&(n.style.display=null)}}],n&&S(e.prototype,n),u&&S(e,u),Object.defineProperty(e,"prototype",{writable:!1}),p}(r.Z)},1768:(t,e,n)=>{n.d(e,{ZP:()=>x,k1:()=>w,n:()=>b,nu:()=>m});var r=n(1547);n(6038);var o=n(916),i=n(980),a=n(629),s=n(6911);function u(t){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u(t)}function c(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */c=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function f(t,e,n,o){var i=e&&e.prototype instanceof d?e:d,a=Object.create(i.prototype),s=new _(o||[]);return r(a,"_invoke",{value:C(t,n,s)}),a}function h(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=f;var p={};function d(){}function y(){}function v(){}var g={};l(g,i,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(S([])));b&&b!==e&&n.call(b,i)&&(g=b);var w=v.prototype=d.prototype=Object.create(g);function A(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function x(t,e){function o(r,i,a,s){var c=h(t[r],t,i);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==u(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,s)}),(function(t){o("throw",t,a,s)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return o("throw",t,a,s)}))}s(c.arg)}var i;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){o(t,n,e,r)}))}return i=i?i.then(r,r):r()}})}function C(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=E(a,n);if(s){if(s===p)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=h(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===p)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function E(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var o=h(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,p;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,p):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function _(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function S(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return y.prototype=v,r(w,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:y,configurable:!0}),y.displayName=l(v,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,l(t,s,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},A(x.prototype),l(x.prototype,a,(function(){return this})),t.AsyncIterator=x,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new x(f(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},A(w),l(w,s,"Generator"),l(w,i,(function(){return this})),l(w,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=S,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),L(n),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;L(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:S(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},t}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==u(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==u(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===u(i)?i:String(i)),r)}var o,i}function h(t,e){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},h(t,e)}function p(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=y(t);if(e){var o=y(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return d(this,n)}}function d(t,e){if(e&&("object"===u(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function y(t){return y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},y(t)}function v(t,e,n,r,o,i,a){try{var s=t[i](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,o)}function g(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){v(i,r,o,a,s,"next",t)}function s(t){v(i,r,o,a,s,"throw",t)}a(void 0)}))}}function m(t){return t.__tabIndex=t.__tabIndex||0,++t.__tabIndex,t.__tabIndex}function b(t){return t.__tabIndex||0}function w(t,e){return A.apply(this,arguments)}function A(){return A=g(c().mark((function t(e,n){var r,u,l,f,h,p,d,y,v,m,b,w,A,x,C;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(r=(0,o.jS)('<div class="button-plugin-container"></div>',n)).plugin=e,u=e.tabIndex,l=(0,a.Iu)(e.ariaLabel),f=(0,a.Iu)(e.description),h=e.dynamicWidth?"dynamic-width":"fixed-width",p=e.id?'id="'.concat(e.id,'" '):"",d=e.buttonName?'name="'.concat(e.buttonName,'" '):"",e.interactive?(m=(0,o.jS)('\n\t\t\t<div class="button-plugin-side-area left-side '.concat(e.className,'"></div>\n\t\t'),r),b=(0,o.jS)('\n\t\t\t<button type="button" '.concat(p).concat(d,'class="button-plugin ').concat(e.className," ").concat(h,' no-icon" tabindex="').concat(u,'" aria-label="').concat(l,'" title="').concat(f,'">\n\t\t\t\t<div class="interactive-button-content">\n\t\t\t\t\t<i class="button-icon" style="pointer-events: none; display: none">').concat(e.icon,'</i>\n\t\t\t\t\t<span class="button-title button-title-').concat(e.titleSize,'">').concat(e.title||"&nbsp;","</span>\n\t\t\t\t</div>\n\t\t\t</button>\n\t\t"),r),w=(0,o.jS)('\n\t\t\t<div class="button-plugin-side-area right-side '.concat(e.className,'"></div>\n\t\t'),r),A=b.getElementsByClassName("button-title")[0],e._leftArea=m,e._rightArea=w,e._button=b,e._container=r,e._titleContainer=A,b._pluginData=e,m._pluginData=e,w._pluginData=e,r._pluginData=e,r.addEventListener("mouseenter",function(){var t=g(c().mark((function t(e){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r._pluginData.mouseOver(r,e);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),r.addEventListener("mouseleave",function(){var t=g(c().mark((function t(e){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r._pluginData.mouseOut(r,e);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),b.addEventListener("focus",g(c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b._pluginData.focusIn();case 2:case"end":return t.stop()}}),t)})))),b.addEventListener("blur",g(c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b._pluginData.focusOut();case 2:case"end":return t.stop()}}),t)})))),b.addEventListener("click",(function(t){var e=b._pluginData;e.closePopUps&&e.popUp?s.Z.HideNonAncestors(e.popUp):e.closePopUps&&s.Z.HideAllPopUps(!1),(0,i.qe)(e.player,i.ZP.BUTTON_PRESS,{plugin:e}),e.action(t),t.stopPropagation(),0!==t.pageX&&0!==t.pageY&&document.activeElement.blur()})),void 0===(null===(y=e.player.config.accessibility)||void 0===y?void 0:y.clickWithSpacebar)||(null===(v=e.player.config.accessibility)||void 0===v?void 0:v.clickWithSpacebar)||(b.addEventListener("keyup",(function(t){32==t.keyCode&&t.preventDefault()})),b.addEventListener("keydown",(function(t){32==t.keyCode&&t.preventDefault()})))):(x=(0,o.jS)("\n\t\t\t<div ".concat(p).concat(d,' class="button-plugin ').concat(e.className," non-interactive ").concat(h,' no-icon" title="').concat(f,'">\n\t\t\t\t<div class="non-interactive-button-content">\n\t\t\t\t\t<i class="button-icon" style="pointer-events: none; display: none;">').concat(e.icon,'</i>\n\t\t\t\t\t<span class="button-title button-title-').concat(e.titleSize,'">').concat(e.title||"&nbsp;","</span>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t"),r),C=x.getElementsByClassName("button-title")[0],e._leftArea=null,e._rightArea=null,e._button=x,e._container=r,e._titleContainer=C,x._pluginData=e,r._pluginData=e);case 9:case"end":return t.stop()}}),t)}))),A.apply(this,arguments)}var x=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&h(t,e)}(y,t);var e,n,r,o,i,a,s,u,d=p(y);function y(){return l(this,y),d.apply(this,arguments)}return e=y,n=[{key:"type",get:function(){return"button"}},{key:"container",get:function(){return this._container}},{key:"leftArea",get:function(){return this._leftArea}},{key:"rightArea",get:function(){return this._rightArea}},{key:"button",get:function(){return this._button}},{key:"titleContainer",get:function(){return this._titleContainer}},{key:"interactive",get:function(){return!0}},{key:"dynamicWidth",get:function(){return!1}},{key:"getId",value:function(){return null}},{key:"id",get:function(){return this.config.id||this.getId()}},{key:"getButtonName",value:function(){return null}},{key:"buttonName",get:function(){return this.config.name||this.getButtonName()||this.name}},{key:"ariaLabel",get:function(){return this.config.ariaLabel||this.getAriaLabel()}},{key:"getAriaLabel",value:function(){return""}},{key:"tabIndex",get:function(){return this.config.tabIndex||this.getTabIndex()}},{key:"getTabIndex",value:function(){return m(this.player)}},{key:"getDescription",value:function(){return""}},{key:"description",get:function(){return this.config.description||this.getDescription()}},{key:"iconElement",get:function(){var t;return null===(t=this.button)||void 0===t?void 0:t.getElementsByClassName("button-icon")[0]}},{key:"minContainerSize",get:function(){return this.config.minContainerSize||this.getMinContainerSize()}},{key:"getMinContainerSize",value:function(){return 0}},{key:"icon",get:function(){return this._icon||(this._icon=""),this._icon},set:function(t){this._icon=t,t?(this.iconElement.innerHTML=t,this.iconElement.style.display="",this.button.classList.remove("no-icon")):(this.iconElement.innerHTML="",this.iconElement.style.display="none",this.button.classList.add("no-icon"))}},{key:"title",get:function(){return this._title||""},set:function(t){this._title=t,this._titleContainer.innerHTML=t}},{key:"titleSize",get:function(){return"medium"}},{key:"side",get:function(){var t;return(null===(t=this.config)||void 0===t?void 0:t.side)||"left"}},{key:"closePopUps",get:function(){return this.config.closePopUps||this.getClosePopUps()}},{key:"getClosePopUps",value:function(){return!0}},{key:"parentContainer",get:function(){var t;return(null===(t=this.config)||void 0===t?void 0:t.parentContainer)||"playbackBar"}},{key:"className",get:function(){return""}},{key:"enable",value:function(){this._enabled=!0,this.show()}},{key:"disable",value:function(){this._enabled=!1,this.hide()}},{key:"hide",value:function(){this._button&&(this._button.style.display="none")}},{key:"show",value:function(){if(!1!==this._enabled){var t=this.player.playbackBar.containerSize.width;this._button&&(t>this.minContainerSize||"playbackBar"!==this.parentContainer)&&(this._button.style.display="block")}}},{key:"mouseOver",value:(u=g(c().mark((function t(e){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)}))),function(t){return u.apply(this,arguments)})},{key:"mouseOut",value:(s=g(c().mark((function t(e){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)}))),function(t){return s.apply(this,arguments)})},{key:"focusIn",value:(a=g(c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)}))),function(){return a.apply(this,arguments)})},{key:"focusOut",value:(i=g(c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)}))),function(){return i.apply(this,arguments)})},{key:"action",value:(o=g(c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.player.log.warn("Action not implemented in button plugin ".concat(this.name));case 1:case"end":return t.stop()}}),t,this)}))),function(){return o.apply(this,arguments)})},{key:"onResize",value:function(t){var e=t.width;t.height,e<this.minContainerSize?this.hide():this.show()}}],n&&f(e.prototype,n),r&&f(e,r),Object.defineProperty(e,"prototype",{writable:!1}),y}(r.Z)},7118:(t,e,n)=>{n.d(e,{ZP:()=>w,uU:()=>m});var r=n(1768),o=n(1547),i=n(4382),a=n(6038);function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==s(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===s(i)?i:String(i)),r)}var o,i}function l(t,e){return l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},l(t,e)}function f(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=p(t);if(e){var o=p(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h(this,n)}}function h(t,e){if(e&&("object"===s(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function p(t){return p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},p(t)}function d(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */d=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function l(t,e,n,o){var i=e&&e.prototype instanceof p?e:p,a=Object.create(i.prototype),s=new _(o||[]);return r(a,"_invoke",{value:C(t,n,s)}),a}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var h={};function p(){}function y(){}function v(){}var g={};c(g,i,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(S([])));b&&b!==e&&n.call(b,i)&&(g=b);var w=v.prototype=p.prototype=Object.create(g);function A(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function x(t,e){function o(r,i,a,u){var c=f(t[r],t,i);if("throw"!==c.type){var l=c.arg,h=l.value;return h&&"object"==s(h)&&n.call(h,"__await")?e.resolve(h.__await).then((function(t){o("next",t,a,u)}),(function(t){o("throw",t,a,u)})):e.resolve(h).then((function(t){l.value=t,a(l)}),(function(t){return o("throw",t,a,u)}))}u(c.arg)}var i;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){o(t,n,e,r)}))}return i=i?i.then(r,r):r()}})}function C(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=E(a,n);if(s){if(s===h)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=f(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===h)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function E(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var o=f(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,h;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,h):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,h)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function _(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function S(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return y.prototype=v,r(w,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:y,configurable:!0}),y.displayName=c(v,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,c(t,u,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},A(x.prototype),c(x.prototype,a,(function(){return this})),t.AsyncIterator=x,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new x(l(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},A(w),c(w,u,"Generator"),c(w,i,(function(){return this})),c(w,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=S,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),L(n),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;L(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:S(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},t}function y(t,e,n,r,o,i,a){try{var s=t[i](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,o)}function v(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){y(i,r,o,a,s,"next",t)}function s(t){y(i,r,o,a,s,"throw",t)}a(void 0)}))}}function g(t){return{icon:t.icon,position:t.position,title:t.description,ariaLabel:t.ariaLabel,name:t.buttonName,click:(e=v(d().mark((function e(n){var r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.player.videoContainer.streamProvider.streams[n],e.next=3,t.action(n,null==r?void 0:r.player,null==r?void 0:r.canvas,null==r?void 0:r.canvasPlugin);case 3:case"end":return e.stop()}}),e)}))),function(t){return e.apply(this,arguments)})};var e}function m(t,e){return b.apply(this,arguments)}function b(){return b=v(d().mark((function t(e,n){var r;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=[],t.next=3,(0,a.FP)(e,"canvasButton",function(){var t=v(d().mark((function t(n){return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.log.debug(" Canvas button plugin: ".concat(n.name)),r.push(n);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 3:return t.abrupt("return",r.filter((function(t){return-1!==t.content.indexOf(n.content)})).map((function(t){return g(t)})));case 4:case"end":return t.stop()}}),t)}))),b.apply(this,arguments)}var w=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&l(t,e)}(h,t);var e,n,o,a,s=f(h);function h(){return u(this,h),s.apply(this,arguments)}return e=h,n=[{key:"type",get:function(){return"canvasButton"}},{key:"content",get:function(){return this._config.content||["presenter"]}},{key:"ariaLabel",get:function(){return this._config.ariaLabel||this.getAriaLabel()}},{key:"getAriaLabel",value:function(){return""}},{key:"tabIndex",get:function(){return this.config.tabIndex||this.getTabIndex()}},{key:"getTabIndex",value:function(){return(0,r.nu)(this.player)}},{key:"description",get:function(){return this.config.description||this.getDescription()}},{key:"getDescription",value:function(){return""}},{key:"icon",get:function(){return this._icon},set:function(t){this._icon=t}},{key:"side",get:function(){var t;return(null===(t=this.config)||void 0===t?void 0:t.side)||"left"}},{key:"buttonName",get:function(){return this.name}},{key:"position",get:function(){switch(this.side){case"left":return i.iN.LEFT;case"center":return i.iN.CENTER;case"right":return i.iN.RIGHT;default:throw new Error("Invalid CanvasButtonPlugin side set: ".concat(this.side))}}},{key:"action",value:(a=v(d().mark((function t(e){return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.player.log.warn("Action not implemented in canvas button plugin ".concat(this.name));case 1:case"end":return t.stop()}}),t,this)}))),function(t){return a.apply(this,arguments)})}],n&&c(e.prototype,n),o&&c(e,o),Object.defineProperty(e,"prototype",{writable:!1}),h}(o.Z)},4382:(t,e,n)=>{n.d(e,{Xz:()=>z,iN:()=>G,RM:()=>$,ZP:()=>H,in:()=>U,yJ:()=>B,Hl:()=>Z,Ke:()=>M});var r=n(9076),o=n(6038),i=n(916),a=n(7118),s=n(3379),u=n.n(s),c=n(7795),l=n.n(c),f=n(569),h=n.n(f),p=n(3565),d=n.n(p),y=n(9216),v=n.n(y),g=n(4589),m=n.n(g),b=n(303),w={};function A(t){return A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},A(t)}function x(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function C(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==A(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==A(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===A(i)?i:String(i)),r)}var o,i}function E(t,e,n){return e&&C(t.prototype,e),n&&C(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function k(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&L(t,e)}function L(t,e){return L=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},L(t,e)}function _(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=P(t);if(e){var o=P(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return S(this,n)}}function S(t,e){if(e&&("object"===A(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function P(t){return P=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},P(t)}function T(t){return function(t){if(Array.isArray(t))return O(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return O(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?O(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function R(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */R=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function c(t,e,n,o){var i=e&&e.prototype instanceof h?e:h,a=Object.create(i.prototype),s=new L(o||[]);return r(a,"_invoke",{value:x(t,n,s)}),a}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var f={};function h(){}function p(){}function d(){}var y={};u(y,i,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(_([])));g&&g!==e&&n.call(g,i)&&(y=g);var m=d.prototype=h.prototype=Object.create(y);function b(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(r,i,a,s){var u=l(t[r],t,i);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"==A(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,s)}),(function(t){o("throw",t,a,s)})):e.resolve(f).then((function(t){c.value=t,a(c)}),(function(t){return o("throw",t,a,s)}))}s(u.arg)}var i;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){o(t,n,e,r)}))}return i=i?i.then(r,r):r()}})}function x(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=C(a,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=l(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function C(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,C(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=l(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function _(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:S}}function S(){return{value:void 0,done:!0}}return p.prototype=d,r(m,"constructor",{value:d,configurable:!0}),r(d,"constructor",{value:p,configurable:!0}),p.displayName=u(d,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,u(t,s,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},b(w.prototype),u(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new w(c(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(m),u(m,s,"Generator"),u(m,i,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=_,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),k(n),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;k(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:_(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},t}function I(t,e,n,r,o,i,a){try{var s=t[i](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,o)}function j(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){I(i,r,o,a,s,"next",t)}function s(t){I(i,r,o,a,s,"throw",t)}a(void 0)}))}}w.styleTagTransform=m(),w.setAttributes=d(),w.insert=h().bind(null,"head"),w.domAPI=l(),w.insertStyleElement=v(),u()(b.Z,w),b.Z&&b.Z.locals&&b.Z.locals;var D=[];function B(t){return N.apply(this,arguments)}function N(){return(N=j(R().mark((function t(e){return R().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,o.FP)(e,"canvas",(function(t){D.push(t)}));case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function M(t){return F.apply(this,arguments)}function F(){return(F=j(R().mark((function t(e){return R().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function U(t,e){if(0===D.length)throw Error("No canvas plugins loaded. Note that `loadCanvasPlugins()` must to be called before use `getCanvasPlugins()`");var n=null;return D.some((function(t){if(t.isCompatible(e))return n=t,!0})),n}var G=Object.freeze({LEFT:"left",CENTER:"center",RIGHT:"right"}),V=function(t){var e=t.icon,n=t.tabIndex,r=t.ariaLabel,o=t.title,a=t.className,s=t.position,u=void 0===s?G.CENTER:s,c=t.click,l=t.content,f=t.name;if(!e)throw new Error("Error in video layout definition. getVideoCanvasButtons(): missing 'icon' attribute.");if(!c)throw new Error("Error in video layout definition. getVideoCanvasButtons(): missing 'click' function.");var h='class="align-'.concat(u).concat(a?" "+a:"",'"');r&&(h+=' aria-label="'.concat(r,'"')),o&&(h+=' title="'.concat(o,'"')),void 0!==n&&(h+=' tabindex="'.concat(n,'"')),void 0!==f&&(h+=' name="'.concat(f,'"'));var p=(0,i.jS)("\n        <button ".concat(h,'><i class="button-icon" style="pointer-events: none">').concat(e,"</i></button>\n    "));return this.buttonsArea.appendChild(p),p.addEventListener("click",function(){var t=j(R().mark((function t(e){return R().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c(l);case 2:return e.stopPropagation(),t.abrupt("return",!1);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),p},$=function(){var t=j(R().mark((function t(e,n,r,o,i){var s,u,c,l;return R().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=n.plugin,u=s.tabIndexStart,t.next=4,(0,a.uU)(e,o);case 4:return c=t.sent,l=[],[].concat(T(c),T(s.getVideoCanvasButtons(n,o.content,o,r))).forEach((function(t){t.tabIndex=u++,t.content=i;var e=V.apply(r,[t]);l.push(e)})),t.abrupt("return",l);case 9:case"end":return t.stop()}}),t)})));return function(e,n,r,o,i){return t.apply(this,arguments)}}(),Z=function(t,e,n){var r=e.plugin.tabIndexStart;n.sort((function(t,e){return t.getBoundingClientRect().left-e.getBoundingClientRect().left})).forEach((function(t){t.setAttribute("tabindex",r++)}))},z=function(t){k(r,t);var e,n=_(r);function r(t,e,o){var a;return x(this,r),(a=n.call(this,e,{tag:t,parent:o})).element.className="video-canvas",a._userArea=null,a._buttonsArea=(0,i.jS)('\n        <div class="button-area">\n        </div>\n        ',a.element),a}return E(r,[{key:"loadCanvas",value:(e=j(R().mark((function t(e){return R().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:throw Error("".concat(this.name,": loadCanvas() not implemented"));case 1:case"end":return t.stop()}}),t,this)}))),function(t){return e.apply(this,arguments)})},{key:"userArea",get:function(){return this._userArea||(this._userArea=document.createElement("div"),this._userArea.className="user-area",this.element.appendChild(this._userArea)),this._userArea}},{key:"buttonsArea",get:function(){return this._buttonsArea}},{key:"showButtons",value:function(){this.buttonsArea.style.display=null}},{key:"hideButtons",value:function(){this.buttonsArea.style.display="none"}}]),r}(i.FZ),H=function(t){k(n,t);var e=_(n);function n(){return x(this,n),e.apply(this,arguments)}return E(n,[{key:"type",get:function(){return"canvas"}},{key:"canvasType",get:function(){return""}},{key:"isCompatible",value:function(t){return Array.isArray(null==t?void 0:t.canvas)?-1!==t.canvas.indexOf(this.canvasType):t.canvas===this.canvasType}},{key:"getCanvasInstance",value:function(t){throw Error("".concat(this.name," canvas plugin: getCanvasInstance() not implemented"))}}]),n}(r.Z)},1285:(t,e,n)=>{n.d(e,{Z:()=>b,e:()=>m});var r=n(9076),o=n(6038),i=n(2624);function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function s(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */s=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function f(t,e,n,o){var i=e&&e.prototype instanceof d?e:d,a=Object.create(i.prototype),s=new _(o||[]);return r(a,"_invoke",{value:C(t,n,s)}),a}function h(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=f;var p={};function d(){}function y(){}function v(){}var g={};l(g,i,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(S([])));b&&b!==e&&n.call(b,i)&&(g=b);var w=v.prototype=d.prototype=Object.create(g);function A(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function x(t,e){function o(r,i,s,u){var c=h(t[r],t,i);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==a(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,s,u)}),(function(t){o("throw",t,s,u)})):e.resolve(f).then((function(t){l.value=t,s(l)}),(function(t){return o("throw",t,s,u)}))}u(c.arg)}var i;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){o(t,n,e,r)}))}return i=i?i.then(r,r):r()}})}function C(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=E(a,n);if(s){if(s===p)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=h(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===p)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function E(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var o=h(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,p;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,p):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function _(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function S(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return y.prototype=v,r(w,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:y,configurable:!0}),y.displayName=l(v,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,l(t,c,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},A(x.prototype),l(x.prototype,u,(function(){return this})),t.AsyncIterator=x,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new x(f(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},A(w),l(w,c,"Generator"),l(w,i,(function(){return this})),l(w,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=S,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),L(n),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;L(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:S(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},t}function u(t,e,n,r,o,i,a){try{var s=t[i](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,o)}function c(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){u(i,r,o,a,s,"next",t)}function s(t){u(i,r,o,a,s,"throw",t)}a(void 0)}))}}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==a(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===a(i)?i:String(i)),r)}var o,i}function h(t,e,n){return e&&f(t.prototype,e),n&&f(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function p(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&d(t,e)}function d(t,e){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},d(t,e)}function y(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=g(t);if(e){var o=g(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return v(this,n)}}function v(t,e){if(e&&("object"===a(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function g(t){return g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},g(t)}var m=function(t){p(i,t);var e,n,r,o=y(i);function i(){return l(this,i),o.apply(this,arguments)}return h(i,[{key:"type",get:function(){return"data"}},{key:"context",get:function(){return this.config.context||[]}},{key:"read",value:(r=c(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:throw Error("DataPlugin.read() not implemented in data plugin '".concat(this.name,"'"));case 1:case"end":return t.stop()}}),t,this)}))),function(){return r.apply(this,arguments)})},{key:"write",value:(n=c(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:throw Error("DataPlugin.write() not implemented in data plugin '".concat(this.name,"'"));case 1:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})},{key:"remove",value:(e=c(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:throw Error("DataPlugin.remove() not implemented in data plugin '".concat(this.name,"'"));case 1:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})}]),i}(r.Z),b=function(t){p(a,t);var e,n,r,i=y(a);function a(t){var e;return l(this,a),(e=i.call(this,t))._dataPlugins={},(0,o.FP)(e.player,"data",function(){var t=c(s().mark((function t(n){var r;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:null===(r=n.context)||void 0===r||r.forEach((function(t){e._dataPlugins[t]=e._dataPlugins[t]||[],e._dataPlugins[t].push(n)}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),e}return h(a,[{key:"getDataPlugin",value:function(t){var e=this._dataPlugins[t]&&this._dataPlugins[t].length>0&&this._dataPlugins[t][0];if(e||(e=this._dataPlugins.default&&this._dataPlugins.default.length>0&&this._dataPlugins.default[0]),!e)throw Error("No data plugin found for context '".concat(t,"'"));return e}},{key:"getDataPlugins",value:function(t){var e=this._dataPlugins[t]&&this._dataPlugins[t].length>0&&this._dataPlugins[t];if(e||(e=this._dataPlugins.default&&this._dataPlugins.default.length>0&&this._dataPlugins.default),!e)throw Error("No data plugin found for context '".concat(t,"'"));return e}},{key:"read",value:(r=c(s().mark((function t(e,n){var r,o;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.getDataPlugin(e),t.next=3,r.read(e,n);case 3:return o=t.sent,t.abrupt("return",o);case 5:case"end":return t.stop()}}),t,this)}))),function(t,e){return r.apply(this,arguments)})},{key:"write",value:(n=c(s().mark((function t(e,n,r){var o,i,a,u;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=this.getDataPlugins(e),!Array.isArray(o)){t.next=14;break}i=null,a=0;case 4:if(!(a<o.length)){t.next=11;break}return t.next=7,o[a].write(e,n,r);case 7:i=t.sent;case 8:++a,t.next=4;break;case 11:return t.abrupt("return",i);case 14:if(!o){t.next=21;break}return t.next=17,o.write(e,n,r);case 17:return u=t.sent,t.abrupt("return",u);case 21:this.player.log.warn("No such data plugin found for context '".concat(e,"'"));case 22:case"end":return t.stop()}}),t,this)}))),function(t,e,r){return n.apply(this,arguments)})},{key:"remove",value:(e=c(s().mark((function t(e,n){var r,o,i,a;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!((r=this.getDataPlugins(e)).length>1)){t.next=14;break}o=null,i=0;case 4:if(!(i<r.length)){t.next=11;break}return t.next=7,r[i].remove(e,n);case 7:o=t.sent;case 8:++i,t.next=4;break;case 11:return t.abrupt("return",o);case 14:return t.next=16,r.remove(e,n);case 16:return a=t.sent,t.abrupt("return",a);case 18:case"end":return t.stop()}}),t,this)}))),function(t,n){return e.apply(this,arguments)})}]),a}(i.Z)},8984:(t,e,n)=>{n.d(e,{$_:()=>v,ZP:()=>w,v$:()=>m});var r=n(9076),o=n(980),i=n(6038);function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function s(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */s=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function f(t,e,n,o){var i=e&&e.prototype instanceof d?e:d,a=Object.create(i.prototype),s=new _(o||[]);return r(a,"_invoke",{value:C(t,n,s)}),a}function h(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=f;var p={};function d(){}function y(){}function v(){}var g={};l(g,i,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(S([])));b&&b!==e&&n.call(b,i)&&(g=b);var w=v.prototype=d.prototype=Object.create(g);function A(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function x(t,e){function o(r,i,s,u){var c=h(t[r],t,i);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==a(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,s,u)}),(function(t){o("throw",t,s,u)})):e.resolve(f).then((function(t){l.value=t,s(l)}),(function(t){return o("throw",t,s,u)}))}u(c.arg)}var i;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){o(t,n,e,r)}))}return i=i?i.then(r,r):r()}})}function C(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=E(a,n);if(s){if(s===p)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=h(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===p)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function E(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var o=h(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,p;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,p):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function _(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function S(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return y.prototype=v,r(w,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:y,configurable:!0}),y.displayName=l(v,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,l(t,c,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},A(x.prototype),l(x.prototype,u,(function(){return this})),t.AsyncIterator=x,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new x(f(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},A(w),l(w,c,"Generator"),l(w,i,(function(){return this})),l(w,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=S,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),L(n),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;L(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:S(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},t}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==a(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===a(i)?i:String(i)),r)}var o,i}function l(t,e){return l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},l(t,e)}function f(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=p(t);if(e){var o=p(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h(this,n)}}function h(t,e){if(e&&("object"===a(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function p(t){return p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},p(t)}function d(t,e,n,r,o,i,a){try{var s=t[i](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,o)}function y(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){d(i,r,o,a,s,"next",t)}function s(t){d(i,r,o,a,s,"throw",t)}a(void 0)}))}}function v(t){return g.apply(this,arguments)}function g(){return g=y(s().mark((function t(e){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,i.FP)(e,"eventLog",function(){var t=y(s().mark((function t(n){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n.events.forEach((function(t){(0,o.GT)(e,t,function(){var e=y(s().mark((function e(r){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.onEvent(t,r);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 2:case"end":return t.stop()}}),t)}))),g.apply(this,arguments)}function m(t){return b.apply(this,arguments)}function b(){return(b=y(s().mark((function t(e){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var w=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&l(t,e)}(a,t);var e,n,r,o,i=f(a);function a(){return u(this,a),i.apply(this,arguments)}return e=a,n=[{key:"type",get:function(){return"eventLog"}},{key:"events",get:function(){return[]}},{key:"onEvent",value:(o=y(s().mark((function t(e,n){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.player.log.warn("".concat(this.name,": onEvent() function is not overwritten."));case 1:case"end":return t.stop()}}),t,this)}))),function(t,e){return o.apply(this,arguments)})}],n&&c(e.prototype,n),r&&c(e,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(r.Z)},980:(t,e,n)=>{n.d(e,{GT:()=>o,Ii:()=>s,Ss:()=>a,ZP:()=>r,qe:()=>i});const r=Object.freeze({PLAY:"paella:play",PAUSE:"paella:pause",STOP:"paella:stop",ENDED:"paella:ended",SEEK:"paella:seek",FULLSCREEN_CHANGED:"paella:fullscreenchanged",ENTER_FULLSCREEN:"paella:enterfullscreen",EXIT_FULLSCREEN:"paella:exitfullscreen",VOLUME_CHANGED:"paella:volumeChanged",TIMEUPDATE:"paella:timeupdate",TRIMMING_CHANGED:"paella:trimmingChanged",CAPTIONS_CHANGED:"paella:captionsChanged",CAPTIONS_ENABLED:"paella:captionsEnabled",CAPTIONS_DISABLED:"paella:captionsDisabled",BUTTON_PRESS:"paella:buttonPress",SHOW_POPUP:"paella:showPopUp",HIDE_POPUP:"paella:hidePopUp",MANIFEST_LOADED:"paella:manifestLoaded",STREAM_LOADED:"paella:streamLoaded",PLAYER_LOADED:"paella:playerLoaded",PLAYER_UNLOADED:"paella:playerUnloaded",RESIZE:"paella:resize",RESIZE_END:"paella:resizeEnd",LAYOUT_CHANGED:"paella:layoutChanged",PLAYBACK_RATE_CHANGED:"paella:playbackRateChanged",VIDEO_QUALITY_CHANGED:"paella:videoQualityChanged",HIDE_UI:"paella:hideUI",SHOW_UI:"paella:showUI",COOKIE_CONSENT_CHANGED:"paella:cookieConsentChanged",LOG:"paella:log"});function o(t,e,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return t.__eventListeners__=t.__eventListeners__||{},t.__eventListeners__[e]=t.__eventListeners__[e]||[],t.__eventListeners__[e].push({callback:n,unregisterOnUnload:r}),n}function i(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};t.__eventListeners__&&t.__eventListeners__[e]&&t.__eventListeners__[e].forEach((function(t){return t.callback(n)}))}function a(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};t.ready&&i(t,e,n)}function s(t){if(t.__eventListeners__)for(var e in t.__eventListeners__)t.__eventListeners__[e]=t.__eventListeners__[e].filter((function(t){return 0==t.unregisterOnUnload})),t.log.debug("Unregister event: "+t.__eventListeners__[e])}},9267:(t,e,n)=>{n.d(e,{CZ:()=>x,L:()=>w,ZP:()=>k,gg:()=>b,mW:()=>E});var r=n(9076),o=n(6038),i=n(6911);function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function s(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */s=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function f(t,e,n,o){var i=e&&e.prototype instanceof d?e:d,a=Object.create(i.prototype),s=new _(o||[]);return r(a,"_invoke",{value:C(t,n,s)}),a}function h(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=f;var p={};function d(){}function y(){}function v(){}var g={};l(g,i,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(S([])));b&&b!==e&&n.call(b,i)&&(g=b);var w=v.prototype=d.prototype=Object.create(g);function A(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function x(t,e){function o(r,i,s,u){var c=h(t[r],t,i);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==a(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,s,u)}),(function(t){o("throw",t,s,u)})):e.resolve(f).then((function(t){l.value=t,s(l)}),(function(t){return o("throw",t,s,u)}))}u(c.arg)}var i;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){o(t,n,e,r)}))}return i=i?i.then(r,r):r()}})}function C(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=E(a,n);if(s){if(s===p)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=h(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===p)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function E(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var o=h(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,p;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,p):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function _(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function S(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return y.prototype=v,r(w,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:y,configurable:!0}),y.displayName=l(v,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,l(t,c,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},A(x.prototype),l(x.prototype,u,(function(){return this})),t.AsyncIterator=x,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new x(f(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},A(w),l(w,c,"Generator"),l(w,i,(function(){return this})),l(w,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=S,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),L(n),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;L(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:S(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},t}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==a(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===a(i)?i:String(i)),r)}var o,i}function l(t,e){return l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},l(t,e)}function f(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=p(t);if(e){var o=p(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h(this,n)}}function h(t,e){if(e&&("object"===a(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function p(t){return p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},p(t)}function d(t,e,n,r,o,i,a){try{var s=t[i](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,o)}function y(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){d(i,r,o,a,s,"next",t)}function s(t){d(i,r,o,a,s,"throw",t)}a(void 0)}))}}var v=function(t){var e,n,r;return"alt:".concat((null===(e=t.keyModifiers)||void 0===e?void 0:e.altKey)||!1,", ctrl:").concat((null===(n=t.keyModifiers)||void 0===n?void 0:n.ctrlKey)||!1,", shift:").concat((null===(r=t.keyModifiers)||void 0===r?void 0:r.shiftKey)||!1)},g=function(t){return"".concat(t.keyCode,"_").concat(v(t))},m=function(t){t.keyModifiers=t.keyModifiers||{},t.keyModifiers.altKey=t.keyModifiers.altKey||!1,t.keyModifiers.shiftKey=t.keyModifiers.shiftKey||!1,t.keyModifiers.ctrlKey=t.keyModifiers.ctrlKey||!1},b=function(t){var e=[];for(var n in t.__shortcuts__)t.__shortcuts__[n].forEach((function(t){t.disabled||e.push(t)}));return e};function w(t){return A.apply(this,arguments)}function A(){return A=y(s().mark((function t(e){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.__shortcuts__=e.__shortcuts__||{},window.__paella_shortcuts_player__){t.next=5;break}window.__paella_shortcuts_player__=e,t.next=8;break;case 5:return e.log.warn("Warning: more than one paella player instance with enabled shortcut plugins."),e.log.warn("Check your code to ensure that only one instance of paella player registers keyboard shortcut plugins."),t.abrupt("return");case 8:return t.next=10,(0,o.FP)(e,"keyshortcut",function(){var t=y(s().mark((function t(n){var r,o,i,a,u;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.getKeys();case 2:return t.sent.forEach((function(t){e.__shortcuts__[t.keyCode]=e.__shortcuts__[t.keyCode]||[],t.plugin=n,e.__shortcuts__[t.keyCode].push(t)})),t.next=6,n.getDictionaries();case 6:for(o in r=t.sent)i=r[o],e.addDictionary(o,i);a=s().mark((function t(n){var r,o;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=e.__shortcuts__[n],o={},r.length>0&&r.forEach((function(t){var r=g(t);if(m(t),o[r]){e.log.warn("Collision detected in shortcut for key code ".concat(n));var i=o[r];e.log.warn("Enabled shortcut:"),e.log.warn("plugin: ".concat(i.plugin.name,", keyCode: ").concat(i.keyCode,", modifiers: ").concat(v(i),", description: ").concat(i.description)),e.log.warn("Collision shortcut (disabled):"),e.log.warn("plugin: ".concat(t.plugin.name,", keyCode: ").concat(t.keyCode,", modifiers: ").concat(v(t),", description: ").concat(t.description)),t.disabled=!0}else o[r]=t}));case 3:case"end":return t.stop()}}),t)})),t.t0=s().keys(e.__shortcuts__);case 10:if((t.t1=t.t0()).done){t.next=15;break}return u=t.t1.value,t.delegateYield(a(u),"t2",13);case 13:t.next=10;break;case 15:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 10:e.__paella_key_event_listener__=function(){var t=y(s().mark((function t(n){var r,o,a,u;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=function(){return document.activeElement&&document.activeElement!==document.body&&!/video/i.test(document.activeElement.tagName)},e.containerElement.contains(document.activeElement)||i.Z.Contains(document.activeElement)||document.activeElement===document.body){t.next=3;break}return t.abrupt("return");case 3:if(void 0!==(null===(r=e.config.accessibility)||void 0===r?void 0:r.clickWithSpacebar)&&!(null===(o=e.config.accessibility)||void 0===o?void 0:o.clickWithSpacebar)||"Space"!==n.code||!a()){t.next=6;break}return t.abrupt("return");case 6:if(!(u=e.__shortcuts__[n.code])){t.next=10;break}return t.next=10,u.forEach(function(){var t=y(s().mark((function t(r){var o,i,a,u,c,l,f,h,p;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(f=!(null!==(o=r.keyModifiers)&&void 0!==o&&o.altKey)||(null===(i=r.keyModifiers)||void 0===i?void 0:i.altKey)&&n.altKey,h=!(null!==(a=r.keyModifiers)&&void 0!==a&&a.ctrlKey)||(null===(u=r.keyModifiers)||void 0===u?void 0:u.ctrlKey)&&n.ctrlKey,p=!(null!==(c=r.keyModifiers)&&void 0!==c&&c.shiftKey)||(null===(l=r.keyModifiers)||void 0===l?void 0:l.shiftKey)&&n.shiftKey,!(f&&h&&p)||r.disabled){t.next=8;break}return t.next=6,r.action(n);case 6:t.next=9;break;case 8:f&&h&&p&&r.disabled&&(e.log.warn("Shortcut not triggered due to collision:"),e.log.warn("plugin: ".concat(r.plugin.name,", keyCode: ").concat(r.keyCode,", modifiers: ").concat(v(r),", description: ").concat(r.description)));case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),window.addEventListener("keyup",e.__paella_key_event_listener__);case 12:case"end":return t.stop()}}),t)}))),A.apply(this,arguments)}function x(t){return C.apply(this,arguments)}function C(){return(C=y(s().mark((function t(e){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:delete e.__shortcuts__,e==window.__paella_shortcuts_player__&&(window.removeEventListener("keyup",e.__paella_key_event_listener__),delete window.__paella_key_event_listener__,delete window.__paella_shortcuts_player__);case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var E={Digit1:"Digit1",Digit2:"Digit2",Digit3:"Digit3",Digit4:"Digit4",Digit5:"Digit5",Digit6:"Digit6",Digit7:"Digit7",Digit8:"Digit8",Digit9:"Digit9",Digit0:"Digit0",KeyA:"KeyA",KeyB:"KeyB",KeyC:"KeyC",KeyD:"KeyD",KeyE:"KeyE",KeyF:"KeyF",KeyG:"KeyG",KeyH:"KeyH",KeyI:"KeyI",KeyJ:"KeyJ",KeyK:"KeyK",KeyL:"KeyL",KeyM:"KeyM",KeyN:"KeyN",KeyO:"KeyO",KeyP:"KeyP",KeyQ:"KeyQ",KeyR:"KeyR",KeyS:"KeyS",KeyT:"KeyT",KeyU:"KeyU",KeyV:"KeyV",KeyW:"KeyW",KeyX:"KeyX",KeyY:"KeyY",KeyZ:"KeyZ",Comma:"Comma",Period:"Period",Semicolon:"Semicolon",Quote:"Quote",BracketLeft:"BracketLeft",BracketRight:"BracketRight",Backquote:"Backquote",Backslash:"Backslash",Minus:"Minus",Equal:"Equal",AltLeft:"AltLeft",AltRight:"AltRight",CapsLock:"CapsLock",ControlLeft:"ControlLeft",ControlRight:"ControlRight",OSLeft:"OSLeft",OSRight:"OSRight",ShiftLeft:"ShiftLeft",ShiftRight:"ShiftRight",ContextMenu:"ContextMenu",Enter:"Enter",Space:"Space",Tab:"Tab",Delete:"Delete",End:"End",Help:"Help",Home:"Home",Insert:"Insert",PageDown:"PageDown",PageUp:"PageUp",ArrowDown:"ArrowDown",ArrowLeft:"ArrowLeft",ArrowRight:"ArrowRight",ArrowUp:"ArrowUp",Escape:"Escape",PrintScreen:"PrintScreen",ScrollLock:"ScrollLock",Pause:"Pause"},k=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&l(t,e)}(h,t);var e,n,r,o,i,a=f(h);function h(){return u(this,h),a.apply(this,arguments)}return e=h,n=[{key:"type",get:function(){return"keyshortcut"}},{key:"getKeys",value:(i=y(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",[]);case 1:case"end":return t.stop()}}),t)}))),function(){return i.apply(this,arguments)})},{key:"getDictionaries",value:(o=y(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",{});case 1:case"end":return t.stop()}}),t)}))),function(){return o.apply(this,arguments)})}],n&&c(e.prototype,n),r&&c(e,r),Object.defineProperty(e,"prototype",{writable:!1}),h}(r.Z)},629:(t,e,n)=>{n.d(e,{BF:()=>A,D$:()=>s,Fv:()=>S,G3:()=>w,Gj:()=>E,Iu:()=>m,Ji:()=>L,Mb:()=>C,Pb:()=>a,Xx:()=>c,cN:()=>u,eJ:()=>f,fe:()=>_,fo:()=>T,gc:()=>P,m0:()=>b,m6:()=>l,n1:()=>k,rM:()=>x});var r="en",o="",i={};function a(t){var e=i[r]||{},n=i[o]||{};return e[t]||n[t]||t}function s(t){r=t}function u(){return r}function c(t,e){for(var n in i[t]=i[t]||{},e){var r=e[n];i[t][n]=r}}function l(){return i}function f(t){return t.config.defaultLanguage||navigator.language}var h=a,p=s,d=u,y=c,v=l,g=f;function m(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=h(t);if(Array.isArray(e)){var r=n;return e.forEach((function(t,e){var n="$".concat(e+1);r=r.replace(n,t)})),r}return n}function b(t){p(t)}function w(){return d()}function A(t,e){y(t,e)}function x(){return v()}function C(t){return g(t)}function E(t){h=t}function k(t){p=t}function L(t){d=t}function _(t){y=t}function S(t){v=t}function P(t){g=t}function T(t){o=C(t)}},143:(t,e,n)=>{n.d(e,{Z:()=>R});var r=n(7528),o=n(916),i=n(6911),a=n(3379),s=n.n(a),u=n(7795),c=n.n(u),l=n(569),f=n.n(l),h=n(3565),p=n.n(h),d=n(9216),y=n.n(d),v=n(4589),g=n.n(v),m=n(1872),b={};function w(t){return w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},w(t)}function A(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */A=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function c(t,e,n,o){var i=e&&e.prototype instanceof h?e:h,a=Object.create(i.prototype),s=new _(o||[]);return r(a,"_invoke",{value:C(t,n,s)}),a}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var f={};function h(){}function p(){}function d(){}var y={};u(y,i,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(S([])));g&&g!==e&&n.call(g,i)&&(y=g);var m=d.prototype=h.prototype=Object.create(y);function b(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function x(t,e){function o(r,i,a,s){var u=l(t[r],t,i);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"==w(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,s)}),(function(t){o("throw",t,a,s)})):e.resolve(f).then((function(t){c.value=t,a(c)}),(function(t){return o("throw",t,a,s)}))}s(u.arg)}var i;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){o(t,n,e,r)}))}return i=i?i.then(r,r):r()}})}function C(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=E(a,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=l(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function E(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=l(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function _(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function S(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return p.prototype=d,r(m,"constructor",{value:d,configurable:!0}),r(d,"constructor",{value:p,configurable:!0}),p.displayName=u(d,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,u(t,s,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},b(x.prototype),u(x.prototype,a,(function(){return this})),t.AsyncIterator=x,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new x(c(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(m),u(m,s,"Generator"),u(m,i,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=S,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),L(n),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;L(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:S(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},t}function x(t,e,n,r,o,i,a){try{var s=t[i](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,o)}function C(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){x(i,r,o,a,s,"next",t)}function s(t){x(i,r,o,a,s,"throw",t)}a(void 0)}))}}function E(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function k(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==w(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==w(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===w(i)?i:String(i)),r)}var o,i}function L(){return L="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=_(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},L.apply(this,arguments)}function _(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=O(t)););return t}function S(t,e){return S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},S(t,e)}function P(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=O(t);if(e){var o=O(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return T(this,n)}}function T(t,e){if(e&&("object"===w(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function O(t){return O=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},O(t)}b.styleTagTransform=g(),b.setAttributes=p(),b.insert=f().bind(null,"head"),b.domAPI=c(),b.insertStyleElement=y(),s()(m.Z,b),m.Z&&m.Z.locals&&m.Z.locals;var R=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&S(t,e)}(l,t);var e,n,r,a,s,u,c=P(l);function l(){return E(this,l),c.apply(this,arguments)}return e=l,n=[{key:"closeOnSelect",get:function(){return void 0===this.config.closeOnSelect&&("check"!==this.buttonType?this.config.closeOnSelect=!0:this.config.closeOnSelect=!1),this.config.closeOnSelect}},{key:"getContent",value:(u=C(A().mark((function t(){var e,n,r,i,a=this;return A().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=(0,o.jS)('<ul class="menu-button-content"></ul>'),this.menuTitle,t.next=4,this.getMenu();case 4:return n=t.sent,this._menuItems=n,r=!1,i=null,n.forEach((function(t){var n=(0,o.jS)('<li class="menu-button-item"></li>',e),s="";"button"===a.buttonType?s="menu-item-type-button":"check"===a.buttonType?s="menu-item-type-button"+(t.selected?" selected":""):"radio"===a.buttonType&&(s="menu-item-type-button",!r&&t.selected&&(s+=" selected",r=!0));var u="",c=t.title instanceof Element?t.title:null;t.icon&&t.title&&a.showTitles&&!c&&(u='\n\t\t\t\t<i class="menu-icon">'.concat(t.icon,'</i>\n\t\t\t\t<span class="menu-title">').concat(t.title,"</span>\n\t\t\t\t")),t.icon&&c&&a.showTitles?u='\n\t\t\t\t<i class="menu-icon">'.concat(t.icon,'</i>\n\t\t\t\t<span class="menu-title"></span>\n\t\t\t\t'):t.icon?u='\n\t\t\t\t<i class="menu-icon">'.concat(t.icon,"</i>\n\t\t\t\t"):t.title&&!c?u='\n\t\t\t\t<span class="menu-title">'.concat(t.title,"</span>\n\t\t\t\t"):c&&(u='\n\t\t\t\t<span class="menu-title"></span>\n\t\t\t\t');var l=(0,o.jS)('\n\t\t\t\t<button class="'.concat(s,'" aria-label="').concat(t.title,'" title="').concat(t.title,'">').concat(u,"</button>"),n);c&&l.getElementsByClassName("menu-title")[0].appendChild(c),i||(i=l),t.buttonElement=l,l._itemData=t,l.addEventListener("click",(function(t){"check"===a.buttonType?(t.target._itemData.selected=!t.target._itemData.selected,t.target._itemData.selected?t.target.classList.add("selected"):t.target.classList.remove("selected")):"radio"===a.buttonType&&(a.menuItems.forEach((function(t){t.selected=!1,t.buttonElement.classList.remove("selected")})),t.target._itemData.selected=!t.target._itemData.selected,t.target._itemData.selected?t.target.classList.add("selected"):t.target.classList.remove("selected")),a.itemSelected(t.target._itemData,a._menuItems),t.stopPropagation(),a.closeOnSelect&&a.closeMenu()}));var f=l.getElementsByTagName("svg");f.length>0&&(/%$/.test(f[0].getAttribute("width"))&&f[0].removeAttribute("width"),/%$/.test(f[0].getAttribute("height"))&&f[0].removeAttribute("height"))})),setTimeout((function(){i.focus()}),50),t.abrupt("return",e);case 11:case"end":return t.stop()}}),t,this)}))),function(){return u.apply(this,arguments)})},{key:"getMenu",value:(s=C(A().mark((function t(){var e;return A().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=[{id:0,title:"Option 1"},{id:1,title:"Option 2"},{id:2,title:"Option 3"},{id:3,title:"Option 4"},{id:4,title:"Option 5"}],t.abrupt("return",e);case 2:case"end":return t.stop()}}),t)}))),function(){return s.apply(this,arguments)})},{key:"menuItems",get:function(){return this._menuItems}},{key:"showTitles",get:function(){return!0}},{key:"buttonType",value:function(){return"button"}},{key:"itemSelected",value:function(t,e){this.player.log.warn("MenuButtonPlugin (".concat(this.name,"): itemSelected() function not implemented."))}},{key:"closeMenu",value:function(){this.config.closeParentPopUp?i.Z.HideAllPopUps(!1):this._popUp.hide()}},{key:"showPopUp",value:(a=C(A().mark((function t(){return A().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.refreshContent=!0,t.next=3,L(O(l.prototype),"showPopUp",this).call(this);case 3:case"end":return t.stop()}}),t,this)}))),function(){return a.apply(this,arguments)})}],n&&k(e.prototype,n),r&&k(e,r),Object.defineProperty(e,"prototype",{writable:!1}),l}(r.Z)},2624:(t,e,n)=>{function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,(i=o.key,a=void 0,a=function(t,e){if("object"!==r(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,e||"default");if("object"!==r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===r(a)?a:String(a)),o)}var i,a}n.d(e,{Z:()=>i});var i=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._player=e}var e,n,r;return e=t,(n=[{key:"player",get:function(){return this._player}}])&&o(e.prototype,n),r&&o(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}()},4453:(t,e,n)=>{n.d(e,{Z:()=>r});const r=Object.freeze({UNLOADED:0,LOADING_MANIFEST:1,MANIFEST:2,LOADING_PLAYER:3,LOADED:4,UNLOADING_MANIFEST:5,UNLOADING_PLAYER:6,ERROR:7})},9076:(t,e,n)=>{function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */o=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,i=Object.defineProperty||function(t,e,n){t[e]=n.value},a="function"==typeof Symbol?Symbol:{},s=a.iterator||"@@iterator",u=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function f(t,e,n,r){var o=e&&e.prototype instanceof d?e:d,a=Object.create(o.prototype),s=new _(r||[]);return i(a,"_invoke",{value:C(t,n,s)}),a}function h(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=f;var p={};function d(){}function y(){}function v(){}var g={};l(g,s,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(S([])));b&&b!==e&&n.call(b,s)&&(g=b);var w=v.prototype=d.prototype=Object.create(g);function A(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function x(t,e){function o(i,a,s,u){var c=h(t[i],t,a);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==r(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,s,u)}),(function(t){o("throw",t,s,u)})):e.resolve(f).then((function(t){l.value=t,s(l)}),(function(t){return o("throw",t,s,u)}))}u(c.arg)}var a;i(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){o(t,n,e,r)}))}return a=a?a.then(r,r):r()}})}function C(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=E(a,n);if(s){if(s===p)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=h(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===p)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function E(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var o=h(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,p;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,p):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function _(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function S(t){if(t){var e=t[s];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return y.prototype=v,i(w,"constructor",{value:v,configurable:!0}),i(v,"constructor",{value:y,configurable:!0}),y.displayName=l(v,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,l(t,c,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},A(x.prototype),l(x.prototype,u,(function(){return this})),t.AsyncIterator=x,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new x(f(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},A(w),l(w,c,"Generator"),l(w,s,(function(){return this})),l(w,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=S,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),L(n),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;L(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:S(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},t}function i(t,e,n,r,o,i,a){try{var s=t[i](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,o)}function a(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var a=t.apply(e,n);function s(t){i(a,r,o,s,u,"next",t)}function u(t){i(a,r,o,s,u,"throw",t)}s(void 0)}))}}function s(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,(i=o.key,a=void 0,a=function(t,e){if("object"!==r(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,e||"default");if("object"!==r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===r(a)?a:String(a)),o)}var i,a}function u(t,e){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},u(t,e)}function c(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=f(t);if(e){var o=f(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l(this,n)}}function l(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function f(t){return f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},f(t)}n.d(e,{Z:()=>h});var h=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&u(t,e)}(p,t);var e,n,r,i,l,f,h=c(p);function p(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,p),(n=h.call(this,t))._name=e,n}return e=p,n=[{key:"getPluginModuleInstance",value:function(){return null}},{key:"config",get:function(){return this._config}},{key:"type",get:function(){return"none"}},{key:"order",get:function(){var t;return(null===(t=this._config)||void 0===t?void 0:t.order)||0}},{key:"description",get:function(){var t;return(null===(t=this._config)||void 0===t?void 0:t.description)||""}},{key:"name",get:function(){return this._name}},{key:"isEnabled",value:(f=a(o().mark((function t(){var e;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",null===(e=this.config)||void 0===e?void 0:e.enabled);case 1:case"end":return t.stop()}}),t,this)}))),function(){return f.apply(this,arguments)})},{key:"load",value:(l=a(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)}))),function(){return l.apply(this,arguments)})},{key:"unload",value:(i=a(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)}))),function(){return i.apply(this,arguments)})}],n&&s(e.prototype,n),r&&s(e,r),Object.defineProperty(e,"prototype",{writable:!1}),p}(n(2624).Z)},7133:(t,e,n)=>{var r="src/js/core/PluginModule.js";function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function i(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */i=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},a="function"==typeof Symbol?Symbol:{},s=a.iterator||"@@iterator",u=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function f(t,e,n,o){var i=e&&e.prototype instanceof d?e:d,a=Object.create(i.prototype),s=new _(o||[]);return r(a,"_invoke",{value:C(t,n,s)}),a}function h(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=f;var p={};function d(){}function y(){}function v(){}var g={};l(g,s,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(S([])));b&&b!==e&&n.call(b,s)&&(g=b);var w=v.prototype=d.prototype=Object.create(g);function A(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function x(t,e){function i(r,a,s,u){var c=h(t[r],t,a);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==o(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){i("next",t,s,u)}),(function(t){i("throw",t,s,u)})):e.resolve(f).then((function(t){l.value=t,s(l)}),(function(t){return i("throw",t,s,u)}))}u(c.arg)}var a;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){i(t,n,e,r)}))}return a=a?a.then(r,r):r()}})}function C(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=E(a,n);if(s){if(s===p)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=h(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===p)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function E(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var o=h(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,p;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,p):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function _(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function S(t){if(t){var e=t[s];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return y.prototype=v,r(w,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:y,configurable:!0}),y.displayName=l(v,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,l(t,c,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},A(x.prototype),l(x.prototype,u,(function(){return this})),t.AsyncIterator=x,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new x(f(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},A(w),l(w,c,"Generator"),l(w,s,(function(){return this})),l(w,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=S,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),L(n),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;L(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:S(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},t}function a(t,e,n,r,o,i,a){try{var s=t[i](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,o)}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(i=r.key,a=void 0,a=function(t,e){if("object"!==o(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===o(a)?a:String(a)),r)}var i,a}function c(t,e){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},c(t,e)}function l(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=h(t);if(e){var o=h(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f(this,n)}}function f(t,e){if(e&&("object"===o(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function h(t){return h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},h(t)}n.d(e,{Z:()=>p});var p=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&c(t,e)}(d,t);var e,n,o,f,h,p=l(d);function d(){return s(this,d),p.apply(this,arguments)}return e=d,n=[{key:"moduleName",get:function(){return this.player.log.warn("Incomplete player module definition: '".concat(r,".moduleName'")),"-"}},{key:"moduleVersion",get:function(){return this.player.log.warn("Incomplete player module definition: '".concat(r,".moduleVersion'")),"0.0.0"}},{key:"getDictionaries",value:(f=i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",null);case 1:case"end":return t.stop()}}),t)})),h=function(){var t=this,e=arguments;return new Promise((function(n,r){var o=f.apply(t,e);function i(t){a(o,n,r,i,s,"next",t)}function s(t){a(o,n,r,i,s,"throw",t)}i(void 0)}))},function(){return h.apply(this,arguments)})}],n&&u(e.prototype,n),o&&u(e,o),Object.defineProperty(e,"prototype",{writable:!1}),d}(n(2624).Z)},6911:(t,e,n)=>{n.d(e,{Z:()=>N});var r=n(916),o=n(980),i=n(3379),a=n.n(i),s=n(7795),u=n.n(s),c=n(569),l=n.n(c),f=n(3565),h=n.n(f),p=n(9216),d=n.n(p),y=n(4589),v=n.n(y),g=n(6777),m={};m.styleTagTransform=v(),m.setAttributes=h(),m.insert=l().bind(null,"head"),m.domAPI=u(),m.insertStyleElement=d(),a()(g.Z,m),g.Z&&g.Z.locals&&g.Z.locals;var b=n(8221),w=n.n(b),A=n(1835),x=n.n(A);function C(t){return C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},C(t)}function E(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function k(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==C(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==C(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===C(i)?i:String(i)),r)}var o,i}function L(){return L="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=_(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},L.apply(this,arguments)}function _(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=R(t)););return t}function S(t,e){return S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},S(t,e)}function P(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=R(t);if(e){var o=R(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return T(this,n)}}function T(t,e){if(e&&("object"===C(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return O(t)}function O(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function R(t){return R=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},R(t)}var I=[];function j(t,e,n){if(e){e.setAttribute("aria-pressed",!0);var r=e.getBoundingClientRect(),o=r.top,i=r.left,a=r.right,s=r.bottom,u=r.width,c=r.height,l=i+u/2,f=o+c/2,h=document.body.scrollTop,p=window.innerWidth,d=window.innerHeight,y=window.innerWidth/2,v=window.innerHeight/2;if(n.style.left="",n.style.right="",n.style.bottom="",n.style.top="",n.style.width="",n.style.height="",n.classList.remove("static-position"),y>l&&v<=f){var g=d-(s-c);n.style.left="".concat(i,"px"),n.style.bottom="".concat(g,"px"),n.style.maxHeight="calc(100vh - ".concat(g,"px - 10px)")}else if(y>l&&v>f)n.style.left="".concat(i,"px"),n.style.top="".concat(o+c+h,"px"),n.style.maxHeight="calc(100vh - ".concat(o+c,"px - 10px)");else if(y<=l&&v>f)n.style.right="".concat(p-a,"px"),n.style.top="".concat(o+c+h,"px"),n.style.maxHeight="calc(100vh - ".concat(o+c,"px - 10px)");else if(y<=l&&v<=f){var m=d-(s-c);n.style.right="".concat(p-a,"px"),n.style.bottom="".concat(m,"px"),n.style.maxHeight="calc(100vh - ".concat(m,"px - 10px)")}setTimeout((function(){n.offsetTop<0&&(n.style.top="0px")}),100)}}function D(t){t.__hidePopUpActionContainer||(t.__hidePopUpActionContainer=(0,r.jS)('<div class="hide-popup-action-container"></div>'),t.videoContainer.element.appendChild(t.__hidePopUpActionContainer),t.__hidePopUpActionContainer.style.position="absolute",t.__hidePopUpActionContainer.style.left="0px",t.__hidePopUpActionContainer.style.top="0px",t.__hidePopUpActionContainer.style.right="0px",t.__hidePopUpActionContainer.style.bottom="0px",t.__hidePopUpActionContainer.style.zIndex=500,t.__hidePopUpActionContainer.addEventListener("click",(function(t){N.HideAllPopUps(!1),t.stopPropagation()}))),t.__hidePopUpActionContainer.style.display="block"}function B(t,e,n,r){var o=e.left-t.x,i=e.top-t.y,a=t.width-o,s=t.height-i;switch(!0){case o<=10&&i<=10&&r:return"RESIZE_NW";case o<=10&&s<=10&&r:return"RESIZE_SW";case o<=10&&r:return"RESIZE_W";case a<=10&&i<=10&&r:return"RESIZE_NE";case a<=10&&s<=10&&r:return"RESIZE_SE";case a<=10&&r:return"RESIZE_E";case i<=10&&r:return"RESIZE_N";case s<=10&&r:return"RESIZE_S";case i<=10+n:return"MOVE";default:return""}}var N=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&S(t,e)}(s,t);var e,n,i,a=P(s);function s(t,e){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],u=arguments.length>5&&void 0!==arguments[5]&&arguments[5],c=arguments.length>6&&void 0!==arguments[6]&&arguments[6],l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"";E(this,s);var f={class:"".concat(i?"popup-container":"popup-container no-modal"," ").concat(l)};u=u||c;var h=t.getCustomPluginIcon("paella-core","dock-popup")||w(),p=t.getCustomPluginIcon("paella-core","close-popup")||x(),d='\n\t\t<div class="popup-content'.concat(c?" resizeable":"").concat(u?" moveable":" fixed",'">\n\t\t\t<div class="border-top-left"></div><div class="border-top-center"></div><div class="border-top-right"></div>\n\t\t\t<div class="title-bar">\n\t\t\t\t<div class="title-bar-content"></div>\n\t\t\t\t<div class="popup-action-buttons">\n\t\t\t\t\t<button class="popup-action-button dock-button"><i>').concat(h,'</i></button>\n\t\t\t\t\t<button class="popup-action-button close-button"><i>').concat(p,'</i></button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="center-container"></div>\n\t\t\t<div class="border-bottom-left"></div><div class="border-bottom-center"></div><div class="border-bottom-right"></div>\n\t\t</div>\n\t\t');(n=a.call(this,t,{attributes:f,children:d,parent:e}))._lastFocusElement=document.activeElement,n._modal=i,n._contextObject=o,n._dragActionData=null,n._moveable=u||c,n._resizeable=c,n._id=Symbol(O(n)),I.push(O(n));var y=n.element.getElementsByClassName("dock-button")[0];y.addEventListener("click",(function(t){n.dock()}));var v=n.element.getElementsByClassName("close-button")[0];return v.addEventListener("click",(function(){return n.hide()})),v.addEventListener("mousedown",(function(t){return t.stopPropagation()})),n._closeButton=v,n.element.addEventListener("click",(function(){n._closeOnClickOut&&n.hide()})),n._contentElement=n.element.getElementsByClassName("popup-content")[0],n._centerContainer=n.element.getElementsByClassName("center-container")[0],n._titleBar=n.element.getElementsByClassName("title-bar")[0],n._centerContainer.addEventListener("mousedown",(function(t){t.stopPropagation()})),n._contentElement.addEventListener("mousedown",(function(t){if(n.moveable||n.resizeable){n._element.style.pointerEvents="all",n._moved=!0;var e=n._contentElement.getBoundingClientRect();n._contentElement.classList.add("static-position"),n._contentElement.style.top=e.top+"px",n._contentElement.style.left=e.left+"px",n._contentElement.style.width=e.width+"px",n._contentElement.style.height=e.height+"px",n._contentElement.style.maxHeight="unset";var r=n._titleBar.getBoundingClientRect().height;n._centerContainer.style.height="calc(100% - var(--popup-resizeable-border) * 2 - ".concat(r,"px)");var o={left:t.clientX,top:t.clientY};n._dragActionData={popUp:O(n),action:B(e,o,r,n._resizeable),event:t,initialPosition:o}}t.stopPropagation()})),n.element.addEventListener("mouseup",(function(t){n._element.style.pointerEvents="",(n.moveable||n.resizeable)&&(n._dragActionData=null)})),n.element.addEventListener("mousemove",(function(t){if(n._dragActionData){var e={left:t.clientX-n._dragActionData.initialPosition.left,top:t.clientY-n._dragActionData.initialPosition.top};n._dragActionData.initialPosition={left:t.clientX,top:t.clientY};var r=n._contentElement.getBoundingClientRect();"MOVE"===n._dragActionData.action?(n._contentElement.style.top="".concat(r.top+e.top,"px"),n._contentElement.style.left="".concat(r.left+e.left,"px"),n._contentElement.style.height="".concat(r.height,"px"),n._contentElement.style.width="".concat(r.width,"px")):"RESIZE_N"===n._dragActionData.action?(n._contentElement.style.height="".concat(r.height-e.top,"px"),n._contentElement.style.top="".concat(r.top+e.top,"px")):"RESIZE_NE"===n._dragActionData.action?(n._contentElement.style.height="".concat(r.height-e.top,"px"),n._contentElement.style.top="".concat(r.top+e.top,"px"),n._contentElement.style.width="".concat(r.width+e.left,"px"),n._contentElement.style.left="".concat(r.left,"px")):"RESIZE_E"===n._dragActionData.action?(n._contentElement.style.width="".concat(r.width+e.left,"px"),n._contentElement.style.left="".concat(r.left,"px")):"RESIZE_SE"===n._dragActionData.action?(n._contentElement.style.top="".concat(r.top,"px"),n._contentElement.style.left="".concat(r.left,"px"),n._contentElement.style.width="".concat(r.width+e.left,"px"),n._contentElement.style.height="".concat(r.height+e.top,"px")):"RESIZE_S"===n._dragActionData.action?(n._contentElement.style.top="".concat(r.top,"px"),n._contentElement.style.height="".concat(r.height+e.top,"px")):"RESIZE_SW"===n._dragActionData.action?(n._contentElement.style.top="".concat(r.top,"px"),n._contentElement.style.height="".concat(r.height+e.top,"px"),n._contentElement.style.width="".concat(r.width-e.left,"px"),n._contentElement.style.left="".concat(r.left+e.left,"px")):"RESIZE_NW"===n._dragActionData.action?(n._contentElement.style.width="".concat(r.width-e.left,"px"),n._contentElement.style.left="".concat(r.left+e.left,"px"),n._contentElement.style.height="".concat(r.height-e.top,"px"),n._contentElement.style.top="".concat(r.top+e.top,"px")):"RESIZE_W"===n._dragActionData.action&&(n._contentElement.style.width="".concat(r.width-e.left,"px"),n._contentElement.style.left="".concat(r.left+e.left,"px"))}})),n._contentElement.addEventListener("mouseup",(function(t){n._dragActionData=null,n._element.style.pointerEvents="",t.stopPropagation()})),n._contentElement.addEventListener("click",(function(t){t.stopPropagation()})),n._anchorElement=r,r&&j(0,r,n.contentElement),n._parentPopUp=null,n.hide(),n}return e=s,n=[{key:"dock",value:function(){this._moved=!1,this._centerContainer.style.height="",this.hide(),this.show()}},{key:"lastFocusElement",get:function(){return this._lastFocusElement}},{key:"isModal",get:function(){return this._modal}},{key:"contextObject",get:function(){return this._contextObject}},{key:"id",get:function(){return this._id}},{key:"contentElement",get:function(){return this._contentElement}},{key:"centerContainer",get:function(){return this._centerContainer}},{key:"content",get:function(){return this._popupContent}},{key:"parentPopUp",get:function(){return this._parentPopUp}},{key:"moveable",get:function(){return this._moveable}},{key:"resizeable",get:function(){return this._resizeable}},{key:"titleBar",get:function(){return this._titleBar}},{key:"title",get:function(){return this._title},set:function(t){this._title=t,this._titleBar.classList.remove("not-empty");var e=this._titleBar.getElementsByClassName("title-bar-content")[0];null!==t&&t instanceof Element?(e.innerHTML="",e.appendChild(t),this._titleBar.classList.add("not-empty")):null!==t&&(e.innerHTML="",e.innerHTML=this.player.translate(t),this._titleBar.classList.add("not-empty"))}},{key:"setCloseActions",value:function(t){var e=t.clickOutside,n=void 0===e||e,r=t.closeButton,o=void 0!==r&&r;this._closeOnClickOut=n,this._closeOnButton=o,this._closeOnButton?this._closeButton.style.display="block":this._closeButton.style.display="none"}},{key:"isParent",value:function(t){return t===this||null!==this.parentPopUp&&(this.parentPopUp===t||this.parentPopUp.isParent(t))}},{key:"setContent",value:function(t){this.centerContainer.innerHTML="","string"==typeof t?this._popupContent=(0,r.jS)(t,this.centerContainer):(this._popupContent=t,this.centerContainer.appendChild(t))}},{key:"show",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this._anchorElement&&!this._moved&&j(this.player,this._anchorElement,this.contentElement),t&&this.setParent(t),this._parentPopUp=e,e&&e.addChild(this),L(R(s.prototype),"show",this).call(this),s.HideNonAncestors(this),this._closeOnClickOut&&D(this.player),(0,o.qe)(this.player,o.ZP.SHOW_POPUP,{popUp:this,plugin:this.contextObject})}},{key:"hide",value:function(){var t;this.isVisible&&(this._children&&this._children.forEach((function(t){t._closeOnClickOut&&t.hide()})),this._parentPopUp&&this._parentPopUp.removeChild(this),(0,o.qe)(this.player,o.ZP.HIDE_POPUP,{popUp:this,plugin:this.contextObject}),this._anchorElement&&this._anchorElement.setAttribute("aria-pressed",!1),L(R(s.prototype),"hide",this).call(this),this.lastFocusElement&&this.lastFocusElement.focus()),I.some((function(t){return t.isVisible&&t._closeOnClickOut}))||(t=this.player).__hidePopUpActionContainer&&(t.__hidePopUpActionContainer.style.display="none")}},{key:"addChild",value:function(t){this._children=this._children||[],this._children.find((function(e){return e===t}))||this._children.push(t)}},{key:"removeChild",value:function(t){this._children&&(this._children=this._children.filter((function(e){return e!==t})))}},{key:"destroy",value:function(){var t=I.indexOf(this);-1!==t&&(I.splice(t,1),this.removeFromParent())}}],i=[{key:"GetPopUps",value:function(){return I}},{key:"IsSomePopUpVisible",value:function(){return I.some((function(t){return t.isVisible}))}},{key:"GetPopUp",value:function(t){return I.find((function(e){return e.id===t}))}},{key:"Contains",value:function(t){return I.some((function(e){return e.element.contains(t)}))}},{key:"HideAllPopUps",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];I.forEach((function(e){(t&&e.isModal||!t)&&e._closeOnClickOut&&e.hide()}))}},{key:"HideTopPopUp",value:function(){if(I.length){var t=null;if(I.slice().reverse().some((function(e){return e.isVisible&&(t=e),null!==t})),t&&t._closeOnClickOut)return t.hide(),!0}return!1}},{key:"Unload",value:function(){I.forEach((function(t){t.removeFromParent()})),I.slice(0)}},{key:"HideNonAncestors",value:function(t){I.forEach((function(e){t.isParent&&!t.isParent(e)&&e._closeOnClickOut&&e.hide()}))}}],n&&k(e.prototype,n),i&&k(e,i),Object.defineProperty(e,"prototype",{writable:!1}),s}(r.FZ)},7528:(t,e,n)=>{n.d(e,{Z:()=>m});var r=n(1768),o=n(6911),i=n(916),a=n(230);function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function u(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */u=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function f(t,e,n,o){var i=e&&e.prototype instanceof d?e:d,a=Object.create(i.prototype),s=new _(o||[]);return r(a,"_invoke",{value:C(t,n,s)}),a}function h(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=f;var p={};function d(){}function y(){}function v(){}var g={};l(g,i,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(S([])));b&&b!==e&&n.call(b,i)&&(g=b);var w=v.prototype=d.prototype=Object.create(g);function A(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function x(t,e){function o(r,i,a,u){var c=h(t[r],t,i);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==s(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,u)}),(function(t){o("throw",t,a,u)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return o("throw",t,a,u)}))}u(c.arg)}var i;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){o(t,n,e,r)}))}return i=i?i.then(r,r):r()}})}function C(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=E(a,n);if(s){if(s===p)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=h(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===p)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function E(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var o=h(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,p;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,p):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function _(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function S(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return y.prototype=v,r(w,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:y,configurable:!0}),y.displayName=l(v,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,l(t,c,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},A(x.prototype),l(x.prototype,a,(function(){return this})),t.AsyncIterator=x,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new x(f(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},A(w),l(w,c,"Generator"),l(w,i,(function(){return this})),l(w,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=S,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),L(n),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;L(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:S(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},t}function c(t,e,n,r,o,i,a){try{var s=t[i](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,o)}function l(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){c(i,r,o,a,s,"next",t)}function s(t){c(i,r,o,a,s,"throw",t)}a(void 0)}))}}function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==s(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===s(i)?i:String(i)),r)}var o,i}function p(t,e){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},p(t,e)}function d(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=v(t);if(e){var o=v(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y(this,n)}}function y(t,e){if(e&&("object"===s(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function v(t){return v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},v(t)}function g(){var t=this,e=["modal","timeline","no-modal"],n=function(){return t.player.log.warn('Invalid popUpType set in "'.concat(t.name,'" plugin. Alowed types are "modal", "timeline" and "no-modal"'))};return-1!==e.indexOf(this.config.popUpType)?this.config.popUpType:-1!==e.indexOf(this.popUpType)?(this.config.popUpType&&n(),this.popUpType):(n(),"modal")}var m=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&p(t,e)}(m,t);var e,n,r,s,c,y,v=d(m);function m(){var t;return f(this,m),(t=v.apply(this,arguments))._refreshContent=!0,t}return e=m,n=[{key:"refreshContent",get:function(){return this._refreshContent},set:function(t){this._refreshContent=t}},{key:"closeParentPopUp",get:function(){return this.config.closeParentPopUp||this.getCloseParentPopUp()}},{key:"getCloseParentPopUp",value:function(){return!1}},{key:"action",value:(y=l(u().mark((function t(){return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.showPopUp();case 2:case"end":return t.stop()}}),t,this)}))),function(){return y.apply(this,arguments)})},{key:"parentPopUp",get:function(){return this._parentPopUp},set:function(t){this._parentPopUp=t}},{key:"popUp",get:function(){return this._popUp}},{key:"menuTitle",get:function(){return this.config.menuTitle||null}},{key:"moveable",get:function(){var t;return null!==(t=this.config.moveable)&&void 0!==t&&t}},{key:"resizeable",get:function(){var t;return null!==(t=this.config.resizeable)&&void 0!==t&&t}},{key:"customPopUpClass",get:function(){var t;return null!==(t=this.config.customPopUpClass)&&void 0!==t?t:""}},{key:"closeActions",get:function(){var t,e,n,r;return{clickOutside:null===(t=null===(e=this.config.closeActions)||void 0===e?void 0:e.clickOutside)||void 0===t||t,closeButton:null!==(n=null===(r=this.config.closeActions)||void 0===r?void 0:r.closeButton)&&void 0!==n&&n}}},{key:"getContent",value:(c=l(u().mark((function t(){var e;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=(0,i.jS)("<p>Pop Up Button Plugin Content</p>"),t.abrupt("return",e);case 2:case"end":return t.stop()}}),t)}))),function(){return c.apply(this,arguments)})},{key:"popUpType",get:function(){return this.config.popUpType||"modal"}},{key:"hidePopUp",value:function(){this.closeParentPopUp?o.Z.HideAllPopUps(!1):this._popUp&&this._popUp.hide()}},{key:"showPopUp",value:(s=l(u().mark((function t(){var e,n,r,i,s,c,l;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.player.isFullscreen?this.player.containerElement:document.body,this._popUp){t.next=14;break}return this._popUp=null,"modal"===(n=g.apply(this))||"no-modal"===n?(r=this.closeActions,i=r.clickOutside,s=r.closeButton,this._popUp=new o.Z(this.player,e,this.button,this,"modal"===n,this.moveable,this.resizeable,this.customPopUpClass),this._popUp.setCloseActions({clickOutside:i,closeButton:s})):"timeline"===n&&(this._popUp=new a.Z(this.player,this)),t.next=7,this.getContent();case 7:c=t.sent,this._popUp.title=this.menuTitle,this._popUp.setContent(c),this._popUp.show(e,this._parentPopUp),this.refreshContent=!1,t.next=29;break;case 14:if("timeline"!==this.popUpType||!this._popUp.isVisible){t.next=18;break}this._popUp.hide(),t.next=29;break;case 18:if(!this._popUp.isVisible){t.next=22;break}this._popUp.hide(),t.next=29;break;case 22:if(!this.refreshContent){t.next=28;break}return t.next=25,this.getContent();case 25:l=t.sent,this._popUp.setContent(l),this.refreshContent=!1;case 28:this._popUp.show(e,this._parentPopUp);case 29:case"end":return t.stop()}}),t,this)}))),function(){return s.apply(this,arguments)})}],n&&h(e.prototype,n),r&&h(e,r),Object.defineProperty(e,"prototype",{writable:!1}),m}(r.ZP)},4025:(t,e,n)=>{function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,(i=o.key,a=void 0,a=function(t,e){if("object"!==r(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,e||"default");if("object"!==r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===r(a)?a:String(a)),o)}var i,a}function a(t,e){return a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},a(t,e)}function s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=c(t);if(e){var o=c(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return u(this,n)}}function u(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function c(t){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},c(t)}n.d(e,{Z:()=>l});var l=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&a(t,e)}(c,t);var e,n,r,u=s(c);function c(){return o(this,c),u.apply(this,arguments)}return e=c,(n=[{key:"type",get:function(){return"progressIndicator"}},{key:"minHeight",get:function(){return 0}},{key:"minHeightHover",get:function(){return 0}},{key:"drawForeground",value:function(t,e,n,r){}},{key:"drawBackground",value:function(t,e,n,r){}},{key:"requestUpdate",value:function(){this.player.playbackBar.progressIndicator.requestUpdateCanvas()}}])&&i(e.prototype,n),r&&i(e,r),Object.defineProperty(e,"prototype",{writable:!1}),c}(n(9076).Z)},230:(t,e,n)=>{n.d(e,{Z:()=>T});var r=n(916),o=n(980),i=n(3379),a=n.n(i),s=n(7795),u=n.n(s),c=n(569),l=n.n(c),f=n(3565),h=n.n(f),p=n(9216),d=n.n(p),y=n(4589),v=n.n(y),g=n(5352),m={};function b(t){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},b(t)}function w(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function A(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==b(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==b(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===b(i)?i:String(i)),r)}var o,i}function x(){return x="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=C(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},x.apply(this,arguments)}function C(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=S(t)););return t}function E(t,e){return E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},E(t,e)}function k(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=S(t);if(e){var o=S(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return L(this,n)}}function L(t,e){if(e&&("object"===b(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return _(t)}function _(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function S(t){return S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},S(t)}function P(t){t.__timeLinePopUp||(t.__timeLinePopUp={popUps:[],current:null})}m.styleTagTransform=v(),m.setAttributes=h(),m.insert=l().bind(null,"head"),m.domAPI=u(),m.insertStyleElement=d(),a()(g.Z,m),g.Z&&g.Z.locals&&g.Z.locals;var T=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&E(t,e)}(a,t);var e,n,r,i=k(a);function a(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;w(this,a),P(t);var r={class:"timeline-popup-content"},s=t.containerElement;return(e=i.call(this,t,{attributes:r,parent:s}))._contextObject=n,t.__timeLinePopUp.popUps.forEach((function(t){return t.hide()})),e._id=Symbol(_(e)),t.__timeLinePopUp.popUps.push(_(e)),t.__timeLinePopUp.current=_(e),(0,o.qe)(e.player,o.ZP.SHOW_POPUP,{popUp:_(e),plugin:e.contextObject}),e}return e=a,n=[{key:"contextObject",get:function(){return this._contextObject}},{key:"show",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.isVisible||(this.player.__timeLinePopUp.popUps.forEach((function(t){return t.hide()})),x(S(a.prototype),"show",this).call(this),this.player.__timeLinePopUp.current=this,!0!==t&&(0,o.qe)(this.player,o.ZP.SHOW_POPUP,{popUp:this,plugin:this.contextObject}))}},{key:"hide",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.isVisible&&(x(S(a.prototype),"hide",this).call(this),this.player.__timeLinePopUp.current=null,!0!==t&&(0,o.qe)(this.player,o.ZP.HIDE_POPUP,{popUp:this,plugin:this.contextObject}))}},{key:"setContent",value:function(t){t&&(this.element.innerHTML="",this.element.appendChild(t))}}],r=[{key:"HideUserInterface",value:function(t){if(P(t),t.__timeLinePopUp.current){var e=t.__timeLinePopUp.current;t.__timeLinePopUp.current.hide(!0),t.__timeLinePopUp.current=e}}},{key:"ShowUserInterface",value:function(t){P(t),t.__timeLinePopUp.current&&t.__timeLinePopUp.current.show(!0)}},{key:"HideAll",value:function(t){var e;null==t||null===(e=t.__timeLinePopUp)||void 0===e||e.popUps.forEach((function(t){return t.hide()}))}},{key:"Unload",value:function(t){t.__timeLinePopUp&&(t.__timeLinePopUp.current&&t.__timeLinePopUp.current.removeFromParent(),t.__timeLinePopUp.popUps.forEach((function(t){t.removeFromParent()})),t.__timeLinePopUp.popUps.slice(0),delete t.__timeLinePopUp)}}],n&&A(e.prototype,n),r&&A(e,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(r.FZ)},1547:(t,e,n)=>{function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */o=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,i=Object.defineProperty||function(t,e,n){t[e]=n.value},a="function"==typeof Symbol?Symbol:{},s=a.iterator||"@@iterator",u=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function f(t,e,n,r){var o=e&&e.prototype instanceof d?e:d,a=Object.create(o.prototype),s=new _(r||[]);return i(a,"_invoke",{value:C(t,n,s)}),a}function h(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=f;var p={};function d(){}function y(){}function v(){}var g={};l(g,s,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(S([])));b&&b!==e&&n.call(b,s)&&(g=b);var w=v.prototype=d.prototype=Object.create(g);function A(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function x(t,e){function o(i,a,s,u){var c=h(t[i],t,a);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==r(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,s,u)}),(function(t){o("throw",t,s,u)})):e.resolve(f).then((function(t){l.value=t,s(l)}),(function(t){return o("throw",t,s,u)}))}u(c.arg)}var a;i(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){o(t,n,e,r)}))}return a=a?a.then(r,r):r()}})}function C(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=E(a,n);if(s){if(s===p)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=h(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===p)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function E(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var o=h(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,p;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,p):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function _(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function S(t){if(t){var e=t[s];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return y.prototype=v,i(w,"constructor",{value:v,configurable:!0}),i(v,"constructor",{value:y,configurable:!0}),y.displayName=l(v,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,l(t,c,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},A(x.prototype),l(x.prototype,u,(function(){return this})),t.AsyncIterator=x,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new x(f(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},A(w),l(w,c,"Generator"),l(w,s,(function(){return this})),l(w,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=S,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),L(n),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;L(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:S(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},t}function i(t,e,n,r,o,i,a){try{var s=t[i](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,o)}function a(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,(i=o.key,a=void 0,a=function(t,e){if("object"!==r(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,e||"default");if("object"!==r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===r(a)?a:String(a)),o)}var i,a}function s(t,e){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},s(t,e)}function u(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=l(t);if(e){var o=l(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c(this,n)}}function c(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function l(t){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},l(t)}n.d(e,{Z:()=>f});var f=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s(t,e)}(h,t);var e,n,r,c,l,f=u(h);function h(t,e,n){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,h),(r=f.call(this,t,e,n)).__uiPlugin=!0,r}return e=h,n=[{key:"getDictionaries",value:(c=o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",null);case 1:case"end":return t.stop()}}),t)})),l=function(){var t=this,e=arguments;return new Promise((function(n,r){var o=c.apply(t,e);function a(t){i(o,n,r,a,s,"next",t)}function s(t){i(o,n,r,a,s,"throw",t)}a(void 0)}))},function(){return l.apply(this,arguments)})}],n&&a(e.prototype,n),r&&a(e,r),Object.defineProperty(e,"prototype",{writable:!1}),h}(n(9076).Z)},8985:(t,e,n)=>{n.d(e,{S:()=>E,Z:()=>L});var r=n(916),o=n(3379),i=n.n(o),a=n(7795),s=n.n(a),u=n(569),c=n.n(u),l=n(3565),f=n.n(l),h=n(9216),p=n.n(h),d=n(4589),y=n.n(d),v=n(6213),g={};function m(t){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},m(t)}function b(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==m(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==m(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===m(i)?i:String(i)),r)}var o,i}function w(t,e){return w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},w(t,e)}function A(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=C(t);if(e){var o=C(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return x(this,n)}}function x(t,e){if(e&&("object"===m(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function C(t){return C=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},C(t)}g.styleTagTransform=y(),g.setAttributes=f(),g.insert=c().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p(),i()(v.Z,g),v.Z&&v.Z.locals&&v.Z.locals;var E=Object.freeze({TOP_LEFT:"topLeft",TOP_MIDDLE:"topMiddle",TOP_RIGHT:"topRight",CENTER_LEFT:"centerLeft",CENTER_MIDDLE:"centerMiddle",CENTER_RIGHT:"centerRight",BOTTOM_LEFT:"bottomLeft",BOTTOM_MIDDLE:"bottomMiddle",BOTTOM_RIGHT:"bottomRight"}),k=function(t,e,n,o,i){o=o||"",n=n||1e3;var a=(0,r.jS)('\n        <div class="message-content '.concat(o,'">\n            ').concat(t?'<i class="icon">'.concat(t,"</i>"):"","\n            ").concat(e?'<p class="text">'.concat(e,"</p>"):"","\n        </div>\n    "));return i.innerHTML="",i.appendChild(a),i.timer&&(clearTimeout(i.timer),i.timer=null),i.timer=setTimeout((function(){i.removeChild(a)}),n),a},L=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&w(t,e)}(a,t);var e,n,o,i=A(a);function a(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(n=i.call(this,t,{attributes:{class:"video-container-message"},parent:e}))._topLeftContainer=(0,r.jS)('<div class="container top-left"></div>',n.element),n._topMiddleContainer=(0,r.jS)('<div class="container top-middle"></div>',n.element),n._topRightContainer=(0,r.jS)('<div class="container top-right"></div>',n.element),n._centerLeftContainer=(0,r.jS)('<div class="container center-left"></div>',n.element),n._centerMiddleContainer=(0,r.jS)('<div class="container center-middle"></div>',n.element),n._centerRightContainer=(0,r.jS)('<div class="container center-right"></div>',n.element),n._bottomLeftContainer=(0,r.jS)('<div class="container bottom-left"></div>',n.element),n._bottomMiddleContainer=(0,r.jS)('<div class="container bottom-middle"></div>',n.element),n._bottomRightContainer=(0,r.jS)('<div class="container bottom-right"></div>',n.element),n}return e=a,n=[{key:"show",value:function(t){var e=t.icon,n=void 0===e?null:e,r=t.text,o=void 0===r?"":r,i=t.timeout,a=void 0===i?1e3:i,s=t.position,u=void 0===s?E.CENTER_MIDDLE:s,c=t.cssClass,l=void 0===c?"":c;switch(u){case E.TOP_LEFT:k.apply(this,[n,o,a,l,this._topLeftContainer]);break;case E.TOP_MIDDLE:k.apply(this,[n,o,a,l,this._topMiddleContainer]);break;case E.TOP_RIGHT:k.apply(this,[n,o,a,l,this._topRightContainer]);break;case E.CENTER_LEFT:k.apply(this,[n,o,a,l,this._centerLeftContainer]);break;case E.CENTER_MIDDLE:k.apply(this,[n,o,a,l,this._centerMiddleContainer]);break;case E.CENTER_RIGHT:k.apply(this,[n,o,a,l,this._centerRightContainer]);break;case E.BOTTOM_LEFT:k.apply(this,[n,o,a,l,this._bottomLeftContainer]);break;case E.BOTTOM_MIDDLE:k.apply(this,[n,o,a,l,this._bottomMiddleContainer]);break;case E.BOTTOM_RIGHT:k.apply(this,[n,o,a,l,this._bottomRightContainer])}}}],n&&b(e.prototype,n),o&&b(e,o),Object.defineProperty(e,"prototype",{writable:!1}),a}(r.FZ)},3063:(t,e,n)=>{n.d(e,{Fw:()=>y,OU:()=>g,QW:()=>v,Vc:()=>d,ZP:()=>b,tk:()=>p,yl:()=>m});var r=n(6038);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(i=r.key,a=void 0,a=function(t,e){if("object"!==o(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===o(a)?a:String(a)),r)}var i,a}function s(t,e){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},s(t,e)}function u(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=l(t);if(e){var o=l(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c(this,n)}}function c(t,e){if(e&&("object"===o(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function l(t){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},l(t)}function f(t){return function(t){if(Array.isArray(t))return h(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return h(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function p(t,e){return(0,r.FN)(t,"layout").filter((function(t){return t.config&&t.config.enabled&&t.canApply(e)}))}function d(t,e){var n=p(t,e),r=[];return n.forEach((function(t){r.push.apply(r,f(t.getValidContentIds(e)))})),r}function y(t,e){var n=[];return(0,r.FN)(t,"layout").filter((function(t){var n,r;if(null!==(n=t.config)&&void 0!==n&&n.enabled&&null!==(r=t.config)&&void 0!==r&&r.validContent)return t.config.validContent.every((function(t){return t.content.length===e}))})).forEach((function(t){return t.config.validContent.forEach((function(t){return n.push(t.content)}))})),n}function v(t,e,n){var r=p(t,e),o=null;return r.some((function(t){if(-1!==t.getValidContentIds(e).indexOf(n))return o=t,!0})),o}function g(t,e){var n=p(t,e),r=d(t,e),o=[];return n.forEach((function(t){o=[].concat(f(o),f(t.config.validContent))})),o.filter((function(t){return-1!==r.indexOf(t.id)}))}function m(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=v(t,e,n);if(o){var i=o.getLayoutStructure(e,n,r);return i.plugin=o,i}return null}var b=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s(t,e)}(c,t);var e,n,r,o=u(c);function c(){return i(this,c),o.apply(this,arguments)}return e=c,(n=[{key:"type",get:function(){return"layout"}},{key:"layoutType",get:function(){return"static"}},{key:"getTabIndexStart",value:function(){return 10}},{key:"tabIndexStart",get:function(){var t;return(null===(t=this.config)||void 0===t?void 0:t.tabIndexStart)||this.getTabIndexStart()}},{key:"identifier",get:function(){return"default"}},{key:"icon",get:function(){return"icon.png"}},{key:"validContent",get:function(){var t;return(null===(t=this.config)||void 0===t?void 0:t.validContent)||[]}},{key:"validContentIds",get:function(){var t=[];return this.validContent.forEach((function(e){return t.push(e.id)})),t}},{key:"getValidContentIds",value:function(t){var e=[];return this.validContent.forEach((function(n){n.content.every((function(e){return t.some((function(t){return e===t.content}))}))&&e.push(n.id)})),e}},{key:"getValidStreams",value:function(t){var e=[];return this.validContent.forEach((function(n){var r=[];n.content.every((function(e){return t.some((function(t){if(e===t.content)return r.push(t),!0}))}))&&e.push(r)})),e}},{key:"canApply",value:function(t){return this.getValidStreams(t).length>0}},{key:"getLayoutStructure",value:function(){return{}}},{key:"getVideoCanvasButtons",value:function(t,e,n){return[]}}])&&a(e.prototype,n),r&&a(e,r),Object.defineProperty(e,"prototype",{writable:!1}),c}(n(1547).Z)},646:(t,e,n)=>{n.d(e,{Wl:()=>L,ZP:()=>b,m7:()=>C,nk:()=>S,ti:()=>_,zE:()=>A});var r=n(916),o=n(9076),i=n(6038),a=n(1401);function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function u(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */u=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function f(t,e,n,o){var i=e&&e.prototype instanceof d?e:d,a=Object.create(i.prototype),s=new _(o||[]);return r(a,"_invoke",{value:C(t,n,s)}),a}function h(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=f;var p={};function d(){}function y(){}function v(){}var g={};l(g,i,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(S([])));b&&b!==e&&n.call(b,i)&&(g=b);var w=v.prototype=d.prototype=Object.create(g);function A(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function x(t,e){function o(r,i,a,u){var c=h(t[r],t,i);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==s(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,u)}),(function(t){o("throw",t,a,u)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return o("throw",t,a,u)}))}u(c.arg)}var i;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){o(t,n,e,r)}))}return i=i?i.then(r,r):r()}})}function C(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=E(a,n);if(s){if(s===p)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=h(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===p)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function E(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var o=h(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,p;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,p):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function _(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function S(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return y.prototype=v,r(w,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:y,configurable:!0}),y.displayName=l(v,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,l(t,c,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},A(x.prototype),l(x.prototype,a,(function(){return this})),t.AsyncIterator=x,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new x(f(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},A(w),l(w,c,"Generator"),l(w,i,(function(){return this})),l(w,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=S,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),L(n),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;L(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:S(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},t}function c(t,e,n,r,o,i,a){try{var s=t[i](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,o)}function l(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){c(i,r,o,a,s,"next",t)}function s(t){c(i,r,o,a,s,"throw",t)}a(void 0)}))}}function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==s(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===s(i)?i:String(i)),r)}var o,i}function p(t,e,n){return e&&h(t.prototype,e),n&&h(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function d(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&y(t,e)}function y(t,e){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},y(t,e)}function v(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m(t);if(e){var o=m(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return g(this,n)}}function g(t,e){if(e&&("object"===s(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function m(t){return m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},m(t)}var b=function(t){d(r,t);var e,n=v(r);function r(){return f(this,r),n.apply(this,arguments)}return p(r,[{key:"type",get:function(){return"video"}},{key:"streamType",get:function(){return"mp4"}},{key:"isCompatible",value:function(){return!1}},{key:"getVideoInstance",value:(e=l(u().mark((function t(){return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",null);case 1:case"end":return t.stop()}}),t)}))),function(){return e.apply(this,arguments)})},{key:"getCompatibleFileExtensions",value:function(){return[]}},{key:"getManifestData",value:function(t){}}]),r}(o.Z),w=[];function A(t){return x.apply(this,arguments)}function x(){return(x=l(u().mark((function t(e){return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,i.FP)(e,"video",(function(t){w.push(t)}));case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function C(t){return E.apply(this,arguments)}function E(){return(E=l(u().mark((function t(e){return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function k(t){if(0===w.length)throw Error("No video plugins loaded. Note that `loadVideoPlugins()` must to be called before using `getVideoPlugins()`.");return w}function L(t,e){var n=(0,a.getFileExtension)(e);return k().find((function(t){return-1!==t.getCompatibleFileExtensions().indexOf(n)}))}function _(t,e){var n=k(),r=null;return n.some((function(t){if(t.isCompatible(e))return r=t,!0})),r}var S=function(t){d(S,t);var e,n,r,o,i,a,s,c,h,y,g,m,b,w,A,x,C,E,k,L,_=v(S);function S(t,e,n){var r;return f(this,S),(r=_.call(this,e,{tag:t,attributes:{class:"video-player"},parent:n}))._streamProvider=null,r._streamData=null,r._ready=!1,r}return p(S,[{key:"streamData",get:function(){return this._streamData}},{key:"ready",get:function(){return this._ready}},{key:"load",value:(L=l(u().mark((function t(e,n){var r;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this._streamProvider=n,this._streamData=e,t.next=4,this.loadStreamData(e);case 4:return r=t.sent,t.abrupt("return",r);case 6:case"end":return t.stop()}}),t,this)}))),function(t,e){return L.apply(this,arguments)})},{key:"isMainAudioPlayer",get:function(){return this._streamProvider.mainAudioPlayer===this}},{key:"onVideoEnded",value:function(t){this._videoEndedCallback=t}},{key:"play",value:(k=l(u().mark((function t(){return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",!1);case 1:case"end":return t.stop()}}),t)}))),function(){return k.apply(this,arguments)})},{key:"pause",value:(E=l(u().mark((function t(){return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",!1);case 1:case"end":return t.stop()}}),t)}))),function(){return E.apply(this,arguments)})},{key:"duration",value:(C=l(u().mark((function t(){return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",-1);case 1:case"end":return t.stop()}}),t)}))),function(){return C.apply(this,arguments)})},{key:"currentTimeSync",get:function(){return-1}},{key:"currentTime",value:(x=l(u().mark((function t(){return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",-1);case 1:case"end":return t.stop()}}),t)}))),function(){return x.apply(this,arguments)})},{key:"setCurrentTime",value:(A=l(u().mark((function t(){return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",!1);case 1:case"end":return t.stop()}}),t)}))),function(){return A.apply(this,arguments)})},{key:"volume",value:(w=l(u().mark((function t(){return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",-1);case 1:case"end":return t.stop()}}),t)}))),function(){return w.apply(this,arguments)})},{key:"setVolume",value:(b=l(u().mark((function t(){return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",!1);case 1:case"end":return t.stop()}}),t)}))),function(){return b.apply(this,arguments)})},{key:"initVolume",value:function(t){this._initialVolume=t}},{key:"paused",value:(m=l(u().mark((function t(){return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",!0);case 1:case"end":return t.stop()}}),t)}))),function(){return m.apply(this,arguments)})},{key:"playbackRate",value:(g=l(u().mark((function t(){return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",-1);case 1:case"end":return t.stop()}}),t)}))),function(){return g.apply(this,arguments)})},{key:"setPlaybackRate",value:(y=l(u().mark((function t(){return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",!1);case 1:case"end":return t.stop()}}),t)}))),function(){return y.apply(this,arguments)})},{key:"getQualities",value:(h=l(u().mark((function t(){return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",null);case 1:case"end":return t.stop()}}),t)}))),function(){return h.apply(this,arguments)})},{key:"setQuality",value:(c=l(u().mark((function t(){return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",!1);case 1:case"end":return t.stop()}}),t)}))),function(){return c.apply(this,arguments)})},{key:"currentQuality",get:function(){return null}},{key:"getDimensions",value:(s=l(u().mark((function t(){return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",null);case 1:case"end":return t.stop()}}),t)}))),function(){return s.apply(this,arguments)})},{key:"supportsMultiaudio",value:(a=l(u().mark((function t(){return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",!1);case 1:case"end":return t.stop()}}),t)}))),function(){return a.apply(this,arguments)})},{key:"getAudioTracks",value:(i=l(u().mark((function t(){return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",null);case 1:case"end":return t.stop()}}),t)}))),function(){return i.apply(this,arguments)})},{key:"setCurrentAudioTrack",value:(o=l(u().mark((function t(){return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)}))),function(){return o.apply(this,arguments)})},{key:"currentAudioTrack",get:function(){return null}},{key:"loadStreamData",value:(r=l(u().mark((function t(e){return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",!1);case 1:case"end":return t.stop()}}),t)}))),function(t){return r.apply(this,arguments)})},{key:"isEnabled",get:function(){return this._enabled}},{key:"enable",value:(n=l(u().mark((function t(){return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this._enabled=!0;case 1:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})},{key:"disable",value:(e=l(u().mark((function t(){return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this._enabled=!1;case 1:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})}]),S}(r.FZ)},625:(t,e,n)=>{function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,(i=o.key,a=void 0,a=function(t,e){if("object"!==r(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,e||"default");if("object"!==r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===r(a)?a:String(a)),o)}var i,a}n.d(e,{Z:()=>i});var i=function(){function t(e){var n=e.label,r=e.shortLabel,o=e.isAuto,i=void 0!==o&&o,a=e.index,s=void 0===a?0:a,u=e.src,c=void 0===u?"":u,l=e.width,f=void 0===l?-1:l,h=e.height,p=void 0===h?-1:h,d=e.bitrate,y=void 0===d?-1:d;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._label=n,this._shortLabel=r,this._index=s,this._src=c,this._res={w:f,h:p},this._bitrate=y,this._isAuto=i}var e,n,r;return e=t,(n=[{key:"label",get:function(){return this._label}},{key:"shortLabel",get:function(){return this._shortLabel}},{key:"index",get:function(){return this._index}},{key:"src",get:function(){return this._src}},{key:"res",get:function(){return this._res}},{key:"bitrate",get:function(){return this._bitrate}},{key:"isAuto",get:function(){return this._isAuto}},{key:"quality",get:function(){return-1!==this._res.w&&-1!==this._res.h?this._res.w*this._res.h:this._bitrate}},{key:"compare",value:function(t){return t.quality-this.quality}}])&&o(e.prototype,n),r&&o(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}()},916:(t,e,n)=>{function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,(i=o.key,a=void 0,a=function(t,e){if("object"!==r(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,e||"default");if("object"!==r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===r(a)?a:String(a)),o)}var i,a}function i(t,e){return i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},i(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=c(t);if(e){var o=c(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return u(t)}function u(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function c(t){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},c(t)}function l(t){var e=t.tag,n=void 0===e?"div":e,r=t.attributes,o=void 0===r?{}:r,i=t.children,a=void 0===i?"":i,s=t.innerText,u=void 0===s?"":s,c=t.parent,l=void 0===c?null:c,f=document.createElement(n);for(var h in f.innerText=u,o)f.setAttribute(h,o[h]);return f.innerHTML=a,l&&l.appendChild(f),f}function f(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=document.createElement("div");n.innerHTML=t;var r=n.children[0];return e&&e.appendChild(r),r}n.d(e,{FZ:()=>h,az:()=>l,jS:()=>f});var h=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&i(t,e)}(c,t);var e,n,r,s=a(c);function c(t,e){var n,r=e.tag,o=void 0===r?"div":r,i=e.attributes,a=void 0===i?[]:i,f=e.children,h=void 0===f?"":f,p=e.parent,d=void 0===p?null:p;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),(n=s.call(this,t))._element=l({tag:o,attributes:a,children:h,parent:d}),Object.defineProperty(u(n),o,{get:function(){return n._element}}),n}return e=c,n=[{key:"element",get:function(){return this._element}},{key:"parent",get:function(){return this._element.parentElement}},{key:"hide",value:function(){this.element.style.display="none"}},{key:"show",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"block";this.element.style.display=t}},{key:"isVisible",get:function(){var t=window.getComputedStyle(this.element);return"none"!==t.display&&""!==t.display}},{key:"setAttribute",value:function(t,e){this._element.setAttribute(t,e)}},{key:"removeFromParent",value:function(){var t;null===(t=this._element.parentElement)||void 0===t||t.removeChild(this._element)}},{key:"setParent",value:function(t){this.removeFromParent(),t.appendChild(this._element)}}],n&&o(e.prototype,n),r&&o(e,r),Object.defineProperty(e,"prototype",{writable:!1}),c}(n(2624).Z)},6038:(t,e,n)=>{n.d(e,{FN:()=>N,gQ:()=>j,FP:()=>M,zb:()=>D,Dd:()=>U,W:()=>B});const r=[n(591),n(4803),n(6189),n(3855),n(9802)];var o=n(6361),i=n(8069),a=n(310),s=n(8755),u=n(4348),c=n(2604),l=n(5026),f=n(7629),h=n(3591),p=n(6761),d=n(675),y=n(7236),v=n(6593),g=n(8785),m=n(6126),b=n(2128),w=n(1993),A=n(6280),x=n(6016);const C=[{plugin:o.default,config:{enabled:!1}},{plugin:i.default,config:{enabled:!1}},{plugin:a.default,config:{enabled:!1}},{plugin:s.default,config:{enabled:!1}},{plugin:u.default,config:{enabled:!1}},{plugin:c.default,config:{enabled:!1}},{plugin:l.default,config:{enabled:!1}},{plugin:f.default,config:{enabled:!1}},{plugin:h.default,config:{enabled:!1}},{plugin:p.default,config:{enabled:!1}},{plugin:d.default,config:{enabled:!1}},{plugin:y.default,config:{enabled:!1}},{plugin:v.default,config:{enabled:!1}},{plugin:g.default,config:{enabled:!1}},{plugin:m.default,config:{enabled:!1}},{plugin:d.default,config:{enabled:!1}},{plugin:b.default,config:{enabled:!1}},{plugin:w.default,config:{enabled:!1}},{plugin:A.default,config:{enabled:!1}},{plugin:x.default,config:{enabled:!1,context:["default"]}}];var E=n(1401),k=n(7488);function L(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */L=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function c(t,e,n,o){var i=e&&e.prototype instanceof h?e:h,a=Object.create(i.prototype),s=new k(o||[]);return r(a,"_invoke",{value:A(t,n,s)}),a}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var f={};function h(){}function p(){}function d(){}var y={};u(y,i,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(_([])));g&&g!==e&&n.call(g,i)&&(y=g);var m=d.prototype=h.prototype=Object.create(y);function b(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(r,i,a,s){var u=l(t[r],t,i);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"==O(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,s)}),(function(t){o("throw",t,a,s)})):e.resolve(f).then((function(t){c.value=t,a(c)}),(function(t){return o("throw",t,a,s)}))}s(u.arg)}var i;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){o(t,n,e,r)}))}return i=i?i.then(r,r):r()}})}function A(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=x(a,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=l(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function x(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,x(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=l(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function _(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:S}}function S(){return{value:void 0,done:!0}}return p.prototype=d,r(m,"constructor",{value:d,configurable:!0}),r(d,"constructor",{value:p,configurable:!0}),p.displayName=u(d,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,u(t,s,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},b(w.prototype),u(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new w(c(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(m),u(m,s,"Generator"),u(m,i,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=_,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),E(n),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;E(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:_(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},t}function _(t,e,n,r,o,i,a){try{var s=t[i](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,o)}function S(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){_(i,r,o,a,s,"next",t)}function s(t){_(i,r,o,a,s,"throw",t)}a(void 0)}))}}function P(t){return function(t){if(Array.isArray(t))return T(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return T(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?T(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function O(t){return O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},O(t)}var R=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=new t(e,n);return(n=o.name||n)?(e.config.plugins&&e.config.plugins[n]&&(0,E.mergeObjects)(r,e.config.plugins[n],!1),o._config=r,o):(e.log.warn("The instance of the ".concat(t.name," plugin cannot be created because it is being loaded explicitly and does not have the name property implemented.")),null)};function I(t,e,n,r){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=n.type,a=-1;if(t.__pluginData__.pluginInstances[i]&&t.__pluginData__.pluginInstances[i].find((function(t,e){if(t.name===n.name)return a=e,!0}))&&!o)t.log.info("Plugin ".concat(n.name," of type ").concat(i," already registered."));else{t.__pluginData__.pluginClasses[e]=r,t.__pluginData__.pluginInstances[i]=t.__pluginData__.pluginInstances[i]||[],-1!==a&&t.__pluginData__.pluginInstances[i].splice(a,1),t.__pluginData__.pluginInstances[i].push(n),t.__pluginModules=t.__pluginModules||[];var s=n.getPluginModuleInstance();if(s&&(s._player=s._player||t,!t.__pluginModules.find((function(t){return t.constructor.name===s.constructor.name})))){var u=s.moduleName,c=s.moduleVersion;t.log.debug("Plugin module imported: ".concat(u,": v").concat(c)),t.__pluginModules.push(s)}}}function j(t,e){var n=t.config;e.keys().forEach((function(r){var o=e(r),i=r.substring(2,r.length-3);if(n.plugins[i]){var a=o.default,s=R(a,t,i,{});I(t,r,s,a,!1)}else if(/^[a-z0-9]+$/i.test(i)){t.__pluginModules=t.__pluginModules||[];var u=new(0,o.default)(t);if(!t.__pluginModules.find((function(t){return t.constructor.name===u.constructor.name}))){var c=u.moduleName,l=u.moduleVersion;t.log.debug("Plugin module imported: ".concat(c,": v").concat(l)),t.__pluginModules.push(u)}}}))}function D(t){var e=t.config;if(t.__pluginData__=t.__pluginData__||{pluginClasses:[],pluginInstances:{}},0===t.__pluginData__.pluginClasses.length){[].concat(P(C),P(t.initParams.plugins)).forEach((function(e){!function(t,e){var n=null,r={enabled:!0};if("function"==typeof e?n=e:"object"===O(e)&&"function"==typeof e.plugin&&(n=e.plugin,r=e.config),n){var o=R(n,t,null,r);o?I(t,o.constructor.name,o,n,!0):t.log.warn("Unable to create an instance of the plugin ".concat(n.name))}else t.log.warn("Error importing plugin with explicit import API. Check the 'plugins' array at init params")}(t,e)})),r.forEach((function(e){return j(t,e)})),t.initParams.customPluginContext.forEach((function(e){return j(t,e)}));var n=e.buttonGroups;n&&n.forEach((function(e,n){var r="button_group_".concat(n),o=R(k.Z,t,r,e);o._iconPath=(0,E.joinPath)([t.configResourcesUrl,e.icon]),I(t,o.type,o,"ButtonGroupPlugin".concat(n),!1)})),t.log.debug("Plugins have been registered:")}}function B(t){delete t.__pluginData__}function N(t,e){var n;return(null===(n=t.__pluginData__)||void 0===n?void 0:n.pluginInstances[e])||[]}function M(t,e){return F.apply(this,arguments)}function F(){return F=S(L().mark((function t(e,n){var r,o,i,a,s,u,c,l=arguments;return L().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=l.length>2&&void 0!==l[2]?l[2]:null,o=l.length>3&&void 0!==l[3]?l[3]:null,e.__pluginData__.pluginInstances[n]){t.next=5;break}return e.log.info("There are no defined plugins of type '".concat(n,"'")),t.abrupt("return");case 5:e.__pluginData__.pluginInstances[n].sort((function(t,e){return t.order-e.order})),e.__pluginData__.pluginInstances[n].forEach((function(t){return e.log.debug("type: ".concat(n,", name: ").concat(t.name))})),"function"!=typeof o&&(o=function(){var t=S(L().mark((function t(e){return L().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.isEnabled();case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),t.t0=L().keys(e.__pluginData__.pluginInstances[n]);case 9:if((t.t1=t.t0()).done){t.next=28;break}return i=t.t1.value,a=e.__pluginData__.pluginInstances[n][i],t.next=14,o(a);case 14:if(!t.sent){t.next=26;break}if(!a.__uiPlugin){t.next=21;break}return t.next=19,a.getDictionaries();case 19:if("object"===O(s=t.sent))for(u in s)c=s[u],e.addDictionary(u,c);case 21:if("function"!=typeof r){t.next=24;break}return t.next=24,r(a);case 24:return t.next=26,a.load();case 26:t.next=9;break;case 28:case"end":return t.stop()}}),t)}))),F.apply(this,arguments)}function U(t,e){return G.apply(this,arguments)}function G(){return G=S(L().mark((function t(e,n){var r;return L().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:null===(r=e.__pluginData__.pluginInstances[n])||void 0===r||r.forEach(function(){var t=S(L().mark((function t(e){return L().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.unload();case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 1:case"end":return t.stop()}}),t)}))),G.apply(this,arguments)}},1401:(t,e,n)=>{n.r(e),n.d(e,{clearAutoHideTimer:()=>x,getCookie:()=>S,getFileExtension:()=>g,getHashParameter:()=>f,getJSONCookie:()=>T,getNumericCookie:()=>P,getUrlFileName:()=>d,getUrlParameter:()=>l,isAbsoluteUrl:()=>p,joinPath:()=>h,loadStyle:()=>O,loadSvgIcon:()=>c,mergeObjects:()=>I,pauseAutoHideUiTimer:()=>b,removeExtension:()=>y,removeFileName:()=>v,resolveResourcePath:()=>m,resumeAutoHideUiTimer:()=>w,secondsToTime:()=>C,setCookie:()=>L,setCookieIfAllowed:()=>_,setupAutoHideUiTimer:()=>A,timeToMilliseconds:()=>k,timeToSeconds:()=>E,unloadStyle:()=>R});var r=n(980),o=n(6911);function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function a(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */a=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},s=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function f(t,e,n,o){var i=e&&e.prototype instanceof d?e:d,a=Object.create(i.prototype),s=new _(o||[]);return r(a,"_invoke",{value:C(t,n,s)}),a}function h(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=f;var p={};function d(){}function y(){}function v(){}var g={};l(g,s,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(S([])));b&&b!==e&&n.call(b,s)&&(g=b);var w=v.prototype=d.prototype=Object.create(g);function A(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function x(t,e){function o(r,a,s,u){var c=h(t[r],t,a);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==i(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,s,u)}),(function(t){o("throw",t,s,u)})):e.resolve(f).then((function(t){l.value=t,s(l)}),(function(t){return o("throw",t,s,u)}))}u(c.arg)}var a;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){o(t,n,e,r)}))}return a=a?a.then(r,r):r()}})}function C(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=E(a,n);if(s){if(s===p)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=h(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===p)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function E(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var o=h(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,p;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,p):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function _(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function S(t){if(t){var e=t[s];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return y.prototype=v,r(w,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:y,configurable:!0}),y.displayName=l(v,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,l(t,c,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},A(x.prototype),l(x.prototype,u,(function(){return this})),t.AsyncIterator=x,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new x(f(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},A(w),l(w,c,"Generator"),l(w,s,(function(){return this})),l(w,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=S,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),L(n),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;L(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:S(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},t}function s(t,e,n,r,o,i,a){try{var s=t[i](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,o)}function u(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){s(i,r,o,a,u,"next",t)}function u(t){s(i,r,o,a,u,"throw",t)}a(void 0)}))}}function c(t){return new Promise((function(e,n){fetch(t).then((function(t){return t.text()})).then((function(t){e(t)})).catch((function(t){return n(t)}))}))}function l(t){var e=new URLSearchParams(window.location.search);return e.has(t)?e.get(t):null}function f(t){var e=window.location.hash.replace("#","?"),n=new URLSearchParams(e);return n.has(t)?n.get(t):null}function h(t,e){var n=e||"/";return(t=t.map((function(e,r){return r&&(e=e.replace(new RegExp("^"+n),"")),r!==t.length-1&&(e=e.replace(new RegExp(n+"$"),"")),e}))).join(n)}function p(t){return new RegExp("^([a-z]+://|//)","i").test(t)||/^\//.test(t)}function d(t){try{return new URL(t).pathname.split("/").pop()}catch(e){return t.split("/").pop()}}function y(t){return t.split(".").reduce((function(t,e,n,r){return n<r.length-1?""!==t?"".concat(t,".").concat(e):e:t}),"")}function v(t){var e=function(t){var e=t.split("/").reduce((function(t,e,n,r){return n<r.length-1?""!==t?"".concat(t,"/").concat(e):e:t}),"");return("/"===t[0]?"/".concat(e):e)+"/"};try{var n=new URL(t);return n.origin+e(n.pathname)}catch(n){return e(t)}}function g(t){return d(t).split(".").pop()}function m(t,e){return p(e)?e:h([t.manifestUrl,e])}function b(t){t.__hideTimerPaused__=!0}function w(t){t.__hideTimerPaused__=!1}function A(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"hideUiTime";t.__hideTimer__=null;var n=function(){var e=document.activeElement;return(t.playbackBar.element.contains(e)||t.videoContainer.element.contains(e))&&-1!==["input","textarea","button"].find((function(t){return e.tagName.toLowerCase(t)}))},i=function(){var r=u(a().mark((function r(){return a().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t.__hideTimer__&&clearTimeout(t.__hideTimer__),r.next=3,t.showUserInterface();case 3:t.__hideTimer__=setTimeout(u(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.__hideTimer__=null,!o.Z.IsSomePopUpVisible()){e.next=7;break}t.log.debug("UI not hidden because there are visible pop ups"),i(),e.next=19;break;case 7:if(!t.__hideTimerPaused__){e.next=12;break}t.log.debug("UI not hidden because the auto hide timer is paused"),i(),e.next=19;break;case 12:if(!n()){e.next=17;break}t.log.debug("UI not hidden because there is a focused element"),i(),e.next=19;break;case 17:return e.next=19,t.hideUserInterface();case 19:case"end":return e.stop()}}),e)}))),t[e]);case 4:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}();t.containerElement.addEventListener("mousemove",function(){var t=u(a().mark((function t(e){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i();case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),(0,r.GT)(t,r.ZP.PLAY,u(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i();case 1:case"end":return t.stop()}}),t)})))),(0,r.GT)(t,r.ZP.PAUSE,u(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.showUserInterface();case 2:case"end":return e.stop()}}),e)})))),(0,r.GT)(t,r.ZP.ENDED,u(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.showUserInterface();case 2:case"end":return e.stop()}}),e)})))),document.addEventListener("keydown",u(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i();case 1:case"end":return t.stop()}}),t)}))))}function x(t){t.__hideTimer__&&(clearTimeout(t.__hideTimer__),delete t.__hideTimer__)}function C(t){var e=Math.floor(t/60/60),n=Math.floor(t/60)-60*e,r=Math.floor(t%60);return(e>0?e.toString().padStart(2,"0")+":":"")+n.toString().padStart(2,"0")+":"+r.toString().padStart(2,"0")}function E(t){var e=/^(?:(\d+):){0,1}(\d+):(\d+)(\.\d+)?$/.exec(t);return e?3600*(void 0!==e[1]?Number(e[1]):0)+60*Number(e[2])+Number(e[3]):null}function k(t){var e=/^(?:(\d+):){0,1}(\d+):(\d+)\.(\d+)?$/.exec(t);return e?36e5*(void 0!==e[1]?Number(e[1]):0)+6e4*Number(e[2])+1e3*Number(e[3])+(e[4]&&Number(e[4])||0):null}function L(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:365,r=new Date;r.setTime(r.getTime()+24*n*60*60*1e3);var o="expires=".concat(r.toUTCString());document.cookie="".concat(t,"=").concat(e,";").concat(o,";path=/;SameSite=None;")+(/Apple/.test(navigator.vendor)?"":"Secure;")}function _(t,e,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:365;t.cookieConsent.getConsentForType(e)&&L(n,r,o)}function S(t){for(var e=t+"=",n=decodeURIComponent(document.cookie).split(";"),r=0;r<n.length;++r){for(var o=n[r];" "==o.charAt(0);)o=o.substring(1);if(0==o.indexOf(e))return o.substring(e.length,o.length)}return""}function P(t){var e=S(t),n=Number(e);return""===e||isNaN(n)?null:n}function T(t){try{return JSON.parse(S(t))}catch(t){return null}}function O(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return new Promise((function(n){var r=document.createElement("link");r.setAttribute("rel","stylesheet"),r.setAttribute("href",t),r.onload=function(){return n(r)};var o=document.getElementsByTagName("head")[0];e&&o.appendChild(r),n()}))}function R(t){document.getElementsByTagName("head")[0].removeChild(t)}function I(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=function(){var r=t[o],a=e[o];n&&Array.isArray(r)&&Array.isArray(a)?(r.forEach((function(t){a=a.filter((function(e){return"object"!==i(t)||"object"!==i(e)||t.id!==e.id||(I(t,e,n),!1)}))})),a.forEach((function(t){r.push(t)}))):"object"==i(r)&&a?I(r,a,n):t[o]=e[o]};for(var o in e)r()}},99:(t,e,n)=>{n.r(e),n.d(e,{default:()=>p});var r=n(7133),o=n(4147);function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,a=void 0,a=function(t,e){if("object"!==i(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===i(a)?a:String(a)),r)}var o,a}function u(t,e){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},u(t,e)}function c(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=f(t);if(e){var o=f(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l(this,n)}}function l(t,e){if(e&&("object"===i(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function f(t){return f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},f(t)}var h=null,p=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&u(t,e)}(l,t);var e,n,r,i=c(l);function l(){return a(this,l),i.apply(this,arguments)}return e=l,r=[{key:"Get",value:function(){return h||(h=new l),h}}],(n=[{key:"moduleName",get:function(){return"paella-core default data plugins"}},{key:"moduleVersion",get:function(){return o.version}}])&&s(e.prototype,n),r&&s(e,r),Object.defineProperty(e,"prototype",{writable:!1}),l}(r.Z)},6016:(t,e,n)=>{n.r(e),n.d(e,{default:()=>m});var r=n(1285),o=n(1401),i=n(99);function a(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */a=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function f(t,e,n,o){var i=e&&e.prototype instanceof d?e:d,a=Object.create(i.prototype),s=new _(o||[]);return r(a,"_invoke",{value:C(t,n,s)}),a}function h(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=f;var p={};function d(){}function y(){}function v(){}var g={};l(g,i,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(S([])));b&&b!==e&&n.call(b,i)&&(g=b);var w=v.prototype=d.prototype=Object.create(g);function A(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function x(t,e){function o(r,i,a,s){var u=h(t[r],t,i);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==c(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,s)}),(function(t){o("throw",t,a,s)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return o("throw",t,a,s)}))}s(u.arg)}var i;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){o(t,n,e,r)}))}return i=i?i.then(r,r):r()}})}function C(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=E(a,n);if(s){if(s===p)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=h(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===p)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function E(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var o=h(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,p;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,p):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function _(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function S(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return y.prototype=v,r(w,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:y,configurable:!0}),y.displayName=l(v,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,l(t,u,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},A(x.prototype),l(x.prototype,s,(function(){return this})),t.AsyncIterator=x,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new x(f(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},A(w),l(w,u,"Generator"),l(w,i,(function(){return this})),l(w,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=S,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),L(n),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;L(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:S(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},t}function s(t,e,n,r,o,i,a){try{var s=t[i](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,o)}function u(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){s(i,r,o,a,u,"next",t)}function u(t){s(i,r,o,a,u,"throw",t)}a(void 0)}))}}function c(t){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c(t)}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==c(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==c(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===c(i)?i:String(i)),r)}var o,i}function h(){return h="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=p(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},h.apply(this,arguments)}function p(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=g(t)););return t}function d(t,e){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},d(t,e)}function y(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=g(t);if(e){var o=g(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return v(this,n)}}function v(t,e){if(e&&("object"===c(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function g(t){return g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},g(t)}var m=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&d(t,e)}(b,t);var e,n,r,s,p,v,m=y(b);function b(){return l(this,b),m.apply(this,arguments)}return e=b,n=[{key:"getPluginModuleInstance",value:function(){return i.default.Get()}},{key:"name",get:function(){return h(g(b.prototype),"name",this)||"es.upv.paella.cookieDataPlugin"}},{key:"serializeKey",value:function(t,e){return"object"===c(e)&&(e=JSON.stringify(e)),"".concat(t,"|").concat(e)}},{key:"read",value:(v=u(a().mark((function t(e,n){var r,i;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=this.serializeKey(e,n),i=(0,o.getCookie)(r);try{i=JSON.parse(i)}catch(t){}return this.player.log.debug("CookieDataPlugin.read: ".concat(r)),t.abrupt("return",i);case 5:case"end":return t.stop()}}),t,this)}))),function(t,e){return v.apply(this,arguments)})},{key:"write",value:(p=u(a().mark((function t(e,n,r){var i;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=this.serializeKey(e,n),r&&"object"===c(r))try{r=JSON.stringify(r)}catch(t){this.player.log.warn("CookieDataPlugin.write: ".concat(i,": invalid data object.")),r=""}(0,o.setCookie)(i,r),this.player.log.debug("CookieDataPlugin.write: ".concat(i));case 4:case"end":return t.stop()}}),t,this)}))),function(t,e,n){return p.apply(this,arguments)})},{key:"remove",value:(s=u(a().mark((function t(e,n){var r;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=this.serializeKey(e,n),(0,o.setCookie)(r,""),this.player.log.debug("CookieDataPlugin.remove: ".concat(r));case 3:case"end":return t.stop()}}),t,this)}))),function(t,e){return s.apply(this,arguments)})}],n&&f(e.prototype,n),r&&f(e,r),Object.defineProperty(e,"prototype",{writable:!1}),b}(r.e)},4792:(t,e,n)=>{n.r(e),n.d(e,{default:()=>g});var r=n(1285),o=n(99);function i(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */i=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function f(t,e,n,o){var i=e&&e.prototype instanceof d?e:d,a=Object.create(i.prototype),s=new _(o||[]);return r(a,"_invoke",{value:C(t,n,s)}),a}function h(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=f;var p={};function d(){}function y(){}function v(){}var g={};l(g,a,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(S([])));b&&b!==e&&n.call(b,a)&&(g=b);var w=v.prototype=d.prototype=Object.create(g);function A(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function x(t,e){function o(r,i,a,s){var c=h(t[r],t,i);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==u(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,s)}),(function(t){o("throw",t,a,s)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return o("throw",t,a,s)}))}s(c.arg)}var i;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){o(t,n,e,r)}))}return i=i?i.then(r,r):r()}})}function C(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=E(a,n);if(s){if(s===p)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=h(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===p)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function E(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var o=h(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,p;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,p):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function _(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function S(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return y.prototype=v,r(w,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:y,configurable:!0}),y.displayName=l(v,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,l(t,c,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},A(x.prototype),l(x.prototype,s,(function(){return this})),t.AsyncIterator=x,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new x(f(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},A(w),l(w,c,"Generator"),l(w,a,(function(){return this})),l(w,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=S,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),L(n),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;L(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:S(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},t}function a(t,e,n,r,o,i,a){try{var s=t[i](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,o)}function s(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function s(t){a(i,r,o,s,u,"next",t)}function u(t){a(i,r,o,s,u,"throw",t)}s(void 0)}))}}function u(t){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u(t)}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==u(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==u(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===u(i)?i:String(i)),r)}var o,i}function f(){return f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=h(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},f.apply(this,arguments)}function h(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=v(t)););return t}function p(t,e){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},p(t,e)}function d(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=v(t);if(e){var o=v(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y(this,n)}}function y(t,e){if(e&&("object"===u(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function v(t){return v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},v(t)}var g=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&p(t,e)}(m,t);var e,n,r,a,h,y,g=d(m);function m(){return c(this,m),g.apply(this,arguments)}return e=m,n=[{key:"getPluginModuleInstance",value:function(){return o.default.Get()}},{key:"name",get:function(){return f(v(m.prototype),"name",this)||"es.upv.paella.localStorageDataPlugin"}},{key:"serializeKey",value:function(t,e){return"object"===u(e)&&(e=JSON.stringify(e)),"".concat(t,"|").concat(e)}},{key:"read",value:(y=s(i().mark((function t(e,n){var r,o;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=this.serializeKey(e,n),o=localStorage.getItem(r);try{o=JSON.parse(o)}catch(t){}return this.player.log.debug("LocalStorageDataPlugin.read: ".concat(r)),t.abrupt("return",o);case 5:case"end":return t.stop()}}),t,this)}))),function(t,e){return y.apply(this,arguments)})},{key:"write",value:(h=s(i().mark((function t(e,n,r){var o;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=this.serializeKey(e,n),r&&"object"===u(r))try{r=JSON.stringify(r)}catch(t){this.player.log.warn("LocalStorageDataPlugin.write: ".concat(o,": invalid data object.")),r=""}localStorage.setItem(o,r),this.player.log.debug("LocalStorageDataPlugin.write: ".concat(o));case 4:case"end":return t.stop()}}),t,this)}))),function(t,e,n){return h.apply(this,arguments)})},{key:"remove",value:(a=s(i().mark((function t(e,n){var r;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=this.serializeKey(e,n),localStorage.setItem(r,""),this.player.log.debug("LocalStorageDataPlugin.remove: ".concat(r));case 3:case"end":return t.stop()}}),t,this)}))),function(t,e){return a.apply(this,arguments)})}],n&&l(e.prototype,n),r&&l(e,r),Object.defineProperty(e,"prototype",{writable:!1}),m}(r.e)},4493:(t,e,n)=>{n.r(e),n.d(e,{default:()=>p});var r=n(7133),o=n(4147);function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,a=void 0,a=function(t,e){if("object"!==i(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===i(a)?a:String(a)),r)}var o,a}function u(t,e){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},u(t,e)}function c(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=f(t);if(e){var o=f(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l(this,n)}}function l(t,e){if(e&&("object"===i(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function f(t){return f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},f(t)}var h=null,p=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&u(t,e)}(l,t);var e,n,r,i=c(l);function l(){return a(this,l),i.apply(this,arguments)}return e=l,r=[{key:"Get",value:function(){return h||(h=new l),h}}],(n=[{key:"moduleName",get:function(){return"paella-core default video layouts"}},{key:"moduleVersion",get:function(){return o.version}}])&&s(e.prototype,n),r&&s(e,r),Object.defineProperty(e,"prototype",{writable:!1}),l}(r.Z)},7236:(t,e,n)=>{n.r(e),n.d(e,{default:()=>D});var r=n(3063),o=n(1401),i=n(4382),a=n(6300),s=n.n(a),u=n(8221),c=n.n(u),l=n(6208),f=n.n(l),h=n(1550),p=n.n(h),d=n(1835),y=n.n(d),v=n(1042),g=n.n(v),m=n(4493);function b(t){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},b(t)}function w(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */w=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function c(t,e,n,o){var i=e&&e.prototype instanceof h?e:h,a=Object.create(i.prototype),s=new _(o||[]);return r(a,"_invoke",{value:C(t,n,s)}),a}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var f={};function h(){}function p(){}function d(){}var y={};u(y,i,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(S([])));g&&g!==e&&n.call(g,i)&&(y=g);var m=d.prototype=h.prototype=Object.create(y);function A(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function x(t,e){function o(r,i,a,s){var u=l(t[r],t,i);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"==b(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,s)}),(function(t){o("throw",t,a,s)})):e.resolve(f).then((function(t){c.value=t,a(c)}),(function(t){return o("throw",t,a,s)}))}s(u.arg)}var i;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){o(t,n,e,r)}))}return i=i?i.then(r,r):r()}})}function C(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=E(a,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=l(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function E(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=l(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function _(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function S(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return p.prototype=d,r(m,"constructor",{value:d,configurable:!0}),r(d,"constructor",{value:p,configurable:!0}),p.displayName=u(d,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,u(t,s,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},A(x.prototype),u(x.prototype,a,(function(){return this})),t.AsyncIterator=x,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new x(c(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},A(m),u(m,s,"Generator"),u(m,i,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=S,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),L(n),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;L(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:S(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},t}function A(t,e,n,r,o,i,a){try{var s=t[i](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,o)}function x(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){A(i,r,o,a,s,"next",t)}function s(t){A(i,r,o,a,s,"throw",t)}a(void 0)}))}}function C(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function E(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==b(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==b(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===b(i)?i:String(i)),r)}var o,i}function k(){return k="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=L(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},k.apply(this,arguments)}function L(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=T(t)););return t}function _(t,e){return _=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},_(t,e)}function S(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=T(t);if(e){var o=T(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return P(this,n)}}function P(t,e){if(e&&("object"===b(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function T(t){return T=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},T(t)}var O=0,R=[{id:"side-by-side",videos:[{content:null,rect:[{aspectRatio:"16/9",width:560,height:315,top:218,left:712},{aspectRatio:"16/10",width:560,height:350,top:206,left:712},{aspectRatio:"4/3",width:560,height:420,top:173,left:712},{aspectRatio:"5/3",width:560,height:336,top:206,left:712},{aspectRatio:"5/4",width:560,height:448,top:160,left:712}],visible:!0,layer:1},{content:null,rect:[{aspectRatio:"16/9",width:688,height:387,top:166,left:10},{aspectRatio:"16/10",width:688,height:430,top:148,left:10},{aspectRatio:"4/3",width:688,height:516,top:111,left:10},{aspectRatio:"5/3",width:690,height:414,top:154,left:10},{aspectRatio:"5/4",width:690,height:552,top:96,left:10}],visible:!0,layer:"1"}],buttons:[]},{id:"pip-left",videos:[{content:null,rect:[{aspectRatio:"16/9",left:0,top:0,width:1280,height:720},{aspectRatio:"16/10",left:64,top:0,width:1152,height:720},{aspectRatio:"5/3",left:40,top:0,width:1200,height:720},{aspectRatio:"5/4",left:190,top:0,width:900,height:720},{aspectRatio:"4/3",left:160,top:0,width:960,height:720}],visible:!0,layer:1},{content:null,rect:[{aspectRatio:"16/9",left:50,top:470,width:350,height:197},{aspectRatio:"16/10",left:50,top:448,width:350,height:219},{aspectRatio:"5/3",left:50,top:457,width:350,height:210},{aspectRatio:"5/4",left:50,top:387,width:350,height:280},{aspectRatio:"4/3",left:50,top:404,width:350,height:262}],visible:!0,layer:2}],buttons:[]},{id:"pip-right",videos:[{content:null,rect:[{aspectRatio:"16/9",left:0,top:0,width:1280,height:720},{aspectRatio:"16/10",left:64,top:0,width:1152,height:720},{aspectRatio:"5/3",left:40,top:0,width:1200,height:720},{aspectRatio:"5/4",left:190,top:0,width:900,height:720},{aspectRatio:"4/3",left:160,top:0,width:960,height:720}],visible:!0,layer:1},{content:null,rect:[{aspectRatio:"16/9",left:880,top:470,width:350,height:197},{aspectRatio:"16/10",left:880,top:448,width:350,height:219},{aspectRatio:"5/3",left:880,top:457,width:350,height:210},{aspectRatio:"5/4",left:880,top:387,width:350,height:280},{aspectRatio:"4/3",left:880,top:404,width:350,height:262}],visible:!0,layer:2}],buttons:[]}];function I(t,e){return O=e<R.length?e:O,j(t)}function j(t){var e=JSON.parse(JSON.stringify(R[O]));return e.videos[0].content=t[0],e.videos[1].content=t[1],e}var D=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_(t,e)}(A,t);var e,n,r,a,u,l,h,d,v,b=S(A);function A(){return C(this,A),b.apply(this,arguments)}return e=A,n=[{key:"getPluginModuleInstance",value:function(){return m.default.Get()}},{key:"name",get:function(){return k(T(A.prototype),"name",this)||"es.upv.paella.dualVideo"}},{key:"identifier",get:function(){return"dual-video"}},{key:"load",value:(v=x(w().mark((function t(){var e;return w().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:""!==(e=(0,o.getCookie)("dualVideoLayoutIndex"))&&(O=Number(e)),this.player.log.debug("Dual video layout loaded");case 3:case"end":return t.stop()}}),t,this)}))),function(){return v.apply(this,arguments)})},{key:"getValidStreams",value:function(t){return k(T(A.prototype),"getValidStreams",this).call(this,t).filter((function(t){return 2===t.length}))}},{key:"switchContent",value:function(){var t=this._currentContent[0],e=this._currentContent[1];this._currentContent[0]=e,this._currentContent[1]=t,this.player.videoContainer.updateLayout()}},{key:"switchMinimized",value:(d=x(w().mark((function t(){return w().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this._currentContent,O=(O+1)%R.length,j(e),t.next=3,this.player.videoContainer.updateLayout();case 3:case"end":return t.stop()}var e}),t,this)}))),function(){return d.apply(this,arguments)})},{key:"minimizeVideo",value:(h=x(w().mark((function t(e){var n,r,o;return w().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=!0,e===this._currentContent[0]&&(r=this._currentContent[0],o=this._currentContent[1],this._currentContent[0]=o,this._currentContent[1]=r,n=!1),I(this._currentContent,1===O&&n?2:1),t.next=5,this.player.videoContainer.updateLayout();case 5:case"end":return t.stop()}}),t,this)}))),function(t){return h.apply(this,arguments)})},{key:"maximizeVideo",value:(l=x(w().mark((function t(e){var n,r,o;return w().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=!0,e===this._currentContent[1]&&(r=this._currentContent[0],o=this._currentContent[1],this._currentContent[0]=o,this._currentContent[1]=r,n=!1),I(this._currentContent,1===O&&n?2:1),t.next=5,this.player.videoContainer.updateLayout();case 5:case"end":return t.stop()}}),t,this)}))),function(t){return l.apply(this,arguments)})},{key:"setSideBySide",value:(u=x(w().mark((function t(){return w().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return I(this._currentContent,0),t.next=3,this.player.videoContainer.updateLayout();case 3:case"end":return t.stop()}}),t,this)}))),function(){return u.apply(this,arguments)})},{key:"minimizedContent",get:function(){return 0===O?"":this._currentContent[1]}},{key:"closeVideo",value:(a=x(w().mark((function t(e){var n,r;return w().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=this.player.videoContainer.validContentIds.filter((function(t){return-1===t.indexOf("-")})),r=n.find((function(t){return t!=e})),t.next=4,this.player.videoContainer.setLayout(r);case 4:case"end":return t.stop()}}),t,this)}))),function(t){return a.apply(this,arguments)})},{key:"getVideoCanvasButtons",value:function(t,e,n,r){var o=this;if("side-by-side"===t.id)return[{icon:this.player.getCustomPluginIcon(this.name,"iconRotate")||s(),position:i.iN.LEFT,title:this.player.translate("Swap position of the videos"),ariaLabel:this.player.translate("Swap position of the videos"),name:this.name+":iconRotate",click:(A=x(w().mark((function t(){return w().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.switchContent();case 2:case"end":return t.stop()}}),t)}))),function(){return A.apply(this,arguments)})},{icon:this.player.getCustomPluginIcon(this.name,"iconMaximize")||p(),position:i.iN.LEFT,title:this.player.translate("Maximize video"),ariaLabel:this.player.translate("Maximize video"),name:this.name+":iconMaximize",click:(b=x(w().mark((function t(){return w().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.maximizeVideo(e);case 2:case"end":return t.stop()}}),t)}))),function(){return b.apply(this,arguments)})},{icon:this.player.getCustomPluginIcon(this.name,"iconClose")||y(),position:i.iN.RIGHT,title:this.player.translate("Close video"),ariaLabel:this.player.translate("Close video"),name:this.name+":iconClose",click:(m=x(w().mark((function t(){return w().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.closeVideo(e);case 2:case"end":return t.stop()}}),t)}))),function(){return m.apply(this,arguments)})}];var a,u,l,h,d,v,m,b,A,C=[];return e===this.minimizedContent?(C.push({icon:this.player.getCustomPluginIcon(this.name,"iconMaximize")||p(),position:i.iN.LEFT,title:this.player.translate("Maximize video"),ariaLabel:this.player.translate("Maximize video"),name:this.name+":iconMaximize",click:(v=x(w().mark((function t(){return w().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.switchContent();case 2:case"end":return t.stop()}}),t)}))),function(){return v.apply(this,arguments)})}),C.push({icon:this.player.getCustomPluginIcon(this.name,"iconSwitchSide")||f(),position:i.iN.LEFT,title:this.player.translate("Place the video on the other side of the screen"),ariaLabel:this.player.translate("Place the video on the other side of the screen"),name:this.name+":iconSwitchSide",click:(d=x(w().mark((function t(){return w().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.minimizeVideo(e);case 2:case"end":return t.stop()}}),t)}))),function(){return d.apply(this,arguments)})}),C.push({icon:this.player.getCustomPluginIcon(this.name,"iconClose")||y(),position:i.iN.RIGHT,title:this.player.translate("Close video"),ariaLabel:this.player.translate("Close video"),name:this.name+":iconClose",click:(h=x(w().mark((function t(){return w().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.closeVideo(e);case 2:case"end":return t.stop()}}),t)}))),function(){return h.apply(this,arguments)})})):(C.push({icon:this.player.getCustomPluginIcon(this.name,"iconMinimize")||c(),position:i.iN.LEFT,title:this.player.translate("Minimize video"),ariaLabel:this.player.translate("Minimize video"),name:this.name+":iconMinimize",click:(l=x(w().mark((function t(){return w().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.switchContent();case 2:case"end":return t.stop()}}),t)}))),function(){return l.apply(this,arguments)})}),C.push({icon:this.player.getCustomPluginIcon(this.name,"iconSideBySide")||g(),position:i.iN.LEFT,title:this.player.translate("Put the videos side by side"),ariaLabel:this.player.translate("Put the videos side by side"),name:this.name+":iconSideBySide",click:(u=x(w().mark((function t(){return w().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.setSideBySide();case 2:case"end":return t.stop()}}),t)}))),function(){return u.apply(this,arguments)})}),C.push({icon:this.player.getCustomPluginIcon(this.name,"iconClose")||y(),position:i.iN.RIGHT,title:this.player.translate("Close video"),ariaLabel:this.player.translate("Close video"),name:this.name+":iconClose",click:(a=x(w().mark((function t(){return w().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.closeVideo(e);case 2:case"end":return t.stop()}}),t)}))),function(){return a.apply(this,arguments)})})),C}},{key:"getLayoutStructure",value:function(t,e){if(!this._currentContent||this._currentContentId!==e){var n=this.validContent.find((function(t){return t.id===e})),r=n.content;this._currentContent=r,this._currentContentId=e;var i=(0,o.getCookie)("dualVideoLayoutContent0"),a=(0,o.getCookie)("dualVideoLayoutContent1");""!==i&&""!==a&&-1!==this._currentContent.indexOf(i)&&-1!==this._currentContent.indexOf(a)&&(this._currentContent[0]=i,this._currentContent[1]=a)}var s=j(this._currentContent),u={id:s.id,player:this.player,name:{es:"Dos streams con posición dinámica"},hidden:!1,videos:s.videos,buttons:[]};return(0,o.setCookie)("dualVideoLayoutIndex",O),(0,o.setCookie)("dualVideoLayoutContent0",this._currentContent[0]),(0,o.setCookie)("dualVideoLayoutContent1",this._currentContent[1]),u}}],n&&E(e.prototype,n),r&&E(e,r),Object.defineProperty(e,"prototype",{writable:!1}),A}(r.ZP)},675:(t,e,n)=>{n.r(e),n.d(e,{default:()=>S});var r=n(3063),o=n(4382),i=n(4493),a=n(6208),s=n.n(a),u=n(1550),c=n.n(u),l=n(1835),f=n.n(l),h=n(1042),p=n.n(h),d=n(4986),y=n.n(d);function v(t){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},v(t)}function g(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */g=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function c(t,e,n,o){var i=e&&e.prototype instanceof h?e:h,a=Object.create(i.prototype),s=new _(o||[]);return r(a,"_invoke",{value:C(t,n,s)}),a}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var f={};function h(){}function p(){}function d(){}var y={};u(y,i,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(S([])));b&&b!==e&&n.call(b,i)&&(y=b);var w=d.prototype=h.prototype=Object.create(y);function A(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function x(t,e){function o(r,i,a,s){var u=l(t[r],t,i);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"==v(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,s)}),(function(t){o("throw",t,a,s)})):e.resolve(f).then((function(t){c.value=t,a(c)}),(function(t){return o("throw",t,a,s)}))}s(u.arg)}var i;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){o(t,n,e,r)}))}return i=i?i.then(r,r):r()}})}function C(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=E(a,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=l(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function E(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=l(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function _(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function S(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return p.prototype=d,r(w,"constructor",{value:d,configurable:!0}),r(d,"constructor",{value:p,configurable:!0}),p.displayName=u(d,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,u(t,s,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},A(x.prototype),u(x.prototype,a,(function(){return this})),t.AsyncIterator=x,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new x(c(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},A(w),u(w,s,"Generator"),u(w,i,(function(){return this})),u(w,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=S,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),L(n),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;L(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:S(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},t}function m(t,e,n,r,o,i,a){try{var s=t[i](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,o)}function b(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){m(i,r,o,a,s,"next",t)}function s(t){m(i,r,o,a,s,"throw",t)}a(void 0)}))}}function w(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function A(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==v(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==v(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===v(i)?i:String(i)),r)}var o,i}function x(){return x="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=C(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},x.apply(this,arguments)}function C(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=_(t)););return t}function E(t,e){return E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},E(t,e)}function k(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=_(t);if(e){var o=_(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return L(this,n)}}function L(t,e){if(e&&("object"===v(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _(t){return _=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_(t)}var S=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&E(t,e)}(l,t);var e,n,r,a,u=k(l);function l(){return w(this,l),u.apply(this,arguments)}return e=l,n=[{key:"getPluginModuleInstance",value:function(){return i.default.Get()}},{key:"name",get:function(){return x(_(l.prototype),"name",this)||"es.upv.paella.dualVideoDynamic"}},{key:"layoutType",get:function(){return"dynamic"}},{key:"load",value:(a=b(g().mark((function t(){return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.pipContentIds=this.config.pipContentIds||[],this.allowSwitchSide=void 0===this.config.allowSwitchSide||this.config.allowSwitchSide;case 2:case"end":return t.stop()}}),t,this)}))),function(){return a.apply(this,arguments)})},{key:"getVideoCanvasButtons",value:function(t,e,n,r){var i,a,u,l,h,d=this,v=this.player.getCustomPluginIcon(this.name,"iconMaximize")||c(),m=this.player.getCustomPluginIcon(this.name,"iconSideBySide")||p(),w=this.player.getCustomPluginIcon(this.name,"iconSwitchSide")||s(),A=this.player.getCustomPluginIcon(this.name,"iconClose")||f(),x=this.player.getCustomPluginIcon(this.name,"iconPiP")||y(),C=function(){return d._currentContent.find((function(t){return t.id===e}))},E=[];return 25===C().size||C().size>50?E.push({icon:m,position:o.iN.LEFT,title:this.player.translate("Dual stream 50%"),ariaLabel:this.player.translate("Dual stream 50%"),name:this.name+":iconSideBySide",click:(a=b(g().mark((function t(){return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return d._currentContent.forEach((function(t){t.size=50})),t.next=3,d.player.videoContainer.updateLayout();case 3:case"end":return t.stop()}}),t)}))),function(){return a.apply(this,arguments)})}):E.push({icon:v,position:o.iN.LEFT,title:this.player.translate("Maximize video"),ariaLabel:this.player.translate("Maximize video"),name:this.name+":iconMaximize",click:(i=b(g().mark((function t(){return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return d._currentContent.forEach((function(t){t.size=t.id===e?75:25})),t.next=3,d.player.videoContainer.updateLayout();case 3:case"end":return t.stop()}}),t)}))),function(){return i.apply(this,arguments)})}),this.allowSwitchSide&&E.push({icon:w,position:o.iN.LEFT,title:this.player.translate("Switch side"),ariaLabel:this.player.translate("Switch side"),name:this.name+":iconSwitchSide",click:(u=b(g().mark((function t(){var e,n,r,o;return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=d._currentContent[0].id,n=d._currentContent[1].id,r=d._currentContent[0].size,o=d._currentContent[1].size,d._currentContent[0].id=n,d._currentContent[0].size=o,d._currentContent[1].id=e,d._currentContent[1].size=r,t.next=10,d.player.videoContainer.updateLayout();case 10:case"end":return t.stop()}}),t)}))),function(){return u.apply(this,arguments)})}),E.push({icon:A,position:o.iN.RIGHT,title:this.player.translate("Close video"),ariaLabel:this.player.translate("Close video"),name:this.name+":iconClose",click:(l=b(g().mark((function t(){var n,r;return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=d.player.videoContainer.validContentIds.filter((function(t){return-1===t.indexOf("-")})),r=n.find((function(t){return t!=e})),t.next=4,d.player.videoContainer.setLayout(r);case 4:case"end":return t.stop()}}),t)}))),function(){return l.apply(this,arguments)})}),this.pipContentIds.length>0&&E.push({icon:x,position:o.iN.LEFT,title:this.player.translate("Picture-in-picture"),ariaLabel:this.player.translate("Picture-in-picture"),name:this.name+":iconPiP",click:(h=b(g().mark((function t(){var n;return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=d.player.videoContainer.validContentIds.find((function(t){return-1!==d.pipContentIds.indexOf(t)})),t.next=3,d.player.videoContainer.setLayout(n,e);case 3:case"end":return t.stop()}}),t)}))),function(){return h.apply(this,arguments)})}),E}},{key:"getLayoutStructure",value:function(t,e,n){if(!this._currentContent){var r=this.validContent.find((function(t){return t.id===e})),o=r.content;this._currentContent=o.map((function(t){return{id:t,size:50}}))}return{id:"dual-dynamic",videos:[{content:this._currentContent[0].id,visible:!0,size:this._currentContent[0].size},{content:this._currentContent[1].id,visible:!0,size:this._currentContent[1].size}]}}}],n&&A(e.prototype,n),r&&A(e,r),Object.defineProperty(e,"prototype",{writable:!1}),l}(r.ZP)},6593:(t,e,n)=>{n.r(e),n.d(e,{default:()=>S});var r=n(3063),o=n(6208),i=n.n(o),a=n(1550),s=n.n(a),u=n(1835),c=n.n(u),l=n(1042),f=n.n(l),h=n(4382),p=n(4493);function d(t){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},d(t)}function y(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */y=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function c(t,e,n,o){var i=e&&e.prototype instanceof h?e:h,a=Object.create(i.prototype),s=new _(o||[]);return r(a,"_invoke",{value:C(t,n,s)}),a}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var f={};function h(){}function p(){}function v(){}var g={};u(g,i,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(S([])));b&&b!==e&&n.call(b,i)&&(g=b);var w=v.prototype=h.prototype=Object.create(g);function A(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function x(t,e){function o(r,i,a,s){var u=l(t[r],t,i);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"==d(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,s)}),(function(t){o("throw",t,a,s)})):e.resolve(f).then((function(t){c.value=t,a(c)}),(function(t){return o("throw",t,a,s)}))}s(u.arg)}var i;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){o(t,n,e,r)}))}return i=i?i.then(r,r):r()}})}function C(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=E(a,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=l(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function E(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=l(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function _(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function S(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return p.prototype=v,r(w,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:p,configurable:!0}),p.displayName=u(v,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,u(t,s,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},A(x.prototype),u(x.prototype,a,(function(){return this})),t.AsyncIterator=x,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new x(c(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},A(w),u(w,s,"Generator"),u(w,i,(function(){return this})),u(w,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=S,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),L(n),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;L(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:S(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},t}function v(t,e,n,r,o,i,a){try{var s=t[i](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,o)}function g(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){v(i,r,o,a,s,"next",t)}function s(t){v(i,r,o,a,s,"throw",t)}a(void 0)}))}}function m(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function b(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==d(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==d(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===d(i)?i:String(i)),r)}var o,i}function w(){return w="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=A(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},w.apply(this,arguments)}function A(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=k(t)););return t}function x(t,e){return x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},x(t,e)}function C(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=k(t);if(e){var o=k(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return E(this,n)}}function E(t,e){if(e&&("object"===d(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function k(t){return k=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},k(t)}var L={id:"pip-left",name:{es:"Dos streams imagen dentro de imagen"},hidden:!1,videos:[{content:null,rect:[{aspectRatio:"16/9",left:0,top:0,width:1280,height:720},{aspectRatio:"16/10",left:64,top:0,width:1152,height:720},{aspectRatio:"5/3",left:40,top:0,width:1200,height:720},{aspectRatio:"5/4",left:190,top:0,width:900,height:720},{aspectRatio:"4/3",left:160,top:0,width:960,height:720},{aspectRatio:"9/16",left:617,top:17,width:386,height:687}],visible:!0,layer:1},{content:null,rect:[{aspectRatio:"16/9",left:50,top:470,width:350,height:197},{aspectRatio:"16/10",left:50,top:448,width:350,height:219},{aspectRatio:"5/3",left:50,top:457,width:350,height:210},{aspectRatio:"5/4",left:50,top:387,width:350,height:280},{aspectRatio:"4/3",left:50,top:404,width:350,height:262},{aspectRatio:"9/16",left:224,top:301,width:224,height:400}],visible:!0,layer:2}],buttons:[]},_={id:"pip-right",name:{es:"Dos streams imagen dentro de imagen a la derecha"},hidden:!1,videos:[{content:null,rect:[{aspectRatio:"16/9",left:0,top:0,width:1280,height:720},{aspectRatio:"16/10",left:64,top:0,width:1152,height:720},{aspectRatio:"5/3",left:40,top:0,width:1200,height:720},{aspectRatio:"5/4",left:190,top:0,width:900,height:720},{aspectRatio:"4/3",left:160,top:0,width:960,height:720},{aspectRatio:"9/16",left:242,top:17,width:386,height:687}],visible:!0,layer:1},{content:null,rect:[{aspectRatio:"16/9",left:880,top:470,width:350,height:197},{aspectRatio:"16/10",left:880,top:448,width:350,height:219},{aspectRatio:"5/3",left:880,top:457,width:350,height:210},{aspectRatio:"5/4",left:880,top:387,width:350,height:280},{aspectRatio:"4/3",left:880,top:404,width:350,height:262},{aspectRatio:"9/16",left:887,top:304,width:224,height:400}],visible:!0,layer:2}],buttons:[]},S=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&x(t,e)}(u,t);var e,n,r,o,a=C(u);function u(){return m(this,u),a.apply(this,arguments)}return e=u,n=[{key:"getPluginModuleInstance",value:function(){return p.default.Get()}},{key:"name",get:function(){return w(k(u.prototype),"name",this)||"es.upv.paella.dualVideoPiP"}},{key:"identifier",get:function(){return"dual-video-pip"}},{key:"load",value:(o=g(y().mark((function t(){return y().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this._currentLayout=L,this.dualVideoContentIds=this.config.dualVideoContentIds||[];case 2:case"end":return t.stop()}}),t,this)}))),function(){return o.apply(this,arguments)})},{key:"getValidStreams",value:function(t){return w(k(u.prototype),"getValidStreams",this).call(this,t).filter((function(t){return 2===t.length}))}},{key:"getVideoCanvasButtons",value:function(t,e,n,r){var o,a,u,l,p=this,d=this.player.getCustomPluginIcon(this.name,"iconClose")||c(),v=this.player.getCustomPluginIcon(this.name,"iconSwitchSide")||i(),m=this.player.getCustomPluginIcon(this.name,"iconMaximize")||s(),b=this.player.getCustomPluginIcon(this.name,"iconSideBySide")||f(),w=[{icon:d,position:h.iN.RIGHT,title:this.player.translate("Close video"),ariaLabel:this.player.translate("Close video"),name:this.name+":iconClose",click:(o=g(y().mark((function t(){var n,r;return y().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=p.player.videoContainer.validContentIds.filter((function(t){return-1===t.indexOf("-")})),r=n.find((function(t){return t!==e})),t.next=4,p.player.videoContainer.setLayout(r);case 4:case"end":return t.stop()}}),t)}))),function(){return o.apply(this,arguments)})}];return e===this._pipVideo?(w.push({icon:v,position:h.iN.LEFT,title:this.player.translate("Switch side"),ariaLabel:this.player.translate("Switch side"),name:this.name+":iconSwitchSide",click:(l=g(y().mark((function t(){return y().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return p.switchSide(),t.next=3,p.player.videoContainer.updateLayout(p._fullVideo);case 3:case"end":return t.stop()}}),t)}))),function(){return l.apply(this,arguments)})}),w.push({icon:m,position:h.iN.LEFT,title:this.player.translate("Maximize video"),ariaLabel:this.player.translate("Maximize video"),name:this.name+":iconMaximize",click:(u=g(y().mark((function t(){return y().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return p.switchSources(),t.next=3,p.player.videoContainer.updateLayout(p._fullVideo);case 3:case"end":return t.stop()}}),t)}))),function(){return u.apply(this,arguments)})})):this.dualVideoContentIds.length>0&&w.push({icon:b,position:h.iN.LEFT,title:this.player.translate("Set side by side"),ariaLabel:this.player.translate("Set side by side"),name:this.name+":iconSideBySide",click:(a=g(y().mark((function t(){var e,n;return y().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=p.player.videoContainer.validContentIds,(n=p.dualVideoContentIds.find((function(t){return-1!==e.indexOf(t)})))&&p.player.videoContainer.setLayout(n);case 3:case"end":return t.stop()}}),t)}))),function(){return a.apply(this,arguments)})}),w}},{key:"switchSide",value:function(){"pip-left"===this._currentLayout.id?this._currentLayout=_:this._currentLayout=L}},{key:"switchSources",value:function(){var t=this._pipVideo;this._pipVideo=this._fullVideo,this._fullVideo=t}},{key:"getLayoutStructure",value:function(t,e,n){var r=this.validContent.find((function(t){return t.id===e})),o=r.content;n&&o.find((function(t){return t===n}))?(this._fullVideo=n,this._pipVideo=o.find((function(t){return t!==n}))):this._pipVideo&&this._fullVideo||(this._pipVideo=o[0],this._fullVideo=o[1]);var i=JSON.parse(JSON.stringify(this._currentLayout));return i.player=this.player,i.videos[0].content=this._fullVideo,i.videos[1].content=this._pipVideo,i}}],n&&b(e.prototype,n),r&&b(e,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(r.ZP)},8785:(t,e,n)=>{n.r(e),n.d(e,{default:()=>b});var r=n(4382),o=n(3063),i=n(1042),a=n.n(i),s=n(4493);function u(t){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u(t)}function c(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */c=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function f(t,e,n,o){var i=e&&e.prototype instanceof d?e:d,a=Object.create(i.prototype),s=new _(o||[]);return r(a,"_invoke",{value:C(t,n,s)}),a}function h(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=f;var p={};function d(){}function y(){}function v(){}var g={};l(g,i,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(S([])));b&&b!==e&&n.call(b,i)&&(g=b);var w=v.prototype=d.prototype=Object.create(g);function A(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function x(t,e){function o(r,i,a,s){var c=h(t[r],t,i);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==u(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,s)}),(function(t){o("throw",t,a,s)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return o("throw",t,a,s)}))}s(c.arg)}var i;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){o(t,n,e,r)}))}return i=i?i.then(r,r):r()}})}function C(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=E(a,n);if(s){if(s===p)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=h(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===p)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function E(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var o=h(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,p;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,p):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function _(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function S(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return y.prototype=v,r(w,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:y,configurable:!0}),y.displayName=l(v,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,l(t,s,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},A(x.prototype),l(x.prototype,a,(function(){return this})),t.AsyncIterator=x,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new x(f(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},A(w),l(w,s,"Generator"),l(w,i,(function(){return this})),l(w,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=S,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),L(n),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;L(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:S(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},t}function l(t,e,n,r,o,i,a){try{var s=t[i](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,o)}function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==u(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==u(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===u(i)?i:String(i)),r)}var o,i}function p(){return p="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=d(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},p.apply(this,arguments)}function d(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=m(t)););return t}function y(t,e){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},y(t,e)}function v(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m(t);if(e){var o=m(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return g(this,n)}}function g(t,e){if(e&&("object"===u(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function m(t){return m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},m(t)}var b=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&y(t,e)}(g,t);var e,n,o,i,u,d=v(g);function g(){return f(this,g),d.apply(this,arguments)}return e=g,n=[{key:"getPluginModuleInstance",value:function(){return s.default.Get()}},{key:"name",get:function(){return p(m(g.prototype),"name",this)||"es.upv.paella.singleVideo"}},{key:"identifier",get:function(){return"single-video"}},{key:"load",value:(i=c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.player.log.debug("Single video layout loaded"),this.dualVideoContentIds=this.config.dualVideoContentIds||["presenter-presentation-dynamic","presenter-2-presentation-dynamic","presenter-presenter-2-dynamic","presenter-presentation","presenter-2-presentation","presenter-presenter-2"];case 2:case"end":return t.stop()}}),t,this)})),u=function(){var t=this,e=arguments;return new Promise((function(n,r){var o=i.apply(t,e);function a(t){l(o,n,r,a,s,"next",t)}function s(t){l(o,n,r,a,s,"throw",t)}a(void 0)}))},function(){return u.apply(this,arguments)})},{key:"getValidStreams",value:function(t){return p(m(g.prototype),"getValidStreams",this).call(this,t).filter((function(t){return 1===t.length}))}},{key:"getVideoCanvasButtons",value:function(t,e,n,o){var i=this;return this._multiStream?[{icon:this.player.getCustomPluginIcon(this.name,"iconSideBySide")||a(),position:r.iN.LEFT,title:this.player.translate("Two videos 50%"),ariaLabel:this.player.translate("Two videos 50%"),name:this.name+":iconSideBySide",click:function(){var t=i.player.videoContainer.validContentIds,e=i.dualVideoContentIds.find((function(e){return-1!==t.indexOf(e)}));e&&i.player.videoContainer.setLayout(e)}}]:[]}},{key:"getLayoutStructure",value:function(t,e){var n=this.validContent.find((function(t){return t.id===e})),r={player:this.player,name:{es:"One stream"},hidden:!1,videos:[{content:n.content[0],rect:[{aspectRatio:"1/1",left:280,top:0,width:720,height:720},{aspectRatio:"6/5",left:208,top:0,width:864,height:720},{aspectRatio:"5/4",left:190,top:0,width:900,height:720},{aspectRatio:"4/3",left:160,top:0,width:960,height:720},{aspectRatio:"11/8",left:145,top:0,width:990,height:720},{aspectRatio:"1.41/1",left:132,top:0,width:1015,height:720},{aspectRatio:"1.43/1",left:125,top:0,width:1029,height:720},{aspectRatio:"3/2",left:100,top:0,width:1080,height:720},{aspectRatio:"16/10",left:64,top:0,width:1152,height:720},{aspectRatio:"5/3",left:40,top:0,width:1200,height:720},{aspectRatio:"16/9",left:0,top:0,width:1280,height:720},{aspectRatio:"1.85/1",left:0,top:14,width:1280,height:692},{aspectRatio:"2.35/1",left:0,top:87,width:1280,height:544},{aspectRatio:"2.41/1",left:0,top:94,width:1280,height:531},{aspectRatio:"2.76/1",left:0,top:128,width:1280,height:463}],visible:!0,layer:1}],background:{content:"slide_professor_paella.jpg",zIndex:5,rect:{left:0,top:0,width:1280,height:720},visible:!0,layer:0},logos:[{content:"paella_logo.png",zIndex:5,rect:{top:10,left:10,width:49,height:42}}],buttons:[],onApply:function(){}};return t.length>1&&(this._multiStream=!0),r}}],n&&h(e.prototype,n),o&&h(e,o),Object.defineProperty(e,"prototype",{writable:!1}),g}(o.ZP)},6126:(t,e,n)=>{n.r(e),n.d(e,{default:()=>w});var r=n(3063),o=n(4382),i=n(1042),a=n.n(i),s=n(4493);function u(t){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u(t)}function c(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */c=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function f(t,e,n,o){var i=e&&e.prototype instanceof d?e:d,a=Object.create(i.prototype),s=new _(o||[]);return r(a,"_invoke",{value:C(t,n,s)}),a}function h(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=f;var p={};function d(){}function y(){}function v(){}var g={};l(g,i,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(S([])));b&&b!==e&&n.call(b,i)&&(g=b);var w=v.prototype=d.prototype=Object.create(g);function A(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function x(t,e){function o(r,i,a,s){var c=h(t[r],t,i);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==u(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,s)}),(function(t){o("throw",t,a,s)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return o("throw",t,a,s)}))}s(c.arg)}var i;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){o(t,n,e,r)}))}return i=i?i.then(r,r):r()}})}function C(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=E(a,n);if(s){if(s===p)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=h(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===p)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function E(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var o=h(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,p;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,p):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function _(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function S(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return y.prototype=v,r(w,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:y,configurable:!0}),y.displayName=l(v,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,l(t,s,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},A(x.prototype),l(x.prototype,a,(function(){return this})),t.AsyncIterator=x,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new x(f(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},A(w),l(w,s,"Generator"),l(w,i,(function(){return this})),l(w,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=S,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),L(n),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;L(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:S(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},t}function l(t,e,n,r,o,i,a){try{var s=t[i](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,o)}function f(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){l(i,r,o,a,s,"next",t)}function s(t){l(i,r,o,a,s,"throw",t)}a(void 0)}))}}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==u(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==u(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===u(i)?i:String(i)),r)}var o,i}function d(){return d="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=y(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},d.apply(this,arguments)}function y(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=b(t)););return t}function v(t,e){return v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},v(t,e)}function g(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=b(t);if(e){var o=b(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return m(this,n)}}function m(t,e){if(e&&("object"===u(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function b(t){return b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},b(t)}var w=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&v(t,e)}(l,t);var e,n,r,i,u=g(l);function l(){return h(this,l),u.apply(this,arguments)}return e=l,n=[{key:"getPluginModuleInstance",value:function(){return s.default.Get()}},{key:"name",get:function(){return d(b(l.prototype),"name",this)||"es.upv.paella.singleVideoDynamic"}},{key:"layoutType",get:function(){return"dynamic"}},{key:"load",value:(i=f(c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.player.log.debug("Single video dynamic layout loaded"),this.dualVideoContentIds=this.config.dualVideoContentIds||["presenter-presentation-dynamic","presenter-2-presentation-dynamic","presenter-presenter-2-dynamic","presenter-presentation","presenter-2-presentation","presenter-presenter-2"];case 2:case"end":return t.stop()}}),t,this)}))),function(){return i.apply(this,arguments)})},{key:"getVideoCanvasButtons",value:function(t,e,n,r){var i,s=this,u=this.player.getCustomPluginIcon(this.name,"iconSideBySide")||a(),l=[];return this._multiStream&&l.push({icon:u,position:o.iN.LEFT,title:this.player.translate("Dual stream 50%"),ariaLabel:this.player.translate("Dual stream 50%"),name:this.name+":iconSideBySide",click:(i=f(c().mark((function t(){var e,n;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=s.player.videoContainer.validContentIds,(n=s.dualVideoContentIds.find((function(t){return-1!==e.indexOf(t)})))&&s.player.videoContainer.setLayout(n);case 3:case"end":return t.stop()}}),t)}))),function(){return i.apply(this,arguments)})}),l}},{key:"getLayoutStructure",value:function(t,e,n){t.length>1&&(this._multiStream=!0);var r=this.validContent.find((function(t){return t.id===e})),o=r.content;return this._currentContent=o.map((function(t){return{id:t,size:50}})),{id:"single-dynamic",videos:[{content:this._currentContent[0].id,visible:!0,size:this._currentContent[0].size}]}}}],n&&p(e.prototype,n),r&&p(e,r),Object.defineProperty(e,"prototype",{writable:!1}),l}(r.ZP)},2128:(t,e,n)=>{n.r(e),n.d(e,{default:()=>b});var r=n(3063),o=n(6300),i=n.n(o),a=n(4493);function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function u(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */u=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function f(t,e,n,o){var i=e&&e.prototype instanceof d?e:d,a=Object.create(i.prototype),s=new _(o||[]);return r(a,"_invoke",{value:C(t,n,s)}),a}function h(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=f;var p={};function d(){}function y(){}function v(){}var g={};l(g,i,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(S([])));b&&b!==e&&n.call(b,i)&&(g=b);var w=v.prototype=d.prototype=Object.create(g);function A(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function x(t,e){function o(r,i,a,u){var c=h(t[r],t,i);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==s(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,u)}),(function(t){o("throw",t,a,u)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return o("throw",t,a,u)}))}u(c.arg)}var i;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){o(t,n,e,r)}))}return i=i?i.then(r,r):r()}})}function C(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=E(a,n);if(s){if(s===p)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=h(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===p)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function E(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var o=h(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,p;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,p):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function _(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function S(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return y.prototype=v,r(w,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:y,configurable:!0}),y.displayName=l(v,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,l(t,c,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},A(x.prototype),l(x.prototype,a,(function(){return this})),t.AsyncIterator=x,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new x(f(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},A(w),l(w,c,"Generator"),l(w,i,(function(){return this})),l(w,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=S,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),L(n),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;L(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:S(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},t}function c(t,e,n,r,o,i,a){try{var s=t[i](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,o)}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==s(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===s(i)?i:String(i)),r)}var o,i}function h(){return h="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=p(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},h.apply(this,arguments)}function p(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=g(t)););return t}function d(t,e){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},d(t,e)}function y(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=g(t);if(e){var o=g(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return v(this,n)}}function v(t,e){if(e&&("object"===s(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function g(t){return g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},g(t)}var m={videos:[{content:{},rect:[{aspectRatio:"16/9",left:239,top:17,width:803,height:451}],visible:!0,layer:1},{content:{},rect:[{aspectRatio:"16/9",left:44,top:482,width:389,height:218}],visible:!0,layer:1},{content:{},rect:[{aspectRatio:"16/9",left:847,top:482,width:389,height:218}],visible:!0,layer:1}],buttons:[{rect:{left:618,top:495,width:45,height:45},onClick:function(t){this.rotate()},label:"Rotate",icon:"icon_rotate.svg",layer:2}]},b=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&d(t,e)}(v,t);var e,n,r,o,s,p=y(v);function v(){return l(this,v),p.apply(this,arguments)}return e=v,n=[{key:"getPluginModuleInstance",value:function(){return a.default.Get()}},{key:"name",get:function(){return h(g(v.prototype),"name",this)||"es.upv.paella.tripleVideo"}},{key:"identifier",get:function(){return"triple-video"}},{key:"load",value:(o=u().mark((function t(){return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.player.log.debug("Triple video layout loaded");case 1:case"end":return t.stop()}}),t,this)})),s=function(){var t=this,e=arguments;return new Promise((function(n,r){var i=o.apply(t,e);function a(t){c(i,n,r,a,s,"next",t)}function s(t){c(i,n,r,a,s,"throw",t)}a(void 0)}))},function(){return s.apply(this,arguments)})},{key:"getValidStreams",value:function(t){return h(g(v.prototype),"getValidStreams",this).call(this,t).filter((function(t){return 3===t.length}))}},{key:"switchContent",value:function(){var t=this._currentContent[0],e=this._currentContent[1],n=this._currentContent[2];this._currentContent[0]=n,this._currentContent[1]=t,this._currentContent[2]=e,this.player.videoContainer.updateLayout()}},{key:"getLayoutStructure",value:function(t,e){var n=this;if(!this._currentContent||this._currentContentId!==e){this._currentContentId=e;var r=this.validContent.find((function(t){return t.id===e})),o=r.content;this._currentContent=o}var a=function(t){var e=JSON.parse(JSON.stringify(m));return e.videos[0].content=t[0],e.videos[1].content=t[1],e.videos[2].content=t[2],e}(this._currentContent);return{player:this.player,name:{es:"Three streams with dynamic position"},hidden:!1,videos:a.videos,buttons:[{rect:a.buttons[0].rect,onClick:function(){n.switchContent()},label:"Switch",icon:i(),layer:2,ariaLabel:"Swap the position of the videos",title:"Swap the position of the videos"}]}}}],n&&f(e.prototype,n),r&&f(e,r),Object.defineProperty(e,"prototype",{writable:!1}),v}(r.ZP)},1481:(t,e,n)=>{n.r(e),n.d(e,{default:()=>p});var r=n(7133),o=n(4147);function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,a=void 0,a=function(t,e){if("object"!==i(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===i(a)?a:String(a)),r)}var o,a}function u(t,e){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},u(t,e)}function c(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=f(t);if(e){var o=f(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l(this,n)}}function l(t,e){if(e&&("object"===i(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function f(t){return f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},f(t)}var h=null,p=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&u(t,e)}(l,t);var e,n,r,i=c(l);function l(){return a(this,l),i.apply(this,arguments)}return e=l,r=[{key:"Get",value:function(){return h||(h=new l),h}}],(n=[{key:"moduleName",get:function(){return"paella-core default plugins"}},{key:"moduleVersion",get:function(){return o.version}}])&&s(e.prototype,n),r&&s(e,r),Object.defineProperty(e,"prototype",{writable:!1}),l}(r.Z)},7927:(t,e,n)=>{n.r(e),n.d(e,{default:()=>b});var r=n(7118),o=n(1481),i=n(9998),a=n.n(i);function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function u(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */u=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function f(t,e,n,o){var i=e&&e.prototype instanceof d?e:d,a=Object.create(i.prototype),s=new _(o||[]);return r(a,"_invoke",{value:C(t,n,s)}),a}function h(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=f;var p={};function d(){}function y(){}function v(){}var g={};l(g,i,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(S([])));b&&b!==e&&n.call(b,i)&&(g=b);var w=v.prototype=d.prototype=Object.create(g);function A(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function x(t,e){function o(r,i,a,u){var c=h(t[r],t,i);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==s(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,u)}),(function(t){o("throw",t,a,u)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return o("throw",t,a,u)}))}u(c.arg)}var i;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){o(t,n,e,r)}))}return i=i?i.then(r,r):r()}})}function C(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=E(a,n);if(s){if(s===p)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=h(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===p)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function E(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var o=h(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,p;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,p):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function _(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function S(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return y.prototype=v,r(w,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:y,configurable:!0}),y.displayName=l(v,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,l(t,c,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},A(x.prototype),l(x.prototype,a,(function(){return this})),t.AsyncIterator=x,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new x(f(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},A(w),l(w,c,"Generator"),l(w,i,(function(){return this})),l(w,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=S,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),L(n),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;L(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:S(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},t}function c(t,e,n,r,o,i,a){try{var s=t[i](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,o)}function l(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){c(i,r,o,a,s,"next",t)}function s(t){c(i,r,o,a,s,"throw",t)}a(void 0)}))}}function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==s(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===s(i)?i:String(i)),r)}var o,i}function p(){return p="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=d(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},p.apply(this,arguments)}function d(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=m(t)););return t}function y(t,e){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},y(t,e)}function v(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m(t);if(e){var o=m(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return g(this,n)}}function g(t,e){if(e&&("object"===s(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function m(t){return m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},m(t)}var b=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&y(t,e)}(d,t);var e,n,r,i,s,c=v(d);function d(){return f(this,d),c.apply(this,arguments)}return e=d,n=[{key:"getPluginModuleInstance",value:function(){return o.default.Get()}},{key:"name",get:function(){return p(m(d.prototype),"name",this)||"es.upv.paella.canvasButtonPluginTest"}},{key:"load",value:(s=l(u().mark((function t(){return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.icon=a();case 1:case"end":return t.stop()}}),t,this)}))),function(){return s.apply(this,arguments)})},{key:"action",value:(i=l(u().mark((function t(e,n,r,o){return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:console.log("Content: ".concat(e)),console.log(n),console.log(r),console.log(o);case 4:case"end":return t.stop()}}),t)}))),function(t,e,n,r){return i.apply(this,arguments)})}],n&&h(e.prototype,n),r&&h(e,r),Object.defineProperty(e,"prototype",{writable:!1}),d}(r.ZP)},6384:(t,e,n)=>{n.r(e),n.d(e,{default:()=>y});var r=n(9267),o=n(1481);function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function a(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */a=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},s=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function f(t,e,n,o){var i=e&&e.prototype instanceof d?e:d,a=Object.create(i.prototype),s=new _(o||[]);return r(a,"_invoke",{value:C(t,n,s)}),a}function h(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=f;var p={};function d(){}function y(){}function v(){}var g={};l(g,s,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(S([])));b&&b!==e&&n.call(b,s)&&(g=b);var w=v.prototype=d.prototype=Object.create(g);function A(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function x(t,e){function o(r,a,s,u){var c=h(t[r],t,a);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==i(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,s,u)}),(function(t){o("throw",t,s,u)})):e.resolve(f).then((function(t){l.value=t,s(l)}),(function(t){return o("throw",t,s,u)}))}u(c.arg)}var a;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){o(t,n,e,r)}))}return a=a?a.then(r,r):r()}})}function C(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=E(a,n);if(s){if(s===p)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=h(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===p)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function E(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var o=h(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,p;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,p):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function _(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function S(t){if(t){var e=t[s];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return y.prototype=v,r(w,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:y,configurable:!0}),y.displayName=l(v,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,l(t,c,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},A(x.prototype),l(x.prototype,u,(function(){return this})),t.AsyncIterator=x,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new x(f(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},A(w),l(w,c,"Generator"),l(w,s,(function(){return this})),l(w,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=S,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),L(n),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;L(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:S(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},t}function s(t,e,n,r,o,i,a){try{var s=t[i](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,o)}function u(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){s(i,r,o,a,u,"next",t)}function u(t){s(i,r,o,a,u,"throw",t)}a(void 0)}))}}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,a=void 0,a=function(t,e){if("object"!==i(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===i(a)?a:String(a)),r)}var o,a}function f(t,e){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},f(t,e)}function h(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=d(t);if(e){var o=d(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p(this,n)}}function p(t,e){if(e&&("object"===i(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function d(t){return d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},d(t)}var y=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&f(t,e)}(d,t);var e,n,i,s,p=h(d);function d(){return c(this,d),p.apply(this,arguments)}return e=d,n=[{key:"getPluginModuleInstance",value:function(){return o.default.Get()}},{key:"getKeys",value:(s=u(a().mark((function t(){var e=this;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",[{keyCode:r.mW.KeyM,description:"Collision key shortcut",keyModifiers:{ctrlKey:!1},action:function(){var t=u(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.player.log.debug("Test collision shortcut");case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()}]);case 1:case"end":return t.stop()}}),t)}))),function(){return s.apply(this,arguments)})}],n&&l(e.prototype,n),i&&l(e,i),Object.defineProperty(e,"prototype",{writable:!1}),d}(r.ZP)},5026:(t,e,n)=>{n.r(e),n.d(e,{default:()=>P});var r=n(9267),o=n(6911),i=n(8985),a=n(6928),s=n.n(a),u=n(9978),c=n.n(u),l=n(2704),f=n.n(l),h=n(9506),p=n.n(h),d=n(4453),y=n(230),v=n(1481);function g(t){return g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},g(t)}function m(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */m=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function c(t,e,n,o){var i=e&&e.prototype instanceof h?e:h,a=Object.create(i.prototype),s=new _(o||[]);return r(a,"_invoke",{value:C(t,n,s)}),a}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var f={};function h(){}function p(){}function d(){}var y={};u(y,i,(function(){return this}));var v=Object.getPrototypeOf,b=v&&v(v(S([])));b&&b!==e&&n.call(b,i)&&(y=b);var w=d.prototype=h.prototype=Object.create(y);function A(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function x(t,e){function o(r,i,a,s){var u=l(t[r],t,i);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"==g(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,s)}),(function(t){o("throw",t,a,s)})):e.resolve(f).then((function(t){c.value=t,a(c)}),(function(t){return o("throw",t,a,s)}))}s(u.arg)}var i;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){o(t,n,e,r)}))}return i=i?i.then(r,r):r()}})}function C(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=E(a,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=l(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function E(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=l(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function _(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function S(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return p.prototype=d,r(w,"constructor",{value:d,configurable:!0}),r(d,"constructor",{value:p,configurable:!0}),p.displayName=u(d,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,u(t,s,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},A(x.prototype),u(x.prototype,a,(function(){return this})),t.AsyncIterator=x,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new x(c(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},A(w),u(w,s,"Generator"),u(w,i,(function(){return this})),u(w,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=S,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),L(n),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;L(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:S(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},t}function b(t,e,n,r,o,i,a){try{var s=t[i](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,o)}function w(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){b(i,r,o,a,s,"next",t)}function s(t){b(i,r,o,a,s,"throw",t)}a(void 0)}))}}function A(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function x(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==g(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==g(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===g(i)?i:String(i)),r)}var o,i}function C(){return C="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=E(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},C.apply(this,arguments)}function E(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=S(t)););return t}function k(t,e){return k=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},k(t,e)}function L(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=S(t);if(e){var o=S(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _(this,n)}}function _(t,e){if(e&&("object"===g(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function S(t){return S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},S(t)}var P=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&k(t,e)}(R,t);var e,n,a,u,l,h,g,b,E,_,P,T,O=L(R);function R(){return A(this,R),O.apply(this,arguments)}return e=R,n=[{key:"getPluginModuleInstance",value:function(){return v.default.Get()}},{key:"name",get:function(){return C(S(R.prototype),"name",this)||"es.upv.paella.defaultShortcuts"}},{key:"getVolumeIcon",value:function(t){return 0===t?this.player.getCustomPluginIcon(this.name,"volumeMuteIcon")||s():t<.3?this.player.getCustomPluginIcon(this.name,"volumeLowIcon")||c():t<.6?this.player.getCustomPluginIcon(this.name,"volumeMidIcon")||f():this.player.getCustomPluginIcon(this.name,"volumeHighIcon")||p()}},{key:"toggleCaptions",value:function(){var t,e,n,r=this;if((null===(t=this.player)||void 0===t||null===(e=t.captionsCanvas)||void 0===e||null===(n=e.captions)||void 0===n?void 0:n.length)>0)if(this.player.captionsCanvas.isVisible)this.player.captionsCanvas.disableCaptions();else{var o=null;navigator.languages.some((function(t){return r.player.captionsCanvas.captions.some((function(e,n){return t==e.language&&(o=n,!0)}))})),this.player.captionsCanvas.enableCaptions({index:o||0})}}},{key:"togglePlayPause",value:(T=w(m().mark((function t(){return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.player.paused();case 2:if(!t.sent){t.next=8;break}return t.next=6,this.player.play();case 6:t.next=10;break;case 8:return t.next=10,this.player.pause();case 10:case"end":return t.stop()}}),t,this)}))),function(){return T.apply(this,arguments)})},{key:"toggleFullscreen",value:(P=w(m().mark((function t(){return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.player.isFullscreen){t.next=5;break}return t.next=3,this.player.exitFullscreen();case 3:t.next=7;break;case 5:return t.next=7,this.player.enterFullscreen();case 7:case"end":return t.stop()}}),t,this)}))),function(){return P.apply(this,arguments)})},{key:"seek",value:(_=w(m().mark((function t(e){var n;return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.player.videoContainer.streamProvider.currentTime();case 2:return n=t.sent,t.next=5,this.player.videoContainer.streamProvider.setCurrentTime(n+e);case 5:e<0?this.player.videoContainer.message.show({text:"<< ".concat(Math.abs(e),"s"),position:i.S.CENTER_LEFT,timeout:500}):this.player.videoContainer.message.show({text:"".concat(e,"s >>"),position:i.S.CENTER_RIGHT,timeout:500});case 6:case"end":return t.stop()}}),t,this)}))),function(t){return _.apply(this,arguments)})},{key:"incrementVolume",value:(E=w(m().mark((function t(e){var n,r,o;return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.player.videoContainer.streamProvider.volume();case 2:return n=t.sent,r=Math.min(Math.max(0,n+.01*e),1),t.next=6,this.player.videoContainer.setVolume(r);case 6:o=this.getVolumeIcon(r),this.player.videoContainer.message.show({text:"".concat(Math.round(100*r),"%"),position:i.S.CENTER_MIDDLE,icon:o});case 8:case"end":return t.stop()}}),t,this)}))),function(t){return E.apply(this,arguments)})},{key:"closePopUp",value:function(){o.Z.HideTopPopUp()||y.Z.HideAll(this.player)}},{key:"decreaseSpeed",value:(b=w(m().mark((function t(){var e,n;return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.player.videoContainer.playbackRate();case 2:return e=t.sent,n=0,this._validPlaybackRates.some((function(t){if(0===n&&(n=t),!(t<e))return!0;n=t})),t.next=7,this.player.videoContainer.setPlaybackRate(n);case 7:this.player.videoContainer.message.show({text:"".concat(n,"X"),position:i.S.CENTER_MIDDLE});case 8:case"end":return t.stop()}}),t,this)}))),function(){return b.apply(this,arguments)})},{key:"increaseSpeed",value:(g=w(m().mark((function t(){var e,n;return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.player.videoContainer.playbackRate();case 2:return e=t.sent,n=0,this._validPlaybackRates.some((function(t){if(t>e)return n=t,!0})),0===n&&(n=this._validPlaybackRates[this._validPlaybackRates.length-1]),t.next=8,this.player.videoContainer.setPlaybackRate(n);case 8:this.player.videoContainer.message.show({text:"".concat(n,"X"),position:i.S.CENTER_MIDDLE});case 9:case"end":return t.stop()}}),t,this)}))),function(){return g.apply(this,arguments)})},{key:"toggleVolume",value:(h=w(m().mark((function t(){var e,n,r;return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.player.videoContainer.volume();case 2:return e=t.sent,n=0,e>0?(this._lastVolume=e,n=0):n=this._lastVolume||1,t.next=7,this.player.videoContainer.setVolume(n);case 7:r=this.getVolumeIcon(n),this.player.videoContainer.message.show({text:"volume: ".concat(Math.round(100*n),"%"),position:i.S.CENTER_MIDDLE,icon:r});case 9:case"end":return t.stop()}}),t,this)}))),function(){return h.apply(this,arguments)})},{key:"load",value:(l=w(m().mark((function t(){return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this._validPlaybackRates=this.config.validPlaybackRates||[.75,1,1.5,2],this._validPlaybackRates.sort((function(t,e){return t-e}));case 2:case"end":return t.stop()}}),t,this)}))),function(){return l.apply(this,arguments)})},{key:"getKeys",value:(u=w(m().mark((function t(){var e,n,o,i,a=this;return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.player,n=this.config.skipBackwards||30,o=this.config.skipForward||30,i=function(){return e.state===d.Z.LOADED},t.t0={keyCode:r.mW.KeyM,description:"Toggle audio mute",keyModifiers:{ctrlKey:!1},action:function(){var t=w(m().mark((function t(){return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!i()){t.next=3;break}return t.next=3,a.toggleVolume();case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},t.t1={keyCode:r.mW.KeyK,description:"Toggle play/pause",action:function(){var t=w(m().mark((function t(){return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.togglePlayPause();case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},t.t2=r.mW.KeyJ,t.t3=function(){var t=w(m().mark((function t(){return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!i()){t.next=3;break}return t.next=3,a.seek(-n);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),t.t4={keyCode:t.t2,get description(){return e.translate("Rewind $1 seconds",[n])},action:t.t3},t.t5=r.mW.KeyL,t.t6=function(){var t=w(m().mark((function t(){return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!i()){t.next=3;break}return t.next=3,a.seek(o);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),t.t7={keyCode:t.t5,get description(){return e.translate("Forward $1 seconds",[o])},action:t.t6},t.t8={keyCode:r.mW.Space,description:"Toggle play/pause",action:function(){var t=w(m().mark((function t(){return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!i()){t.next=3;break}return t.next=3,a.togglePlayPause();case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},t.t9={keyCode:r.mW.KeyF,description:"Toggle fullscreen",action:function(){var t=w(m().mark((function t(){return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!i()){t.next=3;break}return t.next=3,a.toggleFullscreen();case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},t.t10={keyCode:r.mW.KeyC,description:"Toggle captions",action:function(){var t=w(m().mark((function t(){return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i()&&a.toggleCaptions();case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},t.t11=r.mW.ArrowLeft,t.t12=function(){var t=w(m().mark((function t(){return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!i()){t.next=3;break}return t.next=3,a.seek(-n);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),t.t13={keyCode:t.t11,get description(){return e.translate("Rewind $1 seconds",[n])},action:t.t12},t.t14=r.mW.ArrowRight,t.t15=function(){var t=w(m().mark((function t(){return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!i()){t.next=3;break}return t.next=3,a.seek(o);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),t.t16={keyCode:t.t14,get description(){return e.translate("Forward $1 seconds",[o])},action:t.t15},t.t17={keyCode:r.mW.ArrowUp,description:"Volume up 10%",action:function(){var t=w(m().mark((function t(){return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i()&&a.incrementVolume(10);case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},t.t18={keyCode:r.mW.ArrowDown,description:"Volume down 10%",action:function(){var t=w(m().mark((function t(){return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i()&&a.incrementVolume(-10);case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},t.t19={keyCode:r.mW.Escape,description:"Close pop-up",action:function(){var t=w(m().mark((function t(){return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i()&&a.closePopUp();case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},t.t20={keyCode:r.mW.KeyU,description:"Decrease playback speed",action:function(){var t=w(m().mark((function t(){return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!i()){t.next=3;break}return t.next=3,a.decreaseSpeed();case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},t.t21={keyCode:r.mW.KeyO,description:"Increase playback speed",action:function(){var t=w(m().mark((function t(){return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i()&&a.increaseSpeed();case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},t.abrupt("return",[t.t0,t.t1,t.t4,t.t7,t.t8,t.t9,t.t10,t.t13,t.t16,t.t17,t.t18,t.t19,t.t20,t.t21]);case 27:case"end":return t.stop()}}),t,this)}))),function(){return u.apply(this,arguments)})}],n&&x(e.prototype,n),a&&x(e,a),Object.defineProperty(e,"prototype",{writable:!1}),R}(r.ZP)},7629:(t,e,n)=>{n.r(e),n.d(e,{default:()=>A});var r=n(8704),o=n(4062),i=n(1481),a=n(1401);function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function u(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,s=[],u=!0,c=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);u=!0);}catch(t){c=!0,o=t}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return c(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function l(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */l=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function f(t,e,n,o){var i=e&&e.prototype instanceof d?e:d,a=Object.create(i.prototype),s=new _(o||[]);return r(a,"_invoke",{value:C(t,n,s)}),a}function h(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=f;var p={};function d(){}function y(){}function v(){}var g={};c(g,i,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(S([])));b&&b!==e&&n.call(b,i)&&(g=b);var w=v.prototype=d.prototype=Object.create(g);function A(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function x(t,e){function o(r,i,a,u){var c=h(t[r],t,i);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==s(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,u)}),(function(t){o("throw",t,a,u)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return o("throw",t,a,u)}))}u(c.arg)}var i;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){o(t,n,e,r)}))}return i=i?i.then(r,r):r()}})}function C(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=E(a,n);if(s){if(s===p)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=h(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===p)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function E(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var o=h(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,p;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,p):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function _(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function S(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return y.prototype=v,r(w,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:y,configurable:!0}),y.displayName=c(v,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,c(t,u,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},A(x.prototype),c(x.prototype,a,(function(){return this})),t.AsyncIterator=x,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new x(f(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},A(w),c(w,u,"Generator"),c(w,i,(function(){return this})),c(w,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=S,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),L(n),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;L(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:S(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},t}function f(t,e,n,r,o,i,a){try{var s=t[i](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,o)}function h(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){f(i,r,o,a,s,"next",t)}function s(t){f(i,r,o,a,s,"throw",t)}a(void 0)}))}}function p(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==s(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===s(i)?i:String(i)),r)}var o,i}function y(){return y="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=v(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},y.apply(this,arguments)}function v(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=w(t)););return t}function g(t,e){return g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},g(t,e)}function m(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=w(t);if(e){var o=w(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return b(this,n)}}function b(t,e){if(e&&("object"===s(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function w(t){return w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},w(t)}var A=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&g(t,e)}(v,t);var e,n,r,s,c,f=m(v);function v(){return p(this,v),f.apply(this,arguments)}return e=v,n=[{key:"getPluginModuleInstance",value:function(){return i.default.Get()}},{key:"name",get:function(){return y(w(v.prototype),"name",this)||"es.upv.paella.dfxpManifestCaptionsPlugin"}},{key:"isEnabled",value:(c=h(l().mark((function t(){var e;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y(w(v.prototype),"isEnabled",this).call(this);case 2:return e=t.sent,t.abrupt("return",e&&this.player.videoManifest.captions&&this.player.videoManifest.captions.length>0);case 4:case"end":return t.stop()}}),t,this)}))),function(){return c.apply(this,arguments)})},{key:"getCaptions",value:(s=h(l().mark((function t(){var e,n,r=this;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=[],n=[],this.player.videoManifest.captions.forEach((function(t){n.push(new Promise(function(){var n=h(l().mark((function n(i,s){var c,f,h,p;return l().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!/dfxp/i.test(t.format)){n.next=20;break}return c=(0,a.resolveResourcePath)(r.player,t.url),n.next=4,fetch(c);case 4:if(!(f=n.sent).ok){n.next=17;break}return n.next=8,f.text();case 8:h=(h=(h=(h=n.sent).replace(/[^\x09\x0A\x0D\x20-\xFF\x85\xA0-\uD7FF\uE000-\uFDCF\uFDE0-\uFFFD]/gm,"")).replace(/&\w+;/gim,"")).replaceAll("<br>",""),p=new o.Z(r.player,h),Object.entries(p.captions).forEach((function(t){var n=u(t,2);n[0];var r=n[1];e.push(r)})),i(),n.next=18;break;case 17:s();case 18:n.next=21;break;case 20:s();case 21:case"end":return n.stop()}}),n)})));return function(t,e){return n.apply(this,arguments)}}()))})),t.next=5,Promise.allSettled(n);case 5:return t.abrupt("return",e);case 6:case"end":return t.stop()}}),t,this)}))),function(){return s.apply(this,arguments)})}],n&&d(e.prototype,n),r&&d(e,r),Object.defineProperty(e,"prototype",{writable:!1}),v}(r.Z)},9911:(t,e,n)=>{n.r(e),n.d(e,{default:()=>g});var r=n(1768),o=n(1481),i=n(9998),a=n.n(i);function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function u(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */u=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function f(t,e,n,o){var i=e&&e.prototype instanceof d?e:d,a=Object.create(i.prototype),s=new _(o||[]);return r(a,"_invoke",{value:C(t,n,s)}),a}function h(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=f;var p={};function d(){}function y(){}function v(){}var g={};l(g,i,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(S([])));b&&b!==e&&n.call(b,i)&&(g=b);var w=v.prototype=d.prototype=Object.create(g);function A(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function x(t,e){function o(r,i,a,u){var c=h(t[r],t,i);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==s(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,u)}),(function(t){o("throw",t,a,u)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return o("throw",t,a,u)}))}u(c.arg)}var i;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){o(t,n,e,r)}))}return i=i?i.then(r,r):r()}})}function C(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=E(a,n);if(s){if(s===p)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=h(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===p)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function E(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var o=h(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,p;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,p):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function _(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function S(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return y.prototype=v,r(w,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:y,configurable:!0}),y.displayName=l(v,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,l(t,c,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},A(x.prototype),l(x.prototype,a,(function(){return this})),t.AsyncIterator=x,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new x(f(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},A(w),l(w,c,"Generator"),l(w,i,(function(){return this})),l(w,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=S,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),L(n),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;L(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:S(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},t}function c(t,e,n,r,o,i,a){try{var s=t[i](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,o)}function l(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){c(i,r,o,a,s,"next",t)}function s(t){c(i,r,o,a,s,"throw",t)}a(void 0)}))}}function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==s(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===s(i)?i:String(i)),r)}var o,i}function p(t,e){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},p(t,e)}function d(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=v(t);if(e){var o=v(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y(this,n)}}function y(t,e){if(e&&("object"===s(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function v(t){return v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},v(t)}var g=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&p(t,e)}(y,t);var e,n,r,i,s,c=d(y);function y(){return f(this,y),c.apply(this,arguments)}return e=y,n=[{key:"getPluginModuleInstance",value:function(){return o.default.Get()}},{key:"load",value:(s=l(u().mark((function t(){return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.icon=a(),this.title="Dynamic width button";case 2:case"end":return t.stop()}}),t,this)}))),function(){return s.apply(this,arguments)})},{key:"dynamicWidth",get:function(){return!0}},{key:"action",value:(i=l(u().mark((function t(){return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.player.isFullscreen){t.next=5;break}return t.next=3,this.player.enterFullscreen();case 3:t.next=7;break;case 5:return t.next=7,this.player.exitFullscreen();case 7:case"end":return t.stop()}}),t,this)}))),function(){return i.apply(this,arguments)})}],n&&h(e.prototype,n),r&&h(e,r),Object.defineProperty(e,"prototype",{writable:!1}),y}(r.ZP)},4961:(t,e,n)=>{n.r(e),n.d(e,{default:()=>v});var r=n(1768),o=n(1481),i=n(9998),a=n.n(i);function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function u(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */u=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function f(t,e,n,o){var i=e&&e.prototype instanceof d?e:d,a=Object.create(i.prototype),s=new _(o||[]);return r(a,"_invoke",{value:C(t,n,s)}),a}function h(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=f;var p={};function d(){}function y(){}function v(){}var g={};l(g,i,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(S([])));b&&b!==e&&n.call(b,i)&&(g=b);var w=v.prototype=d.prototype=Object.create(g);function A(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function x(t,e){function o(r,i,a,u){var c=h(t[r],t,i);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==s(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,u)}),(function(t){o("throw",t,a,u)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return o("throw",t,a,u)}))}u(c.arg)}var i;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){o(t,n,e,r)}))}return i=i?i.then(r,r):r()}})}function C(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=E(a,n);if(s){if(s===p)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=h(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===p)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function E(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var o=h(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,p;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,p):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function _(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function S(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return y.prototype=v,r(w,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:y,configurable:!0}),y.displayName=l(v,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,l(t,c,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},A(x.prototype),l(x.prototype,a,(function(){return this})),t.AsyncIterator=x,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new x(f(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},A(w),l(w,c,"Generator"),l(w,i,(function(){return this})),l(w,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=S,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),L(n),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;L(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:S(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},t}function c(t,e,n,r,o,i,a){try{var s=t[i](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,o)}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==s(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===s(i)?i:String(i)),r)}var o,i}function h(t,e){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},h(t,e)}function p(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=y(t);if(e){var o=y(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return d(this,n)}}function d(t,e){if(e&&("object"===s(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function y(t){return y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},y(t)}var v=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&h(t,e)}(y,t);var e,n,r,i,s,d=p(y);function y(){return l(this,y),d.apply(this,arguments)}return e=y,n=[{key:"getPluginModuleInstance",value:function(){return o.default.Get()}},{key:"load",value:(i=u().mark((function t(){return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.icon=a(),this.title="aa";case 2:case"end":return t.stop()}}),t,this)})),s=function(){var t=this,e=arguments;return new Promise((function(n,r){var o=i.apply(t,e);function a(t){c(o,n,r,a,s,"next",t)}function s(t){c(o,n,r,a,s,"throw",t)}a(void 0)}))},function(){return s.apply(this,arguments)})},{key:"interactive",get:function(){return!1}},{key:"dynamicWidth",get:function(){return!1}}],n&&f(e.prototype,n),r&&f(e,r),Object.defineProperty(e,"prototype",{writable:!1}),y}(r.ZP)},3591:(t,e,n)=>{n.r(e),n.d(e,{default:()=>E});var r=n(1768),o=n(980),i=n(5372),a=n.n(i),s=n(752),u=n.n(s),c=n(8903),l=n.n(c),f=n(1481);function h(t){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},h(t)}function p(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */p=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function c(t,e,n,o){var i=e&&e.prototype instanceof d?e:d,a=Object.create(i.prototype),s=new _(o||[]);return r(a,"_invoke",{value:C(t,n,s)}),a}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var f={};function d(){}function y(){}function v(){}var g={};u(g,i,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(S([])));b&&b!==e&&n.call(b,i)&&(g=b);var w=v.prototype=d.prototype=Object.create(g);function A(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function x(t,e){function o(r,i,a,s){var u=l(t[r],t,i);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"==h(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,s)}),(function(t){o("throw",t,a,s)})):e.resolve(f).then((function(t){c.value=t,a(c)}),(function(t){return o("throw",t,a,s)}))}s(u.arg)}var i;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){o(t,n,e,r)}))}return i=i?i.then(r,r):r()}})}function C(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=E(a,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=l(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function E(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=l(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function _(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function S(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return y.prototype=v,r(w,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:y,configurable:!0}),y.displayName=u(v,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,u(t,s,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},A(x.prototype),u(x.prototype,a,(function(){return this})),t.AsyncIterator=x,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new x(c(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},A(w),u(w,s,"Generator"),u(w,i,(function(){return this})),u(w,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=S,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),L(n),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;L(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:S(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},t}function d(t,e,n,r,o,i,a){try{var s=t[i](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,o)}function y(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){d(i,r,o,a,s,"next",t)}function s(t){d(i,r,o,a,s,"throw",t)}a(void 0)}))}}function v(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function g(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==h(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==h(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===h(i)?i:String(i)),r)}var o,i}function m(){return m="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=b(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},m.apply(this,arguments)}function b(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=C(t)););return t}function w(t,e){return w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},w(t,e)}function A(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=C(t);if(e){var o=C(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return x(this,n)}}function x(t,e){if(e&&("object"===h(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function C(t){return C=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},C(t)}var E=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&w(t,e)}(h,t);var e,n,r,i,s,c=A(h);function h(){return v(this,h),c.apply(this,arguments)}return e=h,n=[{key:"getPluginModuleInstance",value:function(){return f.default.Get()}},{key:"name",get:function(){return m(C(h.prototype),"name",this)||"es.upv.paella.playPauseButton"}},{key:"load",value:(s=y(p().mark((function t(){var e,n,r,i=this;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=this.player.getCustomPluginIcon(this.name,"play")||a(),n=this.player.getCustomPluginIcon(this.name,"pause")||u(),r=this.player.getCustomPluginIcon(this.name,"replay")||l(),this.icon=e,(0,o.GT)(this.player,o.ZP.PLAY,(function(){i.icon=n})),(0,o.GT)(this.player,o.ZP.PAUSE,(function(){i.icon=e})),(0,o.GT)(this.player,o.ZP.ENDED,(function(){i.icon=r})),(0,o.GT)(this.player,o.ZP.STOP,(function(){i.icon=e}));case 8:case"end":return t.stop()}}),t,this)}))),function(){return s.apply(this,arguments)})},{key:"action",value:(i=y(p().mark((function t(){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.player.paused();case 2:if(!t.sent){t.next=7;break}return t.next=5,this.player.videoContainer.play();case 5:t.next=9;break;case 7:return t.next=9,this.player.videoContainer.pause();case 9:case"end":return t.stop()}}),t,this)}))),function(){return i.apply(this,arguments)})}],n&&g(e.prototype,n),r&&g(e,r),Object.defineProperty(e,"prototype",{writable:!1}),h}(r.ZP)},7858:(t,e,n)=>{n.r(e),n.d(e,{default:()=>v});var r=n(7488),o=n(9998),i=n.n(o),a=n(1481);function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function u(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */u=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function f(t,e,n,o){var i=e&&e.prototype instanceof d?e:d,a=Object.create(i.prototype),s=new _(o||[]);return r(a,"_invoke",{value:C(t,n,s)}),a}function h(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=f;var p={};function d(){}function y(){}function v(){}var g={};l(g,i,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(S([])));b&&b!==e&&n.call(b,i)&&(g=b);var w=v.prototype=d.prototype=Object.create(g);function A(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function x(t,e){function o(r,i,a,u){var c=h(t[r],t,i);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==s(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,u)}),(function(t){o("throw",t,a,u)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return o("throw",t,a,u)}))}u(c.arg)}var i;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){o(t,n,e,r)}))}return i=i?i.then(r,r):r()}})}function C(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=E(a,n);if(s){if(s===p)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=h(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===p)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function E(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var o=h(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,p;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,p):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function _(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function S(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return y.prototype=v,r(w,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:y,configurable:!0}),y.displayName=l(v,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,l(t,c,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},A(x.prototype),l(x.prototype,a,(function(){return this})),t.AsyncIterator=x,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new x(f(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},A(w),l(w,c,"Generator"),l(w,i,(function(){return this})),l(w,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=S,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),L(n),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;L(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:S(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},t}function c(t,e,n,r,o,i,a){try{var s=t[i](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,o)}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==s(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===s(i)?i:String(i)),r)}var o,i}function h(t,e){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},h(t,e)}function p(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=y(t);if(e){var o=y(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return d(this,n)}}function d(t,e){if(e&&("object"===s(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function y(t){return y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},y(t)}var v=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&h(t,e)}(y,t);var e,n,r,o,s,d=p(y);function y(){return l(this,y),d.apply(this,arguments)}return e=y,n=[{key:"getPluginModuleInstance",value:function(){return a.default.Get()}},{key:"load",value:(o=u().mark((function t(){return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.icon=i();case 1:case"end":return t.stop()}}),t,this)})),s=function(){var t=this,e=arguments;return new Promise((function(n,r){var i=o.apply(t,e);function a(t){c(i,n,r,a,s,"next",t)}function s(t){c(i,n,r,a,s,"throw",t)}a(void 0)}))},function(){return s.apply(this,arguments)})}],n&&f(e.prototype,n),r&&f(e,r),Object.defineProperty(e,"prototype",{writable:!1}),y}(r.Z)},2694:(t,e,n)=>{n.r(e),n.d(e,{default:()=>h});var r=n(8704),o=n(1481);function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,a=void 0,a=function(t,e){if("object"!==i(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===i(a)?a:String(a)),r)}var o,a}function u(t,e){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},u(t,e)}function c(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=f(t);if(e){var o=f(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l(this,n)}}function l(t,e){if(e&&("object"===i(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function f(t){return f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},f(t)}var h=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&u(t,e)}(l,t);var e,n,r,i=c(l);function l(){return a(this,l),i.apply(this,arguments)}return e=l,(n=[{key:"getPluginModuleInstance",value:function(){return o.default.Get()}}])&&s(e.prototype,n),r&&s(e,r),Object.defineProperty(e,"prototype",{writable:!1}),l}(r.Z)},5651:(t,e,n)=>{n.r(e),n.d(e,{default:()=>y});var r=n(8984),o=n(980),i=n(1481);function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function s(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */s=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function f(t,e,n,o){var i=e&&e.prototype instanceof d?e:d,a=Object.create(i.prototype),s=new _(o||[]);return r(a,"_invoke",{value:C(t,n,s)}),a}function h(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=f;var p={};function d(){}function y(){}function v(){}var g={};l(g,i,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(S([])));b&&b!==e&&n.call(b,i)&&(g=b);var w=v.prototype=d.prototype=Object.create(g);function A(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function x(t,e){function o(r,i,s,u){var c=h(t[r],t,i);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==a(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,s,u)}),(function(t){o("throw",t,s,u)})):e.resolve(f).then((function(t){l.value=t,s(l)}),(function(t){return o("throw",t,s,u)}))}u(c.arg)}var i;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){o(t,n,e,r)}))}return i=i?i.then(r,r):r()}})}function C(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=E(a,n);if(s){if(s===p)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=h(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===p)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function E(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var o=h(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,p;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,p):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function _(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function S(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return y.prototype=v,r(w,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:y,configurable:!0}),y.displayName=l(v,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,l(t,c,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},A(x.prototype),l(x.prototype,u,(function(){return this})),t.AsyncIterator=x,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new x(f(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},A(w),l(w,c,"Generator"),l(w,i,(function(){return this})),l(w,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=S,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),L(n),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;L(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:S(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},t}function u(t,e,n,r,o,i,a){try{var s=t[i](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,o)}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==a(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===a(i)?i:String(i)),r)}var o,i}function f(t,e){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},f(t,e)}function h(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=d(t);if(e){var o=d(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p(this,n)}}function p(t,e){if(e&&("object"===a(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function d(t){return d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},d(t)}var y=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&f(t,e)}(y,t);var e,n,r,a,p,d=h(y);function y(){return c(this,y),d.apply(this,arguments)}return e=y,n=[{key:"getPluginModuleInstance",value:function(){return i.default.Get()}},{key:"events",get:function(){return[o.ZP.PLAY,o.ZP.PAUSE,o.ZP.TIMEUPDATE,o.ZP.MANIFEST_LOADED,o.ZP.STREAM_LOADED,o.ZP.PLAYER_LOADED]}},{key:"onEvent",value:(a=s().mark((function t(e,n){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.player.log.verbose(e),this.player.log.verbose(n);case 2:case"end":return t.stop()}}),t,this)})),p=function(){var t=this,e=arguments;return new Promise((function(n,r){var o=a.apply(t,e);function i(t){u(o,n,r,i,s,"next",t)}function s(t){u(o,n,r,i,s,"throw",t)}i(void 0)}))},function(t,e){return p.apply(this,arguments)})}],n&&l(e.prototype,n),r&&l(e,r),Object.defineProperty(e,"prototype",{writable:!1}),y}(r.ZP)},3508:(t,e,n)=>{n.r(e),n.d(e,{default:()=>g});var r=n(1768),o=n(9998),i=n.n(o),a=n(1481);function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function u(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */u=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function f(t,e,n,o){var i=e&&e.prototype instanceof d?e:d,a=Object.create(i.prototype),s=new _(o||[]);return r(a,"_invoke",{value:C(t,n,s)}),a}function h(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=f;var p={};function d(){}function y(){}function v(){}var g={};l(g,i,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(S([])));b&&b!==e&&n.call(b,i)&&(g=b);var w=v.prototype=d.prototype=Object.create(g);function A(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function x(t,e){function o(r,i,a,u){var c=h(t[r],t,i);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==s(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,u)}),(function(t){o("throw",t,a,u)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return o("throw",t,a,u)}))}u(c.arg)}var i;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){o(t,n,e,r)}))}return i=i?i.then(r,r):r()}})}function C(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=E(a,n);if(s){if(s===p)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=h(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===p)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function E(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var o=h(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,p;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,p):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function _(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function S(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return y.prototype=v,r(w,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:y,configurable:!0}),y.displayName=l(v,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,l(t,c,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},A(x.prototype),l(x.prototype,a,(function(){return this})),t.AsyncIterator=x,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new x(f(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},A(w),l(w,c,"Generator"),l(w,i,(function(){return this})),l(w,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=S,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),L(n),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;L(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:S(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},t}function c(t,e,n,r,o,i,a){try{var s=t[i](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,o)}function l(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){c(i,r,o,a,s,"next",t)}function s(t){c(i,r,o,a,s,"throw",t)}a(void 0)}))}}function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==s(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===s(i)?i:String(i)),r)}var o,i}function p(t,e){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},p(t,e)}function d(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=v(t);if(e){var o=v(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y(this,n)}}function y(t,e){if(e&&("object"===s(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function v(t){return v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},v(t)}var g=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&p(t,e)}(m,t);var e,n,r,o,s,c,y,v,g=d(m);function m(){return f(this,m),g.apply(this,arguments)}return e=m,n=[{key:"getPluginModuleInstance",value:function(){return a.default.Get()}},{key:"foldableContainer",get:function(){return"left"===this.config.side?this.rightArea:this.leftArea}},{key:"showFoldableContainer",value:function(){this.foldableContainer.style.display="inline-block"}},{key:"hideFoldableContainer",value:function(){this.foldableContainer.style.display="none"}},{key:"load",value:(v=l(u().mark((function t(){return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.icon=i(),this.foldableContainer.style.display="none",this.foldableContainer.innerHTML="Foldable Container";case 3:case"end":return t.stop()}}),t,this)}))),function(){return v.apply(this,arguments)})},{key:"mouseOver",value:(y=l(u().mark((function t(e){return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.showFoldableContainer();case 1:case"end":return t.stop()}}),t,this)}))),function(t){return y.apply(this,arguments)})},{key:"mouseOut",value:(c=l(u().mark((function t(e){return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.hideFoldableContainer();case 1:case"end":return t.stop()}}),t,this)}))),function(t){return c.apply(this,arguments)})},{key:"focusIn",value:(s=l(u().mark((function t(){return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.showFoldableContainer();case 1:case"end":return t.stop()}}),t,this)}))),function(){return s.apply(this,arguments)})},{key:"focusOut",value:(o=l(u().mark((function t(){return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.hideFoldableContainer();case 1:case"end":return t.stop()}}),t,this)}))),function(){return o.apply(this,arguments)})}],n&&h(e.prototype,n),r&&h(e,r),Object.defineProperty(e,"prototype",{writable:!1}),m}(r.ZP)},3755:(t,e,n)=>{n.r(e),n.d(e,{default:()=>g});var r=n(143),o=n(1835),i=n.n(o),a=n(1481);function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function u(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */u=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function f(t,e,n,o){var i=e&&e.prototype instanceof d?e:d,a=Object.create(i.prototype),s=new _(o||[]);return r(a,"_invoke",{value:C(t,n,s)}),a}function h(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=f;var p={};function d(){}function y(){}function v(){}var g={};l(g,i,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(S([])));b&&b!==e&&n.call(b,i)&&(g=b);var w=v.prototype=d.prototype=Object.create(g);function A(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function x(t,e){function o(r,i,a,u){var c=h(t[r],t,i);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==s(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,u)}),(function(t){o("throw",t,a,u)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return o("throw",t,a,u)}))}u(c.arg)}var i;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){o(t,n,e,r)}))}return i=i?i.then(r,r):r()}})}function C(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=E(a,n);if(s){if(s===p)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=h(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===p)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function E(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var o=h(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,p;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,p):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function _(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function S(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return y.prototype=v,r(w,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:y,configurable:!0}),y.displayName=l(v,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,l(t,c,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},A(x.prototype),l(x.prototype,a,(function(){return this})),t.AsyncIterator=x,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new x(f(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},A(w),l(w,c,"Generator"),l(w,i,(function(){return this})),l(w,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=S,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),L(n),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;L(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:S(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},t}function c(t,e,n,r,o,i,a){try{var s=t[i](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,o)}function l(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){c(i,r,o,a,s,"next",t)}function s(t){c(i,r,o,a,s,"throw",t)}a(void 0)}))}}function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==s(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===s(i)?i:String(i)),r)}var o,i}function p(t,e){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},p(t,e)}function d(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=v(t);if(e){var o=v(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y(this,n)}}function y(t,e){if(e&&("object"===s(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function v(t){return v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},v(t)}var g=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&p(t,e)}(y,t);var e,n,r,o,s,c=d(y);function y(){return f(this,y),c.apply(this,arguments)}return e=y,n=[{key:"getPluginModuleInstance",value:function(){return a.default.Get()}},{key:"load",value:(s=l(u().mark((function t(){return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.icon=i();case 1:case"end":return t.stop()}}),t,this)}))),function(){return s.apply(this,arguments)})},{key:"menuTitle",get:function(){var t=document.createElement("h2");return t.innerHTML="Test title element",t}},{key:"getMenu",value:(o=l(u().mark((function t(){var e,n;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(e=document.createElement("p")).innerHTML="Element item",n=[{id:0,title:"Option 1"},{id:1,title:"Option 2"},{id:2,title:"Option 3"},{id:3,title:"Option 4"},{id:4,title:"Option 5"},{id:5,title:e}],t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)}))),function(){return o.apply(this,arguments)})},{key:"itemSelected",value:function(t,e){this.player.log.info("TestMenuTitleElement ".concat(this.name))}}],n&&h(e.prototype,n),r&&h(e,r),Object.defineProperty(e,"prototype",{writable:!1}),y}(r.Z)},7924:(t,e,n)=>{n.r(e),n.d(e,{default:()=>m});var r=n(7528),o=n(916),i=n(1481),a=n(9998),s=n.n(a);function u(t){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u(t)}function c(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */c=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function f(t,e,n,o){var i=e&&e.prototype instanceof d?e:d,a=Object.create(i.prototype),s=new _(o||[]);return r(a,"_invoke",{value:C(t,n,s)}),a}function h(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=f;var p={};function d(){}function y(){}function v(){}var g={};l(g,i,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(S([])));b&&b!==e&&n.call(b,i)&&(g=b);var w=v.prototype=d.prototype=Object.create(g);function A(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function x(t,e){function o(r,i,a,s){var c=h(t[r],t,i);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==u(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,s)}),(function(t){o("throw",t,a,s)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return o("throw",t,a,s)}))}s(c.arg)}var i;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){o(t,n,e,r)}))}return i=i?i.then(r,r):r()}})}function C(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=E(a,n);if(s){if(s===p)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=h(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===p)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function E(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var o=h(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,p;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,p):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function _(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function S(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return y.prototype=v,r(w,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:y,configurable:!0}),y.displayName=l(v,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,l(t,s,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},A(x.prototype),l(x.prototype,a,(function(){return this})),t.AsyncIterator=x,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new x(f(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},A(w),l(w,s,"Generator"),l(w,i,(function(){return this})),l(w,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=S,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),L(n),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;L(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:S(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},t}function l(t,e,n,r,o,i,a){try{var s=t[i](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,o)}function f(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){l(i,r,o,a,s,"next",t)}function s(t){l(i,r,o,a,s,"throw",t)}a(void 0)}))}}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==u(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==u(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===u(i)?i:String(i)),r)}var o,i}function d(t,e){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},d(t,e)}function y(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=g(t);if(e){var o=g(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return v(this,n)}}function v(t,e){if(e&&("object"===u(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function g(t){return g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},g(t)}var m=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&d(t,e)}(v,t);var e,n,r,a,u,l=y(v);function v(){return h(this,v),l.apply(this,arguments)}return e=v,n=[{key:"getPluginModuleInstance",value:function(){return i.default.Get()}},{key:"popUpType",get:function(){return"timeline"}},{key:"getContent",value:(u=f(c().mark((function t(){var e;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=(0,o.jS)("<p>Pop Up Button Plugin Content 2</p>"),t.abrupt("return",e);case 2:case"end":return t.stop()}}),t)}))),function(){return u.apply(this,arguments)})},{key:"load",value:(a=f(c().mark((function t(){var e;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.icon=s(),this.title="2",e=this.player.captionsCanvas,this.player.log.debug(e);case 4:case"end":return t.stop()}}),t,this)}))),function(){return a.apply(this,arguments)})}],n&&p(e.prototype,n),r&&p(e,r),Object.defineProperty(e,"prototype",{writable:!1}),v}(r.Z)},9061:(t,e,n)=>{n.r(e),n.d(e,{default:()=>m});var r=n(7528),o=n(916),i=n(1481),a=n(9998),s=n.n(a);function u(t){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u(t)}function c(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */c=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function f(t,e,n,o){var i=e&&e.prototype instanceof d?e:d,a=Object.create(i.prototype),s=new _(o||[]);return r(a,"_invoke",{value:C(t,n,s)}),a}function h(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=f;var p={};function d(){}function y(){}function v(){}var g={};l(g,i,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(S([])));b&&b!==e&&n.call(b,i)&&(g=b);var w=v.prototype=d.prototype=Object.create(g);function A(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function x(t,e){function o(r,i,a,s){var c=h(t[r],t,i);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==u(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,s)}),(function(t){o("throw",t,a,s)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return o("throw",t,a,s)}))}s(c.arg)}var i;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){o(t,n,e,r)}))}return i=i?i.then(r,r):r()}})}function C(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=E(a,n);if(s){if(s===p)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=h(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===p)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function E(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var o=h(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,p;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,p):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function _(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function S(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return y.prototype=v,r(w,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:y,configurable:!0}),y.displayName=l(v,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,l(t,s,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},A(x.prototype),l(x.prototype,a,(function(){return this})),t.AsyncIterator=x,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new x(f(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},A(w),l(w,s,"Generator"),l(w,i,(function(){return this})),l(w,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=S,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),L(n),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;L(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:S(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},t}function l(t,e,n,r,o,i,a){try{var s=t[i](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,o)}function f(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){l(i,r,o,a,s,"next",t)}function s(t){l(i,r,o,a,s,"throw",t)}a(void 0)}))}}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==u(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==u(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===u(i)?i:String(i)),r)}var o,i}function d(t,e){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},d(t,e)}function y(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=g(t);if(e){var o=g(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return v(this,n)}}function v(t,e){if(e&&("object"===u(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function g(t){return g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},g(t)}var m=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&d(t,e)}(v,t);var e,n,r,a,u,l=y(v);function v(){return h(this,v),l.apply(this,arguments)}return e=v,n=[{key:"getPluginModuleInstance",value:function(){return i.default.Get()}},{key:"popUpType",get:function(){return"timeline"}},{key:"getContent",value:(u=f(c().mark((function t(){var e;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=(0,o.jS)("<p>Pop Up Button Plugin Content 1</p>"),t.abrupt("return",e);case 2:case"end":return t.stop()}}),t)}))),function(){return u.apply(this,arguments)})},{key:"load",value:(a=f(c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.icon=s(),this.title="1";case 2:case"end":return t.stop()}}),t,this)}))),function(){return a.apply(this,arguments)})}],n&&p(e.prototype,n),r&&p(e,r),Object.defineProperty(e,"prototype",{writable:!1}),v}(r.Z)},2786:(t,e,n)=>{n.r(e),n.d(e,{default:()=>h});var r=n(4025),o=n(1481);function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,a=void 0,a=function(t,e){if("object"!==i(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===i(a)?a:String(a)),r)}var o,a}function u(t,e){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},u(t,e)}function c(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=f(t);if(e){var o=f(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l(this,n)}}function l(t,e){if(e&&("object"===i(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function f(t){return f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},f(t)}var h=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&u(t,e)}(l,t);var e,n,r,i=c(l);function l(){return a(this,l),i.apply(this,arguments)}return e=l,(n=[{key:"getPluginModuleInstance",value:function(){return o.default.Get()}},{key:"minHeight",get:function(){return 20}},{key:"minHeightHover",get:function(){return 50}},{key:"drawForeground",value:function(t,e,n,r){t.fillStyle="rgba(230, 230, 230)",t.font="12px Arial",t.textAlign="left",t.fillText("foreground text",100,n/2+5)}},{key:"drawBackground",value:function(t,e,n,r){t.fillStyle="rgba(230, 230, 230)",t.font="12px Arial",t.textAlign="right",t.fillText("background text",e-2,n/2+5)}}])&&s(e.prototype,n),r&&s(e,r),Object.defineProperty(e,"prototype",{writable:!1}),l}(r.Z)},8539:(t,e,n)=>{n.r(e),n.d(e,{default:()=>m});var r=n(143),o=n(1481),i=n(9998),a=n.n(i);function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==s(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===s(i)?i:String(i)),r)}var o,i}function l(t,e){return l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},l(t,e)}function f(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=p(t);if(e){var o=p(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h(this,n)}}function h(t,e){if(e&&("object"===s(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function p(t){return p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},p(t)}function d(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */d=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function l(t,e,n,o){var i=e&&e.prototype instanceof p?e:p,a=Object.create(i.prototype),s=new _(o||[]);return r(a,"_invoke",{value:C(t,n,s)}),a}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var h={};function p(){}function y(){}function v(){}var g={};c(g,i,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(S([])));b&&b!==e&&n.call(b,i)&&(g=b);var w=v.prototype=p.prototype=Object.create(g);function A(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function x(t,e){function o(r,i,a,u){var c=f(t[r],t,i);if("throw"!==c.type){var l=c.arg,h=l.value;return h&&"object"==s(h)&&n.call(h,"__await")?e.resolve(h.__await).then((function(t){o("next",t,a,u)}),(function(t){o("throw",t,a,u)})):e.resolve(h).then((function(t){l.value=t,a(l)}),(function(t){return o("throw",t,a,u)}))}u(c.arg)}var i;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){o(t,n,e,r)}))}return i=i?i.then(r,r):r()}})}function C(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=E(a,n);if(s){if(s===h)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=f(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===h)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function E(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var o=f(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,h;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,h):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,h)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function _(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function S(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return y.prototype=v,r(w,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:y,configurable:!0}),y.displayName=c(v,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,c(t,u,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},A(x.prototype),c(x.prototype,a,(function(){return this})),t.AsyncIterator=x,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new x(l(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},A(w),c(w,u,"Generator"),c(w,i,(function(){return this})),c(w,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=S,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),L(n),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;L(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:S(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},t}function y(t,e,n,r,o,i,a){try{var s=t[i](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,o)}function v(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){y(i,r,o,a,s,"next",t)}function s(t){y(i,r,o,a,s,"throw",t)}a(void 0)}))}}var g=function(){var t=v(d().mark((function t(e,n){return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t){setTimeout((function(){e(),t()}),n)})));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),m=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&l(t,e)}(p,t);var e,n,r,i,s,h=f(p);function p(){return u(this,p),h.apply(this,arguments)}return e=p,n=[{key:"getPluginModuleInstance",value:function(){return o.default.Get()}},{key:"load",value:(s=v(d().mark((function t(){var e=this;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.icon=a(),this.title="tx",this.hide(),g((function(){return e.show()}),1e3);case 4:case"end":return t.stop()}}),t,this)}))),function(){return s.apply(this,arguments)})},{key:"titleSize",get:function(){return"medium"}},{key:"popUpType",get:function(){return"no-modal"}},{key:"getMenu",value:(i=v(d().mark((function t(){return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this._items||(this._items=[{id:0,title:"Option 1"},{id:1,title:"Option 2"},{id:2,title:"Option 3"},{id:3,title:"Option 4"},{id:4,title:"Option 5"},{id:0,title:"Option 6"},{id:1,title:"Option 7"},{id:2,title:"Option 8"},{id:3,title:"Option 9"},{id:4,title:"Option 10"}]),t.abrupt("return",this._items);case 2:case"end":return t.stop()}}),t,this)}))),function(){return i.apply(this,arguments)})},{key:"itemSelected",value:function(t){0===t.id&&(this.refreshContent=!0)}},{key:"buttonType",get:function(){return"check"}}],n&&c(e.prototype,n),r&&c(e,r),Object.defineProperty(e,"prototype",{writable:!1}),p}(r.Z)},6761:(t,e,n)=>{n.r(e),n.d(e,{default:()=>b});var r=n(8704),o=n(1309),i=n(1481),a=n(1401);function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function u(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */u=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function f(t,e,n,o){var i=e&&e.prototype instanceof d?e:d,a=Object.create(i.prototype),s=new _(o||[]);return r(a,"_invoke",{value:C(t,n,s)}),a}function h(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=f;var p={};function d(){}function y(){}function v(){}var g={};l(g,i,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(S([])));b&&b!==e&&n.call(b,i)&&(g=b);var w=v.prototype=d.prototype=Object.create(g);function A(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function x(t,e){function o(r,i,a,u){var c=h(t[r],t,i);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==s(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,u)}),(function(t){o("throw",t,a,u)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return o("throw",t,a,u)}))}u(c.arg)}var i;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){o(t,n,e,r)}))}return i=i?i.then(r,r):r()}})}function C(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=E(a,n);if(s){if(s===p)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=h(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===p)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function E(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var o=h(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,p;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,p):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function _(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function S(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return y.prototype=v,r(w,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:y,configurable:!0}),y.displayName=l(v,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,l(t,c,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},A(x.prototype),l(x.prototype,a,(function(){return this})),t.AsyncIterator=x,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new x(f(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},A(w),l(w,c,"Generator"),l(w,i,(function(){return this})),l(w,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=S,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),L(n),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;L(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:S(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},t}function c(t,e,n,r,o,i,a){try{var s=t[i](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,o)}function l(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){c(i,r,o,a,s,"next",t)}function s(t){c(i,r,o,a,s,"throw",t)}a(void 0)}))}}function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==s(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===s(i)?i:String(i)),r)}var o,i}function p(){return p="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=d(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},p.apply(this,arguments)}function d(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=m(t)););return t}function y(t,e){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},y(t,e)}function v(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m(t);if(e){var o=m(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return g(this,n)}}function g(t,e){if(e&&("object"===s(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function m(t){return m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},m(t)}var b=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&y(t,e)}(g,t);var e,n,r,s,c,d=v(g);function g(){return f(this,g),d.apply(this,arguments)}return e=g,n=[{key:"getPluginModuleInstance",value:function(){return i.default.Get()}},{key:"name",get:function(){return p(m(g.prototype),"name",this)||"es.upv.paella.vttManifestCaptionsPlugin"}},{key:"isEnabled",value:(c=l(u().mark((function t(){var e;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p(m(g.prototype),"isEnabled",this).call(this);case 2:return e=t.sent,t.abrupt("return",e&&this.player.videoManifest.captions&&this.player.videoManifest.captions.length>0);case 4:case"end":return t.stop()}}),t,this)}))),function(){return c.apply(this,arguments)})},{key:"getCaptions",value:(s=l(u().mark((function t(){var e,n,r=this;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=[],n=[],this.player.videoManifest.captions.forEach((function(t){n.push(new Promise(function(){var n=l(u().mark((function n(i,s){var c,l,f,h;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!/vtt/i.test(t.format)){n.next=19;break}return c=(0,a.resolveResourcePath)(r.player,t.url),n.next=4,fetch(c);case 4:if(!(l=n.sent).ok){n.next=16;break}return n.next=8,l.text();case 8:f=n.sent,(h=new o.Z(f)).captions.label=t.text,h.captions.language=t.lang,e.push(h.captions),i(),n.next=17;break;case 16:s();case 17:n.next=20;break;case 19:s();case 20:case"end":return n.stop()}}),n)})));return function(t,e){return n.apply(this,arguments)}}()))})),t.next=5,Promise.allSettled(n);case 5:return t.abrupt("return",e);case 6:case"end":return t.stop()}}),t,this)}))),function(){return s.apply(this,arguments)})}],n&&h(e.prototype,n),r&&h(e,r),Object.defineProperty(e,"prototype",{writable:!1}),g}(r.Z)},477:(t,e,n)=>{n.r(e),n.d(e,{default:()=>p});var r=n(7133),o=n(4147);function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,a=void 0,a=function(t,e){if("object"!==i(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===i(a)?a:String(a)),r)}var o,a}function u(t,e){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},u(t,e)}function c(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=f(t);if(e){var o=f(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l(this,n)}}function l(t,e){if(e&&("object"===i(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function f(t){return f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},f(t)}var h=null,p=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&u(t,e)}(l,t);var e,n,r,i=c(l);function l(){return a(this,l),i.apply(this,arguments)}return e=l,r=[{key:"Get",value:function(){return h||(h=new l),h}}],(n=[{key:"moduleName",get:function(){return"paella-core default video formats"}},{key:"moduleVersion",get:function(){return o.version}}])&&s(e.prototype,n),r&&s(e,r),Object.defineProperty(e,"prototype",{writable:!1}),l}(r.Z)},6361:(t,e,n)=>{n.r(e),n.d(e,{AudioOnlyVideo:()=>x,default:()=>C});var r=n(646),o=n(1401),i=n(477);function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function s(){return s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=u(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},s.apply(this,arguments)}function u(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=b(t)););return t}function c(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */c=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function f(t,e,n,o){var i=e&&e.prototype instanceof d?e:d,a=Object.create(i.prototype),s=new _(o||[]);return r(a,"_invoke",{value:C(t,n,s)}),a}function h(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=f;var p={};function d(){}function y(){}function v(){}var g={};l(g,i,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(S([])));b&&b!==e&&n.call(b,i)&&(g=b);var w=v.prototype=d.prototype=Object.create(g);function A(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function x(t,e){function o(r,i,s,u){var c=h(t[r],t,i);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==a(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,s,u)}),(function(t){o("throw",t,s,u)})):e.resolve(f).then((function(t){l.value=t,s(l)}),(function(t){return o("throw",t,s,u)}))}u(c.arg)}var i;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){o(t,n,e,r)}))}return i=i?i.then(r,r):r()}})}function C(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=E(a,n);if(s){if(s===p)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=h(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===p)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function E(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var o=h(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,p;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,p):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function _(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function S(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return y.prototype=v,r(w,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:y,configurable:!0}),y.displayName=l(v,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,l(t,u,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},A(x.prototype),l(x.prototype,s,(function(){return this})),t.AsyncIterator=x,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new x(f(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},A(w),l(w,u,"Generator"),l(w,i,(function(){return this})),l(w,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=S,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),L(n),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;L(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:S(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},t}function l(t,e,n,r,o,i,a){try{var s=t[i](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,o)}function f(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){l(i,r,o,a,s,"next",t)}function s(t){l(i,r,o,a,s,"throw",t)}a(void 0)}))}}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==a(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===a(i)?i:String(i)),r)}var o,i}function d(t,e,n){return e&&p(t.prototype,e),n&&p(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function y(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&v(t,e)}function v(t,e){return v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},v(t,e)}function g(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=b(t);if(e){var o=b(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return m(this,n)}}function m(t,e){if(e&&("object"===a(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function b(t){return b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},b(t)}function w(t){return new Promise((function(e,n){var r=new Image;r.addEventListener("load",(function(t){e(r)})),r.addEventListener("error",(function(t){n(new Error("Could not load preview image. The preview image is required in audio only streams"))})),r.src=t}))}function A(t,e,n){return new Promise((function(r,i){e.oncanplay=function(){return r()},e.onerror=function(){return i(new Error(t.translate("Error loading audio: $1",[n])))},e.src=(0,o.resolveResourcePath)(t,n),r()}))}var x=function(t){y(x,t);var e,n,r,o,i,a,s,u,l,p,v,m,b=g(x);function x(t,e,n){var r;return h(this,x),(r=b.call(this,"audio",t,e)).isMainAudio=n,r._ready=!1,r}return d(x,[{key:"streamType",get:function(){return"audio"}},{key:"waitForLoaded",value:function(){var t=this;return new Promise((function(e){!function n(){t._ready?e():setTimeout(n,100)}()}))}},{key:"play",value:(m=f(c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.waitForLoaded();case 2:this.audio.play();case 3:case"end":return t.stop()}}),t,this)}))),function(){return m.apply(this,arguments)})},{key:"pause",value:(v=f(c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.waitForLoaded();case 2:this.audio.pause();case 3:case"end":return t.stop()}}),t,this)}))),function(){return v.apply(this,arguments)})},{key:"duration",value:(p=f(c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.waitForLoaded();case 2:return t.abrupt("return",this.audio.duration);case 3:case"end":return t.stop()}}),t,this)}))),function(){return p.apply(this,arguments)})},{key:"currentTimeSync",get:function(){var t;return(null===(t=this.audio)||void 0===t?void 0:t.currentTime)||0}},{key:"currentTime",value:(l=f(c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.waitForLoaded();case 2:return t.abrupt("return",this.audio.currentTime);case 3:case"end":return t.stop()}}),t,this)}))),function(){return l.apply(this,arguments)})},{key:"setCurrentTime",value:(u=f(c().mark((function t(e){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.waitForLoaded();case 2:this.audio.currentTime=e;case 3:case"end":return t.stop()}}),t,this)}))),function(t){return u.apply(this,arguments)})},{key:"volume",value:(s=f(c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.waitForLoaded();case 2:return t.abrupt("return",this.audio.volume);case 3:case"end":return t.stop()}}),t,this)}))),function(){return s.apply(this,arguments)})},{key:"setVolume",value:(a=f(c().mark((function t(e){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.waitForLoaded();case 2:this.audio.volume=e;case 3:case"end":return t.stop()}}),t,this)}))),function(t){return a.apply(this,arguments)})},{key:"paused",value:(i=f(c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.waitForLoaded();case 2:return t.abrupt("return",this.audio.paused);case 3:case"end":return t.stop()}}),t,this)}))),function(){return i.apply(this,arguments)})},{key:"playbackRate",value:(o=f(c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.waitForLoaded();case 2:return t.abrupt("return",this.audio.playbackRate);case 3:case"end":return t.stop()}}),t,this)}))),function(){return o.apply(this,arguments)})},{key:"setPlaybackRate",value:(r=f(c().mark((function t(e){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.waitForLoaded();case 2:this.audio.playbackRate=e;case 3:case"end":return t.stop()}}),t,this)}))),function(t){return r.apply(this,arguments)})},{key:"getDimensions",value:(n=f(c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",{w:this._previewImage.width,h:this._previewImage.height});case 1:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})},{key:"loadStreamData",value:(e=f(c().mark((function t(){var e,n,r=arguments;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=r.length>0&&void 0!==r[0]?r[0]:null,this._streamData=this._streamData||e,this.player.log.debug("es.upv.paella.audioVideoFormat: loadStreamData"),(n=this.player.videoManifest.metadata.preview)&&null!=n){t.next=6;break}throw new Error("Invalid video manifest data: preview image is required");case 6:return t.next=8,w(n);case 8:if(this._previewImage=t.sent,this._previewImage.style.width="100%",this._source=e.sources.audio&&e.sources.audio[0],this._source){t.next=13;break}throw new Error("Invalid source in audio only video stream");case 13:if(this.isMainAudioPlayer){t.next=15;break}throw new Error("Audio only video stream must be main audio player. Check the role property at video manifest");case 15:return t.next=17,A(this.player,this.audio,this._source.src);case 17:this._ready=!0,this.parent.appendChild(this._previewImage);case 19:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})}]),x}(r.nk),C=function(t){y(r,t);var e,n=g(r);function r(){return h(this,r),n.apply(this,arguments)}return d(r,[{key:"getPluginModuleInstance",value:function(){return i.default.Get()}},{key:"name",get:function(){return s(b(r.prototype),"name",this)||"es.upv.paella.audioVideoFormat"}},{key:"streamType",get:function(){return"audio"}},{key:"isCompatible",value:function(t){return null!=t.sources.audio}},{key:"getVideoInstance",value:(e=f(c().mark((function t(e,n){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new x(this.player,e,n));case 1:case"end":return t.stop()}}),t,this)}))),function(t,n){return e.apply(this,arguments)})},{key:"getCompatibleFileExtensions",value:function(){return["m4a","mp3"]}},{key:"getManifestData",value:function(t){return{audio:t.map((function(t){return{src:t}}))}}}]),r}(r.ZP)},310:(t,e,n)=>{n.r(e),n.d(e,{HlsLiveVideo:()=>S,default:()=>P});var r=n(3041),o=n(980),i=n(8069),a=n(646),s=n(625),u=n(477);function c(t){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c(t)}var l=void 0;function f(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */f=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function l(t,e,n,o){var i=e&&e.prototype instanceof d?e:d,a=Object.create(i.prototype),s=new _(o||[]);return r(a,"_invoke",{value:C(t,n,s)}),a}function h(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var p={};function d(){}function y(){}function v(){}var g={};u(g,i,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(S([])));b&&b!==e&&n.call(b,i)&&(g=b);var w=v.prototype=d.prototype=Object.create(g);function A(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function x(t,e){function o(r,i,a,s){var u=h(t[r],t,i);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==c(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,s)}),(function(t){o("throw",t,a,s)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return o("throw",t,a,s)}))}s(u.arg)}var i;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){o(t,n,e,r)}))}return i=i?i.then(r,r):r()}})}function C(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=E(a,n);if(s){if(s===p)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=h(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===p)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function E(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var o=h(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,p;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,p):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function _(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function S(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return y.prototype=v,r(w,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:y,configurable:!0}),y.displayName=u(v,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,u(t,s,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},A(x.prototype),u(x.prototype,a,(function(){return this})),t.AsyncIterator=x,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new x(l(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},A(w),u(w,s,"Generator"),u(w,i,(function(){return this})),u(w,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=S,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),L(n),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;L(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:S(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},t}function h(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,s=[],u=!0,c=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);u=!0);}catch(t){c=!0,o=t}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return p(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function d(t,e,n,r,o,i,a){try{var s=t[i](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,o)}function y(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){d(i,r,o,a,s,"next",t)}function s(t){d(i,r,o,a,s,"throw",t)}a(void 0)}))}}function v(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function g(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==c(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==c(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===c(i)?i:String(i)),r)}var o,i}function m(t,e,n){return e&&g(t.prototype,e),n&&g(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function b(){return b="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=w(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},b.apply(this,arguments)}function w(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=k(t)););return t}function A(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&x(t,e)}function x(t,e){return x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},x(t,e)}function C(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=k(t);if(e){var o=k(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return E(this,n)}}function E(t,e){if(e&&("object"===c(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function k(t){return k=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},k(t)}var L=(0,i.getHlsSupport)(),_=function(t,e,n,i,a){var s,u;a.withCredentials&&(i.xhrSetup=function(t,e){for(var n in t.withCredentials=a.withCredentials,a.requestHeaders){var r=a.requestHeaders[n];t.setRequestHeader(n,r)}});var c=new r.Z(i),f=(null==e||null===(s=e.sources)||void 0===s||null===(u=s.hlsLive)||void 0===u?void 0:u.length)>0&&e.sources.hlsLive[0];return void 0===i.initialQualityLevel||i.initialQualityLevel,[c,new Promise((function(e,a){var s=!1;c.on(r.Z.Events.LEVEL_SWITCHED,(function(e,n){l.player.log.debug("HLS: quality level switched to ".concat(n.level)),s||(c.currentLevel=-1,s=!0),(0,o.qe)(t,o.ZP.VIDEO_QUALITY_CHANGED,{})})),c.on(r.Z.Events.ERROR,(function(e,n){if(n.fatal)switch(n.type){case r.Z.ErrorTypes.NETWORK_ERROR:n.details===r.Z.ErrorDetails.MANIFEST_LOAD_ERROR?a(Error("hlsVideoFormatPlugin: unrecoverable error in HLS player. The video is not available")):(t.log.warn("hlsVideoFormatPlugin: Fatal network error. Try to recover"),c.startLoad());break;case r.Z.ErrorTypes.MEDIA_ERROR:t.log.warn("hlsVideoFormatPlugin: Fatal media error encountered. Try to recover"),c.recoverMediaError();break;default:c.destroy(),a(Error("hlsVideoFormat: Fatal error. Can not recover"))}})),c.on(r.Z.Events.MANIFEST_PARSED,(function(){i.autoStartLoad||c.autoStartLoad()}));var u=Math.floor(1e11*Math.random()),h=f.src+(i.enableCache?/\?/.test(f.src)?"&cache=".concat(u):"?cache=".concat(u):"");c.loadSource(h),c.attachMedia(n),c._videoEventListener=function(){e()},n.addEventListener("canplay",c._videoEventListener)}))]},S=function(t){A(r,t);var e,n=C(r);function r(){return v(this,r),n.apply(this,arguments)}return m(r,[{key:"loadStreamData",value:(e=y(f().mark((function t(e){var n,o,a,u,c;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(L!==i.HlsSupport.NATIVE){t.next=5;break}return e.sources.hls=e.sources.hlsLive,t.abrupt("return",b(k(r.prototype),"loadStreamData",this).call(this,e));case 5:return this.player.log.debug("Loading HLS stream"),n=_(this.player,e,this.video,this._config,this._cors),o=h(n,2),a=o[0],u=o[1],this._hls=a,t.next=10,u;case 10:return this._autoQuality=new s.Z({label:"auto",shortLabel:"auto",index:-1,width:1,height:1,isAuto:!0}),this._currentQuality=this._autoQuality,t.next=14,this.getAudioTracks();case 14:c=t.sent,this._currentAudioTrack=c.find((function(t){return t.selected})),this.saveDisabledProperties(this.video);case 17:case"end":return t.stop()}}),t,this)}))),function(t){return e.apply(this,arguments)})}]),r}(i.HlsVideo),P=function(t){A(r,t);var e,n=C(r);function r(){return v(this,r),n.apply(this,arguments)}return m(r,[{key:"getPluginModuleInstance",value:function(){return u.default.Get()}},{key:"name",get:function(){return b(k(r.prototype),"name",this)||"es.upv.paella.hlsLiveVideoFormat"}},{key:"streamType",get:function(){return"hlsLive"}},{key:"isCompatible",value:function(t){return t.sources.hlsLive&&L}},{key:"getVideoInstance",value:(e=y(f().mark((function t(e,n){return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new S(this.player,e,this.config,n));case 1:case"end":return t.stop()}}),t,this)}))),function(t,n){return e.apply(this,arguments)})}]),r}(a.ZP)},8069:(t,e,n)=>{n.r(e),n.d(e,{HlsSupport:()=>S,HlsVideo:()=>O,default:()=>R,defaultHlsConfig:()=>L,getHlsSupport:()=>P});var r=n(2604),o=n(646),i=n(625),a=n(2452),s=n(980),u=n(477),c=n(3041);function l(t){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l(t)}function f(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */f=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function c(t,e,n,o){var i=e&&e.prototype instanceof d?e:d,a=Object.create(i.prototype),s=new _(o||[]);return r(a,"_invoke",{value:C(t,n,s)}),a}function h(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var p={};function d(){}function y(){}function v(){}var g={};u(g,i,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(S([])));b&&b!==e&&n.call(b,i)&&(g=b);var w=v.prototype=d.prototype=Object.create(g);function A(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function x(t,e){function o(r,i,a,s){var u=h(t[r],t,i);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"==l(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,s)}),(function(t){o("throw",t,a,s)})):e.resolve(f).then((function(t){c.value=t,a(c)}),(function(t){return o("throw",t,a,s)}))}s(u.arg)}var i;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){o(t,n,e,r)}))}return i=i?i.then(r,r):r()}})}function C(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=E(a,n);if(s){if(s===p)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=h(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===p)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function E(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var o=h(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,p;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,p):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function _(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function S(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return y.prototype=v,r(w,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:y,configurable:!0}),y.displayName=u(v,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,u(t,s,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},A(x.prototype),u(x.prototype,a,(function(){return this})),t.AsyncIterator=x,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new x(c(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},A(w),u(w,s,"Generator"),u(w,i,(function(){return this})),u(w,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=S,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),L(n),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;L(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:S(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},t}function h(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,s=[],u=!0,c=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);u=!0);}catch(t){c=!0,o=t}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return p(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function d(t,e,n,r,o,i,a){try{var s=t[i](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,o)}function y(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){d(i,r,o,a,s,"next",t)}function s(t){d(i,r,o,a,s,"throw",t)}a(void 0)}))}}function v(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function g(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==l(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==l(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===l(i)?i:String(i)),r)}var o,i}function m(t,e,n){return e&&g(t.prototype,e),n&&g(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function b(){return b="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=w(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},b.apply(this,arguments)}function w(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=k(t)););return t}function A(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&x(t,e)}function x(t,e){return x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},x(t,e)}function C(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=k(t);if(e){var o=k(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return E(this,n)}}function E(t,e){if(e&&("object"===l(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function k(t){return k=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},k(t)}var L={autoStartLoad:!0,startPosition:-1,capLevelToPlayerSize:!0,debug:!1,defaultAudioCodec:void 0,initialLiveManifestSize:1,maxBufferLength:6,maxMaxBufferLength:6,maxBufferSize:6e8,maxBufferHole:.5,lowBufferWatchdogPeriod:.5,highBufferWatchdogPeriod:3,nudgeOffset:.1,nudgeMaxRetry:3,maxFragLookUpTolerance:.2,enableWorker:!0,enableSoftwareAES:!0,manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:500,manifestLoadingMaxRetryTimeout:64e3,startLevel:void 0,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:500,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:500,fragLoadingMaxRetryTimeout:64e3,startFragPrefetch:!1,appendErrorMaxRetry:3,enableWebVTT:!0,enableCEA708Captions:!0,stretchShortVideoTrack:!1,maxAudioFramesDrift:1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:5,abrEwmaSlowLive:9,abrEwmaFastVoD:4,abrEwmaSlowVoD:15,abrEwmaDefaultEstimate:5e5,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,minAutoBitrate:0},_={withCredentials:!0,requestHeaders:{"Access-Control-Allow-Headers":"Content-Type, Accept, X-Requested-With","Access-Control-Allow-Origin":"http://localhost:8000","Access-Control-Allow-Credentials":"true"}},S={UNSUPPORTED:0,MEDIA_SOURCE_EXTENSIONS:1,NATIVE:2};function P(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=document.createElement("video");return e.canPlayType("application/vnd.apple.mpegurl")&&t?S.NATIVE:c.Z.isSupported()?S.MEDIA_SOURCE_EXTENSIONS:e.canPlayType("application/vnd.apple.mpegurl")?S.NATIVE:S.UNSUPPORTED}var T=function(t,e,n,r,o){var i,a;o.withCredentials&&(r.xhrSetup=function(t,e){for(var n in t.withCredentials=o.withCredentials,o.requestHeaders){var r=o.requestHeaders[n];t.setRequestHeader(n,r)}}),r.autoStartLoad=!0;var u=new c.Z(r),l=(null==e||null===(i=e.sources)||void 0===i||null===(a=i.hls)||void 0===a?void 0:a.length)>0&&e.sources.hls[0];return[u,new Promise((function(e,o){var i=!1;u.on(c.Z.Events.LEVEL_SWITCHED,(function(e,n){t.log.debug("HLS: quality level switched to ".concat(n.level)),i||(u.currentLevel=-1,i=!0),(0,s.qe)(t,s.ZP.VIDEO_QUALITY_CHANGED,{})})),u.on(c.Z.Events.ERROR,(function(e,n){if(n.fatal)switch(n.type){case c.Z.ErrorTypes.NETWORK_ERROR:n.details===c.Z.ErrorDetails.MANIFEST_LOAD_ERROR?o(Error("hlsVideoFormatPlugin: unrecoverable error in HLS player. The video is not available")):(t.log.warn("hlsVideoFormatPlugin: Fatal network error. Try to recover"),u.startLoad());break;case c.Z.ErrorTypes.MEDIA_ERROR:t.log.warn("hlsVideoFormatPlugin: Fatal media error encountered. Try to recover"),u.recoverMediaError();break;default:u.destroy(),o(Error("hlsVideoFormat: Fatal error. Can not recover"))}else t.log.warn("HLS: error"),t.log.warn(n.details)})),u.on(c.Z.Events.LEVEL_SWITCHING,(function(){t.log.debug("HLS media attached")})),u.on(c.Z.Events.MEDIA_ATTACHED,(function(){t.log.debug("HLS media attached")})),u.on(c.Z.Events.MEDIA_DETACHING,(function(){t.log.debug("HLS media detaching")})),u.on(c.Z.Events.MEDIA_DETACHED,(function(){t.log.debug("HLS media detached")})),u.on(c.Z.Events.MANIFEST_PARSED,(function(){t.log.debug("HLS manifest parsed"),u.startLoad(-1)}));var a=Math.floor(1e11*Math.random()),f=l.src+(r.enableCache?/\?/.test(l.src)?"&cache=".concat(a):"?cache=".concat(a):"");u.loadSource(f),u.attachMedia(n);var h=!1;u._videoEventListener=function(){h=!0,e()},n.addEventListener("canplay",u._videoEventListener),setTimeout((function(){h||n.play()}),1e3)}))]},O=function(t){A(d,t);var e,n,r,o,s,u,c,l,p=C(d);function d(t,e,n,r){var o;for(var i in v(this,d),(o=p.call(this,t,e,r,n))._config=o._config||{audioTrackLabel:n.audioTrackLabel||"name",enableCache:n.enableCache||!1},L)o._config[i]=L[i];for(var a in n.hlsConfig)o._config[a]=n.hlsConfig[a];for(var s in o._cors={},_)o._cors[s]=_[s];for(var u in n.corsConfig)o._cors[u]=n.corsConfig[u];return o._ready=!1,o._autoQuality=!0,o._forceNative=n.forceNative||!1,o}return m(d,[{key:"autoQuality",get:function(){return this._autoQuality}},{key:"forceNative",get:function(){return this._forceNative}},{key:"loadStreamData",value:(l=y(f().mark((function t(e){var n,r,o,a,s,u,c,l,p,y,v=this;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(P(this.forceNative)!==S.NATIVE){t.next=17;break}return e.sources.mp4=e.sources.hls,t.next=4,b(k(d.prototype),"loadStreamData",this).call(this,e);case 4:return n=t.sent,t.next=7,this.getAudioTracks();case 7:return r=t.sent,this._currentAudioTrack=r.find((function(t){return t.selected})),this._autoQuality=new i.Z({label:"auto",shortLabel:"auto",index:-1,width:1,height:1,isAuto:!0}),this._currentQuality=this._autoQuality,this.saveDisabledProperties(this.video),this._endedCallback=this._endedCallback||function(){"function"==typeof v._videoEndedCallback&&v._videoEndedCallback()},this.video.addEventListener("ended",this._endedCallback),t.abrupt("return",n);case 17:return this.player.log.debug("Loading HLS stream"),s=(null==e||null===(o=e.sources)||void 0===o||null===(a=o.hls)||void 0===a?void 0:a.length)&&e.sources.hls[0],this._config.audioTrackLabel=(null==s?void 0:s.audioLabel)||this._config.audioTrackLabel,u=T(this.player,e,this.video,this._config,this._cors),c=h(u,2),l=c[0],p=c[1],this._hls=l,t.next=24,p;case 24:return this.video.pause(),this._autoQuality=new i.Z({label:"auto",shortLabel:"auto",index:-1,width:1,height:1,isAuto:!0}),this._currentQuality=this._autoQuality,t.next=29,this.getAudioTracks();case 29:y=t.sent,this._currentAudioTrack=y.find((function(t){return t.selected})),this.saveDisabledProperties(this.video),this._endedCallback=this._endedCallback||function(){"function"==typeof v._videoEndedCallback&&v._videoEndedCallback()},this.video.addEventListener("ended",this._endedCallback);case 34:case"end":return t.stop()}}),t,this)}))),function(t){return l.apply(this,arguments)})},{key:"waitForLoaded",value:(c=y(f().mark((function t(){var e=this;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(P(this.forceNative)!==S.NATIVE){t.next=4;break}return t.abrupt("return",b(k(d.prototype),"waitForLoaded",this).call(this));case 4:return t.next=6,new Promise((function(t,n){!function n(){e.video.readyState>=2?(e._ready=!0,t()):setTimeout((function(){return n()}),200)}()}));case 6:case"end":return t.stop()}}),t,this)}))),function(){return c.apply(this,arguments)})},{key:"getQualities",value:(u=y(f().mark((function t(){var e;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(e=[]).push(this._autoQuality),P(this.forceNative)===S.MEDIA_SOURCE_EXTENSIONS&&(this._hls.levels.forEach((function(t,n){e.push(new i.Z({index:n,label:"".concat(t.width,"x").concat(t.height),shortLabel:"".concat(t.height,"p"),width:t.width,height:t.height}))})),e.sort((function(t,e){return t.res.h-e.res.h}))),t.abrupt("return",e);case 4:case"end":return t.stop()}}),t,this)}))),function(){return u.apply(this,arguments)})},{key:"setQuality",value:(s=y(f().mark((function t(e){return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this._videoEnabled){t.next=2;break}return t.abrupt("return");case 2:if(e instanceof i.Z){t.next=4;break}throw Error("Invalid parameter setting video quality. VideoQualityItem object expected.");case 4:P(this.forceNative)===S.MEDIA_SOURCE_EXTENSIONS?(this._currentQuality=e,this._hls.currentLevel=e.index):this.player.log.warn("Could not set video quality of HLS stream, because the HLS support of this browser is native.");case 5:case"end":return t.stop()}}),t,this)}))),function(t){return s.apply(this,arguments)})},{key:"currentQuality",get:function(){return this._currentQuality}},{key:"supportsMultiaudio",value:(o=y(f().mark((function t(){var e,n;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.waitForLoaded();case 2:if((e=P(this.forceNative))!==S.MEDIA_SOURCE_EXTENSIONS){t.next=7;break}return t.abrupt("return",this._hls.audioTracks.length>1);case 7:if(e!==S.NATIVE){t.next=11;break}return t.abrupt("return",(null===(n=this.video.audioTracks)||void 0===n?void 0:n.length)>1);case 11:return t.abrupt("return",!1);case 12:case"end":return t.stop()}}),t,this)}))),function(){return o.apply(this,arguments)})},{key:"getAudioTracks",value:(r=y(f().mark((function t(){var e,n,r,o,i=this;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.waitForLoaded();case 2:if(e=this._config.audioTrackLabel||"name",(n=P(this.forceNative))!==S.MEDIA_SOURCE_EXTENSIONS){t.next=9;break}return r=this._hls.audioTracks.map((function(t){return new a.Z({id:t.id,name:t[e],language:t.lang,selected:i._hls.audioTrack===t.id})})),t.abrupt("return",r);case 9:if(n!==S.NATIVE){t.next=14;break}return o=Array.from(this.video.audioTracks).map((function(t){return new a.Z({id:t.id,name:t.label,language:t.language,selected:t.enabled})})),t.abrupt("return",o);case 14:return t.abrupt("return",null);case 15:case"end":return t.stop()}}),t,this)}))),function(){return r.apply(this,arguments)})},{key:"setCurrentAudioTrack",value:(n=y(f().mark((function t(e){var n,r,o;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.waitForLoaded();case 2:return t.next=4,this.getAudioTracks();case 4:return n=t.sent,r=n.find((function(t){return t.id===e.id})),(o=P(this.forceNative))===S.MEDIA_SOURCE_EXTENSIONS&&r?this._hls.audioTrack=r.id:o===S.NATIVE&&r&&Array.from(this.video.audioTracks).forEach((function(t){t.id===r.id?t.enabled=!0:t.enabled=!1})),this._currentAudioTrack=r,t.abrupt("return",r);case 10:case"end":return t.stop()}}),t,this)}))),function(t){return n.apply(this,arguments)})},{key:"currentAudioTrack",get:function(){return this._currentAudioTrack}},{key:"clearStreamData",value:(e=y(f().mark((function t(){return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.video.removeEventListener("canplay",this._hls._videoEventListener),this.video.src="",this._hls.destroy(),this._ready=!1;case 4:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})}]),d}(r.Mp4Video),R=function(t){A(r,t);var e,n=C(r);function r(){return v(this,r),n.apply(this,arguments)}return m(r,[{key:"getPluginModuleInstance",value:function(){return u.default.Get()}},{key:"name",get:function(){return b(k(r.prototype),"name",this)||"es.upv.paella.hlsVideoFormat"}},{key:"streamType",get:function(){return"hls"}},{key:"isCompatible",value:function(t){return t.sources.hls&&P()}},{key:"getVideoInstance",value:(e=y(f().mark((function t(e,n){return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new O(this.player,e,this.config,n));case 1:case"end":return t.stop()}}),t,this)}))),function(t,n){return e.apply(this,arguments)})},{key:"getCompatibleFileExtensions",value:function(){return["m3u8"]}},{key:"getManifestData",value:function(t){return{hls:t.map((function(t){return{src:t,mimetype:"video/mp4"}}))}}}]),r}(o.ZP)},8755:(t,e,n)=>{n.r(e),n.d(e,{HtmlVideo:()=>A,default:()=>x});var r=n(1401),o=n(646),i=n(2604),a=n(477);function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function u(){return u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=c(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},u.apply(this,arguments)}function c(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=w(t)););return t}function l(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */l=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function f(t,e,n,o){var i=e&&e.prototype instanceof d?e:d,a=Object.create(i.prototype),s=new _(o||[]);return r(a,"_invoke",{value:C(t,n,s)}),a}function h(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=f;var p={};function d(){}function y(){}function v(){}var g={};c(g,i,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(S([])));b&&b!==e&&n.call(b,i)&&(g=b);var w=v.prototype=d.prototype=Object.create(g);function A(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function x(t,e){function o(r,i,a,u){var c=h(t[r],t,i);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==s(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,u)}),(function(t){o("throw",t,a,u)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return o("throw",t,a,u)}))}u(c.arg)}var i;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){o(t,n,e,r)}))}return i=i?i.then(r,r):r()}})}function C(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=E(a,n);if(s){if(s===p)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=h(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===p)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function E(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var o=h(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,p;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,p):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function _(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function S(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return y.prototype=v,r(w,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:y,configurable:!0}),y.displayName=c(v,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,c(t,u,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},A(x.prototype),c(x.prototype,a,(function(){return this})),t.AsyncIterator=x,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new x(f(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},A(w),c(w,u,"Generator"),c(w,i,(function(){return this})),c(w,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=S,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),L(n),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;L(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:S(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},t}function f(t,e,n,r,o,i,a){try{var s=t[i](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,o)}function h(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){f(i,r,o,a,s,"next",t)}function s(t){f(i,r,o,a,s,"throw",t)}a(void 0)}))}}function p(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==s(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===s(i)?i:String(i)),r)}var o,i}function y(t,e,n){return e&&d(t.prototype,e),n&&d(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function v(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&g(t,e)}function g(t,e){return g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},g(t,e)}function m(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=w(t);if(e){var o=w(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return b(this,n)}}function b(t,e){if(e&&("object"===s(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function w(t){return w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},w(t)}var A=function(t){v(o,t);var e,n=m(o);function o(t,e,r){return p(this,o),n.call(this,t,e,r)}return y(o,[{key:"loadStreamData",value:(e=h(l().mark((function t(){var e,n=this,o=arguments;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=o.length>0&&void 0!==o[0]?o[0]:null,this._streamData=this._streamData||e,this.player.log.debug("es.upv.paella.htmlVideoFormat: loadStreamData"),this._sources=e.sources.html,this._currentQuality=0,this.isMainAudioPlayer||(this.video.muted=!0),this._sources.forEach((function(t){var e=t.src,o=t.mimetype;e=(0,r.resolveResourcePath)(n.player,e);var i=document.createElement("source");i.src=e,i.type=o,n.video.appendChild(i)})),this._endedCallback=this._endedCallback||function(){"function"==typeof n._videoEndedCallback&&n._videoEndedCallback()},this.video.addEventListener("ended",this._endedCallback),t.next=11,this.waitForLoaded();case 11:this.player.log.debug("es.upv.paella.htmlVideoFormat (".concat(this.streamData.content,"): video loaded and ready.")),this.saveDisabledProperties(this.video);case 13:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})}]),o}(i.Mp4Video),x=function(t){v(o,t);var e,n=m(o);function o(){return p(this,o),n.apply(this,arguments)}return y(o,[{key:"getPluginModuleInstance",value:function(){return a.default.Get()}},{key:"name",get:function(){return u(w(o.prototype),"name",this)||"es.upv.paella.htmlVideoFormat"}},{key:"streamType",get:function(){return"html"}},{key:"isCompatible",value:function(t){var e=t.sources.html;return e&&e.some((function(t){return(0,i.supportsVideoType)(t.mimetype)}))}},{key:"getVideoInstance",value:(e=h(l().mark((function t(e,n){return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new A(this.player,e,n));case 1:case"end":return t.stop()}}),t,this)}))),function(t,n){return e.apply(this,arguments)})},{key:"getCompatibleFileExtensions",value:function(){return["m4v","mp4","ogg","webm","ogv"]}},{key:"getManifestData",value:function(t){var e=function(t){switch((0,r.getFileExtension)(t)){case"mp4":case"m4v":return"video/mp4";case"webm":return"video/webm";case"ogg":case"ogv":return"video/ogg";default:return null}};return{html:t.map((function(t){return{src:t,mimetype:e(t)}}))}}}]),o}(o.ZP)},4348:(t,e,n)=>{n.r(e),n.d(e,{ImageVideo:()=>C,default:()=>E});var r=n(646);n(1401);var o=n(625),i=n(477);function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function s(){return s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=u(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},s.apply(this,arguments)}function u(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=b(t)););return t}function c(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */c=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function f(t,e,n,o){var i=e&&e.prototype instanceof d?e:d,a=Object.create(i.prototype),s=new _(o||[]);return r(a,"_invoke",{value:C(t,n,s)}),a}function h(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=f;var p={};function d(){}function y(){}function v(){}var g={};l(g,i,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(S([])));b&&b!==e&&n.call(b,i)&&(g=b);var w=v.prototype=d.prototype=Object.create(g);function A(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function x(t,e){function o(r,i,s,u){var c=h(t[r],t,i);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==a(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,s,u)}),(function(t){o("throw",t,s,u)})):e.resolve(f).then((function(t){l.value=t,s(l)}),(function(t){return o("throw",t,s,u)}))}u(c.arg)}var i;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){o(t,n,e,r)}))}return i=i?i.then(r,r):r()}})}function C(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=E(a,n);if(s){if(s===p)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=h(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===p)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function E(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var o=h(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,p;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,p):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function _(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function S(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return y.prototype=v,r(w,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:y,configurable:!0}),y.displayName=l(v,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,l(t,u,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},A(x.prototype),l(x.prototype,s,(function(){return this})),t.AsyncIterator=x,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new x(f(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},A(w),l(w,u,"Generator"),l(w,i,(function(){return this})),l(w,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=S,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),L(n),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;L(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:S(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},t}function l(t,e,n,r,o,i,a){try{var s=t[i](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,o)}function f(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){l(i,r,o,a,s,"next",t)}function s(t){l(i,r,o,a,s,"throw",t)}a(void 0)}))}}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==a(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===a(i)?i:String(i)),r)}var o,i}function d(t,e,n){return e&&p(t.prototype,e),n&&p(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function y(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&v(t,e)}function v(t,e){return v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},v(t,e)}function g(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=b(t);if(e){var o=b(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return m(this,n)}}function m(t,e){if(e&&("object"===a(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function b(t){return b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},b(t)}function w(t){var e=this,n=this._currentSource.frames[0];this._currentSource.frames.some((function(t){if(!(t.time<=e._currentTime))return!0;n=t})),this.img.src=n.src}function A(){var t=this;this._startTimestamp=Date.now(),function e(){t._timer=setTimeout(e,250);var n=Date.now(),r=n-t._startTimestamp;t._currentTime+=r/1e3,t._startTimestamp=n,w.apply(t,[t._currentTime])}()}function x(){this._timer&&(clearTimeout(this._timer),this._timer=null)}var C=function(t){y(L,t);var e,n,r,i,a,s,u,l,p,v,m,b,C,E,k=g(L);function L(t,e){var n;return h(this,L),(n=k.call(this,"img",t,e))._currentTime=0,n._startTimesamp=0,n._playbackRate=1,n._timer=null,n.video=n.domElement,n}return d(L,[{key:"play",value:(E=f(c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:A.apply(this);case 1:case"end":return t.stop()}}),t,this)}))),function(){return E.apply(this,arguments)})},{key:"pause",value:(C=f(c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:x.apply(this);case 1:case"end":return t.stop()}}),t,this)}))),function(){return C.apply(this,arguments)})},{key:"duration",value:(b=f(c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this._currentSource.duration);case 1:case"end":return t.stop()}}),t,this)}))),function(){return b.apply(this,arguments)})},{key:"currentTimeSync",get:function(){return this._currentTime}},{key:"currentTime",value:(m=f(c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this._currentTime);case 1:case"end":return t.stop()}}),t,this)}))),function(){return m.apply(this,arguments)})},{key:"setCurrentTime",value:(v=f(c().mark((function t(e){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this._currentTime=e,w.apply(this,[e]);case 2:case"end":return t.stop()}}),t,this)}))),function(t){return v.apply(this,arguments)})},{key:"volume",value:(p=f(c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",0);case 1:case"end":return t.stop()}}),t)}))),function(){return p.apply(this,arguments)})},{key:"setVolume",value:(l=f(c().mark((function t(e){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)}))),function(t){return l.apply(this,arguments)})},{key:"paused",value:(u=f(c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",null===this._timer);case 1:case"end":return t.stop()}}),t,this)}))),function(){return u.apply(this,arguments)})},{key:"playbackRate",value:(s=f(c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this._playbackRate);case 1:case"end":return t.stop()}}),t,this)}))),function(){return s.apply(this,arguments)})},{key:"setPlaybackRate",value:(a=f(c().mark((function t(e){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this._playbackRate=e;case 1:case"end":return t.stop()}}),t,this)}))),function(t){return a.apply(this,arguments)})},{key:"getQualities",value:(i=f(c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this._qualities);case 1:case"end":return t.stop()}}),t,this)}))),function(){return i.apply(this,arguments)})},{key:"setQuality",value:(r=f(c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)}))),function(){return r.apply(this,arguments)})},{key:"currentQuality",get:function(){return this._currentQuality}},{key:"getDimensions",value:(n=f(c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this._currentSource.res);case 1:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})},{key:"loadStreamData",value:(e=f(c().mark((function t(e){var n=this;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this._sources=e.sources.image,this._qualities=this._sources.map((function(t){return new o.Z({src:t.frames[0].src,label:"".concat(t.res.w,"x").concat(t.res.h),shortLabel:"".concat(t.res.h,"p"),width:t.res.w,height:t.res.h})})),this._currentQuality=this._qualities.length-1,this._qualities.forEach((function(t,e){n._qualities[n._currentQuality].compare(t)>0&&(n._currentQuality=e)})),this._currentSource=this._sources[this._currentQuality],this._sources.forEach((function(t){t.frames.sort((function(t,e){return t.time-e.time}))})),t.abrupt("return",!0);case 7:case"end":return t.stop()}}),t,this)}))),function(t){return e.apply(this,arguments)})}]),L}(r.nk),E=function(t){y(r,t);var e,n=g(r);function r(){return h(this,r),n.apply(this,arguments)}return d(r,[{key:"getPluginModuleInstance",value:function(){return i.default.Get()}},{key:"name",get:function(){return s(b(r.prototype),"name",this)||"es.upv.paella.imageVideoFormat"}},{key:"streamType",get:function(){return"image"}},{key:"isCompatible",value:function(t){return null!=t.sources.image}},{key:"getVideoInstance",value:(e=f(c().mark((function t(e,n){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new C(this.player,e,this.config,n));case 1:case"end":return t.stop()}}),t,this)}))),function(t,n){return e.apply(this,arguments)})}]),r}(r.ZP)},2604:(t,e,n)=>{n.r(e),n.d(e,{Mp4Video:()=>x,default:()=>C,supportsVideoType:()=>A});var r=n(646),o=n(1401),i=n(477);function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function s(){return s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=u(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},s.apply(this,arguments)}function u(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=b(t)););return t}function c(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */c=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function f(t,e,n,o){var i=e&&e.prototype instanceof d?e:d,a=Object.create(i.prototype),s=new _(o||[]);return r(a,"_invoke",{value:C(t,n,s)}),a}function h(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=f;var p={};function d(){}function y(){}function v(){}var g={};l(g,i,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(S([])));b&&b!==e&&n.call(b,i)&&(g=b);var w=v.prototype=d.prototype=Object.create(g);function A(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function x(t,e){function o(r,i,s,u){var c=h(t[r],t,i);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==a(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,s,u)}),(function(t){o("throw",t,s,u)})):e.resolve(f).then((function(t){l.value=t,s(l)}),(function(t){return o("throw",t,s,u)}))}u(c.arg)}var i;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){o(t,n,e,r)}))}return i=i?i.then(r,r):r()}})}function C(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=E(a,n);if(s){if(s===p)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=h(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===p)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function E(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var o=h(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,p;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,p):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function _(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function S(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return y.prototype=v,r(w,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:y,configurable:!0}),y.displayName=l(v,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,l(t,u,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},A(x.prototype),l(x.prototype,s,(function(){return this})),t.AsyncIterator=x,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new x(f(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},A(w),l(w,u,"Generator"),l(w,i,(function(){return this})),l(w,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=S,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),L(n),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;L(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:S(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},t}function l(t,e,n,r,o,i,a){try{var s=t[i](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,o)}function f(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){l(i,r,o,a,s,"next",t)}function s(t){l(i,r,o,a,s,"throw",t)}a(void 0)}))}}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==a(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===a(i)?i:String(i)),r)}var o,i}function d(t,e,n){return e&&p(t.prototype,e),n&&p(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function y(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&v(t,e)}function v(t,e){return v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},v(t,e)}function g(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=b(t);if(e){var o=b(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return m(this,n)}}function m(t,e){if(e&&("object"===a(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function b(t){return b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},b(t)}var w=null;function A(t){if(!t)return!1;w||(w=document.createElement("video"));var e=w.canPlayType(t);return"maybe"===e||"probably"===e}var x=function(t){y(L,t);var e,n,r,i,a,s,u,l,p,v,m,b,w,A,x,C,E,k=g(L);function L(t,e,n,r){var o,i;h(this,L),(i=k.call(this,"video",t,e))._config=r||{};var a=null!==(o=i._config.crossOrigin)&&void 0!==o?o:"";return i.element.setAttribute("playsinline","true"),!1!==a&&i.element.setAttribute("crossorigin",a),i.isMainAudio=n,i.element.setAttribute("autoplay","true"),i.element.autoplay=!0,n||(i.element.muted=!0),i._videoEnabled=!0,i}return d(L,[{key:"play",value:(E=f(c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this._videoEnabled){t.next=6;break}return t.next=3,this.waitForLoaded();case 3:return t.abrupt("return",this.video.play());case 6:this._disabledProperties.paused=!1;case 7:case"end":return t.stop()}}),t,this)}))),function(){return E.apply(this,arguments)})},{key:"pause",value:(C=f(c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this._videoEnabled){t.next=6;break}return t.next=3,this.waitForLoaded();case 3:return t.abrupt("return",this.video.pause());case 6:this._disabledProperties.paused=!0;case 7:case"end":return t.stop()}}),t,this)}))),function(){return C.apply(this,arguments)})},{key:"duration",value:(x=f(c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this._videoEnabled){t.next=6;break}return t.next=3,this.waitForLoaded();case 3:return t.abrupt("return",this.video.duration);case 6:return t.abrupt("return",this._disabledProperties.duration);case 7:case"end":return t.stop()}}),t,this)}))),function(){return x.apply(this,arguments)})},{key:"currentTimeSync",get:function(){return this._videoEnabled?this.ready?this.video.currentTime:-1:this._disabledProperties.currentTime}},{key:"currentTime",value:(A=f(c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this._videoEnabled){t.next=6;break}return t.next=3,this.waitForLoaded();case 3:return t.abrupt("return",this.currentTimeSync);case 6:return t.abrupt("return",this._disabledProperties.currentTime);case 7:case"end":return t.stop()}}),t,this)}))),function(){return A.apply(this,arguments)})},{key:"setCurrentTime",value:(w=f(c().mark((function t(e){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this._videoEnabled){t.next=6;break}return t.next=3,this.waitForLoaded();case 3:return t.abrupt("return",this.video.currentTime=e);case 6:return this._disabledProperties.currentTime=e,t.abrupt("return",e);case 8:case"end":return t.stop()}}),t,this)}))),function(t){return w.apply(this,arguments)})},{key:"volume",value:(b=f(c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this._videoEnabled){t.next=6;break}return t.next=3,this.waitForLoaded();case 3:return t.abrupt("return",this.video.volume);case 6:return t.abrupt("return",this._disabledProperties.volume);case 7:case"end":return t.stop()}}),t,this)}))),function(){return b.apply(this,arguments)})},{key:"setVolume",value:(m=f(c().mark((function t(e){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this._videoEnabled){t.next=7;break}return t.next=3,this.waitForLoaded();case 3:return 0===e?this.video.setAttribute("muted",!0):this.video.removeAttribute("muted"),t.abrupt("return",this.video.volume=e);case 7:return this._disabledProperties.volume=e,t.abrupt("return",e);case 9:case"end":return t.stop()}}),t,this)}))),function(t){return m.apply(this,arguments)})},{key:"paused",value:(v=f(c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this._videoEnabled){t.next=6;break}return t.next=3,this.waitForLoaded();case 3:return t.abrupt("return",this.video.paused);case 6:return t.abrupt("return",this._disabledProperties.paused);case 7:case"end":return t.stop()}}),t,this)}))),function(){return v.apply(this,arguments)})},{key:"playbackRate",value:(p=f(c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this._videoEnabled){t.next=8;break}return t.next=3,this.waitForLoaded();case 3:return t.next=5,this.video.playbackRate;case 5:return t.abrupt("return",t.sent);case 8:return t.abrupt("return",this._disabledProperties.playbackRate);case 9:case"end":return t.stop()}}),t,this)}))),function(){return p.apply(this,arguments)})},{key:"setPlaybackRate",value:(l=f(c().mark((function t(e){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this._videoEnabled){t.next=6;break}return t.next=3,this.waitForLoaded();case 3:return t.abrupt("return",this.video.playbackRate=e);case 6:return this._disabledProperties.playbackRate=e,t.abrupt("return",e);case 8:case"end":return t.stop()}}),t,this)}))),function(t){return l.apply(this,arguments)})},{key:"getQualities",value:(u=f(c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)}))),function(){return u.apply(this,arguments)})},{key:"setQuality",value:(s=f(c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)}))),function(){return s.apply(this,arguments)})},{key:"currentQuality",get:function(){return 0}},{key:"getDimensions",value:(a=f(c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this._videoEnabled){t.next=6;break}return t.next=3,this.waitForLoaded();case 3:return t.abrupt("return",{w:this.video.videoWidth,h:this.video.videoHeight});case 6:return t.abrupt("return",{w:this._disabledProperties.videoWidth,h:this._disabledProperties.videoHeight});case 7:case"end":return t.stop()}}),t,this)}))),function(){return a.apply(this,arguments)})},{key:"saveDisabledProperties",value:function(t){this._disabledProperties={duration:t.duration,volume:t.volume,videoWidth:t.videoWidth,videoHeight:t.videoHeight,playbackRate:t.playbackRate,paused:t.paused,currentTime:t.currentTime}}},{key:"loadStreamData",value:(i=f(c().mark((function t(){var e,n=this,r=arguments;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=r.length>0&&void 0!==r[0]?r[0]:null,this._streamData=this._streamData||e,this.player.log.debug("es.upv.paella.mp4VideoFormat: loadStreamData"),this._sources=null,this._currentQuality=0,this._sources=e.sources.mp4,this._sources.sort((function(t,e){return Number(t.res.w)-Number(e.res.w)})),this._currentQuality=this._sources.length-1,this._currentSource=this._sources[this._currentQuality],this.isMainAudioPlayer||(this.video.muted=!0),this._initialVolume&&(this.video.volume=this._initialVolume,0===this._initialVolume&&(this.video.muted=!0)),this.video.src=(0,o.resolveResourcePath)(this.player,this._currentSource.src),this._endedCallback=this._endedCallback||function(){"function"==typeof n._videoEndedCallback&&n._videoEndedCallback()},this.video.addEventListener("ended",this._endedCallback),t.next=16,this.waitForLoaded();case 16:this.player.log.debug("es.upv.paella.mp4VideoFormat (".concat(this.streamData.content,"): video loaded and ready.")),this.saveDisabledProperties(this.video);case 18:case"end":return t.stop()}}),t,this)}))),function(){return i.apply(this,arguments)})},{key:"clearStreamData",value:(r=f(c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.video.src="",this.video.removeEventListener("ended",this._endedCallback),this._ready=!1;case 3:case"end":return t.stop()}}),t,this)}))),function(){return r.apply(this,arguments)})},{key:"isEnabled",get:function(){return this._videoEnabled}},{key:"enable",value:(n=f(c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this._videoEnabled=!0;case 1:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})},{key:"disable",value:(e=f(c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.isMainAudio?this.player.log.debug("video.disable() - the video is not disabled because it is the main audio source."):this._videoEnabled=!1,t.abrupt("return",this._videoEnabled);case 2:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})},{key:"waitForLoaded",value:function(){var t=this;return new Promise((function(e,n){t.ready?e():function r(){t._waitTimer&&clearTimeout(t._waitTimer),t._waitTimer=null,t.video.error?n(new Error(t.player.translate("Error loading video: $1. Code: $2 $3",[t.video.src,t.video.error,t.video.error.message]))):t.video.readyState>=2?(t.video.pause(),t._ready=!0,e()):t._waitTimer=setTimeout((function(){return r()}),100)}()}))}}]),L}(r.nk),C=function(t){y(r,t);var e,n=g(r);function r(){return h(this,r),n.apply(this,arguments)}return d(r,[{key:"getPluginModuleInstance",value:function(){return i.default.Get()}},{key:"name",get:function(){return s(b(r.prototype),"name",this)||"es.upv.paella.mp4VideoFormat"}},{key:"streamType",get:function(){return"mp4"}},{key:"isCompatible",value:function(t){var e,n=t.sources.mp4;return n&&A(null===(e=n[0])||void 0===e?void 0:e.mimetype)}},{key:"getVideoInstance",value:(e=f(c().mark((function t(e,n){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new x(this.player,e,n,this.config));case 1:case"end":return t.stop()}}),t,this)}))),function(t,n){return e.apply(this,arguments)})},{key:"getCompatibleFileExtensions",value:function(){return["m4v","mp4"]}},{key:"getManifestData",value:function(t){return{mp4:t.map((function(t){return{src:t,mimetype:"video/mp4"}}))}}}]),r}(r.ZP)},372:(t,e,n)=>{n.d(e,{Z:()=>s});var r=n(7537),o=n.n(r),i=n(3645),a=n.n(i)()(o());a.push([t.id,".button-group {\n}\n\n.button-group-title {\n    font-family: sans-serif;\n    text-align: center;\n    padding: 5px;\n    border-bottom: 1px solid #938e8e;\n}\n\n.button-group .button-plugin-container {\n    display: inline;\n}\n\n.button-group .button-plugin-wrapper {\n    display: flex;\n    flex-direction: row;\n    align-content: center;\n    align-items: center;\n\tbox-sizing: border-box;\n}\n\n.button-group .button-plugin-container button {\n\twidth: 40px;\n\theight: 40px;\n\tdisplay: block;\n\tbackground: none;\n\tborder: none;\n\tfloat: left;\n}\n\n.button-group button:hover {\n\tbackground-color: var(--secondary-bg-color-hover);\n}\n\n.button-group button:active {\n\tbackground-color: var(--main-bg-color);\n}\n\n.button-group button i {\n\tbackground-size: 50% 50%;\n\twidth: 20px;\n\theight: 20px;\n\tdisplay: block;\n\tbackground-repeat: no-repeat;\n\tbackground-position: 3px 7px;\n\tmargin-left: 5px;\n}\n\n/* Fix default iPad button padding */\n.button-group .button-plugin-container button {\n\tpadding: 2px 6px 3px 6px;\n}\n\n.video-container .button-plugin-container button {\n\tpadding: 2px 6px 3px 6px;\n}\n\n.button-group span.button-title {\n    display: block;\n}\n\n.button-group span.button-title.button-title-small {\n\tmargin-top: -16px;\n    font-size: 8px;\n}\n\n.button-group span.button-title.button-title-medium {\n\tmargin-top: -17px;\n    font-size: 10px;\n}\n\n.button-group span.button-title.button-title-large {\n\tmargin-top: -19px;\n    font-size: 12px;\n}\n\n.button-group span.button-title:empty {\n\tmargin-top: 0 !important;\n}\n\n.button-group button.dynamic-width span {\n    margin-top: 0px;\n    color: var(--main-fg-color);\n    padding-left: 3px;\n    padding-right: 3px;\n}\n\n.button-group button.dynamic-width span.button-title-small {\n    margin-top: 0px;\n}\n\n.button-group button.dynamic-width span.button-title-medium {\n    margin-top: 0px;\n}\n\n.button-group button.dynamic-width span.button-title-large {\n    margin-top: 0px;\n}\n\n\n.button-group button i svg {\n\twidth: 100%;\n    height: 100%;\n    fill: var(--main-fg-color);\n\tcolor: var(--main-fg-color);\n}\n\n.button-group .button-plugin-wrapper .button-description {\n    font-family: sans-serif;\n    margin-left: 4px;\n\tcursor: pointer;\n\theight: 40px;\n\tline-height: 40px;\n\tpadding-right: 20px;\n\tbox-sizing: border-box;\n\tcolor: var(--main-fg-color);\n\tuser-select: none;\n}\n\n.button-group .button-plugin-wrapper .button-description:hover {\n    color: var(--main-fg-color);\n\ttext-shadow:0px 0px 2px var(--main-fg-color);\n}","",{version:3,sources:["webpack://./src/css/ButtonGroup.css"],names:[],mappings:"AAAA;AACA;;AAEA;IACI,uBAAuB;IACvB,kBAAkB;IAClB,YAAY;IACZ,gCAAgC;AACpC;;AAEA;IACI,eAAe;AACnB;;AAEA;IACI,aAAa;IACb,mBAAmB;IACnB,qBAAqB;IACrB,mBAAmB;CACtB,sBAAsB;AACvB;;AAEA;CACC,WAAW;CACX,YAAY;CACZ,cAAc;CACd,gBAAgB;CAChB,YAAY;CACZ,WAAW;AACZ;;AAEA;CACC,iDAAiD;AAClD;;AAEA;CACC,sCAAsC;AACvC;;AAEA;CACC,wBAAwB;CACxB,WAAW;CACX,YAAY;CACZ,cAAc;CACd,4BAA4B;CAC5B,4BAA4B;CAC5B,gBAAgB;AACjB;;AAEA,oCAAoC;AACpC;CACC,wBAAwB;AACzB;;AAEA;CACC,wBAAwB;AACzB;;AAEA;IACI,cAAc;AAClB;;AAEA;CACC,iBAAiB;IACd,cAAc;AAClB;;AAEA;CACC,iBAAiB;IACd,eAAe;AACnB;;AAEA;CACC,iBAAiB;IACd,eAAe;AACnB;;AAEA;CACC,wBAAwB;AACzB;;AAEA;IACI,eAAe;IACf,2BAA2B;IAC3B,iBAAiB;IACjB,kBAAkB;AACtB;;AAEA;IACI,eAAe;AACnB;;AAEA;IACI,eAAe;AACnB;;AAEA;IACI,eAAe;AACnB;;;AAGA;CACC,WAAW;IACR,YAAY;IACZ,0BAA0B;CAC7B,2BAA2B;AAC5B;;AAEA;IACI,uBAAuB;IACvB,gBAAgB;CACnB,eAAe;CACf,YAAY;CACZ,iBAAiB;CACjB,mBAAmB;CACnB,sBAAsB;CACtB,2BAA2B;CAC3B,iBAAiB;AAClB;;AAEA;IACI,2BAA2B;CAC9B,4CAA4C;AAC7C",sourcesContent:[".button-group {\n}\n\n.button-group-title {\n    font-family: sans-serif;\n    text-align: center;\n    padding: 5px;\n    border-bottom: 1px solid #938e8e;\n}\n\n.button-group .button-plugin-container {\n    display: inline;\n}\n\n.button-group .button-plugin-wrapper {\n    display: flex;\n    flex-direction: row;\n    align-content: center;\n    align-items: center;\n\tbox-sizing: border-box;\n}\n\n.button-group .button-plugin-container button {\n\twidth: 40px;\n\theight: 40px;\n\tdisplay: block;\n\tbackground: none;\n\tborder: none;\n\tfloat: left;\n}\n\n.button-group button:hover {\n\tbackground-color: var(--secondary-bg-color-hover);\n}\n\n.button-group button:active {\n\tbackground-color: var(--main-bg-color);\n}\n\n.button-group button i {\n\tbackground-size: 50% 50%;\n\twidth: 20px;\n\theight: 20px;\n\tdisplay: block;\n\tbackground-repeat: no-repeat;\n\tbackground-position: 3px 7px;\n\tmargin-left: 5px;\n}\n\n/* Fix default iPad button padding */\n.button-group .button-plugin-container button {\n\tpadding: 2px 6px 3px 6px;\n}\n\n.video-container .button-plugin-container button {\n\tpadding: 2px 6px 3px 6px;\n}\n\n.button-group span.button-title {\n    display: block;\n}\n\n.button-group span.button-title.button-title-small {\n\tmargin-top: -16px;\n    font-size: 8px;\n}\n\n.button-group span.button-title.button-title-medium {\n\tmargin-top: -17px;\n    font-size: 10px;\n}\n\n.button-group span.button-title.button-title-large {\n\tmargin-top: -19px;\n    font-size: 12px;\n}\n\n.button-group span.button-title:empty {\n\tmargin-top: 0 !important;\n}\n\n.button-group button.dynamic-width span {\n    margin-top: 0px;\n    color: var(--main-fg-color);\n    padding-left: 3px;\n    padding-right: 3px;\n}\n\n.button-group button.dynamic-width span.button-title-small {\n    margin-top: 0px;\n}\n\n.button-group button.dynamic-width span.button-title-medium {\n    margin-top: 0px;\n}\n\n.button-group button.dynamic-width span.button-title-large {\n    margin-top: 0px;\n}\n\n\n.button-group button i svg {\n\twidth: 100%;\n    height: 100%;\n    fill: var(--main-fg-color);\n\tcolor: var(--main-fg-color);\n}\n\n.button-group .button-plugin-wrapper .button-description {\n    font-family: sans-serif;\n    margin-left: 4px;\n\tcursor: pointer;\n\theight: 40px;\n\tline-height: 40px;\n\tpadding-right: 20px;\n\tbox-sizing: border-box;\n\tcolor: var(--main-fg-color);\n\tuser-select: none;\n}\n\n.button-group .button-plugin-wrapper .button-description:hover {\n    color: var(--main-fg-color);\n\ttext-shadow:0px 0px 2px var(--main-fg-color);\n}"],sourceRoot:""}]);const s=a},7046:(t,e,n)=>{n.d(e,{Z:()=>s});var r=n(7537),o=n.n(r),i=n(3645),a=n.n(i)()(o());a.push([t.id,".captions-canvas {\n    position: absolute;\n    top: 0px;\n    left: 0px;\n    bottom: 0px;\n    width: 100%;\n    height: 100%;\n    z-index: 50;\n    pointer-events: none;\n}\n\n.captions-canvas .text-container {\n    width: 80%;\n    background-color: var(--main-bg-color);\n    border-radius: 5px;\n    color: var(--main-fg-color);\n    position: absolute;\n    bottom: 5px;\n    left: 10%;\n    right: 10%;\n    box-sizing: border-box;\n    padding: 10px;\n    font-size: 15px;\n    text-align: center;\n}\n\n.captions-canvas.visible-ui .text-container {\n    bottom: 55px;\n}\n\n.captions-canvas.size-s .text-container {\n    font-size: 18px;\n}\n\n.captions-canvas.size-m .text-container {\n    font-size: 20px;\n}\n\n.captions-canvas.size-l .text-container {\n    font-size: 24px;\n}\n\n.captions-canvas.size-xl .text-container {\n    font-size: 30px;\n}\n\n.captions-canvas.size-xxl .text-container {\n    font-size: 34px;\n}\n","",{version:3,sources:["webpack://./src/css/CaptionCanvas.css"],names:[],mappings:"AAAA;IACI,kBAAkB;IAClB,QAAQ;IACR,SAAS;IACT,WAAW;IACX,WAAW;IACX,YAAY;IACZ,WAAW;IACX,oBAAoB;AACxB;;AAEA;IACI,UAAU;IACV,sCAAsC;IACtC,kBAAkB;IAClB,2BAA2B;IAC3B,kBAAkB;IAClB,WAAW;IACX,SAAS;IACT,UAAU;IACV,sBAAsB;IACtB,aAAa;IACb,eAAe;IACf,kBAAkB;AACtB;;AAEA;IACI,YAAY;AAChB;;AAEA;IACI,eAAe;AACnB;;AAEA;IACI,eAAe;AACnB;;AAEA;IACI,eAAe;AACnB;;AAEA;IACI,eAAe;AACnB;;AAEA;IACI,eAAe;AACnB",sourcesContent:[".captions-canvas {\n    position: absolute;\n    top: 0px;\n    left: 0px;\n    bottom: 0px;\n    width: 100%;\n    height: 100%;\n    z-index: 50;\n    pointer-events: none;\n}\n\n.captions-canvas .text-container {\n    width: 80%;\n    background-color: var(--main-bg-color);\n    border-radius: 5px;\n    color: var(--main-fg-color);\n    position: absolute;\n    bottom: 5px;\n    left: 10%;\n    right: 10%;\n    box-sizing: border-box;\n    padding: 10px;\n    font-size: 15px;\n    text-align: center;\n}\n\n.captions-canvas.visible-ui .text-container {\n    bottom: 55px;\n}\n\n.captions-canvas.size-s .text-container {\n    font-size: 18px;\n}\n\n.captions-canvas.size-m .text-container {\n    font-size: 20px;\n}\n\n.captions-canvas.size-l .text-container {\n    font-size: 24px;\n}\n\n.captions-canvas.size-xl .text-container {\n    font-size: 30px;\n}\n\n.captions-canvas.size-xxl .text-container {\n    font-size: 34px;\n}\n"],sourceRoot:""}]);const s=a},3189:(t,e,n)=>{n.d(e,{Z:()=>s});var r=n(7537),o=n.n(r),i=n(3645),a=n.n(i)()(o());a.push([t.id,"\ndiv.error-container {\n    width: 100%;\n    height: 100%;\n    position: absolute;\n    z-index: 1000;\n    pointer-events: none;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    top: 0px;\n    bottom: 0px;\n}\n\ndiv.error-container div {\n    text-align: center;\n}\n\ndiv.error-container i {\n    width: 350px;\n    height: 350px;\n    display: block;\n    margin-left: auto;\n    margin-right: auto;\n}\n\n@media (max-width: 500px) {\n    div.error-container i {\n        width: 100px;\n        height: 100px;\n    }\n}\n\n@media (max-width: 800px) {\n    div.error-container i {\n        width: 200px;\n        height: 200px;\n    }\n}\n\n","",{version:3,sources:["webpack://./src/css/Error.css"],names:[],mappings:";AACA;IACI,WAAW;IACX,YAAY;IACZ,kBAAkB;IAClB,aAAa;IACb,oBAAoB;IACpB,aAAa;IACb,mBAAmB;IACnB,uBAAuB;IACvB,QAAQ;IACR,WAAW;AACf;;AAEA;IACI,kBAAkB;AACtB;;AAEA;IACI,YAAY;IACZ,aAAa;IACb,cAAc;IACd,iBAAiB;IACjB,kBAAkB;AACtB;;AAEA;IACI;QACI,YAAY;QACZ,aAAa;IACjB;AACJ;;AAEA;IACI;QACI,YAAY;QACZ,aAAa;IACjB;AACJ",sourcesContent:["\ndiv.error-container {\n    width: 100%;\n    height: 100%;\n    position: absolute;\n    z-index: 1000;\n    pointer-events: none;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    top: 0px;\n    bottom: 0px;\n}\n\ndiv.error-container div {\n    text-align: center;\n}\n\ndiv.error-container i {\n    width: 350px;\n    height: 350px;\n    display: block;\n    margin-left: auto;\n    margin-right: auto;\n}\n\n@media (max-width: 500px) {\n    div.error-container i {\n        width: 100px;\n        height: 100px;\n    }\n}\n\n@media (max-width: 800px) {\n    div.error-container i {\n        width: 200px;\n        height: 200px;\n    }\n}\n\n"],sourceRoot:""}]);const s=a},5361:(t,e,n)=>{n.d(e,{Z:()=>s});var r=n(7537),o=n.n(r),i=n(3645),a=n.n(i)()(o());a.push([t.id,"\n@media (forced-colors: active) {\n    /* selected menu item */\n    ul.menu-button-content li.menu-button-item button.selected {\n\t\tborder: 2px solid white;\n\t}\n\n    /* Progress indicator */\n    .progress-indicator-content {\n        border: 5px solid white;\n        box-sizing: border-box;\n    }\n\n    .progress-indicator-remaining {\n        border: 3px solid gray;\n        box-sizing: border-box;\n    }\n\n    .progress-indicator-handler {\n        border: 5px solid white;\n        box-sizing: border-box;\n    }\n    \n\n}\n","",{version:3,sources:["webpack://./src/css/ForcedColors.css"],names:[],mappings:";AACA;IACI,uBAAuB;IACvB;EACF,uBAAuB;CACxB;;IAEG,uBAAuB;IACvB;QACI,uBAAuB;QACvB,sBAAsB;IAC1B;;IAEA;QACI,sBAAsB;QACtB,sBAAsB;IAC1B;;IAEA;QACI,uBAAuB;QACvB,sBAAsB;IAC1B;;;AAGJ",sourcesContent:["\n@media (forced-colors: active) {\n    /* selected menu item */\n    ul.menu-button-content li.menu-button-item button.selected {\n\t\tborder: 2px solid white;\n\t}\n\n    /* Progress indicator */\n    .progress-indicator-content {\n        border: 5px solid white;\n        box-sizing: border-box;\n    }\n\n    .progress-indicator-remaining {\n        border: 3px solid gray;\n        box-sizing: border-box;\n    }\n\n    .progress-indicator-handler {\n        border: 5px solid white;\n        box-sizing: border-box;\n    }\n    \n\n}\n"],sourceRoot:""}]);const s=a},7649:(t,e,n)=>{n.d(e,{Z:()=>s});var r=n(7537),o=n.n(r),i=n(3645),a=n.n(i)()(o());a.push([t.id,"\ndiv.loader-container {\n    width: 100%;\n    height: 100%;\n    position: absolute;\n    z-index: 1000;\n    pointer-events: none;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    background-color: rgba(255, 255, 255, 0.6);\n}\n\ndiv.loader-container i {\n    width: 350px;\n    height: 350px;\n    display: block;\n    animation: spin 1s linear infinite;\n}\n\n@keyframes spin {\n    100% {\n        transform: rotate(360deg);\n    }\n}\n\n@media (max-width: 500px) {\n    div.loader-container i {\n        width: 100px;\n        height: 100px;\n    }\n}\n\n@media (max-width: 800px) {\n    div.loader-container i {\n        width: 200px;\n        height: 200px;\n    }\n}\n\n","",{version:3,sources:["webpack://./src/css/Loader.css"],names:[],mappings:";AACA;IACI,WAAW;IACX,YAAY;IACZ,kBAAkB;IAClB,aAAa;IACb,oBAAoB;IACpB,aAAa;IACb,mBAAmB;IACnB,uBAAuB;IACvB,0CAA0C;AAC9C;;AAEA;IACI,YAAY;IACZ,aAAa;IACb,cAAc;IACd,kCAAkC;AACtC;;AAEA;IACI;QACI,yBAAyB;IAC7B;AACJ;;AAEA;IACI;QACI,YAAY;QACZ,aAAa;IACjB;AACJ;;AAEA;IACI;QACI,YAAY;QACZ,aAAa;IACjB;AACJ",sourcesContent:["\ndiv.loader-container {\n    width: 100%;\n    height: 100%;\n    position: absolute;\n    z-index: 1000;\n    pointer-events: none;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    background-color: rgba(255, 255, 255, 0.6);\n}\n\ndiv.loader-container i {\n    width: 350px;\n    height: 350px;\n    display: block;\n    animation: spin 1s linear infinite;\n}\n\n@keyframes spin {\n    100% {\n        transform: rotate(360deg);\n    }\n}\n\n@media (max-width: 500px) {\n    div.loader-container i {\n        width: 100px;\n        height: 100px;\n    }\n}\n\n@media (max-width: 800px) {\n    div.loader-container i {\n        width: 200px;\n        height: 200px;\n    }\n}\n\n"],sourceRoot:""}]);const s=a},1872:(t,e,n)=>{n.d(e,{Z:()=>s});var r=n(7537),o=n.n(r),i=n(3645),a=n.n(i)()(o());a.push([t.id,"\nul.menu-button-content {\n\tlist-style-type: none;\n\tmargin: 0;\n\tpadding: 0;\n}\n\n.menu-button-title {\n\tlist-style: none;\n    font-family: sans-serif;\n    text-align: center;\n    padding: 5px;\n    border-bottom: 1px solid #938e8e;\n}\n\nul.menu-button-content li.menu-button-item {\n\tmin-width:40px;\n}\n\nul.menu-button-content li.menu-button-item button {\n\tbackground: none;\n\tborder: none;\n\twidth: 100%;\n\tcolor: var(--main-fg-color);\n\tdisplay: flex;\n\tjustify-content: space-around;\n}\n\nul.menu-button-content li.menu-button-item button:hover {\n\tbackground-color: var(--secondary-bg-color);\n}\n\nul.menu-button-content li.menu-button-item button.selected {\n\tbackground-color: var(--highlight-bg-color);\n}\n\nul.menu-button-content li.menu-button-item button.selected:hover {\n\tbackground-color: var(--highlight-bg-color-hover);\n}\n\nul.menu-button-content li.menu-button-item button i.menu-icon {\n\tpointer-events: none;\n}\n\nul.menu-button-content li.menu-button-item button i.menu-icon svg {\n\twidth: 100%;\n    height: 100%;\n    fill: var(--main-fg-color);\n\tcolor: var(--main-fg-color);\n\theight: 40px;\n}\n\nul.menu-button-content li.menu-button-item button span.menu-title {\n\theight: 40px;\n\tline-height: 40px;\n\tpadding-left: 4px;\n\tpadding-right: 4px;\n\tpointer-events: none;\n}","",{version:3,sources:["webpack://./src/css/MenuButton.css"],names:[],mappings:";AACA;CACC,qBAAqB;CACrB,SAAS;CACT,UAAU;AACX;;AAEA;CACC,gBAAgB;IACb,uBAAuB;IACvB,kBAAkB;IAClB,YAAY;IACZ,gCAAgC;AACpC;;AAEA;CACC,cAAc;AACf;;AAEA;CACC,gBAAgB;CAChB,YAAY;CACZ,WAAW;CACX,2BAA2B;CAC3B,aAAa;CACb,6BAA6B;AAC9B;;AAEA;CACC,2CAA2C;AAC5C;;AAEA;CACC,2CAA2C;AAC5C;;AAEA;CACC,iDAAiD;AAClD;;AAEA;CACC,oBAAoB;AACrB;;AAEA;CACC,WAAW;IACR,YAAY;IACZ,0BAA0B;CAC7B,2BAA2B;CAC3B,YAAY;AACb;;AAEA;CACC,YAAY;CACZ,iBAAiB;CACjB,iBAAiB;CACjB,kBAAkB;CAClB,oBAAoB;AACrB",sourcesContent:["\nul.menu-button-content {\n\tlist-style-type: none;\n\tmargin: 0;\n\tpadding: 0;\n}\n\n.menu-button-title {\n\tlist-style: none;\n    font-family: sans-serif;\n    text-align: center;\n    padding: 5px;\n    border-bottom: 1px solid #938e8e;\n}\n\nul.menu-button-content li.menu-button-item {\n\tmin-width:40px;\n}\n\nul.menu-button-content li.menu-button-item button {\n\tbackground: none;\n\tborder: none;\n\twidth: 100%;\n\tcolor: var(--main-fg-color);\n\tdisplay: flex;\n\tjustify-content: space-around;\n}\n\nul.menu-button-content li.menu-button-item button:hover {\n\tbackground-color: var(--secondary-bg-color);\n}\n\nul.menu-button-content li.menu-button-item button.selected {\n\tbackground-color: var(--highlight-bg-color);\n}\n\nul.menu-button-content li.menu-button-item button.selected:hover {\n\tbackground-color: var(--highlight-bg-color-hover);\n}\n\nul.menu-button-content li.menu-button-item button i.menu-icon {\n\tpointer-events: none;\n}\n\nul.menu-button-content li.menu-button-item button i.menu-icon svg {\n\twidth: 100%;\n    height: 100%;\n    fill: var(--main-fg-color);\n\tcolor: var(--main-fg-color);\n\theight: 40px;\n}\n\nul.menu-button-content li.menu-button-item button span.menu-title {\n\theight: 40px;\n\tline-height: 40px;\n\tpadding-left: 4px;\n\tpadding-right: 4px;\n\tpointer-events: none;\n}"],sourceRoot:""}]);const s=a},9167:(t,e,n)=>{n.d(e,{Z:()=>s});var r=n(7537),o=n.n(r),i=n(3645),a=n.n(i)()(o());a.push([t.id,"\n.player-container {\n\tcontainer-type: inline-size;\n\tcontainer-name: player-container;\n}\n\n.playback-bar {\n\tposition: absolute;\n\tbottom: 0px;\n\twidth: var(--playback-bar-width);\n\tmin-height: var(--playback-bar-height);\n\tleft: calc((100% - var(--playback-bar-width)) / 2);\n\tright: calc((100% - var(--playback-bar-width)) / 2);\n\tbackground: var(--secondary-bg-color);\n\tbackground: var(--main-bg-gradient);\n\tz-index: 100;\n\tcontainer-type: inline-size;\n\tcontainer-name: playback-bar;\n}\n\n.playback-bar.inline-mode {\n\tdisplay: flex;\n\talign-items: center;\n  \tuser-select: none;\n}\n\n.playback-bar:hover {\n\tbackground: var(--secondary-bg-color-hover);\n}\n\n.progress-indicator {\n\twidth: 98%;\n\tmargin-left: 1%;\n\theight: var(--progress-indicator-height);\n}\n\n.progress-indicator.inline-mode {\n\tflex: 1;\n}\n\n.progress-indicator-timer {\n\tposition: absolute;\n\ttop:1px;\n\tcolor: var(--main-fg-color);\n\tfont-size: 10px;\n\tline-height: 11px;\n\tpadding-left: 11px;\n\tpointer-events: none;\n\theight: 100%;\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\tz-index: 1;\n}\n\n.progress-indicator-timer.left-side {\n\tleft: 0px;\n}\n\n.progress-indicator-timer.right-side {\n\tright: 0px;\n}\n\n.playback-bar .button-plugins {\n\theight: var(--button-fixed-height);\n}\n\n.playback-bar .button-plugins.left-side {\n\tfloat: left;\n}\n\n.playback-bar .button-plugins.right-side {\n\tfloat: right;\n}\n\n.playback-bar .button-plugins .button-plugin-container {\n\tdisplay: inline;\n}\n\n.playback-bar .button-plugins .button-plugin-container button {\n\theight: var(--button-fixed-height);\n\tbackground: none;\n\tborder: none;\n\tfloat: left;\n\talign-items: center;\n\talign-items: center;\n    justify-content: center;\n}\n\n.playback-bar .button-plugins .button-plugin-container button.dynamic-width div.interactive-button-content {\n\tdisplay: flex;\n    justify-content: flex-start;\n    align-items: center;\n    flex-direction: row;\n}\n\n.playback-bar .button-plugins .button-plugin-container button.fixed-width {\n\twidth: var(--button-fixed-width);\n}\n\n.playback-bar .button-plugins button:hover {\n\tbackground-color: var(--highlight-bg-color-hover);\n}\n\n.playback-bar .button-plugins button:active {\n\tbackground-color: var(--secondary-bg-color-hover);\n}\n\n.playback-bar .button-plugins button.dynamic-width span {\n\tmargin-top: 0px;\n\tcolor: var(--main-fg-color);\n\tpadding-left: 3px;\n\tpadding-right: 3px;\n}\n\n.playback-bar .button-plugins button i {\n\tbackground-size: 50% 50%;\n\twidth: var(--button-icon-size);\n\tdisplay: block;\n\tbackground-repeat: no-repeat;\n\tbackground-position: 3px 7px;\n\tmargin-left: auto;\n\tmargin-right: auto;\n}\n\n/* non-interactive buttons **/\n.playback-bar .button-plugins .button-plugin-container div.non-interactive {\n\theight: var(--button-fixed-height);\n\tbackground: none;\n\tborder: none;\n\tfloat: left;\n\tbox-sizing: border-box;\n\tdisplay: flex;\n    align-items: center;\n    justify-content: center;\n\tpointer-events: none;\n}\n\n.playback-bar .button-plugins .button-plugin-container div.dynamic-width div.non-interactive-button-content {\n\tdisplay: flex;\n    justify-content: flex-start;\n    align-items: center;\n    flex-direction: row;\n}\n\n.playback-bar .button-plugins .button-plugin-container div.non-interactive.fixed-width {\n\twidth: var(--button-fixed-width);\n}\n\n.playback-bar .button-plugins div.non-interactive i {\n\tbackground-size: 50% 50%;\n\twidth: var(--button-icon-size);\n\tdisplay: block;\n\tbackground-repeat: no-repeat;\n\tbackground-position: 3px 7px;\n\tmargin-left: auto;\n\tmargin-right: auto;\n}\n\n.playback-bar .button-plugins div.non-interactive span {\n\tdisplay: block;\n\ttext-align: center;\n\tmargin-top: -23px;\n}\n\n.playback-bar .button-plugins div.no-icon span {\n\tline-height: var(--button-fixed-height);\n    margin-top: 0px;\n\tcolor: var(--main-fg-color);\n}\n\n.playback-bar .button-plugins div.dynamic-width span {\n\tmargin-top: 0px;\n\tcolor: var(--main-fg-color);\n\tpadding-left: 3px;\n\tpadding-right: 3px;\n}\n\n.playback-bar .button-plugins .button-plugin-container div.non-interactive {\n\tpadding: 2px 6px 3px 6px;\n}\n.video-container .button-plugins .button-plugin-container div.non-interactive {\n\tpadding: 2px 6px 3px 6px;\n}\n\n.playback-bar .button-plugins div.non-interactive i svg {\n\twidth: 100%;\n    height: 100%;\n    fill: var(--main-fg-color);\n\tcolor: var(--main-fg-color);\n}\n\n\n/* Fix default iPad button padding */\n.playback-bar .button-plugins .button-plugin-container button {\n\tpadding: 0px 6px 0px 6px;\n}\n.video-container .button-plugins .button-plugin-container button {\n\tpadding: 0px 6px 0px 6px;\n}\n\n.button-plugins span.button-title {\n    display: block;\n}\n\n.button-plugins span.button-title.button-title-small {\n\tmargin-top: -13px;\n    font-size: 8px;\n}\n\n.button-plugins span.button-title.button-title-medium {\n\tmargin-top: -14px;\n    font-size: 10px;\n}\n\n.button-plugins span.button-title.button-title-large {\n\tmargin-top: -16px;\n    font-size: 12px;\n}\n\n.button-plugins span.button-title:empty {\n\tmargin-top: 0 !important;\n}\n\n\n.playback-bar .button-plugins button i svg {\n\twidth: 100%;\n    height: 100%;\n    fill: var(--main-fg-color);\n\tcolor: var(--main-fg-color);\n}\n\n.playback-bar .button-plugin-side-area {\n\tdisplay: inline;\n\tcolor: var(--main-fg-color);\n\theight: 40px;\n\tline-height: 40px;\n}\n\n.playback-bar .timer-container {\n\theight: 40px;\n\tline-height: 40px;\n\tdisplay: none;\n}\n\n.playback-bar .timer-container.left-side {\n\tfloat: left;\n\tdisplay: block;\n}\n\n.playback-bar .timer-container.right-side {\n\tfloat: right;\n\tdisplay: block;\n}\n\n.progress-indicator {\n\tposition: relative;\n}\n\n.progress-indicator canvas {\n\tposition: absolute;\n\tleft: 0px;\n\ttop: 0px;\n\tpointer-events: none;\n\topacity: 0.5;\n}\n\n.playback-bar:hover .progress-indicator canvas {\n\topacity: 1;\n}\n\n.progress-indicator .progress-indicator-container {\n\tposition: absolute;\n\tleft: 0px;\n\ttop: 0px;\n\twidth: 100%;\n\theight: 100%;\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.progress-indicator-container .progress-indicator-content {\n\theight: 10px;\n\tbackground-color: var(--highlight-bg-color-hover);\n\topacity: 0.8;\n\tpointer-events: none;\n}\n\n.playback-bar:hover .progress-indicator-container .progress-indicator-content {\n\tbackground-color: var(--highlight-bg-color-hover);\n}\n\n.progress-indicator-remaining {\n\tdisplay: block;\n\twidth: 100%;\n\tbackground-color: rgb(139, 139, 139);\n\theight: 10px;\n\tposition: absolute;\n\tz-index: -1;\n\topacity: 0.4;\n}\n\n.progress-indicator-handler {\n\tdisplay: block;\n\twidth: var(--progress-indicator-handler-size);\n\theight: var(--progress-indicator-handler-size);\n\tmargin-left: -10px;\n\tbackground-color: var(--highlight-bg-color-hover);\n\tborder-radius: 10px;\n\tz-index: 1;\n}\n\n.frame-thumbnail {\n\tbackground-color: var(--secondary-bg-color-hover);\n\tmin-width: 100px;\n\tmin-height: 100px;\n\tbox-shadow: 0px 0px 5px 0px var(--main-bg-color);\n\tz-index: 10000;\n\tpointer-events: none;\n}\n\n.frame-thumbnail .thumbnail-image {\n\tpointer-events: none;\n}\n\n.timer-container .progress-indicator-timer {\n\tposition: static;\n\theight: 100%;\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n}\n\n\n@media (max-width: 500px) {\n\t.frame-thumbnail .thumbnail-image {\n\t\twidth: 130px;\n\t\tpointer-events: none;\n\t}\n}\n\n@media (max-width: 750px) {\n\t.frame-thumbnail .thumbnail-image {\n\t\twidth: 230px;\n\t\tpointer-events: none;\n\t}\n}\n\n@media (min-width: 750px) {\n\t.frame-thumbnail .thumbnail-image {\n\t\twidth: 330px;\n\t\tpointer-events: none;\n\t}\n}\n\n.frame-thumbnail .thumbnail-time {\n\tpointer-events: none;\n\tfont-size: 12px;\n\tline-height: 12px;\n\tdisplay: block;\n\theight: 12px;\n\tcolor: var(--main-fg-color);\n\ttext-align: center;\n\tmargin: 0;\n\tpadding: 1;\n}\n\n@container player-container (max-width: 700px) {\n\t.playback-bar {\n\t\tmin-height: var(--playback-bar-height-sm);\n\t}\n}\n\n@container playback-bar (max-width: 700px) {\n\n\t.playback-bar .button-plugins button i {\n\t\twidth: var(--button-icon-size-sm);\n\t}\n\n\t.playback-bar .button-plugins {\n\t\theight: var(--button-fixed-height-sm);\n\t}\n\n\t.playback-bar .button-plugins .button-plugin-container button {\n\t\theight: var(--button-fixed-height-sm);\n\t}\n\n\t.playback-bar .button-plugins .button-plugin-container button.fixed-width {\n\t\twidth: var(--button-fixed-width-sm);\n\t}\n\n\t.playback-bar .button-plugins .button-plugin-container div.non-interactive {\n\t\theight: var(--button-fixed-height-sm);\n\t}\n\n\t.playback-bar .button-plugins .button-plugin-container div.non-interactive.fixed-width {\n\t\twidth: var(--button-fixed-width-sm);\n\t}\n\n\t.playback-bar .button-plugins div.non-interactive i {\n\t\twidth: var(--button-icon-size-sm);\n\t}\n\n\t.playback-bar .button-plugins div.no-icon span {\n\t\tline-height: var(--button-fixed-height-sm);\n\t}\n}","",{version:3,sources:["webpack://./src/css/PlaybackBar.css"],names:[],mappings:";AACA;CACC,2BAA2B;CAC3B,gCAAgC;AACjC;;AAEA;CACC,kBAAkB;CAClB,WAAW;CACX,gCAAgC;CAChC,sCAAsC;CACtC,kDAAkD;CAClD,mDAAmD;CACnD,qCAAqC;CACrC,mCAAmC;CACnC,YAAY;CACZ,2BAA2B;CAC3B,4BAA4B;AAC7B;;AAEA;CACC,aAAa;CACb,mBAAmB;GACjB,iBAAiB;AACpB;;AAEA;CACC,2CAA2C;AAC5C;;AAEA;CACC,UAAU;CACV,eAAe;CACf,wCAAwC;AACzC;;AAEA;CACC,OAAO;AACR;;AAEA;CACC,kBAAkB;CAClB,OAAO;CACP,2BAA2B;CAC3B,eAAe;CACf,iBAAiB;CACjB,kBAAkB;CAClB,oBAAoB;CACpB,YAAY;CACZ,aAAa;CACb,uBAAuB;CACvB,mBAAmB;CACnB,UAAU;AACX;;AAEA;CACC,SAAS;AACV;;AAEA;CACC,UAAU;AACX;;AAEA;CACC,kCAAkC;AACnC;;AAEA;CACC,WAAW;AACZ;;AAEA;CACC,YAAY;AACb;;AAEA;CACC,eAAe;AAChB;;AAEA;CACC,kCAAkC;CAClC,gBAAgB;CAChB,YAAY;CACZ,WAAW;CACX,mBAAmB;CACnB,mBAAmB;IAChB,uBAAuB;AAC3B;;AAEA;CACC,aAAa;IACV,2BAA2B;IAC3B,mBAAmB;IACnB,mBAAmB;AACvB;;AAEA;CACC,gCAAgC;AACjC;;AAEA;CACC,iDAAiD;AAClD;;AAEA;CACC,iDAAiD;AAClD;;AAEA;CACC,eAAe;CACf,2BAA2B;CAC3B,iBAAiB;CACjB,kBAAkB;AACnB;;AAEA;CACC,wBAAwB;CACxB,8BAA8B;CAC9B,cAAc;CACd,4BAA4B;CAC5B,4BAA4B;CAC5B,iBAAiB;CACjB,kBAAkB;AACnB;;AAEA,6BAA6B;AAC7B;CACC,kCAAkC;CAClC,gBAAgB;CAChB,YAAY;CACZ,WAAW;CACX,sBAAsB;CACtB,aAAa;IACV,mBAAmB;IACnB,uBAAuB;CAC1B,oBAAoB;AACrB;;AAEA;CACC,aAAa;IACV,2BAA2B;IAC3B,mBAAmB;IACnB,mBAAmB;AACvB;;AAEA;CACC,gCAAgC;AACjC;;AAEA;CACC,wBAAwB;CACxB,8BAA8B;CAC9B,cAAc;CACd,4BAA4B;CAC5B,4BAA4B;CAC5B,iBAAiB;CACjB,kBAAkB;AACnB;;AAEA;CACC,cAAc;CACd,kBAAkB;CAClB,iBAAiB;AAClB;;AAEA;CACC,uCAAuC;IACpC,eAAe;CAClB,2BAA2B;AAC5B;;AAEA;CACC,eAAe;CACf,2BAA2B;CAC3B,iBAAiB;CACjB,kBAAkB;AACnB;;AAEA;CACC,wBAAwB;AACzB;AACA;CACC,wBAAwB;AACzB;;AAEA;CACC,WAAW;IACR,YAAY;IACZ,0BAA0B;CAC7B,2BAA2B;AAC5B;;;AAGA,oCAAoC;AACpC;CACC,wBAAwB;AACzB;AACA;CACC,wBAAwB;AACzB;;AAEA;IACI,cAAc;AAClB;;AAEA;CACC,iBAAiB;IACd,cAAc;AAClB;;AAEA;CACC,iBAAiB;IACd,eAAe;AACnB;;AAEA;CACC,iBAAiB;IACd,eAAe;AACnB;;AAEA;CACC,wBAAwB;AACzB;;;AAGA;CACC,WAAW;IACR,YAAY;IACZ,0BAA0B;CAC7B,2BAA2B;AAC5B;;AAEA;CACC,eAAe;CACf,2BAA2B;CAC3B,YAAY;CACZ,iBAAiB;AAClB;;AAEA;CACC,YAAY;CACZ,iBAAiB;CACjB,aAAa;AACd;;AAEA;CACC,WAAW;CACX,cAAc;AACf;;AAEA;CACC,YAAY;CACZ,cAAc;AACf;;AAEA;CACC,kBAAkB;AACnB;;AAEA;CACC,kBAAkB;CAClB,SAAS;CACT,QAAQ;CACR,oBAAoB;CACpB,YAAY;AACb;;AAEA;CACC,UAAU;AACX;;AAEA;CACC,kBAAkB;CAClB,SAAS;CACT,QAAQ;CACR,WAAW;CACX,YAAY;CACZ,aAAa;CACb,mBAAmB;AACpB;;AAEA;CACC,YAAY;CACZ,iDAAiD;CACjD,YAAY;CACZ,oBAAoB;AACrB;;AAEA;CACC,iDAAiD;AAClD;;AAEA;CACC,cAAc;CACd,WAAW;CACX,oCAAoC;CACpC,YAAY;CACZ,kBAAkB;CAClB,WAAW;CACX,YAAY;AACb;;AAEA;CACC,cAAc;CACd,6CAA6C;CAC7C,8CAA8C;CAC9C,kBAAkB;CAClB,iDAAiD;CACjD,mBAAmB;CACnB,UAAU;AACX;;AAEA;CACC,iDAAiD;CACjD,gBAAgB;CAChB,iBAAiB;CACjB,gDAAgD;CAChD,cAAc;CACd,oBAAoB;AACrB;;AAEA;CACC,oBAAoB;AACrB;;AAEA;CACC,gBAAgB;CAChB,YAAY;CACZ,aAAa;CACb,uBAAuB;CACvB,mBAAmB;AACpB;;;AAGA;CACC;EACC,YAAY;EACZ,oBAAoB;CACrB;AACD;;AAEA;CACC;EACC,YAAY;EACZ,oBAAoB;CACrB;AACD;;AAEA;CACC;EACC,YAAY;EACZ,oBAAoB;CACrB;AACD;;AAEA;CACC,oBAAoB;CACpB,eAAe;CACf,iBAAiB;CACjB,cAAc;CACd,YAAY;CACZ,2BAA2B;CAC3B,kBAAkB;CAClB,SAAS;CACT,UAAU;AACX;;AAEA;CACC;EACC,yCAAyC;CAC1C;AACD;;AAEA;;CAEC;EACC,iCAAiC;CAClC;;CAEA;EACC,qCAAqC;CACtC;;CAEA;EACC,qCAAqC;CACtC;;CAEA;EACC,mCAAmC;CACpC;;CAEA;EACC,qCAAqC;CACtC;;CAEA;EACC,mCAAmC;CACpC;;CAEA;EACC,iCAAiC;CAClC;;CAEA;EACC,0CAA0C;CAC3C;AACD",sourcesContent:["\n.player-container {\n\tcontainer-type: inline-size;\n\tcontainer-name: player-container;\n}\n\n.playback-bar {\n\tposition: absolute;\n\tbottom: 0px;\n\twidth: var(--playback-bar-width);\n\tmin-height: var(--playback-bar-height);\n\tleft: calc((100% - var(--playback-bar-width)) / 2);\n\tright: calc((100% - var(--playback-bar-width)) / 2);\n\tbackground: var(--secondary-bg-color);\n\tbackground: var(--main-bg-gradient);\n\tz-index: 100;\n\tcontainer-type: inline-size;\n\tcontainer-name: playback-bar;\n}\n\n.playback-bar.inline-mode {\n\tdisplay: flex;\n\talign-items: center;\n  \tuser-select: none;\n}\n\n.playback-bar:hover {\n\tbackground: var(--secondary-bg-color-hover);\n}\n\n.progress-indicator {\n\twidth: 98%;\n\tmargin-left: 1%;\n\theight: var(--progress-indicator-height);\n}\n\n.progress-indicator.inline-mode {\n\tflex: 1;\n}\n\n.progress-indicator-timer {\n\tposition: absolute;\n\ttop:1px;\n\tcolor: var(--main-fg-color);\n\tfont-size: 10px;\n\tline-height: 11px;\n\tpadding-left: 11px;\n\tpointer-events: none;\n\theight: 100%;\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\tz-index: 1;\n}\n\n.progress-indicator-timer.left-side {\n\tleft: 0px;\n}\n\n.progress-indicator-timer.right-side {\n\tright: 0px;\n}\n\n.playback-bar .button-plugins {\n\theight: var(--button-fixed-height);\n}\n\n.playback-bar .button-plugins.left-side {\n\tfloat: left;\n}\n\n.playback-bar .button-plugins.right-side {\n\tfloat: right;\n}\n\n.playback-bar .button-plugins .button-plugin-container {\n\tdisplay: inline;\n}\n\n.playback-bar .button-plugins .button-plugin-container button {\n\theight: var(--button-fixed-height);\n\tbackground: none;\n\tborder: none;\n\tfloat: left;\n\talign-items: center;\n\talign-items: center;\n    justify-content: center;\n}\n\n.playback-bar .button-plugins .button-plugin-container button.dynamic-width div.interactive-button-content {\n\tdisplay: flex;\n    justify-content: flex-start;\n    align-items: center;\n    flex-direction: row;\n}\n\n.playback-bar .button-plugins .button-plugin-container button.fixed-width {\n\twidth: var(--button-fixed-width);\n}\n\n.playback-bar .button-plugins button:hover {\n\tbackground-color: var(--highlight-bg-color-hover);\n}\n\n.playback-bar .button-plugins button:active {\n\tbackground-color: var(--secondary-bg-color-hover);\n}\n\n.playback-bar .button-plugins button.dynamic-width span {\n\tmargin-top: 0px;\n\tcolor: var(--main-fg-color);\n\tpadding-left: 3px;\n\tpadding-right: 3px;\n}\n\n.playback-bar .button-plugins button i {\n\tbackground-size: 50% 50%;\n\twidth: var(--button-icon-size);\n\tdisplay: block;\n\tbackground-repeat: no-repeat;\n\tbackground-position: 3px 7px;\n\tmargin-left: auto;\n\tmargin-right: auto;\n}\n\n/* non-interactive buttons **/\n.playback-bar .button-plugins .button-plugin-container div.non-interactive {\n\theight: var(--button-fixed-height);\n\tbackground: none;\n\tborder: none;\n\tfloat: left;\n\tbox-sizing: border-box;\n\tdisplay: flex;\n    align-items: center;\n    justify-content: center;\n\tpointer-events: none;\n}\n\n.playback-bar .button-plugins .button-plugin-container div.dynamic-width div.non-interactive-button-content {\n\tdisplay: flex;\n    justify-content: flex-start;\n    align-items: center;\n    flex-direction: row;\n}\n\n.playback-bar .button-plugins .button-plugin-container div.non-interactive.fixed-width {\n\twidth: var(--button-fixed-width);\n}\n\n.playback-bar .button-plugins div.non-interactive i {\n\tbackground-size: 50% 50%;\n\twidth: var(--button-icon-size);\n\tdisplay: block;\n\tbackground-repeat: no-repeat;\n\tbackground-position: 3px 7px;\n\tmargin-left: auto;\n\tmargin-right: auto;\n}\n\n.playback-bar .button-plugins div.non-interactive span {\n\tdisplay: block;\n\ttext-align: center;\n\tmargin-top: -23px;\n}\n\n.playback-bar .button-plugins div.no-icon span {\n\tline-height: var(--button-fixed-height);\n    margin-top: 0px;\n\tcolor: var(--main-fg-color);\n}\n\n.playback-bar .button-plugins div.dynamic-width span {\n\tmargin-top: 0px;\n\tcolor: var(--main-fg-color);\n\tpadding-left: 3px;\n\tpadding-right: 3px;\n}\n\n.playback-bar .button-plugins .button-plugin-container div.non-interactive {\n\tpadding: 2px 6px 3px 6px;\n}\n.video-container .button-plugins .button-plugin-container div.non-interactive {\n\tpadding: 2px 6px 3px 6px;\n}\n\n.playback-bar .button-plugins div.non-interactive i svg {\n\twidth: 100%;\n    height: 100%;\n    fill: var(--main-fg-color);\n\tcolor: var(--main-fg-color);\n}\n\n\n/* Fix default iPad button padding */\n.playback-bar .button-plugins .button-plugin-container button {\n\tpadding: 0px 6px 0px 6px;\n}\n.video-container .button-plugins .button-plugin-container button {\n\tpadding: 0px 6px 0px 6px;\n}\n\n.button-plugins span.button-title {\n    display: block;\n}\n\n.button-plugins span.button-title.button-title-small {\n\tmargin-top: -13px;\n    font-size: 8px;\n}\n\n.button-plugins span.button-title.button-title-medium {\n\tmargin-top: -14px;\n    font-size: 10px;\n}\n\n.button-plugins span.button-title.button-title-large {\n\tmargin-top: -16px;\n    font-size: 12px;\n}\n\n.button-plugins span.button-title:empty {\n\tmargin-top: 0 !important;\n}\n\n\n.playback-bar .button-plugins button i svg {\n\twidth: 100%;\n    height: 100%;\n    fill: var(--main-fg-color);\n\tcolor: var(--main-fg-color);\n}\n\n.playback-bar .button-plugin-side-area {\n\tdisplay: inline;\n\tcolor: var(--main-fg-color);\n\theight: 40px;\n\tline-height: 40px;\n}\n\n.playback-bar .timer-container {\n\theight: 40px;\n\tline-height: 40px;\n\tdisplay: none;\n}\n\n.playback-bar .timer-container.left-side {\n\tfloat: left;\n\tdisplay: block;\n}\n\n.playback-bar .timer-container.right-side {\n\tfloat: right;\n\tdisplay: block;\n}\n\n.progress-indicator {\n\tposition: relative;\n}\n\n.progress-indicator canvas {\n\tposition: absolute;\n\tleft: 0px;\n\ttop: 0px;\n\tpointer-events: none;\n\topacity: 0.5;\n}\n\n.playback-bar:hover .progress-indicator canvas {\n\topacity: 1;\n}\n\n.progress-indicator .progress-indicator-container {\n\tposition: absolute;\n\tleft: 0px;\n\ttop: 0px;\n\twidth: 100%;\n\theight: 100%;\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.progress-indicator-container .progress-indicator-content {\n\theight: 10px;\n\tbackground-color: var(--highlight-bg-color-hover);\n\topacity: 0.8;\n\tpointer-events: none;\n}\n\n.playback-bar:hover .progress-indicator-container .progress-indicator-content {\n\tbackground-color: var(--highlight-bg-color-hover);\n}\n\n.progress-indicator-remaining {\n\tdisplay: block;\n\twidth: 100%;\n\tbackground-color: rgb(139, 139, 139);\n\theight: 10px;\n\tposition: absolute;\n\tz-index: -1;\n\topacity: 0.4;\n}\n\n.progress-indicator-handler {\n\tdisplay: block;\n\twidth: var(--progress-indicator-handler-size);\n\theight: var(--progress-indicator-handler-size);\n\tmargin-left: -10px;\n\tbackground-color: var(--highlight-bg-color-hover);\n\tborder-radius: 10px;\n\tz-index: 1;\n}\n\n.frame-thumbnail {\n\tbackground-color: var(--secondary-bg-color-hover);\n\tmin-width: 100px;\n\tmin-height: 100px;\n\tbox-shadow: 0px 0px 5px 0px var(--main-bg-color);\n\tz-index: 10000;\n\tpointer-events: none;\n}\n\n.frame-thumbnail .thumbnail-image {\n\tpointer-events: none;\n}\n\n.timer-container .progress-indicator-timer {\n\tposition: static;\n\theight: 100%;\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n}\n\n\n@media (max-width: 500px) {\n\t.frame-thumbnail .thumbnail-image {\n\t\twidth: 130px;\n\t\tpointer-events: none;\n\t}\n}\n\n@media (max-width: 750px) {\n\t.frame-thumbnail .thumbnail-image {\n\t\twidth: 230px;\n\t\tpointer-events: none;\n\t}\n}\n\n@media (min-width: 750px) {\n\t.frame-thumbnail .thumbnail-image {\n\t\twidth: 330px;\n\t\tpointer-events: none;\n\t}\n}\n\n.frame-thumbnail .thumbnail-time {\n\tpointer-events: none;\n\tfont-size: 12px;\n\tline-height: 12px;\n\tdisplay: block;\n\theight: 12px;\n\tcolor: var(--main-fg-color);\n\ttext-align: center;\n\tmargin: 0;\n\tpadding: 1;\n}\n\n@container player-container (max-width: 700px) {\n\t.playback-bar {\n\t\tmin-height: var(--playback-bar-height-sm);\n\t}\n}\n\n@container playback-bar (max-width: 700px) {\n\n\t.playback-bar .button-plugins button i {\n\t\twidth: var(--button-icon-size-sm);\n\t}\n\n\t.playback-bar .button-plugins {\n\t\theight: var(--button-fixed-height-sm);\n\t}\n\n\t.playback-bar .button-plugins .button-plugin-container button {\n\t\theight: var(--button-fixed-height-sm);\n\t}\n\n\t.playback-bar .button-plugins .button-plugin-container button.fixed-width {\n\t\twidth: var(--button-fixed-width-sm);\n\t}\n\n\t.playback-bar .button-plugins .button-plugin-container div.non-interactive {\n\t\theight: var(--button-fixed-height-sm);\n\t}\n\n\t.playback-bar .button-plugins .button-plugin-container div.non-interactive.fixed-width {\n\t\twidth: var(--button-fixed-width-sm);\n\t}\n\n\t.playback-bar .button-plugins div.non-interactive i {\n\t\twidth: var(--button-icon-size-sm);\n\t}\n\n\t.playback-bar .button-plugins div.no-icon span {\n\t\tline-height: var(--button-fixed-height-sm);\n\t}\n}"],sourceRoot:""}]);const s=a},6777:(t,e,n)=>{n.d(e,{Z:()=>s});var r=n(7537),o=n.n(r),i=n(3645),a=n.n(i)()(o());a.push([t.id,":root {\n\t--popup-resizeable-border: 10px;\n\t--popup-title-bar-size: 20px;\n\t--popup-title-bar-color: var(--highlight-bg-color);\n\t--popup-dock-button-size: 15px;\n}\n\n.popup-container {\n\tz-index: 1000;\n\tposition: fixed;\n\ttop: 0px;\n\tleft: 0px;\n\theight: 100vh;\n\twidth: 100vw;\n}\n\n.popup-container.no-modal {\n\tpointer-events: none;\n}\n\n.popup-content {\n\tposition: absolute;\n\tbackground-color: var(--main-bg-color);\n\tcolor: var(--main-fg-color);\n\tbox-shadow: 0px 0px 4px 0px var(--main-bg-color);\n\tborder-radius: 3px;\n\tpadding: 5px 5px 5px 5px;\n\tforced-color-adjust: none;\n\toverflow: auto;\n\tdisplay: table;\n}\n\n.popup-content.static-position {\n\tbox-sizing: border-box;\n\tuser-select: none;\n\tposition: absolute;\n\toverflow: hidden;\n\tdisplay: block;\n}\n\n.popup-content.moveable {\n\tpadding: 0px;\n\tcursor: col-resize;\n\tmin-width: 180px;\n\tmin-height: 100px;\n}\n\n.popup-container.no-modal .popup-content {\n\tpointer-events: all;\n}\n\n.popup-content.resizeable .border-top-left {\n\twidth: var(--popup-resizeable-border);\n\theight: var(--popup-resizeable-border);\n\tcursor: nw-resize;\n\tfloat: left;\n}\n\n.popup-content.resizeable .border-top-center {\n\twidth: calc(100% - var(--popup-resizeable-border) * 2);\n\theight: var(--popup-resizeable-border);\n\tcursor: row-resize;\n\tfloat: left;\n}\n\n.popup-content.resizeable .border-top-right {\n\twidth: var(--popup-resizeable-border);\n\theight: var(--popup-resizeable-border);\n\tcursor: ne-resize;\n\tfloat: left;\n}\n\n.popup-content .title-bar {\n\tfont-family: arial, sans-serif;\n\ttext-align: center;\n\tuser-select: none;\n\tbox-sizing: border-box;\n\toverflow: hidden;\n}\n\n.popup-content.moveable .title-bar {\n\tmin-height: max(var(--popup-title-bar-size), calc(var(--popup-dock-button-size) + 11px));\n\tbackground-color: var(--popup-title-bar-color);\n\tcursor: move;\n\tposition: relative;\n\tdisplay: flex;\n    flex-wrap: wrap;\n    align-content: center;\n    justify-content: center;\n}\n\n.popup-content.fixed .title-bar.not-empty {\n\tpadding: 5px;\n\tborder-bottom: 1px solid var(--main-fg-color);\n}\n\n.popup-content.moveable .title-bar .title-bar-content {\n\tpadding-left: calc(var(--popup-dock-button-size) * 2);\n\tpadding-right: calc(var(--popup-dock-button-size) * 2);\n}\n\n.popup-content.moveable.resizeable .title-bar {\n\twidth: calc(100% - var(--popup-resizeable-border) * 2);\n\tmargin-left: var(--popup-resizeable-border);\n\tmargin-right: var(--popup-resizeable-border);\n}\n\n.popup-content .popup-action-buttons {\n\tposition: absolute;\n\ttop: 3px;\n\tright: 3px;\n\tdisplay: flex;\n}\n\n.popup-content button.popup-action-button {\n\tdisplay: none;\n\tbackground-color: transparent;\n    border: 1px solid var(--main-fg-color);\n\tborder-radius: 7px;\n\tcursor: pointer;\n\tmargin-right: 2px;\n}\n\n.popup-content button.popup-action-button:hover {\n\tbackground-color: var(--highlight-bg-color-hover);\n}\n\n.popup-content button.popup-action-button i {\n\twidth: var(--popup-dock-button-size);\n\theight: var(--popup-dock-button-size);\n\tdisplay: block;\n\tcolor: var(--main-fg-color);\n\tfill: var(--main-fg-color);\n}\n\n.popup-content .center-container {\n\twidth: calc(100% - var(--popup-resizeable-border) * 2);\n\tmargin-left: var(--popup-resizeable-border);\n\tmargin-right: var(--popup-resizeable-border);\n\tfloat: left;\n}\n\n.popup-content.static-position .center-container {\n\theight: calc(100% - var(--popup-resizeable-border) * 2 - var(--popup-title-bar-size));\n\toverflow: auto;\n}\n\n/* Begin properties for static position pop up: */\n.popup-content.static-position button.popup-action-button {\n\tdisplay: inline-block;\n}\n\n.popup-content.static-position .separator-left {\n\twidth: var(--popup-resizeable-border);\n\theight: var(--popup-resizeable-border);\n\tfloat: left;\n}\n\n.popup-content.static-position .separator-right {\n\twidth: var(--popup-resizeable-border);\n\theight: var(--popup-resizeable-border);\n\tfloat: left;\n}\n\n.popup-content.static-position .border-bottom-left {\n\twidth: var(--popup-resizeable-border);\n\theight: var(--popup-resizeable-border);\n\tcursor: sw-resize;\n\tfloat: left;\n}\n\n.popup-content.static-position .border-bottom-center {\n\twidth: calc(100% - var(--popup-resizeable-border) * 2);\n\theight: var(--popup-resizeable-border);\n\tcursor: row-resize;\n\tfloat: left;\n}\n\n.popup-content.static-position .border-bottom-right {\n\twidth: var(--popup-resizeable-border);\n\theight: var(--popup-resizeable-border);\n\tcursor: se-resize;\n\tfloat: left;\n}\n","",{version:3,sources:["webpack://./src/css/PopUp.css"],names:[],mappings:"AAAA;CACC,+BAA+B;CAC/B,4BAA4B;CAC5B,kDAAkD;CAClD,8BAA8B;AAC/B;;AAEA;CACC,aAAa;CACb,eAAe;CACf,QAAQ;CACR,SAAS;CACT,aAAa;CACb,YAAY;AACb;;AAEA;CACC,oBAAoB;AACrB;;AAEA;CACC,kBAAkB;CAClB,sCAAsC;CACtC,2BAA2B;CAC3B,gDAAgD;CAChD,kBAAkB;CAClB,wBAAwB;CACxB,yBAAyB;CACzB,cAAc;CACd,cAAc;AACf;;AAEA;CACC,sBAAsB;CACtB,iBAAiB;CACjB,kBAAkB;CAClB,gBAAgB;CAChB,cAAc;AACf;;AAEA;CACC,YAAY;CACZ,kBAAkB;CAClB,gBAAgB;CAChB,iBAAiB;AAClB;;AAEA;CACC,mBAAmB;AACpB;;AAEA;CACC,qCAAqC;CACrC,sCAAsC;CACtC,iBAAiB;CACjB,WAAW;AACZ;;AAEA;CACC,sDAAsD;CACtD,sCAAsC;CACtC,kBAAkB;CAClB,WAAW;AACZ;;AAEA;CACC,qCAAqC;CACrC,sCAAsC;CACtC,iBAAiB;CACjB,WAAW;AACZ;;AAEA;CACC,8BAA8B;CAC9B,kBAAkB;CAClB,iBAAiB;CACjB,sBAAsB;CACtB,gBAAgB;AACjB;;AAEA;CACC,wFAAwF;CACxF,8CAA8C;CAC9C,YAAY;CACZ,kBAAkB;CAClB,aAAa;IACV,eAAe;IACf,qBAAqB;IACrB,uBAAuB;AAC3B;;AAEA;CACC,YAAY;CACZ,6CAA6C;AAC9C;;AAEA;CACC,qDAAqD;CACrD,sDAAsD;AACvD;;AAEA;CACC,sDAAsD;CACtD,2CAA2C;CAC3C,4CAA4C;AAC7C;;AAEA;CACC,kBAAkB;CAClB,QAAQ;CACR,UAAU;CACV,aAAa;AACd;;AAEA;CACC,aAAa;CACb,6BAA6B;IAC1B,sCAAsC;CACzC,kBAAkB;CAClB,eAAe;CACf,iBAAiB;AAClB;;AAEA;CACC,iDAAiD;AAClD;;AAEA;CACC,oCAAoC;CACpC,qCAAqC;CACrC,cAAc;CACd,2BAA2B;CAC3B,0BAA0B;AAC3B;;AAEA;CACC,sDAAsD;CACtD,2CAA2C;CAC3C,4CAA4C;CAC5C,WAAW;AACZ;;AAEA;CACC,qFAAqF;CACrF,cAAc;AACf;;AAEA,iDAAiD;AACjD;CACC,qBAAqB;AACtB;;AAEA;CACC,qCAAqC;CACrC,sCAAsC;CACtC,WAAW;AACZ;;AAEA;CACC,qCAAqC;CACrC,sCAAsC;CACtC,WAAW;AACZ;;AAEA;CACC,qCAAqC;CACrC,sCAAsC;CACtC,iBAAiB;CACjB,WAAW;AACZ;;AAEA;CACC,sDAAsD;CACtD,sCAAsC;CACtC,kBAAkB;CAClB,WAAW;AACZ;;AAEA;CACC,qCAAqC;CACrC,sCAAsC;CACtC,iBAAiB;CACjB,WAAW;AACZ",sourcesContent:[":root {\n\t--popup-resizeable-border: 10px;\n\t--popup-title-bar-size: 20px;\n\t--popup-title-bar-color: var(--highlight-bg-color);\n\t--popup-dock-button-size: 15px;\n}\n\n.popup-container {\n\tz-index: 1000;\n\tposition: fixed;\n\ttop: 0px;\n\tleft: 0px;\n\theight: 100vh;\n\twidth: 100vw;\n}\n\n.popup-container.no-modal {\n\tpointer-events: none;\n}\n\n.popup-content {\n\tposition: absolute;\n\tbackground-color: var(--main-bg-color);\n\tcolor: var(--main-fg-color);\n\tbox-shadow: 0px 0px 4px 0px var(--main-bg-color);\n\tborder-radius: 3px;\n\tpadding: 5px 5px 5px 5px;\n\tforced-color-adjust: none;\n\toverflow: auto;\n\tdisplay: table;\n}\n\n.popup-content.static-position {\n\tbox-sizing: border-box;\n\tuser-select: none;\n\tposition: absolute;\n\toverflow: hidden;\n\tdisplay: block;\n}\n\n.popup-content.moveable {\n\tpadding: 0px;\n\tcursor: col-resize;\n\tmin-width: 180px;\n\tmin-height: 100px;\n}\n\n.popup-container.no-modal .popup-content {\n\tpointer-events: all;\n}\n\n.popup-content.resizeable .border-top-left {\n\twidth: var(--popup-resizeable-border);\n\theight: var(--popup-resizeable-border);\n\tcursor: nw-resize;\n\tfloat: left;\n}\n\n.popup-content.resizeable .border-top-center {\n\twidth: calc(100% - var(--popup-resizeable-border) * 2);\n\theight: var(--popup-resizeable-border);\n\tcursor: row-resize;\n\tfloat: left;\n}\n\n.popup-content.resizeable .border-top-right {\n\twidth: var(--popup-resizeable-border);\n\theight: var(--popup-resizeable-border);\n\tcursor: ne-resize;\n\tfloat: left;\n}\n\n.popup-content .title-bar {\n\tfont-family: arial, sans-serif;\n\ttext-align: center;\n\tuser-select: none;\n\tbox-sizing: border-box;\n\toverflow: hidden;\n}\n\n.popup-content.moveable .title-bar {\n\tmin-height: max(var(--popup-title-bar-size), calc(var(--popup-dock-button-size) + 11px));\n\tbackground-color: var(--popup-title-bar-color);\n\tcursor: move;\n\tposition: relative;\n\tdisplay: flex;\n    flex-wrap: wrap;\n    align-content: center;\n    justify-content: center;\n}\n\n.popup-content.fixed .title-bar.not-empty {\n\tpadding: 5px;\n\tborder-bottom: 1px solid var(--main-fg-color);\n}\n\n.popup-content.moveable .title-bar .title-bar-content {\n\tpadding-left: calc(var(--popup-dock-button-size) * 2);\n\tpadding-right: calc(var(--popup-dock-button-size) * 2);\n}\n\n.popup-content.moveable.resizeable .title-bar {\n\twidth: calc(100% - var(--popup-resizeable-border) * 2);\n\tmargin-left: var(--popup-resizeable-border);\n\tmargin-right: var(--popup-resizeable-border);\n}\n\n.popup-content .popup-action-buttons {\n\tposition: absolute;\n\ttop: 3px;\n\tright: 3px;\n\tdisplay: flex;\n}\n\n.popup-content button.popup-action-button {\n\tdisplay: none;\n\tbackground-color: transparent;\n    border: 1px solid var(--main-fg-color);\n\tborder-radius: 7px;\n\tcursor: pointer;\n\tmargin-right: 2px;\n}\n\n.popup-content button.popup-action-button:hover {\n\tbackground-color: var(--highlight-bg-color-hover);\n}\n\n.popup-content button.popup-action-button i {\n\twidth: var(--popup-dock-button-size);\n\theight: var(--popup-dock-button-size);\n\tdisplay: block;\n\tcolor: var(--main-fg-color);\n\tfill: var(--main-fg-color);\n}\n\n.popup-content .center-container {\n\twidth: calc(100% - var(--popup-resizeable-border) * 2);\n\tmargin-left: var(--popup-resizeable-border);\n\tmargin-right: var(--popup-resizeable-border);\n\tfloat: left;\n}\n\n.popup-content.static-position .center-container {\n\theight: calc(100% - var(--popup-resizeable-border) * 2 - var(--popup-title-bar-size));\n\toverflow: auto;\n}\n\n/* Begin properties for static position pop up: */\n.popup-content.static-position button.popup-action-button {\n\tdisplay: inline-block;\n}\n\n.popup-content.static-position .separator-left {\n\twidth: var(--popup-resizeable-border);\n\theight: var(--popup-resizeable-border);\n\tfloat: left;\n}\n\n.popup-content.static-position .separator-right {\n\twidth: var(--popup-resizeable-border);\n\theight: var(--popup-resizeable-border);\n\tfloat: left;\n}\n\n.popup-content.static-position .border-bottom-left {\n\twidth: var(--popup-resizeable-border);\n\theight: var(--popup-resizeable-border);\n\tcursor: sw-resize;\n\tfloat: left;\n}\n\n.popup-content.static-position .border-bottom-center {\n\twidth: calc(100% - var(--popup-resizeable-border) * 2);\n\theight: var(--popup-resizeable-border);\n\tcursor: row-resize;\n\tfloat: left;\n}\n\n.popup-content.static-position .border-bottom-right {\n\twidth: var(--popup-resizeable-border);\n\theight: var(--popup-resizeable-border);\n\tcursor: se-resize;\n\tfloat: left;\n}\n"],sourceRoot:""}]);const s=a},5352:(t,e,n)=>{n.d(e,{Z:()=>s});var r=n(7537),o=n.n(r),i=n(3645),a=n.n(i)()(o());a.push([t.id,".timeline-popup-content {\n    display: block;\n    background-color: var(--main-bg-color);\n    padding-top: 10px;\n    padding-bottom: 10px;\n    position: absolute;\n    border-radius: 4px;\n    left: 2px;\n    right: 2px;\n    bottom: 52px;\n    color: var(--main-fg-color);\n    border-top: 1px solid var(--main-border-color);\n    z-index: 100;\n}\n","",{version:3,sources:["webpack://./src/css/TimeLinePopUp.css"],names:[],mappings:"AAAA;IACI,cAAc;IACd,sCAAsC;IACtC,iBAAiB;IACjB,oBAAoB;IACpB,kBAAkB;IAClB,kBAAkB;IAClB,SAAS;IACT,UAAU;IACV,YAAY;IACZ,2BAA2B;IAC3B,8CAA8C;IAC9C,YAAY;AAChB",sourcesContent:[".timeline-popup-content {\n    display: block;\n    background-color: var(--main-bg-color);\n    padding-top: 10px;\n    padding-bottom: 10px;\n    position: absolute;\n    border-radius: 4px;\n    left: 2px;\n    right: 2px;\n    bottom: 52px;\n    color: var(--main-fg-color);\n    border-top: 1px solid var(--main-border-color);\n    z-index: 100;\n}\n"],sourceRoot:""}]);const s=a},303:(t,e,n)=>{n.d(e,{Z:()=>s});var r=n(7537),o=n.n(r),i=n(3645),a=n.n(i)()(o());a.push([t.id,"\n.video-canvas .button-area {\n    position: absolute;\n    top: 5px;\n    left: 0px;\n    right: 0px;\n    pointer-events: none;\n    text-align: center;\n    z-index: 1;\n    container-type: size;\n    container-name: button-area;\n}\n\n\n.video-canvas .button-area button {\n    pointer-events: all;\n    margin: 2px;\n    width: 40px;\n    opacity: 0.8;\n    background-color: var(--main-bg-color);\n    border: none;\n    border-radius: 5px;\n    opacity: 0.3;\n}\n\n.video-canvas:hover .button-area button {\n    opacity: 1;\n}\n\n.video-canvas .button-area button:hover {\n    background-color: var(--highlight-bg-color-hover);\n}\n\n.video-canvas .button-area button i svg {\n    width: 100%;\n    height: 100%;\n    fill: var(--main-fg-color);\n    color: var(--main-fg-color);\n}\n\n.video-canvas .button-area button:hover {\n    opacity: 1;\n}\n\n.video-canvas .button-area button.align-left {\n    float: left;\n}\n\n.video-canvas .button-area button.align-right {\n    float: right;\n}\n\n.video-canvas .button-area {\n    padding: 5px;\n}\n\n\n@container button-area (max-width: 200px) {\n    .video-canvas .button-area button {\n        width: 25cqi;\n    }\n}\n\n@container button-area (min-width: 200px) and (max-width: 350px) {\n    .video-canvas .button-area button {\n        width: 45px;\n    }\n}\n\n@container button-area (min-width: 350px) {\n    .video-canvas .button-area button {\n        width: 55px;\n    }\n}\n\n\n\n  ","",{version:3,sources:["webpack://./src/css/VideoCanvas.css"],names:[],mappings:";AACA;IACI,kBAAkB;IAClB,QAAQ;IACR,SAAS;IACT,UAAU;IACV,oBAAoB;IACpB,kBAAkB;IAClB,UAAU;IACV,oBAAoB;IACpB,2BAA2B;AAC/B;;;AAGA;IACI,mBAAmB;IACnB,WAAW;IACX,WAAW;IACX,YAAY;IACZ,sCAAsC;IACtC,YAAY;IACZ,kBAAkB;IAClB,YAAY;AAChB;;AAEA;IACI,UAAU;AACd;;AAEA;IACI,iDAAiD;AACrD;;AAEA;IACI,WAAW;IACX,YAAY;IACZ,0BAA0B;IAC1B,2BAA2B;AAC/B;;AAEA;IACI,UAAU;AACd;;AAEA;IACI,WAAW;AACf;;AAEA;IACI,YAAY;AAChB;;AAEA;IACI,YAAY;AAChB;;;AAGA;IACI;QACI,YAAY;IAChB;AACJ;;AAEA;IACI;QACI,WAAW;IACf;AACJ;;AAEA;IACI;QACI,WAAW;IACf;AACJ",sourcesContent:["\n.video-canvas .button-area {\n    position: absolute;\n    top: 5px;\n    left: 0px;\n    right: 0px;\n    pointer-events: none;\n    text-align: center;\n    z-index: 1;\n    container-type: size;\n    container-name: button-area;\n}\n\n\n.video-canvas .button-area button {\n    pointer-events: all;\n    margin: 2px;\n    width: 40px;\n    opacity: 0.8;\n    background-color: var(--main-bg-color);\n    border: none;\n    border-radius: 5px;\n    opacity: 0.3;\n}\n\n.video-canvas:hover .button-area button {\n    opacity: 1;\n}\n\n.video-canvas .button-area button:hover {\n    background-color: var(--highlight-bg-color-hover);\n}\n\n.video-canvas .button-area button i svg {\n    width: 100%;\n    height: 100%;\n    fill: var(--main-fg-color);\n    color: var(--main-fg-color);\n}\n\n.video-canvas .button-area button:hover {\n    opacity: 1;\n}\n\n.video-canvas .button-area button.align-left {\n    float: left;\n}\n\n.video-canvas .button-area button.align-right {\n    float: right;\n}\n\n.video-canvas .button-area {\n    padding: 5px;\n}\n\n\n@container button-area (max-width: 200px) {\n    .video-canvas .button-area button {\n        width: 25cqi;\n    }\n}\n\n@container button-area (min-width: 200px) and (max-width: 350px) {\n    .video-canvas .button-area button {\n        width: 45px;\n    }\n}\n\n@container button-area (min-width: 350px) {\n    .video-canvas .button-area button {\n        width: 55px;\n    }\n}\n\n\n\n  "],sourceRoot:""}]);const s=a},7674:(t,e,n)=>{n.d(e,{Z:()=>s});var r=n(7537),o=n.n(r),i=n(3645),a=n.n(i)()(o());a.push([t.id,"\n:root {\n\t--video-container-padding: 0px;\n\t--video-container-gap: 10px;\n}\n\n.video-container {\n    background-color: var(--video-container-background-color);\n    width: 100%;\n    height: 100%;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n\tposition: absolute;\n\ttop: 50%;\n\ttransform: translateY(-50%);\n}\n\n\n.video-container.over-playback-bar {\n\theight: calc(100% - var(--playback-bar-height) - 30px);\n\ttop: 0px;\n\ttransform: none;\n}\n\n.base-video-rect {\n    background-color: var(--base-video-rect-background-color);\n    position: relative;\n}\n\n.base-video-rect.dynamic {\n\tdisplay: flex;\n\tbackground-color: transparent;\n\tgap: var(--video-container-gap);\n\tpadding: var(--video-container-padding);\n\tbox-sizing: border-box;\n\twidth: 100%;\n\theight: 100%;\n}\n\n.base-video-rect.dynamic.portrait {\n\tflex-wrap: wrap;\n\talign-items: center;\n    justify-content: center;\n}\n\n.base-video-rect.dynamic.landscape {\n\tjustify-content: space-around;\n}\n\n.base-video-rect.dynamic {\n\talign-items: center;\n}\n\n.base-video-rect.dynamic.portrait.align-left {\n\tjustify-content: start;\n}\n\n.base-video-rect.dynamic.portrait.align-right {\n\tjustify-content: right;\n}\n\n.base-video-rect.dynamic .landscape-container {\n\tdisplay: flex;\n\twidth: 100%;\n\tjustify-content: space-around;\n}\n\n.base-video-rect.dynamic.align-bottom .landscape-container {\n\talign-items: flex-end;\n}\n\n.base-video-rect.dynamic.align-top .landscape-container {\n\talign-items: flex-start;\n}\n\n.base-video-rect.dynamic.align-center .landscape-container {\n\talign-items: center;\n}\n\n.video-container .button-plugins {\n    position: absolute;\n    top: 10px;\n    height: 40px;\n\tz-index: 100;\n}\n\n.video-container .button-plugins.left-side {\n    left: 10px;\n}\n\n.video-container .button-plugins.right-side {\n    right: 10px;\n}\n\n.video-container .user-area {\n\tposition: absolute;\n    width: 100%;\n    height: 100%;\n    top: 0px;\n    left: 0px;\n    pointer-events: none;\n}\n\n.video-container .button-plugins .button-plugin-container {\n\tdisplay: inline;\n}\n\n.video-container .button-plugins .button-plugin-container button {\n\theight: var(--button-fixed-height);\n\tdisplay: block;\n\tbackground-color: var(--main-bg-color);\n    border-radius: 6px;\n\tborder: none;\n\tfloat: left;\n\tmargin-left: 2px;\n    margin-right: 2px;\n}\n\n.video-container .button-plugins .button-plugin-container button.fixed-width {\n\twidth: var(--button-fixed-width);\n}\n\n.video-container .button-plugins .button-plugin-container button.dynamic-width div.interactive-button-content {\n\tdisplay: flex;\n    justify-content: flex-start;\n    align-items: center;\n    flex-direction: row;\n}\n\n.video-container .button-plugins button.dynamic-width span {\n\tmargin-top: 0px;\n\tcolor: var(--main-fg-color);\n\tpadding-left: 3px;\n\tpadding-right: 3px;\n}\n\n.video-container .button-plugins button:hover {\n\tbackground-color: var(--highlight-bg-color-hover);\n}\n\n.video-container .button-plugins button:active {\n\tbackground-color: var(--main-bg-color-hover);\n}\n\n.video-container .button-plugins button i {\n\tbackground-size: 50% 50%;\n\twidth: 20px;\n\tdisplay: block;\n\tbackground-repeat: no-repeat;\n\tbackground-position: 3px 7px;\n\tmargin-left: 5px;\n}\n\n.video-container .button-plugins button i svg {\n\twidth: 100%;\n    height: 100%;\n    fill: var(--main-fg-color);\n\tcolor: var(--main-fg-color);\n}\n\n\n\n/* non-interactive buttons */\n.video-container .button-plugins .button-plugin-container div.non-interactive {\n\theight: var(--button-fixed-height);\n\tbackground-color: transparent;\n    border-radius: 6px;\n\tborder: none;\n\tfloat: left;\n\tbox-sizing: border-box;\n\tdisplay: flex;\n    align-items: center;\n    justify-content: center;\n\tpointer-events: none;\n}\n\n.video-container .button-plugins .button-plugin-container div.dynamic-width div.non-interactive-button-content {\n\tdisplay: flex;\n    justify-content: flex-start;\n    align-items: center;\n    flex-direction: row;\n}\n\n.video-container .button-plugins .button-plugin-container div.non-interactive.fixed-width {\n\twidth: var(--button-fixed-width);\n}\n\n.video-container .button-plugins div i {\n\tbackground-size: 50% 50%;\n\twidth: 20px;\n\tdisplay: block;\n\tbackground-repeat: no-repeat;\n\tbackground-position: 3px 7px;\n\tmargin-left: auto;\n\tmargin-right: auto;\n}\n\n.video-container .button-plugins div i svg {\n\twidth: 100%;\n    height: 100%;\n    fill: var(--main-fg-color);\n\tcolor: var(--main-fg-color);\n}\n\n.video-container .button-plugins .button-plugin-container div.dynamic-width div.non-interactive-button-content {\n\tdisplay: flex;\n    justify-content: flex-start;\n    align-items: center;\n    flex-direction: row;\n}\n\n.video-container .button-plugins div.non-interactive span {\n\tdisplay: block;\n\ttext-align: center;\n}\n\n.video-container .button-plugins div.no-icon span {\n\tline-height: var(--button-fixed-height);\n    margin-top: 0px;\n\tcolor: var(--main-fg-color);\n}\n\n.video-container .button-plugins div.dynamic-width span {\n\tmargin-top: 0px;\n\tcolor: var(--main-fg-color);\n\tpadding-left: 3px;\n\tpadding-right: 3px;\n}\n\n.video-container .button-plugin-side-area {\n\tdisplay: inline;\n\tcolor: var(--main-fg-color);\n\theight: 40px;\n\tline-height: 40px;\n}","",{version:3,sources:["webpack://./src/css/VideoContainer.css"],names:[],mappings:";AACA;CACC,8BAA8B;CAC9B,2BAA2B;AAC5B;;AAEA;IACI,yDAAyD;IACzD,WAAW;IACX,YAAY;IACZ,aAAa;IACb,mBAAmB;IACnB,uBAAuB;CAC1B,kBAAkB;CAClB,QAAQ;CACR,2BAA2B;AAC5B;;;AAGA;CACC,sDAAsD;CACtD,QAAQ;CACR,eAAe;AAChB;;AAEA;IACI,yDAAyD;IACzD,kBAAkB;AACtB;;AAEA;CACC,aAAa;CACb,6BAA6B;CAC7B,+BAA+B;CAC/B,uCAAuC;CACvC,sBAAsB;CACtB,WAAW;CACX,YAAY;AACb;;AAEA;CACC,eAAe;CACf,mBAAmB;IAChB,uBAAuB;AAC3B;;AAEA;CACC,6BAA6B;AAC9B;;AAEA;CACC,mBAAmB;AACpB;;AAEA;CACC,sBAAsB;AACvB;;AAEA;CACC,sBAAsB;AACvB;;AAEA;CACC,aAAa;CACb,WAAW;CACX,6BAA6B;AAC9B;;AAEA;CACC,qBAAqB;AACtB;;AAEA;CACC,uBAAuB;AACxB;;AAEA;CACC,mBAAmB;AACpB;;AAEA;IACI,kBAAkB;IAClB,SAAS;IACT,YAAY;CACf,YAAY;AACb;;AAEA;IACI,UAAU;AACd;;AAEA;IACI,WAAW;AACf;;AAEA;CACC,kBAAkB;IACf,WAAW;IACX,YAAY;IACZ,QAAQ;IACR,SAAS;IACT,oBAAoB;AACxB;;AAEA;CACC,eAAe;AAChB;;AAEA;CACC,kCAAkC;CAClC,cAAc;CACd,sCAAsC;IACnC,kBAAkB;CACrB,YAAY;CACZ,WAAW;CACX,gBAAgB;IACb,iBAAiB;AACrB;;AAEA;CACC,gCAAgC;AACjC;;AAEA;CACC,aAAa;IACV,2BAA2B;IAC3B,mBAAmB;IACnB,mBAAmB;AACvB;;AAEA;CACC,eAAe;CACf,2BAA2B;CAC3B,iBAAiB;CACjB,kBAAkB;AACnB;;AAEA;CACC,iDAAiD;AAClD;;AAEA;CACC,4CAA4C;AAC7C;;AAEA;CACC,wBAAwB;CACxB,WAAW;CACX,cAAc;CACd,4BAA4B;CAC5B,4BAA4B;CAC5B,gBAAgB;AACjB;;AAEA;CACC,WAAW;IACR,YAAY;IACZ,0BAA0B;CAC7B,2BAA2B;AAC5B;;;;AAIA,4BAA4B;AAC5B;CACC,kCAAkC;CAClC,6BAA6B;IAC1B,kBAAkB;CACrB,YAAY;CACZ,WAAW;CACX,sBAAsB;CACtB,aAAa;IACV,mBAAmB;IACnB,uBAAuB;CAC1B,oBAAoB;AACrB;;AAEA;CACC,aAAa;IACV,2BAA2B;IAC3B,mBAAmB;IACnB,mBAAmB;AACvB;;AAEA;CACC,gCAAgC;AACjC;;AAEA;CACC,wBAAwB;CACxB,WAAW;CACX,cAAc;CACd,4BAA4B;CAC5B,4BAA4B;CAC5B,iBAAiB;CACjB,kBAAkB;AACnB;;AAEA;CACC,WAAW;IACR,YAAY;IACZ,0BAA0B;CAC7B,2BAA2B;AAC5B;;AAEA;CACC,aAAa;IACV,2BAA2B;IAC3B,mBAAmB;IACnB,mBAAmB;AACvB;;AAEA;CACC,cAAc;CACd,kBAAkB;AACnB;;AAEA;CACC,uCAAuC;IACpC,eAAe;CAClB,2BAA2B;AAC5B;;AAEA;CACC,eAAe;CACf,2BAA2B;CAC3B,iBAAiB;CACjB,kBAAkB;AACnB;;AAEA;CACC,eAAe;CACf,2BAA2B;CAC3B,YAAY;CACZ,iBAAiB;AAClB",sourcesContent:["\n:root {\n\t--video-container-padding: 0px;\n\t--video-container-gap: 10px;\n}\n\n.video-container {\n    background-color: var(--video-container-background-color);\n    width: 100%;\n    height: 100%;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n\tposition: absolute;\n\ttop: 50%;\n\ttransform: translateY(-50%);\n}\n\n\n.video-container.over-playback-bar {\n\theight: calc(100% - var(--playback-bar-height) - 30px);\n\ttop: 0px;\n\ttransform: none;\n}\n\n.base-video-rect {\n    background-color: var(--base-video-rect-background-color);\n    position: relative;\n}\n\n.base-video-rect.dynamic {\n\tdisplay: flex;\n\tbackground-color: transparent;\n\tgap: var(--video-container-gap);\n\tpadding: var(--video-container-padding);\n\tbox-sizing: border-box;\n\twidth: 100%;\n\theight: 100%;\n}\n\n.base-video-rect.dynamic.portrait {\n\tflex-wrap: wrap;\n\talign-items: center;\n    justify-content: center;\n}\n\n.base-video-rect.dynamic.landscape {\n\tjustify-content: space-around;\n}\n\n.base-video-rect.dynamic {\n\talign-items: center;\n}\n\n.base-video-rect.dynamic.portrait.align-left {\n\tjustify-content: start;\n}\n\n.base-video-rect.dynamic.portrait.align-right {\n\tjustify-content: right;\n}\n\n.base-video-rect.dynamic .landscape-container {\n\tdisplay: flex;\n\twidth: 100%;\n\tjustify-content: space-around;\n}\n\n.base-video-rect.dynamic.align-bottom .landscape-container {\n\talign-items: flex-end;\n}\n\n.base-video-rect.dynamic.align-top .landscape-container {\n\talign-items: flex-start;\n}\n\n.base-video-rect.dynamic.align-center .landscape-container {\n\talign-items: center;\n}\n\n.video-container .button-plugins {\n    position: absolute;\n    top: 10px;\n    height: 40px;\n\tz-index: 100;\n}\n\n.video-container .button-plugins.left-side {\n    left: 10px;\n}\n\n.video-container .button-plugins.right-side {\n    right: 10px;\n}\n\n.video-container .user-area {\n\tposition: absolute;\n    width: 100%;\n    height: 100%;\n    top: 0px;\n    left: 0px;\n    pointer-events: none;\n}\n\n.video-container .button-plugins .button-plugin-container {\n\tdisplay: inline;\n}\n\n.video-container .button-plugins .button-plugin-container button {\n\theight: var(--button-fixed-height);\n\tdisplay: block;\n\tbackground-color: var(--main-bg-color);\n    border-radius: 6px;\n\tborder: none;\n\tfloat: left;\n\tmargin-left: 2px;\n    margin-right: 2px;\n}\n\n.video-container .button-plugins .button-plugin-container button.fixed-width {\n\twidth: var(--button-fixed-width);\n}\n\n.video-container .button-plugins .button-plugin-container button.dynamic-width div.interactive-button-content {\n\tdisplay: flex;\n    justify-content: flex-start;\n    align-items: center;\n    flex-direction: row;\n}\n\n.video-container .button-plugins button.dynamic-width span {\n\tmargin-top: 0px;\n\tcolor: var(--main-fg-color);\n\tpadding-left: 3px;\n\tpadding-right: 3px;\n}\n\n.video-container .button-plugins button:hover {\n\tbackground-color: var(--highlight-bg-color-hover);\n}\n\n.video-container .button-plugins button:active {\n\tbackground-color: var(--main-bg-color-hover);\n}\n\n.video-container .button-plugins button i {\n\tbackground-size: 50% 50%;\n\twidth: 20px;\n\tdisplay: block;\n\tbackground-repeat: no-repeat;\n\tbackground-position: 3px 7px;\n\tmargin-left: 5px;\n}\n\n.video-container .button-plugins button i svg {\n\twidth: 100%;\n    height: 100%;\n    fill: var(--main-fg-color);\n\tcolor: var(--main-fg-color);\n}\n\n\n\n/* non-interactive buttons */\n.video-container .button-plugins .button-plugin-container div.non-interactive {\n\theight: var(--button-fixed-height);\n\tbackground-color: transparent;\n    border-radius: 6px;\n\tborder: none;\n\tfloat: left;\n\tbox-sizing: border-box;\n\tdisplay: flex;\n    align-items: center;\n    justify-content: center;\n\tpointer-events: none;\n}\n\n.video-container .button-plugins .button-plugin-container div.dynamic-width div.non-interactive-button-content {\n\tdisplay: flex;\n    justify-content: flex-start;\n    align-items: center;\n    flex-direction: row;\n}\n\n.video-container .button-plugins .button-plugin-container div.non-interactive.fixed-width {\n\twidth: var(--button-fixed-width);\n}\n\n.video-container .button-plugins div i {\n\tbackground-size: 50% 50%;\n\twidth: 20px;\n\tdisplay: block;\n\tbackground-repeat: no-repeat;\n\tbackground-position: 3px 7px;\n\tmargin-left: auto;\n\tmargin-right: auto;\n}\n\n.video-container .button-plugins div i svg {\n\twidth: 100%;\n    height: 100%;\n    fill: var(--main-fg-color);\n\tcolor: var(--main-fg-color);\n}\n\n.video-container .button-plugins .button-plugin-container div.dynamic-width div.non-interactive-button-content {\n\tdisplay: flex;\n    justify-content: flex-start;\n    align-items: center;\n    flex-direction: row;\n}\n\n.video-container .button-plugins div.non-interactive span {\n\tdisplay: block;\n\ttext-align: center;\n}\n\n.video-container .button-plugins div.no-icon span {\n\tline-height: var(--button-fixed-height);\n    margin-top: 0px;\n\tcolor: var(--main-fg-color);\n}\n\n.video-container .button-plugins div.dynamic-width span {\n\tmargin-top: 0px;\n\tcolor: var(--main-fg-color);\n\tpadding-left: 3px;\n\tpadding-right: 3px;\n}\n\n.video-container .button-plugin-side-area {\n\tdisplay: inline;\n\tcolor: var(--main-fg-color);\n\theight: 40px;\n\tline-height: 40px;\n}"],sourceRoot:""}]);const s=a},6213:(t,e,n)=>{n.d(e,{Z:()=>s});var r=n(7537),o=n.n(r),i=n(3645),a=n.n(i)()(o());a.push([t.id,":root {\n    --video-container-message-bkg: rgba(0, 0, 0, 0.4);\n    --video-container-message-color: white;\n}\n.video-container-message {\n    display: flex;\n    justify-content: space-around;\n    flex-wrap: wrap;\n    position: absolute;\n    left: 0px;\n    top: 0px;\n    bottom: 0px;\n    right: 0px;\n    padding-top: 1%;\n    pointer-events: none;\n    container-type: size;\n    container-name: video-container-message;\n}\n\n.video-container-message .container {\n    width: 31%;\n    display: flex;\n    flex-wrap: wrap;\n    justify-content: center;\n    align-items: center;\n    height: 30%;\n}\n\n.video-container-message .container .message-content {\n    background-color: var(--video-container-message-bkg);\n    border-radius: 5px;\n    padding-left: 10%;\n    padding-right: 10%;\n    text-align: center;\n    width: 40%;\n}\n\n.video-container-message .container .message-content .text {\n    text-shadow: 0px 0px 3px var(--video-container-message-bkg);\n    color: var(--video-container-message-color);\n    width: 100%;\n}\n\n.video-container-message .container .message-content i {\n    display: inline-block;\n    width: 90%;\n    padding-top: 10%;\n}\n\n.video-container-message .container .message-content i svg {\n    width: 100%;\n    height: 100%;\n    fill: var(--video-container-message-color);\n    color: var(--video-container-message-color);\n}\n\n@container video-container-message (max-width: 700px) {\n    .video-container-message .container .message-content .text {\n        font-size: 1.2em;\n    }\n}\n\n@container video-container-message (min-width: 700px) and (max-width: 1300px) {\n    .video-container-message .container .message-content .text {\n        font-size: 2.0em;\n    }\n}\n\n@container video-container-message (min-width: 1300px) {\n    .video-container-message .container .message-content .text {\n        font-size: 2.3em;\n    }\n}","",{version:3,sources:["webpack://./src/css/VideoContainerMessage.css"],names:[],mappings:"AAAA;IACI,iDAAiD;IACjD,sCAAsC;AAC1C;AACA;IACI,aAAa;IACb,6BAA6B;IAC7B,eAAe;IACf,kBAAkB;IAClB,SAAS;IACT,QAAQ;IACR,WAAW;IACX,UAAU;IACV,eAAe;IACf,oBAAoB;IACpB,oBAAoB;IACpB,uCAAuC;AAC3C;;AAEA;IACI,UAAU;IACV,aAAa;IACb,eAAe;IACf,uBAAuB;IACvB,mBAAmB;IACnB,WAAW;AACf;;AAEA;IACI,oDAAoD;IACpD,kBAAkB;IAClB,iBAAiB;IACjB,kBAAkB;IAClB,kBAAkB;IAClB,UAAU;AACd;;AAEA;IACI,2DAA2D;IAC3D,2CAA2C;IAC3C,WAAW;AACf;;AAEA;IACI,qBAAqB;IACrB,UAAU;IACV,gBAAgB;AACpB;;AAEA;IACI,WAAW;IACX,YAAY;IACZ,0CAA0C;IAC1C,2CAA2C;AAC/C;;AAEA;IACI;QACI,gBAAgB;IACpB;AACJ;;AAEA;IACI;QACI,gBAAgB;IACpB;AACJ;;AAEA;IACI;QACI,gBAAgB;IACpB;AACJ",sourcesContent:[":root {\n    --video-container-message-bkg: rgba(0, 0, 0, 0.4);\n    --video-container-message-color: white;\n}\n.video-container-message {\n    display: flex;\n    justify-content: space-around;\n    flex-wrap: wrap;\n    position: absolute;\n    left: 0px;\n    top: 0px;\n    bottom: 0px;\n    right: 0px;\n    padding-top: 1%;\n    pointer-events: none;\n    container-type: size;\n    container-name: video-container-message;\n}\n\n.video-container-message .container {\n    width: 31%;\n    display: flex;\n    flex-wrap: wrap;\n    justify-content: center;\n    align-items: center;\n    height: 30%;\n}\n\n.video-container-message .container .message-content {\n    background-color: var(--video-container-message-bkg);\n    border-radius: 5px;\n    padding-left: 10%;\n    padding-right: 10%;\n    text-align: center;\n    width: 40%;\n}\n\n.video-container-message .container .message-content .text {\n    text-shadow: 0px 0px 3px var(--video-container-message-bkg);\n    color: var(--video-container-message-color);\n    width: 100%;\n}\n\n.video-container-message .container .message-content i {\n    display: inline-block;\n    width: 90%;\n    padding-top: 10%;\n}\n\n.video-container-message .container .message-content i svg {\n    width: 100%;\n    height: 100%;\n    fill: var(--video-container-message-color);\n    color: var(--video-container-message-color);\n}\n\n@container video-container-message (max-width: 700px) {\n    .video-container-message .container .message-content .text {\n        font-size: 1.2em;\n    }\n}\n\n@container video-container-message (min-width: 700px) and (max-width: 1300px) {\n    .video-container-message .container .message-content .text {\n        font-size: 2.0em;\n    }\n}\n\n@container video-container-message (min-width: 1300px) {\n    .video-container-message .container .message-content .text {\n        font-size: 2.3em;\n    }\n}"],sourceRoot:""}]);const s=a},2323:(t,e,n)=>{n.d(e,{Z:()=>s});var r=n(7537),o=n.n(r),i=n(3645),a=n.n(i)()(o());a.push([t.id,".video-layout-button {\n\tborder: none;\n\tborder-radius: 10%;\n\tbox-shadow: 1px 1px 5px 0px var(rgba(0,0,0,0.8));\n\tbackground-size: 100% 100%;\n\tdisplay: block;\n\tposition: absolute;\n\tbackground-color: var(--main-bg-color-hover);\n\tborder: none;\n\tborder-radius: 5px;\n\tpadding: 0.5%;\n}\n\n.video-layout-button:hover {\n\tbackground-color: var(--highlight-bg-color);\n}\n\n.video-layout-button:active {\n\tbackground-color: var(--highlight-bg-color-hover);\n}\n\n.video-player {\n\tbox-shadow: 2px 2px 4px 0px rgba(90,90,90,0.8);\n}","",{version:3,sources:["webpack://./src/css/VideoLayout.css"],names:[],mappings:"AAAA;CACC,YAAY;CACZ,kBAAkB;CAClB,gDAAgD;CAChD,0BAA0B;CAC1B,cAAc;CACd,kBAAkB;CAClB,4CAA4C;CAC5C,YAAY;CACZ,kBAAkB;CAClB,aAAa;AACd;;AAEA;CACC,2CAA2C;AAC5C;;AAEA;CACC,iDAAiD;AAClD;;AAEA;CACC,8CAA8C;AAC/C",sourcesContent:[".video-layout-button {\n\tborder: none;\n\tborder-radius: 10%;\n\tbox-shadow: 1px 1px 5px 0px var(rgba(0,0,0,0.8));\n\tbackground-size: 100% 100%;\n\tdisplay: block;\n\tposition: absolute;\n\tbackground-color: var(--main-bg-color-hover);\n\tborder: none;\n\tborder-radius: 5px;\n\tpadding: 0.5%;\n}\n\n.video-layout-button:hover {\n\tbackground-color: var(--highlight-bg-color);\n}\n\n.video-layout-button:active {\n\tbackground-color: var(--highlight-bg-color-hover);\n}\n\n.video-player {\n\tbox-shadow: 2px 2px 4px 0px rgba(90,90,90,0.8);\n}"],sourceRoot:""}]);const s=a},7945:(t,e,n)=>{n.d(e,{Z:()=>s});var r=n(7537),o=n.n(r),i=n(3645),a=n.n(i)()(o());a.push([t.id,".player-container {\n    position: relative;\n    overflow: hidden;\n}\n\nsvg {\n    pointer-events: none;\n}\n\nbutton:focus {\n    /*border: 3px solid var(--highlight-bg-color-hover) !important;\n    box-shadow: 0px 0px 7px 0px var(--highlight-bg-color-hover) !important;\n    */\n}\n\n.player-container button,\n.video-container .video-canvas .button-area button,\n.button-group .button-plugin-container button {\n    outline-style: none;\n}\n\n.player-container button:focus-visible,\n.video-container .video-canvas .button-area button:focus-visible,\n.button-group .button-plugin-container button:focus-visible {\n    outline-style: solid;\n    outline-color: var(--main-outline-color);\n    outline-width: 2px;\n}","",{version:3,sources:["webpack://./src/css/base.css"],names:[],mappings:"AAAA;IACI,kBAAkB;IAClB,gBAAgB;AACpB;;AAEA;IACI,oBAAoB;AACxB;;AAEA;IACI;;KAEC;AACL;;AAEA;;;IAGI,mBAAmB;AACvB;;AAEA;;;IAGI,oBAAoB;IACpB,wCAAwC;IACxC,kBAAkB;AACtB",sourcesContent:[".player-container {\n    position: relative;\n    overflow: hidden;\n}\n\nsvg {\n    pointer-events: none;\n}\n\nbutton:focus {\n    /*border: 3px solid var(--highlight-bg-color-hover) !important;\n    box-shadow: 0px 0px 7px 0px var(--highlight-bg-color-hover) !important;\n    */\n}\n\n.player-container button,\n.video-container .video-canvas .button-area button,\n.button-group .button-plugin-container button {\n    outline-style: none;\n}\n\n.player-container button:focus-visible,\n.video-container .video-canvas .button-area button:focus-visible,\n.button-group .button-plugin-container button:focus-visible {\n    outline-style: solid;\n    outline-color: var(--main-outline-color);\n    outline-width: 2px;\n}"],sourceRoot:""}]);const s=a},7136:(t,e,n)=>{n.d(e,{Z:()=>s});var r=n(7537),o=n.n(r),i=n(3645),a=n.n(i)()(o());a.push([t.id,"\n:root {\n    --main-fg-color: white;\n    --main-bg-color: rgba(0,0,0,0.8);\n    --main-bg-color-hover: rgb(0,0,0);\n    --secondary-bg-color: rgb(32,32,32);\n    --secondary-bg-color-hover: rgba(32,32,32,0.8);\n    --highlight-bg-color: #A00;\n    --highlight-bg-color-hover: red;\n    --main-bg-gradient: linear-gradient(0deg, rgba(32,32,32,1) 0%, rgba(32,32,32,0.49531687675070024) 72%, rgba(32,32,32,0.08355217086834732) 100%);\n    --main-border-color: rgba(125,125,125,0.4);\n    --video-container-background-color: #e4e4e4;\n    --base-video-rect-background-color: #8a8a8a;\n    --main-outline-color: var(--highlight-bg-color-hover);\n}\n","",{version:3,sources:["webpack://./src/css/colors.css"],names:[],mappings:";AACA;IACI,sBAAsB;IACtB,gCAAgC;IAChC,iCAAiC;IACjC,mCAAmC;IACnC,8CAA8C;IAC9C,0BAA0B;IAC1B,+BAA+B;IAC/B,+IAA+I;IAC/I,0CAA0C;IAC1C,2CAA2C;IAC3C,2CAA2C;IAC3C,qDAAqD;AACzD",sourcesContent:["\n:root {\n    --main-fg-color: white;\n    --main-bg-color: rgba(0,0,0,0.8);\n    --main-bg-color-hover: rgb(0,0,0);\n    --secondary-bg-color: rgb(32,32,32);\n    --secondary-bg-color-hover: rgba(32,32,32,0.8);\n    --highlight-bg-color: #A00;\n    --highlight-bg-color-hover: red;\n    --main-bg-gradient: linear-gradient(0deg, rgba(32,32,32,1) 0%, rgba(32,32,32,0.49531687675070024) 72%, rgba(32,32,32,0.08355217086834732) 100%);\n    --main-border-color: rgba(125,125,125,0.4);\n    --video-container-background-color: #e4e4e4;\n    --base-video-rect-background-color: #8a8a8a;\n    --main-outline-color: var(--highlight-bg-color-hover);\n}\n"],sourceRoot:""}]);const s=a},7283:(t,e,n)=>{n.d(e,{Z:()=>s});var r=n(7537),o=n.n(r),i=n(3645),a=n.n(i)()(o());a.push([t.id,"/* Button plugins */\n:root {\n\t--button-fixed-width: 40px;\n\t--button-fixed-height: 40px;\n    --button-fixed-width-sm: 40px;\n    --button-fixed-height-sm: 40px;\n    --progress-indicator-height: 10px;\n    --playback-bar-height: calc(var(--button-fixed-height) + var(--progress-indicator-height));\n    --playback-bar-height-sm: calc(var(--button-fixed-height-sm) + var(--progress-indicator-height));\n    --button-icon-size: calc(var(--button-fixed-width) / 2);\n    --button-icon-size-sm: calc(var(--button-fixed-width-sm) / 2);\n\t--progress-indicator-handler-size: 20px;\n    --playback-bar-width: 100%;\n}","",{version:3,sources:["webpack://./src/css/sizes.css"],names:[],mappings:"AAAA,mBAAmB;AACnB;CACC,0BAA0B;CAC1B,2BAA2B;IACxB,6BAA6B;IAC7B,8BAA8B;IAC9B,iCAAiC;IACjC,0FAA0F;IAC1F,gGAAgG;IAChG,uDAAuD;IACvD,6DAA6D;CAChE,uCAAuC;IACpC,0BAA0B;AAC9B",sourcesContent:["/* Button plugins */\n:root {\n\t--button-fixed-width: 40px;\n\t--button-fixed-height: 40px;\n    --button-fixed-width-sm: 40px;\n    --button-fixed-height-sm: 40px;\n    --progress-indicator-height: 10px;\n    --playback-bar-height: calc(var(--button-fixed-height) + var(--progress-indicator-height));\n    --playback-bar-height-sm: calc(var(--button-fixed-height-sm) + var(--progress-indicator-height));\n    --button-icon-size: calc(var(--button-fixed-width) / 2);\n    --button-icon-size-sm: calc(var(--button-fixed-width-sm) / 2);\n\t--progress-indicator-handler-size: 20px;\n    --playback-bar-width: 100%;\n}"],sourceRoot:""}]);const s=a},3645:t=>{t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n="",r=void 0!==e[5];return e[4]&&(n+="@supports (".concat(e[4],") {")),e[2]&&(n+="@media ".concat(e[2]," {")),r&&(n+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),n+=t(e),r&&(n+="}"),e[2]&&(n+="}"),e[4]&&(n+="}"),n})).join("")},e.i=function(t,n,r,o,i){"string"==typeof t&&(t=[[null,t,void 0]]);var a={};if(r)for(var s=0;s<this.length;s++){var u=this[s][0];null!=u&&(a[u]=!0)}for(var c=0;c<t.length;c++){var l=[].concat(t[c]);r&&a[l[0]]||(void 0!==i&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=i),n&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=n):l[2]=n),o&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=o):l[4]="".concat(o)),e.push(l))}},e}},7537:t=>{t.exports=function(t){var e=t[1],n=t[3];if(!n)return e;if("function"==typeof btoa){var r=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),o="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),i="/*# ".concat(o," */");return[e].concat([i]).join("\n")}return[e].join("\n")}},5666:t=>{var e=function(t){var e,n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var i=e&&e.prototype instanceof v?e:v,a=Object.create(i.prototype),s=new P(r||[]);return o(a,"_invoke",{value:k(t,n,s)}),a}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var h="suspendedStart",p="executing",d="completed",y={};function v(){}function g(){}function m(){}var b={};c(b,a,(function(){return this}));var w=Object.getPrototypeOf,A=w&&w(w(T([])));A&&A!==n&&r.call(A,a)&&(b=A);var x=m.prototype=v.prototype=Object.create(b);function C(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function E(t,e){function n(o,i,a,s){var u=f(t[o],t,i);if("throw"!==u.type){var c=u.arg,l=c.value;return l&&"object"==typeof l&&r.call(l,"__await")?e.resolve(l.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(l).then((function(t){c.value=t,a(c)}),(function(t){return n("throw",t,a,s)}))}s(u.arg)}var i;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function k(t,e,n){var r=h;return function(o,i){if(r===p)throw new Error("Generator is already running");if(r===d){if("throw"===o)throw i;return O()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=L(a,n);if(s){if(s===y)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===h)throw r=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=p;var u=f(t,e,n);if("normal"===u.type){if(r=n.done?d:"suspendedYield",u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=d,n.method="throw",n.arg=u.arg)}}}function L(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,L(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var i=f(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,y;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function S(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function T(t){if(t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}return{next:O}}function O(){return{value:e,done:!0}}return g.prototype=m,o(x,"constructor",{value:m,configurable:!0}),o(m,"constructor",{value:g,configurable:!0}),g.displayName=c(m,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,m):(t.__proto__=m,c(t,u,"GeneratorFunction")),t.prototype=Object.create(x),t},t.awrap=function(t){return{__await:t}},C(E.prototype),c(E.prototype,s,(function(){return this})),t.AsyncIterator=E,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new E(l(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},C(x),c(x,u,"Generator"),c(x,a,(function(){return this})),c(x,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=T,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(S),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return s.type="throw",s.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),S(n),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;S(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:T(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}(t.exports);try{regeneratorRuntime=e}catch(t){"object"==typeof globalThis?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}},3379:t=>{var e=[];function n(t){for(var n=-1,r=0;r<e.length;r++)if(e[r].identifier===t){n=r;break}return n}function r(t,r){for(var i={},a=[],s=0;s<t.length;s++){var u=t[s],c=r.base?u[0]+r.base:u[0],l=i[c]||0,f="".concat(c," ").concat(l);i[c]=l+1;var h=n(f),p={css:u[1],media:u[2],sourceMap:u[3],supports:u[4],layer:u[5]};if(-1!==h)e[h].references++,e[h].updater(p);else{var d=o(p,r);r.byIndex=s,e.splice(s,0,{identifier:f,updater:d,references:1})}a.push(f)}return a}function o(t,e){var n=e.domAPI(e);return n.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;n.update(t=e)}else n.remove()}}t.exports=function(t,o){var i=r(t=t||[],o=o||{});return function(t){t=t||[];for(var a=0;a<i.length;a++){var s=n(i[a]);e[s].references--}for(var u=r(t,o),c=0;c<i.length;c++){var l=n(i[c]);0===e[l].references&&(e[l].updater(),e.splice(l,1))}i=u}}},569:t=>{var e={};t.exports=function(t,n){var r=function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}(t);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},9216:t=>{t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},3565:(t,e,n)=>{t.exports=function(t){var e=n.nc;e&&t.setAttribute("nonce",e)}},7795:t=>{t.exports=function(t){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=t.insertStyleElement(t);return{update:function(n){!function(t,e,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var o=void 0!==n.layer;o&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,o&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var i=n.sourceMap;i&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleTagTransform(r,t,e.options)}(e,t,n)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},4589:t=>{t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}},1835:t=>{t.exports='<svg viewBox="0 0 40 40" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;"><g transform="matrix(0.707107,0.707107,-0.707107,0.707107,20,-8.28427)"><path d="M23,17L23,4.998C23,4.203 22.684,3.44 22.122,2.878C21.56,2.316 20.797,2 20.002,2C20.001,2 19.999,2 19.998,2C19.203,2 18.44,2.316 17.878,2.878C17.316,3.44 17,4.203 17,4.998C17,9.375 17,17 17,17L4.998,17C4.203,17 3.44,17.316 2.878,17.878C2.316,18.44 2,19.203 2,19.998C2,19.999 2,20.001 2,20.002C2,20.797 2.316,21.56 2.878,22.122C3.44,22.684 4.203,23 4.998,23C9.375,23 17,23 17,23L17,35.002C17,35.797 17.316,36.56 17.878,37.122C18.44,37.684 19.203,38 19.998,38C19.999,38 20.001,38 20.002,38C20.797,38 21.56,37.684 22.122,37.122C22.684,36.56 23,35.797 23,35.002C23,30.625 23,23 23,23L35.002,23C35.797,23 36.56,22.684 37.122,22.122C37.684,21.56 38,20.797 38,20.002C38,20.001 38,19.999 38,19.998C38,19.203 37.684,18.44 37.122,17.878C36.56,17.316 35.797,17 35.002,17C30.625,17 23,17 23,17Z"></path></g></svg>'},3280:t=>{t.exports='<svg viewBox="0 0 256 256" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;"><g id="Cancel" transform="matrix(5.54545,6.8353e-32,6.8353e-32,5.54545,-2567.37,-10735.5)"><path d="M486.05,1937C498.192,1937 508.05,1946.86 508.05,1959C508.05,1971.14 498.192,1981 486.05,1981C473.908,1981 464.05,1971.14 464.05,1959C464.05,1946.86 473.908,1937 486.05,1937ZM478.979,1950.52L477.565,1951.93L484.636,1959L477.565,1966.07L478.979,1967.49L486.05,1960.41L493.121,1967.49L494.535,1966.07L487.464,1959L494.535,1951.93L493.121,1950.52L486.05,1957.59L478.979,1950.52Z" style="fill:rgb(210,0,0);"></path></g></svg>'},4986:t=>{t.exports='<svg viewBox="0 0 40 40" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;"><g transform="matrix(-0.620305,0,0,0.839332,25.2077,0.462208)"><g transform="matrix(-1.61211,0,0,1.19142,40.6376,-0.550686)"><path d="M38.001,14.89L16.256,14.89C15.767,14.89 15.297,15.084 14.951,15.43C14.605,15.776 14.41,16.246 14.41,16.735C14.41,21.528 14.41,33.999 14.41,33.999L5.673,33.999C3.644,33.999 2,32.355 2,30.327L2,7.673C2,5.644 3.644,4 5.673,4L34.329,4C36.358,4 38.001,5.644 38.001,7.673L38.001,14.89Z"></path></g><g transform="matrix(-1.62701,0,0,1.19712,41.1319,-0.602464)"><path d="M39.174,17.858C39.174,17.501 39.032,17.158 38.781,16.906C38.529,16.653 38.188,16.511 37.833,16.511C33.587,16.511 20.516,16.511 17.043,16.511C16.816,16.511 16.598,16.602 16.438,16.763C16.278,16.924 16.188,17.142 16.188,17.37C16.188,20.366 16.188,30.369 16.188,34.019C16.188,34.376 16.329,34.719 16.581,34.971C16.832,35.224 17.173,35.366 17.529,35.366C21.597,35.366 33.765,35.366 37.833,35.366C38.188,35.366 38.529,35.224 38.781,34.971C39.032,34.719 39.174,34.376 39.174,34.019C39.174,30.548 39.174,21.329 39.174,17.858Z"></path></g></g></svg>'},6300:t=>{t.exports='<svg viewBox="0 0 40 40" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;"><g transform="matrix(-0.620305,0,0,0.839332,25.2077,0.462208)"><g transform="matrix(-1.50139,0,0,1.10483,39.8625,1.72153)"><path d="M22.034,28.802C22.58,28.752 23.089,28.64 23.626,28.496C28.793,27.112 31.864,21.792 30.48,16.625C30.189,15.54 29.715,14.525 29.088,13.619L31.915,8.722C33.663,10.535 34.942,12.776 35.606,15.251C37.748,23.248 32.996,31.48 24.999,33.622C24.011,33.887 23.04,34.063 22.034,34.123L22.034,40.015L13,31.5L22.034,23.015L22.034,28.802Z"></path></g><g transform="matrix(1.50139,1.35303e-16,1.83867e-16,-1.10483,-24.8768,44.5033)"><path d="M22.161,28.786C22.706,28.736 23.089,28.64 23.626,28.496C28.793,27.112 31.864,21.792 30.48,16.625C30.189,15.54 29.715,14.525 29.088,13.619L31.915,8.722C33.663,10.535 34.942,12.776 35.606,15.251C37.748,23.248 32.996,31.48 24.999,33.622C24.011,33.887 23.167,34.048 22.161,34.107L22.161,40L13,31.5L22.161,23L22.161,28.786Z"></path></g></g></svg>'},1042:t=>{t.exports='<svg viewBox="0 0 40 40" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;"><g><path d="M18,13.029L18,26.971C18,27.509 17.786,28.025 17.406,28.406C17.025,28.786 16.509,29 15.971,29L3.029,29C2.491,29 1.975,28.786 1.594,28.406C1.214,28.025 1,27.509 1,26.971L1,13.029C1,12.491 1.214,11.975 1.594,11.594C1.975,11.214 2.491,11 3.029,11L15.971,11C16.509,11 17.025,11.214 17.406,11.594C17.786,11.975 18,12.491 18,13.029ZM39,13.029L39,26.971C39,27.509 38.786,28.025 38.406,28.406C38.025,28.786 37.509,29 36.971,29L24.029,29C23.491,29 22.975,28.786 22.594,28.406C22.214,28.025 22,27.509 22,26.971L22,13.029C22,12.491 22.214,11.975 22.594,11.594C22.975,11.214 23.491,11 24.029,11L36.971,11C37.509,11 38.025,11.214 38.406,11.594C38.786,11.975 39,12.491 39,13.029ZM21,7L21,33L19,33L19,7L21,7Z"></path></g></svg>'},6208:t=>{t.exports='<svg viewBox="0 0 40 40" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;"><g transform="matrix(0.920758,0,0,0.920758,2.50561,1.21236)"><path d="M11.937,17.699L11.937,21.044C11.937,21.656 11.573,22.209 11.012,22.451C10.45,22.693 9.798,22.578 9.354,22.158L1.874,15.1C1.568,14.811 1.394,14.408 1.394,13.986C1.394,13.564 1.568,13.161 1.874,12.872L9.354,5.814C9.798,5.394 10.45,5.279 11.012,5.521C11.573,5.763 11.937,6.316 11.937,6.928L11.937,10.272L22.937,10.272C23.783,10.272 24.469,10.958 24.469,11.804L24.469,16.168C24.469,17.014 23.783,17.699 22.937,17.699L11.937,17.699ZM26.063,23.11L26.063,19.765C26.063,19.153 26.427,18.6 26.988,18.358C27.55,18.116 28.201,18.231 28.646,18.651L36.126,25.709C36.432,25.999 36.606,26.402 36.606,26.823C36.606,27.245 36.432,27.648 36.126,27.937L28.646,34.996C28.201,35.415 27.55,35.53 26.988,35.288C26.427,35.046 26.063,34.493 26.063,33.882L26.063,30.537L15.063,30.537C14.217,30.537 13.531,29.851 13.531,29.005L13.531,24.641C13.531,23.795 14.217,23.11 15.063,23.11L26.063,23.11Z"></path></g></svg>'},1550:t=>{t.exports='<svg viewBox="0 0 40 40" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;"><g transform="matrix(-0.620305,0,0,0.839332,25.2077,0.462208)"><path d="M-20.625,8.591C-20.625,6.174 -17.975,4.215 -14.704,4.215L31.492,4.215C34.763,4.215 37.413,6.174 37.413,8.591L37.413,35.582C37.413,37.998 34.763,39.957 31.492,39.957L-14.704,39.957C-17.975,39.957 -20.625,37.998 -20.625,35.582L-20.625,8.591ZM1.285,12.825L8.1,7.789L-15.786,7.789L-15.786,25.442L-8.972,20.406L6.737,32.016L16.994,24.435L1.285,12.825Z"></path></g></svg>'},8221:t=>{t.exports='<svg viewBox="0 0 40 40" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;"><g transform="matrix(-0.620305,0,0,0.839332,25.2077,0.462208)"><g transform="matrix(-1.61211,0,0,1.25099,40.6376,0.938594)"><path d="M26,18.498C26,16.566 24.356,15 22.327,15C17.811,15 10.189,15 5.673,15C3.644,15 2,16.566 2,18.498C2,22.151 2,27.849 2,31.502C2,33.434 3.644,35 5.673,35C10.189,35 17.811,35 22.327,35C24.356,35 26,33.434 26,31.502C26,27.849 26,22.151 26,18.498Z"></path></g><path d="M-2.889,42.341L-16.002,42.341C-17.664,42.341 -19.01,41.345 -19.01,40.117L-19.01,11.346L-15.787,13.728L-15.787,36.879C-15.787,37.695 -15.348,38.478 -14.567,39.056C-13.785,39.633 -12.726,39.958 -11.621,39.958L-2.889,39.958L-2.889,42.341ZM30.962,18.512L30.962,8.485C30.962,7.669 30.523,6.886 29.741,6.308C28.96,5.731 27.9,5.406 26.795,5.406L-4.721,5.406L-7.945,3.024L31.181,3.024C32.842,3.024 34.189,4.019 34.189,5.247L34.189,18.512L30.962,18.512Z"></path><g transform="matrix(-0.595969,-0.440448,-1.13993,0.842464,17.4661,11.4472)"><path d="M18.389,14.006L18.389,18L5,11L18.389,4L18.389,7.994L36,7.994L36,14.006L18.389,14.006Z"></path></g></g></svg>'},752:t=>{t.exports='<svg viewBox="0 0 24 22" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421;"><g id="pause" transform="matrix(1,0,0,0.956522,-48,-7.65217)"><path d="M64,8L72,8L72,31L64,31L64,8ZM48,8L56,8L56,31L48,31L48,8Z"></path></g></svg>'},5372:t=>{t.exports='<svg viewBox="0 0 23 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421;"><g id="play" transform="matrix(1.36051e-16,0.480277,-0.550439,1.55927e-16,74.9184,-144.269)"><path d="M325.373,94.327L350.358,136.107L300.387,136.107L325.373,94.327Z"></path></g></svg>'},6304:t=>{t.exports='<svg viewBox="0 0 300 300" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;"><rect id="Play" x="0" y="0" width="300" height="300" style="fill:none;"></rect><g id="Play1" serif:id="Play"><g transform="matrix(1.21457,0,0,1.21457,-55.8704,-35.2227)"><circle cx="169.5" cy="152.5" r="123.5" style="fill:rgb(128,128,128);"></circle><path d="M169.5,29C237.662,29 293,84.338 293,152.5C293,220.662 237.662,276 169.5,276C101.338,276 46,220.662 46,152.5C46,84.338 101.338,29 169.5,29ZM169.5,37.233C233.117,37.233 284.767,88.883 284.767,152.5C284.767,216.117 233.117,267.767 169.5,267.767C105.883,267.767 54.233,216.117 54.233,152.5C54.233,88.883 105.883,37.233 169.5,37.233Z" style="fill:rgb(235,235,235);"></path></g><g transform="matrix(6.12323e-17,1,-1,6.12323e-17,347,-59)"><path d="M209,82L317,253L101,253L209,82Z" style="fill:rgb(235,235,235);"></path></g></g></svg>'},9598:t=>{t.exports='<svg viewBox="0 0 256 256" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;"><g transform="matrix(1,0,0,1,3,-3.88857)"><path d="M128,35.819C65.633,35.819 14.999,86.453 14.999,148.82C14.999,163.127 17.663,176.817 22.549,189.403L22.475,189.447C11.612,170.791 5.889,149.588 5.889,128C5.889,60.56 60.56,5.889 128,5.889L128,35.819Z" style="fill:url(#_Linear1);"></path></g><g transform="matrix(-1,1.22465e-16,-1.22465e-16,-1,258,251.914)"><path d="M128,35.819C65.633,35.819 14.999,86.453 14.999,148.82C14.999,163.127 17.663,176.817 22.549,189.403L22.475,189.447C11.612,170.791 5.889,149.588 5.889,128C5.889,60.56 60.56,5.889 128,5.889L128,35.819Z" style="fill:url(#_Linear2);"></path></g><defs><linearGradient id="_Linear1" x1="0" y1="0" x2="1" y2="0" gradientUnits="userSpaceOnUse" gradientTransform="matrix(-89.3028,140.734,-140.734,-89.3028,144.417,48.7125)"><stop offset="0" style="stop-color:rgb(13,13,13);stop-opacity:1"></stop><stop offset="1" style="stop-color:rgb(175,175,175);stop-opacity:0.5"></stop></linearGradient><linearGradient id="_Linear2" x1="0" y1="0" x2="1" y2="0" gradientUnits="userSpaceOnUse" gradientTransform="matrix(-89.3028,140.734,-140.734,-89.3028,144.417,48.7125)"><stop offset="0" style="stop-color:rgb(13,13,13);stop-opacity:1"></stop><stop offset="1" style="stop-color:rgb(175,175,175);stop-opacity:0.5"></stop></linearGradient></defs></svg>'},8903:t=>{t.exports='<svg viewBox="0 0 40 42" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;"><g transform="matrix(1.94013e-16,0.689169,-0.784942,2.23746e-16,110.436,-203.562)"><g id="play"><path d="M304.588,115.214C304.588,105.205 313.901,97.079 325.373,97.079C336.844,97.079 346.157,105.205 346.157,115.214C346.157,125.223 336.844,133.349 325.373,133.349L325.373,128.287C333.642,128.287 340.356,122.43 340.356,115.214C340.356,107.999 333.642,102.141 325.373,102.141C317.103,102.141 310.39,107.999 310.39,115.214L304.588,115.214Z"></path><g transform="matrix(-2.33361,-6.00363e-16,1.21708e-15,-2.59724,320.246,134.358)"><path d="M5.454,3.35L9.398,7.505L1.511,7.505L5.454,3.35Z"></path></g></g></g></svg>'},9998:t=>{t.exports='<svg viewBox="0 0 39 32" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421;"><g transform="matrix(1.43396,0,0,1.57895,-350.104,-74)"><path d="M271,50.995C271,49.065 269.277,47.5 267.152,47.5C267.152,47.5 260.884,46.867 257.75,46.867C254.616,46.867 248.348,47.5 248.348,47.5C246.223,47.5 244.5,49.065 244.5,50.995C244.5,50.995 244.151,55.036 244.151,56.842C244.151,58.843 244.5,63.005 244.5,63.005C244.5,64.935 246.223,66.5 248.348,66.5C248.348,66.5 254.965,67.133 258.099,67.133C261.124,67.133 267.152,66.5 267.152,66.5C269.277,66.5 271,64.935 271,63.005C271,63.005 271.349,59.002 271.349,57C271.349,54.998 271,50.995 271,50.995Z"></path></g></svg>'},9506:t=>{t.exports='<svg viewBox="0 0 34 31" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421;"><g transform="matrix(1,0,0,1,-164.25,-6)"><path d="M184.233,14.077C188.981,14.489 191.571,24.435 184.954,27.208C183.497,27.819 181.723,25.826 183.988,24.902C187.22,23.511 187.697,17.939 183.734,16.5C183.734,16.5 181.944,14.012 184.233,14.077Z" style="fill-rule:nonzero;"></path></g><g transform="matrix(1.79727,0,0,1.79727,-310.137,-22.5434)"><path d="M184.236,14.634C184.819,14.72 184.834,14.837 185.078,14.956C188.213,16.489 189.629,20.834 187.848,23.947C187.088,25.275 185.842,26.312 184.395,26.83C184.395,26.83 184.071,26.925 183.815,26.778C183.217,26.436 183.496,25.849 184.723,25.159C187.985,23.325 187.943,17.417 183.927,15.98C183.927,15.98 182.939,14.544 184.236,14.634Z" style="fill-rule:nonzero;"></path></g><g transform="matrix(2.44245,0,0,2.44245,-427.303,-35.9308)"><path d="M184.199,14.815C184.625,14.866 186.828,16.03 187.775,17.801C189.443,20.92 187.935,25.329 184.388,26.637C184.388,26.637 183.459,26.646 183.677,26.009C183.808,25.624 184.344,25.578 184.77,25.344C187.184,24.016 188.202,20.604 186.8,18.153C186.181,17.07 185.166,16.228 183.988,15.807C183.988,15.807 183.242,14.787 184.199,14.815Z" style="fill-rule:nonzero;"></path></g><g transform="matrix(1,0,0,1,-125,-5)"><path d="M131.499,14L139.68,5C140.961,5 142,6.039 142,7.32L142,31.68C142,32.961 140.961,34 139.68,34L131.499,25L127.375,25C126.063,25 125,23.937 125,22.625L125,16.375C125,15.063 126.063,14 127.375,14L131.499,14Z"></path></g></svg>'},9978:t=>{t.exports='<svg viewBox="0 0 34 31" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421;"><g id="volume-low" serif:id="volume low" transform="matrix(1,0,0,1,-165,-5)"><g><g transform="matrix(1,0,0,1,0.75,-1)"><path d="M184.233,14.077C188.981,14.489 191.571,24.435 184.954,27.208C183.497,27.819 181.723,25.826 183.988,24.902C187.22,23.511 187.697,17.939 183.734,16.5C183.734,16.5 181.944,14.012 184.233,14.077Z" style="fill-rule:nonzero;"></path></g><g transform="matrix(1,0,0,1,40,0)"><path d="M131.499,14L139.68,5C140.961,5 142,6.039 142,7.32L142,31.68C142,32.961 140.961,34 139.68,34L131.499,25L127.375,25C126.063,25 125,23.937 125,22.625L125,16.375C125,15.063 126.063,14 127.375,14L131.499,14Z"></path></g></g></g></svg>'},2704:t=>{t.exports='<svg viewBox="0 0 34 31" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421;"><g id="volume-mid" serif:id="volume mid" transform="matrix(1,0,0,1,-165,-5)"><g><g transform="matrix(1,0,0,1,0.75,-1)"><path d="M184.233,14.077C188.981,14.489 191.571,24.435 184.954,27.208C183.497,27.819 181.723,25.826 183.988,24.902C187.22,23.511 187.697,17.939 183.734,16.5C183.734,16.5 181.944,14.012 184.233,14.077Z" style="fill-rule:nonzero;"></path></g><g transform="matrix(1.79727,0,0,1.79727,-145.137,-17.5434)"><path d="M184.236,14.634C184.819,14.72 184.834,14.837 185.078,14.956C188.213,16.489 189.629,20.834 187.848,23.947C187.088,25.275 185.842,26.312 184.395,26.83C184.395,26.83 184.071,26.925 183.815,26.778C183.217,26.436 183.496,25.849 184.723,25.159C187.985,23.325 187.943,17.417 183.927,15.98C183.927,15.98 182.939,14.544 184.236,14.634Z" style="fill-rule:nonzero;"></path></g><g transform="matrix(1,0,0,1,40,0)"><path d="M131.499,14L139.68,5C140.961,5 142,6.039 142,7.32L142,31.68C142,32.961 140.961,34 139.68,34L131.499,25L127.375,25C126.063,25 125,23.937 125,22.625L125,16.375C125,15.063 126.063,14 127.375,14L131.499,14Z"></path></g></g></g></svg>'},6928:t=>{t.exports='<svg viewBox="0 0 34 31" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421;"><g id="volume-mute" serif:id="volume mute" transform="matrix(1,0,0,1,-123,-4.71142)"><path d="M142,28.522L142,31.68C142,32.961 140.961,34 139.68,34L131.499,25L127.375,25C126.063,25 125,23.937 125,22.625L125,16.375C125,15.063 126.063,14 127.375,14L127.478,14L142,28.522ZM151.228,34.983L123,6.756L125.044,4.711L132.848,12.516L139.68,5C140.961,5 142,6.039 142,7.32L142,21.667L153.272,32.939L151.228,34.983Z"></path></g></svg>'},7456:(t,e,n)=>{var r={"./en-US.json":6263,"./es-ES.json":8992};function o(t){var e=i(t);return n(e)}function i(t){if(!n.o(r,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return r[t]}o.keys=function(){return Object.keys(r)},o.resolve=i,t.exports=o,o.id=7456},3855:(t,e,n)=>{var r={"./es.upv.paella.audioCanvas.js":1993,"./es.upv.paella.testVideoCanvas.js":1425,"./es.upv.paella.videoCanvas.js":6280};function o(t){var e=i(t);return n(e)}function i(t){if(!n.o(r,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return r[t]}o.keys=function(){return Object.keys(r)},o.resolve=i,t.exports=o,o.id=3855},9802:(t,e,n)=>{var r={"./PaellaCoreDataPlugins.js":99,"./es.upv.paella.cookieDataPlugin.js":6016,"./es.upv.paella.localStorageDataPlugin.js":4792};function o(t){var e=i(t);return n(e)}function i(t){if(!n.o(r,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return r[t]}o.keys=function(){return Object.keys(r)},o.resolve=i,t.exports=o,o.id=9802},4803:(t,e,n)=>{var r={"./PaellaCoreLayouts.js":4493,"./es.upv.paella.dualVideo.js":7236,"./es.upv.paella.dualVideoDynamic.js":675,"./es.upv.paella.dualVideoPiP.js":6593,"./es.upv.paella.singleVideo.js":8785,"./es.upv.paella.singleVideoDynamic.js":6126,"./es.upv.paella.tripleVideo.js":2128};function o(t){var e=i(t);return n(e)}function i(t){if(!n.o(r,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return r[t]}o.keys=function(){return Object.keys(r)},o.resolve=i,t.exports=o,o.id=4803},591:(t,e,n)=>{var r={"./PaellaCorePlugins.js":1481,"./es.upv.paella.canvasButtonPluginTest.js":7927,"./es.upv.paella.collisionTestShortucts.js":6384,"./es.upv.paella.defaultShortcuts.js":5026,"./es.upv.paella.dfxpManifestCaptionsPlugin.js":7629,"./es.upv.paella.dynamicWidthButton.js":9911,"./es.upv.paella.nonInteractiveButtonTest.js":4961,"./es.upv.paella.playPauseButton.js":3591,"./es.upv.paella.testButtonGroupPlugin.js":7858,"./es.upv.paella.testCaptionsPlugin.js":2694,"./es.upv.paella.testEventLogPlugin.js":5651,"./es.upv.paella.testFoldableButton.js":3508,"./es.upv.paella.testMenuTitleElement.js":3755,"./es.upv.paella.testPopUp2Button.js":7924,"./es.upv.paella.testPopUpButton.js":9061,"./es.upv.paella.testProgressIndicatorPlugin.js":2786,"./es.upv.paella.testVideoContainerButton.js":8539,"./es.upv.paella.vttManifestCaptionsPlugin.js":6761};function o(t){var e=i(t);return n(e)}function i(t){if(!n.o(r,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return r[t]}o.keys=function(){return Object.keys(r)},o.resolve=i,t.exports=o,o.id=591},6189:(t,e,n)=>{var r={"./PaellaCoreVideoFormats.js":477,"./es.upv.paella.audioVideoFormat.js":6361,"./es.upv.paella.hlsLiveVideoFormat.js":310,"./es.upv.paella.hlsVideoFormat.js":8069,"./es.upv.paella.htmlVideoFormat.js":8755,"./es.upv.paella.imageVideoFormat.js":4348,"./es.upv.paella.mp4VideoFormat.js":2604};function o(t){var e=i(t);return n(e)}function i(t){if(!n.o(r,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return r[t]}o.keys=function(){return Object.keys(r)},o.resolve=i,t.exports=o,o.id=6189},3041:(t,e,n)=>{function r(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}n.d(e,{Z:()=>xi});var o={exports:{}};!function(t,e){var n,r,o,i,a;n=/^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/,r=/^(?=([^\/?#]*))\1([^]*)$/,o=/(?:\/|^)\.(?=\/)/g,i=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,a={buildAbsoluteURL:function(t,e,n){if(n=n||{},t=t.trim(),!(e=e.trim())){if(!n.alwaysNormalize)return t;var o=a.parseURL(t);if(!o)throw new Error("Error trying to parse base URL.");return o.path=a.normalizePath(o.path),a.buildURLFromParts(o)}var i=a.parseURL(e);if(!i)throw new Error("Error trying to parse relative URL.");if(i.scheme)return n.alwaysNormalize?(i.path=a.normalizePath(i.path),a.buildURLFromParts(i)):e;var s=a.parseURL(t);if(!s)throw new Error("Error trying to parse base URL.");if(!s.netLoc&&s.path&&"/"!==s.path[0]){var u=r.exec(s.path);s.netLoc=u[1],s.path=u[2]}s.netLoc&&!s.path&&(s.path="/");var c={scheme:s.scheme,netLoc:i.netLoc,path:null,params:i.params,query:i.query,fragment:i.fragment};if(!i.netLoc&&(c.netLoc=s.netLoc,"/"!==i.path[0]))if(i.path){var l=s.path,f=l.substring(0,l.lastIndexOf("/")+1)+i.path;c.path=a.normalizePath(f)}else c.path=s.path,i.params||(c.params=s.params,i.query||(c.query=s.query));return null===c.path&&(c.path=n.alwaysNormalize?a.normalizePath(i.path):i.path),a.buildURLFromParts(c)},parseURL:function(t){var e=n.exec(t);return e?{scheme:e[1]||"",netLoc:e[2]||"",path:e[3]||"",params:e[4]||"",query:e[5]||"",fragment:e[6]||""}:null},normalizePath:function(t){for(t=t.split("").reverse().join("").replace(o,"");t.length!==(t=t.replace(i,"")).length;);return t.split("").reverse().join("")},buildURLFromParts:function(t){return t.scheme+t.netLoc+t.path+t.params+t.query+t.fragment}},t.exports=a}(o);var i=o.exports;function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach((function(e){u(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function u(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function c(){return c=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c.apply(this,arguments)}const l=Number.isFinite||function(t){return"number"==typeof t&&isFinite(t)};let f=function(t){return t.MEDIA_ATTACHING="hlsMediaAttaching",t.MEDIA_ATTACHED="hlsMediaAttached",t.MEDIA_DETACHING="hlsMediaDetaching",t.MEDIA_DETACHED="hlsMediaDetached",t.BUFFER_RESET="hlsBufferReset",t.BUFFER_CODECS="hlsBufferCodecs",t.BUFFER_CREATED="hlsBufferCreated",t.BUFFER_APPENDING="hlsBufferAppending",t.BUFFER_APPENDED="hlsBufferAppended",t.BUFFER_EOS="hlsBufferEos",t.BUFFER_FLUSHING="hlsBufferFlushing",t.BUFFER_FLUSHED="hlsBufferFlushed",t.MANIFEST_LOADING="hlsManifestLoading",t.MANIFEST_LOADED="hlsManifestLoaded",t.MANIFEST_PARSED="hlsManifestParsed",t.LEVEL_SWITCHING="hlsLevelSwitching",t.LEVEL_SWITCHED="hlsLevelSwitched",t.LEVEL_LOADING="hlsLevelLoading",t.LEVEL_LOADED="hlsLevelLoaded",t.LEVEL_UPDATED="hlsLevelUpdated",t.LEVEL_PTS_UPDATED="hlsLevelPtsUpdated",t.LEVELS_UPDATED="hlsLevelsUpdated",t.AUDIO_TRACKS_UPDATED="hlsAudioTracksUpdated",t.AUDIO_TRACK_SWITCHING="hlsAudioTrackSwitching",t.AUDIO_TRACK_SWITCHED="hlsAudioTrackSwitched",t.AUDIO_TRACK_LOADING="hlsAudioTrackLoading",t.AUDIO_TRACK_LOADED="hlsAudioTrackLoaded",t.SUBTITLE_TRACKS_UPDATED="hlsSubtitleTracksUpdated",t.SUBTITLE_TRACKS_CLEARED="hlsSubtitleTracksCleared",t.SUBTITLE_TRACK_SWITCH="hlsSubtitleTrackSwitch",t.SUBTITLE_TRACK_LOADING="hlsSubtitleTrackLoading",t.SUBTITLE_TRACK_LOADED="hlsSubtitleTrackLoaded",t.SUBTITLE_FRAG_PROCESSED="hlsSubtitleFragProcessed",t.CUES_PARSED="hlsCuesParsed",t.NON_NATIVE_TEXT_TRACKS_FOUND="hlsNonNativeTextTracksFound",t.INIT_PTS_FOUND="hlsInitPtsFound",t.FRAG_LOADING="hlsFragLoading",t.FRAG_LOAD_EMERGENCY_ABORTED="hlsFragLoadEmergencyAborted",t.FRAG_LOADED="hlsFragLoaded",t.FRAG_DECRYPTED="hlsFragDecrypted",t.FRAG_PARSING_INIT_SEGMENT="hlsFragParsingInitSegment",t.FRAG_PARSING_USERDATA="hlsFragParsingUserdata",t.FRAG_PARSING_METADATA="hlsFragParsingMetadata",t.FRAG_PARSED="hlsFragParsed",t.FRAG_BUFFERED="hlsFragBuffered",t.FRAG_CHANGED="hlsFragChanged",t.FPS_DROP="hlsFpsDrop",t.FPS_DROP_LEVEL_CAPPING="hlsFpsDropLevelCapping",t.ERROR="hlsError",t.DESTROYING="hlsDestroying",t.KEY_LOADING="hlsKeyLoading",t.KEY_LOADED="hlsKeyLoaded",t.LIVE_BACK_BUFFER_REACHED="hlsLiveBackBufferReached",t.BACK_BUFFER_REACHED="hlsBackBufferReached",t}({}),h=function(t){return t.NETWORK_ERROR="networkError",t.MEDIA_ERROR="mediaError",t.KEY_SYSTEM_ERROR="keySystemError",t.MUX_ERROR="muxError",t.OTHER_ERROR="otherError",t}({}),p=function(t){return t.KEY_SYSTEM_NO_KEYS="keySystemNoKeys",t.KEY_SYSTEM_NO_ACCESS="keySystemNoAccess",t.KEY_SYSTEM_NO_SESSION="keySystemNoSession",t.KEY_SYSTEM_NO_CONFIGURED_LICENSE="keySystemNoConfiguredLicense",t.KEY_SYSTEM_LICENSE_REQUEST_FAILED="keySystemLicenseRequestFailed",t.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED="keySystemServerCertificateRequestFailed",t.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED="keySystemServerCertificateUpdateFailed",t.KEY_SYSTEM_SESSION_UPDATE_FAILED="keySystemSessionUpdateFailed",t.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED="keySystemStatusOutputRestricted",t.KEY_SYSTEM_STATUS_INTERNAL_ERROR="keySystemStatusInternalError",t.MANIFEST_LOAD_ERROR="manifestLoadError",t.MANIFEST_LOAD_TIMEOUT="manifestLoadTimeOut",t.MANIFEST_PARSING_ERROR="manifestParsingError",t.MANIFEST_INCOMPATIBLE_CODECS_ERROR="manifestIncompatibleCodecsError",t.LEVEL_EMPTY_ERROR="levelEmptyError",t.LEVEL_LOAD_ERROR="levelLoadError",t.LEVEL_LOAD_TIMEOUT="levelLoadTimeOut",t.LEVEL_PARSING_ERROR="levelParsingError",t.LEVEL_SWITCH_ERROR="levelSwitchError",t.AUDIO_TRACK_LOAD_ERROR="audioTrackLoadError",t.AUDIO_TRACK_LOAD_TIMEOUT="audioTrackLoadTimeOut",t.SUBTITLE_LOAD_ERROR="subtitleTrackLoadError",t.SUBTITLE_TRACK_LOAD_TIMEOUT="subtitleTrackLoadTimeOut",t.FRAG_LOAD_ERROR="fragLoadError",t.FRAG_LOAD_TIMEOUT="fragLoadTimeOut",t.FRAG_DECRYPT_ERROR="fragDecryptError",t.FRAG_PARSING_ERROR="fragParsingError",t.FRAG_GAP="fragGap",t.REMUX_ALLOC_ERROR="remuxAllocError",t.KEY_LOAD_ERROR="keyLoadError",t.KEY_LOAD_TIMEOUT="keyLoadTimeOut",t.BUFFER_ADD_CODEC_ERROR="bufferAddCodecError",t.BUFFER_INCOMPATIBLE_CODECS_ERROR="bufferIncompatibleCodecsError",t.BUFFER_APPEND_ERROR="bufferAppendError",t.BUFFER_APPENDING_ERROR="bufferAppendingError",t.BUFFER_STALLED_ERROR="bufferStalledError",t.BUFFER_FULL_ERROR="bufferFullError",t.BUFFER_SEEK_OVER_HOLE="bufferSeekOverHole",t.BUFFER_NUDGE_ON_STALL="bufferNudgeOnStall",t.INTERNAL_EXCEPTION="internalException",t.INTERNAL_ABORTED="aborted",t.UNKNOWN="unknown",t}({});const d=function(){},y={trace:d,debug:d,log:d,warn:d,info:d,error:d};let v=y;function g(t,...e){e.forEach((function(e){v[e]=t[e]?t[e].bind(t):function(t){const e=self.console[t];return e?e.bind(self.console,`[${t}] >`):d}(e)}))}const m=v,b=/^(\d+)x(\d+)$/,w=/(.+?)=(".*?"|.*?)(?:,|$)/g;class A{constructor(t){"string"==typeof t&&(t=A.parseAttrList(t));for(const e in t)t.hasOwnProperty(e)&&("X-"===e.substring(0,2)&&(this.clientAttrs=this.clientAttrs||[],this.clientAttrs.push(e)),this[e]=t[e])}decimalInteger(t){const e=parseInt(this[t],10);return e>Number.MAX_SAFE_INTEGER?1/0:e}hexadecimalInteger(t){if(this[t]){let e=(this[t]||"0x").slice(2);e=(1&e.length?"0":"")+e;const n=new Uint8Array(e.length/2);for(let t=0;t<e.length/2;t++)n[t]=parseInt(e.slice(2*t,2*t+2),16);return n}return null}hexadecimalIntegerAsNumber(t){const e=parseInt(this[t],16);return e>Number.MAX_SAFE_INTEGER?1/0:e}decimalFloatingPoint(t){return parseFloat(this[t])}optionalFloat(t,e){const n=this[t];return n?parseFloat(n):e}enumeratedString(t){return this[t]}bool(t){return"YES"===this[t]}decimalResolution(t){const e=b.exec(this[t]);if(null!==e)return{width:parseInt(e[1],10),height:parseInt(e[2],10)}}static parseAttrList(t){let e;const n={};for(w.lastIndex=0;null!==(e=w.exec(t));){let t=e[2];0===t.indexOf('"')&&t.lastIndexOf('"')===t.length-1&&(t=t.slice(1,-1)),n[e[1].trim()]=t}return n}}function x(t){return"SCTE35-OUT"===t||"SCTE35-IN"===t}class C{constructor(t,e){if(this.attr=void 0,this._startDate=void 0,this._endDate=void 0,this._badValueForSameId=void 0,e){const n=e.attr;for(const e in n)if(Object.prototype.hasOwnProperty.call(t,e)&&t[e]!==n[e]){m.warn(`DATERANGE tag attribute: "${e}" does not match for tags with ID: "${t.ID}"`),this._badValueForSameId=e;break}t=c(new A({}),n,t)}if(this.attr=t,this._startDate=new Date(t["START-DATE"]),"END-DATE"in this.attr){const t=new Date(this.attr["END-DATE"]);l(t.getTime())&&(this._endDate=t)}}get id(){return this.attr.ID}get class(){return this.attr.CLASS}get startDate(){return this._startDate}get endDate(){if(this._endDate)return this._endDate;const t=this.duration;return null!==t?new Date(this._startDate.getTime()+1e3*t):null}get duration(){if("DURATION"in this.attr){const t=this.attr.decimalFloatingPoint("DURATION");if(l(t))return t}else if(this._endDate)return(this._endDate.getTime()-this._startDate.getTime())/1e3;return null}get plannedDuration(){return"PLANNED-DURATION"in this.attr?this.attr.decimalFloatingPoint("PLANNED-DURATION"):null}get endOnNext(){return this.attr.bool("END-ON-NEXT")}get isValid(){return!!this.id&&!this._badValueForSameId&&l(this.startDate.getTime())&&(null===this.duration||this.duration>=0)&&(!this.endOnNext||!!this.class)}}class E{constructor(){this.aborted=!1,this.loaded=0,this.retry=0,this.total=0,this.chunkCount=0,this.bwEstimate=0,this.loading={start:0,first:0,end:0},this.parsing={start:0,end:0},this.buffering={start:0,first:0,end:0}}}var k="audio",L="video",_="audiovideo";class S{constructor(t){this._byteRange=null,this._url=null,this.baseurl=void 0,this.relurl=void 0,this.elementaryStreams={[k]:null,[L]:null,[_]:null},this.baseurl=t}setByteRange(t,e){const n=t.split("@",2),r=[];1===n.length?r[0]=e?e.byteRangeEndOffset:0:r[0]=parseInt(n[1]),r[1]=parseInt(n[0])+r[0],this._byteRange=r}get byteRange(){return this._byteRange?this._byteRange:[]}get byteRangeStartOffset(){return this.byteRange[0]}get byteRangeEndOffset(){return this.byteRange[1]}get url(){return!this._url&&this.baseurl&&this.relurl&&(this._url=i.buildAbsoluteURL(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url||""}set url(t){this._url=t}}class P extends S{constructor(t,e){super(e),this._decryptdata=null,this.rawProgramDateTime=null,this.programDateTime=null,this.tagList=[],this.duration=0,this.sn=0,this.levelkeys=void 0,this.type=void 0,this.loader=null,this.keyLoader=null,this.level=-1,this.cc=0,this.startPTS=void 0,this.endPTS=void 0,this.startDTS=void 0,this.endDTS=void 0,this.start=0,this.deltaPTS=void 0,this.maxStartPTS=void 0,this.minEndPTS=void 0,this.stats=new E,this.urlId=0,this.data=void 0,this.bitrateTest=!1,this.title=null,this.initSegment=null,this.endList=void 0,this.gap=void 0,this.type=t}get decryptdata(){const{levelkeys:t}=this;if(!t&&!this._decryptdata)return null;if(!this._decryptdata&&this.levelkeys&&!this.levelkeys.NONE){const t=this.levelkeys.identity;if(t)this._decryptdata=t.getDecryptData(this.sn);else{const t=Object.keys(this.levelkeys);if(1===t.length)return this._decryptdata=this.levelkeys[t[0]].getDecryptData(this.sn)}}return this._decryptdata}get end(){return this.start+this.duration}get endProgramDateTime(){if(null===this.programDateTime)return null;if(!l(this.programDateTime))return null;const t=l(this.duration)?this.duration:0;return this.programDateTime+1e3*t}get encrypted(){var t;if(null!=(t=this._decryptdata)&&t.encrypted)return!0;if(this.levelkeys){const t=Object.keys(this.levelkeys),e=t.length;if(e>1||1===e&&this.levelkeys[t[0]].encrypted)return!0}return!1}setKeyFormat(t){if(this.levelkeys){const e=this.levelkeys[t];e&&!this._decryptdata&&(this._decryptdata=e.getDecryptData(this.sn))}}abortRequests(){var t,e;null==(t=this.loader)||t.abort(),null==(e=this.keyLoader)||e.abort()}setElementaryStreamInfo(t,e,n,r,o,i=!1){const{elementaryStreams:a}=this,s=a[t];s?(s.startPTS=Math.min(s.startPTS,e),s.endPTS=Math.max(s.endPTS,n),s.startDTS=Math.min(s.startDTS,r),s.endDTS=Math.max(s.endDTS,o)):a[t]={startPTS:e,endPTS:n,startDTS:r,endDTS:o,partial:i}}clearElementaryStreamInfo(){const{elementaryStreams:t}=this;t[k]=null,t[L]=null,t[_]=null}}class T extends S{constructor(t,e,n,r,o){super(n),this.fragOffset=0,this.duration=0,this.gap=!1,this.independent=!1,this.relurl=void 0,this.fragment=void 0,this.index=void 0,this.stats=new E,this.duration=t.decimalFloatingPoint("DURATION"),this.gap=t.bool("GAP"),this.independent=t.bool("INDEPENDENT"),this.relurl=t.enumeratedString("URI"),this.fragment=e,this.index=r;const i=t.enumeratedString("BYTERANGE");i&&this.setByteRange(i,o),o&&(this.fragOffset=o.fragOffset+o.duration)}get start(){return this.fragment.start+this.fragOffset}get end(){return this.start+this.duration}get loaded(){const{elementaryStreams:t}=this;return!!(t.audio||t.video||t.audiovideo)}}class O{constructor(t){this.PTSKnown=!1,this.alignedSliding=!1,this.averagetargetduration=void 0,this.endCC=0,this.endSN=0,this.fragments=void 0,this.fragmentHint=void 0,this.partList=null,this.dateRanges=void 0,this.live=!0,this.ageHeader=0,this.advancedDateTime=void 0,this.updated=!0,this.advanced=!0,this.availabilityDelay=void 0,this.misses=0,this.startCC=0,this.startSN=0,this.startTimeOffset=null,this.targetduration=0,this.totalduration=0,this.type=null,this.url=void 0,this.m3u8="",this.version=null,this.canBlockReload=!1,this.canSkipUntil=0,this.canSkipDateRanges=!1,this.skippedSegments=0,this.recentlyRemovedDateranges=void 0,this.partHoldBack=0,this.holdBack=0,this.partTarget=0,this.preloadHint=void 0,this.renditionReports=void 0,this.tuneInGoal=0,this.deltaUpdateFailed=void 0,this.driftStartTime=0,this.driftEndTime=0,this.driftStart=0,this.driftEnd=0,this.encryptedFragments=void 0,this.playlistParsingError=null,this.variableList=null,this.hasVariableRefs=!1,this.fragments=[],this.encryptedFragments=[],this.dateRanges={},this.url=t}reloaded(t){if(!t)return this.advanced=!0,void(this.updated=!0);const e=this.lastPartSn-t.lastPartSn,n=this.lastPartIndex-t.lastPartIndex;this.updated=this.endSN!==t.endSN||!!n||!!e,this.advanced=this.endSN>t.endSN||e>0||0===e&&n>0,this.updated||this.advanced?this.misses=Math.floor(.6*t.misses):this.misses=t.misses+1,this.availabilityDelay=t.availabilityDelay}get hasProgramDateTime(){return!!this.fragments.length&&l(this.fragments[this.fragments.length-1].programDateTime)}get levelTargetDuration(){return this.averagetargetduration||this.targetduration||10}get drift(){const t=this.driftEndTime-this.driftStartTime;return t>0?1e3*(this.driftEnd-this.driftStart)/t:1}get edge(){return this.partEnd||this.fragmentEnd}get partEnd(){var t;return null!=(t=this.partList)&&t.length?this.partList[this.partList.length-1].end:this.fragmentEnd}get fragmentEnd(){var t;return null!=(t=this.fragments)&&t.length?this.fragments[this.fragments.length-1].end:0}get age(){return this.advancedDateTime?Math.max(Date.now()-this.advancedDateTime,0)/1e3:0}get lastPartIndex(){var t;return null!=(t=this.partList)&&t.length?this.partList[this.partList.length-1].index:-1}get lastPartSn(){var t;return null!=(t=this.partList)&&t.length?this.partList[this.partList.length-1].fragment.sn:this.endSN}}function R(t){return Uint8Array.from(atob(t),(t=>t.charCodeAt(0)))}function I(t){const e=t.split(":");let n=null;if("data"===e[0]&&2===e.length){const t=e[1].split(";"),r=t[t.length-1].split(",");if(2===r.length){const e="base64"===r[0],o=r[1];e?(t.splice(-1,1),n=R(o)):n=function(t){const e=j(t).subarray(0,16),n=new Uint8Array(16);return n.set(e,16-e.length),n}(o)}}return n}function j(t){return Uint8Array.from(unescape(encodeURIComponent(t)),(t=>t.charCodeAt(0)))}var D={CLEARKEY:"org.w3.clearkey",FAIRPLAY:"com.apple.fps",PLAYREADY:"com.microsoft.playready",WIDEVINE:"com.widevine.alpha"},B="org.w3.clearkey",N="com.apple.streamingkeydelivery",M="com.microsoft.playready",F="urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed";function U(t){switch(t){case N:return D.FAIRPLAY;case M:return D.PLAYREADY;case F:return D.WIDEVINE;case B:return D.CLEARKEY}}var G="edef8ba979d64acea3c827dcd51d21ed";function V(t){switch(t){case D.FAIRPLAY:return N;case D.PLAYREADY:return M;case D.WIDEVINE:return F;case D.CLEARKEY:return B}}function $(t){const{drmSystems:e,widevineLicenseUrl:n}=t,r=e?[D.FAIRPLAY,D.WIDEVINE,D.PLAYREADY,D.CLEARKEY].filter((t=>!!e[t])):[];return!r[D.WIDEVINE]&&n&&r.push(D.WIDEVINE),r}const Z="undefined"!=typeof self&&self.navigator&&self.navigator.requestMediaKeySystemAccess?self.navigator.requestMediaKeySystemAccess.bind(self.navigator):null;function z(t,e,n){return Uint8Array.prototype.slice?t.slice(e,n):new Uint8Array(Array.prototype.slice.call(t,e,n))}const H=(t,e)=>e+10<=t.length&&73===t[e]&&68===t[e+1]&&51===t[e+2]&&t[e+3]<255&&t[e+4]<255&&t[e+6]<128&&t[e+7]<128&&t[e+8]<128&&t[e+9]<128,Y=(t,e)=>e+10<=t.length&&51===t[e]&&68===t[e+1]&&73===t[e+2]&&t[e+3]<255&&t[e+4]<255&&t[e+6]<128&&t[e+7]<128&&t[e+8]<128&&t[e+9]<128,K=(t,e)=>{const n=e;let r=0;for(;H(t,e);)r+=10,r+=W(t,e+6),Y(t,e+10)&&(r+=10),e+=r;if(r>0)return t.subarray(n,n+r)},W=(t,e)=>{let n=0;return n=(127&t[e])<<21,n|=(127&t[e+1])<<14,n|=(127&t[e+2])<<7,n|=127&t[e+3],n},q=(t,e)=>H(t,e)&&W(t,e+6)+10<=t.length-e,X=t=>t&&"PRIV"===t.key&&"com.apple.streaming.transportStreamTimestamp"===t.info,Q=t=>{const e=String.fromCharCode(t[0],t[1],t[2],t[3]),n=W(t,4);return{type:e,size:n,data:t.subarray(10,10+n)}},J=t=>{let e=0;const n=[];for(;H(t,e);){const r=W(t,e+6);e+=10;const o=e+r;for(;e+8<o;){const r=Q(t.subarray(e)),o=tt(r);o&&n.push(o),e+=r.size+10}Y(t,e)&&(e+=10)}return n},tt=t=>"PRIV"===t.type?et(t):"W"===t.type[0]?rt(t):nt(t),et=t=>{if(t.size<2)return;const e=it(t.data,!0),n=new Uint8Array(t.data.subarray(e.length+1));return{key:t.type,info:e,data:n.buffer}},nt=t=>{if(t.size<2)return;if("TXXX"===t.type){let e=1;const n=it(t.data.subarray(e),!0);e+=n.length+1;const r=it(t.data.subarray(e));return{key:t.type,info:n,data:r}}const e=it(t.data.subarray(1));return{key:t.type,data:e}},rt=t=>{if("WXXX"===t.type){if(t.size<2)return;let e=1;const n=it(t.data.subarray(e),!0);e+=n.length+1;const r=it(t.data.subarray(e));return{key:t.type,info:n,data:r}}const e=it(t.data);return{key:t.type,data:e}},ot=t=>{if(8===t.data.byteLength){const e=new Uint8Array(t.data),n=1&e[3];let r=(e[4]<<23)+(e[5]<<15)+(e[6]<<7)+e[7];return r/=45,n&&(r+=47721858.84),Math.round(r)}},it=(t,e=!1)=>{const n=st();if(n){const r=n.decode(t);if(e){const t=r.indexOf("\0");return-1!==t?r.substring(0,t):r}return r.replace(/\0/g,"")}const r=t.length;let o,i,a,s="",u=0;for(;u<r;){if(o=t[u++],0===o&&e)return s;if(0!==o&&3!==o)switch(o>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:s+=String.fromCharCode(o);break;case 12:case 13:i=t[u++],s+=String.fromCharCode((31&o)<<6|63&i);break;case 14:i=t[u++],a=t[u++],s+=String.fromCharCode((15&o)<<12|(63&i)<<6|(63&a)<<0)}}return s};let at;function st(){return at||void 0===self.TextDecoder||(at=new self.TextDecoder("utf-8")),at}const ut=function(t){let e="";for(let n=0;n<t.length;n++){let r=t[n].toString(16);r.length<2&&(r="0"+r),e+=r}return e},ct=Math.pow(2,32)-1,lt=[].push,ft={video:1,audio:2,id3:3,text:4};function ht(t){return String.fromCharCode.apply(null,t)}function pt(t,e){const n=t[e]<<8|t[e+1];return n<0?65536+n:n}function dt(t,e){const n=yt(t,e);return n<0?4294967296+n:n}function yt(t,e){return t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]}function vt(t,e,n){t[e]=n>>24,t[e+1]=n>>16&255,t[e+2]=n>>8&255,t[e+3]=255&n}function gt(t,e){const n=[];if(!e.length)return n;const r=t.byteLength;for(let o=0;o<r;){const i=dt(t,o),a=i>1?o+i:r;if(ht(t.subarray(o+4,o+8))===e[0])if(1===e.length)n.push(t.subarray(o+8,a));else{const r=gt(t.subarray(o+8,a),e.slice(1));r.length&&lt.apply(n,r)}o=a}return n}function mt(t){const e=[],n=t[0];let r=8;const o=dt(t,r);r+=4,r+=0===n?8:16,r+=2;let i=t.length+0;const a=pt(t,r);r+=2;for(let n=0;n<a;n++){let n=r;const a=dt(t,n);n+=4;const s=2147483647&a;if(1==(2147483648&a)>>>31)return m.warn("SIDX has hierarchical references (not supported)"),null;const u=dt(t,n);n+=4,e.push({referenceSize:s,subsegmentDuration:u,info:{duration:u/o,start:i,end:i+s-1}}),i+=s,n+=4,r=n}return{earliestPresentationTime:0,timescale:o,version:n,referencesCount:a,references:e}}function bt(t){const e=[],n=gt(t,["moov","trak"]);for(let t=0;t<n.length;t++){const r=n[t],o=gt(r,["tkhd"])[0];if(o){let t=o[0],n=0===t?12:20;const i=dt(o,n),a=gt(r,["mdia","mdhd"])[0];if(a){t=a[0],n=0===t?12:20;const o=dt(a,n),s=gt(r,["mdia","hdlr"])[0];if(s){const t=ht(s.subarray(8,12)),n={soun:k,vide:L}[t];if(n){const t=gt(r,["mdia","minf","stbl","stsd"])[0];let a;t&&(a=ht(t.subarray(12,16))),e[i]={timescale:o,type:n},e[n]={timescale:o,id:i,codec:a}}}}}}return gt(t,["moov","mvex","trex"]).forEach((t=>{const n=dt(t,4),r=e[n];r&&(r.default={duration:dt(t,12),flags:dt(t,20)})})),e}function wt(t){const e=gt(t,["schm"])[0];if(e){const n=ht(e.subarray(4,8));if("cbcs"===n||"cenc"===n)return gt(t,["schi","tenc"])[0]}return m.error("[eme] missing 'schm' box"),null}function At(t){const e=dt(t,0);let n=8;1&e&&(n+=4),4&e&&(n+=4);let r=0;const o=dt(t,4);for(let i=0;i<o;i++)256&e&&(r+=dt(t,n),n+=4),512&e&&(n+=4),1024&e&&(n+=4),2048&e&&(n+=4);return r}function xt(t,e){const n=new Uint8Array(t.length+e.length);return n.set(t),n.set(e,t.length),n}function Ct(t,e){const n=[],r=e.samples,o=e.timescale,i=e.id;let a=!1;return gt(r,["moof"]).map((s=>{const u=s.byteOffset-8;gt(s,["traf"]).map((s=>{const c=gt(s,["tfdt"]).map((t=>{const e=t[0];let n=dt(t,4);return 1===e&&(n*=Math.pow(2,32),n+=dt(t,8)),n/o}))[0];return void 0!==c&&(t=c),gt(s,["tfhd"]).map((c=>{const l=dt(c,4),f=16777215&dt(c,0);let h=0;const p=0!=(16&f);let d=0;const y=0!=(32&f);let v=8;l===i&&(0!=(1&f)&&(v+=8),0!=(2&f)&&(v+=4),0!=(8&f)&&(h=dt(c,v),v+=4),p&&(d=dt(c,v),v+=4),y&&(v+=4),"video"===e.type&&(a=function(t){if(!t)return!1;const e=t.indexOf("."),n=e<0?t:t.substring(0,e);return"hvc1"===n||"hev1"===n||"dvh1"===n||"dvhe"===n}(e.codec)),gt(s,["trun"]).map((i=>{const s=i[0],c=16777215&dt(i,0),l=0!=(1&c);let f=0;const p=0!=(4&c),y=0!=(256&c);let v=0;const g=0!=(512&c);let m=0;const b=0!=(1024&c),w=0!=(2048&c);let A=0;const x=dt(i,4);let C=8;l&&(f=dt(i,C),C+=4),p&&(C+=4);let E=f+u;for(let u=0;u<x;u++){if(y?(v=dt(i,C),C+=4):v=h,g?(m=dt(i,C),C+=4):m=d,b&&(C+=4),w&&(A=0===s?dt(i,C):yt(i,C),C+=4),e.type===L){let e=0;for(;e<m;){const i=dt(r,E);E+=4,Et(a,r[E])&&kt(r.subarray(E,E+i),a?2:1,t+A/o,n),E+=i,e+=i+4}}t+=v/o}})))}))}))})),n}function Et(t,e){if(t){const t=e>>1&63;return 39===t||40===t}return 6==(31&e)}function kt(t,e,n,r){const o=Lt(t);let i=0;i+=e;let a=0,s=0,u=!1,c=0;for(;i<o.length;){a=0;do{if(i>=o.length)break;c=o[i++],a+=c}while(255===c);s=0;do{if(i>=o.length)break;c=o[i++],s+=c}while(255===c);const t=o.length-i;if(!u&&4===a&&i<o.length){if(u=!0,181===o[i++]){const t=pt(o,i);if(i+=2,49===t){const t=dt(o,i);if(i+=4,1195456820===t){const t=o[i++];if(3===t){const e=o[i++],s=31&e,u=64&e,c=u?2+3*s:0,l=new Uint8Array(c);if(u){l[0]=e;for(let t=1;t<c;t++)l[t]=o[i++]}r.push({type:t,payloadType:a,pts:n,bytes:l})}}}}}else if(5===a&&s<t){if(u=!0,s>16){const t=[];for(let e=0;e<16;e++){const n=o[i++].toString(16);t.push(1==n.length?"0"+n:n),3!==e&&5!==e&&7!==e&&9!==e||t.push("-")}const e=s-16,u=new Uint8Array(e);for(let t=0;t<e;t++)u[t]=o[i++];r.push({payloadType:a,pts:n,uuid:t.join(""),userData:it(u),userDataBytes:u})}}else if(s<t)i+=s;else if(s>t)break}}function Lt(t){const e=t.byteLength,n=[];let r=1;for(;r<e-2;)0===t[r]&&0===t[r+1]&&3===t[r+2]?(n.push(r+2),r+=2):r++;if(0===n.length)return t;const o=e-n.length,i=new Uint8Array(o);let a=0;for(r=0;r<o;a++,r++)a===n[0]&&(a++,n.shift()),i[r]=t[a];return i}function _t(t,e,n){if(16!==t.byteLength)throw new RangeError("Invalid system id");let r,o,i;if(e){r=1,o=new Uint8Array(16*e.length);for(let t=0;t<e.length;t++){const n=e[t];if(16!==n.byteLength)throw new RangeError("Invalid key");o.set(n,16*t)}}else r=0,o=new Uint8Array;r>0?(i=new Uint8Array(4),e.length>0&&new DataView(i.buffer).setUint32(0,e.length,!1)):i=new Uint8Array;const a=new Uint8Array(4);return n&&n.byteLength>0&&new DataView(a.buffer).setUint32(0,n.byteLength,!1),function(t,...e){const n=e.length;let r=8,o=n;for(;o--;)r+=e[o].byteLength;const i=new Uint8Array(r);for(i[0]=r>>24&255,i[1]=r>>16&255,i[2]=r>>8&255,i[3]=255&r,i.set(t,4),o=0,r=8;o<n;o++)i.set(e[o],r),r+=e[o].byteLength;return i}([112,115,115,104],new Uint8Array([r,0,0,0]),t,i,o,a,n||new Uint8Array)}let St={};class Pt{static clearKeyUriToKeyIdMap(){St={}}constructor(t,e,n,r=[1],o=null){this.uri=void 0,this.method=void 0,this.keyFormat=void 0,this.keyFormatVersions=void 0,this.encrypted=void 0,this.isCommonEncryption=void 0,this.iv=null,this.key=null,this.keyId=null,this.pssh=null,this.method=t,this.uri=e,this.keyFormat=n,this.keyFormatVersions=r,this.iv=o,this.encrypted=!!t&&"NONE"!==t,this.isCommonEncryption=this.encrypted&&"AES-128"!==t}isSupported(){if(this.method){if("AES-128"===this.method||"NONE"===this.method)return!0;if("identity"===this.keyFormat)return"SAMPLE-AES"===this.method;switch(this.keyFormat){case N:case F:case M:case B:return-1!==["ISO-23001-7","SAMPLE-AES","SAMPLE-AES-CENC","SAMPLE-AES-CTR"].indexOf(this.method)}}return!1}getDecryptData(t){if(!this.encrypted||!this.uri)return null;if("AES-128"===this.method&&this.uri&&!this.iv){"number"!=typeof t&&("AES-128"!==this.method||this.iv||m.warn(`missing IV for initialization segment with method="${this.method}" - compliance issue`),t=0);const e=function(t){const e=new Uint8Array(16);for(let n=12;n<16;n++)e[n]=t>>8*(15-n)&255;return e}(t);return new Pt(this.method,this.uri,"identity",this.keyFormatVersions,e)}const e=I(this.uri);if(e)switch(this.keyFormat){case F:this.pssh=e,e.length>=22&&(this.keyId=e.subarray(e.length-22,e.length-6));break;case M:{const t=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]);this.pssh=_t(t,null,e);const n=new Uint16Array(e.buffer,e.byteOffset,e.byteLength/2),r=String.fromCharCode.apply(null,Array.from(n)),o=r.substring(r.indexOf("<"),r.length),i=(new DOMParser).parseFromString(o,"text/xml").getElementsByTagName("KID")[0];if(i){const t=i.childNodes[0]?i.childNodes[0].nodeValue:i.getAttribute("VALUE");if(t){const e=R(t).subarray(0,16);!function(t){const e=function(t,e,n){const r=t[e];t[e]=t[n],t[n]=r};e(t,0,3),e(t,1,2),e(t,4,5),e(t,6,7)}(e),this.keyId=e}}break}default:{let t=e.subarray(0,16);if(16!==t.length){const e=new Uint8Array(16);e.set(t,16-t.length),t=e}this.keyId=t;break}}if(!this.keyId||16!==this.keyId.byteLength){let t=St[this.uri];if(!t){const e=Object.keys(St).length%Number.MAX_SAFE_INTEGER;t=new Uint8Array(16),new DataView(t.buffer,12,4).setUint32(0,e),St[this.uri]=t}this.keyId=t}return this}}const Tt=/\{\$([a-zA-Z0-9-_]+)\}/g;function Ot(t){return Tt.test(t)}function Rt(t,e,n){if(null!==t.variableList||t.hasVariableRefs)for(let r=n.length;r--;){const o=n[r],i=e[o];i&&(e[o]=It(t,i))}}function It(t,e){if(null!==t.variableList||t.hasVariableRefs){const n=t.variableList;return e.replace(Tt,(e=>{const r=e.substring(2,e.length-1),o=null==n?void 0:n[r];return void 0===o?(t.playlistParsingError||(t.playlistParsingError=new Error(`Missing preceding EXT-X-DEFINE tag for Variable Reference: "${r}"`)),e):o}))}return e}function jt(t,e,n){let r,o,i=t.variableList;if(i||(t.variableList=i={}),"QUERYPARAM"in e){r=e.QUERYPARAM;try{const t=new self.URL(n).searchParams;if(!t.has(r))throw new Error(`"${r}" does not match any query parameter in URI: "${n}"`);o=t.get(r)}catch(e){t.playlistParsingError||(t.playlistParsingError=new Error(`EXT-X-DEFINE QUERYPARAM: ${e.message}`))}}else r=e.NAME,o=e.VALUE;r in i?t.playlistParsingError||(t.playlistParsingError=new Error(`EXT-X-DEFINE duplicate Variable Name declarations: "${r}"`)):i[r]=o||""}function Dt(t,e,n){const r=e.IMPORT;if(n&&r in n){let e=t.variableList;e||(t.variableList=e={}),e[r]=n[r]}else t.playlistParsingError||(t.playlistParsingError=new Error(`EXT-X-DEFINE IMPORT attribute not found in Multivariant Playlist: "${r}"`))}function Bt(){if("undefined"!=typeof self)return self.MediaSource||self.WebKitMediaSource}const Nt={audio:{a3ds:!0,"ac-3":!0,"ac-4":!0,alac:!0,alaw:!0,dra1:!0,"dts+":!0,"dts-":!0,dtsc:!0,dtse:!0,dtsh:!0,"ec-3":!0,enca:!0,g719:!0,g726:!0,m4ae:!0,mha1:!0,mha2:!0,mhm1:!0,mhm2:!0,mlpa:!0,mp4a:!0,"raw ":!0,Opus:!0,opus:!0,samr:!0,sawb:!0,sawp:!0,sevc:!0,sqcp:!0,ssmv:!0,twos:!0,ulaw:!0},video:{avc1:!0,avc2:!0,avc3:!0,avc4:!0,avcp:!0,av01:!0,drac:!0,dva1:!0,dvav:!0,dvh1:!0,dvhe:!0,encv:!0,hev1:!0,hvc1:!0,mjp2:!0,mp4v:!0,mvc1:!0,mvc2:!0,mvc3:!0,mvc4:!0,resv:!0,rv60:!0,s263:!0,svc1:!0,svc2:!0,"vc-1":!0,vp08:!0,vp09:!0},text:{stpp:!0,wvtt:!0}},Mt=Bt();function Ft(t,e){var n;return null!=(n=null==Mt?void 0:Mt.isTypeSupported(`${e||"video"}/mp4;codecs="${t}"`))&&n}const Ut=/#EXT-X-STREAM-INF:([^\r\n]*)(?:[\r\n](?:#[^\r\n]*)?)*([^\r\n]+)|#EXT-X-(SESSION-DATA|SESSION-KEY|DEFINE|CONTENT-STEERING|START):([^\r\n]*)[\r\n]+/g,Gt=/#EXT-X-MEDIA:(.*)/g,Vt=/^#EXT(?:INF|-X-TARGETDURATION):/m,$t=new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/(?!#) *(\S[\S ]*)/.source,/#EXT-X-BYTERANGE:*(.+)/.source,/#EXT-X-PROGRAM-DATE-TIME:(.+)/.source,/#.*/.source].join("|"),"g"),Zt=new RegExp([/#(EXTM3U)/.source,/#EXT-X-(DATERANGE|DEFINE|KEY|MAP|PART|PART-INF|PLAYLIST-TYPE|PRELOAD-HINT|RENDITION-REPORT|SERVER-CONTROL|SKIP|START):(.+)/.source,/#EXT-X-(BITRATE|DISCONTINUITY-SEQUENCE|MEDIA-SEQUENCE|TARGETDURATION|VERSION): *(\d+)/.source,/#EXT-X-(DISCONTINUITY|ENDLIST|GAP)/.source,/(#)([^:]*):(.*)/.source,/(#)(.*)(?:.*)\r?\n?/.source].join("|"));class zt{static findGroup(t,e){for(let n=0;n<t.length;n++){const r=t[n];if(r.id===e)return r}}static convertAVC1ToAVCOTI(t){const e=t.split(".");if(e.length>2){let t=e.shift()+".";return t+=parseInt(e.shift()).toString(16),t+=("000"+parseInt(e.shift()).toString(16)).slice(-4),t}return t}static resolve(t,e){return i.buildAbsoluteURL(e,t,{alwaysNormalize:!0})}static isMediaPlaylist(t){return Vt.test(t)}static parseMasterPlaylist(t,e){const n={contentSteering:null,levels:[],playlistParsingError:null,sessionData:null,sessionKeys:null,startTimeOffset:null,variableList:null,hasVariableRefs:Ot(t)},r=[];let o;for(Ut.lastIndex=0;null!=(o=Ut.exec(t));)if(o[1]){var i;const t=new A(o[1]);Rt(n,t,["CODECS","SUPPLEMENTAL-CODECS","ALLOWED-CPC","PATHWAY-ID","STABLE-VARIANT-ID","AUDIO","VIDEO","SUBTITLES","CLOSED-CAPTIONS","NAME"]);const a=It(n,o[2]),s={attrs:t,bitrate:t.decimalInteger("AVERAGE-BANDWIDTH")||t.decimalInteger("BANDWIDTH"),name:t.NAME,url:zt.resolve(a,e)},u=t.decimalResolution("RESOLUTION");u&&(s.width=u.width,s.height=u.height),Kt((t.CODECS||"").split(/[ ,]+/).filter((t=>t)),s),s.videoCodec&&-1!==s.videoCodec.indexOf("avc1")&&(s.videoCodec=zt.convertAVC1ToAVCOTI(s.videoCodec)),null!=(i=s.unknownCodecs)&&i.length||r.push(s),n.levels.push(s)}else if(o[3]){const t=o[3],r=o[4];switch(t){case"SESSION-DATA":{const t=new A(r);Rt(n,t,["DATA-ID","LANGUAGE","VALUE","URI"]);const e=t["DATA-ID"];e&&(null===n.sessionData&&(n.sessionData={}),n.sessionData[e]=t);break}case"SESSION-KEY":{const t=Ht(r,e,n);t.encrypted&&t.isSupported()?(null===n.sessionKeys&&(n.sessionKeys=[]),n.sessionKeys.push(t)):m.warn(`[Keys] Ignoring invalid EXT-X-SESSION-KEY tag: "${r}"`);break}case"DEFINE":{const t=new A(r);Rt(n,t,["NAME","VALUE","QUERYPARAM"]),jt(n,t,e)}break;case"CONTENT-STEERING":{const t=new A(r);Rt(n,t,["SERVER-URI","PATHWAY-ID"]),n.contentSteering={uri:zt.resolve(t["SERVER-URI"],e),pathwayId:t["PATHWAY-ID"]||"."};break}case"START":n.startTimeOffset=Yt(r)}}const a=r.length>0&&r.length<n.levels.length;return n.levels=a?r:n.levels,0===n.levels.length&&(n.playlistParsingError=new Error("no levels found in manifest")),n}static parseMasterPlaylistMedia(t,e,n){let r;const o={},i=n.levels,a={AUDIO:i.map((t=>({id:t.attrs.AUDIO,audioCodec:t.audioCodec}))),SUBTITLES:i.map((t=>({id:t.attrs.SUBTITLES,textCodec:t.textCodec}))),"CLOSED-CAPTIONS":[]};let s=0;for(Gt.lastIndex=0;null!==(r=Gt.exec(t));){const t=new A(r[1]),i=t.TYPE;if(i){const r=a[i],u=o[i]||[];o[i]=u,Rt(n,t,["URI","GROUP-ID","LANGUAGE","ASSOC-LANGUAGE","STABLE-RENDITION-ID","NAME","INSTREAM-ID","CHARACTERISTICS","CHANNELS"]);const c={attrs:t,bitrate:0,id:s++,groupId:t["GROUP-ID"]||"",instreamId:t["INSTREAM-ID"],name:t.NAME||t.LANGUAGE||"",type:i,default:t.bool("DEFAULT"),autoselect:t.bool("AUTOSELECT"),forced:t.bool("FORCED"),lang:t.LANGUAGE,url:t.URI?zt.resolve(t.URI,e):""};if(null!=r&&r.length){const t=zt.findGroup(r,c.groupId)||r[0];Wt(c,t,"audioCodec"),Wt(c,t,"textCodec")}u.push(c)}}return o}static parseLevelPlaylist(t,e,n,r,o,i){const a=new O(e),s=a.fragments;let u,f,h,p=null,d=0,y=0,v=0,g=0,b=null,w=new P(r,e),x=-1,E=!1;for($t.lastIndex=0,a.m3u8=t,a.hasVariableRefs=Ot(t);null!==(u=$t.exec(t));){E&&(E=!1,w=new P(r,e),w.start=v,w.sn=d,w.cc=g,w.level=n,p&&(w.initSegment=p,w.rawProgramDateTime=p.rawProgramDateTime,p.rawProgramDateTime=null));const t=u[1];if(t){w.duration=parseFloat(t);const e=(" "+u[2]).slice(1);w.title=e||null,w.tagList.push(e?["INF",t,e]:["INF",t])}else if(u[3]){if(l(w.duration)){w.start=v,h&&Qt(w,h,a),w.sn=d,w.level=n,w.cc=g,w.urlId=o,s.push(w);const t=(" "+u[3]).slice(1);w.relurl=It(a,t),qt(w,b),b=w,v+=w.duration,d++,y=0,E=!0}}else if(u[4]){const t=(" "+u[4]).slice(1);b?w.setByteRange(t,b):w.setByteRange(t)}else if(u[5])w.rawProgramDateTime=(" "+u[5]).slice(1),w.tagList.push(["PROGRAM-DATE-TIME",w.rawProgramDateTime]),-1===x&&(x=s.length);else{if(u=u[0].match(Zt),!u){m.warn("No matches on slow regex match for level playlist!");continue}for(f=1;f<u.length&&void 0===u[f];f++);const t=(" "+u[f]).slice(1),o=(" "+u[f+1]).slice(1),v=u[f+2]?(" "+u[f+2]).slice(1):"";switch(t){case"PLAYLIST-TYPE":a.type=o.toUpperCase();break;case"MEDIA-SEQUENCE":d=a.startSN=parseInt(o);break;case"SKIP":{const t=new A(o);Rt(a,t,["RECENTLY-REMOVED-DATERANGES"]);const e=t.decimalInteger("SKIPPED-SEGMENTS");if(l(e)){a.skippedSegments=e;for(let t=e;t--;)s.unshift(null);d+=e}const n=t.enumeratedString("RECENTLY-REMOVED-DATERANGES");n&&(a.recentlyRemovedDateranges=n.split("\t"));break}case"TARGETDURATION":a.targetduration=Math.max(parseInt(o),1);break;case"VERSION":a.version=parseInt(o);break;case"EXTM3U":break;case"ENDLIST":a.live=!1;break;case"#":(o||v)&&w.tagList.push(v?[o,v]:[o]);break;case"DISCONTINUITY":g++,w.tagList.push(["DIS"]);break;case"GAP":w.gap=!0,w.tagList.push([t]);break;case"BITRATE":w.tagList.push([t,o]);break;case"DATERANGE":{const t=new A(o);Rt(a,t,["ID","CLASS","START-DATE","END-DATE","SCTE35-CMD","SCTE35-OUT","SCTE35-IN"]),Rt(a,t,t.clientAttrs);const e=new C(t,a.dateRanges[t.ID]);e.isValid||a.skippedSegments?a.dateRanges[e.id]=e:m.warn(`Ignoring invalid DATERANGE tag: "${o}"`),w.tagList.push(["EXT-X-DATERANGE",o]);break}case"DEFINE":{const t=new A(o);Rt(a,t,["NAME","VALUE","IMPORT","QUERYPARAM"]),"IMPORT"in t?Dt(a,t,i):jt(a,t,e)}break;case"DISCONTINUITY-SEQUENCE":g=parseInt(o);break;case"KEY":{const t=Ht(o,e,a);if(t.isSupported()){if("NONE"===t.method){h=void 0;break}h||(h={}),h[t.keyFormat]&&(h=c({},h)),h[t.keyFormat]=t}else m.warn(`[Keys] Ignoring invalid EXT-X-KEY tag: "${o}"`);break}case"START":a.startTimeOffset=Yt(o);break;case"MAP":{const t=new A(o);if(Rt(a,t,["BYTERANGE","URI"]),w.duration){const o=new P(r,e);Xt(o,t,n,h),p=o,w.initSegment=p,p.rawProgramDateTime&&!w.rawProgramDateTime&&(w.rawProgramDateTime=p.rawProgramDateTime)}else Xt(w,t,n,h),p=w,E=!0;break}case"SERVER-CONTROL":{const t=new A(o);a.canBlockReload=t.bool("CAN-BLOCK-RELOAD"),a.canSkipUntil=t.optionalFloat("CAN-SKIP-UNTIL",0),a.canSkipDateRanges=a.canSkipUntil>0&&t.bool("CAN-SKIP-DATERANGES"),a.partHoldBack=t.optionalFloat("PART-HOLD-BACK",0),a.holdBack=t.optionalFloat("HOLD-BACK",0);break}case"PART-INF":{const t=new A(o);a.partTarget=t.decimalFloatingPoint("PART-TARGET");break}case"PART":{let t=a.partList;t||(t=a.partList=[]);const n=y>0?t[t.length-1]:void 0,r=y++,i=new A(o);Rt(a,i,["BYTERANGE","URI"]);const s=new T(i,w,e,r,n);t.push(s),w.duration+=s.duration;break}case"PRELOAD-HINT":{const t=new A(o);Rt(a,t,["URI"]),a.preloadHint=t;break}case"RENDITION-REPORT":{const t=new A(o);Rt(a,t,["URI"]),a.renditionReports=a.renditionReports||[],a.renditionReports.push(t);break}default:m.warn(`line parsed but not handled: ${u}`)}}}b&&!b.relurl?(s.pop(),v-=b.duration,a.partList&&(a.fragmentHint=b)):a.partList&&(qt(w,b),w.cc=g,a.fragmentHint=w,h&&Qt(w,h,a));const k=s.length,L=s[0],_=s[k-1];if(v+=a.skippedSegments*a.targetduration,v>0&&k&&_){a.averagetargetduration=v/k;const t=_.sn;a.endSN="initSegment"!==t?t:0,a.live||(_.endList=!0),L&&(a.startCC=L.cc)}else a.endSN=0,a.startCC=0;return a.fragmentHint&&(v+=a.fragmentHint.duration),a.totalduration=v,a.endCC=g,x>0&&function(t,e){let n=t[e];for(let r=e;r--;){const e=t[r];if(!e)return;e.programDateTime=n.programDateTime-1e3*e.duration,n=e}}(s,x),a}}function Ht(t,e,n){var r,o;const i=new A(t);Rt(n,i,["KEYFORMAT","KEYFORMATVERSIONS","URI","IV","URI"]);const a=null!=(r=i.METHOD)?r:"",s=i.URI,u=i.hexadecimalInteger("IV"),c=i.KEYFORMATVERSIONS,l=null!=(o=i.KEYFORMAT)?o:"identity";s&&i.IV&&!u&&m.error(`Invalid IV: ${i.IV}`);const f=s?zt.resolve(s,e):"",h=(c||"1").split("/").map(Number).filter(Number.isFinite);return new Pt(a,f,l,h,u)}function Yt(t){const e=new A(t).decimalFloatingPoint("TIME-OFFSET");return l(e)?e:null}function Kt(t,e){["video","audio","text"].forEach((n=>{const r=t.filter((t=>function(t,e){const n=Nt[e];return!!n&&!0===n[t.slice(0,4)]}(t,n)));if(r.length){const o=r.filter((t=>0===t.lastIndexOf("avc1",0)||0===t.lastIndexOf("mp4a",0)));e[`${n}Codec`]=o.length>0?o[0]:r[0],t=t.filter((t=>-1===r.indexOf(t)))}})),e.unknownCodecs=t}function Wt(t,e,n){const r=e[n];r&&(t[n]=r)}function qt(t,e){t.rawProgramDateTime?t.programDateTime=Date.parse(t.rawProgramDateTime):null!=e&&e.programDateTime&&(t.programDateTime=e.endProgramDateTime),l(t.programDateTime)||(t.programDateTime=null,t.rawProgramDateTime=null)}function Xt(t,e,n,r){t.relurl=e.URI,e.BYTERANGE&&t.setByteRange(e.BYTERANGE),t.level=n,t.sn="initSegment",r&&(t.levelkeys=r),t.initSegment=null}function Qt(t,e,n){t.levelkeys=e;const{encryptedFragments:r}=n;r.length&&r[r.length-1].levelkeys===e||!Object.keys(e).some((t=>e[t].isCommonEncryption))||r.push(t)}var Jt="manifest",te="level",ee="audioTrack",ne="subtitleTrack",re="main",oe="audio",ie="subtitle";function ae(t){const{type:e}=t;switch(e){case ee:return oe;case ne:return ie;default:return re}}function se(t,e){let n=t.url;return void 0!==n&&0!==n.indexOf("data:")||(n=e.url),n}class ue{constructor(t){this.hls=void 0,this.loaders=Object.create(null),this.variableList=null,this.hls=t,this.registerListeners()}startLoad(t){}stopLoad(){this.destroyInternalLoaders()}registerListeners(){const{hls:t}=this;t.on(f.MANIFEST_LOADING,this.onManifestLoading,this),t.on(f.LEVEL_LOADING,this.onLevelLoading,this),t.on(f.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),t.on(f.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)}unregisterListeners(){const{hls:t}=this;t.off(f.MANIFEST_LOADING,this.onManifestLoading,this),t.off(f.LEVEL_LOADING,this.onLevelLoading,this),t.off(f.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),t.off(f.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)}createInternalLoader(t){const e=this.hls.config,n=e.pLoader,r=e.loader,o=new(n||r)(e);return this.loaders[t.type]=o,o}getInternalLoader(t){return this.loaders[t.type]}resetInternalLoader(t){this.loaders[t]&&delete this.loaders[t]}destroyInternalLoaders(){for(const t in this.loaders){const e=this.loaders[t];e&&e.destroy(),this.resetInternalLoader(t)}}destroy(){this.variableList=null,this.unregisterListeners(),this.destroyInternalLoaders()}onManifestLoading(t,e){const{url:n}=e;this.variableList=null,this.load({id:null,level:0,responseType:"text",type:Jt,url:n,deliveryDirectives:null})}onLevelLoading(t,e){const{id:n,level:r,url:o,deliveryDirectives:i}=e;this.load({id:n,level:r,responseType:"text",type:te,url:o,deliveryDirectives:i})}onAudioTrackLoading(t,e){const{id:n,groupId:r,url:o,deliveryDirectives:i}=e;this.load({id:n,groupId:r,level:null,responseType:"text",type:ee,url:o,deliveryDirectives:i})}onSubtitleTrackLoading(t,e){const{id:n,groupId:r,url:o,deliveryDirectives:i}=e;this.load({id:n,groupId:r,level:null,responseType:"text",type:ne,url:o,deliveryDirectives:i})}load(t){var e;const n=this.hls.config;let r,o=this.getInternalLoader(t);if(o){const e=o.context;if(e&&e.url===t.url)return void m.trace("[playlist-loader]: playlist request ongoing");m.log(`[playlist-loader]: aborting previous loader for type: ${t.type}`),o.abort()}if(r=t.type===Jt?n.manifestLoadPolicy.default:c({},n.playlistLoadPolicy.default,{timeoutRetry:null,errorRetry:null}),o=this.createInternalLoader(t),null!=(e=t.deliveryDirectives)&&e.part){let e;if(t.type===te&&null!==t.level?e=this.hls.levels[t.level].details:t.type===ee&&null!==t.id?e=this.hls.audioTracks[t.id].details:t.type===ne&&null!==t.id&&(e=this.hls.subtitleTracks[t.id].details),e){const t=e.partTarget,n=e.targetduration;if(t&&n){const e=1e3*Math.max(3*t,.8*n);r=c({},r,{maxTimeToFirstByteMs:Math.min(e,r.maxTimeToFirstByteMs),maxLoadTimeMs:Math.min(e,r.maxTimeToFirstByteMs)})}}}const i=r.errorRetry||r.timeoutRetry||{},a={loadPolicy:r,timeout:r.maxLoadTimeMs,maxRetry:i.maxNumRetry||0,retryDelay:i.retryDelayMs||0,maxRetryDelay:i.maxRetryDelayMs||0},s={onSuccess:(t,e,n,r)=>{const o=this.getInternalLoader(n);this.resetInternalLoader(n.type);const i=t.data;0===i.indexOf("#EXTM3U")?(e.parsing.start=performance.now(),zt.isMediaPlaylist(i)?this.handleTrackOrLevelPlaylist(t,e,n,r||null,o):this.handleMasterPlaylist(t,e,n,r)):this.handleManifestParsingError(t,n,new Error("no EXTM3U delimiter"),r||null,e)},onError:(t,e,n,r)=>{this.handleNetworkError(e,n,!1,t,r)},onTimeout:(t,e,n)=>{this.handleNetworkError(e,n,!0,void 0,t)}};o.load(t,a,s)}handleMasterPlaylist(t,e,n,r){const o=this.hls,i=t.data,a=se(t,n),s=zt.parseMasterPlaylist(i,a);if(s.playlistParsingError)return void this.handleManifestParsingError(t,n,s.playlistParsingError,r,e);const{contentSteering:u,levels:c,sessionData:l,sessionKeys:h,startTimeOffset:p,variableList:d}=s;this.variableList=d;const{AUDIO:y=[],SUBTITLES:v,"CLOSED-CAPTIONS":g}=zt.parseMasterPlaylistMedia(i,a,s);y.length&&(y.some((t=>!t.url))||!c[0].audioCodec||c[0].attrs.AUDIO||(m.log("[playlist-loader]: audio codec signaled in quality level, but no embedded audio track signaled, create one"),y.unshift({type:"main",name:"main",groupId:"main",default:!1,autoselect:!1,forced:!1,id:-1,attrs:new A({}),bitrate:0,url:""}))),o.trigger(f.MANIFEST_LOADED,{levels:c,audioTracks:y,subtitles:v,captions:g,contentSteering:u,url:a,stats:e,networkDetails:r,sessionData:l,sessionKeys:h,startTimeOffset:p,variableList:d})}handleTrackOrLevelPlaylist(t,e,n,r,o){const i=this.hls,{id:a,level:s,type:u}=n,c=se(t,n),h=l(a)?a:0,p=l(s)?s:h,d=ae(n),y=zt.parseLevelPlaylist(t.data,c,p,d,h,this.variableList);if(u===Jt){const t={attrs:new A({}),bitrate:0,details:y,name:"",url:c};i.trigger(f.MANIFEST_LOADED,{levels:[t],audioTracks:[],url:c,stats:e,networkDetails:r,sessionData:null,sessionKeys:null,contentSteering:null,startTimeOffset:null,variableList:null})}e.parsing.end=performance.now(),n.levelDetails=y,this.handlePlaylistLoaded(y,t,e,n,r,o)}handleManifestParsingError(t,e,n,r,o){this.hls.trigger(f.ERROR,{type:h.NETWORK_ERROR,details:p.MANIFEST_PARSING_ERROR,fatal:e.type===Jt,url:t.url,err:n,error:n,reason:n.message,response:t,context:e,networkDetails:r,stats:o})}handleNetworkError(t,e,n=!1,r,o){let i=`A network ${n?"timeout":"error"+(r?" (status "+r.code+")":"")} occurred while loading ${t.type}`;t.type===te?i+=`: ${t.level} id: ${t.id}`:t.type!==ee&&t.type!==ne||(i+=` id: ${t.id} group-id: "${t.groupId}"`);const a=new Error(i);m.warn(`[playlist-loader]: ${i}`);let u=p.UNKNOWN,c=!1;const l=this.getInternalLoader(t);switch(t.type){case Jt:u=n?p.MANIFEST_LOAD_TIMEOUT:p.MANIFEST_LOAD_ERROR,c=!0;break;case te:u=n?p.LEVEL_LOAD_TIMEOUT:p.LEVEL_LOAD_ERROR,c=!1;break;case ee:u=n?p.AUDIO_TRACK_LOAD_TIMEOUT:p.AUDIO_TRACK_LOAD_ERROR,c=!1;break;case ne:u=n?p.SUBTITLE_TRACK_LOAD_TIMEOUT:p.SUBTITLE_LOAD_ERROR,c=!1}l&&this.resetInternalLoader(t.type);const d={type:h.NETWORK_ERROR,details:u,fatal:c,url:t.url,loader:l,context:t,error:a,networkDetails:e,stats:o};if(r){const n=(null==e?void 0:e.url)||t.url;d.response=s({url:n,data:void 0},r)}this.hls.trigger(f.ERROR,d)}handlePlaylistLoaded(t,e,n,r,o,i){const a=this.hls,{type:s,level:u,id:c,groupId:l,deliveryDirectives:d}=r,y=se(e,r),v=ae(r),g="number"==typeof r.level&&v===re?u:void 0;if(!t.fragments.length){const t=new Error("No Segments found in Playlist");return void a.trigger(f.ERROR,{type:h.NETWORK_ERROR,details:p.LEVEL_EMPTY_ERROR,fatal:!1,url:y,error:t,reason:t.message,response:e,context:r,level:g,parent:v,networkDetails:o,stats:n})}t.targetduration||(t.playlistParsingError=new Error("Missing Target Duration"));const m=t.playlistParsingError;if(m)a.trigger(f.ERROR,{type:h.NETWORK_ERROR,details:p.LEVEL_PARSING_ERROR,fatal:!1,url:y,error:m,reason:m.message,response:e,context:r,level:g,parent:v,networkDetails:o,stats:n});else switch(t.live&&i&&(i.getCacheAge&&(t.ageHeader=i.getCacheAge()||0),i.getCacheAge&&!isNaN(t.ageHeader)||(t.ageHeader=0)),s){case Jt:case te:a.trigger(f.LEVEL_LOADED,{details:t,level:g||0,id:c||0,stats:n,networkDetails:o,deliveryDirectives:d});break;case ee:a.trigger(f.AUDIO_TRACK_LOADED,{details:t,id:c||0,groupId:l||"",stats:n,networkDetails:o,deliveryDirectives:d});break;case ne:a.trigger(f.SUBTITLE_TRACK_LOADED,{details:t,id:c||0,groupId:l||"",stats:n,networkDetails:o,deliveryDirectives:d})}}}function ce(t,e){let n;try{n=new Event("addtrack")}catch(t){n=document.createEvent("Event"),n.initEvent("addtrack",!1,!1)}n.track=t,e.dispatchEvent(n)}function le(t,e){const n=t.mode;if("disabled"===n&&(t.mode="hidden"),t.cues&&!t.cues.getCueById(e.id))try{if(t.addCue(e),!t.cues.getCueById(e.id))throw new Error(`addCue is failed for: ${e}`)}catch(n){m.debug(`[texttrack-utils]: ${n}`);const r=new self.TextTrackCue(e.startTime,e.endTime,e.text);r.id=e.id,t.addCue(r)}"disabled"===n&&(t.mode=n)}function fe(t){const e=t.mode;if("disabled"===e&&(t.mode="hidden"),t.cues)for(let e=t.cues.length;e--;)t.removeCue(t.cues[e]);"disabled"===e&&(t.mode=e)}function he(t,e,n,r){const o=t.mode;if("disabled"===o&&(t.mode="hidden"),t.cues&&t.cues.length>0){const o=function(t,e,n){const r=[],o=function(t,e){if(e<t[0].startTime)return 0;const n=t.length-1;if(e>t[n].endTime)return-1;let r=0,o=n;for(;r<=o;){const i=Math.floor((o+r)/2);if(e<t[i].startTime)o=i-1;else{if(!(e>t[i].startTime&&r<n))return i;r=i+1}}return t[r].startTime-e<e-t[o].startTime?r:o}(t,e);if(o>-1)for(let i=o,a=t.length;i<a;i++){const o=t[i];if(o.startTime>=e&&o.endTime<=n)r.push(o);else if(o.startTime>n)return r}return r}(t.cues,e,n);for(let e=0;e<o.length;e++)r&&!r(o[e])||t.removeCue(o[e])}"disabled"===o&&(t.mode=o)}var pe="org.id3",de="com.apple.quicktime.HLS",ye="https://aomedia.org/emsg/ID3";function ve(){if("undefined"!=typeof self)return self.WebKitDataCue||self.VTTCue||self.TextTrackCue}const ge=(()=>{const t=ve();try{new t(0,Number.POSITIVE_INFINITY,"")}catch(t){return Number.MAX_VALUE}return Number.POSITIVE_INFINITY})();function me(t,e){return t.getTime()/1e3-e}class be{constructor(t){this.hls=void 0,this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.hls=t,this._registerListeners()}destroy(){this._unregisterListeners(),this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.hls=null}_registerListeners(){const{hls:t}=this;t.on(f.MEDIA_ATTACHED,this.onMediaAttached,this),t.on(f.MEDIA_DETACHING,this.onMediaDetaching,this),t.on(f.MANIFEST_LOADING,this.onManifestLoading,this),t.on(f.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),t.on(f.BUFFER_FLUSHING,this.onBufferFlushing,this),t.on(f.LEVEL_UPDATED,this.onLevelUpdated,this)}_unregisterListeners(){const{hls:t}=this;t.off(f.MEDIA_ATTACHED,this.onMediaAttached,this),t.off(f.MEDIA_DETACHING,this.onMediaDetaching,this),t.off(f.MANIFEST_LOADING,this.onManifestLoading,this),t.off(f.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),t.off(f.BUFFER_FLUSHING,this.onBufferFlushing,this),t.off(f.LEVEL_UPDATED,this.onLevelUpdated,this)}onMediaAttached(t,e){this.media=e.media}onMediaDetaching(){this.id3Track&&(fe(this.id3Track),this.id3Track=null,this.media=null,this.dateRangeCuesAppended={})}onManifestLoading(){this.dateRangeCuesAppended={}}createTrack(t){const e=this.getID3Track(t.textTracks);return e.mode="hidden",e}getID3Track(t){if(this.media){for(let e=0;e<t.length;e++){const n=t[e];if("metadata"===n.kind&&"id3"===n.label)return ce(n,this.media),n}return this.media.addTextTrack("metadata","id3")}}onFragParsingMetadata(t,e){if(!this.media)return;const{hls:{config:{enableEmsgMetadataCues:n,enableID3MetadataCues:r}}}=this;if(!n&&!r)return;const{samples:o}=e;this.id3Track||(this.id3Track=this.createTrack(this.media));const i=ve();for(let t=0;t<o.length;t++){const e=o[t].type;if(e===ye&&!n||!r)continue;const a=J(o[t].data);if(a){const n=o[t].pts;let r=n+o[t].duration;r>ge&&(r=ge),r-n<=0&&(r=n+.25);for(let t=0;t<a.length;t++){const o=a[t];if(!X(o)){this.updateId3CueEnds(n,e);const t=new i(n,r,"");t.value=o,e&&(t.type=e),this.id3Track.addCue(t)}}}}}updateId3CueEnds(t,e){var n;const r=null==(n=this.id3Track)?void 0:n.cues;if(r)for(let n=r.length;n--;){const o=r[n];o.type===e&&o.startTime<t&&o.endTime===ge&&(o.endTime=t)}}onBufferFlushing(t,{startOffset:e,endOffset:n,type:r}){const{id3Track:o,hls:i}=this;if(!i)return;const{config:{enableEmsgMetadataCues:a,enableID3MetadataCues:s}}=i;if(o&&(a||s)){let t;t="audio"===r?t=>t.type===pe&&s:"video"===r?t=>t.type===ye&&a:t=>t.type===pe&&s||t.type===ye&&a,he(o,e,n,t)}}onLevelUpdated(t,{details:e}){if(!this.media||!e.hasProgramDateTime||!this.hls.config.enableDateRangeMetadataCues)return;const{dateRangeCuesAppended:n,id3Track:r}=this,{dateRanges:o}=e,i=Object.keys(o);if(r){const t=Object.keys(n).filter((t=>!i.includes(t)));for(let e=t.length;e--;){const o=t[e];Object.keys(n[o].cues).forEach((t=>{r.removeCue(n[o].cues[t])})),delete n[o]}}const a=e.fragments[e.fragments.length-1];if(0===i.length||!l(null==a?void 0:a.programDateTime))return;this.id3Track||(this.id3Track=this.createTrack(this.media));const s=a.programDateTime/1e3-a.start,u=ve();for(let t=0;t<i.length;t++){const e=i[t],r=o[e],a=n[e],l=(null==a?void 0:a.cues)||{};let h=(null==a?void 0:a.durationKnown)||!1;const p=me(r.startDate,s);let d=ge;const y=r.endDate;if(y)d=me(y,s),h=!0;else if(r.endOnNext&&!h){const t=i.reduce(((t,e)=>{const n=o[e];return n.class===r.class&&n.id!==e&&n.startDate>r.startDate&&t.push(n),t}),[]).sort(((t,e)=>t.startDate.getTime()-e.startDate.getTime()))[0];t&&(d=me(t.startDate,s),h=!0)}const v=Object.keys(r.attr);for(let t=0;t<v.length;t++){const n=v[t];if("ID"===(f=n)||"CLASS"===f||"START-DATE"===f||"DURATION"===f||"END-DATE"===f||"END-ON-NEXT"===f)continue;let o=l[n];if(o)h&&!a.durationKnown&&(o.endTime=d);else{let t=r.attr[n];o=new u(p,d,""),x(n)&&(c=t,t=Uint8Array.from(c.replace(/^0x/,"").replace(/([\da-fA-F]{2}) ?/g,"0x$1 ").replace(/ +$/,"").split(" ")).buffer),o.value={key:n,data:t},o.type=de,o.id=e,this.id3Track.addCue(o),l[n]=o}}n[e]={cues:l,dateRange:r,durationKnown:h}}var c,f}}class we{constructor(t){this.hls=void 0,this.config=void 0,this.media=null,this.levelDetails=null,this.currentTime=0,this.stallCount=0,this._latency=null,this.timeupdateHandler=()=>this.timeupdate(),this.hls=t,this.config=t.config,this.registerListeners()}get latency(){return this._latency||0}get maxLatency(){const{config:t,levelDetails:e}=this;return void 0!==t.liveMaxLatencyDuration?t.liveMaxLatencyDuration:e?t.liveMaxLatencyDurationCount*e.targetduration:0}get targetLatency(){const{levelDetails:t}=this;if(null===t)return null;const{holdBack:e,partHoldBack:n,targetduration:r}=t,{liveSyncDuration:o,liveSyncDurationCount:i,lowLatencyMode:a}=this.config,s=this.hls.userConfig;let u=a&&n||e;(s.liveSyncDuration||s.liveSyncDurationCount||0===u)&&(u=void 0!==o?o:i*r);const c=r;return u+Math.min(1*this.stallCount,c)}get liveSyncPosition(){const t=this.estimateLiveEdge(),e=this.targetLatency,n=this.levelDetails;if(null===t||null===e||null===n)return null;const r=n.edge,o=t-e-this.edgeStalled,i=r-n.totalduration,a=r-(this.config.lowLatencyMode&&n.partTarget||n.targetduration);return Math.min(Math.max(i,o),a)}get drift(){const{levelDetails:t}=this;return null===t?1:t.drift}get edgeStalled(){const{levelDetails:t}=this;if(null===t)return 0;const e=3*(this.config.lowLatencyMode&&t.partTarget||t.targetduration);return Math.max(t.age-e,0)}get forwardBufferLength(){const{media:t,levelDetails:e}=this;if(!t||!e)return 0;const n=t.buffered.length;return(n?t.buffered.end(n-1):e.edge)-this.currentTime}destroy(){this.unregisterListeners(),this.onMediaDetaching(),this.levelDetails=null,this.hls=this.timeupdateHandler=null}registerListeners(){this.hls.on(f.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(f.MEDIA_DETACHING,this.onMediaDetaching,this),this.hls.on(f.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.on(f.LEVEL_UPDATED,this.onLevelUpdated,this),this.hls.on(f.ERROR,this.onError,this)}unregisterListeners(){this.hls.off(f.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.off(f.MEDIA_DETACHING,this.onMediaDetaching,this),this.hls.off(f.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.off(f.LEVEL_UPDATED,this.onLevelUpdated,this),this.hls.off(f.ERROR,this.onError,this)}onMediaAttached(t,e){this.media=e.media,this.media.addEventListener("timeupdate",this.timeupdateHandler)}onMediaDetaching(){this.media&&(this.media.removeEventListener("timeupdate",this.timeupdateHandler),this.media=null)}onManifestLoading(){this.levelDetails=null,this._latency=null,this.stallCount=0}onLevelUpdated(t,{details:e}){this.levelDetails=e,e.advanced&&this.timeupdate(),!e.live&&this.media&&this.media.removeEventListener("timeupdate",this.timeupdateHandler)}onError(t,e){var n;e.details===p.BUFFER_STALLED_ERROR&&(this.stallCount++,null!=(n=this.levelDetails)&&n.live&&m.warn("[playback-rate-controller]: Stall detected, adjusting target latency"))}timeupdate(){const{media:t,levelDetails:e}=this;if(!t||!e)return;this.currentTime=t.currentTime;const n=this.computeLatency();if(null===n)return;this._latency=n;const{lowLatencyMode:r,maxLiveSyncPlaybackRate:o}=this.config;if(!r||1===o)return;const i=this.targetLatency;if(null===i)return;const a=n-i,s=a<Math.min(this.maxLatency,i+e.targetduration);if(e.live&&s&&a>.05&&this.forwardBufferLength>1){const e=Math.min(2,Math.max(1,o)),n=Math.round(2/(1+Math.exp(-.75*a-this.edgeStalled))*20)/20;t.playbackRate=Math.min(e,Math.max(1,n))}else 1!==t.playbackRate&&0!==t.playbackRate&&(t.playbackRate=1)}estimateLiveEdge(){const{levelDetails:t}=this;return null===t?null:t.edge+t.age}computeLatency(){const t=this.estimateLiveEdge();return null===t?null:t-this.currentTime}}const Ae=["NONE","TYPE-0","TYPE-1",null];var xe="",Ce="YES",Ee="v2";class ke{constructor(t,e,n){this.msn=void 0,this.part=void 0,this.skip=void 0,this.msn=t,this.part=e,this.skip=n}addDirectives(t){const e=new self.URL(t);return void 0!==this.msn&&e.searchParams.set("_HLS_msn",this.msn.toString()),void 0!==this.part&&e.searchParams.set("_HLS_part",this.part.toString()),this.skip&&e.searchParams.set("_HLS_skip",this.skip),e.href}}class Le{constructor(t){this._attrs=void 0,this.audioCodec=void 0,this.bitrate=void 0,this.codecSet=void 0,this.height=void 0,this.id=void 0,this.name=void 0,this.videoCodec=void 0,this.width=void 0,this.unknownCodecs=void 0,this.audioGroupIds=void 0,this.details=void 0,this.fragmentError=0,this.loadError=0,this.loaded=void 0,this.realBitrate=0,this.textGroupIds=void 0,this.url=void 0,this._urlId=0,this.url=[t.url],this._attrs=[t.attrs],this.bitrate=t.bitrate,t.details&&(this.details=t.details),this.id=t.id||0,this.name=t.name,this.width=t.width||0,this.height=t.height||0,this.audioCodec=t.audioCodec,this.videoCodec=t.videoCodec,this.unknownCodecs=t.unknownCodecs,this.codecSet=[t.videoCodec,t.audioCodec].filter((t=>t)).join(",").replace(/\.[^.,]+/g,"")}get maxBitrate(){return Math.max(this.realBitrate,this.bitrate)}get attrs(){return this._attrs[this._urlId]}get pathwayId(){return this.attrs["PATHWAY-ID"]||"."}get uri(){return this.url[this._urlId]||""}get urlId(){return this._urlId}set urlId(t){const e=t%this.url.length;this._urlId!==e&&(this.fragmentError=0,this.loadError=0,this.details=void 0,this._urlId=e)}get audioGroupId(){var t;return null==(t=this.audioGroupIds)?void 0:t[this.urlId]}get textGroupId(){var t;return null==(t=this.textGroupIds)?void 0:t[this.urlId]}addFallback(t){this.url.push(t.url),this._attrs.push(t.attrs)}}function _e(t,e){const n=e.startPTS;if(l(n)){let r,o=0;e.sn>t.sn?(o=n-t.start,r=t):(o=t.start-n,r=e),r.duration!==o&&(r.duration=o)}else e.sn>t.sn?t.cc===e.cc&&t.minEndPTS?e.start=t.start+(t.minEndPTS-t.start):e.start=t.start+t.duration:e.start=Math.max(t.start-e.duration,0)}function Se(t,e,n,r,o,i){r-n<=0&&(m.warn("Fragment should have a positive duration",e),r=n+e.duration,i=o+e.duration);let a=n,s=r;const u=e.startPTS,c=e.endPTS;if(l(u)){const t=Math.abs(u-n);l(e.deltaPTS)?e.deltaPTS=Math.max(t,e.deltaPTS):e.deltaPTS=t,a=Math.max(n,u),n=Math.min(n,u),o=Math.min(o,e.startDTS),s=Math.min(r,c),r=Math.max(r,c),i=Math.max(i,e.endDTS)}const f=n-e.start;0!==e.start&&(e.start=n),e.duration=r-e.start,e.startPTS=n,e.maxStartPTS=a,e.startDTS=o,e.endPTS=r,e.minEndPTS=s,e.endDTS=i;const h=e.sn;if(!t||h<t.startSN||h>t.endSN)return 0;let p;const d=h-t.startSN,y=t.fragments;for(y[d]=e,p=d;p>0;p--)_e(y[p],y[p-1]);for(p=d;p<y.length-1;p++)_e(y[p],y[p+1]);return t.fragmentHint&&_e(y[y.length-1],t.fragmentHint),t.PTSKnown=t.alignedSliding=!0,f}function Pe(t,e){let n=null;const r=t.fragments;for(let t=r.length-1;t>=0;t--){const e=r[t].initSegment;if(e){n=e;break}}t.fragmentHint&&delete t.fragmentHint.endPTS;let o,i=0;if(function(t,e,n){const r=e.skippedSegments,o=Math.max(t.startSN,e.startSN)-e.startSN,i=(t.fragmentHint?1:0)+(r?e.endSN:Math.min(t.endSN,e.endSN))-e.startSN,a=e.startSN-t.startSN,s=e.fragmentHint?e.fragments.concat(e.fragmentHint):e.fragments,u=t.fragmentHint?t.fragments.concat(t.fragmentHint):t.fragments;for(let t=o;t<=i;t++){const o=u[a+t];let i=s[t];r&&!i&&t<r&&(i=e.fragments[t]=o),o&&i&&n(o,i)}}(t,e,((t,r)=>{t.relurl&&(i=t.cc-r.cc),l(t.startPTS)&&l(t.endPTS)&&(r.start=r.startPTS=t.startPTS,r.startDTS=t.startDTS,r.maxStartPTS=t.maxStartPTS,r.endPTS=t.endPTS,r.endDTS=t.endDTS,r.minEndPTS=t.minEndPTS,r.duration=t.endPTS-t.startPTS,r.duration&&(o=r),e.PTSKnown=e.alignedSliding=!0),r.elementaryStreams=t.elementaryStreams,r.loader=t.loader,r.stats=t.stats,r.urlId=t.urlId,t.initSegment&&(r.initSegment=t.initSegment,n=t.initSegment)})),n&&(e.fragmentHint?e.fragments.concat(e.fragmentHint):e.fragments).forEach((t=>{var e;t.initSegment&&t.initSegment.relurl!==(null==(e=n)?void 0:e.relurl)||(t.initSegment=n)})),e.skippedSegments)if(e.deltaUpdateFailed=e.fragments.some((t=>!t)),e.deltaUpdateFailed){m.warn("[level-helper] Previous playlist missing segments skipped in delta playlist");for(let t=e.skippedSegments;t--;)e.fragments.shift();e.startSN=e.fragments[0].sn,e.startCC=e.fragments[0].cc}else e.canSkipDateRanges&&(e.dateRanges=function(t,e,n){const r=c({},t);return n&&n.forEach((t=>{delete r[t]})),Object.keys(e).forEach((t=>{const n=new C(e[t].attr,r[t]);n.isValid?r[t]=n:m.warn(`Ignoring invalid Playlist Delta Update DATERANGE tag: "${JSON.stringify(e[t].attr)}"`)})),r}(t.dateRanges,e.dateRanges,e.recentlyRemovedDateranges));const a=e.fragments;if(i){m.warn("discontinuity sliding from playlist, take drift into account");for(let t=0;t<a.length;t++)a[t].cc+=i}e.skippedSegments&&(e.startCC=e.fragments[0].cc),function(t,e,n){if(t&&e){let r=0;for(let o=0,i=t.length;o<=i;o++){const i=t[o],a=e[o+r];i&&a&&i.index===a.index&&i.fragment.sn===a.fragment.sn?n(i,a):r--}}}(t.partList,e.partList,((t,e)=>{e.elementaryStreams=t.elementaryStreams,e.stats=t.stats})),o?Se(e,o,o.startPTS,o.endPTS,o.startDTS,o.endDTS):Te(t,e),a.length&&(e.totalduration=e.edge-a[0].start),e.driftStartTime=t.driftStartTime,e.driftStart=t.driftStart;const s=e.advancedDateTime;if(e.advanced&&s){const t=e.edge;e.driftStart||(e.driftStartTime=s,e.driftStart=t),e.driftEndTime=s,e.driftEnd=t}else e.driftEndTime=t.driftEndTime,e.driftEnd=t.driftEnd,e.advancedDateTime=t.advancedDateTime}function Te(t,e){const n=e.startSN+e.skippedSegments-t.startSN,r=t.fragments;n<0||n>=r.length||Oe(e,r[n].start)}function Oe(t,e){if(e){const n=t.fragments;for(let r=t.skippedSegments;r<n.length;r++)n[r].start+=e;t.fragmentHint&&(t.fragmentHint.start+=e)}}function Re(t,e,n){var r;return null!=t&&t.details?Ie(null==(r=t.details)?void 0:r.partList,e,n):null}function Ie(t,e,n){if(t)for(let r=t.length;r--;){const o=t[r];if(o.index===n&&o.fragment.sn===e)return o}return null}function je(t){switch(t.details){case p.FRAG_LOAD_TIMEOUT:case p.KEY_LOAD_TIMEOUT:case p.LEVEL_LOAD_TIMEOUT:case p.MANIFEST_LOAD_TIMEOUT:return!0}return!1}function De(t,e){const n=je(e);return t.default[(n?"timeout":"error")+"Retry"]}function Be(t,e){const n="linear"===t.backoff?1:Math.pow(2,e);return Math.min(n*t.retryDelayMs,t.maxRetryDelayMs)}function Ne(t){return s(s({},t),{errorRetry:null,timeoutRetry:null})}function Me(t,e,n,r){return!!t&&e<t.maxNumRetry&&(function(t){return 0===t&&!1===navigator.onLine||!!t&&(t<400||t>499)}(r)||!!n)}const Fe=function(t,e){let n=0,r=t.length-1,o=null,i=null;for(;n<=r;){o=(n+r)/2|0,i=t[o];const a=e(i);if(a>0)n=o+1;else{if(!(a<0))return i;r=o-1}}return null};function Ue(t,e,n=0,r=0){let o=null;if(t?o=e[t.sn-e[0].sn+1]||null:0===n&&0===e[0].start&&(o=e[0]),o&&0===Ge(n,r,o))return o;const i=Fe(e,Ge.bind(null,n,r));return!i||i===t&&o?o:i}function Ge(t=0,e=0,n){if(n.start<=t&&n.start+n.duration>t)return 0;const r=Math.min(e,n.duration+(n.deltaPTS?n.deltaPTS:0));return n.start+n.duration-r<=t?1:n.start-r>t&&n.start?-1:0}function Ve(t,e,n){const r=1e3*Math.min(e,n.duration+(n.deltaPTS?n.deltaPTS:0));return(n.endProgramDateTime||0)-r>t}var $e=0,Ze=2,ze=5,He=0,Ye=1,Ke=2;function We(t,e,n){if(performance.now()-t.lastErrorPerfMs>3e5)return!0;const r=t.details;if(e.details===p.FRAG_GAP&&r&&e.frag){const t=e.frag.start,n=Ue(null,r.fragments,t);if(n&&!n.gap)return!0}if(n&&t.errors.length<n.errors.length){const n=t.errors[t.errors.length-1];if(r&&n.frag&&e.frag&&Math.abs(n.frag.start-e.frag.start)>3*r.targetduration)return!0}return!1}class qe{constructor(t,e){this.hls=void 0,this.timer=-1,this.requestScheduled=-1,this.canLoad=!1,this.log=void 0,this.warn=void 0,this.log=m.log.bind(m,`${e}:`),this.warn=m.warn.bind(m,`${e}:`),this.hls=t}destroy(){this.clearTimer(),this.hls=this.log=this.warn=null}clearTimer(){clearTimeout(this.timer),this.timer=-1}startLoad(){this.canLoad=!0,this.requestScheduled=-1,this.loadPlaylist()}stopLoad(){this.canLoad=!1,this.clearTimer()}switchParams(t,e){const n=null==e?void 0:e.renditionReports;if(n){let r=-1;for(let o=0;o<n.length;o++){const i=n[o];let a;try{a=new self.URL(i.URI,e.url).href}catch(t){m.warn(`Could not construct new URL for Rendition Report: ${t}`),a=i.URI||""}if(a===t){r=o;break}a===t.substring(0,a.length)&&(r=o)}if(-1!==r){const t=n[r],o=parseInt(t["LAST-MSN"])||(null==e?void 0:e.lastPartSn);let i=parseInt(t["LAST-PART"])||(null==e?void 0:e.lastPartIndex);if(this.hls.config.lowLatencyMode){const t=Math.min(e.age-e.partTarget,e.targetduration);i>=0&&t>e.partTarget&&(i+=1)}return new ke(o,i>=0?i:void 0,xe)}}}loadPlaylist(t){-1===this.requestScheduled&&(this.requestScheduled=self.performance.now())}shouldLoadPlaylist(t){return this.canLoad&&!!t&&!!t.url&&(!t.details||t.details.live)}shouldReloadPlaylist(t){return-1===this.timer&&-1===this.requestScheduled&&this.shouldLoadPlaylist(t)}playlistLoaded(t,e,n){const{details:r,stats:o}=e,i=self.performance.now(),a=o.loading.first?Math.max(0,i-o.loading.first):0;if(r.advancedDateTime=Date.now()-a,r.live||null!=n&&n.live){if(r.reloaded(n),n&&this.log(`live playlist ${t} ${r.advanced?"REFRESHED "+r.lastPartSn+"-"+r.lastPartIndex:"MISSED"}`),n&&r.fragments.length>0&&Pe(n,r),!this.canLoad||!r.live)return;let a,s,u;if(r.canBlockReload&&r.endSN&&r.advanced){const t=this.hls.config.lowLatencyMode,o=r.lastPartSn,i=r.endSN,c=r.lastPartIndex,l=o===i,f=t?0:c;-1!==c?(s=l?i+1:o,u=l?f:c+1):s=i+1;const h=r.age,p=h+r.ageHeader;let d=Math.min(p-r.partTarget,1.5*r.targetduration);if(d>0){if(n&&d>n.tuneInGoal)this.warn(`CDN Tune-in goal increased from: ${n.tuneInGoal} to: ${d} with playlist age: ${r.age}`),d=0;else{const t=Math.floor(d/r.targetduration);s+=t,void 0!==u&&(u+=Math.round(d%r.targetduration/r.partTarget)),this.log(`CDN Tune-in age: ${r.ageHeader}s last advanced ${h.toFixed(2)}s goal: ${d} skip sn ${t} to part ${u}`)}r.tuneInGoal=d}if(a=this.getDeliveryDirectives(r,e.deliveryDirectives,s,u),t||!l)return void this.loadPlaylist(a)}else r.canBlockReload&&(a=this.getDeliveryDirectives(r,e.deliveryDirectives,s,u));const c=this.hls.mainForwardBufferInfo,l=c?c.end-c.len:0,f=function(t,e=1/0){let n=1e3*t.targetduration;if(t.updated){const r=t.fragments,o=4;if(r.length&&n*o>e){const t=1e3*r[r.length-1].duration;t<n&&(n=t)}}else n/=2;return Math.round(n)}(r,1e3*(r.edge-l));r.updated&&i>this.requestScheduled+f&&(this.requestScheduled=o.loading.start),void 0!==s&&r.canBlockReload?this.requestScheduled=o.loading.first+f-(1e3*r.partTarget||1e3):-1===this.requestScheduled||this.requestScheduled+f<i?this.requestScheduled=i:this.requestScheduled-i<=0&&(this.requestScheduled+=f);let h=this.requestScheduled-i;h=Math.max(0,h),this.log(`reload live playlist ${t} in ${Math.round(h)} ms`),this.timer=self.setTimeout((()=>this.loadPlaylist(a)),h)}else this.clearTimer()}getDeliveryDirectives(t,e,n,r){let o=function(t,e){const{canSkipUntil:n,canSkipDateRanges:r,endSN:o}=t;return n&&(void 0!==e?e-o:0)<n?r?Ee:Ce:xe}(t,n);return null!=e&&e.skip&&t.deltaUpdateFailed&&(n=e.msn,r=e.part,o=xe),new ke(n,r,o)}checkRetry(t){const e=t.details,n=je(t),r=t.errorAction,{action:o,retryCount:i=0,retryConfig:a}=r||{},s=!!r&&!!a&&(o===ze||!r.resolved&&o===Ze);if(s){var u;if(this.requestScheduled=-1,i>=a.maxNumRetry)return!1;if(n&&null!=(u=t.context)&&u.deliveryDirectives)this.warn(`Retrying playlist loading ${i+1}/${a.maxNumRetry} after "${e}" without delivery-directives`),this.loadPlaylist();else{const t=Be(a,i);this.timer=self.setTimeout((()=>this.loadPlaylist()),t),this.warn(`Retrying playlist loading ${i+1}/${a.maxNumRetry} after "${e}" in ${t}ms`)}t.levelRetry=!0,r.resolved=!0}return s}}let Xe;class Qe extends qe{constructor(t,e){super(t,"[level-controller]"),this._levels=[],this._firstLevel=-1,this._startLevel=void 0,this.currentLevel=null,this.currentLevelIndex=-1,this.manualLevelIndex=-1,this.steering=void 0,this.onParsedComplete=void 0,this.steering=e,this._registerListeners()}_registerListeners(){const{hls:t}=this;t.on(f.MANIFEST_LOADING,this.onManifestLoading,this),t.on(f.MANIFEST_LOADED,this.onManifestLoaded,this),t.on(f.LEVEL_LOADED,this.onLevelLoaded,this),t.on(f.LEVELS_UPDATED,this.onLevelsUpdated,this),t.on(f.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),t.on(f.FRAG_LOADED,this.onFragLoaded,this),t.on(f.ERROR,this.onError,this)}_unregisterListeners(){const{hls:t}=this;t.off(f.MANIFEST_LOADING,this.onManifestLoading,this),t.off(f.MANIFEST_LOADED,this.onManifestLoaded,this),t.off(f.LEVEL_LOADED,this.onLevelLoaded,this),t.off(f.LEVELS_UPDATED,this.onLevelsUpdated,this),t.off(f.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),t.off(f.FRAG_LOADED,this.onFragLoaded,this),t.off(f.ERROR,this.onError,this)}destroy(){this._unregisterListeners(),this.steering=null,this.resetLevels(),super.destroy()}startLoad(){this._levels.forEach((t=>{t.loadError=0,t.fragmentError=0})),super.startLoad()}resetLevels(){this._startLevel=void 0,this.manualLevelIndex=-1,this.currentLevelIndex=-1,this.currentLevel=null,this._levels=[]}onManifestLoading(t,e){this.resetLevels()}onManifestLoaded(t,e){const n=[],r={};let o;e.levels.forEach((t=>{var e;const i=t.attrs;-1!==(null==(e=t.audioCodec)?void 0:e.indexOf("mp4a.40.34"))&&(Xe||(Xe=/chrome|firefox/i.test(navigator.userAgent)),Xe&&(t.audioCodec=void 0));const{AUDIO:a,CODECS:s,"FRAME-RATE":u,"PATHWAY-ID":c,RESOLUTION:l,SUBTITLES:f}=i,h=`${c||"."}-${t.bitrate}-${l}-${u}-${s}`;o=r[h],o?o.addFallback(t):(o=new Le(t),r[h]=o,n.push(o)),Je(o,"audio",a),Je(o,"text",f)})),this.filterAndSortMediaOptions(n,e)}filterAndSortMediaOptions(t,e){let n=[],r=[],o=!1,i=!1,a=!1,s=t.filter((({audioCodec:t,videoCodec:e,width:n,height:r,unknownCodecs:s})=>(o||(o=!(!n||!r)),i||(i=!!e),a||(a=!!t),!(null!=s&&s.length)&&(!t||Ft(t,"audio"))&&(!e||Ft(e,"video")))));if((o||i)&&a&&(s=s.filter((({videoCodec:t,width:e,height:n})=>!!t||!(!e||!n)))),0===s.length)return void Promise.resolve().then((()=>{if(this.hls){const t=new Error("no level with compatible codecs found in manifest");this.hls.trigger(f.ERROR,{type:h.MEDIA_ERROR,details:p.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:e.url,error:t,reason:t.message})}}));e.audioTracks&&(n=e.audioTracks.filter((t=>!t.audioCodec||Ft(t.audioCodec,"audio"))),tn(n)),e.subtitles&&(r=e.subtitles,tn(r));const u=s.slice(0);s.sort(((t,e)=>t.attrs["HDCP-LEVEL"]!==e.attrs["HDCP-LEVEL"]?(t.attrs["HDCP-LEVEL"]||"")>(e.attrs["HDCP-LEVEL"]||"")?1:-1:t.bitrate!==e.bitrate?t.bitrate-e.bitrate:t.attrs["FRAME-RATE"]!==e.attrs["FRAME-RATE"]?t.attrs.decimalFloatingPoint("FRAME-RATE")-e.attrs.decimalFloatingPoint("FRAME-RATE"):t.attrs.SCORE!==e.attrs.SCORE?t.attrs.decimalFloatingPoint("SCORE")-e.attrs.decimalFloatingPoint("SCORE"):o&&t.height!==e.height?t.height-e.height:0));let c=u[0];if(this.steering&&(s=this.steering.filterParsedLevels(s),s.length!==u.length))for(let t=0;t<u.length;t++)if(u[t].pathwayId===s[0].pathwayId){c=u[t];break}this._levels=s;for(let t=0;t<s.length;t++)if(s[t]===c){this._firstLevel=t,this.log(`manifest loaded, ${s.length} level(s) found, first bitrate: ${c.bitrate}`);break}const l=a&&!i,d={levels:s,audioTracks:n,subtitleTracks:r,sessionData:e.sessionData,sessionKeys:e.sessionKeys,firstLevel:this._firstLevel,stats:e.stats,audio:a,video:i,altAudio:!l&&n.some((t=>!!t.url))};this.hls.trigger(f.MANIFEST_PARSED,d),(this.hls.config.autoStartLoad||this.hls.forceStartLoad)&&this.hls.startLoad(this.hls.config.startPosition)}get levels(){return 0===this._levels.length?null:this._levels}get level(){return this.currentLevelIndex}set level(t){const e=this._levels;if(0===e.length)return;if(t<0||t>=e.length){const n=new Error("invalid level idx"),r=t<0;if(this.hls.trigger(f.ERROR,{type:h.OTHER_ERROR,details:p.LEVEL_SWITCH_ERROR,level:t,fatal:r,error:n,reason:n.message}),r)return;t=Math.min(t,e.length-1)}const n=this.currentLevelIndex,r=this.currentLevel,o=r?r.attrs["PATHWAY-ID"]:void 0,i=e[t],a=i.attrs["PATHWAY-ID"];if(this.currentLevelIndex=t,this.currentLevel=i,n===t&&i.details&&r&&o===a)return;this.log(`Switching to level ${t}${a?" with Pathway "+a:""} from level ${n}${o?" with Pathway "+o:""}`);const s=c({},i,{level:t,maxBitrate:i.maxBitrate,attrs:i.attrs,uri:i.uri,urlId:i.urlId});delete s._attrs,delete s._urlId,this.hls.trigger(f.LEVEL_SWITCHING,s);const u=i.details;if(!u||u.live){const t=this.switchParams(i.uri,null==r?void 0:r.details);this.loadPlaylist(t)}}get manualLevel(){return this.manualLevelIndex}set manualLevel(t){this.manualLevelIndex=t,void 0===this._startLevel&&(this._startLevel=t),-1!==t&&(this.level=t)}get firstLevel(){return this._firstLevel}set firstLevel(t){this._firstLevel=t}get startLevel(){if(void 0===this._startLevel){const t=this.hls.config.startLevel;return void 0!==t?t:this._firstLevel}return this._startLevel}set startLevel(t){this._startLevel=t}onError(t,e){!e.fatal&&e.context&&e.context.type===te&&e.context.level===this.level&&this.checkRetry(e)}onFragLoaded(t,{frag:e}){if(void 0!==e&&e.type===re){const t=this._levels[e.level];void 0!==t&&(t.loadError=0)}}onLevelLoaded(t,e){var n;const{level:r,details:o}=e,i=this._levels[r];var a;if(!i)return this.warn(`Invalid level index ${r}`),void(null!=(a=e.deliveryDirectives)&&a.skip&&(o.deltaUpdateFailed=!0));r===this.currentLevelIndex?(0===i.fragmentError&&(i.loadError=0),this.playlistLoaded(r,e,i.details)):null!=(n=e.deliveryDirectives)&&n.skip&&(o.deltaUpdateFailed=!0)}onAudioTrackSwitched(t,e){const n=this.currentLevel;if(!n)return;const r=this.hls.audioTracks[e.id].groupId;if(n.audioGroupIds&&n.audioGroupId!==r){let t=-1;for(let e=0;e<n.audioGroupIds.length;e++)if(n.audioGroupIds[e]===r){t=e;break}-1!==t&&t!==n.urlId&&(n.urlId=t,this.canLoad&&this.startLoad())}}loadPlaylist(t){super.loadPlaylist();const e=this.currentLevelIndex,n=this.currentLevel;if(n&&this.shouldLoadPlaylist(n)){const r=n.urlId;let o=n.uri;if(t)try{o=t.addDirectives(o)}catch(t){this.warn(`Could not construct new URL with HLS Delivery Directives: ${t}`)}const i=n.attrs["PATHWAY-ID"];this.log(`Loading level index ${e}${void 0!==(null==t?void 0:t.msn)?" at sn "+t.msn+" part "+t.part:""} with${i?" Pathway "+i:""} URI ${r+1}/${n.url.length} ${o}`),this.clearTimer(),this.hls.trigger(f.LEVEL_LOADING,{url:o,level:e,id:r,deliveryDirectives:t||null})}}get nextLoadLevel(){return-1!==this.manualLevelIndex?this.manualLevelIndex:this.hls.nextAutoLevel}set nextLoadLevel(t){this.level=t,-1===this.manualLevelIndex&&(this.hls.nextAutoLevel=t)}removeLevel(t,e){const n=(t,n)=>n!==e,r=this._levels.filter(((r,o)=>o!==t||(r.url.length>1&&void 0!==e?(r.url=r.url.filter(n),r.audioGroupIds&&(r.audioGroupIds=r.audioGroupIds.filter(n)),r.textGroupIds&&(r.textGroupIds=r.textGroupIds.filter(n)),r.urlId=0,!0):(this.steering&&this.steering.removeLevel(r),!1))));this.hls.trigger(f.LEVELS_UPDATED,{levels:r})}onLevelsUpdated(t,{levels:e}){e.forEach(((t,e)=>{const{details:n}=t;null!=n&&n.fragments&&n.fragments.forEach((t=>{t.level=e}))})),this._levels=e}}function Je(t,e,n){n&&("audio"===e?(t.audioGroupIds||(t.audioGroupIds=[]),t.audioGroupIds[t.url.length-1]=n):"text"===e&&(t.textGroupIds||(t.textGroupIds=[]),t.textGroupIds[t.url.length-1]=n))}function tn(t){const e={};t.forEach((t=>{const n=t.groupId||"";t.id=e[n]=e[n]||0,e[n]++}))}var en="NOT_LOADED",nn="APPENDING",rn="PARTIAL",on="OK";class an{constructor(t){this.activePartLists=Object.create(null),this.endListFragments=Object.create(null),this.fragments=Object.create(null),this.timeRanges=Object.create(null),this.bufferPadding=.2,this.hls=void 0,this.hasGaps=!1,this.hls=t,this._registerListeners()}_registerListeners(){const{hls:t}=this;t.on(f.BUFFER_APPENDED,this.onBufferAppended,this),t.on(f.FRAG_BUFFERED,this.onFragBuffered,this),t.on(f.FRAG_LOADED,this.onFragLoaded,this)}_unregisterListeners(){const{hls:t}=this;t.off(f.BUFFER_APPENDED,this.onBufferAppended,this),t.off(f.FRAG_BUFFERED,this.onFragBuffered,this),t.off(f.FRAG_LOADED,this.onFragLoaded,this)}destroy(){this._unregisterListeners(),this.fragments=this.activePartLists=this.endListFragments=this.timeRanges=null}getAppendedFrag(t,e){const n=this.activePartLists[e];if(n)for(let e=n.length;e--;){const r=n[e];if(!r)break;const o=r.end;if(r.start<=t&&null!==o&&t<=o)return r}return this.getBufferedFrag(t,e)}getBufferedFrag(t,e){const{fragments:n}=this,r=Object.keys(n);for(let o=r.length;o--;){const i=n[r[o]];if((null==i?void 0:i.body.type)===e&&i.buffered){const e=i.body;if(e.start<=t&&t<=e.end)return e}}return null}detectEvictedFragments(t,e,n,r){this.timeRanges&&(this.timeRanges[t]=e);const o=(null==r?void 0:r.fragment.sn)||-1;Object.keys(this.fragments).forEach((r=>{const i=this.fragments[r];if(!i)return;if(o>=i.body.sn)return;if(!i.buffered&&!i.loaded)return void(i.body.type===n&&this.removeFragment(i.body));const a=i.range[t];a&&a.time.some((t=>{const n=!this.isTimeBuffered(t.startPTS,t.endPTS,e);return n&&this.removeFragment(i.body),n}))}))}detectPartialFragments(t){const e=this.timeRanges,{frag:n,part:r}=t;if(!e||"initSegment"===n.sn)return;const o=un(n),i=this.fragments[o];if(!i)return;const a=!n.relurl;Object.keys(e).forEach((t=>{const o=n.elementaryStreams[t];if(!o)return;const s=e[t],u=a||!0===o.partial;i.range[t]=this.getBufferedTimes(n,r,u,s)})),i.loaded=null,Object.keys(i.range).length?(i.buffered=!0,i.body.endList&&(this.endListFragments[i.body.type]=i),sn(i)||this.removeParts(n.sn-1,n.type)):this.removeFragment(i.body)}removeParts(t,e){const n=this.activePartLists[e];n&&(this.activePartLists[e]=n.filter((e=>e.fragment.sn>=t)))}fragBuffered(t,e){const n=un(t);let r=this.fragments[n];!r&&e&&(r=this.fragments[n]={body:t,appendedPTS:null,loaded:null,buffered:!1,range:Object.create(null)},t.gap&&(this.hasGaps=!0)),r&&(r.loaded=null,r.buffered=!0)}getBufferedTimes(t,e,n,r){const o={time:[],partial:n},i=t.start,a=t.end,s=t.minEndPTS||a,u=t.maxStartPTS||i;for(let t=0;t<r.length;t++){const e=r.start(t)-this.bufferPadding,n=r.end(t)+this.bufferPadding;if(u>=e&&s<=n){o.time.push({startPTS:Math.max(i,r.start(t)),endPTS:Math.min(a,r.end(t))});break}if(i<n&&a>e)o.partial=!0,o.time.push({startPTS:Math.max(i,r.start(t)),endPTS:Math.min(a,r.end(t))});else if(a<=e)break}return o}getPartialFragment(t){let e,n,r,o=null,i=0;const{bufferPadding:a,fragments:s}=this;return Object.keys(s).forEach((u=>{const c=s[u];c&&sn(c)&&(n=c.body.start-a,r=c.body.end+a,t>=n&&t<=r&&(e=Math.min(t-n,r-t),i<=e&&(o=c.body,i=e)))})),o}isEndListAppended(t){const e=this.endListFragments[t];return void 0!==e&&(e.buffered||sn(e))}getState(t){const e=un(t),n=this.fragments[e];return n?n.buffered?sn(n)?rn:on:nn:en}isTimeBuffered(t,e,n){let r,o;for(let i=0;i<n.length;i++){if(r=n.start(i)-this.bufferPadding,o=n.end(i)+this.bufferPadding,t>=r&&e<=o)return!0;if(e<=r)return!1}return!1}onFragLoaded(t,e){const{frag:n,part:r}=e;if("initSegment"===n.sn||n.bitrateTest)return;const o=r?null:e,i=un(n);this.fragments[i]={body:n,appendedPTS:null,loaded:o,buffered:!1,range:Object.create(null)}}onBufferAppended(t,e){const{frag:n,part:r,timeRanges:o}=e;if("initSegment"===n.sn)return;const i=n.type;if(r){let t=this.activePartLists[i];t||(this.activePartLists[i]=t=[]),t.push(r)}this.timeRanges=o,Object.keys(o).forEach((t=>{const e=o[t];this.detectEvictedFragments(t,e,i,r)}))}onFragBuffered(t,e){this.detectPartialFragments(e)}hasFragment(t){const e=un(t);return!!this.fragments[e]}hasParts(t){var e;return!(null==(e=this.activePartLists[t])||!e.length)}removeFragmentsInRange(t,e,n,r,o){r&&!this.hasGaps||Object.keys(this.fragments).forEach((i=>{const a=this.fragments[i];if(!a)return;const s=a.body;s.type!==n||r&&!s.gap||s.start<e&&s.end>t&&(a.buffered||o)&&this.removeFragment(s)}))}removeFragment(t){const e=un(t);t.stats.loaded=0,t.clearElementaryStreamInfo();const n=this.activePartLists[t.type];if(n){const e=t.sn;this.activePartLists[t.type]=n.filter((t=>t.fragment.sn!==e))}delete this.fragments[e],t.endList&&delete this.endListFragments[t.type]}removeAllFragments(){this.fragments=Object.create(null),this.endListFragments=Object.create(null),this.activePartLists=Object.create(null),this.hasGaps=!1}}function sn(t){var e,n,r;return t.buffered&&(t.body.gap||(null==(e=t.range.video)?void 0:e.partial)||(null==(n=t.range.audio)?void 0:n.partial)||(null==(r=t.range.audiovideo)?void 0:r.partial))}function un(t){return`${t.type}_${t.level}_${t.urlId}_${t.sn}`}const cn=Math.pow(2,17);class ln{constructor(t){this.config=void 0,this.loader=null,this.partLoadTimeout=-1,this.config=t}destroy(){this.loader&&(this.loader.destroy(),this.loader=null)}abort(){this.loader&&this.loader.abort()}load(t,e){const n=t.url;if(!n)return Promise.reject(new pn({type:h.NETWORK_ERROR,details:p.FRAG_LOAD_ERROR,fatal:!1,frag:t,error:new Error("Fragment does not have a "+(n?"part list":"url")),networkDetails:null}));this.abort();const r=this.config,o=r.fLoader,i=r.loader;return new Promise(((a,u)=>{if(this.loader&&this.loader.destroy(),t.gap)return void u(hn(t));const c=this.loader=t.loader=o?new o(r):new i(r),l=fn(t),f=Ne(r.fragLoadPolicy.default),d={loadPolicy:f,timeout:f.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0,highWaterMark:"initSegment"===t.sn?1/0:cn};t.stats=c.stats,c.load(l,d,{onSuccess:(e,n,r,o)=>{this.resetLoader(t,c);let i=e.data;r.resetIV&&t.decryptdata&&(t.decryptdata.iv=new Uint8Array(i.slice(0,16)),i=i.slice(16)),a({frag:t,part:null,payload:i,networkDetails:o})},onError:(e,r,o,i)=>{this.resetLoader(t,c),u(new pn({type:h.NETWORK_ERROR,details:p.FRAG_LOAD_ERROR,fatal:!1,frag:t,response:s({url:n,data:void 0},e),error:new Error(`HTTP Error ${e.code} ${e.text}`),networkDetails:o,stats:i}))},onAbort:(e,n,r)=>{this.resetLoader(t,c),u(new pn({type:h.NETWORK_ERROR,details:p.INTERNAL_ABORTED,fatal:!1,frag:t,error:new Error("Aborted"),networkDetails:r,stats:e}))},onTimeout:(e,n,r)=>{this.resetLoader(t,c),u(new pn({type:h.NETWORK_ERROR,details:p.FRAG_LOAD_TIMEOUT,fatal:!1,frag:t,error:new Error(`Timeout after ${d.timeout}ms`),networkDetails:r,stats:e}))},onProgress:(n,r,o,i)=>{e&&e({frag:t,part:null,payload:o,networkDetails:i})}})}))}loadPart(t,e,n){this.abort();const r=this.config,o=r.fLoader,i=r.loader;return new Promise(((a,u)=>{if(this.loader&&this.loader.destroy(),t.gap||e.gap)return void u(hn(t,e));const c=this.loader=t.loader=o?new o(r):new i(r),l=fn(t,e),f=Ne(r.fragLoadPolicy.default),d={loadPolicy:f,timeout:f.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0,highWaterMark:cn};e.stats=c.stats,c.load(l,d,{onSuccess:(r,o,i,s)=>{this.resetLoader(t,c),this.updateStatsFromPart(t,e);const u={frag:t,part:e,payload:r.data,networkDetails:s};n(u),a(u)},onError:(n,r,o,i)=>{this.resetLoader(t,c),u(new pn({type:h.NETWORK_ERROR,details:p.FRAG_LOAD_ERROR,fatal:!1,frag:t,part:e,response:s({url:l.url,data:void 0},n),error:new Error(`HTTP Error ${n.code} ${n.text}`),networkDetails:o,stats:i}))},onAbort:(n,r,o)=>{t.stats.aborted=e.stats.aborted,this.resetLoader(t,c),u(new pn({type:h.NETWORK_ERROR,details:p.INTERNAL_ABORTED,fatal:!1,frag:t,part:e,error:new Error("Aborted"),networkDetails:o,stats:n}))},onTimeout:(n,r,o)=>{this.resetLoader(t,c),u(new pn({type:h.NETWORK_ERROR,details:p.FRAG_LOAD_TIMEOUT,fatal:!1,frag:t,part:e,error:new Error(`Timeout after ${d.timeout}ms`),networkDetails:o,stats:n}))}})}))}updateStatsFromPart(t,e){const n=t.stats,r=e.stats,o=r.total;if(n.loaded+=r.loaded,o){const r=Math.round(t.duration/e.duration),i=Math.min(Math.round(n.loaded/o),r),a=(r-i)*Math.round(n.loaded/i);n.total=n.loaded+a}else n.total=Math.max(n.loaded,n.total);const i=n.loading,a=r.loading;i.start?i.first+=a.first-a.start:(i.start=a.start,i.first=a.first),i.end=a.end}resetLoader(t,e){t.loader=null,this.loader===e&&(self.clearTimeout(this.partLoadTimeout),this.loader=null),e.destroy()}}function fn(t,e=null){const n=e||t,r={frag:t,part:e,responseType:"arraybuffer",url:n.url,headers:{},rangeStart:0,rangeEnd:0},o=n.byteRangeStartOffset,i=n.byteRangeEndOffset;if(l(o)&&l(i)){var a;let e=o,n=i;if("initSegment"===t.sn&&"AES-128"===(null==(a=t.decryptdata)?void 0:a.method)){const t=i-o;t%16&&(n=i+(16-t%16)),0!==o&&(r.resetIV=!0,e=o-16)}r.rangeStart=e,r.rangeEnd=n}return r}function hn(t,e){const n=new Error(`GAP ${t.gap?"tag":"attribute"} found`),r={type:h.MEDIA_ERROR,details:p.FRAG_GAP,fatal:!1,frag:t,error:n,networkDetails:null};return e&&(r.part=e),(e||t).stats.aborted=!0,new pn(r)}class pn extends Error{constructor(t){super(t.error.message),this.data=void 0,this.data=t}}class dn{constructor(t){this.config=void 0,this.keyUriToKeyInfo={},this.emeController=null,this.config=t}abort(t){for(const e in this.keyUriToKeyInfo){const n=this.keyUriToKeyInfo[e].loader;if(n){if(t&&t!==n.context.frag.type)return;n.abort()}}}detach(){for(const t in this.keyUriToKeyInfo){const e=this.keyUriToKeyInfo[t];(e.mediaKeySessionContext||e.decryptdata.isCommonEncryption)&&delete this.keyUriToKeyInfo[t]}}destroy(){this.detach();for(const t in this.keyUriToKeyInfo){const e=this.keyUriToKeyInfo[t].loader;e&&e.destroy()}this.keyUriToKeyInfo={}}createKeyLoadError(t,e=p.KEY_LOAD_ERROR,n,r,o){return new pn({type:h.NETWORK_ERROR,details:e,fatal:!1,frag:t,response:o,error:n,networkDetails:r})}loadClear(t,e){if(this.emeController&&this.config.emeEnabled){const{sn:n,cc:r}=t;for(let t=0;t<e.length;t++){const o=e[t];if(r<=o.cc&&("initSegment"===n||"initSegment"===o.sn||n<o.sn)){this.emeController.selectKeySystemFormat(o).then((t=>{o.setKeyFormat(t)}));break}}}}load(t){return!t.decryptdata&&t.encrypted&&this.emeController?this.emeController.selectKeySystemFormat(t).then((e=>this.loadInternal(t,e))):this.loadInternal(t)}loadInternal(t,e){var n,r;e&&t.setKeyFormat(e);const o=t.decryptdata;if(!o){const n=new Error(e?`Expected frag.decryptdata to be defined after setting format ${e}`:"Missing decryption data on fragment in onKeyLoading");return Promise.reject(this.createKeyLoadError(t,p.KEY_LOAD_ERROR,n))}const i=o.uri;if(!i)return Promise.reject(this.createKeyLoadError(t,p.KEY_LOAD_ERROR,new Error(`Invalid key URI: "${i}"`)));let a=this.keyUriToKeyInfo[i];if(null!=(n=a)&&n.decryptdata.key)return o.key=a.decryptdata.key,Promise.resolve({frag:t,keyInfo:a});var s;if(null!=(r=a)&&r.keyLoadPromise)switch(null==(s=a.mediaKeySessionContext)?void 0:s.keyStatus){case void 0:case"status-pending":case"usable":case"usable-in-future":return a.keyLoadPromise.then((e=>(o.key=e.keyInfo.decryptdata.key,{frag:t,keyInfo:a})))}switch(a=this.keyUriToKeyInfo[i]={decryptdata:o,keyLoadPromise:null,loader:null,mediaKeySessionContext:null},o.method){case"ISO-23001-7":case"SAMPLE-AES":case"SAMPLE-AES-CENC":case"SAMPLE-AES-CTR":return"identity"===o.keyFormat?this.loadKeyHTTP(a,t):this.loadKeyEME(a,t);case"AES-128":return this.loadKeyHTTP(a,t);default:return Promise.reject(this.createKeyLoadError(t,p.KEY_LOAD_ERROR,new Error(`Key supplied with unsupported METHOD: "${o.method}"`)))}}loadKeyEME(t,e){const n={frag:e,keyInfo:t};if(this.emeController&&this.config.emeEnabled){const e=this.emeController.loadKey(n);if(e)return(t.keyLoadPromise=e.then((e=>(t.mediaKeySessionContext=e,n)))).catch((e=>{throw t.keyLoadPromise=null,e}))}return Promise.resolve(n)}loadKeyHTTP(t,e){const n=this.config,r=new(0,n.loader)(n);return e.keyLoader=t.loader=r,t.keyLoadPromise=new Promise(((o,i)=>{const a={keyInfo:t,frag:e,responseType:"arraybuffer",url:t.decryptdata.uri},u=n.keyLoadPolicy.default,c={loadPolicy:u,timeout:u.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},l={onSuccess:(t,e,n,r)=>{const{frag:a,keyInfo:s,url:u}=n;if(!a.decryptdata||s!==this.keyUriToKeyInfo[u])return i(this.createKeyLoadError(a,p.KEY_LOAD_ERROR,new Error("after key load, decryptdata unset or changed"),r));s.decryptdata.key=a.decryptdata.key=new Uint8Array(t.data),a.keyLoader=null,s.loader=null,o({frag:a,keyInfo:s})},onError:(t,n,r,o)=>{this.resetLoader(n),i(this.createKeyLoadError(e,p.KEY_LOAD_ERROR,new Error(`HTTP Error ${t.code} loading key ${t.text}`),r,s({url:a.url,data:void 0},t)))},onTimeout:(t,n,r)=>{this.resetLoader(n),i(this.createKeyLoadError(e,p.KEY_LOAD_TIMEOUT,new Error("key loading timed out"),r))},onAbort:(t,n,r)=>{this.resetLoader(n),i(this.createKeyLoadError(e,p.INTERNAL_ABORTED,new Error("key loading aborted"),r))}};r.load(a,c,l)}))}resetLoader(t){const{frag:e,keyInfo:n,url:r}=t,o=n.loader;e.keyLoader===o&&(e.keyLoader=null,n.loader=null),delete this.keyUriToKeyInfo[r],o&&o.destroy()}}class yn{constructor(){this._boundTick=void 0,this._tickTimer=null,this._tickInterval=null,this._tickCallCount=0,this._boundTick=this.tick.bind(this)}destroy(){this.onHandlerDestroying(),this.onHandlerDestroyed()}onHandlerDestroying(){this.clearNextTick(),this.clearInterval()}onHandlerDestroyed(){}hasInterval(){return!!this._tickInterval}hasNextTick(){return!!this._tickTimer}setInterval(t){return!this._tickInterval&&(this._tickCallCount=0,this._tickInterval=self.setInterval(this._boundTick,t),!0)}clearInterval(){return!!this._tickInterval&&(self.clearInterval(this._tickInterval),this._tickInterval=null,!0)}clearNextTick(){return!!this._tickTimer&&(self.clearTimeout(this._tickTimer),this._tickTimer=null,!0)}tick(){this._tickCallCount++,1===this._tickCallCount&&(this.doTick(),this._tickCallCount>1&&this.tickImmediate(),this._tickCallCount=0)}tickImmediate(){this.clearNextTick(),this._tickTimer=self.setTimeout(this._boundTick,0)}doTick(){}}const vn={length:0,start:()=>0,end:()=>0};class gn{static isBuffered(t,e){try{if(t){const n=gn.getBuffered(t);for(let t=0;t<n.length;t++)if(e>=n.start(t)&&e<=n.end(t))return!0}}catch(t){}return!1}static bufferInfo(t,e,n){try{if(t){const r=gn.getBuffered(t),o=[];let i;for(i=0;i<r.length;i++)o.push({start:r.start(i),end:r.end(i)});return this.bufferedInfo(o,e,n)}}catch(t){}return{len:0,start:e,end:e,nextStart:void 0}}static bufferedInfo(t,e,n){e=Math.max(0,e),t.sort((function(t,e){const n=t.start-e.start;return n||e.end-t.end}));let r=[];if(n)for(let e=0;e<t.length;e++){const o=r.length;if(o){const i=r[o-1].end;t[e].start-i<n?t[e].end>i&&(r[o-1].end=t[e].end):r.push(t[e])}else r.push(t[e])}else r=t;let o,i=0,a=e,s=e;for(let t=0;t<r.length;t++){const u=r[t].start,c=r[t].end;if(e+n>=u&&e<c)a=u,s=c,i=s-e;else if(e+n<u){o=u;break}}return{len:i,start:a||0,end:s||0,nextStart:o}}static getBuffered(t){try{return t.buffered}catch(t){return m.log("failed to get media.buffered",t),vn}}}class mn{constructor(t,e,n,r=0,o=-1,i=!1){this.level=void 0,this.sn=void 0,this.part=void 0,this.id=void 0,this.size=void 0,this.partial=void 0,this.transmuxing={start:0,executeStart:0,executeEnd:0,end:0},this.buffering={audio:{start:0,executeStart:0,executeEnd:0,end:0},video:{start:0,executeStart:0,executeEnd:0,end:0},audiovideo:{start:0,executeStart:0,executeEnd:0,end:0}},this.level=t,this.sn=e,this.id=n,this.size=r,this.part=o,this.partial=i}}function bn(t,e){let n=null;for(let r=0,o=t.length;r<o;r++){const o=t[r];if(o&&o.cc===e){n=o;break}}return n}function wn(t,e){if(t){const n=t.start+e;t.start=t.startPTS=n,t.endPTS=n+t.duration}}function An(t,e){const n=e.fragments;for(let e=0,r=n.length;e<r;e++)wn(n[e],t);e.fragmentHint&&wn(e.fragmentHint,t),e.alignedSliding=!0}function xn(t,e,n){e&&(function(t,e,n){if(function(t,e,n){return!(!e.details||!(n.endCC>n.startCC||t&&t.cc<n.startCC))}(t,n,e)){const t=function(t,e,n=0){const r=t.fragments,o=e.fragments;if(!o.length||!r.length)return void m.log("No fragments to align");const i=bn(r,o[0].cc);if(i&&(!i||i.startPTS))return i;m.log("No frag in previous level to align on")}(n.details,e);t&&l(t.start)&&(m.log(`Adjusting PTS using last level due to CC increase within current level ${e.url}`),An(t.start,e))}}(t,n,e),!n.alignedSliding&&e.details&&function(t,e){if(!e.fragments.length||!t.hasProgramDateTime||!e.hasProgramDateTime)return;const n=e.fragments[0].programDateTime,r=t.fragments[0].programDateTime,o=(r-n)/1e3+e.fragments[0].start;o&&l(o)&&(m.log(`Adjusting PTS using programDateTime delta ${r-n}ms, sliding:${o.toFixed(3)} ${t.url} `),An(o,t))}(n,e.details),n.alignedSliding||!e.details||n.skippedSegments||Te(e.details,n))}function Cn(t,e){if(!t.hasProgramDateTime||!e.hasProgramDateTime)return;const n=t.fragments,r=e.fragments;if(!n.length||!r.length)return;const o=r[Math.round(r.length/2)-1],i=bn(n,o.cc)||n[Math.round(n.length/2)-1],a=o.programDateTime,s=i.programDateTime;null!==a&&null!==s&&An((s-a)/1e3-(i.start-o.start),t)}class En{constructor(t,e){this.subtle=void 0,this.aesIV=void 0,this.subtle=t,this.aesIV=e}decrypt(t,e){return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},e,t)}}class kn{constructor(t,e){this.subtle=void 0,this.key=void 0,this.subtle=t,this.key=e}expandKey(){return this.subtle.importKey("raw",this.key,{name:"AES-CBC"},!1,["encrypt","decrypt"])}}class Ln{constructor(){this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.ksRows=0,this.keySize=0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.initTable()}uint8ArrayToUint32Array_(t){const e=new DataView(t),n=new Uint32Array(4);for(let t=0;t<4;t++)n[t]=e.getUint32(4*t);return n}initTable(){const t=this.sBox,e=this.invSBox,n=this.subMix,r=n[0],o=n[1],i=n[2],a=n[3],s=this.invSubMix,u=s[0],c=s[1],l=s[2],f=s[3],h=new Uint32Array(256);let p=0,d=0,y=0;for(y=0;y<256;y++)h[y]=y<128?y<<1:y<<1^283;for(y=0;y<256;y++){let n=d^d<<1^d<<2^d<<3^d<<4;n=n>>>8^255&n^99,t[p]=n,e[n]=p;const s=h[p],y=h[s],v=h[y];let g=257*h[n]^16843008*n;r[p]=g<<24|g>>>8,o[p]=g<<16|g>>>16,i[p]=g<<8|g>>>24,a[p]=g,g=16843009*v^65537*y^257*s^16843008*p,u[n]=g<<24|g>>>8,c[n]=g<<16|g>>>16,l[n]=g<<8|g>>>24,f[n]=g,p?(p=s^h[h[h[v^s]]],d^=h[h[d]]):p=d=1}}expandKey(t){const e=this.uint8ArrayToUint32Array_(t);let n=!0,r=0;for(;r<e.length&&n;)n=e[r]===this.key[r],r++;if(n)return;this.key=e;const o=this.keySize=e.length;if(4!==o&&6!==o&&8!==o)throw new Error("Invalid aes key size="+o);const i=this.ksRows=4*(o+6+1);let a,s;const u=this.keySchedule=new Uint32Array(i),c=this.invKeySchedule=new Uint32Array(i),l=this.sBox,f=this.rcon,h=this.invSubMix,p=h[0],d=h[1],y=h[2],v=h[3];let g,m;for(a=0;a<i;a++)a<o?g=u[a]=e[a]:(m=g,a%o==0?(m=m<<8|m>>>24,m=l[m>>>24]<<24|l[m>>>16&255]<<16|l[m>>>8&255]<<8|l[255&m],m^=f[a/o|0]<<24):o>6&&a%o==4&&(m=l[m>>>24]<<24|l[m>>>16&255]<<16|l[m>>>8&255]<<8|l[255&m]),u[a]=g=(u[a-o]^m)>>>0);for(s=0;s<i;s++)a=i-s,m=3&s?u[a]:u[a-4],c[s]=s<4||a<=4?m:p[l[m>>>24]]^d[l[m>>>16&255]]^y[l[m>>>8&255]]^v[l[255&m]],c[s]=c[s]>>>0}networkToHostOrderSwap(t){return t<<24|(65280&t)<<8|(16711680&t)>>8|t>>>24}decrypt(t,e,n){const r=this.keySize+6,o=this.invKeySchedule,i=this.invSBox,a=this.invSubMix,s=a[0],u=a[1],c=a[2],l=a[3],f=this.uint8ArrayToUint32Array_(n);let h=f[0],p=f[1],d=f[2],y=f[3];const v=new Int32Array(t),g=new Int32Array(v.length);let m,b,w,A,x,C,E,k,L,_,S,P,T,O;const R=this.networkToHostOrderSwap;for(;e<v.length;){for(L=R(v[e]),_=R(v[e+1]),S=R(v[e+2]),P=R(v[e+3]),x=L^o[0],C=P^o[1],E=S^o[2],k=_^o[3],T=4,O=1;O<r;O++)m=s[x>>>24]^u[C>>16&255]^c[E>>8&255]^l[255&k]^o[T],b=s[C>>>24]^u[E>>16&255]^c[k>>8&255]^l[255&x]^o[T+1],w=s[E>>>24]^u[k>>16&255]^c[x>>8&255]^l[255&C]^o[T+2],A=s[k>>>24]^u[x>>16&255]^c[C>>8&255]^l[255&E]^o[T+3],x=m,C=b,E=w,k=A,T+=4;m=i[x>>>24]<<24^i[C>>16&255]<<16^i[E>>8&255]<<8^i[255&k]^o[T],b=i[C>>>24]<<24^i[E>>16&255]<<16^i[k>>8&255]<<8^i[255&x]^o[T+1],w=i[E>>>24]<<24^i[k>>16&255]<<16^i[x>>8&255]<<8^i[255&C]^o[T+2],A=i[k>>>24]<<24^i[x>>16&255]<<16^i[C>>8&255]<<8^i[255&E]^o[T+3],g[e]=R(m^h),g[e+1]=R(A^p),g[e+2]=R(w^d),g[e+3]=R(b^y),h=L,p=_,d=S,y=P,e+=4}return g.buffer}}class _n{constructor(t,{removePKCS7Padding:e=!0}={}){if(this.logEnabled=!0,this.removePKCS7Padding=void 0,this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null,this.useSoftware=void 0,this.useSoftware=t.enableSoftwareAES,this.removePKCS7Padding=e,e)try{const t=self.crypto;t&&(this.subtle=t.subtle||t.webkitSubtle)}catch(t){}null===this.subtle&&(this.useSoftware=!0)}destroy(){this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null}isSync(){return this.useSoftware}flush(){const{currentResult:t,remainderData:e}=this;if(!t||e)return this.reset(),null;const n=new Uint8Array(t);return this.reset(),this.removePKCS7Padding?function(t){const e=t.byteLength,n=e&&new DataView(t.buffer).getUint8(e-1);return n?z(t,0,e-n):t}(n):n}reset(){this.currentResult=null,this.currentIV=null,this.remainderData=null,this.softwareDecrypter&&(this.softwareDecrypter=null)}decrypt(t,e,n){return this.useSoftware?new Promise(((r,o)=>{this.softwareDecrypt(new Uint8Array(t),e,n);const i=this.flush();i?r(i.buffer):o(new Error("[softwareDecrypt] Failed to decrypt data"))})):this.webCryptoDecrypt(new Uint8Array(t),e,n)}softwareDecrypt(t,e,n){const{currentIV:r,currentResult:o,remainderData:i}=this;this.logOnce("JS AES decrypt"),i&&(t=xt(i,t),this.remainderData=null);const a=this.getValidChunk(t);if(!a.length)return null;r&&(n=r);let s=this.softwareDecrypter;s||(s=this.softwareDecrypter=new Ln),s.expandKey(e);const u=o;return this.currentResult=s.decrypt(a.buffer,0,n),this.currentIV=z(a,-16).buffer,u||null}webCryptoDecrypt(t,e,n){const r=this.subtle;return this.key===e&&this.fastAesKey||(this.key=e,this.fastAesKey=new kn(r,e)),this.fastAesKey.expandKey().then((e=>r?(this.logOnce("WebCrypto AES decrypt"),new En(r,new Uint8Array(n)).decrypt(t.buffer,e)):Promise.reject(new Error("web crypto not initialized")))).catch((r=>(m.warn(`[decrypter]: WebCrypto Error, disable WebCrypto API, ${r.name}: ${r.message}`),this.onWebCryptoError(t,e,n))))}onWebCryptoError(t,e,n){this.useSoftware=!0,this.logEnabled=!0,this.softwareDecrypt(t,e,n);const r=this.flush();if(r)return r.buffer;throw new Error("WebCrypto and softwareDecrypt: failed to decrypt data")}getValidChunk(t){let e=t;const n=t.length-t.length%16;return n!==t.length&&(e=z(t,0,n),this.remainderData=z(t,n)),e}logOnce(t){this.logEnabled&&(m.log(`[decrypter]: ${t}`),this.logEnabled=!1)}}const Sn=function(t){let e="";const n=t.length;for(let r=0;r<n;r++)e+=`[${t.start(r).toFixed(3)}-${t.end(r).toFixed(3)}]`;return e},Pn="STOPPED",Tn="IDLE",On="KEY_LOADING",Rn="FRAG_LOADING",In="FRAG_LOADING_WAITING_RETRY",jn="WAITING_TRACK",Dn="PARSING",Bn="PARSED",Nn="ENDED",Mn="ERROR",Fn="WAITING_INIT_PTS",Un="WAITING_LEVEL";class Gn extends yn{constructor(t,e,n,r,o){super(),this.hls=void 0,this.fragPrevious=null,this.fragCurrent=null,this.fragmentTracker=void 0,this.transmuxer=null,this._state=Pn,this.playlistType=void 0,this.media=null,this.mediaBuffer=null,this.config=void 0,this.bitrateTest=!1,this.lastCurrentTime=0,this.nextLoadPosition=0,this.startPosition=0,this.startTimeOffset=null,this.loadedmetadata=!1,this.retryDate=0,this.levels=null,this.fragmentLoader=void 0,this.keyLoader=void 0,this.levelLastLoaded=null,this.startFragRequested=!1,this.decrypter=void 0,this.initPTS=[],this.onvseeking=null,this.onvended=null,this.logPrefix="",this.log=void 0,this.warn=void 0,this.playlistType=o,this.logPrefix=r,this.log=m.log.bind(m,`${r}:`),this.warn=m.warn.bind(m,`${r}:`),this.hls=t,this.fragmentLoader=new ln(t.config),this.keyLoader=n,this.fragmentTracker=e,this.config=t.config,this.decrypter=new _n(t.config),t.on(f.MANIFEST_LOADED,this.onManifestLoaded,this)}doTick(){this.onTickEnd()}onTickEnd(){}startLoad(t){}stopLoad(){this.fragmentLoader.abort(),this.keyLoader.abort(this.playlistType);const t=this.fragCurrent;null!=t&&t.loader&&(t.abortRequests(),this.fragmentTracker.removeFragment(t)),this.resetTransmuxer(),this.fragCurrent=null,this.fragPrevious=null,this.clearInterval(),this.clearNextTick(),this.state=Pn}_streamEnded(t,e){if(e.live||t.nextStart||!t.end||!this.media)return!1;const n=e.partList;if(null!=n&&n.length){const t=n[n.length-1];return gn.isBuffered(this.media,t.start+t.duration/2)}const r=e.fragments[e.fragments.length-1].type;return this.fragmentTracker.isEndListAppended(r)}getLevelDetails(){var t;if(this.levels&&null!==this.levelLastLoaded)return null==(t=this.levels[this.levelLastLoaded])?void 0:t.details}onMediaAttached(t,e){const n=this.media=this.mediaBuffer=e.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvended=this.onMediaEnded.bind(this),n.addEventListener("seeking",this.onvseeking),n.addEventListener("ended",this.onvended);const r=this.config;this.levels&&r.autoStartLoad&&this.state===Pn&&this.startLoad(r.startPosition)}onMediaDetaching(){const t=this.media;null!=t&&t.ended&&(this.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0),t&&this.onvseeking&&this.onvended&&(t.removeEventListener("seeking",this.onvseeking),t.removeEventListener("ended",this.onvended),this.onvseeking=this.onvended=null),this.keyLoader&&this.keyLoader.detach(),this.media=this.mediaBuffer=null,this.loadedmetadata=!1,this.fragmentTracker.removeAllFragments(),this.stopLoad()}onMediaSeeking(){const{config:t,fragCurrent:e,media:n,mediaBuffer:r,state:o}=this,i=n?n.currentTime:0,a=gn.bufferInfo(r||n,i,t.maxBufferHole);if(this.log(`media seeking to ${l(i)?i.toFixed(3):i}, state: ${o}`),this.state===Nn)this.resetLoadingState();else if(e){const n=t.maxFragLookUpTolerance,r=e.start-n,o=e.start+e.duration+n;if(!a.len||o<a.start||r>a.end){const t=i>o;(i<r||t)&&(t&&e.loader&&(this.log("seeking outside of buffer while fragment load in progress, cancel fragment load"),e.abortRequests(),this.resetLoadingState()),this.fragPrevious=null)}}n&&(this.fragmentTracker.removeFragmentsInRange(i,1/0,this.playlistType,!0),this.lastCurrentTime=i),this.loadedmetadata||a.len||(this.nextLoadPosition=this.startPosition=i),this.tickImmediate()}onMediaEnded(){this.startPosition=this.lastCurrentTime=0}onManifestLoaded(t,e){this.startTimeOffset=e.startTimeOffset,this.initPTS=[]}onHandlerDestroying(){this.stopLoad(),super.onHandlerDestroying()}onHandlerDestroyed(){this.state=Pn,this.fragmentLoader&&this.fragmentLoader.destroy(),this.keyLoader&&this.keyLoader.destroy(),this.decrypter&&this.decrypter.destroy(),this.hls=this.log=this.warn=this.decrypter=this.keyLoader=this.fragmentLoader=this.fragmentTracker=null,super.onHandlerDestroyed()}loadFragment(t,e,n){this._loadFragForPlayback(t,e,n)}_loadFragForPlayback(t,e,n){this._doFragLoad(t,e,n,(e=>{if(this.fragContextChanged(t))return this.warn(`Fragment ${t.sn}${e.part?" p: "+e.part.index:""} of level ${t.level} was dropped during download.`),void this.fragmentTracker.removeFragment(t);t.stats.chunkCount++,this._handleFragmentLoadProgress(e)})).then((e=>{if(!e)return;const n=this.state;this.fragContextChanged(t)?(n===Rn||!this.fragCurrent&&n===Dn)&&(this.fragmentTracker.removeFragment(t),this.state=Tn):("payload"in e&&(this.log(`Loaded fragment ${t.sn} of level ${t.level}`),this.hls.trigger(f.FRAG_LOADED,e)),this._handleFragmentLoadComplete(e))})).catch((e=>{this.state!==Pn&&this.state!==Mn&&(this.warn(e),this.resetFragmentLoading(t))}))}clearTrackerIfNeeded(t){var e;const{fragmentTracker:n}=this;if(n.getState(t)===nn){const e=t.type,r=this.getFwdBufferInfo(this.mediaBuffer,e),o=Math.max(t.duration,r?r.len:this.config.maxBufferLength);this.reduceMaxBufferLength(o)&&n.removeFragment(t)}else 0===(null==(e=this.mediaBuffer)?void 0:e.buffered.length)?n.removeAllFragments():n.hasParts(t.type)&&(n.detectPartialFragments({frag:t,part:null,stats:t.stats,id:t.type}),n.getState(t)===rn&&n.removeFragment(t))}flushMainBuffer(t,e,n=null){if(!(t-e))return;const r={startOffset:t,endOffset:e,type:n};this.hls.trigger(f.BUFFER_FLUSHING,r)}_loadInitSegment(t,e){this._doFragLoad(t,e).then((e=>{if(!e||this.fragContextChanged(t)||!this.levels)throw new Error("init load aborted");return e})).then((e=>{const{hls:n}=this,{payload:r}=e,o=t.decryptdata;if(r&&r.byteLength>0&&o&&o.key&&o.iv&&"AES-128"===o.method){const i=self.performance.now();return this.decrypter.decrypt(new Uint8Array(r),o.key.buffer,o.iv.buffer).catch((e=>{throw n.trigger(f.ERROR,{type:h.MEDIA_ERROR,details:p.FRAG_DECRYPT_ERROR,fatal:!1,error:e,reason:e.message,frag:t}),e})).then((r=>{const o=self.performance.now();return n.trigger(f.FRAG_DECRYPTED,{frag:t,payload:r,stats:{tstart:i,tdecrypt:o}}),e.payload=r,e}))}return e})).then((n=>{const{fragCurrent:r,hls:o,levels:i}=this;if(!i)throw new Error("init load aborted, missing levels");const a=t.stats;this.state=Tn,e.fragmentError=0,t.data=new Uint8Array(n.payload),a.parsing.start=a.buffering.start=self.performance.now(),a.parsing.end=a.buffering.end=self.performance.now(),n.frag===r&&o.trigger(f.FRAG_BUFFERED,{stats:a,frag:r,part:null,id:t.type}),this.tick()})).catch((e=>{this.state!==Pn&&this.state!==Mn&&(this.warn(e),this.resetFragmentLoading(t))}))}fragContextChanged(t){const{fragCurrent:e}=this;return!t||!e||t.level!==e.level||t.sn!==e.sn||t.urlId!==e.urlId}fragBufferedComplete(t,e){var n,r,o,i;const a=this.mediaBuffer?this.mediaBuffer:this.media;this.log(`Buffered ${t.type} sn: ${t.sn}${e?" part: "+e.index:""} of ${this.playlistType===re?"level":"track"} ${t.level} (frag:[${(null!=(n=t.startPTS)?n:NaN).toFixed(3)}-${(null!=(r=t.endPTS)?r:NaN).toFixed(3)}] > buffer:${a?Sn(gn.getBuffered(a)):"(detached)"})`),this.state=Tn,a&&(!this.loadedmetadata&&t.type==re&&a.buffered.length&&(null==(o=this.fragCurrent)?void 0:o.sn)===(null==(i=this.fragPrevious)?void 0:i.sn)&&(this.loadedmetadata=!0,this.seekToStartPos()),this.tick())}seekToStartPos(){}_handleFragmentLoadComplete(t){const{transmuxer:e}=this;if(!e)return;const{frag:n,part:r,partsLoaded:o}=t,i=!o||0===o.length||o.some((t=>!t)),a=new mn(n.level,n.sn,n.stats.chunkCount+1,0,r?r.index:-1,!i);e.flush(a)}_handleFragmentLoadProgress(t){}_doFragLoad(t,e,n=null,r){var o;const i=null==e?void 0:e.details;if(!this.levels||!i)throw new Error(`frag load aborted, missing level${i?"":" detail"}s`);let a=null;if(!t.encrypted||null!=(o=t.decryptdata)&&o.key?!t.encrypted&&i.encryptedFragments.length&&this.keyLoader.loadClear(t,i.encryptedFragments):(this.log(`Loading key for ${t.sn} of [${i.startSN}-${i.endSN}], ${"[stream-controller]"===this.logPrefix?"level":"track"} ${t.level}`),this.state=On,this.fragCurrent=t,a=this.keyLoader.load(t).then((t=>{if(!this.fragContextChanged(t.frag))return this.hls.trigger(f.KEY_LOADED,t),this.state===On&&(this.state=Tn),t})),this.hls.trigger(f.KEY_LOADING,{frag:t}),null===this.fragCurrent&&(a=Promise.reject(new Error("frag load aborted, context changed in KEY_LOADING")))),n=Math.max(t.start,n||0),this.config.lowLatencyMode&&"initSegment"!==t.sn){const o=i.partList;if(o&&r){n>t.end&&i.fragmentHint&&(t=i.fragmentHint);const s=this.getNextPart(o,t,n);if(s>-1){const u=o[s];let c;return this.log(`Loading part sn: ${t.sn} p: ${u.index} cc: ${t.cc} of playlist [${i.startSN}-${i.endSN}] parts [0-${s}-${o.length-1}] ${"[stream-controller]"===this.logPrefix?"level":"track"}: ${t.level}, target: ${parseFloat(n.toFixed(3))}`),this.nextLoadPosition=u.start+u.duration,this.state=Rn,c=a?a.then((n=>!n||this.fragContextChanged(n.frag)?null:this.doFragPartsLoad(t,u,e,r))).catch((t=>this.handleFragLoadError(t))):this.doFragPartsLoad(t,u,e,r).catch((t=>this.handleFragLoadError(t))),this.hls.trigger(f.FRAG_LOADING,{frag:t,part:u,targetBufferTime:n}),null===this.fragCurrent?Promise.reject(new Error("frag load aborted, context changed in FRAG_LOADING parts")):c}if(!t.url||this.loadedEndOfParts(o,n))return Promise.resolve(null)}}this.log(`Loading fragment ${t.sn} cc: ${t.cc} ${i?"of ["+i.startSN+"-"+i.endSN+"] ":""}${"[stream-controller]"===this.logPrefix?"level":"track"}: ${t.level}, target: ${parseFloat(n.toFixed(3))}`),l(t.sn)&&!this.bitrateTest&&(this.nextLoadPosition=t.start+t.duration),this.state=Rn;const s=this.config.progressive;let u;return u=s&&a?a.then((e=>!e||this.fragContextChanged(null==e?void 0:e.frag)?null:this.fragmentLoader.load(t,r))).catch((t=>this.handleFragLoadError(t))):Promise.all([this.fragmentLoader.load(t,s?r:void 0),a]).then((([t])=>(!s&&t&&r&&r(t),t))).catch((t=>this.handleFragLoadError(t))),this.hls.trigger(f.FRAG_LOADING,{frag:t,targetBufferTime:n}),null===this.fragCurrent?Promise.reject(new Error("frag load aborted, context changed in FRAG_LOADING")):u}doFragPartsLoad(t,e,n,r){return new Promise(((o,i)=>{var a;const s=[],u=null==(a=n.details)?void 0:a.partList,c=e=>{this.fragmentLoader.loadPart(t,e,r).then((r=>{s[e.index]=r;const i=r.part;this.hls.trigger(f.FRAG_LOADED,r);const a=Re(n,t.sn,e.index+1)||Ie(u,t.sn,e.index+1);if(!a)return o({frag:t,part:i,partsLoaded:s});c(a)})).catch(i)};c(e)}))}handleFragLoadError(t){if("data"in t){const e=t.data;t.data&&e.details===p.INTERNAL_ABORTED?this.handleFragLoadAborted(e.frag,e.part):this.hls.trigger(f.ERROR,e)}else this.hls.trigger(f.ERROR,{type:h.OTHER_ERROR,details:p.INTERNAL_EXCEPTION,err:t,error:t,fatal:!0});return null}_handleTransmuxerFlush(t){const e=this.getCurrentContext(t);if(!e||this.state!==Dn)return void(this.fragCurrent||this.state===Pn||this.state===Mn||(this.state=Tn));const{frag:n,part:r,level:o}=e,i=self.performance.now();n.stats.parsing.end=i,r&&(r.stats.parsing.end=i),this.updateLevelTiming(n,r,o,t.partial)}getCurrentContext(t){const{levels:e,fragCurrent:n}=this,{level:r,sn:o,part:i}=t;if(null==e||!e[r])return this.warn(`Levels object was unset while buffering fragment ${o} of level ${r}. The current chunk will not be buffered.`),null;const a=e[r],s=i>-1?Re(a,o,i):null,u=s?s.fragment:function(t,e,n){if(null==t||!t.details)return null;const r=t.details;let o=r.fragments[e-r.startSN];return o||(o=r.fragmentHint,o&&o.sn===e?o:e<r.startSN&&n&&n.sn===e?n:null)}(a,o,n);return u?(n&&n!==u&&(u.stats=n.stats),{frag:u,part:s,level:a}):null}bufferFragmentData(t,e,n,r){var o;if(!t||this.state!==Dn)return;const{data1:i,data2:a}=t;let s=i;if(i&&a&&(s=xt(i,a)),null==(o=s)||!o.length)return;const u={type:t.type,frag:e,part:n,chunkMeta:r,parent:e.type,data:s};this.hls.trigger(f.BUFFER_APPENDING,u),t.dropped&&t.independent&&!n&&this.flushBufferGap(e)}flushBufferGap(t){const e=this.media;if(!e)return;if(!gn.isBuffered(e,e.currentTime))return void this.flushMainBuffer(0,t.start);const n=e.currentTime,r=gn.bufferInfo(e,n,0),o=t.duration,i=Math.min(2*this.config.maxFragLookUpTolerance,.25*o),a=Math.max(Math.min(t.start-i,r.end-i),n+i);t.start-a>i&&this.flushMainBuffer(a,t.start)}getFwdBufferInfo(t,e){const n=this.getLoadPosition();return l(n)?this.getFwdBufferInfoAtPos(t,n,e):null}getFwdBufferInfoAtPos(t,e,n){const{config:{maxBufferHole:r}}=this,o=gn.bufferInfo(t,e,r);if(0===o.len&&void 0!==o.nextStart){const i=this.fragmentTracker.getBufferedFrag(e,n);if(i&&o.nextStart<i.end)return gn.bufferInfo(t,e,Math.max(o.nextStart,r))}return o}getMaxBufferLength(t){const{config:e}=this;let n;return n=t?Math.max(8*e.maxBufferSize/t,e.maxBufferLength):e.maxBufferLength,Math.min(n,e.maxMaxBufferLength)}reduceMaxBufferLength(t){const e=this.config,n=t||e.maxBufferLength;return e.maxMaxBufferLength>=n&&(e.maxMaxBufferLength/=2,this.warn(`Reduce max buffer length to ${e.maxMaxBufferLength}s`),!0)}getAppendedFrag(t,e=re){const n=this.fragmentTracker.getAppendedFrag(t,re);return n&&"fragment"in n?n.fragment:n}getNextFragment(t,e){const n=e.fragments,r=n.length;if(!r)return null;const{config:o}=this,i=n[0].start;let a;if(e.live){const i=o.initialLiveManifestSize;if(r<i)return this.warn(`Not enough fragments to start playback (have: ${r}, need: ${i})`),null;e.PTSKnown||this.startFragRequested||-1!==this.startPosition||(a=this.getInitialLiveFragment(e,n),this.startPosition=a?this.hls.liveSyncPosition||a.start:t)}else t<=i&&(a=n[0]);if(!a){const n=o.lowLatencyMode?e.partEnd:e.fragmentEnd;a=this.getFragmentAtPosition(t,n,e)}return this.mapToInitFragWhenRequired(a)}isLoopLoading(t,e){const n=this.fragmentTracker.getState(t);return(n===on||n===rn&&!!t.gap)&&this.nextLoadPosition>e}getNextFragmentLoopLoading(t,e,n,r,o){const i=t.gap,a=this.getNextFragment(this.nextLoadPosition,e);if(null===a)return a;if(t=a,i&&t&&!t.gap&&n.nextStart){const e=this.getFwdBufferInfoAtPos(this.mediaBuffer?this.mediaBuffer:this.media,n.nextStart,r);if(null!==e&&n.len+e.len>=o)return this.log(`buffer full after gaps in "${r}" playlist starting at sn: ${t.sn}`),null}return t}mapToInitFragWhenRequired(t){return null==t||!t.initSegment||null!=t&&t.initSegment.data||this.bitrateTest?t:t.initSegment}getNextPart(t,e,n){let r=-1,o=!1,i=!0;for(let a=0,s=t.length;a<s;a++){const s=t[a];if(i=i&&!s.independent,r>-1&&n<s.start)break;const u=s.loaded;u?r=-1:(o||s.independent||i)&&s.fragment===e&&(r=a),o=u}return r}loadedEndOfParts(t,e){const n=t[t.length-1];return n&&e>n.start&&n.loaded}getInitialLiveFragment(t,e){const n=this.fragPrevious;let r=null;if(n){if(t.hasProgramDateTime&&(this.log(`Live playlist, switching playlist, load frag with same PDT: ${n.programDateTime}`),r=function(t,e,n){if(null===e||!Array.isArray(t)||!t.length||!l(e))return null;if(e<(t[0].programDateTime||0))return null;if(e>=(t[t.length-1].endProgramDateTime||0))return null;n=n||0;for(let r=0;r<t.length;++r){const o=t[r];if(Ve(e,n,o))return o}return null}(e,n.endProgramDateTime,this.config.maxFragLookUpTolerance)),!r){const o=n.sn+1;if(o>=t.startSN&&o<=t.endSN){const i=e[o-t.startSN];n.cc===i.cc&&(r=i,this.log(`Live playlist, switching playlist, load frag with next SN: ${r.sn}`))}r||(r=function(t,e){return Fe(t,(t=>t.cc<e?1:t.cc>e?-1:0))}(e,n.cc),r&&this.log(`Live playlist, switching playlist, load frag with same CC: ${r.sn}`))}}else{const e=this.hls.liveSyncPosition;null!==e&&(r=this.getFragmentAtPosition(e,this.bitrateTest?t.fragmentEnd:t.edge,t))}return r}getFragmentAtPosition(t,e,n){const{config:r}=this;let{fragPrevious:o}=this,{fragments:i,endSN:a}=n;const{fragmentHint:s}=n,u=r.maxFragLookUpTolerance,c=n.partList,l=!!(r.lowLatencyMode&&null!=c&&c.length&&s);let f;if(l&&s&&!this.bitrateTest&&(i=i.concat(s),a=s.sn),f=t<e?Ue(o,i,t,t>e-u?0:u):i[i.length-1],f){const t=f.sn-n.startSN,e=this.fragmentTracker.getState(f);if((e===on||e===rn&&f.gap)&&(o=f),o&&f.sn===o.sn&&(!l||c[0].fragment.sn>f.sn)&&o&&f.level===o.level){const e=i[t+1];f=f.sn<a&&this.fragmentTracker.getState(e)!==on?e:null}}return f}synchronizeToLiveEdge(t){const{config:e,media:n}=this;if(!n)return;const r=this.hls.liveSyncPosition,o=n.currentTime,i=t.fragments[0].start,a=t.edge,s=o>=i-e.maxFragLookUpTolerance&&o<=a;if(null!==r&&n.duration>r&&(o<r||!s)){const i=void 0!==e.liveMaxLatencyDuration?e.liveMaxLatencyDuration:e.liveMaxLatencyDurationCount*t.targetduration;(!s&&n.readyState<4||o<a-i)&&(this.loadedmetadata||(this.nextLoadPosition=r),n.readyState&&(this.warn(`Playback: ${o.toFixed(3)} is located too far from the end of live sliding playlist: ${a}, reset currentTime to : ${r.toFixed(3)}`),n.currentTime=r))}}alignPlaylists(t,e){const{levels:n,levelLastLoaded:r,fragPrevious:o}=this,i=null!==r?n[r]:null,a=t.fragments.length;if(!a)return this.warn("No fragments in live playlist"),0;const s=t.fragments[0].start,u=!e,c=t.alignedSliding&&l(s);if(u||!c&&!s){xn(o,i,t);const n=t.fragments[0].start;return this.log(`Live playlist sliding: ${n.toFixed(2)} start-sn: ${e?e.startSN:"na"}->${t.startSN} prev-sn: ${o?o.sn:"na"} fragments: ${a}`),n}return s}waitForCdnTuneIn(t){return t.live&&t.canBlockReload&&t.partTarget&&t.tuneInGoal>Math.max(t.partHoldBack,3*t.partTarget)}setStartPosition(t,e){let n=this.startPosition;if(n<e&&(n=-1),-1===n||-1===this.lastCurrentTime){const r=null!==this.startTimeOffset,o=r?this.startTimeOffset:t.startTimeOffset;null!==o&&l(o)?(n=e+o,o<0&&(n+=t.totalduration),n=Math.min(Math.max(e,n),e+t.totalduration),this.log(`Start time offset ${o} found in ${r?"multivariant":"media"} playlist, adjust startPosition to ${n}`),this.startPosition=n):t.live?n=this.hls.liveSyncPosition||e:this.startPosition=n=0,this.lastCurrentTime=n}this.nextLoadPosition=n}getLoadPosition(){const{media:t}=this;let e=0;return this.loadedmetadata&&t?e=t.currentTime:this.nextLoadPosition&&(e=this.nextLoadPosition),e}handleFragLoadAborted(t,e){this.transmuxer&&"initSegment"!==t.sn&&t.stats.aborted&&(this.warn(`Fragment ${t.sn}${e?" part "+e.index:""} of level ${t.level} was aborted`),this.resetFragmentLoading(t))}resetFragmentLoading(t){this.fragCurrent&&(this.fragContextChanged(t)||this.state===In)||(this.state=Tn)}onFragmentOrKeyLoadError(t,e){if(e.chunkMeta&&!e.frag){const t=this.getCurrentContext(e.chunkMeta);t&&(e.frag=t.frag)}const n=e.frag;if(!n||n.type!==t||!this.levels)return;var r;if(this.fragContextChanged(n))return void this.warn(`Frag load error must match current frag to retry ${n.url} > ${null==(r=this.fragCurrent)?void 0:r.url}`);const o=e.details===p.FRAG_GAP;o&&this.fragmentTracker.fragBuffered(n,!0);const i=e.errorAction,{action:a,retryCount:s=0,retryConfig:u}=i||{};if(i&&a===ze&&u){this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition);const r=Be(u,s);this.warn(`Fragment ${n.sn} of ${t} ${n.level} errored with ${e.details}, retrying loading ${s+1}/${u.maxNumRetry} in ${r}ms`),i.resolved=!0,this.retryDate=self.performance.now()+r,this.state=In}else u&&i?(this.resetFragmentErrors(t),s<u.maxNumRetry?o||(i.resolved=!0):m.warn(`${e.details} reached or exceeded max retry (${s})`)):this.state=Mn;this.tickImmediate()}reduceLengthAndFlushBuffer(t){if(this.state===Dn||this.state===Bn){const e=t.parent,n=this.getFwdBufferInfo(this.mediaBuffer,e),r=n&&n.len>.5;r&&this.reduceMaxBufferLength(n.len);const o=!r;return o&&this.warn(`Buffer full error while media.currentTime is not buffered, flush ${e} buffer`),t.frag&&(this.fragmentTracker.removeFragment(t.frag),this.nextLoadPosition=t.frag.start),this.resetLoadingState(),o}return!1}resetFragmentErrors(t){t===oe&&(this.fragCurrent=null),this.loadedmetadata||(this.startFragRequested=!1),this.state!==Pn&&(this.state=Tn)}afterBufferFlushed(t,e,n){if(!t)return;const r=gn.getBuffered(t);this.fragmentTracker.detectEvictedFragments(e,r,n),this.state===Nn&&this.resetLoadingState()}resetLoadingState(){this.log("Reset loading state"),this.fragCurrent=null,this.fragPrevious=null,this.state=Tn}resetStartWhenNotLoaded(t){if(!this.loadedmetadata){this.startFragRequested=!1;const e=this.levels?this.levels[t].details:null;null!=e&&e.live?(this.startPosition=-1,this.setStartPosition(e,0),this.resetLoadingState()):this.nextLoadPosition=this.startPosition}}resetWhenMissingContext(t){this.warn(`The loading context changed while buffering fragment ${t.sn} of level ${t.level}. This chunk will not be buffered.`),this.removeUnbufferedFrags(),this.resetStartWhenNotLoaded(t.level),this.resetLoadingState()}removeUnbufferedFrags(t=0){this.fragmentTracker.removeFragmentsInRange(t,1/0,this.playlistType,!1,!0)}updateLevelTiming(t,e,n,r){var o;const i=n.details;if(i){if(Object.keys(t.elementaryStreams).reduce(((e,o)=>{const a=t.elementaryStreams[o];if(a){const s=a.endPTS-a.startPTS;if(s<=0)return this.warn(`Could not parse fragment ${t.sn} ${o} duration reliably (${s})`),e||!1;const u=r?0:Se(i,t,a.startPTS,a.endPTS,a.startDTS,a.endDTS);return this.hls.trigger(f.LEVEL_PTS_UPDATED,{details:i,level:n,drift:u,type:o,frag:t,start:a.startPTS,end:a.endPTS}),!0}return e}),!1))n.fragmentError=0;else if(null===(null==(o=this.transmuxer)?void 0:o.error)){const e=new Error(`Found no media in fragment ${t.sn} of level ${n.id} resetting transmuxer to fallback to playlist timing`);if(this.warn(e.message),this.hls.trigger(f.ERROR,{type:h.MEDIA_ERROR,details:p.FRAG_PARSING_ERROR,fatal:!1,error:e,frag:t,reason:`Found no media in msn ${t.sn} of level "${n.url}"`}),!this.hls)return;this.resetTransmuxer()}this.state=Bn,this.hls.trigger(f.FRAG_PARSED,{frag:t,part:e})}else this.warn("level.details undefined")}resetTransmuxer(){this.transmuxer&&(this.transmuxer.destroy(),this.transmuxer=null)}recoverWorkerError(t){"demuxerWorker"===t.event&&(this.resetTransmuxer(),this.resetLoadingState())}set state(t){const e=this._state;e!==t&&(this._state=t,this.log(`${e}->${t}`))}get state(){return this._state}}function Vn(){return self.SourceBuffer||self.WebKitSourceBuffer}function $n(t="",e=9e4){return{type:t,id:-1,pid:-1,inputTimeScale:e,sequenceNumber:-1,samples:[],dropped:0}}class Zn{constructor(){this._audioTrack=void 0,this._id3Track=void 0,this.frameIndex=0,this.cachedData=null,this.basePTS=null,this.initPTS=null,this.lastPTS=null}resetInitSegment(t,e,n,r){this._id3Track={type:"id3",id:3,pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0}}resetTimeStamp(t){this.initPTS=t,this.resetContiguity()}resetContiguity(){this.basePTS=null,this.lastPTS=null,this.frameIndex=0}canParse(t,e){return!1}appendFrame(t,e,n){}demux(t,e){this.cachedData&&(t=xt(this.cachedData,t),this.cachedData=null);let n,r=K(t,0),o=r?r.length:0;const i=this._audioTrack,a=this._id3Track,s=r?(t=>{const e=J(t);for(let t=0;t<e.length;t++){const n=e[t];if(X(n))return ot(n)}})(r):void 0,u=t.length;for((null===this.basePTS||0===this.frameIndex&&l(s))&&(this.basePTS=zn(s,e,this.initPTS),this.lastPTS=this.basePTS),null===this.lastPTS&&(this.lastPTS=this.basePTS),r&&r.length>0&&a.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:r,type:pe,duration:Number.POSITIVE_INFINITY});o<u;){if(this.canParse(t,o)){const e=this.appendFrame(i,t,o);e?(this.frameIndex++,this.lastPTS=e.sample.pts,o+=e.length,n=o):o=u}else q(t,o)?(r=K(t,o),a.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:r,type:pe,duration:Number.POSITIVE_INFINITY}),o+=r.length,n=o):o++;if(o===u&&n!==u){const e=z(t,n);this.cachedData?this.cachedData=xt(this.cachedData,e):this.cachedData=e}}return{audioTrack:i,videoTrack:$n(),id3Track:a,textTrack:$n()}}demuxSampleAes(t,e,n){return Promise.reject(new Error(`[${this}] This demuxer does not support Sample-AES decryption`))}flush(t){const e=this.cachedData;return e&&(this.cachedData=null,this.demux(e,0)),{audioTrack:this._audioTrack,videoTrack:$n(),id3Track:this._id3Track,textTrack:$n()}}destroy(){}}const zn=(t,e,n)=>l(t)?90*t:9e4*e+(n?9e4*n.baseTime/n.timescale:0);function Hn(t,e){return 255===t[e]&&240==(246&t[e+1])}function Yn(t,e){return 1&t[e+1]?7:9}function Kn(t,e){return(3&t[e+3])<<11|t[e+4]<<3|(224&t[e+5])>>>5}function Wn(t,e){return e+1<t.length&&Hn(t,e)}function qn(t,e){if(Wn(t,e)){const n=Yn(t,e);if(e+n>=t.length)return!1;const r=Kn(t,e);if(r<=n)return!1;const o=e+r;return o===t.length||Wn(t,o)}return!1}function Xn(t,e,n,r,o){if(!t.samplerate){const i=function(t,e,n,r){let o,i,a,s;const u=navigator.userAgent.toLowerCase(),c=r,l=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];o=1+((192&e[n+2])>>>6);const d=(60&e[n+2])>>>2;if(!(d>l.length-1))return a=(1&e[n+2])<<2,a|=(192&e[n+3])>>>6,m.log(`manifest codec:${r}, ADTS type:${o}, samplingIndex:${d}`),/firefox/i.test(u)?d>=6?(o=5,s=new Array(4),i=d-3):(o=2,s=new Array(2),i=d):-1!==u.indexOf("android")?(o=2,s=new Array(2),i=d):(o=5,s=new Array(4),r&&(-1!==r.indexOf("mp4a.40.29")||-1!==r.indexOf("mp4a.40.5"))||!r&&d>=6?i=d-3:((r&&-1!==r.indexOf("mp4a.40.2")&&(d>=6&&1===a||/vivaldi/i.test(u))||!r&&1===a)&&(o=2,s=new Array(2)),i=d)),s[0]=o<<3,s[0]|=(14&d)>>1,s[1]|=(1&d)<<7,s[1]|=a<<3,5===o&&(s[1]|=(14&i)>>1,s[2]=(1&i)<<7,s[2]|=8,s[3]=0),{config:s,samplerate:l[d],channelCount:a,codec:"mp4a.40."+o,manifestCodec:c};t.trigger(f.ERROR,{type:h.MEDIA_ERROR,details:p.FRAG_PARSING_ERROR,fatal:!0,reason:`invalid ADTS sampling index:${d}`})}(e,n,r,o);if(!i)return;t.config=i.config,t.samplerate=i.samplerate,t.channelCount=i.channelCount,t.codec=i.codec,t.manifestCodec=i.manifestCodec,m.log(`parsed codec:${t.codec}, rate:${i.samplerate}, channels:${i.channelCount}`)}}function Qn(t){return 9216e4/t}function Jn(t,e,n,r,o){const i=r+o*Qn(t.samplerate),a=function(t,e){const n=Yn(t,e);if(e+n<=t.length){const r=Kn(t,e)-n;if(r>0)return{headerLength:n,frameLength:r}}}(e,n);let s;if(a){const{frameLength:r,headerLength:o}=a,u=o+r,c=Math.max(0,n+u-e.length);c?(s=new Uint8Array(u-o),s.set(e.subarray(n+o,e.length),0)):s=e.subarray(n+o,n+u);const l={unit:s,pts:i};return c||t.samples.push(l),{sample:l,length:u,missing:c}}const u=e.length-n;return s=new Uint8Array(u),s.set(e.subarray(n,e.length),0),{sample:{unit:s,pts:i},length:u,missing:-1}}const tr=/\/emsg[-/]ID3/i;let er=null;const nr=[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],rr=[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],or=[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],ir=[0,1,1,4];function ar(t,e,n,r,o){if(n+24>e.length)return;const i=sr(e,n);if(i&&n+i.frameLength<=e.length){const a=r+o*(9e4*i.samplesPerFrame/i.sampleRate),s={unit:e.subarray(n,n+i.frameLength),pts:a,dts:a};return t.config=[],t.channelCount=i.channelCount,t.samplerate=i.sampleRate,t.samples.push(s),{sample:s,length:i.frameLength,missing:0}}}function sr(t,e){const n=t[e+1]>>3&3,r=t[e+1]>>1&3,o=t[e+2]>>4&15,i=t[e+2]>>2&3;if(1!==n&&0!==o&&15!==o&&3!==i){const a=t[e+2]>>1&1,s=t[e+3]>>6,u=1e3*nr[14*(3===n?3-r:3===r?3:4)+o-1],c=rr[3*(3===n?0:2===n?1:2)+i],l=3===s?1:2,f=or[n][r],h=ir[r],p=8*f*h,d=Math.floor(f*u/c+a)*h;if(null===er){const t=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);er=t?parseInt(t[1]):0}return!!er&&er<=87&&2===r&&u>=224e3&&0===s&&(t[e+3]=128|t[e+3]),{sampleRate:c,channelCount:l,frameLength:d,samplesPerFrame:p}}}function ur(t,e){return 255===t[e]&&224==(224&t[e+1])&&0!=(6&t[e+1])}function cr(t,e){return e+1<t.length&&ur(t,e)}function lr(t,e){if(e+1<t.length&&ur(t,e)){const n=4,r=sr(t,e);let o=n;null!=r&&r.frameLength&&(o=r.frameLength);const i=e+o;return i===t.length||cr(t,i)}return!1}class fr{constructor(t){this.data=void 0,this.bytesAvailable=void 0,this.word=void 0,this.bitsAvailable=void 0,this.data=t,this.bytesAvailable=t.byteLength,this.word=0,this.bitsAvailable=0}loadWord(){const t=this.data,e=this.bytesAvailable,n=t.byteLength-e,r=new Uint8Array(4),o=Math.min(4,e);if(0===o)throw new Error("no bytes available");r.set(t.subarray(n,n+o)),this.word=new DataView(r.buffer).getUint32(0),this.bitsAvailable=8*o,this.bytesAvailable-=o}skipBits(t){let e;t=Math.min(t,8*this.bytesAvailable+this.bitsAvailable),this.bitsAvailable>t?(this.word<<=t,this.bitsAvailable-=t):(e=(t-=this.bitsAvailable)>>3,t-=e<<3,this.bytesAvailable-=e,this.loadWord(),this.word<<=t,this.bitsAvailable-=t)}readBits(t){let e=Math.min(this.bitsAvailable,t);const n=this.word>>>32-e;if(t>32&&m.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=e,this.bitsAvailable>0)this.word<<=e;else{if(!(this.bytesAvailable>0))throw new Error("no bits available");this.loadWord()}return e=t-e,e>0&&this.bitsAvailable?n<<e|this.readBits(e):n}skipLZ(){let t;for(t=0;t<this.bitsAvailable;++t)if(0!=(this.word&2147483648>>>t))return this.word<<=t,this.bitsAvailable-=t,t;return this.loadWord(),t+this.skipLZ()}skipUEG(){this.skipBits(1+this.skipLZ())}skipEG(){this.skipBits(1+this.skipLZ())}readUEG(){const t=this.skipLZ();return this.readBits(t+1)-1}readEG(){const t=this.readUEG();return 1&t?1+t>>>1:-1*(t>>>1)}readBoolean(){return 1===this.readBits(1)}readUByte(){return this.readBits(8)}readUShort(){return this.readBits(16)}readUInt(){return this.readBits(32)}skipScalingList(t){let e,n=8,r=8;for(let o=0;o<t;o++)0!==r&&(e=this.readEG(),r=(n+e+256)%256),n=0===r?n:r}readSPS(){let t,e,n,r=0,o=0,i=0,a=0;const s=this.readUByte.bind(this),u=this.readBits.bind(this),c=this.readUEG.bind(this),l=this.readBoolean.bind(this),f=this.skipBits.bind(this),h=this.skipEG.bind(this),p=this.skipUEG.bind(this),d=this.skipScalingList.bind(this);s();const y=s();if(u(5),f(3),s(),p(),100===y||110===y||122===y||244===y||44===y||83===y||86===y||118===y||128===y){const t=c();if(3===t&&f(1),p(),p(),f(1),l())for(e=3!==t?8:12,n=0;n<e;n++)l()&&d(n<6?16:64)}p();const v=c();if(0===v)c();else if(1===v)for(f(1),h(),h(),t=c(),n=0;n<t;n++)h();p(),f(1);const g=c(),m=c(),b=u(1);0===b&&f(1),f(1),l()&&(r=c(),o=c(),i=c(),a=c());let w=[1,1];if(l()&&l())switch(s()){case 1:w=[1,1];break;case 2:w=[12,11];break;case 3:w=[10,11];break;case 4:w=[16,11];break;case 5:w=[40,33];break;case 6:w=[24,11];break;case 7:w=[20,11];break;case 8:w=[32,11];break;case 9:w=[80,33];break;case 10:w=[18,11];break;case 11:w=[15,11];break;case 12:w=[64,33];break;case 13:w=[160,99];break;case 14:w=[4,3];break;case 15:w=[3,2];break;case 16:w=[2,1];break;case 255:w=[s()<<8|s(),s()<<8|s()]}return{width:Math.ceil(16*(g+1)-2*r-2*o),height:(2-b)*(m+1)*16-(b?2:4)*(i+a),pixelRatio:w}}readSliceType(){return this.readUByte(),this.readUEG(),this.readUEG()}}class hr{constructor(t,e,n){this.keyData=void 0,this.decrypter=void 0,this.keyData=n,this.decrypter=new _n(e,{removePKCS7Padding:!1})}decryptBuffer(t){return this.decrypter.decrypt(t,this.keyData.key.buffer,this.keyData.iv.buffer)}decryptAacSample(t,e,n){const r=t[e].unit;if(r.length<=16)return;const o=r.subarray(16,r.length-r.length%16),i=o.buffer.slice(o.byteOffset,o.byteOffset+o.length);this.decryptBuffer(i).then((o=>{const i=new Uint8Array(o);r.set(i,16),this.decrypter.isSync()||this.decryptAacSamples(t,e+1,n)}))}decryptAacSamples(t,e,n){for(;;e++){if(e>=t.length)return void n();if(!(t[e].unit.length<32||(this.decryptAacSample(t,e,n),this.decrypter.isSync())))return}}getAvcEncryptedData(t){const e=16*Math.floor((t.length-48)/160)+16,n=new Int8Array(e);let r=0;for(let e=32;e<t.length-16;e+=160,r+=16)n.set(t.subarray(e,e+16),r);return n}getAvcDecryptedUnit(t,e){const n=new Uint8Array(e);let r=0;for(let e=32;e<t.length-16;e+=160,r+=16)t.set(n.subarray(r,r+16),e);return t}decryptAvcSample(t,e,n,r,o){const i=Lt(o.data),a=this.getAvcEncryptedData(i);this.decryptBuffer(a.buffer).then((a=>{o.data=this.getAvcDecryptedUnit(i,a),this.decrypter.isSync()||this.decryptAvcSamples(t,e,n+1,r)}))}decryptAvcSamples(t,e,n,r){if(t instanceof Uint8Array)throw new Error("Cannot decrypt samples of type Uint8Array");for(;;e++,n=0){if(e>=t.length)return void r();const o=t[e].units;for(;!(n>=o.length);n++){const i=o[n];if(!(i.data.length<=48||1!==i.type&&5!==i.type||(this.decryptAvcSample(t,e,n,r,i),this.decrypter.isSync())))return}}}}const pr=188;class dr{constructor(t,e,n){this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.sampleAes=null,this.pmtParsed=!1,this.audioCodec=void 0,this.videoCodec=void 0,this._duration=0,this._pmtId=-1,this._avcTrack=void 0,this._audioTrack=void 0,this._id3Track=void 0,this._txtTrack=void 0,this.aacOverFlow=null,this.avcSample=null,this.remainderData=null,this.observer=t,this.config=e,this.typeSupported=n}static probe(t){const e=dr.syncOffset(t);return e>0&&m.warn(`MPEG2-TS detected but first sync word found @ offset ${e}`),-1!==e}static syncOffset(t){const e=t.length;let n=Math.min(940,t.length-pr)+1,r=0;for(;r<n;){let o=!1,i=-1,a=0;for(let s=r;s<e;s+=pr){if(71!==t[s]){if(a)return-1;break}if(a++,-1===i&&(i=s,0!==i&&(n=Math.min(i+18612,t.length-pr)+1)),o||(o=0===vr(t,s)),o&&a>1&&(0===i&&a>2||s+pr>n))return i}r++}return-1}static createTrack(t,e){return{container:"video"===t||"audio"===t?"video/mp2t":void 0,type:t,id:ft[t],pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0,duration:"audio"===t?e:void 0}}resetInitSegment(t,e,n,r){this.pmtParsed=!1,this._pmtId=-1,this._avcTrack=dr.createTrack("video"),this._audioTrack=dr.createTrack("audio",r),this._id3Track=dr.createTrack("id3"),this._txtTrack=dr.createTrack("text"),this._audioTrack.segmentCodec="aac",this.aacOverFlow=null,this.avcSample=null,this.remainderData=null,this.audioCodec=e,this.videoCodec=n,this._duration=r}resetTimeStamp(){}resetContiguity(){const{_audioTrack:t,_avcTrack:e,_id3Track:n}=this;t&&(t.pesData=null),e&&(e.pesData=null),n&&(n.pesData=null),this.aacOverFlow=null,this.avcSample=null,this.remainderData=null}demux(t,e,n=!1,r=!1){let o;n||(this.sampleAes=null);const i=this._avcTrack,a=this._audioTrack,s=this._id3Track,u=this._txtTrack;let c=i.pid,l=i.pesData,d=a.pid,y=s.pid,v=a.pesData,g=s.pesData,b=null,w=this.pmtParsed,A=this._pmtId,x=t.length;if(this.remainderData&&(x=(t=xt(this.remainderData,t)).length,this.remainderData=null),x<pr&&!r)return this.remainderData=t,{audioTrack:a,videoTrack:i,id3Track:s,textTrack:u};const C=Math.max(0,dr.syncOffset(t));x-=(x-C)%pr,x<t.byteLength&&!r&&(this.remainderData=new Uint8Array(t.buffer,x,t.buffer.byteLength-x));let E=0;for(let e=C;e<x;e+=pr)if(71===t[e]){const r=!!(64&t[e+1]),f=vr(t,e);let h;if((48&t[e+3])>>4>1){if(h=e+5+t[e+4],h===e+pr)continue}else h=e+4;switch(f){case c:r&&(l&&(o=br(l))&&this.parseAVCPES(i,u,o,!1),l={data:[],size:0}),l&&(l.data.push(t.subarray(h,e+pr)),l.size+=e+pr-h);break;case d:if(r){if(v&&(o=br(v)))switch(a.segmentCodec){case"aac":this.parseAACPES(a,o);break;case"mp3":this.parseMPEGPES(a,o)}v={data:[],size:0}}v&&(v.data.push(t.subarray(h,e+pr)),v.size+=e+pr-h);break;case y:r&&(g&&(o=br(g))&&this.parseID3PES(s,o),g={data:[],size:0}),g&&(g.data.push(t.subarray(h,e+pr)),g.size+=e+pr-h);break;case 0:r&&(h+=t[h]+1),A=this._pmtId=gr(t,h);break;case A:{r&&(h+=t[h]+1);const o=mr(t,h,this.typeSupported,n);c=o.avc,c>0&&(i.pid=c),d=o.audio,d>0&&(a.pid=d,a.segmentCodec=o.segmentCodec),y=o.id3,y>0&&(s.pid=y),null===b||w||(m.warn(`MPEG-TS PMT found at ${e} after unknown PID '${b}'. Backtracking to sync byte @${C} to parse all TS packets.`),b=null,e=C-188),w=this.pmtParsed=!0;break}case 17:case 8191:break;default:b=f}}else E++;if(E>0){const t=new Error(`Found ${E} TS packet/s that do not start with 0x47`);this.observer.emit(f.ERROR,f.ERROR,{type:h.MEDIA_ERROR,details:p.FRAG_PARSING_ERROR,fatal:!1,error:t,reason:t.message})}i.pesData=l,a.pesData=v,s.pesData=g;const k={audioTrack:a,videoTrack:i,id3Track:s,textTrack:u};return r&&this.extractRemainingSamples(k),k}flush(){const{remainderData:t}=this;let e;return this.remainderData=null,e=t?this.demux(t,-1,!1,!0):{videoTrack:this._avcTrack,audioTrack:this._audioTrack,id3Track:this._id3Track,textTrack:this._txtTrack},this.extractRemainingSamples(e),this.sampleAes?this.decrypt(e,this.sampleAes):e}extractRemainingSamples(t){const{audioTrack:e,videoTrack:n,id3Track:r,textTrack:o}=t,i=n.pesData,a=e.pesData,s=r.pesData;let u;if(i&&(u=br(i))?(this.parseAVCPES(n,o,u,!0),n.pesData=null):n.pesData=i,a&&(u=br(a))){switch(e.segmentCodec){case"aac":this.parseAACPES(e,u);break;case"mp3":this.parseMPEGPES(e,u)}e.pesData=null}else null!=a&&a.size&&m.log("last AAC PES packet truncated,might overlap between fragments"),e.pesData=a;s&&(u=br(s))?(this.parseID3PES(r,u),r.pesData=null):r.pesData=s}demuxSampleAes(t,e,n){const r=this.demux(t,n,!0,!this.config.progressive),o=this.sampleAes=new hr(this.observer,this.config,e);return this.decrypt(r,o)}decrypt(t,e){return new Promise((n=>{const{audioTrack:r,videoTrack:o}=t;r.samples&&"aac"===r.segmentCodec?e.decryptAacSamples(r.samples,0,(()=>{o.samples?e.decryptAvcSamples(o.samples,0,0,(()=>{n(t)})):n(t)})):o.samples&&e.decryptAvcSamples(o.samples,0,0,(()=>{n(t)}))}))}destroy(){this._duration=0}parseAVCPES(t,e,n,r){const o=this.parseAVCNALu(t,n.data);let i,a=this.avcSample,s=!1;n.data=null,a&&o.length&&!t.audFound&&(wr(a,t),a=this.avcSample=yr(!1,n.pts,n.dts,"")),o.forEach((r=>{switch(r.type){case 1:{i=!0,a||(a=this.avcSample=yr(!0,n.pts,n.dts,"")),a.frame=!0;const t=r.data;if(s&&t.length>4){const e=new fr(t).readSliceType();2!==e&&4!==e&&7!==e&&9!==e||(a.key=!0)}break}case 5:i=!0,a||(a=this.avcSample=yr(!0,n.pts,n.dts,"")),a.key=!0,a.frame=!0;break;case 6:i=!0,kt(r.data,1,n.pts,e.samples);break;case 7:if(i=!0,s=!0,!t.sps){const e=r.data,n=new fr(e).readSPS();t.width=n.width,t.height=n.height,t.pixelRatio=n.pixelRatio,t.sps=[e],t.duration=this._duration;const o=e.subarray(1,4);let i="avc1.";for(let t=0;t<3;t++){let e=o[t].toString(16);e.length<2&&(e="0"+e),i+=e}t.codec=i}break;case 8:i=!0,t.pps||(t.pps=[r.data]);break;case 9:i=!1,t.audFound=!0,a&&wr(a,t),a=this.avcSample=yr(!1,n.pts,n.dts,"");break;case 12:i=!0;break;default:i=!1,a&&(a.debug+="unknown NAL "+r.type+" ")}a&&i&&a.units.push(r)})),r&&a&&(wr(a,t),this.avcSample=null)}getLastNalUnit(t){var e;let n,r=this.avcSample;if(r&&0!==r.units.length||(r=t[t.length-1]),null!=(e=r)&&e.units){const t=r.units;n=t[t.length-1]}return n}parseAVCNALu(t,e){const n=e.byteLength;let r=t.naluState||0;const o=r,i=[];let a,s,u,c=0,l=-1,f=0;for(-1===r&&(l=0,f=31&e[0],r=0,c=1);c<n;)if(a=e[c++],r)if(1!==r)if(a)if(1===a){if(l>=0){const t={data:e.subarray(l,c-r-1),type:f};i.push(t)}else{const n=this.getLastNalUnit(t.samples);if(n&&(o&&c<=4-o&&n.state&&(n.data=n.data.subarray(0,n.data.byteLength-o)),s=c-r-1,s>0)){const t=new Uint8Array(n.data.byteLength+s);t.set(n.data,0),t.set(e.subarray(0,s),n.data.byteLength),n.data=t,n.state=0}}c<n?(u=31&e[c],l=c,f=u,r=0):r=-1}else r=0;else r=3;else r=a?0:2;else r=a?0:1;if(l>=0&&r>=0){const t={data:e.subarray(l,n),type:f,state:r};i.push(t)}if(0===i.length){const n=this.getLastNalUnit(t.samples);if(n){const t=new Uint8Array(n.data.byteLength+e.byteLength);t.set(n.data,0),t.set(e,n.data.byteLength),n.data=t}}return t.naluState=r,i}parseAACPES(t,e){let n=0;const r=this.aacOverFlow;let o,i,a,s=e.data;if(r){this.aacOverFlow=null;const e=r.missing,o=r.sample.unit.byteLength;if(-1===e){const t=new Uint8Array(o+s.byteLength);t.set(r.sample.unit,0),t.set(s,o),s=t}else{const i=o-e;r.sample.unit.set(s.subarray(0,e),i),t.samples.push(r.sample),n=r.missing}}for(o=n,i=s.length;o<i-1&&!Wn(s,o);o++);if(o!==n){let t;const e=o<i-1;t=e?`AAC PES did not start with ADTS header,offset:${o}`:"No ADTS header found in AAC PES";const n=new Error(t);if(m.warn(`parsing error: ${t}`),this.observer.emit(f.ERROR,f.ERROR,{type:h.MEDIA_ERROR,details:p.FRAG_PARSING_ERROR,fatal:!1,levelRetry:e,error:n,reason:t}),!e)return}if(Xn(t,this.observer,s,o,this.audioCodec),void 0!==e.pts)a=e.pts;else{if(!r)return void m.warn("[tsdemuxer]: AAC PES unknown PTS");{const e=Qn(t.samplerate);a=r.sample.pts+e}}let u,c=0;for(;o<i;){if(u=Jn(t,s,o,a,c),o+=u.length,u.missing){this.aacOverFlow=u;break}for(c++;o<i-1&&!Wn(s,o);o++);}}parseMPEGPES(t,e){const n=e.data,r=n.length;let o=0,i=0;const a=e.pts;if(void 0!==a)for(;i<r;)if(cr(n,i)){const e=ar(t,n,i,a,o);if(!e)break;i+=e.length,o++}else i++;else m.warn("[tsdemuxer]: MPEG PES unknown PTS")}parseID3PES(t,e){if(void 0===e.pts)return void m.warn("[tsdemuxer]: ID3 PES unknown PTS");const n=c({},e,{type:this._avcTrack?ye:pe,duration:Number.POSITIVE_INFINITY});t.samples.push(n)}}function yr(t,e,n,r){return{key:t,frame:!1,pts:e,dts:n,units:[],debug:r,length:0}}function vr(t,e){return((31&t[e+1])<<8)+t[e+2]}function gr(t,e){return(31&t[e+10])<<8|t[e+11]}function mr(t,e,n,r){const o={audio:-1,avc:-1,id3:-1,segmentCodec:"aac"},i=e+3+((15&t[e+1])<<8|t[e+2])-4;for(e+=12+((15&t[e+10])<<8|t[e+11]);e<i;){const i=vr(t,e);switch(t[e]){case 207:if(!r){m.log("ADTS AAC with AES-128-CBC frame encryption found in unencrypted stream");break}case 15:-1===o.audio&&(o.audio=i);break;case 21:-1===o.id3&&(o.id3=i);break;case 219:if(!r){m.log("H.264 with AES-128-CBC slice encryption found in unencrypted stream");break}case 27:-1===o.avc&&(o.avc=i);break;case 3:case 4:!0!==n.mpeg&&!0!==n.mp3?m.log("MPEG audio found, not supported in this browser"):-1===o.audio&&(o.audio=i,o.segmentCodec="mp3");break;case 36:m.warn("Unsupported HEVC stream type found")}e+=5+((15&t[e+3])<<8|t[e+4])}return o}function br(t){let e,n,r,o,i,a=0;const s=t.data;if(!t||0===t.size)return null;for(;s[0].length<19&&s.length>1;){const t=new Uint8Array(s[0].length+s[1].length);t.set(s[0]),t.set(s[1],s[0].length),s[0]=t,s.splice(1,1)}if(e=s[0],1===(e[0]<<16)+(e[1]<<8)+e[2]){if(n=(e[4]<<8)+e[5],n&&n>t.size-6)return null;const u=e[7];192&u&&(o=536870912*(14&e[9])+4194304*(255&e[10])+16384*(254&e[11])+128*(255&e[12])+(254&e[13])/2,64&u?(i=536870912*(14&e[14])+4194304*(255&e[15])+16384*(254&e[16])+128*(255&e[17])+(254&e[18])/2,o-i>54e5&&(m.warn(`${Math.round((o-i)/9e4)}s delta between PTS and DTS, align them`),o=i)):i=o),r=e[8];let c=r+9;if(t.size<=c)return null;t.size-=c;const l=new Uint8Array(t.size);for(let t=0,n=s.length;t<n;t++){e=s[t];let n=e.byteLength;if(c){if(c>n){c-=n;continue}e=e.subarray(c),n-=c,c=0}l.set(e,a),a+=n}return n&&(n-=r+3),{data:l,pts:o,dts:i,len:n}}return null}function wr(t,e){if(t.units.length&&t.frame){if(void 0===t.pts){const n=e.samples,r=n.length;if(!r)return void e.dropped++;{const e=n[r-1];t.pts=e.pts,t.dts=e.dts}}e.samples.push(t)}t.debug.length&&m.log(t.pts+"/"+t.dts+":"+t.debug)}class Ar{static getSilentFrame(t,e){if("mp4a.40.2"===t){if(1===e)return new Uint8Array([0,200,0,128,35,128]);if(2===e)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(3===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(4===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(5===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(6===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224])}else{if(1===e)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(2===e)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(3===e)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}}}const xr=Math.pow(2,32)-1;class Cr{static init(){let t;for(t in Cr.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]},Cr.types)Cr.types.hasOwnProperty(t)&&(Cr.types[t]=[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3)]);const e=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),n=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);Cr.HDLR_TYPES={video:e,audio:n};const r=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),o=new Uint8Array([0,0,0,0,0,0,0,0]);Cr.STTS=Cr.STSC=Cr.STCO=o,Cr.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),Cr.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),Cr.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),Cr.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);const i=new Uint8Array([105,115,111,109]),a=new Uint8Array([97,118,99,49]),s=new Uint8Array([0,0,0,1]);Cr.FTYP=Cr.box(Cr.types.ftyp,i,s,i,a),Cr.DINF=Cr.box(Cr.types.dinf,Cr.box(Cr.types.dref,r))}static box(t,...e){let n=8,r=e.length;const o=r;for(;r--;)n+=e[r].byteLength;const i=new Uint8Array(n);for(i[0]=n>>24&255,i[1]=n>>16&255,i[2]=n>>8&255,i[3]=255&n,i.set(t,4),r=0,n=8;r<o;r++)i.set(e[r],n),n+=e[r].byteLength;return i}static hdlr(t){return Cr.box(Cr.types.hdlr,Cr.HDLR_TYPES[t])}static mdat(t){return Cr.box(Cr.types.mdat,t)}static mdhd(t,e){e*=t;const n=Math.floor(e/(xr+1)),r=Math.floor(e%(xr+1));return Cr.box(Cr.types.mdhd,new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,t>>24&255,t>>16&255,t>>8&255,255&t,n>>24,n>>16&255,n>>8&255,255&n,r>>24,r>>16&255,r>>8&255,255&r,85,196,0,0]))}static mdia(t){return Cr.box(Cr.types.mdia,Cr.mdhd(t.timescale,t.duration),Cr.hdlr(t.type),Cr.minf(t))}static mfhd(t){return Cr.box(Cr.types.mfhd,new Uint8Array([0,0,0,0,t>>24,t>>16&255,t>>8&255,255&t]))}static minf(t){return"audio"===t.type?Cr.box(Cr.types.minf,Cr.box(Cr.types.smhd,Cr.SMHD),Cr.DINF,Cr.stbl(t)):Cr.box(Cr.types.minf,Cr.box(Cr.types.vmhd,Cr.VMHD),Cr.DINF,Cr.stbl(t))}static moof(t,e,n){return Cr.box(Cr.types.moof,Cr.mfhd(t),Cr.traf(n,e))}static moov(t){let e=t.length;const n=[];for(;e--;)n[e]=Cr.trak(t[e]);return Cr.box.apply(null,[Cr.types.moov,Cr.mvhd(t[0].timescale,t[0].duration)].concat(n).concat(Cr.mvex(t)))}static mvex(t){let e=t.length;const n=[];for(;e--;)n[e]=Cr.trex(t[e]);return Cr.box.apply(null,[Cr.types.mvex,...n])}static mvhd(t,e){e*=t;const n=Math.floor(e/(xr+1)),r=Math.floor(e%(xr+1)),o=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,t>>24&255,t>>16&255,t>>8&255,255&t,n>>24,n>>16&255,n>>8&255,255&n,r>>24,r>>16&255,r>>8&255,255&r,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return Cr.box(Cr.types.mvhd,o)}static sdtp(t){const e=t.samples||[],n=new Uint8Array(4+e.length);let r,o;for(r=0;r<e.length;r++)o=e[r].flags,n[r+4]=o.dependsOn<<4|o.isDependedOn<<2|o.hasRedundancy;return Cr.box(Cr.types.sdtp,n)}static stbl(t){return Cr.box(Cr.types.stbl,Cr.stsd(t),Cr.box(Cr.types.stts,Cr.STTS),Cr.box(Cr.types.stsc,Cr.STSC),Cr.box(Cr.types.stsz,Cr.STSZ),Cr.box(Cr.types.stco,Cr.STCO))}static avc1(t){let e,n,r,o=[],i=[];for(e=0;e<t.sps.length;e++)n=t.sps[e],r=n.byteLength,o.push(r>>>8&255),o.push(255&r),o=o.concat(Array.prototype.slice.call(n));for(e=0;e<t.pps.length;e++)n=t.pps[e],r=n.byteLength,i.push(r>>>8&255),i.push(255&r),i=i.concat(Array.prototype.slice.call(n));const a=Cr.box(Cr.types.avcC,new Uint8Array([1,o[3],o[4],o[5],255,224|t.sps.length].concat(o).concat([t.pps.length]).concat(i))),s=t.width,u=t.height,c=t.pixelRatio[0],l=t.pixelRatio[1];return Cr.box(Cr.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,s>>8&255,255&s,u>>8&255,255&u,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),a,Cr.box(Cr.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),Cr.box(Cr.types.pasp,new Uint8Array([c>>24,c>>16&255,c>>8&255,255&c,l>>24,l>>16&255,l>>8&255,255&l])))}static esds(t){const e=t.config.length;return new Uint8Array([0,0,0,0,3,23+e,0,1,0,4,15+e,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([e]).concat(t.config).concat([6,1,2]))}static mp4a(t){const e=t.samplerate;return Cr.box(Cr.types.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,t.channelCount,0,16,0,0,0,0,e>>8&255,255&e,0,0]),Cr.box(Cr.types.esds,Cr.esds(t)))}static mp3(t){const e=t.samplerate;return Cr.box(Cr.types[".mp3"],new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,t.channelCount,0,16,0,0,0,0,e>>8&255,255&e,0,0]))}static stsd(t){return"audio"===t.type?"mp3"===t.segmentCodec&&"mp3"===t.codec?Cr.box(Cr.types.stsd,Cr.STSD,Cr.mp3(t)):Cr.box(Cr.types.stsd,Cr.STSD,Cr.mp4a(t)):Cr.box(Cr.types.stsd,Cr.STSD,Cr.avc1(t))}static tkhd(t){const e=t.id,n=t.duration*t.timescale,r=t.width,o=t.height,i=Math.floor(n/(xr+1)),a=Math.floor(n%(xr+1));return Cr.box(Cr.types.tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,255&e,0,0,0,0,i>>24,i>>16&255,i>>8&255,255&i,a>>24,a>>16&255,a>>8&255,255&a,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,r>>8&255,255&r,0,0,o>>8&255,255&o,0,0]))}static traf(t,e){const n=Cr.sdtp(t),r=t.id,o=Math.floor(e/(xr+1)),i=Math.floor(e%(xr+1));return Cr.box(Cr.types.traf,Cr.box(Cr.types.tfhd,new Uint8Array([0,0,0,0,r>>24,r>>16&255,r>>8&255,255&r])),Cr.box(Cr.types.tfdt,new Uint8Array([1,0,0,0,o>>24,o>>16&255,o>>8&255,255&o,i>>24,i>>16&255,i>>8&255,255&i])),Cr.trun(t,n.length+16+20+8+16+8+8),n)}static trak(t){return t.duration=t.duration||4294967295,Cr.box(Cr.types.trak,Cr.tkhd(t),Cr.mdia(t))}static trex(t){const e=t.id;return Cr.box(Cr.types.trex,new Uint8Array([0,0,0,0,e>>24,e>>16&255,e>>8&255,255&e,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))}static trun(t,e){const n=t.samples||[],r=n.length,o=12+16*r,i=new Uint8Array(o);let a,s,u,c,l,f;for(e+=8+o,i.set(["video"===t.type?1:0,0,15,1,r>>>24&255,r>>>16&255,r>>>8&255,255&r,e>>>24&255,e>>>16&255,e>>>8&255,255&e],0),a=0;a<r;a++)s=n[a],u=s.duration,c=s.size,l=s.flags,f=s.cts,i.set([u>>>24&255,u>>>16&255,u>>>8&255,255&u,c>>>24&255,c>>>16&255,c>>>8&255,255&c,l.isLeading<<2|l.dependsOn,l.isDependedOn<<6|l.hasRedundancy<<4|l.paddingValue<<1|l.isNonSync,61440&l.degradPrio,15&l.degradPrio,f>>>24&255,f>>>16&255,f>>>8&255,255&f],12+16*a);return Cr.box(Cr.types.trun,i)}static initSegment(t){Cr.types||Cr.init();const e=Cr.moov(t),n=new Uint8Array(Cr.FTYP.byteLength+e.byteLength);return n.set(Cr.FTYP),n.set(e,Cr.FTYP.byteLength),n}}function Er(t,e,n=1,r=!1){const o=t*e*n;return r?Math.round(o):o}function kr(t,e=!1){return Er(t,1e3,1/9e4,e)}Cr.types=void 0,Cr.HDLR_TYPES=void 0,Cr.STTS=void 0,Cr.STSC=void 0,Cr.STCO=void 0,Cr.STSZ=void 0,Cr.VMHD=void 0,Cr.SMHD=void 0,Cr.STSD=void 0,Cr.FTYP=void 0,Cr.DINF=void 0;let Lr,_r=null,Sr=null;class Pr{constructor(t,e,n,r=""){if(this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.ISGenerated=!1,this._initPTS=null,this._initDTS=null,this.nextAvcDts=null,this.nextAudioPts=null,this.videoSampleDuration=null,this.isAudioContiguous=!1,this.isVideoContiguous=!1,this.observer=t,this.config=e,this.typeSupported=n,this.ISGenerated=!1,null===_r){const t=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);_r=t?parseInt(t[1]):0}if(null===Sr){const t=navigator.userAgent.match(/Safari\/(\d+)/i);Sr=t?parseInt(t[1]):0}}destroy(){}resetTimeStamp(t){m.log("[mp4-remuxer]: initPTS & initDTS reset"),this._initPTS=this._initDTS=t}resetNextTimestamp(){m.log("[mp4-remuxer]: reset next timestamp"),this.isVideoContiguous=!1,this.isAudioContiguous=!1}resetInitSegment(){m.log("[mp4-remuxer]: ISGenerated flag reset"),this.ISGenerated=!1}getVideoStartPts(t){let e=!1;const n=t.reduce(((t,n)=>{const r=n.pts-t;return r<-4294967296?(e=!0,Tr(t,n.pts)):r>0?t:n.pts}),t[0].pts);return e&&m.debug("PTS rollover detected"),n}remux(t,e,n,r,o,i,a,s){let u,c,l,f,h,p,d=o,y=o;const v=t.pid>-1,g=e.pid>-1,b=e.samples.length,w=t.samples.length>0,A=a&&b>0||b>1;if((!v||w)&&(!g||A)||this.ISGenerated||a){this.ISGenerated||(l=this.generateIS(t,e,o,i));const n=this.isVideoContiguous;let r,a=-1;if(A&&(a=function(t){for(let e=0;e<t.length;e++)if(t[e].key)return e;return-1}(e.samples),!n&&this.config.forceKeyFrameOnDiscontinuity))if(p=!0,a>0){m.warn(`[mp4-remuxer]: Dropped ${a} out of ${b} video samples due to a missing keyframe`);const t=this.getVideoStartPts(e.samples);e.samples=e.samples.slice(a),e.dropped+=a,y+=(e.samples[0].pts-t)/e.inputTimeScale,r=y}else-1===a&&(m.warn(`[mp4-remuxer]: No keyframe found out of ${b} video samples`),p=!1);if(this.ISGenerated){if(w&&A){const n=this.getVideoStartPts(e.samples),r=(Tr(t.samples[0].pts,n)-n)/e.inputTimeScale;d+=Math.max(0,r),y+=Math.max(0,-r)}if(w){if(t.samplerate||(m.warn("[mp4-remuxer]: regenerate InitSegment as audio detected"),l=this.generateIS(t,e,o,i)),c=this.remuxAudio(t,d,this.isAudioContiguous,i,g||A||s===oe?y:void 0),A){const r=c?c.endPTS-c.startPTS:0;e.inputTimeScale||(m.warn("[mp4-remuxer]: regenerate InitSegment as video detected"),l=this.generateIS(t,e,o,i)),u=this.remuxVideo(e,y,n,r)}}else A&&(u=this.remuxVideo(e,y,n,0));u&&(u.firstKeyFrame=a,u.independent=-1!==a,u.firstKeyFramePTS=r)}}return this.ISGenerated&&this._initPTS&&this._initDTS&&(n.samples.length&&(h=Or(n,o,this._initPTS,this._initDTS)),r.samples.length&&(f=Rr(r,o,this._initPTS))),{audio:c,video:u,initSegment:l,independent:p,text:f,id3:h}}generateIS(t,e,n,r){const o=t.samples,i=e.samples,a=this.typeSupported,s={},u=this._initPTS;let c,l,f,h=!u||r,p="audio/mp4";if(h&&(c=l=1/0),t.config&&o.length&&(t.timescale=t.samplerate,"mp3"===t.segmentCodec&&(a.mpeg?(p="audio/mpeg",t.codec=""):a.mp3&&(t.codec="mp3")),s.audio={id:"audio",container:p,codec:t.codec,initSegment:"mp3"===t.segmentCodec&&a.mpeg?new Uint8Array(0):Cr.initSegment([t]),metadata:{channelCount:t.channelCount}},h&&(f=t.inputTimeScale,u&&f===u.timescale?h=!1:c=l=o[0].pts-Math.round(f*n))),e.sps&&e.pps&&i.length&&(e.timescale=e.inputTimeScale,s.video={id:"main",container:"video/mp4",codec:e.codec,initSegment:Cr.initSegment([e]),metadata:{width:e.width,height:e.height}},h))if(f=e.inputTimeScale,u&&f===u.timescale)h=!1;else{const t=this.getVideoStartPts(i),e=Math.round(f*n);l=Math.min(l,Tr(i[0].dts,t)-e),c=Math.min(c,t-e)}if(Object.keys(s).length)return this.ISGenerated=!0,h?(this._initPTS={baseTime:c,timescale:f},this._initDTS={baseTime:l,timescale:f}):c=f=void 0,{tracks:s,initPTS:c,timescale:f}}remuxVideo(t,e,n,r){const o=t.inputTimeScale,i=t.samples,a=[],s=i.length,u=this._initPTS;let l,d,y=this.nextAvcDts,v=8,g=this.videoSampleDuration,b=Number.POSITIVE_INFINITY,w=Number.NEGATIVE_INFINITY,A=!1;n&&null!==y||(y=e*o-(i[0].pts-Tr(i[0].dts,i[0].pts)));const x=u.baseTime*o/u.timescale;for(let t=0;t<s;t++){const e=i[t];e.pts=Tr(e.pts-x,y),e.dts=Tr(e.dts-x,y),e.dts<i[t>0?t-1:t].dts&&(A=!0)}A&&i.sort((function(t,e){const n=t.dts-e.dts,r=t.pts-e.pts;return n||r})),l=i[0].dts,d=i[i.length-1].dts;const C=d-l,E=C?Math.round(C/(s-1)):g||t.inputTimeScale/30;if(n){const t=l-y,e=t>E,n=t<-1;if((e||n)&&(e?m.warn(`AVC: ${kr(t,!0)} ms (${t}dts) hole between fragments detected, filling it`):m.warn(`AVC: ${kr(-t,!0)} ms (${t}dts) overlapping between fragments detected`),!n||y>=i[0].pts)){l=y;const e=i[0].pts-t;i[0].dts=l,i[0].pts=e,m.log(`Video: First PTS/DTS adjusted: ${kr(e,!0)}/${kr(l,!0)}, delta: ${kr(t,!0)} ms`)}}l=Math.max(0,l);let k=0,L=0;for(let t=0;t<s;t++){const e=i[t],n=e.units,r=n.length;let o=0;for(let t=0;t<r;t++)o+=n[t].data.length;L+=o,k+=r,e.length=o,e.dts=Math.max(e.dts,l),b=Math.min(e.pts,b),w=Math.max(e.pts,w)}d=i[s-1].dts;const _=L+4*k+8;let S;try{S=new Uint8Array(_)}catch(t){return void this.observer.emit(f.ERROR,f.ERROR,{type:h.MUX_ERROR,details:p.REMUX_ALLOC_ERROR,fatal:!1,error:t,bytes:_,reason:`fail allocating video mdat ${_}`})}const P=new DataView(S.buffer);P.setUint32(0,_),S.set(Cr.types.mdat,4);let T=!1,O=Number.POSITIVE_INFINITY,R=Number.POSITIVE_INFINITY,I=Number.NEGATIVE_INFINITY,j=Number.NEGATIVE_INFINITY;for(let t=0;t<s;t++){const e=i[t],n=e.units;let u,c=0;for(let t=0,e=n.length;t<e;t++){const e=n[t],r=e.data,o=e.data.byteLength;P.setUint32(v,o),v+=4,S.set(r,v),v+=o,c+=4+o}if(t<s-1)g=i[t+1].dts-e.dts,u=i[t+1].pts-e.pts;else{const n=this.config,a=t>0?e.dts-i[t-1].dts:E;if(u=t>0?e.pts-i[t-1].pts:E,n.stretchShortVideoTrack&&null!==this.nextAudioPts){const t=Math.floor(n.maxBufferHole*o),i=(r?b+r*o:this.nextAudioPts)-e.pts;i>t?(g=i-a,g<0?g=a:T=!0,m.log(`[mp4-remuxer]: It is approximately ${i/90} ms to the next segment; using duration ${g/90} ms for the last video frame.`)):g=a}else g=a}const l=Math.round(e.pts-e.dts);O=Math.min(O,g),I=Math.max(I,g),R=Math.min(R,u),j=Math.max(j,u),a.push(new Ir(e.key,g,c,l))}if(a.length)if(_r){if(_r<70){const t=a[0].flags;t.dependsOn=2,t.isNonSync=0}}else if(Sr&&j-R<I-O&&E/I<.025&&0===a[0].cts){m.warn("Found irregular gaps in sample duration. Using PTS instead of DTS to determine MP4 sample duration.");let t=l;for(let e=0,n=a.length;e<n;e++){const r=t+a[e].duration,o=t+a[e].cts;if(e<n-1){const t=r+a[e+1].cts;a[e].duration=t-o}else a[e].duration=e?a[e-1].duration:E;a[e].cts=0,t=r}}g=T||!g?E:g,this.nextAvcDts=y=d+g,this.videoSampleDuration=g,this.isVideoContiguous=!0;const D={data1:Cr.moof(t.sequenceNumber++,l,c({},t,{samples:a})),data2:S,startPTS:b/o,endPTS:(w+g)/o,startDTS:l/o,endDTS:y/o,type:"video",hasAudio:!1,hasVideo:!0,nb:a.length,dropped:t.dropped};return t.samples=[],t.dropped=0,D}remuxAudio(t,e,n,r,o){const i=t.inputTimeScale,a=i/(t.samplerate?t.samplerate:i),s="aac"===t.segmentCodec?1024:1152,u=s*a,l=this._initPTS,d="mp3"===t.segmentCodec&&this.typeSupported.mpeg,y=[],v=void 0!==o;let g=t.samples,b=d?0:8,w=this.nextAudioPts||-1;const A=e*i,x=l.baseTime*i/l.timescale;if(this.isAudioContiguous=n=n||g.length&&w>0&&(r&&Math.abs(A-w)<9e3||Math.abs(Tr(g[0].pts-x,A)-w)<20*u),g.forEach((function(t){t.pts=Tr(t.pts-x,A)})),!n||w<0){if(g=g.filter((t=>t.pts>=0)),!g.length)return;w=0===o?0:r&&!v?Math.max(0,A):g[0].pts}if("aac"===t.segmentCodec){const e=this.config.maxAudioFramesDrift;for(let n=0,r=w;n<g.length;n++){const o=g[n],a=o.pts,s=a-r,c=Math.abs(1e3*s/i);if(s<=-e*u&&v)0===n&&(m.warn(`Audio frame @ ${(a/i).toFixed(3)}s overlaps nextAudioPts by ${Math.round(1e3*s/i)} ms.`),this.nextAudioPts=w=r=a);else if(s>=e*u&&c<1e4&&v){let e=Math.round(s/u);r=a-e*u,r<0&&(e--,r+=u),0===n&&(this.nextAudioPts=w=r),m.warn(`[mp4-remuxer]: Injecting ${e} audio frame @ ${(r/i).toFixed(3)}s due to ${Math.round(1e3*s/i)} ms gap.`);for(let i=0;i<e;i++){const e=Math.max(r,0);let i=Ar.getSilentFrame(t.manifestCodec||t.codec,t.channelCount);i||(m.log("[mp4-remuxer]: Unable to get silent frame for given audio codec; duplicating last frame instead."),i=o.unit.subarray()),g.splice(n,0,{unit:i,pts:e}),r+=u,n++}}o.pts=r,r+=u}}let C,E=null,k=null,L=0,_=g.length;for(;_--;)L+=g[_].unit.byteLength;for(let e=0,r=g.length;e<r;e++){const r=g[e],o=r.unit;let i=r.pts;if(null!==k)y[e-1].duration=Math.round((i-k)/a);else{if(n&&"aac"===t.segmentCodec&&(i=w),E=i,!(L>0))return;L+=b;try{C=new Uint8Array(L)}catch(t){return void this.observer.emit(f.ERROR,f.ERROR,{type:h.MUX_ERROR,details:p.REMUX_ALLOC_ERROR,fatal:!1,error:t,bytes:L,reason:`fail allocating audio mdat ${L}`})}d||(new DataView(C.buffer).setUint32(0,L),C.set(Cr.types.mdat,4))}C.set(o,b);const u=o.byteLength;b+=u,y.push(new Ir(!0,s,u,0)),k=i}const S=y.length;if(!S)return;const P=y[y.length-1];this.nextAudioPts=w=k+a*P.duration;const T=d?new Uint8Array(0):Cr.moof(t.sequenceNumber++,E/a,c({},t,{samples:y}));t.samples=[];const O=E/i,R=w/i,I={data1:T,data2:C,startPTS:O,endPTS:R,startDTS:O,endDTS:R,type:"audio",hasAudio:!0,hasVideo:!1,nb:S};return this.isAudioContiguous=!0,I}remuxEmptyAudio(t,e,n,r){const o=t.inputTimeScale,i=o/(t.samplerate?t.samplerate:o),a=this.nextAudioPts,s=this._initDTS,u=9e4*s.baseTime/s.timescale,c=(null!==a?a:r.startDTS*o)+u,l=r.endDTS*o+u,f=1024*i,h=Math.ceil((l-c)/f),p=Ar.getSilentFrame(t.manifestCodec||t.codec,t.channelCount);if(m.warn("[mp4-remuxer]: remux empty Audio"),!p)return void m.trace("[mp4-remuxer]: Unable to remuxEmptyAudio since we were unable to get a silent frame for given audio codec");const d=[];for(let t=0;t<h;t++){const e=c+t*f;d.push({unit:p,pts:e,dts:e})}return t.samples=d,this.remuxAudio(t,e,n,!1)}}function Tr(t,e){let n;if(null===e)return t;for(n=e<t?-8589934592:8589934592;Math.abs(t-e)>4294967296;)t+=n;return t}function Or(t,e,n,r){const o=t.samples.length;if(!o)return;const i=t.inputTimeScale;for(let a=0;a<o;a++){const o=t.samples[a];o.pts=Tr(o.pts-n.baseTime*i/n.timescale,e*i)/i,o.dts=Tr(o.dts-r.baseTime*i/r.timescale,e*i)/i}const a=t.samples;return t.samples=[],{samples:a}}function Rr(t,e,n){const r=t.samples.length;if(!r)return;const o=t.inputTimeScale;for(let i=0;i<r;i++){const r=t.samples[i];r.pts=Tr(r.pts-9e4*n.baseTime/n.timescale,e*o)/o}t.samples.sort(((t,e)=>t.pts-e.pts));const i=t.samples;return t.samples=[],{samples:i}}class Ir{constructor(t,e,n,r){this.size=void 0,this.duration=void 0,this.cts=void 0,this.flags=void 0,this.duration=e,this.size=n,this.cts=r,this.flags=new jr(t)}}class jr{constructor(t){this.isLeading=0,this.isDependedOn=0,this.hasRedundancy=0,this.degradPrio=0,this.dependsOn=1,this.isNonSync=1,this.dependsOn=t?2:1,this.isNonSync=t?0:1}}function Dr(t,e){const n=null==t?void 0:t.codec;return n&&n.length>4?n:"hvc1"===n||"hev1"===n?"hvc1.1.6.L120.90":"av01"===n?"av01.0.04M.08":"avc1"===n||e===L?"avc1.42e01e":"mp4a.40.5"}try{Lr=self.performance.now.bind(self.performance)}catch(t){m.debug("Unable to use Performance API on this environment"),Lr="undefined"!=typeof self&&self.Date.now}const Br=[{demux:class{constructor(t,e){this.remainderData=null,this.timeOffset=0,this.config=void 0,this.videoTrack=void 0,this.audioTrack=void 0,this.id3Track=void 0,this.txtTrack=void 0,this.config=e}resetTimeStamp(){}resetInitSegment(t,e,n,r){const o=this.videoTrack=$n("video",1),i=this.audioTrack=$n("audio",1),a=this.txtTrack=$n("text",1);if(this.id3Track=$n("id3",1),this.timeOffset=0,null==t||!t.byteLength)return;const s=bt(t);if(s.video){const{id:t,timescale:e,codec:n}=s.video;o.id=t,o.timescale=a.timescale=e,o.codec=n}if(s.audio){const{id:t,timescale:e,codec:n}=s.audio;i.id=t,i.timescale=e,i.codec=n}a.id=ft.text,o.sampleDuration=0,o.duration=i.duration=r}resetContiguity(){this.remainderData=null}static probe(t){return gt(t=t.length>16384?t.subarray(0,16384):t,["moof"]).length>0}demux(t,e){this.timeOffset=e;let n=t;const r=this.videoTrack,o=this.txtTrack;if(this.config.progressive){this.remainderData&&(n=xt(this.remainderData,t));const e=function(t){const e={valid:null,remainder:null},n=gt(t,["moof"]);if(!n)return e;if(n.length<2)return e.remainder=t,e;const r=n[n.length-1];return e.valid=z(t,0,r.byteOffset-8),e.remainder=z(t,r.byteOffset-8),e}(n);this.remainderData=e.remainder,r.samples=e.valid||new Uint8Array}else r.samples=n;const i=this.extractID3Track(r,e);return o.samples=Ct(e,r),{videoTrack:r,audioTrack:this.audioTrack,id3Track:i,textTrack:this.txtTrack}}flush(){const t=this.timeOffset,e=this.videoTrack,n=this.txtTrack;e.samples=this.remainderData||new Uint8Array,this.remainderData=null;const r=this.extractID3Track(e,this.timeOffset);return n.samples=Ct(t,e),{videoTrack:e,audioTrack:$n(),id3Track:r,textTrack:$n()}}extractID3Track(t,e){const n=this.id3Track;if(t.samples.length){const r=gt(t.samples,["emsg"]);r&&r.forEach((t=>{const r=function(t){const e=t[0];let n="",r="",o=0,i=0,a=0,s=0,u=0,c=0;if(0===e){for(;"\0"!==ht(t.subarray(c,c+1));)n+=ht(t.subarray(c,c+1)),c+=1;for(n+=ht(t.subarray(c,c+1)),c+=1;"\0"!==ht(t.subarray(c,c+1));)r+=ht(t.subarray(c,c+1)),c+=1;r+=ht(t.subarray(c,c+1)),c+=1,o=dt(t,12),i=dt(t,16),s=dt(t,20),u=dt(t,24),c=28}else if(1===e){c+=4,o=dt(t,c),c+=4;const e=dt(t,c);c+=4;const i=dt(t,c);for(c+=4,a=2**32*e+i,Number.isSafeInteger(a)||(a=Number.MAX_SAFE_INTEGER,m.warn("Presentation time exceeds safe integer limit and wrapped to max safe integer in parsing emsg box")),s=dt(t,c),c+=4,u=dt(t,c),c+=4;"\0"!==ht(t.subarray(c,c+1));)n+=ht(t.subarray(c,c+1)),c+=1;for(n+=ht(t.subarray(c,c+1)),c+=1;"\0"!==ht(t.subarray(c,c+1));)r+=ht(t.subarray(c,c+1)),c+=1;r+=ht(t.subarray(c,c+1)),c+=1}return{schemeIdUri:n,value:r,timeScale:o,presentationTime:a,presentationTimeDelta:i,eventDuration:s,id:u,payload:t.subarray(c,t.byteLength)}}(t);if(tr.test(r.schemeIdUri)){const t=l(r.presentationTime)?r.presentationTime/r.timeScale:e+r.presentationTimeDelta/r.timeScale;let o=4294967295===r.eventDuration?Number.POSITIVE_INFINITY:r.eventDuration/r.timeScale;o<=.001&&(o=Number.POSITIVE_INFINITY);const i=r.payload;n.samples.push({data:i,len:i.byteLength,dts:t,pts:t,type:ye,duration:o})}}))}return n}demuxSampleAes(t,e,n){return Promise.reject(new Error("The MP4 demuxer does not support SAMPLE-AES decryption"))}destroy(){}},remux:class{constructor(){this.emitInitSegment=!1,this.audioCodec=void 0,this.videoCodec=void 0,this.initData=void 0,this.initPTS=null,this.initTracks=void 0,this.lastEndTime=null}destroy(){}resetTimeStamp(t){this.initPTS=t,this.lastEndTime=null}resetNextTimestamp(){this.lastEndTime=null}resetInitSegment(t,e,n,r){this.audioCodec=e,this.videoCodec=n,this.generateInitSegment(function(t,e){if(!t||!e)return t;const n=e.keyId;return n&&e.isCommonEncryption&&gt(t,["moov","trak"]).forEach((t=>{const e=gt(t,["mdia","minf","stbl","stsd"])[0].subarray(8);let r=gt(e,["enca"]);const o=r.length>0;o||(r=gt(e,["encv"])),r.forEach((t=>{gt(o?t.subarray(28):t.subarray(78),["sinf"]).forEach((t=>{const e=wt(t);if(e){const t=e.subarray(8,24);t.some((t=>0!==t))||(m.log(`[eme] Patching keyId in 'enc${o?"a":"v"}>sinf>>tenc' box: ${ut(t)} -> ${ut(n)}`),e.set(n,8))}}))}))})),t}(t,r)),this.emitInitSegment=!0}generateInitSegment(t){let{audioCodec:e,videoCodec:n}=this;if(null==t||!t.byteLength)return this.initTracks=void 0,void(this.initData=void 0);const r=this.initData=bt(t);e||(e=Dr(r.audio,k)),n||(n=Dr(r.video,L));const o={};r.audio&&r.video?o.audiovideo={container:"video/mp4",codec:e+","+n,initSegment:t,id:"main"}:r.audio?o.audio={container:"audio/mp4",codec:e,initSegment:t,id:"audio"}:r.video?o.video={container:"video/mp4",codec:n,initSegment:t,id:"main"}:m.warn("[passthrough-remuxer.ts]: initSegment does not contain moov or trak boxes."),this.initTracks=o}remux(t,e,n,r,o,i){var a,s;let{initPTS:u,lastEndTime:c}=this;const f={audio:void 0,video:void 0,text:r,id3:n,initSegment:void 0};l(c)||(c=this.lastEndTime=o||0);const h=e.samples;if(null==h||!h.length)return f;const p={initPTS:void 0,timescale:1};let d=this.initData;if(null!=(a=d)&&a.length||(this.generateInitSegment(h),d=this.initData),null==(s=d)||!s.length)return m.warn("[passthrough-remuxer.ts]: Failed to generate initSegment."),f;this.emitInitSegment&&(p.tracks=this.initTracks,this.emitInitSegment=!1);const y=function(t,e){let n=0,r=0,o=0;const i=gt(t,["moof","traf"]);for(let t=0;t<i.length;t++){const a=i[t],s=gt(a,["tfhd"])[0],u=e[dt(s,4)];if(!u)continue;const c=u.default,l=dt(s,0)|(null==c?void 0:c.flags);let f=null==c?void 0:c.duration;8&l&&(f=dt(s,2&l?12:8));const h=u.timescale||9e4,p=gt(a,["trun"]);for(let t=0;t<p.length;t++)n=At(p[t]),!n&&f&&(n=f*dt(p[t],4)),u.type===L?r+=n/h:u.type===k&&(o+=n/h)}if(0===r&&0===o){let e=0;const n=gt(t,["sidx"]);for(let t=0;t<n.length;t++){const r=mt(n[t]);null!=r&&r.references&&(e+=r.references.reduce(((t,e)=>t+e.info.duration||0),0))}return e}return r||o}(h,d),v=function(t,e){return gt(e,["moof","traf"]).reduce(((e,n)=>{const r=gt(n,["tfdt"])[0],o=r[0],i=gt(n,["tfhd"]).reduce(((e,n)=>{const i=dt(n,4),a=t[i];if(a){let t=dt(r,4);if(1===o){if(t===ct)return m.warn("[mp4-demuxer]: Ignoring assumed invalid signed 64-bit track fragment decode time"),e;t*=ct+1,t+=dt(r,8)}const n=t/(a.timescale||9e4);if(isFinite(n)&&(null===e||n<e))return n}return e}),null);return null!==i&&isFinite(i)&&(null===e||i<e)?i:e}),null)}(d,h),g=null===v?o:v;(function(t,e,n,r){if(null===t)return!0;const o=Math.max(r,1),i=e-t.baseTime/t.timescale;return Math.abs(i-n)>o}(u,g,o,y)||p.timescale!==u.timescale&&i)&&(p.initPTS=g-o,u&&1===u.timescale&&m.warn("Adjusting initPTS by "+(p.initPTS-u.baseTime)),this.initPTS=u={baseTime:p.initPTS,timescale:1});const b=t?g-u.baseTime/u.timescale:c,w=b+y;!function(t,e,n){gt(e,["moof","traf"]).forEach((e=>{gt(e,["tfhd"]).forEach((r=>{const o=dt(r,4),i=t[o];if(!i)return;const a=i.timescale||9e4;gt(e,["tfdt"]).forEach((t=>{const e=t[0];let r=dt(t,4);if(0===e)r-=n*a,r=Math.max(r,0),vt(t,4,r);else{r*=Math.pow(2,32),r+=dt(t,8),r-=n*a,r=Math.max(r,0);const e=Math.floor(r/(ct+1)),o=Math.floor(r%(ct+1));vt(t,4,e),vt(t,8,o)}}))}))}))}(d,h,u.baseTime/u.timescale),y>0?this.lastEndTime=w:(m.warn("Duration parsed from mp4 should be greater than zero"),this.resetNextTimestamp());const A=!!d.audio,x=!!d.video;let C="";A&&(C+="audio"),x&&(C+="video");const E={data1:h,startPTS:b,startDTS:b,endPTS:w,endDTS:w,type:C,hasAudio:A,hasVideo:x,nb:1,dropped:0};return f.audio="audio"===E.type?E:void 0,f.video="audio"!==E.type?E:void 0,f.initSegment=p,f.id3=Or(n,o,u,u),r.samples.length&&(f.text=Rr(r,o,u)),f}}},{demux:dr,remux:Pr},{demux:class extends Zn{constructor(t,e){super(),this.observer=void 0,this.config=void 0,this.observer=t,this.config=e}resetInitSegment(t,e,n,r){super.resetInitSegment(t,e,n,r),this._audioTrack={container:"audio/adts",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"aac",samples:[],manifestCodec:e,duration:r,inputTimeScale:9e4,dropped:0}}static probe(t){if(!t)return!1;let e=(K(t,0)||[]).length;for(let n=t.length;e<n;e++)if(qn(t,e))return m.log("ADTS sync word found !"),!0;return!1}canParse(t,e){return function(t,e){return function(t,e){return e+5<t.length}(t,e)&&Hn(t,e)&&Kn(t,e)<=t.length-e}(t,e)}appendFrame(t,e,n){Xn(t,this.observer,e,n,t.manifestCodec);const r=Jn(t,e,n,this.basePTS,this.frameIndex);if(r&&0===r.missing)return r}},remux:Pr},{demux:class extends Zn{resetInitSegment(t,e,n,r){super.resetInitSegment(t,e,n,r),this._audioTrack={container:"audio/mpeg",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"mp3",samples:[],manifestCodec:e,duration:r,inputTimeScale:9e4,dropped:0}}static probe(t){if(!t)return!1;let e=(K(t,0)||[]).length;for(let n=t.length;e<n;e++)if(lr(t,e))return m.log("MPEG Audio sync word found !"),!0;return!1}canParse(t,e){return function(t,e){return ur(t,e)&&4<=t.length-e}(t,e)}appendFrame(t,e,n){if(null!==this.basePTS)return ar(t,e,n,this.basePTS,this.frameIndex)}},remux:Pr}];class Nr{constructor(t,e,n,r,o){this.async=!1,this.observer=void 0,this.typeSupported=void 0,this.config=void 0,this.vendor=void 0,this.id=void 0,this.demuxer=void 0,this.remuxer=void 0,this.decrypter=void 0,this.probe=void 0,this.decryptionPromise=null,this.transmuxConfig=void 0,this.currentTransmuxState=void 0,this.observer=t,this.typeSupported=e,this.config=n,this.vendor=r,this.id=o}configure(t){this.transmuxConfig=t,this.decrypter&&this.decrypter.reset()}push(t,e,n,r){const o=n.transmuxing;o.executeStart=Lr();let i=new Uint8Array(t);const{currentTransmuxState:a,transmuxConfig:s}=this;r&&(this.currentTransmuxState=r);const{contiguous:u,discontinuity:c,trackSwitch:l,accurateTimeOffset:d,timeOffset:y,initSegmentChange:v}=r||a,{audioCodec:g,videoCodec:b,defaultInitPts:w,duration:A,initSegmentData:x}=s,C=function(t,e){let n=null;return t.byteLength>0&&null!=e&&null!=e.key&&null!==e.iv&&null!=e.method&&(n=e),n}(i,e);if(C&&"AES-128"===C.method){const t=this.getDecrypter();if(!t.isSync())return this.decryptionPromise=t.webCryptoDecrypt(i,C.key.buffer,C.iv.buffer).then((t=>{const e=this.push(t,null,n);return this.decryptionPromise=null,e})),this.decryptionPromise;{let e=t.softwareDecrypt(i,C.key.buffer,C.iv.buffer);if(n.part>-1&&(e=t.flush()),!e)return o.executeEnd=Lr(),Mr(n);i=new Uint8Array(e)}}const E=this.needsProbing(c,l);if(E){const t=this.configureTransmuxer(i);if(t)return m.warn(`[transmuxer] ${t.message}`),this.observer.emit(f.ERROR,f.ERROR,{type:h.MEDIA_ERROR,details:p.FRAG_PARSING_ERROR,fatal:!1,error:t,reason:t.message}),o.executeEnd=Lr(),Mr(n)}(c||l||v||E)&&this.resetInitSegment(x,g,b,A,e),(c||v||E)&&this.resetInitialTimestamp(w),u||this.resetContiguity();const k=this.transmux(i,C,y,d,n),L=this.currentTransmuxState;return L.contiguous=!0,L.discontinuity=!1,L.trackSwitch=!1,o.executeEnd=Lr(),k}flush(t){const e=t.transmuxing;e.executeStart=Lr();const{decrypter:n,currentTransmuxState:r,decryptionPromise:o}=this;if(o)return o.then((()=>this.flush(t)));const i=[],{timeOffset:a}=r;if(n){const e=n.flush();e&&i.push(this.push(e,null,t))}const{demuxer:s,remuxer:u}=this;if(!s||!u)return e.executeEnd=Lr(),[Mr(t)];const c=s.flush(a);return Fr(c)?c.then((e=>(this.flushRemux(i,e,t),i))):(this.flushRemux(i,c,t),i)}flushRemux(t,e,n){const{audioTrack:r,videoTrack:o,id3Track:i,textTrack:a}=e,{accurateTimeOffset:s,timeOffset:u}=this.currentTransmuxState;m.log(`[transmuxer.ts]: Flushed fragment ${n.sn}${n.part>-1?" p: "+n.part:""} of level ${n.level}`);const c=this.remuxer.remux(r,o,i,a,u,s,!0,this.id);t.push({remuxResult:c,chunkMeta:n}),n.transmuxing.executeEnd=Lr()}resetInitialTimestamp(t){const{demuxer:e,remuxer:n}=this;e&&n&&(e.resetTimeStamp(t),n.resetTimeStamp(t))}resetContiguity(){const{demuxer:t,remuxer:e}=this;t&&e&&(t.resetContiguity(),e.resetNextTimestamp())}resetInitSegment(t,e,n,r,o){const{demuxer:i,remuxer:a}=this;i&&a&&(i.resetInitSegment(t,e,n,r),a.resetInitSegment(t,e,n,o))}destroy(){this.demuxer&&(this.demuxer.destroy(),this.demuxer=void 0),this.remuxer&&(this.remuxer.destroy(),this.remuxer=void 0)}transmux(t,e,n,r,o){let i;return i=e&&"SAMPLE-AES"===e.method?this.transmuxSampleAes(t,e,n,r,o):this.transmuxUnencrypted(t,n,r,o),i}transmuxUnencrypted(t,e,n,r){const{audioTrack:o,videoTrack:i,id3Track:a,textTrack:s}=this.demuxer.demux(t,e,!1,!this.config.progressive);return{remuxResult:this.remuxer.remux(o,i,a,s,e,n,!1,this.id),chunkMeta:r}}transmuxSampleAes(t,e,n,r,o){return this.demuxer.demuxSampleAes(t,e,n).then((t=>({remuxResult:this.remuxer.remux(t.audioTrack,t.videoTrack,t.id3Track,t.textTrack,n,r,!1,this.id),chunkMeta:o})))}configureTransmuxer(t){const{config:e,observer:n,typeSupported:r,vendor:o}=this;let i;for(let e=0,n=Br.length;e<n;e++)if(Br[e].demux.probe(t)){i=Br[e];break}if(!i)return new Error("Failed to find demuxer by probing fragment data");const a=this.demuxer,s=this.remuxer,u=i.remux,c=i.demux;s&&s instanceof u||(this.remuxer=new u(n,e,r,o)),a&&a instanceof c||(this.demuxer=new c(n,e,r),this.probe=c.probe)}needsProbing(t,e){return!this.demuxer||!this.remuxer||t||e}getDecrypter(){let t=this.decrypter;return t||(t=this.decrypter=new _n(this.config)),t}}const Mr=t=>({remuxResult:{},chunkMeta:t});function Fr(t){return"then"in t&&t.then instanceof Function}class Ur{constructor(t,e,n,r,o){this.audioCodec=void 0,this.videoCodec=void 0,this.initSegmentData=void 0,this.duration=void 0,this.defaultInitPts=void 0,this.audioCodec=t,this.videoCodec=e,this.initSegmentData=n,this.duration=r,this.defaultInitPts=o||null}}class Gr{constructor(t,e,n,r,o,i){this.discontinuity=void 0,this.contiguous=void 0,this.accurateTimeOffset=void 0,this.trackSwitch=void 0,this.timeOffset=void 0,this.initSegmentChange=void 0,this.discontinuity=t,this.contiguous=e,this.accurateTimeOffset=n,this.trackSwitch=r,this.timeOffset=o,this.initSegmentChange=i}}var Vr={exports:{}};!function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}function o(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function i(t,e,r,i,a){if("function"!=typeof r)throw new TypeError("The listener must be a function");var s=new o(r,i||t,a),u=n?n+e:e;return t._events[u]?t._events[u].fn?t._events[u]=[t._events[u],s]:t._events[u].push(s):(t._events[u]=s,t._eventsCount++),t}function a(t,e){0==--t._eventsCount?t._events=new r:delete t._events[e]}function s(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),s.prototype.eventNames=function(){var t,r,o=[];if(0===this._eventsCount)return o;for(r in t=this._events)e.call(t,r)&&o.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?o.concat(Object.getOwnPropertySymbols(t)):o},s.prototype.listeners=function(t){var e=n?n+t:t,r=this._events[e];if(!r)return[];if(r.fn)return[r.fn];for(var o=0,i=r.length,a=new Array(i);o<i;o++)a[o]=r[o].fn;return a},s.prototype.listenerCount=function(t){var e=n?n+t:t,r=this._events[e];return r?r.fn?1:r.length:0},s.prototype.emit=function(t,e,r,o,i,a){var s=n?n+t:t;if(!this._events[s])return!1;var u,c,l=this._events[s],f=arguments.length;if(l.fn){switch(l.once&&this.removeListener(t,l.fn,void 0,!0),f){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,e),!0;case 3:return l.fn.call(l.context,e,r),!0;case 4:return l.fn.call(l.context,e,r,o),!0;case 5:return l.fn.call(l.context,e,r,o,i),!0;case 6:return l.fn.call(l.context,e,r,o,i,a),!0}for(c=1,u=new Array(f-1);c<f;c++)u[c-1]=arguments[c];l.fn.apply(l.context,u)}else{var h,p=l.length;for(c=0;c<p;c++)switch(l[c].once&&this.removeListener(t,l[c].fn,void 0,!0),f){case 1:l[c].fn.call(l[c].context);break;case 2:l[c].fn.call(l[c].context,e);break;case 3:l[c].fn.call(l[c].context,e,r);break;case 4:l[c].fn.call(l[c].context,e,r,o);break;default:if(!u)for(h=1,u=new Array(f-1);h<f;h++)u[h-1]=arguments[h];l[c].fn.apply(l[c].context,u)}}return!0},s.prototype.on=function(t,e,n){return i(this,t,e,n,!1)},s.prototype.once=function(t,e,n){return i(this,t,e,n,!0)},s.prototype.removeListener=function(t,e,r,o){var i=n?n+t:t;if(!this._events[i])return this;if(!e)return a(this,i),this;var s=this._events[i];if(s.fn)s.fn!==e||o&&!s.once||r&&s.context!==r||a(this,i);else{for(var u=0,c=[],l=s.length;u<l;u++)(s[u].fn!==e||o&&!s[u].once||r&&s[u].context!==r)&&c.push(s[u]);c.length?this._events[i]=1===c.length?c[0]:c:a(this,i)}return this},s.prototype.removeAllListeners=function(t){var e;return t?(e=n?n+t:t,this._events[e]&&a(this,e)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,t.exports=s}(Vr);var $r=r(Vr.exports);const Zr=Bt()||{isTypeSupported:()=>!1};class zr{constructor(t,e,n,r){this.error=null,this.hls=void 0,this.id=void 0,this.observer=void 0,this.frag=null,this.part=null,this.useWorker=void 0,this.workerContext=null,this.onwmsg=void 0,this.transmuxer=null,this.onTransmuxComplete=void 0,this.onFlush=void 0;const o=t.config;this.hls=t,this.id=e,this.useWorker=!!o.enableWorker,this.onTransmuxComplete=n,this.onFlush=r;const i=(t,e)=>{(e=e||{}).frag=this.frag,e.id=this.id,t===f.ERROR&&(this.error=e.error),this.hls.trigger(t,e)};this.observer=new $r,this.observer.on(f.FRAG_DECRYPTED,i),this.observer.on(f.ERROR,i);const a={mp4:Zr.isTypeSupported("video/mp4"),mpeg:Zr.isTypeSupported("audio/mpeg"),mp3:Zr.isTypeSupported('audio/mp4; codecs="mp3"')},s=navigator.vendor;if(!this.useWorker||"undefined"==typeof Worker||!o.workerPath&&"function"!=typeof __HLS_WORKER_BUNDLE__)this.transmuxer=new Nr(this.observer,a,o,s,e);else try{o.workerPath?(m.log(`loading Web Worker ${o.workerPath} for "${e}"`),this.workerContext=function(t){const e=new self.URL(t,self.location.href).href;return{worker:new self.Worker(e),scriptURL:e}}(o.workerPath)):(m.log(`injecting Web Worker for "${e}"`),this.workerContext=function(){const t=new self.Blob([`var exports={};var module={exports:exports};function define(f){f()};define.amd=true;(${__HLS_WORKER_BUNDLE__.toString()})(true);`],{type:"text/javascript"}),e=self.URL.createObjectURL(t);return{worker:new self.Worker(e),objectURL:e}}()),this.onwmsg=t=>this.onWorkerMessage(t);const{worker:t}=this.workerContext;t.addEventListener("message",this.onwmsg),t.onerror=t=>{const n=new Error(`${t.message}  (${t.filename}:${t.lineno})`);o.enableWorker=!1,m.warn(`Error in "${e}" Web Worker, fallback to inline`),this.hls.trigger(f.ERROR,{type:h.OTHER_ERROR,details:p.INTERNAL_EXCEPTION,fatal:!1,event:"demuxerWorker",error:n})},t.postMessage({cmd:"init",typeSupported:a,vendor:s,id:e,config:JSON.stringify(o)})}catch(t){m.warn(`Error setting up "${e}" Web Worker, fallback to inline`,t),this.resetWorker(),this.error=null,this.transmuxer=new Nr(this.observer,a,o,s,e)}}resetWorker(){if(this.workerContext){const{worker:t,objectURL:e}=this.workerContext;e&&self.URL.revokeObjectURL(e),t.removeEventListener("message",this.onwmsg),t.onerror=null,t.terminate(),this.workerContext=null}}destroy(){if(this.workerContext)this.resetWorker(),this.onwmsg=void 0;else{const t=this.transmuxer;t&&(t.destroy(),this.transmuxer=null)}const t=this.observer;t&&t.removeAllListeners(),this.frag=null,this.observer=null,this.hls=null}push(t,e,n,r,o,i,a,s,u,c){var l,f;u.transmuxing.start=self.performance.now();const{transmuxer:h}=this,p=i?i.start:o.start,d=o.decryptdata,y=this.frag,v=!(y&&o.cc===y.cc),g=!(y&&u.level===y.level),b=y?u.sn-y.sn:-1,w=this.part?u.part-this.part.index:-1,A=0===b&&u.id>1&&u.id===(null==y?void 0:y.stats.chunkCount),x=!g&&(1===b||0===b&&(1===w||A&&w<=0)),C=self.performance.now();(g||b||0===o.stats.parsing.start)&&(o.stats.parsing.start=C),!i||!w&&x||(i.stats.parsing.start=C);const E=!(y&&(null==(l=o.initSegment)?void 0:l.url)===(null==(f=y.initSegment)?void 0:f.url)),k=new Gr(v,x,s,g,p,E);if(!x||v||E){m.log(`[transmuxer-interface, ${o.type}]: Starting new transmux session for sn: ${u.sn} p: ${u.part} level: ${u.level} id: ${u.id}\n        discontinuity: ${v}\n        trackSwitch: ${g}\n        contiguous: ${x}\n        accurateTimeOffset: ${s}\n        timeOffset: ${p}\n        initSegmentChange: ${E}`);const t=new Ur(n,r,e,a,c);this.configureTransmuxer(t)}if(this.frag=o,this.part=i,this.workerContext)this.workerContext.worker.postMessage({cmd:"demux",data:t,decryptdata:d,chunkMeta:u,state:k},t instanceof ArrayBuffer?[t]:[]);else if(h){const e=h.push(t,d,u,k);Fr(e)?(h.async=!0,e.then((t=>{this.handleTransmuxComplete(t)})).catch((t=>{this.transmuxerError(t,u,"transmuxer-interface push error")}))):(h.async=!1,this.handleTransmuxComplete(e))}}flush(t){t.transmuxing.start=self.performance.now();const{transmuxer:e}=this;if(this.workerContext)this.workerContext.worker.postMessage({cmd:"flush",chunkMeta:t});else if(e){let n=e.flush(t);Fr(n)||e.async?(Fr(n)||(n=Promise.resolve(n)),n.then((e=>{this.handleFlushResult(e,t)})).catch((e=>{this.transmuxerError(e,t,"transmuxer-interface flush error")}))):this.handleFlushResult(n,t)}}transmuxerError(t,e,n){this.hls&&(this.error=t,this.hls.trigger(f.ERROR,{type:h.MEDIA_ERROR,details:p.FRAG_PARSING_ERROR,chunkMeta:e,fatal:!1,error:t,err:t,reason:n}))}handleFlushResult(t,e){t.forEach((t=>{this.handleTransmuxComplete(t)})),this.onFlush(e)}onWorkerMessage(t){const e=t.data,n=this.hls;switch(e.event){case"init":{var r;const t=null==(r=this.workerContext)?void 0:r.objectURL;t&&self.URL.revokeObjectURL(t);break}case"transmuxComplete":this.handleTransmuxComplete(e.data);break;case"flush":this.onFlush(e.data);break;case"workerLog":m[e.data.logType]&&m[e.data.logType](e.data.message);break;default:e.data=e.data||{},e.data.frag=this.frag,e.data.id=this.id,n.trigger(e.event,e.data)}}configureTransmuxer(t){const{transmuxer:e}=this;this.workerContext?this.workerContext.worker.postMessage({cmd:"configure",config:t}):e&&e.configure(t)}handleTransmuxComplete(t){t.chunkMeta.transmuxing.end=self.performance.now(),this.onTransmuxComplete(t)}}class Hr{constructor(t,e,n,r){this.config=void 0,this.media=null,this.fragmentTracker=void 0,this.hls=void 0,this.nudgeRetry=0,this.stallReported=!1,this.stalled=null,this.moved=!1,this.seeking=!1,this.config=t,this.media=e,this.fragmentTracker=n,this.hls=r}destroy(){this.media=null,this.hls=this.fragmentTracker=null}poll(t,e){const{config:n,media:r,stalled:o}=this;if(null===r)return;const{currentTime:i,seeking:a}=r,s=this.seeking&&!a,u=!this.seeking&&a;if(this.seeking=a,i!==t){if(this.moved=!0,null!==o){if(this.stallReported){const t=self.performance.now()-o;m.warn(`playback not stuck anymore @${i}, after ${Math.round(t)}ms`),this.stallReported=!1}this.stalled=null,this.nudgeRetry=0}return}if(u||s)return void(this.stalled=null);if(r.paused&&!a||r.ended||0===r.playbackRate||!gn.getBuffered(r).length)return;const c=gn.bufferInfo(r,i,0),l=c.len>0,f=c.nextStart||0;if(!l&&!f)return;if(a){const t=c.len>2,n=!f||e&&e.start<=i||f-i>2&&!this.fragmentTracker.getPartialFragment(i);if(t||n)return;this.moved=!1}if(!this.moved&&null!==this.stalled){var h;const t=Math.max(f,c.start||0)-i,e=this.hls.levels?this.hls.levels[this.hls.currentLevel]:null,n=(null==e||null==(h=e.details)?void 0:h.live)?2*e.details.targetduration:2,r=this.fragmentTracker.getPartialFragment(i);if(t>0&&(t<=n||r))return void this._trySkipBufferHole(r)}const p=self.performance.now();if(null===o)return void(this.stalled=p);const d=p-o;if(!a&&d>=250&&(this._reportStall(c),!this.media))return;const y=gn.bufferInfo(r,i,n.maxBufferHole);this._tryFixBufferStall(y,d)}_tryFixBufferStall(t,e){const{config:n,fragmentTracker:r,media:o}=this;if(null===o)return;const i=o.currentTime,a=r.getPartialFragment(i);(!a||!this._trySkipBufferHole(a)&&this.media)&&(t.len>n.maxBufferHole||t.nextStart&&t.nextStart-i<n.maxBufferHole)&&e>1e3*n.highBufferWatchdogPeriod&&(m.warn("Trying to nudge playhead over buffer-hole"),this.stalled=null,this._tryNudgeBuffer())}_reportStall(t){const{hls:e,media:n,stallReported:r}=this;if(!r&&n){this.stallReported=!0;const r=new Error(`Playback stalling at @${n.currentTime} due to low buffer (${JSON.stringify(t)})`);m.warn(r.message),e.trigger(f.ERROR,{type:h.MEDIA_ERROR,details:p.BUFFER_STALLED_ERROR,fatal:!1,error:r,buffer:t.len})}}_trySkipBufferHole(t){const{config:e,hls:n,media:r}=this;if(null===r)return 0;const o=r.currentTime,i=gn.bufferInfo(r,o,0),a=o<i.start?i.start:i.nextStart;if(a){const s=i.len<=e.maxBufferHole,u=i.len>0&&i.len<1&&r.readyState<3,c=a-o;if(c>0&&(s||u)){if(c>e.maxBufferHole){const{fragmentTracker:e}=this;let n=!1;if(0===o){const t=e.getAppendedFrag(0,re);t&&a<t.end&&(n=!0)}if(!n){const n=t||e.getAppendedFrag(o,re);if(n){let t=!1,r=n.end;for(;r<a;){const n=e.getPartialFragment(r);if(!n){t=!0;break}r+=n.duration}if(t)return 0}}}const i=Math.max(a+.05,o+.1);if(m.warn(`skipping hole, adjusting currentTime from ${o} to ${i}`),this.moved=!0,this.stalled=null,r.currentTime=i,t&&!t.gap){const e=new Error(`fragment loaded with buffer holes, seeking from ${o} to ${i}`);n.trigger(f.ERROR,{type:h.MEDIA_ERROR,details:p.BUFFER_SEEK_OVER_HOLE,fatal:!1,error:e,reason:e.message,frag:t})}return i}}return 0}_tryNudgeBuffer(){const{config:t,hls:e,media:n,nudgeRetry:r}=this;if(null===n)return;const o=n.currentTime;if(this.nudgeRetry++,r<t.nudgeMaxRetry){const i=o+(r+1)*t.nudgeOffset,a=new Error(`Nudging 'currentTime' from ${o} to ${i}`);m.warn(a.message),n.currentTime=i,e.trigger(f.ERROR,{type:h.MEDIA_ERROR,details:p.BUFFER_NUDGE_ON_STALL,error:a,fatal:!1})}else{const n=new Error(`Playhead still not moving while enough data buffered @${o} after ${t.nudgeMaxRetry} nudges`);m.error(n.message),e.trigger(f.ERROR,{type:h.MEDIA_ERROR,details:p.BUFFER_STALLED_ERROR,error:n,fatal:!0})}}}class Yr extends Gn{constructor(t,e,n){super(t,e,n,"[stream-controller]",re),this.audioCodecSwap=!1,this.gapController=null,this.level=-1,this._forceStartLoad=!1,this.altAudio=!1,this.audioOnly=!1,this.fragPlaying=null,this.onvplaying=null,this.onvseeked=null,this.fragLastKbps=0,this.couldBacktrack=!1,this.backtrackFragment=null,this.audioCodecSwitch=!1,this.videoBuffer=null,this._registerListeners()}_registerListeners(){const{hls:t}=this;t.on(f.MEDIA_ATTACHED,this.onMediaAttached,this),t.on(f.MEDIA_DETACHING,this.onMediaDetaching,this),t.on(f.MANIFEST_LOADING,this.onManifestLoading,this),t.on(f.MANIFEST_PARSED,this.onManifestParsed,this),t.on(f.LEVEL_LOADING,this.onLevelLoading,this),t.on(f.LEVEL_LOADED,this.onLevelLoaded,this),t.on(f.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),t.on(f.ERROR,this.onError,this),t.on(f.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),t.on(f.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),t.on(f.BUFFER_CREATED,this.onBufferCreated,this),t.on(f.BUFFER_FLUSHED,this.onBufferFlushed,this),t.on(f.LEVELS_UPDATED,this.onLevelsUpdated,this),t.on(f.FRAG_BUFFERED,this.onFragBuffered,this)}_unregisterListeners(){const{hls:t}=this;t.off(f.MEDIA_ATTACHED,this.onMediaAttached,this),t.off(f.MEDIA_DETACHING,this.onMediaDetaching,this),t.off(f.MANIFEST_LOADING,this.onManifestLoading,this),t.off(f.MANIFEST_PARSED,this.onManifestParsed,this),t.off(f.LEVEL_LOADED,this.onLevelLoaded,this),t.off(f.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),t.off(f.ERROR,this.onError,this),t.off(f.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),t.off(f.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),t.off(f.BUFFER_CREATED,this.onBufferCreated,this),t.off(f.BUFFER_FLUSHED,this.onBufferFlushed,this),t.off(f.LEVELS_UPDATED,this.onLevelsUpdated,this),t.off(f.FRAG_BUFFERED,this.onFragBuffered,this)}onHandlerDestroying(){this._unregisterListeners(),this.onMediaDetaching()}startLoad(t){if(this.levels){const{lastCurrentTime:e,hls:n}=this;if(this.stopLoad(),this.setInterval(100),this.level=-1,!this.startFragRequested){let t=n.startLevel;-1===t&&(n.config.testBandwidth&&this.levels.length>1?(t=0,this.bitrateTest=!0):t=n.nextAutoLevel),this.level=n.nextLoadLevel=t,this.loadedmetadata=!1}e>0&&-1===t&&(this.log(`Override startPosition with lastCurrentTime @${e.toFixed(3)}`),t=e),this.state=Tn,this.nextLoadPosition=this.startPosition=this.lastCurrentTime=t,this.tick()}else this._forceStartLoad=!0,this.state=Pn}stopLoad(){this._forceStartLoad=!1,super.stopLoad()}doTick(){switch(this.state){case Un:{var t;const{levels:e,level:n}=this,r=null==e||null==(t=e[n])?void 0:t.details;if(r&&(!r.live||this.levelLastLoaded===this.level)){if(this.waitForCdnTuneIn(r))break;this.state=Tn;break}if(this.hls.nextLoadLevel!==this.level){this.state=Tn;break}break}case In:{var e;const t=self.performance.now(),n=this.retryDate;(!n||t>=n||null!=(e=this.media)&&e.seeking)&&(this.resetStartWhenNotLoaded(this.level),this.state=Tn)}}this.state===Tn&&this.doTickIdle(),this.onTickEnd()}onTickEnd(){super.onTickEnd(),this.checkBuffer(),this.checkFragmentChanged()}doTickIdle(){const{hls:t,levelLastLoaded:e,levels:n,media:r}=this,{config:o,nextLoadLevel:i}=t;if(null===e||!r&&(this.startFragRequested||!o.startFragPrefetch))return;if(this.altAudio&&this.audioOnly)return;if(null==n||!n[i])return;const a=n[i],s=this.getMainFwdBufferInfo();if(null===s)return;const u=this.getLevelDetails();if(u&&this._streamEnded(s,u)){const t={};return this.altAudio&&(t.type="video"),this.hls.trigger(f.BUFFER_EOS,t),void(this.state=Nn)}t.loadLevel!==i&&-1===t.manualLevel&&this.log(`Adapting to level ${i} from level ${this.level}`),this.level=t.nextLoadLevel=i;const c=a.details;if(!c||this.state===Un||c.live&&this.levelLastLoaded!==i)return this.level=i,void(this.state=Un);const l=s.len,h=this.getMaxBufferLength(a.maxBitrate);if(l>=h)return;this.backtrackFragment&&this.backtrackFragment.start>s.end&&(this.backtrackFragment=null);const p=this.backtrackFragment?this.backtrackFragment.start:s.end;let d=this.getNextFragment(p,c);if(this.couldBacktrack&&!this.fragPrevious&&d&&"initSegment"!==d.sn&&this.fragmentTracker.getState(d)!==on){var y;const t=(null!=(y=this.backtrackFragment)?y:d).sn-c.startSN,e=c.fragments[t-1];e&&d.cc===e.cc&&(d=e,this.fragmentTracker.removeFragment(e))}else this.backtrackFragment&&s.len&&(this.backtrackFragment=null);if(d&&this.isLoopLoading(d,p)){if(!d.gap){const t=this.audioOnly&&!this.altAudio?k:L,e=(t===L?this.videoBuffer:this.mediaBuffer)||this.media;e&&this.afterBufferFlushed(e,t,re)}d=this.getNextFragmentLoopLoading(d,c,s,re,h)}d&&(!d.initSegment||d.initSegment.data||this.bitrateTest||(d=d.initSegment),this.loadFragment(d,a,p))}loadFragment(t,e,n){const r=this.fragmentTracker.getState(t);this.fragCurrent=t,r===en||r===rn?"initSegment"===t.sn?this._loadInitSegment(t,e):this.bitrateTest?(this.log(`Fragment ${t.sn} of level ${t.level} is being downloaded to test bitrate and will not be buffered`),this._loadBitrateTestFrag(t,e)):(this.startFragRequested=!0,super.loadFragment(t,e,n)):this.clearTrackerIfNeeded(t)}getBufferedFrag(t){return this.fragmentTracker.getBufferedFrag(t,re)}followingBufferedFrag(t){return t?this.getBufferedFrag(t.end+.5):null}immediateLevelSwitch(){this.abortCurrentFrag(),this.flushMainBuffer(0,Number.POSITIVE_INFINITY)}nextLevelSwitch(){const{levels:t,media:e}=this;if(null!=e&&e.readyState){let n;const r=this.getAppendedFrag(e.currentTime);r&&r.start>1&&this.flushMainBuffer(0,r.start-1);const o=this.getLevelDetails();if(null!=o&&o.live){const t=this.getMainFwdBufferInfo();if(!t||t.len<2*o.targetduration)return}if(!e.paused&&t){const e=t[this.hls.nextLoadLevel],r=this.fragLastKbps;n=r&&this.fragCurrent?this.fragCurrent.duration*e.maxBitrate/(1e3*r)+1:0}else n=0;const i=this.getBufferedFrag(e.currentTime+n);if(i){const t=this.followingBufferedFrag(i);if(t){this.abortCurrentFrag();const e=t.maxStartPTS?t.maxStartPTS:t.start,n=t.duration,r=Math.max(i.end,e+Math.min(Math.max(n-this.config.maxFragLookUpTolerance,.5*n),.75*n));this.flushMainBuffer(r,Number.POSITIVE_INFINITY)}}}}abortCurrentFrag(){const t=this.fragCurrent;switch(this.fragCurrent=null,this.backtrackFragment=null,t&&(t.abortRequests(),this.fragmentTracker.removeFragment(t)),this.state){case On:case Rn:case In:case Dn:case Bn:this.state=Tn}this.nextLoadPosition=this.getLoadPosition()}flushMainBuffer(t,e){super.flushMainBuffer(t,e,this.altAudio?"video":null)}onMediaAttached(t,e){super.onMediaAttached(t,e);const n=e.media;this.onvplaying=this.onMediaPlaying.bind(this),this.onvseeked=this.onMediaSeeked.bind(this),n.addEventListener("playing",this.onvplaying),n.addEventListener("seeked",this.onvseeked),this.gapController=new Hr(this.config,n,this.fragmentTracker,this.hls)}onMediaDetaching(){const{media:t}=this;t&&this.onvplaying&&this.onvseeked&&(t.removeEventListener("playing",this.onvplaying),t.removeEventListener("seeked",this.onvseeked),this.onvplaying=this.onvseeked=null,this.videoBuffer=null),this.fragPlaying=null,this.gapController&&(this.gapController.destroy(),this.gapController=null),super.onMediaDetaching()}onMediaPlaying(){this.tick()}onMediaSeeked(){const t=this.media,e=t?t.currentTime:null;l(e)&&this.log(`Media seeked to ${e.toFixed(3)}`);const n=this.getMainFwdBufferInfo();null!==n&&0!==n.len?this.tick():this.warn(`Main forward buffer length on "seeked" event ${n?n.len:"empty"})`)}onManifestLoading(){this.log("Trigger BUFFER_RESET"),this.hls.trigger(f.BUFFER_RESET,void 0),this.fragmentTracker.removeAllFragments(),this.couldBacktrack=!1,this.startPosition=this.lastCurrentTime=0,this.levels=this.fragPlaying=this.backtrackFragment=null,this.altAudio=this.audioOnly=!1}onManifestParsed(t,e){let n,r=!1,o=!1;e.levels.forEach((t=>{n=t.audioCodec,n&&(-1!==n.indexOf("mp4a.40.2")&&(r=!0),-1!==n.indexOf("mp4a.40.5")&&(o=!0))})),this.audioCodecSwitch=r&&o&&!function(){var t;const e=Vn();return"function"==typeof(null==e||null==(t=e.prototype)?void 0:t.changeType)}(),this.audioCodecSwitch&&this.log("Both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.levels=e.levels,this.startFragRequested=!1}onLevelLoading(t,e){const{levels:n}=this;if(!n||this.state!==Tn)return;const r=n[e.level];(!r.details||r.details.live&&this.levelLastLoaded!==e.level||this.waitForCdnTuneIn(r.details))&&(this.state=Un)}onLevelLoaded(t,e){var n;const{levels:r}=this,o=e.level,i=e.details,a=i.totalduration;if(!r)return void this.warn(`Levels were reset while loading level ${o}`);this.log(`Level ${o} loaded [${i.startSN},${i.endSN}]${i.lastPartSn?`[part-${i.lastPartSn}-${i.lastPartIndex}]`:""}, cc [${i.startCC}, ${i.endCC}] duration:${a}`);const s=r[o],u=this.fragCurrent;!u||this.state!==Rn&&this.state!==In||u.level===e.level&&u.urlId===s.urlId||!u.loader||this.abortCurrentFrag();let c=0;if(i.live||null!=(n=s.details)&&n.live){if(i.fragments[0]||(i.deltaUpdateFailed=!0),i.deltaUpdateFailed)return;c=this.alignPlaylists(i,s.details)}if(s.details=i,this.levelLastLoaded=o,this.hls.trigger(f.LEVEL_UPDATED,{details:i,level:o}),this.state===Un){if(this.waitForCdnTuneIn(i))return;this.state=Tn}this.startFragRequested?i.live&&this.synchronizeToLiveEdge(i):this.setStartPosition(i,c),this.tick()}_handleFragmentLoadProgress(t){var e;const{frag:n,part:r,payload:o}=t,{levels:i}=this;if(!i)return void this.warn(`Levels were reset while fragment load was in progress. Fragment ${n.sn} of level ${n.level} will not be buffered`);const a=i[n.level],s=a.details;if(!s)return this.warn(`Dropping fragment ${n.sn} of level ${n.level} after level details were reset`),void this.fragmentTracker.removeFragment(n);const u=a.videoCodec,c=s.PTSKnown||!s.live,l=null==(e=n.initSegment)?void 0:e.data,f=this._getAudioCodec(a),h=this.transmuxer=this.transmuxer||new zr(this.hls,re,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)),p=r?r.index:-1,d=-1!==p,y=new mn(n.level,n.sn,n.stats.chunkCount,o.byteLength,p,d),v=this.initPTS[n.cc];h.push(o,l,f,u,n,r,s.totalduration,c,y,v)}onAudioTrackSwitching(t,e){const n=this.altAudio;if(!e.url){if(this.mediaBuffer!==this.media){this.log("Switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media;const t=this.fragCurrent;t&&(this.log("Switching to main audio track, cancel main fragment load"),t.abortRequests(),this.fragmentTracker.removeFragment(t)),this.resetTransmuxer(),this.resetLoadingState()}else this.audioOnly&&this.resetTransmuxer();const t=this.hls;n&&(t.trigger(f.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:null}),this.fragmentTracker.removeAllFragments()),t.trigger(f.AUDIO_TRACK_SWITCHED,e)}}onAudioTrackSwitched(t,e){const n=e.id,r=!!this.hls.audioTracks[n].url;if(r){const t=this.videoBuffer;t&&this.mediaBuffer!==t&&(this.log("Switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=t)}this.altAudio=r,this.tick()}onBufferCreated(t,e){const n=e.tracks;let r,o,i=!1;for(const t in n){const e=n[t];if("main"===e.id){if(o=t,r=e,"video"===t){const e=n[t];e&&(this.videoBuffer=e.buffer)}}else i=!0}i&&r?(this.log(`Alternate track found, use ${o}.buffered to schedule main fragment loading`),this.mediaBuffer=r.buffer):this.mediaBuffer=this.media}onFragBuffered(t,e){const{frag:n,part:r}=e;if(n&&n.type!==re)return;if(this.fragContextChanged(n))return this.warn(`Fragment ${n.sn}${r?" p: "+r.index:""} of level ${n.level} finished buffering, but was aborted. state: ${this.state}`),void(this.state===Bn&&(this.state=Tn));const o=r?r.stats:n.stats;this.fragLastKbps=Math.round(8*o.total/(o.buffering.end-o.loading.first)),"initSegment"!==n.sn&&(this.fragPrevious=n),this.fragBufferedComplete(n,r)}onError(t,e){var n;if(e.fatal)this.state=Mn;else switch(e.details){case p.FRAG_GAP:case p.FRAG_PARSING_ERROR:case p.FRAG_DECRYPT_ERROR:case p.FRAG_LOAD_ERROR:case p.FRAG_LOAD_TIMEOUT:case p.KEY_LOAD_ERROR:case p.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(re,e);break;case p.LEVEL_LOAD_ERROR:case p.LEVEL_LOAD_TIMEOUT:case p.LEVEL_PARSING_ERROR:e.levelRetry||this.state!==Un||(null==(n=e.context)?void 0:n.type)!==te||(this.state=Tn);break;case p.BUFFER_FULL_ERROR:if(!e.parent||"main"!==e.parent)return;this.reduceLengthAndFlushBuffer(e)&&this.flushMainBuffer(0,Number.POSITIVE_INFINITY);break;case p.INTERNAL_EXCEPTION:this.recoverWorkerError(e)}}checkBuffer(){const{media:t,gapController:e}=this;if(t&&e&&t.readyState){if(this.loadedmetadata||!gn.getBuffered(t).length){const t=this.state!==Tn?this.fragCurrent:null;e.poll(this.lastCurrentTime,t)}this.lastCurrentTime=t.currentTime}}onFragLoadEmergencyAborted(){this.state=Tn,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.tickImmediate()}onBufferFlushed(t,{type:e}){if(e!==k||this.audioOnly&&!this.altAudio){const t=(e===L?this.videoBuffer:this.mediaBuffer)||this.media;this.afterBufferFlushed(t,e,re)}}onLevelsUpdated(t,e){this.levels=e.levels}swapAudioCodec(){this.audioCodecSwap=!this.audioCodecSwap}seekToStartPos(){const{media:t}=this;if(!t)return;const e=t.currentTime;let n=this.startPosition;if(n>=0&&e<n){if(t.seeking)return void this.log(`could not seek to ${n}, already seeking at ${e}`);const r=gn.getBuffered(t),o=(r.length?r.start(0):0)-n;o>0&&(o<this.config.maxBufferHole||o<this.config.maxFragLookUpTolerance)&&(this.log(`adjusting start position by ${o} to match buffer start`),n+=o,this.startPosition=n),this.log(`seek to target start position ${n} from current time ${e}`),t.currentTime=n}}_getAudioCodec(t){let e=this.config.defaultAudioCodec||t.audioCodec;return this.audioCodecSwap&&e&&(this.log("Swapping audio codec"),e=-1!==e.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5"),e}_loadBitrateTestFrag(t,e){t.bitrateTest=!0,this._doFragLoad(t,e).then((n=>{const{hls:r}=this;if(!n||this.fragContextChanged(t))return;e.fragmentError=0,this.state=Tn,this.startFragRequested=!1,this.bitrateTest=!1;const o=t.stats;o.parsing.start=o.parsing.end=o.buffering.start=o.buffering.end=self.performance.now(),r.trigger(f.FRAG_LOADED,n),t.bitrateTest=!1}))}_handleTransmuxComplete(t){var e;const n="main",{hls:r}=this,{remuxResult:o,chunkMeta:i}=t,a=this.getCurrentContext(i);if(!a)return void this.resetWhenMissingContext(i);const{frag:s,part:u,level:c}=a,{video:h,text:p,id3:d,initSegment:y}=o,{details:v}=c,g=this.altAudio?void 0:o.audio;if(this.fragContextChanged(s))this.fragmentTracker.removeFragment(s);else{if(this.state=Dn,y){if(null!=y&&y.tracks){const t=s.initSegment||s;this._bufferInitSegment(c,y.tracks,t,i),r.trigger(f.FRAG_PARSING_INIT_SEGMENT,{frag:t,id:n,tracks:y.tracks})}const t=y.initPTS,e=y.timescale;l(t)&&(this.initPTS[s.cc]={baseTime:t,timescale:e},r.trigger(f.INIT_PTS_FOUND,{frag:s,id:n,initPTS:t,timescale:e}))}if(h&&!1!==o.independent){if(v){const{startPTS:t,endPTS:e,startDTS:n,endDTS:r}=h;if(u)u.elementaryStreams[h.type]={startPTS:t,endPTS:e,startDTS:n,endDTS:r};else if(h.firstKeyFrame&&h.independent&&1===i.id&&(this.couldBacktrack=!0),h.dropped&&h.independent){const n=this.getMainFwdBufferInfo();if((n?n.end:this.getLoadPosition())+this.config.maxBufferHole<(h.firstKeyFramePTS?h.firstKeyFramePTS:t)-this.config.maxBufferHole)return void this.backtrack(s);s.setElementaryStreamInfo(h.type,s.start,e,s.start,r,!0)}s.setElementaryStreamInfo(h.type,t,e,n,r),this.backtrackFragment&&(this.backtrackFragment=s),this.bufferFragmentData(h,s,u,i)}}else if(!1===o.independent)return void this.backtrack(s);if(g){const{startPTS:t,endPTS:e,startDTS:n,endDTS:r}=g;u&&(u.elementaryStreams[k]={startPTS:t,endPTS:e,startDTS:n,endDTS:r}),s.setElementaryStreamInfo(k,t,e,n,r),this.bufferFragmentData(g,s,u,i)}if(v&&null!=d&&null!=(e=d.samples)&&e.length){const t={id:n,frag:s,details:v,samples:d.samples};r.trigger(f.FRAG_PARSING_METADATA,t)}if(v&&p){const t={id:n,frag:s,details:v,samples:p.samples};r.trigger(f.FRAG_PARSING_USERDATA,t)}}}_bufferInitSegment(t,e,n,r){if(this.state!==Dn)return;this.audioOnly=!!e.audio&&!e.video,this.altAudio&&!this.audioOnly&&delete e.audio;const{audio:o,video:i,audiovideo:a}=e;if(o){let e=t.audioCodec;const n=navigator.userAgent.toLowerCase();this.audioCodecSwitch&&(e&&(e=-1!==e.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5"),1!==o.metadata.channelCount&&-1===n.indexOf("firefox")&&(e="mp4a.40.5")),-1!==n.indexOf("android")&&"audio/mpeg"!==o.container&&(e="mp4a.40.2",this.log(`Android: force audio codec to ${e}`)),t.audioCodec&&t.audioCodec!==e&&this.log(`Swapping manifest audio codec "${t.audioCodec}" for "${e}"`),o.levelCodec=e,o.id="main",this.log(`Init audio buffer, container:${o.container}, codecs[selected/level/parsed]=[${e||""}/${t.audioCodec||""}/${o.codec}]`)}i&&(i.levelCodec=t.videoCodec,i.id="main",this.log(`Init video buffer, container:${i.container}, codecs[level/parsed]=[${t.videoCodec||""}/${i.codec}]`)),a&&this.log(`Init audiovideo buffer, container:${a.container}, codecs[level/parsed]=[${t.attrs.CODECS||""}/${a.codec}]`),this.hls.trigger(f.BUFFER_CODECS,e),Object.keys(e).forEach((t=>{const o=e[t].initSegment;null!=o&&o.byteLength&&this.hls.trigger(f.BUFFER_APPENDING,{type:t,data:o,frag:n,part:null,chunkMeta:r,parent:n.type})})),this.tick()}getMainFwdBufferInfo(){return this.getFwdBufferInfo(this.mediaBuffer?this.mediaBuffer:this.media,re)}backtrack(t){this.couldBacktrack=!0,this.backtrackFragment=t,this.resetTransmuxer(),this.flushBufferGap(t),this.fragmentTracker.removeFragment(t),this.fragPrevious=null,this.nextLoadPosition=t.start,this.state=Tn}checkFragmentChanged(){const t=this.media;let e=null;if(t&&t.readyState>1&&!1===t.seeking){const n=t.currentTime;if(gn.isBuffered(t,n)?e=this.getAppendedFrag(n):gn.isBuffered(t,n+.1)&&(e=this.getAppendedFrag(n+.1)),e){this.backtrackFragment=null;const t=this.fragPlaying,n=e.level;t&&e.sn===t.sn&&t.level===n&&e.urlId===t.urlId||(this.fragPlaying=e,this.hls.trigger(f.FRAG_CHANGED,{frag:e}),t&&t.level===n||this.hls.trigger(f.LEVEL_SWITCHED,{level:n}))}}}get nextLevel(){const t=this.nextBufferedFrag;return t?t.level:-1}get currentFrag(){const t=this.media;return t?this.fragPlaying||this.getAppendedFrag(t.currentTime):null}get currentProgramDateTime(){const t=this.media;if(t){const e=t.currentTime,n=this.currentFrag;if(n&&l(e)&&l(n.programDateTime)){const t=n.programDateTime+1e3*(e-n.start);return new Date(t)}}return null}get currentLevel(){const t=this.currentFrag;return t?t.level:-1}get nextBufferedFrag(){const t=this.currentFrag;return t?this.followingBufferedFrag(t):null}get forceStartLoad(){return this._forceStartLoad}}class Kr{constructor(t,e=0,n=0){this.halfLife=void 0,this.alpha_=void 0,this.estimate_=void 0,this.totalWeight_=void 0,this.halfLife=t,this.alpha_=t?Math.exp(Math.log(.5)/t):0,this.estimate_=e,this.totalWeight_=n}sample(t,e){const n=Math.pow(this.alpha_,t);this.estimate_=e*(1-n)+n*this.estimate_,this.totalWeight_+=t}getTotalWeight(){return this.totalWeight_}getEstimate(){if(this.alpha_){const t=1-Math.pow(this.alpha_,this.totalWeight_);if(t)return this.estimate_/t}return this.estimate_}}class Wr{constructor(t,e,n,r=100){this.defaultEstimate_=void 0,this.minWeight_=void 0,this.minDelayMs_=void 0,this.slow_=void 0,this.fast_=void 0,this.defaultTTFB_=void 0,this.ttfb_=void 0,this.defaultEstimate_=n,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new Kr(t),this.fast_=new Kr(e),this.defaultTTFB_=r,this.ttfb_=new Kr(t)}update(t,e){const{slow_:n,fast_:r,ttfb_:o}=this;n.halfLife!==t&&(this.slow_=new Kr(t,n.getEstimate(),n.getTotalWeight())),r.halfLife!==e&&(this.fast_=new Kr(e,r.getEstimate(),r.getTotalWeight())),o.halfLife!==t&&(this.ttfb_=new Kr(t,o.getEstimate(),o.getTotalWeight()))}sample(t,e){const n=(t=Math.max(t,this.minDelayMs_))/1e3,r=8*e/n;this.fast_.sample(n,r),this.slow_.sample(n,r)}sampleTTFB(t){const e=t/1e3,n=Math.sqrt(2)*Math.exp(-Math.pow(e,2)/2);this.ttfb_.sample(n,Math.max(t,5))}canEstimate(){return this.fast_.getTotalWeight()>=this.minWeight_}getEstimate(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_}getEstimateTTFB(){return this.ttfb_.getTotalWeight()>=this.minWeight_?this.ttfb_.getEstimate():this.defaultTTFB_}destroy(){}}class qr{constructor(){this.chunks=[],this.dataLength=0}push(t){this.chunks.push(t),this.dataLength+=t.length}flush(){const{chunks:t,dataLength:e}=this;let n;return t.length?(n=1===t.length?t[0]:function(t,e){const n=new Uint8Array(e);let r=0;for(let e=0;e<t.length;e++){const o=t[e];n.set(o,r),r+=o.length}return n}(t,e),this.reset(),n):new Uint8Array(0)}reset(){this.chunks.length=0,this.dataLength=0}}function Xr(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(!Qr(t[n].attrs,e[n].attrs))return!1;return!0}function Qr(t,e){const n=t["STABLE-RENDITION-ID"];return n?n===e["STABLE-RENDITION-ID"]:!["LANGUAGE","NAME","CHARACTERISTICS","AUTOSELECT","DEFAULT","FORCED"].some((n=>t[n]!==e[n]))}class Jr{constructor(t){this.buffered=void 0;const e=(e,n,r)=>{if((n>>>=0)>r-1)throw new DOMException(`Failed to execute '${e}' on 'TimeRanges': The index provided (${n}) is greater than the maximum bound (${r})`);return t[n][e]};this.buffered={get length(){return t.length},end:n=>e("end",n,t.length),start:n=>e("start",n,t.length)}}}function to(t){const e=[];for(let n=0;n<t.length;n++){const r=t[n];"subtitles"!==r.kind&&"captions"!==r.kind||!r.label||e.push(t[n])}return e}class eo{constructor(t){this.buffers=void 0,this.queues={video:[],audio:[],audiovideo:[]},this.buffers=t}append(t,e){const n=this.queues[e];n.push(t),1===n.length&&this.buffers[e]&&this.executeNext(e)}insertAbort(t,e){this.queues[e].unshift(t),this.executeNext(e)}appendBlocker(t){let e;const n=new Promise((t=>{e=t})),r={execute:e,onStart:()=>{},onComplete:()=>{},onError:()=>{}};return this.append(r,t),n}executeNext(t){const{buffers:e,queues:n}=this,r=e[t],o=n[t];if(o.length){const e=o[0];try{e.execute()}catch(n){m.warn("[buffer-operation-queue]: Unhandled exception executing the current operation"),e.onError(n),null!=r&&r.updating||(o.shift(),this.executeNext(t))}}}shiftAndExecuteNext(t){this.queues[t].shift(),this.executeNext(t)}current(t){return this.queues[t][0]}}const no=Bt(),ro=/([ha]vc.)(?:\.[^.,]+)+/,oo={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},io=function(t){let e=t;return oo.hasOwnProperty(t)&&(e=oo[t]),String.fromCharCode(e)},ao=15,so=100,uo={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},co={17:2,18:4,21:6,22:8,23:10,19:13,20:15},lo={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},fo={25:2,26:4,29:6,30:8,31:10,27:13,28:15},ho=["white","green","blue","cyan","red","yellow","magenta","black","transparent"];class po{constructor(){this.time=null,this.verboseLevel=0}log(t,e){if(this.verboseLevel>=t){const n="function"==typeof e?e():e;m.log(`${this.time} [${t}] ${n}`)}}}const yo=function(t){const e=[];for(let n=0;n<t.length;n++)e.push(t[n].toString(16));return e};class vo{constructor(t,e,n,r,o){this.foreground=void 0,this.underline=void 0,this.italics=void 0,this.background=void 0,this.flash=void 0,this.foreground=t||"white",this.underline=e||!1,this.italics=n||!1,this.background=r||"black",this.flash=o||!1}reset(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1}setStyles(t){const e=["foreground","underline","italics","background","flash"];for(let n=0;n<e.length;n++){const r=e[n];t.hasOwnProperty(r)&&(this[r]=t[r])}}isDefault(){return"white"===this.foreground&&!this.underline&&!this.italics&&"black"===this.background&&!this.flash}equals(t){return this.foreground===t.foreground&&this.underline===t.underline&&this.italics===t.italics&&this.background===t.background&&this.flash===t.flash}copy(t){this.foreground=t.foreground,this.underline=t.underline,this.italics=t.italics,this.background=t.background,this.flash=t.flash}toString(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash}}class go{constructor(t,e,n,r,o,i){this.uchar=void 0,this.penState=void 0,this.uchar=t||" ",this.penState=new vo(e,n,r,o,i)}reset(){this.uchar=" ",this.penState.reset()}setChar(t,e){this.uchar=t,this.penState.copy(e)}setPenState(t){this.penState.copy(t)}equals(t){return this.uchar===t.uchar&&this.penState.equals(t.penState)}copy(t){this.uchar=t.uchar,this.penState.copy(t.penState)}isEmpty(){return" "===this.uchar&&this.penState.isDefault()}}class mo{constructor(t){this.chars=void 0,this.pos=void 0,this.currPenState=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chars=[];for(let t=0;t<so;t++)this.chars.push(new go);this.logger=t,this.pos=0,this.currPenState=new vo}equals(t){let e=!0;for(let n=0;n<so;n++)if(!this.chars[n].equals(t.chars[n])){e=!1;break}return e}copy(t){for(let e=0;e<so;e++)this.chars[e].copy(t.chars[e])}isEmpty(){let t=!0;for(let e=0;e<so;e++)if(!this.chars[e].isEmpty()){t=!1;break}return t}setCursor(t){this.pos!==t&&(this.pos=t),this.pos<0?(this.logger.log(3,"Negative cursor position "+this.pos),this.pos=0):this.pos>so&&(this.logger.log(3,"Too large cursor position "+this.pos),this.pos=so)}moveCursor(t){const e=this.pos+t;if(t>1)for(let t=this.pos+1;t<e+1;t++)this.chars[t].setPenState(this.currPenState);this.setCursor(e)}backSpace(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)}insertChar(t){t>=144&&this.backSpace();const e=io(t);this.pos>=so?this.logger.log(0,(()=>"Cannot insert "+t.toString(16)+" ("+e+") at position "+this.pos+". Skipping it!")):(this.chars[this.pos].setChar(e,this.currPenState),this.moveCursor(1))}clearFromPos(t){let e;for(e=t;e<so;e++)this.chars[e].reset()}clear(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()}clearToEndOfRow(){this.clearFromPos(this.pos)}getTextString(){const t=[];let e=!0;for(let n=0;n<so;n++){const r=this.chars[n].uchar;" "!==r&&(e=!1),t.push(r)}return e?"":t.join("")}setPenStyles(t){this.currPenState.setStyles(t),this.chars[this.pos].setPenState(this.currPenState)}}class bo{constructor(t){this.rows=void 0,this.currRow=void 0,this.nrRollUpRows=void 0,this.lastOutputScreen=void 0,this.logger=void 0,this.rows=[];for(let e=0;e<ao;e++)this.rows.push(new mo(t));this.logger=t,this.currRow=14,this.nrRollUpRows=null,this.lastOutputScreen=null,this.reset()}reset(){for(let t=0;t<ao;t++)this.rows[t].clear();this.currRow=14}equals(t){let e=!0;for(let n=0;n<ao;n++)if(!this.rows[n].equals(t.rows[n])){e=!1;break}return e}copy(t){for(let e=0;e<ao;e++)this.rows[e].copy(t.rows[e])}isEmpty(){let t=!0;for(let e=0;e<ao;e++)if(!this.rows[e].isEmpty()){t=!1;break}return t}backSpace(){this.rows[this.currRow].backSpace()}clearToEndOfRow(){this.rows[this.currRow].clearToEndOfRow()}insertChar(t){this.rows[this.currRow].insertChar(t)}setPen(t){this.rows[this.currRow].setPenStyles(t)}moveCursor(t){this.rows[this.currRow].moveCursor(t)}setCursor(t){this.logger.log(2,"setCursor: "+t),this.rows[this.currRow].setCursor(t)}setPAC(t){this.logger.log(2,(()=>"pacData = "+JSON.stringify(t)));let e=t.row-1;if(this.nrRollUpRows&&e<this.nrRollUpRows-1&&(e=this.nrRollUpRows-1),this.nrRollUpRows&&this.currRow!==e){for(let t=0;t<ao;t++)this.rows[t].clear();const t=this.currRow+1-this.nrRollUpRows,n=this.lastOutputScreen;if(n){const r=n.rows[t].cueStartTime,o=this.logger.time;if(r&&null!==o&&r<o)for(let r=0;r<this.nrRollUpRows;r++)this.rows[e-this.nrRollUpRows+r+1].copy(n.rows[t+r])}}this.currRow=e;const n=this.rows[this.currRow];if(null!==t.indent){const e=t.indent,r=Math.max(e-1,0);n.setCursor(t.indent),t.color=n.chars[r].penState.foreground}const r={foreground:t.color,underline:t.underline,italics:t.italics,background:"black",flash:!1};this.setPen(r)}setBkgData(t){this.logger.log(2,(()=>"bkgData = "+JSON.stringify(t))),this.backSpace(),this.setPen(t),this.insertChar(32)}setRollUpRows(t){this.nrRollUpRows=t}rollUp(){if(null===this.nrRollUpRows)return void this.logger.log(3,"roll_up but nrRollUpRows not set yet");this.logger.log(1,(()=>this.getDisplayText()));const t=this.currRow+1-this.nrRollUpRows,e=this.rows.splice(t,1)[0];e.clear(),this.rows.splice(this.currRow,0,e),this.logger.log(2,"Rolling up")}getDisplayText(t){t=t||!1;const e=[];let n="",r=-1;for(let n=0;n<ao;n++){const o=this.rows[n].getTextString();o&&(r=n+1,t?e.push("Row "+r+": '"+o+"'"):e.push(o.trim()))}return e.length>0&&(n=t?"["+e.join(" | ")+"]":e.join("\n")),n}getTextAndFormat(){return this.rows}}class wo{constructor(t,e,n){this.chNr=void 0,this.outputFilter=void 0,this.mode=void 0,this.verbose=void 0,this.displayedMemory=void 0,this.nonDisplayedMemory=void 0,this.lastOutputScreen=void 0,this.currRollUpRow=void 0,this.writeScreen=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chNr=t,this.outputFilter=e,this.mode=null,this.verbose=0,this.displayedMemory=new bo(n),this.nonDisplayedMemory=new bo(n),this.lastOutputScreen=new bo(n),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.logger=n}reset(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.outputFilter.reset(),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null}getHandler(){return this.outputFilter}setHandler(t){this.outputFilter=t}setPAC(t){this.writeScreen.setPAC(t)}setBkgData(t){this.writeScreen.setBkgData(t)}setMode(t){t!==this.mode&&(this.mode=t,this.logger.log(2,(()=>"MODE="+t)),"MODE_POP-ON"===this.mode?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),"MODE_ROLL-UP"!==this.mode&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=t)}insertChars(t){for(let e=0;e<t.length;e++)this.writeScreen.insertChar(t[e]);const e=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";this.logger.log(2,(()=>e+": "+this.writeScreen.getDisplayText(!0))),"MODE_PAINT-ON"!==this.mode&&"MODE_ROLL-UP"!==this.mode||(this.logger.log(1,(()=>"DISPLAYED: "+this.displayedMemory.getDisplayText(!0))),this.outputDataUpdate())}ccRCL(){this.logger.log(2,"RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")}ccBS(){this.logger.log(2,"BS - BackSpace"),"MODE_TEXT"!==this.mode&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())}ccAOF(){}ccAON(){}ccDER(){this.logger.log(2,"DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()}ccRU(t){this.logger.log(2,"RU("+t+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(t)}ccFON(){this.logger.log(2,"FON - Flash On"),this.writeScreen.setPen({flash:!0})}ccRDC(){this.logger.log(2,"RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")}ccTR(){this.logger.log(2,"TR"),this.setMode("MODE_TEXT")}ccRTD(){this.logger.log(2,"RTD"),this.setMode("MODE_TEXT")}ccEDM(){this.logger.log(2,"EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate(!0)}ccCR(){this.logger.log(2,"CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate(!0)}ccENM(){this.logger.log(2,"ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()}ccEOC(){if(this.logger.log(2,"EOC - End Of Caption"),"MODE_POP-ON"===this.mode){const t=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=t,this.writeScreen=this.nonDisplayedMemory,this.logger.log(1,(()=>"DISP: "+this.displayedMemory.getDisplayText()))}this.outputDataUpdate(!0)}ccTO(t){this.logger.log(2,"TO("+t+") - Tab Offset"),this.writeScreen.moveCursor(t)}ccMIDROW(t){const e={flash:!1};if(e.underline=t%2==1,e.italics=t>=46,e.italics)e.foreground="white";else{const n=Math.floor(t/2)-16,r=["white","green","blue","cyan","red","yellow","magenta"];e.foreground=r[n]}this.logger.log(2,"MIDROW: "+JSON.stringify(e)),this.writeScreen.setPen(e)}outputDataUpdate(t=!1){const e=this.logger.time;null!==e&&this.outputFilter&&(null!==this.cueStartTime||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue(this.cueStartTime,e,this.lastOutputScreen),t&&this.outputFilter.dispatchCue&&this.outputFilter.dispatchCue(),this.cueStartTime=this.displayedMemory.isEmpty()?null:e):this.cueStartTime=e,this.lastOutputScreen.copy(this.displayedMemory))}cueSplitAtTime(t){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,t,this.displayedMemory),this.cueStartTime=t))}}class Ao{constructor(t,e,n){this.channels=void 0,this.currentChannel=0,this.cmdHistory=void 0,this.logger=void 0;const r=new po;this.channels=[null,new wo(t,e,r),new wo(t+1,n,r)],this.cmdHistory={a:null,b:null},this.logger=r}getHandler(t){return this.channels[t].getHandler()}setHandler(t,e){this.channels[t].setHandler(e)}addData(t,e){let n,r,o,i=!1;this.logger.time=t;for(let t=0;t<e.length;t+=2)if(r=127&e[t],o=127&e[t+1],0!==r||0!==o){if(this.logger.log(3,"["+yo([e[t],e[t+1]])+"] -> ("+yo([r,o])+")"),n=this.parseCmd(r,o),n||(n=this.parseMidrow(r,o)),n||(n=this.parsePAC(r,o)),n||(n=this.parseBackgroundAttributes(r,o)),!n&&(i=this.parseChars(r,o),i)){const t=this.currentChannel;t&&t>0?this.channels[t].insertChars(i):this.logger.log(2,"No channel found yet. TEXT-MODE?")}n||i||this.logger.log(2,"Couldn't parse cleaned data "+yo([r,o])+" orig: "+yo([e[t],e[t+1]]))}}parseCmd(t,e){const{cmdHistory:n}=this;if(!((20===t||28===t||21===t||29===t)&&e>=32&&e<=47||(23===t||31===t)&&e>=33&&e<=35))return!1;if(Co(t,e,n))return xo(null,null,n),this.logger.log(3,"Repeated command ("+yo([t,e])+") is dropped"),!0;const r=20===t||21===t||23===t?1:2,o=this.channels[r];return 20===t||21===t||28===t||29===t?32===e?o.ccRCL():33===e?o.ccBS():34===e?o.ccAOF():35===e?o.ccAON():36===e?o.ccDER():37===e?o.ccRU(2):38===e?o.ccRU(3):39===e?o.ccRU(4):40===e?o.ccFON():41===e?o.ccRDC():42===e?o.ccTR():43===e?o.ccRTD():44===e?o.ccEDM():45===e?o.ccCR():46===e?o.ccENM():47===e&&o.ccEOC():o.ccTO(e-32),xo(t,e,n),this.currentChannel=r,!0}parseMidrow(t,e){let n=0;if((17===t||25===t)&&e>=32&&e<=47){if(n=17===t?1:2,n!==this.currentChannel)return this.logger.log(0,"Mismatch channel in midrow parsing"),!1;const r=this.channels[n];return!!r&&(r.ccMIDROW(e),this.logger.log(3,"MIDROW ("+yo([t,e])+")"),!0)}return!1}parsePAC(t,e){let n;const r=this.cmdHistory;if(!((t>=17&&t<=23||t>=25&&t<=31)&&e>=64&&e<=127||(16===t||24===t)&&e>=64&&e<=95))return!1;if(Co(t,e,r))return xo(null,null,r),!0;const o=t<=23?1:2;n=e>=64&&e<=95?1===o?uo[t]:lo[t]:1===o?co[t]:fo[t];const i=this.channels[o];return!!i&&(i.setPAC(this.interpretPAC(n,e)),xo(t,e,r),this.currentChannel=o,!0)}interpretPAC(t,e){let n;const r={color:null,italics:!1,indent:null,underline:!1,row:t};return n=e>95?e-96:e-64,r.underline=1==(1&n),n<=13?r.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(n/2)]:n<=15?(r.italics=!0,r.color="white"):r.indent=4*Math.floor((n-16)/2),r}parseChars(t,e){let n,r=null,o=null;if(t>=25?(n=2,o=t-8):(n=1,o=t),o>=17&&o<=19){let t;t=17===o?e+80:18===o?e+112:e+144,this.logger.log(2,"Special char '"+io(t)+"' in channel "+n),r=[t]}else t>=32&&t<=127&&(r=0===e?[t]:[t,e]);if(r){const n=yo(r);this.logger.log(3,"Char codes =  "+n.join(",")),xo(t,e,this.cmdHistory)}return r}parseBackgroundAttributes(t,e){if(!((16===t||24===t)&&e>=32&&e<=47||(23===t||31===t)&&e>=45&&e<=47))return!1;let n;const r={};16===t||24===t?(n=Math.floor((e-32)/2),r.background=ho[n],e%2==1&&(r.background=r.background+"_semi")):45===e?r.background="transparent":(r.foreground="black",47===e&&(r.underline=!0));const o=t<=23?1:2;return this.channels[o].setBkgData(r),xo(t,e,this.cmdHistory),!0}reset(){for(let t=0;t<Object.keys(this.channels).length;t++){const e=this.channels[t];e&&e.reset()}this.cmdHistory={a:null,b:null}}cueSplitAtTime(t){for(let e=0;e<this.channels.length;e++){const n=this.channels[e];n&&n.cueSplitAtTime(t)}}}function xo(t,e,n){n.a=t,n.b=e}function Co(t,e,n){return n.a===t&&n.b===e}class Eo{constructor(t,e){this.timelineController=void 0,this.cueRanges=[],this.trackName=void 0,this.startTime=null,this.endTime=null,this.screen=null,this.timelineController=t,this.trackName=e}dispatchCue(){null!==this.startTime&&(this.timelineController.addCues(this.trackName,this.startTime,this.endTime,this.screen,this.cueRanges),this.startTime=null)}newCue(t,e,n){(null===this.startTime||this.startTime>t)&&(this.startTime=t),this.endTime=e,this.screen=n,this.timelineController.createCaptionsTrack(this.trackName)}reset(){this.cueRanges=[],this.startTime=null}}var ko=function(){if("undefined"!=typeof self&&self.VTTCue)return self.VTTCue;const t=["","lr","rl"],e=["start","middle","end","left","right"];function n(t,e){if("string"!=typeof e)return!1;if(!Array.isArray(t))return!1;const n=e.toLowerCase();return!!~t.indexOf(n)&&n}function r(t){return n(e,t)}function o(t,...e){let n=1;for(;n<arguments.length;n++){const e=arguments[n];for(const n in e)t[n]=e[n]}return t}function i(e,i,a){const s=this,u={enumerable:!0};s.hasBeenReset=!1;let c="",l=!1,f=e,h=i,p=a,d=null,y="",v=!0,g="auto",m="start",b=50,w="middle",A=50,x="middle";Object.defineProperty(s,"id",o({},u,{get:function(){return c},set:function(t){c=""+t}})),Object.defineProperty(s,"pauseOnExit",o({},u,{get:function(){return l},set:function(t){l=!!t}})),Object.defineProperty(s,"startTime",o({},u,{get:function(){return f},set:function(t){if("number"!=typeof t)throw new TypeError("Start time must be set to a number.");f=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"endTime",o({},u,{get:function(){return h},set:function(t){if("number"!=typeof t)throw new TypeError("End time must be set to a number.");h=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"text",o({},u,{get:function(){return p},set:function(t){p=""+t,this.hasBeenReset=!0}})),Object.defineProperty(s,"region",o({},u,{get:function(){return d},set:function(t){d=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"vertical",o({},u,{get:function(){return y},set:function(e){const r=function(e){return n(t,e)}(e);if(!1===r)throw new SyntaxError("An invalid or illegal string was specified.");y=r,this.hasBeenReset=!0}})),Object.defineProperty(s,"snapToLines",o({},u,{get:function(){return v},set:function(t){v=!!t,this.hasBeenReset=!0}})),Object.defineProperty(s,"line",o({},u,{get:function(){return g},set:function(t){if("number"!=typeof t&&"auto"!==t)throw new SyntaxError("An invalid number or illegal string was specified.");g=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"lineAlign",o({},u,{get:function(){return m},set:function(t){const e=r(t);if(!e)throw new SyntaxError("An invalid or illegal string was specified.");m=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"position",o({},u,{get:function(){return b},set:function(t){if(t<0||t>100)throw new Error("Position must be between 0 and 100.");b=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"positionAlign",o({},u,{get:function(){return w},set:function(t){const e=r(t);if(!e)throw new SyntaxError("An invalid or illegal string was specified.");w=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"size",o({},u,{get:function(){return A},set:function(t){if(t<0||t>100)throw new Error("Size must be between 0 and 100.");A=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"align",o({},u,{get:function(){return x},set:function(t){const e=r(t);if(!e)throw new SyntaxError("An invalid or illegal string was specified.");x=e,this.hasBeenReset=!0}})),s.displayState=void 0}return i.prototype.getCueAsHTML=function(){return self.WebVTT.convertCueToDOMTree(self,this.text)},i}();class Lo{decode(t,e){if(!t)return"";if("string"!=typeof t)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(t))}}function _o(t){function e(t,e,n,r){return 3600*(0|t)+60*(0|e)+(0|n)+parseFloat(r||0)}const n=t.match(/^(?:(\d+):)?(\d{2}):(\d{2})(\.\d+)?/);return n?parseFloat(n[2])>59?e(n[2],n[3],0,n[4]):e(n[1],n[2],n[3],n[4]):null}class So{constructor(){this.values=Object.create(null)}set(t,e){this.get(t)||""===e||(this.values[t]=e)}get(t,e,n){return n?this.has(t)?this.values[t]:e[n]:this.has(t)?this.values[t]:e}has(t){return t in this.values}alt(t,e,n){for(let r=0;r<n.length;++r)if(e===n[r]){this.set(t,e);break}}integer(t,e){/^-?\d+$/.test(e)&&this.set(t,parseInt(e,10))}percent(t,e){if(/^([\d]{1,3})(\.[\d]*)?%$/.test(e)){const n=parseFloat(e);if(n>=0&&n<=100)return this.set(t,n),!0}return!1}}function Po(t,e,n,r){const o=r?t.split(r):[t];for(const t in o){if("string"!=typeof o[t])continue;const r=o[t].split(n);2===r.length&&e(r[0],r[1])}}const To=new ko(0,0,""),Oo="middle"===To.align?"middle":"center";function Ro(t,e,n){const r=t;function o(){const e=_o(t);if(null===e)throw new Error("Malformed timestamp: "+r);return t=t.replace(/^[^\sa-zA-Z-]+/,""),e}function i(){t=t.replace(/^\s+/,"")}if(i(),e.startTime=o(),i(),"--\x3e"!==t.slice(0,3))throw new Error("Malformed time stamp (time stamps must be separated by '--\x3e'): "+r);t=t.slice(3),i(),e.endTime=o(),i(),function(t,e){const r=new So;Po(t,(function(t,e){let o;switch(t){case"region":for(let o=n.length-1;o>=0;o--)if(n[o].id===e){r.set(t,n[o].region);break}break;case"vertical":r.alt(t,e,["rl","lr"]);break;case"line":o=e.split(","),r.integer(t,o[0]),r.percent(t,o[0])&&r.set("snapToLines",!1),r.alt(t,o[0],["auto"]),2===o.length&&r.alt("lineAlign",o[1],["start",Oo,"end"]);break;case"position":o=e.split(","),r.percent(t,o[0]),2===o.length&&r.alt("positionAlign",o[1],["start",Oo,"end","line-left","line-right","auto"]);break;case"size":r.percent(t,e);break;case"align":r.alt(t,e,["start",Oo,"end","left","right"])}}),/:/,/\s/),e.region=r.get("region",null),e.vertical=r.get("vertical","");let o=r.get("line","auto");"auto"===o&&-1===To.line&&(o=-1),e.line=o,e.lineAlign=r.get("lineAlign","start"),e.snapToLines=r.get("snapToLines",!0),e.size=r.get("size",100),e.align=r.get("align",Oo);let i=r.get("position","auto");"auto"===i&&50===To.position&&(i="start"===e.align||"left"===e.align?0:"end"===e.align||"right"===e.align?100:50),e.position=i}(t,e)}function Io(t){return t.replace(/<br(?: \/)?>/gi,"\n")}class jo{constructor(){this.state="INITIAL",this.buffer="",this.decoder=new Lo,this.regionList=[],this.cue=null,this.oncue=void 0,this.onparsingerror=void 0,this.onflush=void 0}parse(t){const e=this;function n(){let t=e.buffer,n=0;for(t=Io(t);n<t.length&&"\r"!==t[n]&&"\n"!==t[n];)++n;const r=t.slice(0,n);return"\r"===t[n]&&++n,"\n"===t[n]&&++n,e.buffer=t.slice(n),r}t&&(e.buffer+=e.decoder.decode(t,{stream:!0}));try{let t="";if("INITIAL"===e.state){if(!/\r\n|\n/.test(e.buffer))return this;t=n();const r=t.match(/^(ï»¿)?WEBVTT([ \t].*)?$/);if(null==r||!r[0])throw new Error("Malformed WebVTT signature.");e.state="HEADER"}let r=!1;for(;e.buffer;){if(!/\r\n|\n/.test(e.buffer))return this;switch(r?r=!1:t=n(),e.state){case"HEADER":/:/.test(t)?Po(t,(function(t,e){}),/:/):t||(e.state="ID");continue;case"NOTE":t||(e.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(t)){e.state="NOTE";break}if(!t)continue;if(e.cue=new ko(0,0,""),e.state="CUE",-1===t.indexOf("--\x3e")){e.cue.id=t;continue}case"CUE":if(!e.cue){e.state="BADCUE";continue}try{Ro(t,e.cue,e.regionList)}catch(t){e.cue=null,e.state="BADCUE";continue}e.state="CUETEXT";continue;case"CUETEXT":{const n=-1!==t.indexOf("--\x3e");if(!t||n&&(r=!0)){e.oncue&&e.cue&&e.oncue(e.cue),e.cue=null,e.state="ID";continue}if(null===e.cue)continue;e.cue.text&&(e.cue.text+="\n"),e.cue.text+=t}continue;case"BADCUE":t||(e.state="ID")}}}catch(t){"CUETEXT"===e.state&&e.cue&&e.oncue&&e.oncue(e.cue),e.cue=null,e.state="INITIAL"===e.state?"BADWEBVTT":"BADCUE"}return this}flush(){const t=this;try{if((t.cue||"HEADER"===t.state)&&(t.buffer+="\n\n",t.parse()),"INITIAL"===t.state||"BADWEBVTT"===t.state)throw new Error("Malformed WebVTT signature.")}catch(e){t.onparsingerror&&t.onparsingerror(e)}return t.onflush&&t.onflush(),this}}const Do=/\r\n|\n\r|\n|\r/g,Bo=function(t,e,n=0){return t.slice(n,n+e.length)===e},No=function(t){let e=5381,n=t.length;for(;n;)e=33*e^t.charCodeAt(--n);return(e>>>0).toString()};function Mo(t,e,n){return No(t.toString())+No(e.toString())+No(n)}function Fo(t,e,n,r,o,i,a){const s=new jo,u=it(new Uint8Array(t)).trim().replace(Do,"\n").split("\n"),c=[],f=function(t,e=1){return Er(t,9e4,1/e)}(e.baseTime,e.timescale);let h,p="00:00.000",d=0,y=0,v=!0;s.oncue=function(t){const e=n[r];let i=n.ccOffset;const a=(d-f)/9e4;null!=e&&e.new&&(void 0!==y?i=n.ccOffset=e.start:function(t,e,n){let r=t[e],o=t[r.prevCC];if(!o||!o.new&&r.new)return t.ccOffset=t.presentationOffset=r.start,void(r.new=!1);for(;null!=(i=o)&&i.new;){var i;t.ccOffset+=r.start-o.start,r.new=!1,r=o,o=t[r.prevCC]}t.presentationOffset=n}(n,r,a)),a&&(i=a-n.presentationOffset);const s=t.endTime-t.startTime,u=Tr(9e4*(t.startTime+i-y),9e4*o)/9e4;t.startTime=Math.max(u,0),t.endTime=Math.max(u+s,0);const l=t.text.trim();t.text=decodeURIComponent(encodeURIComponent(l)),t.id||(t.id=Mo(t.startTime,t.endTime,l)),t.endTime>0&&c.push(t)},s.onparsingerror=function(t){h=t},s.onflush=function(){h?a(h):i(c)},u.forEach((t=>{if(v){if(Bo(t,"X-TIMESTAMP-MAP=")){v=!1,t.slice(16).split(",").forEach((t=>{Bo(t,"LOCAL:")?p=t.slice(6):Bo(t,"MPEGTS:")&&(d=parseInt(t.slice(7)))}));try{y=function(t){let e=parseInt(t.slice(-3));const n=parseInt(t.slice(-6,-4)),r=parseInt(t.slice(-9,-7)),o=t.length>9?parseInt(t.substring(0,t.indexOf(":"))):0;if(!(l(e)&&l(n)&&l(r)&&l(o)))throw Error(`Malformed X-TIMESTAMP-MAP: Local:${t}`);return e+=1e3*n,e+=6e4*r,e+=36e5*o,e}(p)/1e3}catch(t){h=t}return}""===t&&(v=!1)}s.parse(t+"\n")})),s.flush()}const Uo="stpp.ttml.im1t",Go=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,Vo=/^(\d*(?:\.\d*)?)(h|m|s|ms|f|t)$/,$o={left:"start",center:"center",right:"end",start:"start",end:"end"};function Zo(t,e,n,r){const o=gt(new Uint8Array(t),["mdat"]);if(0===o.length)return void r(new Error("Could not parse IMSC1 mdat"));const i=o.map((t=>it(t))),a=function(t,e,n=1,r=!1){return Er(t,e,1/n,r)}(e.baseTime,1,e.timescale);try{i.forEach((t=>n(function(t,e){const n=new DOMParser,r=n.parseFromString(t,"text/xml").getElementsByTagName("tt")[0];if(!r)throw new Error("Invalid ttml");const o={frameRate:30,subFrameRate:1,frameRateMultiplier:0,tickRate:0},i=Object.keys(o).reduce(((t,e)=>(t[e]=r.getAttribute(`ttp:${e}`)||o[e],t)),{}),a="preserve"!==r.getAttribute("xml:space"),s=Ho(zo(r,"styling","style")),u=Ho(zo(r,"layout","region")),l=zo(r,"body","[begin]");return[].map.call(l,(t=>{const n=Yo(t,a);if(!n||!t.hasAttribute("begin"))return null;const r=qo(t.getAttribute("begin"),i),o=qo(t.getAttribute("dur"),i);let l=qo(t.getAttribute("end"),i);if(null===r)throw Wo(t);if(null===l){if(null===o)throw Wo(t);l=r+o}const f=new ko(r-e,l-e,n);f.id=Mo(f.startTime,f.endTime,f.text);const h=function(t,e,n){const r="http://www.w3.org/ns/ttml#styling";let o=null;const i=["displayAlign","textAlign","color","backgroundColor","fontSize","fontFamily"],a=null!=t&&t.hasAttribute("style")?t.getAttribute("style"):null;return a&&n.hasOwnProperty(a)&&(o=n[a]),i.reduce(((n,i)=>{const a=Ko(e,r,i)||Ko(t,r,i)||Ko(o,r,i);return a&&(n[i]=a),n}),{})}(u[t.getAttribute("region")],s[t.getAttribute("style")],s),{textAlign:p}=h;if(p){const t=$o[p];t&&(f.lineAlign=t),f.align=p}return c(f,h),f})).filter((t=>null!==t))}(t,a))))}catch(t){r(t)}}function zo(t,e,n){const r=t.getElementsByTagName(e)[0];return r?[].slice.call(r.querySelectorAll(n)):[]}function Ho(t){return t.reduce(((t,e)=>{const n=e.getAttribute("xml:id");return n&&(t[n]=e),t}),{})}function Yo(t,e){return[].slice.call(t.childNodes).reduce(((t,n,r)=>{var o;return"br"===n.nodeName&&r?t+"\n":null!=(o=n.childNodes)&&o.length?Yo(n,e):e?t+n.textContent.trim().replace(/\s+/g," "):t+n.textContent}),"")}function Ko(t,e,n){return t&&t.hasAttributeNS(e,n)?t.getAttributeNS(e,n):null}function Wo(t){return new Error(`Could not parse ttml timestamp ${t}`)}function qo(t,e){if(!t)return null;let n=_o(t);return null===n&&(Go.test(t)?n=function(t,e){const n=Go.exec(t),r=(0|n[4])+(0|n[5])/e.subFrameRate;return 3600*(0|n[1])+60*(0|n[2])+(0|n[3])+r/e.frameRate}(t,e):Vo.test(t)&&(n=function(t,e){const n=Vo.exec(t),r=Number(n[1]);switch(n[2]){case"h":return 3600*r;case"m":return 60*r;case"ms":return 1e3*r;case"f":return r/e.frameRate;case"t":return r/e.tickRate}return r}(t,e))),n}function Xo(t,e){return!!t&&t.label===e.name&&!(t.textTrack1||t.textTrack2)}class Qo{constructor(t){this.hls=void 0,this.autoLevelCapping=void 0,this.firstLevel=void 0,this.media=void 0,this.restrictedLevels=void 0,this.timer=void 0,this.clientRect=void 0,this.streamController=void 0,this.hls=t,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.firstLevel=-1,this.media=null,this.restrictedLevels=[],this.timer=void 0,this.clientRect=null,this.registerListeners()}setStreamController(t){this.streamController=t}destroy(){this.unregisterListener(),this.hls.config.capLevelToPlayerSize&&this.stopCapping(),this.media=null,this.clientRect=null,this.hls=this.streamController=null}registerListeners(){const{hls:t}=this;t.on(f.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),t.on(f.MEDIA_ATTACHING,this.onMediaAttaching,this),t.on(f.MANIFEST_PARSED,this.onManifestParsed,this),t.on(f.BUFFER_CODECS,this.onBufferCodecs,this),t.on(f.MEDIA_DETACHING,this.onMediaDetaching,this)}unregisterListener(){const{hls:t}=this;t.off(f.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),t.off(f.MEDIA_ATTACHING,this.onMediaAttaching,this),t.off(f.MANIFEST_PARSED,this.onManifestParsed,this),t.off(f.BUFFER_CODECS,this.onBufferCodecs,this),t.off(f.MEDIA_DETACHING,this.onMediaDetaching,this)}onFpsDropLevelCapping(t,e){const n=this.hls.levels[e.droppedLevel];this.isLevelAllowed(n)&&this.restrictedLevels.push({bitrate:n.bitrate,height:n.height,width:n.width})}onMediaAttaching(t,e){this.media=e.media instanceof HTMLVideoElement?e.media:null,this.clientRect=null}onManifestParsed(t,e){const n=this.hls;this.restrictedLevels=[],this.firstLevel=e.firstLevel,n.config.capLevelToPlayerSize&&e.video&&this.startCapping()}onBufferCodecs(t,e){this.hls.config.capLevelToPlayerSize&&e.video&&this.startCapping()}onMediaDetaching(){this.stopCapping()}detectPlayerSize(){if(this.media&&this.mediaHeight>0&&this.mediaWidth>0){const t=this.hls.levels;if(t.length){const e=this.hls;e.autoLevelCapping=this.getMaxLevel(t.length-1),e.autoLevelCapping>this.autoLevelCapping&&this.streamController&&this.streamController.nextLevelSwitch(),this.autoLevelCapping=e.autoLevelCapping}}}getMaxLevel(t){const e=this.hls.levels;if(!e.length)return-1;const n=e.filter(((e,n)=>this.isLevelAllowed(e)&&n<=t));return this.clientRect=null,Qo.getMaxLevelByMediaSize(n,this.mediaWidth,this.mediaHeight)}startCapping(){this.timer||(this.autoLevelCapping=Number.POSITIVE_INFINITY,this.hls.firstLevel=this.getMaxLevel(this.firstLevel),self.clearInterval(this.timer),this.timer=self.setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())}stopCapping(){this.restrictedLevels=[],this.firstLevel=-1,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.timer&&(self.clearInterval(this.timer),this.timer=void 0)}getDimensions(){if(this.clientRect)return this.clientRect;const t=this.media,e={width:0,height:0};if(t){const n=t.getBoundingClientRect();e.width=n.width,e.height=n.height,e.width||e.height||(e.width=n.right-n.left||t.width||0,e.height=n.bottom-n.top||t.height||0)}return this.clientRect=e,e}get mediaWidth(){return this.getDimensions().width*this.contentScaleFactor}get mediaHeight(){return this.getDimensions().height*this.contentScaleFactor}get contentScaleFactor(){let t=1;if(!this.hls.config.ignoreDevicePixelRatio)try{t=self.devicePixelRatio}catch(t){}return t}isLevelAllowed(t){return!this.restrictedLevels.some((e=>t.bitrate===e.bitrate&&t.width===e.width&&t.height===e.height))}static getMaxLevelByMediaSize(t,e,n){if(null==t||!t.length)return-1;let r=t.length-1;for(let a=0;a<t.length;a+=1){const s=t[a];if((s.width>=e||s.height>=n)&&(o=s,!(i=t[a+1])||o.width!==i.width||o.height!==i.height)){r=a;break}}var o,i;return r}}const Jo="[eme]";class ti{constructor(t){this.hls=void 0,this.config=void 0,this.media=null,this.keyFormatPromise=null,this.keySystemAccessPromises={},this._requestLicenseFailureCount=0,this.mediaKeySessions=[],this.keyIdToKeySessionPromise={},this.setMediaKeysQueue=ti.CDMCleanupPromise?[ti.CDMCleanupPromise]:[],this.onMediaEncrypted=this._onMediaEncrypted.bind(this),this.onWaitingForKey=this._onWaitingForKey.bind(this),this.debug=m.debug.bind(m,Jo),this.log=m.log.bind(m,Jo),this.warn=m.warn.bind(m,Jo),this.error=m.error.bind(m,Jo),this.hls=t,this.config=t.config,this.registerListeners()}destroy(){this.unregisterListeners(),this.onMediaDetached();const t=this.config;t.requestMediaKeySystemAccessFunc=null,t.licenseXhrSetup=t.licenseResponseCallback=void 0,t.drmSystems=t.drmSystemOptions={},this.hls=this.onMediaEncrypted=this.onWaitingForKey=this.keyIdToKeySessionPromise=null,this.config=null}registerListeners(){this.hls.on(f.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(f.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.on(f.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.on(f.MANIFEST_LOADED,this.onManifestLoaded,this)}unregisterListeners(){this.hls.off(f.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.off(f.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.off(f.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.off(f.MANIFEST_LOADED,this.onManifestLoaded,this)}getLicenseServerUrl(t){const{drmSystems:e,widevineLicenseUrl:n}=this.config,r=e[t];if(r)return r.licenseUrl;if(t===D.WIDEVINE&&n)return n;throw new Error(`no license server URL configured for key-system "${t}"`)}getServerCertificateUrl(t){const{drmSystems:e}=this.config,n=e[t];if(n)return n.serverCertificateUrl;this.log(`No Server Certificate in config.drmSystems["${t}"]`)}attemptKeySystemAccess(t){const e=this.hls.levels,n=(t,e,n)=>!!t&&n.indexOf(t)===e,r=e.map((t=>t.audioCodec)).filter(n),o=e.map((t=>t.videoCodec)).filter(n);return r.length+o.length===0&&o.push("avc1.42e01e"),new Promise(((e,n)=>{const i=t=>{const a=t.shift();this.getMediaKeysPromise(a,r,o).then((t=>e({keySystem:a,mediaKeys:t}))).catch((e=>{t.length?i(t):n(e instanceof ei?e:new ei({type:h.KEY_SYSTEM_ERROR,details:p.KEY_SYSTEM_NO_ACCESS,error:e,fatal:!0},e.message))}))};i(t)}))}requestMediaKeySystemAccess(t,e){const{requestMediaKeySystemAccessFunc:n}=this.config;if("function"!=typeof n){let t=`Configured requestMediaKeySystemAccess is not a function ${n}`;return null===Z&&"http:"===self.location.protocol&&(t=`navigator.requestMediaKeySystemAccess is not available over insecure protocol ${location.protocol}`),Promise.reject(new Error(t))}return n(t,e)}getMediaKeysPromise(t,e,n){const r=function(t,e,n,r){let o;switch(t){case D.FAIRPLAY:o=["cenc","sinf"];break;case D.WIDEVINE:case D.PLAYREADY:o=["cenc"];break;case D.CLEARKEY:o=["cenc","keyids"];break;default:throw new Error(`Unknown key-system: ${t}`)}return function(t,e,n,r){return[{initDataTypes:t,persistentState:r.persistentState||"not-allowed",distinctiveIdentifier:r.distinctiveIdentifier||"not-allowed",sessionTypes:r.sessionTypes||[r.sessionType||"temporary"],audioCapabilities:e.map((t=>({contentType:`audio/mp4; codecs="${t}"`,robustness:r.audioRobustness||"",encryptionScheme:r.audioEncryptionScheme||null}))),videoCapabilities:n.map((t=>({contentType:`video/mp4; codecs="${t}"`,robustness:r.videoRobustness||"",encryptionScheme:r.videoEncryptionScheme||null})))}]}(o,e,n,r)}(t,e,n,this.config.drmSystemOptions),o=this.keySystemAccessPromises[t];let i=null==o?void 0:o.keySystemAccess;if(!i){this.log(`Requesting encrypted media "${t}" key-system access with config: ${JSON.stringify(r)}`),i=this.requestMediaKeySystemAccess(t,r);const e=this.keySystemAccessPromises[t]={keySystemAccess:i};return i.catch((e=>{this.log(`Failed to obtain access to key-system "${t}": ${e}`)})),i.then((n=>{this.log(`Access for key-system "${n.keySystem}" obtained`);const r=this.fetchServerCertificate(t);return this.log(`Create media-keys for "${t}"`),e.mediaKeys=n.createMediaKeys().then((e=>(this.log(`Media-keys created for "${t}"`),r.then((n=>n?this.setMediaKeysServerCertificate(e,t,n):e))))),e.mediaKeys.catch((e=>{this.error(`Failed to create media-keys for "${t}"}: ${e}`)})),e.mediaKeys}))}return i.then((()=>o.mediaKeys))}createMediaKeySessionContext({decryptdata:t,keySystem:e,mediaKeys:n}){this.log(`Creating key-system session "${e}" keyId: ${ut(t.keyId||[])}`);const r=n.createSession(),o={decryptdata:t,keySystem:e,mediaKeys:n,mediaKeysSession:r,keyStatus:"status-pending"};return this.mediaKeySessions.push(o),o}renewKeySession(t){const e=t.decryptdata;if(e.pssh){const n=this.createMediaKeySessionContext(t),r=this.getKeyIdString(e),o="cenc";this.keyIdToKeySessionPromise[r]=this.generateRequestWithPreferredKeySession(n,o,e.pssh,"expired")}else this.warn("Could not renew expired session. Missing pssh initData.");this.removeSession(t)}getKeyIdString(t){if(!t)throw new Error("Could not read keyId of undefined decryptdata");if(null===t.keyId)throw new Error("keyId is null");return ut(t.keyId)}updateKeySession(t,e){var n;const r=t.mediaKeysSession;return this.log(`Updating key-session "${r.sessionId}" for keyID ${ut((null==(n=t.decryptdata)?void 0:n.keyId)||[])}\n      } (data length: ${e?e.byteLength:e})`),r.update(e)}selectKeySystemFormat(t){const e=Object.keys(t.levelkeys||{});return this.keyFormatPromise||(this.log(`Selecting key-system from fragment (sn: ${t.sn} ${t.type}: ${t.level}) key formats ${e.join(", ")}`),this.keyFormatPromise=this.getKeyFormatPromise(e)),this.keyFormatPromise}getKeyFormatPromise(t){return new Promise(((e,n)=>{const r=$(this.config),o=t.map(U).filter((t=>!!t&&-1!==r.indexOf(t)));return this.getKeySystemSelectionPromise(o).then((({keySystem:t})=>{const r=V(t);r?e(r):n(new Error(`Unable to find format for key-system "${t}"`))})).catch(n)}))}loadKey(t){const e=t.keyInfo.decryptdata,n=this.getKeyIdString(e),r=`(keyId: ${n} format: "${e.keyFormat}" method: ${e.method} uri: ${e.uri})`;this.log(`Starting session for key ${r}`);let o=this.keyIdToKeySessionPromise[n];return o||(o=this.keyIdToKeySessionPromise[n]=this.getKeySystemForKeyPromise(e).then((({keySystem:n,mediaKeys:o})=>(this.throwIfDestroyed(),this.log(`Handle encrypted media sn: ${t.frag.sn} ${t.frag.type}: ${t.frag.level} using key ${r}`),this.attemptSetMediaKeys(n,o).then((()=>{this.throwIfDestroyed();const t=this.createMediaKeySessionContext({keySystem:n,mediaKeys:o,decryptdata:e});return this.generateRequestWithPreferredKeySession(t,"cenc",e.pssh,"playlist-key")}))))),o.catch((t=>this.handleError(t)))),o}throwIfDestroyed(t="Invalid state"){if(!this.hls)throw new Error("invalid state")}handleError(t){this.hls&&(this.error(t.message),t instanceof ei?this.hls.trigger(f.ERROR,t.data):this.hls.trigger(f.ERROR,{type:h.KEY_SYSTEM_ERROR,details:p.KEY_SYSTEM_NO_KEYS,error:t,fatal:!0}))}getKeySystemForKeyPromise(t){const e=this.getKeyIdString(t),n=this.keyIdToKeySessionPromise[e];if(!n){const e=U(t.keyFormat),n=e?[e]:$(this.config);return this.attemptKeySystemAccess(n)}return n}getKeySystemSelectionPromise(t){if(t.length||(t=$(this.config)),0===t.length)throw new ei({type:h.KEY_SYSTEM_ERROR,details:p.KEY_SYSTEM_NO_CONFIGURED_LICENSE,fatal:!0},`Missing key-system license configuration options ${JSON.stringify({drmSystems:this.config.drmSystems})}`);return this.attemptKeySystemAccess(t)}_onMediaEncrypted(t){const{initDataType:e,initData:n}=t;if(this.debug(`"${t.type}" event: init data type: "${e}"`),null===n)return;let r,o;if("sinf"===e&&this.config.drmSystems[D.FAIRPLAY]){const t=ht(new Uint8Array(n));try{const e=R(JSON.parse(t).sinf),n=wt(new Uint8Array(e));if(!n)return;r=n.subarray(8,24),o=D.FAIRPLAY}catch(t){return void this.warn('Failed to parse sinf "encrypted" event message initData')}}else{const t=function(t){if(!(t instanceof ArrayBuffer)||t.byteLength<32)return null;const e={version:0,systemId:"",kids:null,data:null},n=new DataView(t),r=n.getUint32(0);if(t.byteLength!==r&&r>44)return null;if(1886614376!==n.getUint32(4))return null;if(e.version=n.getUint32(8)>>>24,e.version>1)return null;e.systemId=ut(new Uint8Array(t,12,16));const o=n.getUint32(28);if(0===e.version){if(r-32<o)return null;e.data=new Uint8Array(t,32,o)}else if(1===e.version){e.kids=[];for(let n=0;n<o;n++)e.kids.push(new Uint8Array(t,32+16*n,16))}return e}(n);if(null===t)return;0===t.version&&t.systemId===G&&t.data&&(r=t.data.subarray(8,24)),o=function(t){if(t===G)return D.WIDEVINE}(t.systemId)}if(!o||!r)return;const i=ut(r),{keyIdToKeySessionPromise:a,mediaKeySessions:s}=this;let u=a[i];for(let t=0;t<s.length;t++){const o=s[t],c=o.decryptdata;if(c.pssh||!c.keyId)continue;const l=ut(c.keyId);if(i===l||-1!==c.uri.replace(/-/g,"").indexOf(i)){u=a[l],delete a[l],c.pssh=new Uint8Array(n),c.keyId=r,u=a[i]=u.then((()=>this.generateRequestWithPreferredKeySession(o,e,n,"encrypted-event-key-match")));break}}u||(u=a[i]=this.getKeySystemSelectionPromise([o]).then((({keySystem:t,mediaKeys:o})=>{var a;this.throwIfDestroyed();const s=new Pt("ISO-23001-7",i,null!=(a=V(t))?a:"");return s.pssh=new Uint8Array(n),s.keyId=r,this.attemptSetMediaKeys(t,o).then((()=>{this.throwIfDestroyed();const r=this.createMediaKeySessionContext({decryptdata:s,keySystem:t,mediaKeys:o});return this.generateRequestWithPreferredKeySession(r,e,n,"encrypted-event-no-match")}))}))),u.catch((t=>this.handleError(t)))}_onWaitingForKey(t){this.log(`"${t.type}" event`)}attemptSetMediaKeys(t,e){const n=this.setMediaKeysQueue.slice();this.log(`Setting media-keys for "${t}"`);const r=Promise.all(n).then((()=>{if(!this.media)throw new Error("Attempted to set mediaKeys without media element attached");return this.media.setMediaKeys(e)}));return this.setMediaKeysQueue.push(r),r.then((()=>{this.log(`Media-keys set for "${t}"`),n.push(r),this.setMediaKeysQueue=this.setMediaKeysQueue.filter((t=>-1===n.indexOf(t)))}))}generateRequestWithPreferredKeySession(t,e,n,r){var o,i;const a=null==(o=this.config.drmSystems)||null==(i=o[t.keySystem])?void 0:i.generateRequest;if(a)try{const r=a.call(this.hls,e,n,t);if(!r)throw new Error("Invalid response from configured generateRequest filter");e=r.initDataType,n=t.decryptdata.pssh=r.initData?new Uint8Array(r.initData):null}catch(t){var s;if(this.warn(t.message),null!=(s=this.hls)&&s.config.debug)throw t}if(null===n)return this.log(`Skipping key-session request for "${r}" (no initData)`),Promise.resolve(t);const u=this.getKeyIdString(t.decryptdata);this.log(`Generating key-session request for "${r}": ${u} (init data type: ${e} length: ${n?n.byteLength:null})`);const c=new $r;t.mediaKeysSession.onmessage=e=>{const n=t.mediaKeysSession;if(!n)return void c.emit("error",new Error("invalid state"));const{messageType:r,message:o}=e;this.log(`"${r}" message event for session "${n.sessionId}" message size: ${o.byteLength}`),"license-request"===r||"license-renewal"===r?this.renewLicense(t,o).catch((t=>{this.handleError(t),c.emit("error",t)})):"license-release"===r?t.keySystem===D.FAIRPLAY&&(this.updateKeySession(t,j("acknowledged")),this.removeSession(t)):this.warn(`unhandled media key message type "${r}"`)},t.mediaKeysSession.onkeystatuseschange=e=>{if(!t.mediaKeysSession)return void c.emit("error",new Error("invalid state"));this.onKeyStatusChange(t);const n=t.keyStatus;c.emit("keyStatus",n),"expired"===n&&(this.warn(`${t.keySystem} expired for key ${u}`),this.renewKeySession(t))};const l=new Promise(((t,e)=>{c.on("error",e),c.on("keyStatus",(n=>{n.startsWith("usable")?t():"output-restricted"===n?e(new ei({type:h.KEY_SYSTEM_ERROR,details:p.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED,fatal:!1},"HDCP level output restricted")):"internal-error"===n?e(new ei({type:h.KEY_SYSTEM_ERROR,details:p.KEY_SYSTEM_STATUS_INTERNAL_ERROR,fatal:!0},`key status changed to "${n}"`)):"expired"===n?e(new Error("key expired while generating request")):this.warn(`unhandled key status change "${n}"`)}))}));return t.mediaKeysSession.generateRequest(e,n).then((()=>{var e;this.log(`Request generated for key-session "${null==(e=t.mediaKeysSession)?void 0:e.sessionId}" keyId: ${u}`)})).catch((t=>{throw new ei({type:h.KEY_SYSTEM_ERROR,details:p.KEY_SYSTEM_NO_SESSION,error:t,fatal:!1},`Error generating key-session request: ${t}`)})).then((()=>l)).catch((e=>{throw c.removeAllListeners(),this.removeSession(t),e})).then((()=>(c.removeAllListeners(),t)))}onKeyStatusChange(t){t.mediaKeysSession.keyStatuses.forEach(((e,n)=>{this.log(`key status change "${e}" for keyStatuses keyId: ${ut("buffer"in n?new Uint8Array(n.buffer,n.byteOffset,n.byteLength):new Uint8Array(n))} session keyId: ${ut(new Uint8Array(t.decryptdata.keyId||[]))} uri: ${t.decryptdata.uri}`),t.keyStatus=e}))}fetchServerCertificate(t){const e=this.config,n=new(0,e.loader)(e),r=this.getServerCertificateUrl(t);return r?(this.log(`Fetching serverCertificate for "${t}"`),new Promise(((o,i)=>{const a={responseType:"arraybuffer",url:r},u=e.certLoadPolicy.default,c={loadPolicy:u,timeout:u.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},l={onSuccess:(t,e,n,r)=>{o(t.data)},onError:(e,n,o,u)=>{i(new ei({type:h.KEY_SYSTEM_ERROR,details:p.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED,fatal:!0,networkDetails:o,response:s({url:a.url,data:void 0},e)},`"${t}" certificate request failed (${r}). Status: ${e.code} (${e.text})`))},onTimeout:(e,n,o)=>{i(new ei({type:h.KEY_SYSTEM_ERROR,details:p.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED,fatal:!0,networkDetails:o,response:{url:a.url,data:void 0}},`"${t}" certificate request timed out (${r})`))},onAbort:(t,e,n)=>{i(new Error("aborted"))}};n.load(a,c,l)}))):Promise.resolve()}setMediaKeysServerCertificate(t,e,n){return new Promise(((r,o)=>{t.setServerCertificate(n).then((o=>{this.log(`setServerCertificate ${o?"success":"not supported by CDM"} (${null==n?void 0:n.byteLength}) on "${e}"`),r(t)})).catch((t=>{o(new ei({type:h.KEY_SYSTEM_ERROR,details:p.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED,error:t,fatal:!0},t.message))}))}))}renewLicense(t,e){return this.requestLicense(t,new Uint8Array(e)).then((e=>this.updateKeySession(t,new Uint8Array(e)).catch((t=>{throw new ei({type:h.KEY_SYSTEM_ERROR,details:p.KEY_SYSTEM_SESSION_UPDATE_FAILED,error:t,fatal:!0},t.message)}))))}setupLicenseXHR(t,e,n,r){const o=this.config.licenseXhrSetup;return o?Promise.resolve().then((()=>{if(!n.decryptdata)throw new Error("Key removed");return o.call(this.hls,t,e,n,r)})).catch((i=>{if(!n.decryptdata)throw i;return t.open("POST",e,!0),o.call(this.hls,t,e,n,r)})).then((n=>(t.readyState||t.open("POST",e,!0),{xhr:t,licenseChallenge:n||r}))):(t.open("POST",e,!0),Promise.resolve({xhr:t,licenseChallenge:r}))}requestLicense(t,e){const n=this.config.keyLoadPolicy.default;return new Promise(((r,o)=>{const i=this.getLicenseServerUrl(t.keySystem);this.log(`Sending license request to URL: ${i}`);const a=new XMLHttpRequest;a.responseType="arraybuffer",a.onreadystatechange=()=>{if(!this.hls||!t.mediaKeysSession)return o(new Error("invalid state"));if(4===a.readyState)if(200===a.status){this._requestLicenseFailureCount=0;let e=a.response;this.log(`License received ${e instanceof ArrayBuffer?e.byteLength:e}`);const n=this.config.licenseResponseCallback;if(n)try{e=n.call(this.hls,a,i,t)}catch(t){this.error(t)}r(e)}else{const s=n.errorRetry,u=s?s.maxNumRetry:0;if(this._requestLicenseFailureCount++,this._requestLicenseFailureCount>u||a.status>=400&&a.status<500)o(new ei({type:h.KEY_SYSTEM_ERROR,details:p.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0,networkDetails:a,response:{url:i,data:void 0,code:a.status,text:a.statusText}},`License Request XHR failed (${i}). Status: ${a.status} (${a.statusText})`));else{const n=u-this._requestLicenseFailureCount+1;this.warn(`Retrying license request, ${n} attempts left`),this.requestLicense(t,e).then(r,o)}}},t.licenseXhr&&t.licenseXhr.readyState!==XMLHttpRequest.DONE&&t.licenseXhr.abort(),t.licenseXhr=a,this.setupLicenseXHR(a,i,t,e).then((({xhr:t,licenseChallenge:e})=>{t.send(e)}))}))}onMediaAttached(t,e){if(!this.config.emeEnabled)return;const n=e.media;this.media=n,n.addEventListener("encrypted",this.onMediaEncrypted),n.addEventListener("waitingforkey",this.onWaitingForKey)}onMediaDetached(){const t=this.media,e=this.mediaKeySessions;t&&(t.removeEventListener("encrypted",this.onMediaEncrypted),t.removeEventListener("waitingforkey",this.onWaitingForKey),this.media=null),this._requestLicenseFailureCount=0,this.setMediaKeysQueue=[],this.mediaKeySessions=[],this.keyIdToKeySessionPromise={},Pt.clearKeyUriToKeyIdMap();const n=e.length;ti.CDMCleanupPromise=Promise.all(e.map((t=>this.removeSession(t))).concat(null==t?void 0:t.setMediaKeys(null).catch((e=>{this.log(`Could not clear media keys: ${e}. media.src: ${null==t?void 0:t.src}`)})))).then((()=>{n&&(this.log("finished closing key sessions and clearing media keys"),e.length=0)})).catch((e=>{this.log(`Could not close sessions and clear media keys: ${e}. media.src: ${null==t?void 0:t.src}`)}))}onManifestLoading(){this.keyFormatPromise=null}onManifestLoaded(t,{sessionKeys:e}){if(e&&this.config.emeEnabled&&!this.keyFormatPromise){const t=e.reduce(((t,e)=>(-1===t.indexOf(e.keyFormat)&&t.push(e.keyFormat),t)),[]);this.log(`Selecting key-system from session-keys ${t.join(", ")}`),this.keyFormatPromise=this.getKeyFormatPromise(t)}}removeSession(t){const{mediaKeysSession:e,licenseXhr:n}=t;if(e){this.log(`Remove licenses and keys and close session ${e.sessionId}`),e.onmessage=null,e.onkeystatuseschange=null,n&&n.readyState!==XMLHttpRequest.DONE&&n.abort(),t.mediaKeysSession=t.decryptdata=t.licenseXhr=void 0;const r=this.mediaKeySessions.indexOf(t);return r>-1&&this.mediaKeySessions.splice(r,1),e.remove().catch((t=>{this.log(`Could not remove session: ${t}`)})).then((()=>e.close())).catch((t=>{this.log(`Could not close session: ${t}`)}))}}}ti.CDMCleanupPromise=void 0;class ei extends Error{constructor(t,e){super(e),this.data=void 0,t.error||(t.error=new Error(e)),this.data=t,t.err=t.error}}var ni="m",ri="a",oi="v",ii="av",ai="i",si="tt";class ui{constructor(t){this.hls=void 0,this.config=void 0,this.media=void 0,this.sid=void 0,this.cid=void 0,this.useHeaders=!1,this.initialized=!1,this.starved=!1,this.buffering=!0,this.audioBuffer=void 0,this.videoBuffer=void 0,this.onWaiting=()=>{this.initialized&&(this.starved=!0),this.buffering=!0},this.onPlaying=()=>{this.initialized||(this.initialized=!0),this.buffering=!1},this.applyPlaylistData=t=>{try{this.apply(t,{ot:ni,su:!this.initialized})}catch(t){m.warn("Could not generate manifest CMCD data.",t)}},this.applyFragmentData=t=>{try{const e=t.frag,n=this.hls.levels[e.level],r=this.getObjectType(e),o={d:1e3*e.duration,ot:r};r!==oi&&r!==ri&&r!=ii||(o.br=n.bitrate/1e3,o.tb=this.getTopBandwidth(r)/1e3,o.bl=this.getBufferLength(r)),this.apply(t,o)}catch(t){m.warn("Could not generate segment CMCD data.",t)}},this.hls=t;const e=this.config=t.config,{cmcd:n}=e;null!=n&&(e.pLoader=this.createPlaylistLoader(),e.fLoader=this.createFragmentLoader(),this.sid=n.sessionId||ui.uuid(),this.cid=n.contentId,this.useHeaders=!0===n.useHeaders,this.registerListeners())}registerListeners(){const t=this.hls;t.on(f.MEDIA_ATTACHED,this.onMediaAttached,this),t.on(f.MEDIA_DETACHED,this.onMediaDetached,this),t.on(f.BUFFER_CREATED,this.onBufferCreated,this)}unregisterListeners(){const t=this.hls;t.off(f.MEDIA_ATTACHED,this.onMediaAttached,this),t.off(f.MEDIA_DETACHED,this.onMediaDetached,this),t.off(f.BUFFER_CREATED,this.onBufferCreated,this)}destroy(){this.unregisterListeners(),this.onMediaDetached(),this.hls=this.config=this.audioBuffer=this.videoBuffer=null}onMediaAttached(t,e){this.media=e.media,this.media.addEventListener("waiting",this.onWaiting),this.media.addEventListener("playing",this.onPlaying)}onMediaDetached(){this.media&&(this.media.removeEventListener("waiting",this.onWaiting),this.media.removeEventListener("playing",this.onPlaying),this.media=null)}onBufferCreated(t,e){var n,r;this.audioBuffer=null==(n=e.tracks.audio)?void 0:n.buffer,this.videoBuffer=null==(r=e.tracks.video)?void 0:r.buffer}createData(){var t;return{v:1,sf:"h",sid:this.sid,cid:this.cid,pr:null==(t=this.media)?void 0:t.playbackRate,mtp:this.hls.bandwidthEstimate/1e3}}apply(t,e={}){c(e,this.createData());const n=e.ot===ai||e.ot===oi||e.ot===ii;if(this.starved&&n&&(e.bs=!0,e.su=!0,this.starved=!1),null==e.su&&(e.su=this.buffering),this.useHeaders){const n=ui.toHeaders(e);if(!Object.keys(n).length)return;t.headers||(t.headers={}),c(t.headers,n)}else{const n=ui.toQuery(e);if(!n)return;t.url=ui.appendQueryToUri(t.url,n)}}getObjectType(t){const{type:e}=t;return"subtitle"===e?si:"initSegment"===t.sn?ai:"audio"===e?ri:"main"===e?this.hls.audioTracks.length?oi:ii:void 0}getTopBandwidth(t){let e,n=0;const r=this.hls;if(t===ri)e=r.audioTracks;else{const t=r.maxAutoLevel,n=t>-1?t+1:r.levels.length;e=r.levels.slice(0,n)}for(const t of e)t.bitrate>n&&(n=t.bitrate);return n>0?n:NaN}getBufferLength(t){const e=this.hls.media,n=t===ri?this.audioBuffer:this.videoBuffer;return n&&e?1e3*gn.bufferInfo(n,e.currentTime,this.config.maxBufferHole).len:NaN}createPlaylistLoader(){const{pLoader:t}=this.config,e=this.applyPlaylistData,n=t||this.config.loader;return class{constructor(t){this.loader=void 0,this.loader=new n(t)}get stats(){return this.loader.stats}get context(){return this.loader.context}destroy(){this.loader.destroy()}abort(){this.loader.abort()}load(t,n,r){e(t),this.loader.load(t,n,r)}}}createFragmentLoader(){const{fLoader:t}=this.config,e=this.applyFragmentData,n=t||this.config.loader;return class{constructor(t){this.loader=void 0,this.loader=new n(t)}get stats(){return this.loader.stats}get context(){return this.loader.context}destroy(){this.loader.destroy()}abort(){this.loader.abort()}load(t,n,r){e(t),this.loader.load(t,n,r)}}}static uuid(){const t=URL.createObjectURL(new Blob),e=t.toString();return URL.revokeObjectURL(t),e.slice(e.lastIndexOf("/")+1)}static serialize(t){const e=[],n=t=>!Number.isNaN(t)&&null!=t&&""!==t&&!1!==t,r=t=>Math.round(t),o=t=>100*r(t/100),i={br:r,d:r,bl:o,dl:o,mtp:o,nor:t=>encodeURIComponent(t),rtp:o,tb:r},a=Object.keys(t||{}).sort();for(const r of a){let o=t[r];if(!n(o))continue;if("v"===r&&1===o)continue;if("pr"==r&&1===o)continue;const a=i[r];a&&(o=a(o));const s=typeof o;let u;u="ot"===r||"sf"===r||"st"===r?`${r}=${o}`:"boolean"===s?r:"number"===s?`${r}=${o}`:`${r}=${JSON.stringify(o)}`,e.push(u)}return e.join(",")}static toHeaders(t){const e=Object.keys(t),n={},r=["Object","Request","Session","Status"],o=[{},{},{},{}],i={br:0,d:0,ot:0,tb:0,bl:1,dl:1,mtp:1,nor:1,nrr:1,su:1,cid:2,pr:2,sf:2,sid:2,st:2,v:2,bs:3,rtp:3};for(const n of e)o[null!=i[n]?i[n]:1][n]=t[n];for(let t=0;t<o.length;t++){const e=ui.serialize(o[t]);e&&(n[`CMCD-${r[t]}`]=e)}return n}static toQuery(t){return`CMCD=${encodeURIComponent(ui.serialize(t))}`}static appendQueryToUri(t,e){if(!e)return t;const n=t.includes("?")?"&":"?";return`${t}${n}${e}`}}function ci(t,e,n,r){t&&Object.keys(e).forEach((o=>{const i=t.filter((t=>t.groupId===o)).map((t=>{const i=c({},t);return i.details=void 0,i.attrs=new A(i.attrs),i.url=i.attrs.URI=li(t.url,t.attrs["STABLE-RENDITION-ID"],"PER-RENDITION-URIS",n),i.groupId=i.attrs["GROUP-ID"]=e[o],i.attrs["PATHWAY-ID"]=r,i}));t.push(...i)}))}function li(t,e,n,r){const{HOST:o,PARAMS:i,[n]:a}=r;let s;e&&(s=null==a?void 0:a[e],s&&(t=s));const u=new self.URL(t);return o&&!s&&(u.host=o),i&&Object.keys(i).sort().forEach((t=>{t&&u.searchParams.set(t,i[t])})),u.href}const fi=/^age:\s*[\d.]+\s*$/im;class hi{constructor(t){this.xhrSetup=void 0,this.requestTimeout=void 0,this.retryTimeout=void 0,this.retryDelay=void 0,this.config=null,this.callbacks=null,this.context=void 0,this.loader=null,this.stats=void 0,this.xhrSetup=t&&t.xhrSetup||null,this.stats=new E,this.retryDelay=0}destroy(){this.callbacks=null,this.abortInternal(),this.loader=null,this.config=null}abortInternal(){const t=this.loader;self.clearTimeout(this.requestTimeout),self.clearTimeout(this.retryTimeout),t&&(t.onreadystatechange=null,t.onprogress=null,4!==t.readyState&&(this.stats.aborted=!0,t.abort()))}abort(){var t;this.abortInternal(),null!=(t=this.callbacks)&&t.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.loader)}load(t,e,n){if(this.stats.loading.start)throw new Error("Loader can only be used once.");this.stats.loading.start=self.performance.now(),this.context=t,this.config=e,this.callbacks=n,this.loadInternal()}loadInternal(){const{config:t,context:e}=this;if(!t)return;const n=this.loader=new self.XMLHttpRequest,r=this.stats;r.loading.first=0,r.loaded=0;const o=this.xhrSetup;o?Promise.resolve().then((()=>{if(!this.stats.aborted)return o(n,e.url)})).catch((t=>(n.open("GET",e.url,!0),o(n,e.url)))).then((()=>{this.stats.aborted||this.openAndSendXhr(n,e,t)})).catch((t=>{this.callbacks.onError({code:n.status,text:t.message},e,n,r)})):this.openAndSendXhr(n,e,t)}openAndSendXhr(t,e,n){t.readyState||t.open("GET",e.url,!0);const r=this.context.headers,{maxTimeToFirstByteMs:o,maxLoadTimeMs:i}=n.loadPolicy;if(r)for(const e in r)t.setRequestHeader(e,r[e]);e.rangeEnd&&t.setRequestHeader("Range","bytes="+e.rangeStart+"-"+(e.rangeEnd-1)),t.onreadystatechange=this.readystatechange.bind(this),t.onprogress=this.loadprogress.bind(this),t.responseType=e.responseType,self.clearTimeout(this.requestTimeout),n.timeout=o&&l(o)?o:i,this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),n.timeout),t.send()}readystatechange(){const{context:t,loader:e,stats:n}=this;if(!t||!e)return;const r=e.readyState,o=this.config;if(!n.aborted&&r>=2&&(0===n.loading.first&&(n.loading.first=Math.max(self.performance.now(),n.loading.start),o.timeout!==o.loadPolicy.maxLoadTimeMs&&(self.clearTimeout(this.requestTimeout),o.timeout=o.loadPolicy.maxLoadTimeMs,this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),o.loadPolicy.maxLoadTimeMs-(n.loading.first-n.loading.start)))),4===r)){self.clearTimeout(this.requestTimeout),e.onreadystatechange=null,e.onprogress=null;const r=e.status,i="text"!==e.responseType;if(r>=200&&r<300&&(i&&e.response||null!==e.responseText)){n.loading.end=Math.max(self.performance.now(),n.loading.first);const o=i?e.response:e.responseText,a="arraybuffer"===e.responseType?o.byteLength:o.length;if(n.loaded=n.total=a,n.bwEstimate=8e3*n.total/(n.loading.end-n.loading.first),!this.callbacks)return;const s=this.callbacks.onProgress;if(s&&s(n,t,o,e),!this.callbacks)return;const u={url:e.responseURL,data:o,code:r};this.callbacks.onSuccess(u,n,t,e)}else{const i=o.loadPolicy.errorRetry;Me(i,n.retry,!1,r)?this.retry(i):(m.error(`${r} while loading ${t.url}`),this.callbacks.onError({code:r,text:e.statusText},t,e,n))}}}loadtimeout(){var t;const e=null==(t=this.config)?void 0:t.loadPolicy.timeoutRetry;if(Me(e,this.stats.retry,!0))this.retry(e);else{m.warn(`timeout while loading ${this.context.url}`);const t=this.callbacks;t&&(this.abortInternal(),t.onTimeout(this.stats,this.context,this.loader))}}retry(t){const{context:e,stats:n}=this;this.retryDelay=Be(t,n.retry),n.retry++,m.warn(`${status?"HTTP Status "+status:"Timeout"} while loading ${e.url}, retrying ${n.retry}/${t.maxNumRetry} in ${this.retryDelay}ms`),this.abortInternal(),this.loader=null,self.clearTimeout(this.retryTimeout),this.retryTimeout=self.setTimeout(this.loadInternal.bind(this),this.retryDelay)}loadprogress(t){const e=this.stats;e.loaded=t.loaded,t.lengthComputable&&(e.total=t.total)}getCacheAge(){let t=null;if(this.loader&&fi.test(this.loader.getAllResponseHeaders())){const e=this.loader.getResponseHeader("age");t=e?parseFloat(e):null}return t}getResponseHeader(t){return this.loader&&new RegExp(`^${t}:\\s*[\\d.]+\\s*$`,"im").test(this.loader.getAllResponseHeaders())?this.loader.getResponseHeader(t):null}}const pi=/(\d+)-(\d+)\/(\d+)/;class di{constructor(t){this.fetchSetup=void 0,this.requestTimeout=void 0,this.request=void 0,this.response=void 0,this.controller=void 0,this.context=void 0,this.config=null,this.callbacks=null,this.stats=void 0,this.loader=null,this.fetchSetup=t.fetchSetup||yi,this.controller=new self.AbortController,this.stats=new E}destroy(){this.loader=this.callbacks=null,this.abortInternal()}abortInternal(){const t=this.response;null!=t&&t.ok||(this.stats.aborted=!0,this.controller.abort())}abort(){var t;this.abortInternal(),null!=(t=this.callbacks)&&t.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.response)}load(t,e,n){const r=this.stats;if(r.loading.start)throw new Error("Loader can only be used once.");r.loading.start=self.performance.now();const o=function(t,e){const n={method:"GET",mode:"cors",credentials:"same-origin",signal:e,headers:new self.Headers(c({},t.headers))};return t.rangeEnd&&n.headers.set("Range","bytes="+t.rangeStart+"-"+String(t.rangeEnd-1)),n}(t,this.controller.signal),i=n.onProgress,a="arraybuffer"===t.responseType,s=a?"byteLength":"length",{maxTimeToFirstByteMs:u,maxLoadTimeMs:f}=e.loadPolicy;this.context=t,this.config=e,this.callbacks=n,this.request=this.fetchSetup(t,o),self.clearTimeout(this.requestTimeout),e.timeout=u&&l(u)?u:f,this.requestTimeout=self.setTimeout((()=>{this.abortInternal(),n.onTimeout(r,t,this.response)}),e.timeout),self.fetch(this.request).then((o=>{this.response=this.loader=o;const s=Math.max(self.performance.now(),r.loading.start);if(self.clearTimeout(this.requestTimeout),e.timeout=f,this.requestTimeout=self.setTimeout((()=>{this.abortInternal(),n.onTimeout(r,t,this.response)}),f-(s-r.loading.start)),!o.ok){const{status:t,statusText:e}=o;throw new vi(e||"fetch, bad network response",t,o)}return r.loading.first=s,r.total=function(t){const e=t.get("Content-Range");if(e){const t=function(t){const e=pi.exec(t);if(e)return parseInt(e[2])-parseInt(e[1])+1}(e);if(l(t))return t}const n=t.get("Content-Length");if(n)return parseInt(n)}(o.headers)||r.total,i&&l(e.highWaterMark)?this.loadProgressively(o,r,t,e.highWaterMark,i):a?o.arrayBuffer():"json"===t.responseType?o.json():o.text()})).then((o=>{const{response:a}=this;self.clearTimeout(this.requestTimeout),r.loading.end=Math.max(self.performance.now(),r.loading.first);const u=o[s];u&&(r.loaded=r.total=u);const c={url:a.url,data:o,code:a.status};i&&!l(e.highWaterMark)&&i(r,t,o,a),n.onSuccess(c,r,t,a)})).catch((e=>{if(self.clearTimeout(this.requestTimeout),r.aborted)return;const o=e&&e.code||0,i=e?e.message:null;n.onError({code:o,text:i},t,e?e.details:null,r)}))}getCacheAge(){let t=null;if(this.response){const e=this.response.headers.get("age");t=e?parseFloat(e):null}return t}getResponseHeader(t){return this.response?this.response.headers.get(t):null}loadProgressively(t,e,n,r=0,o){const i=new qr,a=t.body.getReader(),s=()=>a.read().then((a=>{if(a.done)return i.dataLength&&o(e,n,i.flush(),t),Promise.resolve(new ArrayBuffer(0));const u=a.value,c=u.length;return e.loaded+=c,c<r||i.dataLength?(i.push(u),i.dataLength>=r&&o(e,n,i.flush(),t)):o(e,n,u,t),s()})).catch((()=>Promise.reject()));return s()}}function yi(t,e){return new self.Request(t.url,e)}class vi extends Error{constructor(t,e,n){super(t),this.code=void 0,this.details=void 0,this.code=e,this.details=n}}const gi=/\s/,mi={newCue(t,e,n,r){const o=[];let i,a,s,u,c;const l=self.VTTCue||self.TextTrackCue;for(let h=0;h<r.rows.length;h++)if(i=r.rows[h],s=!0,u=0,c="",!i.isEmpty()){var f;for(let t=0;t<i.chars.length;t++)gi.test(i.chars[t].uchar)&&s?u++:(c+=i.chars[t].uchar,s=!1);i.cueStartTime=e,e===n&&(n+=1e-4),u>=16?u--:u++;const r=Io(c.trim()),p=Mo(e,n,r);null!=t&&null!=(f=t.cues)&&f.getCueById(p)||(a=new l(e,n,r),a.id=p,a.line=h+1,a.align="left",a.position=10+Math.min(80,10*Math.floor(8*u/32)),o.push(a))}return t&&o.length&&(o.sort(((t,e)=>"auto"===t.line||"auto"===e.line?0:t.line>8&&e.line>8?e.line-t.line:t.line-e.line)),o.forEach((e=>le(t,e)))),o}},bi=s(s({autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,ignoreDevicePixelRatio:!1,initialLiveManifestSize:1,maxBufferLength:30,backBufferLength:1/0,maxBufferSize:6e7,maxBufferHole:.1,highBufferWatchdogPeriod:2,nudgeOffset:.1,nudgeMaxRetry:3,maxFragLookUpTolerance:.25,liveSyncDurationCount:3,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,maxLiveSyncPlaybackRate:1,liveDurationInfinity:!1,liveBackBufferLength:null,maxMaxBufferLength:600,enableWorker:!0,workerPath:null,enableSoftwareAES:!0,startLevel:void 0,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,loader:hi,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,licenseXhrSetup:void 0,licenseResponseCallback:void 0,abrController:class{constructor(t){this.hls=void 0,this.lastLevelLoadSec=0,this.lastLoadedFragLevel=0,this._nextAutoLevel=-1,this.timer=-1,this.onCheck=this._abandonRulesCheck.bind(this),this.fragCurrent=null,this.partCurrent=null,this.bitrateTestDelay=0,this.bwEstimator=void 0,this.hls=t;const e=t.config;this.bwEstimator=new Wr(e.abrEwmaSlowVoD,e.abrEwmaFastVoD,e.abrEwmaDefaultEstimate),this.registerListeners()}registerListeners(){const{hls:t}=this;t.on(f.FRAG_LOADING,this.onFragLoading,this),t.on(f.FRAG_LOADED,this.onFragLoaded,this),t.on(f.FRAG_BUFFERED,this.onFragBuffered,this),t.on(f.LEVEL_SWITCHING,this.onLevelSwitching,this),t.on(f.LEVEL_LOADED,this.onLevelLoaded,this)}unregisterListeners(){const{hls:t}=this;t.off(f.FRAG_LOADING,this.onFragLoading,this),t.off(f.FRAG_LOADED,this.onFragLoaded,this),t.off(f.FRAG_BUFFERED,this.onFragBuffered,this),t.off(f.LEVEL_SWITCHING,this.onLevelSwitching,this),t.off(f.LEVEL_LOADED,this.onLevelLoaded,this)}destroy(){this.unregisterListeners(),this.clearTimer(),this.hls=this.onCheck=null,this.fragCurrent=this.partCurrent=null}onFragLoading(t,e){var n;const r=e.frag;this.ignoreFragment(r)||(this.fragCurrent=r,this.partCurrent=null!=(n=e.part)?n:null,this.clearTimer(),this.timer=self.setInterval(this.onCheck,100))}onLevelSwitching(t,e){this.clearTimer()}getTimeToLoadFrag(t,e,n,r){return t+n/e+(r?this.lastLevelLoadSec:0)}onLevelLoaded(t,e){const n=this.hls.config,{total:r,bwEstimate:o}=e.stats;l(r)&&l(o)&&(this.lastLevelLoadSec=8*r/o),e.details.live?this.bwEstimator.update(n.abrEwmaSlowLive,n.abrEwmaFastLive):this.bwEstimator.update(n.abrEwmaSlowVoD,n.abrEwmaFastVoD)}_abandonRulesCheck(){const{fragCurrent:t,partCurrent:e,hls:n}=this,{autoLevelEnabled:r,media:o}=n;if(!t||!o)return;const i=performance.now(),a=e?e.stats:t.stats,s=e?e.duration:t.duration,u=i-a.loading.start;if(a.aborted||a.loaded&&a.loaded===a.total||0===t.level)return this.clearTimer(),void(this._nextAutoLevel=-1);if(!r||o.paused||!o.playbackRate||!o.readyState)return;const c=n.mainForwardBufferInfo;if(null===c)return;const h=this.bwEstimator.getEstimateTTFB(),p=Math.abs(o.playbackRate);if(u<=Math.max(h,s/(2*p)*1e3))return;const d=c.len/p;if(d>=2*s/p)return;const y=a.loading.first?a.loading.first-a.loading.start:-1,v=a.loaded&&y>-1,g=this.bwEstimator.getEstimate(),{levels:b,minAutoLevel:w}=n,A=b[t.level],x=a.total||Math.max(a.loaded,Math.round(s*A.maxBitrate/8));let C=u-y;C<1&&v&&(C=Math.min(u,8*a.loaded/g));const E=v?1e3*a.loaded/C:0,k=E?(x-a.loaded)/E:8*x/g+h/1e3;if(k<=d)return;const L=E?8*E:g;let _,S=Number.POSITIVE_INFINITY;for(_=t.level-1;_>w;_--){const t=b[_].maxBitrate;if(S=this.getTimeToLoadFrag(h/1e3,L,s*t,!b[_].details),S<d)break}S>=k||S>10*s||(n.nextLoadLevel=_,v?this.bwEstimator.sample(u-Math.min(h,y),a.loaded):this.bwEstimator.sampleTTFB(u),this.clearTimer(),m.warn(`[abr] Fragment ${t.sn}${e?" part "+e.index:""} of level ${t.level} is loading too slowly;\n      Time to underbuffer: ${d.toFixed(3)} s\n      Estimated load time for current fragment: ${k.toFixed(3)} s\n      Estimated load time for down switch fragment: ${S.toFixed(3)} s\n      TTFB estimate: ${y}\n      Current BW estimate: ${l(g)?(g/1024).toFixed(3):"Unknown"} Kb/s\n      New BW estimate: ${(this.bwEstimator.getEstimate()/1024).toFixed(3)} Kb/s\n      Aborting and switching to level ${_}`),t.loader&&(this.fragCurrent=this.partCurrent=null,t.abortRequests()),n.trigger(f.FRAG_LOAD_EMERGENCY_ABORTED,{frag:t,part:e,stats:a}))}onFragLoaded(t,{frag:e,part:n}){const r=n?n.stats:e.stats;if(e.type===re&&this.bwEstimator.sampleTTFB(r.loading.first-r.loading.start),!this.ignoreFragment(e)){if(this.clearTimer(),this.lastLoadedFragLevel=e.level,this._nextAutoLevel=-1,this.hls.config.abrMaxWithRealBitrate){const t=n?n.duration:e.duration,o=this.hls.levels[e.level],i=(o.loaded?o.loaded.bytes:0)+r.loaded,a=(o.loaded?o.loaded.duration:0)+t;o.loaded={bytes:i,duration:a},o.realBitrate=Math.round(8*i/a)}if(e.bitrateTest){const t={stats:r,frag:e,part:n,id:e.type};this.onFragBuffered(f.FRAG_BUFFERED,t),e.bitrateTest=!1}}}onFragBuffered(t,e){const{frag:n,part:r}=e,o=null!=r&&r.stats.loaded?r.stats:n.stats;if(o.aborted)return;if(this.ignoreFragment(n))return;const i=o.parsing.end-o.loading.start-Math.min(o.loading.first-o.loading.start,this.bwEstimator.getEstimateTTFB());this.bwEstimator.sample(i,o.loaded),o.bwEstimate=this.bwEstimator.getEstimate(),n.bitrateTest?this.bitrateTestDelay=i/1e3:this.bitrateTestDelay=0}ignoreFragment(t){return t.type!==re||"initSegment"===t.sn}clearTimer(){self.clearInterval(this.timer)}get nextAutoLevel(){const t=this._nextAutoLevel,e=this.bwEstimator;if(-1!==t&&!e.canEstimate())return t;let n=this.getNextABRAutoLevel();if(-1!==t){const e=this.hls.levels;if(e.length>Math.max(t,n)&&e[t].loadError<=e[n].loadError)return t}return-1!==t&&(n=Math.min(t,n)),n}getNextABRAutoLevel(){const{fragCurrent:t,partCurrent:e,hls:n}=this,{maxAutoLevel:r,config:o,minAutoLevel:i,media:a}=n,s=e?e.duration:t?t.duration:0,u=a&&0!==a.playbackRate?Math.abs(a.playbackRate):1,c=this.bwEstimator?this.bwEstimator.getEstimate():o.abrEwmaDefaultEstimate,l=n.mainForwardBufferInfo,f=(l?l.len:0)/u;let h=this.findBestLevel(c,i,r,f,o.abrBandWidthFactor,o.abrBandWidthUpFactor);if(h>=0)return h;m.trace(`[abr] ${f?"rebuffering expected":"buffer is empty"}, finding optimal quality level`);let p=s?Math.min(s,o.maxStarvationDelay):o.maxStarvationDelay,d=o.abrBandWidthFactor,y=o.abrBandWidthUpFactor;if(!f){const t=this.bitrateTestDelay;t&&(p=(s?Math.min(s,o.maxLoadingDelay):o.maxLoadingDelay)-t,m.trace(`[abr] bitrate test took ${Math.round(1e3*t)}ms, set first fragment max fetchDuration to ${Math.round(1e3*p)} ms`),d=y=1)}return h=this.findBestLevel(c,i,r,f+p,d,y),Math.max(h,0)}findBestLevel(t,e,n,r,o,i){var a;const{fragCurrent:s,partCurrent:u,lastLoadedFragLevel:c}=this,{levels:f}=this.hls,h=f[c],p=!(null==h||null==(a=h.details)||!a.live),d=null==h?void 0:h.codecSet,y=u?u.duration:s?s.duration:0,v=this.bwEstimator.getEstimateTTFB()/1e3;let g=e,b=-1;for(let a=n;a>=e;a--){const e=f[a];if(!e||d&&e.codecSet!==d){e&&(g=Math.min(a,g),b=Math.max(a,b));continue}-1!==b&&m.trace(`[abr] Skipped level(s) ${g}-${b} with CODECS:"${f[b].attrs.CODECS}"; not compatible with "${h.attrs.CODECS}"`);const n=e.details,s=(u?null==n?void 0:n.partTarget:null==n?void 0:n.averagetargetduration)||y;let w;w=a<=c?o*t:i*t;const A=f[a].maxBitrate,x=this.getTimeToLoadFrag(v,w,A*s,void 0===n);if(m.trace(`[abr] level:${a} adjustedbw-bitrate:${Math.round(w-A)} avgDuration:${s.toFixed(1)} maxFetchDuration:${r.toFixed(1)} fetchDuration:${x.toFixed(1)}`),w>A&&(0===x||!l(x)||p&&!this.bitrateTestDelay||x<r))return a}return-1}set nextAutoLevel(t){this._nextAutoLevel=t}},bufferController:class{constructor(t){this.details=null,this._objectUrl=null,this.operationQueue=void 0,this.listeners=void 0,this.hls=void 0,this.bufferCodecEventsExpected=0,this._bufferCodecEventsTotal=0,this.media=null,this.mediaSource=null,this.lastMpegAudioChunk=null,this.appendError=0,this.tracks={},this.pendingTracks={},this.sourceBuffer=void 0,this._onMediaSourceOpen=()=>{const{media:t,mediaSource:e}=this;m.log("[buffer-controller]: Media source opened"),t&&(t.removeEventListener("emptied",this._onMediaEmptied),this.updateMediaElementDuration(),this.hls.trigger(f.MEDIA_ATTACHED,{media:t})),e&&e.removeEventListener("sourceopen",this._onMediaSourceOpen),this.checkPendingTracks()},this._onMediaSourceClose=()=>{m.log("[buffer-controller]: Media source closed")},this._onMediaSourceEnded=()=>{m.log("[buffer-controller]: Media source ended")},this._onMediaEmptied=()=>{const{media:t,_objectUrl:e}=this;t&&t.src!==e&&m.error(`Media element src was set while attaching MediaSource (${e} > ${t.src})`)},this.hls=t,this._initSourceBuffer(),this.registerListeners()}hasSourceTypes(){return this.getSourceBufferTypes().length>0||Object.keys(this.pendingTracks).length>0}destroy(){this.unregisterListeners(),this.details=null,this.lastMpegAudioChunk=null}registerListeners(){const{hls:t}=this;t.on(f.MEDIA_ATTACHING,this.onMediaAttaching,this),t.on(f.MEDIA_DETACHING,this.onMediaDetaching,this),t.on(f.MANIFEST_LOADING,this.onManifestLoading,this),t.on(f.MANIFEST_PARSED,this.onManifestParsed,this),t.on(f.BUFFER_RESET,this.onBufferReset,this),t.on(f.BUFFER_APPENDING,this.onBufferAppending,this),t.on(f.BUFFER_CODECS,this.onBufferCodecs,this),t.on(f.BUFFER_EOS,this.onBufferEos,this),t.on(f.BUFFER_FLUSHING,this.onBufferFlushing,this),t.on(f.LEVEL_UPDATED,this.onLevelUpdated,this),t.on(f.FRAG_PARSED,this.onFragParsed,this),t.on(f.FRAG_CHANGED,this.onFragChanged,this)}unregisterListeners(){const{hls:t}=this;t.off(f.MEDIA_ATTACHING,this.onMediaAttaching,this),t.off(f.MEDIA_DETACHING,this.onMediaDetaching,this),t.off(f.MANIFEST_LOADING,this.onManifestLoading,this),t.off(f.MANIFEST_PARSED,this.onManifestParsed,this),t.off(f.BUFFER_RESET,this.onBufferReset,this),t.off(f.BUFFER_APPENDING,this.onBufferAppending,this),t.off(f.BUFFER_CODECS,this.onBufferCodecs,this),t.off(f.BUFFER_EOS,this.onBufferEos,this),t.off(f.BUFFER_FLUSHING,this.onBufferFlushing,this),t.off(f.LEVEL_UPDATED,this.onLevelUpdated,this),t.off(f.FRAG_PARSED,this.onFragParsed,this),t.off(f.FRAG_CHANGED,this.onFragChanged,this)}_initSourceBuffer(){this.sourceBuffer={},this.operationQueue=new eo(this.sourceBuffer),this.listeners={audio:[],video:[],audiovideo:[]},this.lastMpegAudioChunk=null}onManifestLoading(){this.bufferCodecEventsExpected=this._bufferCodecEventsTotal=0,this.details=null}onManifestParsed(t,e){let n=2;(e.audio&&!e.video||!e.altAudio)&&(n=1),this.bufferCodecEventsExpected=this._bufferCodecEventsTotal=n,m.log(`${this.bufferCodecEventsExpected} bufferCodec event(s) expected`)}onMediaAttaching(t,e){const n=this.media=e.media;if(n&&no){const t=this.mediaSource=new no;t.addEventListener("sourceopen",this._onMediaSourceOpen),t.addEventListener("sourceended",this._onMediaSourceEnded),t.addEventListener("sourceclose",this._onMediaSourceClose),n.src=self.URL.createObjectURL(t),this._objectUrl=n.src,n.addEventListener("emptied",this._onMediaEmptied)}}onMediaDetaching(){const{media:t,mediaSource:e,_objectUrl:n}=this;if(e){if(m.log("[buffer-controller]: media source detaching"),"open"===e.readyState)try{e.endOfStream()}catch(t){m.warn(`[buffer-controller]: onMediaDetaching: ${t.message} while calling endOfStream`)}this.onBufferReset(),e.removeEventListener("sourceopen",this._onMediaSourceOpen),e.removeEventListener("sourceended",this._onMediaSourceEnded),e.removeEventListener("sourceclose",this._onMediaSourceClose),t&&(t.removeEventListener("emptied",this._onMediaEmptied),n&&self.URL.revokeObjectURL(n),t.src===n?(t.removeAttribute("src"),t.load()):m.warn("[buffer-controller]: media.src was changed by a third party - skip cleanup")),this.mediaSource=null,this.media=null,this._objectUrl=null,this.bufferCodecEventsExpected=this._bufferCodecEventsTotal,this.pendingTracks={},this.tracks={}}this.hls.trigger(f.MEDIA_DETACHED,void 0)}onBufferReset(){this.getSourceBufferTypes().forEach((t=>{const e=this.sourceBuffer[t];try{e&&(this.removeBufferListeners(t),this.mediaSource&&this.mediaSource.removeSourceBuffer(e),this.sourceBuffer[t]=void 0)}catch(e){m.warn(`[buffer-controller]: Failed to reset the ${t} buffer`,e)}})),this._initSourceBuffer()}onBufferCodecs(t,e){const n=this.getSourceBufferTypes().length;Object.keys(e).forEach((t=>{if(n){const n=this.tracks[t];if(n&&"function"==typeof n.buffer.changeType){const{id:r,codec:o,levelCodec:i,container:a,metadata:s}=e[t],u=(n.levelCodec||n.codec).replace(ro,"$1"),c=(i||o).replace(ro,"$1");if(u!==c){const e=`${a};codecs=${i||o}`;this.appendChangeType(t,e),m.log(`[buffer-controller]: switching codec ${u} to ${c}`),this.tracks[t]={buffer:n.buffer,codec:o,container:a,levelCodec:i,metadata:s,id:r}}}}else this.pendingTracks[t]=e[t]})),n||(this.bufferCodecEventsExpected=Math.max(this.bufferCodecEventsExpected-1,0),this.mediaSource&&"open"===this.mediaSource.readyState&&this.checkPendingTracks())}appendChangeType(t,e){const{operationQueue:n}=this,r={execute:()=>{const r=this.sourceBuffer[t];r&&(m.log(`[buffer-controller]: changing ${t} sourceBuffer type to ${e}`),r.changeType(e)),n.shiftAndExecuteNext(t)},onStart:()=>{},onComplete:()=>{},onError:e=>{m.warn(`[buffer-controller]: Failed to change ${t} SourceBuffer type`,e)}};n.append(r,t)}onBufferAppending(t,e){const{hls:n,operationQueue:r,tracks:o}=this,{data:i,type:a,frag:s,part:u,chunkMeta:c}=e,l=c.buffering[a],d=self.performance.now();l.start=d;const y=s.stats.buffering,v=u?u.stats.buffering:null;0===y.start&&(y.start=d),v&&0===v.start&&(v.start=d);const g=o.audio;let b=!1;"audio"===a&&"audio/mpeg"===(null==g?void 0:g.container)&&(b=!this.lastMpegAudioChunk||1===c.id||this.lastMpegAudioChunk.sn!==c.sn,this.lastMpegAudioChunk=c);const w=s.start,A={execute:()=>{if(l.executeStart=self.performance.now(),b){const t=this.sourceBuffer[a];if(t){const e=w-t.timestampOffset;Math.abs(e)>=.1&&(m.log(`[buffer-controller]: Updating audio SourceBuffer timestampOffset to ${w} (delta: ${e}) sn: ${s.sn})`),t.timestampOffset=w)}}this.appendExecutor(i,a)},onStart:()=>{},onComplete:()=>{const t=self.performance.now();l.executeEnd=l.end=t,0===y.first&&(y.first=t),v&&0===v.first&&(v.first=t);const{sourceBuffer:e}=this,n={};for(const t in e)n[t]=gn.getBuffered(e[t]);this.appendError=0,this.hls.trigger(f.BUFFER_APPENDED,{type:a,frag:s,part:u,chunkMeta:c,parent:s.type,timeRanges:n})},onError:t=>{m.error(`[buffer-controller]: Error encountered while trying to append to the ${a} SourceBuffer`,t);const e={type:h.MEDIA_ERROR,parent:s.type,details:p.BUFFER_APPEND_ERROR,frag:s,part:u,chunkMeta:c,error:t,err:t,fatal:!1};t.code===DOMException.QUOTA_EXCEEDED_ERR?e.details=p.BUFFER_FULL_ERROR:(this.appendError++,e.details=p.BUFFER_APPEND_ERROR,this.appendError>n.config.appendErrorMaxRetry&&(m.error(`[buffer-controller]: Failed ${n.config.appendErrorMaxRetry} times to append segment in sourceBuffer`),e.fatal=!0)),n.trigger(f.ERROR,e)}};r.append(A,a)}onBufferFlushing(t,e){const{operationQueue:n}=this,r=t=>({execute:this.removeExecutor.bind(this,t,e.startOffset,e.endOffset),onStart:()=>{},onComplete:()=>{this.hls.trigger(f.BUFFER_FLUSHED,{type:t})},onError:e=>{m.warn(`[buffer-controller]: Failed to remove from ${t} SourceBuffer`,e)}});e.type?n.append(r(e.type),e.type):this.getSourceBufferTypes().forEach((t=>{n.append(r(t),t)}))}onFragParsed(t,e){const{frag:n,part:r}=e,o=[],i=r?r.elementaryStreams:n.elementaryStreams;i[_]?o.push("audiovideo"):(i[k]&&o.push("audio"),i[L]&&o.push("video")),0===o.length&&m.warn(`Fragments must have at least one ElementaryStreamType set. type: ${n.type} level: ${n.level} sn: ${n.sn}`),this.blockBuffers((()=>{const t=self.performance.now();n.stats.buffering.end=t,r&&(r.stats.buffering.end=t);const e=r?r.stats:n.stats;this.hls.trigger(f.FRAG_BUFFERED,{frag:n,part:r,stats:e,id:n.type})}),o)}onFragChanged(t,e){this.flushBackBuffer()}onBufferEos(t,e){this.getSourceBufferTypes().reduce(((t,n)=>{const r=this.sourceBuffer[n];return!r||e.type&&e.type!==n||(r.ending=!0,r.ended||(r.ended=!0,m.log(`[buffer-controller]: ${n} sourceBuffer now EOS`))),t&&!(r&&!r.ended)}),!0)&&(m.log("[buffer-controller]: Queueing mediaSource.endOfStream()"),this.blockBuffers((()=>{this.getSourceBufferTypes().forEach((t=>{const e=this.sourceBuffer[t];e&&(e.ending=!1)}));const{mediaSource:t}=this;t&&"open"===t.readyState?(m.log("[buffer-controller]: Calling mediaSource.endOfStream()"),t.endOfStream()):t&&m.info(`[buffer-controller]: Could not call mediaSource.endOfStream(). mediaSource.readyState: ${t.readyState}`)})))}onLevelUpdated(t,{details:e}){e.fragments.length&&(this.details=e,this.getSourceBufferTypes().length?this.blockBuffers(this.updateMediaElementDuration.bind(this)):this.updateMediaElementDuration())}flushBackBuffer(){const{hls:t,details:e,media:n,sourceBuffer:r}=this;if(!n||null===e)return;const o=this.getSourceBufferTypes();if(!o.length)return;const i=e.live&&null!==t.config.liveBackBufferLength?t.config.liveBackBufferLength:t.config.backBufferLength;if(!l(i)||i<0)return;const a=n.currentTime,s=e.levelTargetDuration,u=Math.max(i,s),c=Math.floor(a/s)*s-u;o.forEach((n=>{const o=r[n];if(o){const r=gn.getBuffered(o);if(r.length>0&&c>r.start(0)){if(t.trigger(f.BACK_BUFFER_REACHED,{bufferEnd:c}),e.live)t.trigger(f.LIVE_BACK_BUFFER_REACHED,{bufferEnd:c});else if(o.ended&&r.end(r.length-1)-a<2*s)return void m.info(`[buffer-controller]: Cannot flush ${n} back buffer while SourceBuffer is in ended state`);t.trigger(f.BUFFER_FLUSHING,{startOffset:0,endOffset:c,type:n})}}}))}updateMediaElementDuration(){if(!this.details||!this.media||!this.mediaSource||"open"!==this.mediaSource.readyState)return;const{details:t,hls:e,media:n,mediaSource:r}=this,o=t.fragments[0].start+t.totalduration,i=n.duration,a=l(r.duration)?r.duration:0;t.live&&e.config.liveDurationInfinity?(m.log("[buffer-controller]: Media Source duration is set to Infinity"),r.duration=1/0,this.updateSeekableRange(t)):(o>a&&o>i||!l(i))&&(m.log(`[buffer-controller]: Updating Media Source duration to ${o.toFixed(3)}`),r.duration=o)}updateSeekableRange(t){const e=this.mediaSource,n=t.fragments;if(n.length&&t.live&&null!=e&&e.setLiveSeekableRange){const r=Math.max(0,n[0].start),o=Math.max(r,r+t.totalduration);e.setLiveSeekableRange(r,o)}}checkPendingTracks(){const{bufferCodecEventsExpected:t,operationQueue:e,pendingTracks:n}=this,r=Object.keys(n).length;if(r&&!t||2===r){this.createSourceBuffers(n),this.pendingTracks={};const t=this.getSourceBufferTypes();if(t.length)this.hls.trigger(f.BUFFER_CREATED,{tracks:this.tracks}),t.forEach((t=>{e.executeNext(t)}));else{const t=new Error("could not create source buffer for media codec(s)");this.hls.trigger(f.ERROR,{type:h.MEDIA_ERROR,details:p.BUFFER_INCOMPATIBLE_CODECS_ERROR,fatal:!0,error:t,reason:t.message})}}}createSourceBuffers(t){const{sourceBuffer:e,mediaSource:n}=this;if(!n)throw Error("createSourceBuffers called when mediaSource was null");for(const r in t)if(!e[r]){const o=t[r];if(!o)throw Error(`source buffer exists for track ${r}, however track does not`);const i=o.levelCodec||o.codec,a=`${o.container};codecs=${i}`;m.log(`[buffer-controller]: creating sourceBuffer(${a})`);try{const t=e[r]=n.addSourceBuffer(a),s=r;this.addBufferListener(s,"updatestart",this._onSBUpdateStart),this.addBufferListener(s,"updateend",this._onSBUpdateEnd),this.addBufferListener(s,"error",this._onSBUpdateError),this.tracks[r]={buffer:t,codec:i,container:o.container,levelCodec:o.levelCodec,metadata:o.metadata,id:o.id}}catch(t){m.error(`[buffer-controller]: error while trying to add sourceBuffer: ${t.message}`),this.hls.trigger(f.ERROR,{type:h.MEDIA_ERROR,details:p.BUFFER_ADD_CODEC_ERROR,fatal:!1,error:t,mimeType:a})}}}_onSBUpdateStart(t){const{operationQueue:e}=this;e.current(t).onStart()}_onSBUpdateEnd(t){const{operationQueue:e}=this;e.current(t).onComplete(),e.shiftAndExecuteNext(t)}_onSBUpdateError(t,e){const n=new Error(`${t} SourceBuffer error`);m.error(`[buffer-controller]: ${n}`,e),this.hls.trigger(f.ERROR,{type:h.MEDIA_ERROR,details:p.BUFFER_APPENDING_ERROR,error:n,fatal:!1});const r=this.operationQueue.current(t);r&&r.onError(e)}removeExecutor(t,e,n){const{media:r,mediaSource:o,operationQueue:i,sourceBuffer:a}=this,s=a[t];if(!r||!o||!s)return m.warn(`[buffer-controller]: Attempting to remove from the ${t} SourceBuffer, but it does not exist`),void i.shiftAndExecuteNext(t);const u=l(r.duration)?r.duration:1/0,c=l(o.duration)?o.duration:1/0,f=Math.max(0,e),h=Math.min(n,u,c);h>f&&!s.ending?(s.ended=!1,m.log(`[buffer-controller]: Removing [${f},${h}] from the ${t} SourceBuffer`),s.remove(f,h)):i.shiftAndExecuteNext(t)}appendExecutor(t,e){const{operationQueue:n,sourceBuffer:r}=this,o=r[e];if(!o)return m.warn(`[buffer-controller]: Attempting to append to the ${e} SourceBuffer, but it does not exist`),void n.shiftAndExecuteNext(e);o.ended=!1,o.appendBuffer(t)}blockBuffers(t,e=this.getSourceBufferTypes()){if(!e.length)return m.log("[buffer-controller]: Blocking operation requested, but no SourceBuffers exist"),void Promise.resolve().then(t);const{operationQueue:n}=this,r=e.map((t=>n.appendBlocker(t)));Promise.all(r).then((()=>{t(),e.forEach((t=>{const e=this.sourceBuffer[t];null!=e&&e.updating||n.shiftAndExecuteNext(t)}))}))}getSourceBufferTypes(){return Object.keys(this.sourceBuffer)}addBufferListener(t,e,n){const r=this.sourceBuffer[t];if(!r)return;const o=n.bind(this,t);this.listeners[t].push({event:e,listener:o}),r.addEventListener(e,o)}removeBufferListeners(t){const e=this.sourceBuffer[t];e&&this.listeners[t].forEach((t=>{e.removeEventListener(t.event,t.listener)}))}},capLevelController:Qo,errorController:class{constructor(t){this.hls=void 0,this.playlistError=0,this.penalizedRenditions={},this.log=void 0,this.warn=void 0,this.error=void 0,this.hls=t,this.log=m.log.bind(m,"[info]:"),this.warn=m.warn.bind(m,"[warning]:"),this.error=m.error.bind(m,"[error]:"),this.registerListeners()}registerListeners(){const t=this.hls;t.on(f.ERROR,this.onError,this),t.on(f.MANIFEST_LOADING,this.onManifestLoading,this),t.on(f.LEVEL_UPDATED,this.onLevelUpdated,this)}unregisterListeners(){const t=this.hls;t&&(t.off(f.ERROR,this.onError,this),t.off(f.ERROR,this.onErrorOut,this),t.off(f.MANIFEST_LOADING,this.onManifestLoading,this),t.off(f.LEVEL_UPDATED,this.onLevelUpdated,this))}destroy(){this.unregisterListeners(),this.hls=null,this.penalizedRenditions={}}startLoad(t){this.playlistError=0}stopLoad(){}getVariantLevelIndex(t){return(null==t?void 0:t.type)===re?t.level:this.hls.loadLevel}onManifestLoading(){this.playlistError=0,this.penalizedRenditions={}}onLevelUpdated(){this.playlistError=0}onError(t,e){var n;if(e.fatal)return;const r=this.hls,o=e.context;switch(e.details){case p.FRAG_LOAD_ERROR:case p.FRAG_LOAD_TIMEOUT:case p.KEY_LOAD_ERROR:case p.KEY_LOAD_TIMEOUT:return void(e.errorAction=this.getFragRetryOrSwitchAction(e));case p.FRAG_GAP:case p.FRAG_PARSING_ERROR:case p.FRAG_DECRYPT_ERROR:return e.errorAction=this.getFragRetryOrSwitchAction(e),void(e.errorAction.action=Ze);case p.LEVEL_EMPTY_ERROR:case p.LEVEL_PARSING_ERROR:{var i,a;const t=e.parent===re?e.level:r.loadLevel;e.details===p.LEVEL_EMPTY_ERROR&&null!=(i=e.context)&&null!=(a=i.levelDetails)&&a.live?e.errorAction=this.getPlaylistRetryOrSwitchAction(e,t):(e.levelRetry=!1,e.errorAction=this.getLevelSwitchAction(e,t))}return;case p.LEVEL_LOAD_ERROR:case p.LEVEL_LOAD_TIMEOUT:return void("number"==typeof(null==o?void 0:o.level)&&(e.errorAction=this.getPlaylistRetryOrSwitchAction(e,o.level)));case p.AUDIO_TRACK_LOAD_ERROR:case p.AUDIO_TRACK_LOAD_TIMEOUT:case p.SUBTITLE_LOAD_ERROR:case p.SUBTITLE_TRACK_LOAD_TIMEOUT:if(o){const t=r.levels[r.loadLevel];if(t&&(o.type===ee&&o.groupId===t.audioGroupId||o.type===ne&&o.groupId===t.textGroupId))return e.errorAction=this.getPlaylistRetryOrSwitchAction(e,r.loadLevel),e.errorAction.action=Ze,void(e.errorAction.flags=Ye)}return;case p.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED:{const t=r.levels[r.loadLevel],n=null==t?void 0:t.attrs["HDCP-LEVEL"];n&&(e.errorAction={action:Ze,flags:Ke,hdcpLevel:n})}return;case p.BUFFER_ADD_CODEC_ERROR:case p.REMUX_ALLOC_ERROR:return void(e.errorAction=this.getLevelSwitchAction(e,null!=(n=e.level)?n:r.loadLevel));case p.INTERNAL_EXCEPTION:case p.BUFFER_APPENDING_ERROR:case p.BUFFER_APPEND_ERROR:case p.BUFFER_FULL_ERROR:case p.LEVEL_SWITCH_ERROR:case p.BUFFER_STALLED_ERROR:case p.BUFFER_SEEK_OVER_HOLE:case p.BUFFER_NUDGE_ON_STALL:return void(e.errorAction={action:$e,flags:He})}if(e.type===h.KEY_SYSTEM_ERROR){const t=this.getVariantLevelIndex(e.frag);return e.levelRetry=!1,void(e.errorAction=this.getLevelSwitchAction(e,t))}}getPlaylistRetryOrSwitchAction(t,e){var n;const r=De(this.hls.config.playlistLoadPolicy,t),o=this.playlistError++,i=null==(n=t.response)?void 0:n.code;if(Me(r,o,je(t),i))return{action:ze,flags:He,retryConfig:r,retryCount:o};const a=this.getLevelSwitchAction(t,e);return r&&(a.retryConfig=r,a.retryCount=o),a}getFragRetryOrSwitchAction(t){const e=this.hls,n=this.getVariantLevelIndex(t.frag),r=e.levels[n],{fragLoadPolicy:o,keyLoadPolicy:i}=e.config,a=De(t.details.startsWith("key")?i:o,t),s=e.levels.reduce(((t,e)=>t+e.fragmentError),0);if(r){var u;t.details!==p.FRAG_GAP&&r.fragmentError++;const e=null==(u=t.response)?void 0:u.code;if(Me(a,s,je(t),e))return{action:ze,flags:He,retryConfig:a,retryCount:s}}const c=this.getLevelSwitchAction(t,n);return a&&(c.retryConfig=a,c.retryCount=s),c}getLevelSwitchAction(t,e){const n=this.hls;null==e&&(e=n.loadLevel);const r=this.hls.levels[e];if(r&&(r.loadError++,n.autoLevelEnabled)){var o,i;let e=-1;const{levels:a,loadLevel:s,minAutoLevel:u,maxAutoLevel:c}=n,l=null==(o=t.frag)?void 0:o.type,{type:f,groupId:h}=null!=(i=t.context)?i:{};for(let n=a.length;n--;){const o=(n+s)%a.length;if(o!==s&&o>=u&&o<=c&&0===a[o].loadError){const n=a[o];if(t.details===p.FRAG_GAP&&t.frag){const e=a[o].details;if(e){const n=Ue(t.frag,e.fragments,t.frag.start);if(null!=n&&n.gap)continue}}else{if(f===ee&&h===n.audioGroupId||f===ne&&h===n.textGroupId)continue;if(l===oe&&r.audioGroupId===n.audioGroupId||l===ie&&r.textGroupId===n.textGroupId)continue}e=o;break}}if(e>-1&&n.loadLevel!==e)return t.levelRetry=!0,this.playlistError=0,{action:Ze,flags:He,nextAutoLevel:e}}return{action:Ze,flags:Ye}}onErrorOut(t,e){var n;switch(null==(n=e.errorAction)?void 0:n.action){case $e:break;case Ze:this.sendAlternateToPenaltyBox(e),e.errorAction.resolved||e.details===p.FRAG_GAP||(e.fatal=!0)}e.fatal&&this.hls.stopLoad()}sendAlternateToPenaltyBox(t){const e=this.hls,n=t.errorAction;if(!n)return;const{flags:r,hdcpLevel:o,nextAutoLevel:i}=n;switch(r){case He:this.switchLevel(t,i);break;case Ye:n.resolved||(n.resolved=this.redundantFailover(t));break;case Ke:o&&(e.maxHdcpLevel=Ae[Ae.indexOf(o)-1],n.resolved=!0),this.warn(`Restricting playback to HDCP-LEVEL of "${e.maxHdcpLevel}" or lower`)}n.resolved||this.switchLevel(t,i)}switchLevel(t,e){void 0!==e&&t.errorAction&&(this.warn(`switching to level ${e} after ${t.details}`),this.hls.nextAutoLevel=e,t.errorAction.resolved=!0,this.hls.nextLoadLevel=this.hls.nextAutoLevel)}redundantFailover(t){const{hls:e,penalizedRenditions:n}=this,r=t.parent===re?t.level:e.loadLevel,o=e.levels[r],i=o.url.length,a=t.frag?t.frag.urlId:o.urlId;o.urlId!==a||t.frag&&!o.details||this.penalizeRendition(o,t);for(let s=1;s<i;s++){const u=(a+s)%i,c=n[u];if(!c||We(c,t,n[a]))return this.warn(`Switching to Redundant Stream ${u+1}/${i}: "${o.url[u]}" after ${t.details}`),this.playlistError=0,e.levels.forEach((t=>{t.urlId=u})),e.nextLoadLevel=r,!0}return!1}penalizeRendition(t,e){const{penalizedRenditions:n}=this,r=n[t.urlId]||{lastErrorPerfMs:0,errors:[],details:void 0};r.lastErrorPerfMs=performance.now(),r.errors.push(e),r.details=t.details,n[t.urlId]=r}},fpsController:class{constructor(t){this.hls=void 0,this.isVideoPlaybackQualityAvailable=!1,this.timer=void 0,this.media=null,this.lastTime=void 0,this.lastDroppedFrames=0,this.lastDecodedFrames=0,this.streamController=void 0,this.hls=t,this.registerListeners()}setStreamController(t){this.streamController=t}registerListeners(){this.hls.on(f.MEDIA_ATTACHING,this.onMediaAttaching,this)}unregisterListeners(){this.hls.off(f.MEDIA_ATTACHING,this.onMediaAttaching,this)}destroy(){this.timer&&clearInterval(this.timer),this.unregisterListeners(),this.isVideoPlaybackQualityAvailable=!1,this.media=null}onMediaAttaching(t,e){const n=this.hls.config;if(n.capLevelOnFPSDrop){const t=e.media instanceof self.HTMLVideoElement?e.media:null;this.media=t,t&&"function"==typeof t.getVideoPlaybackQuality&&(this.isVideoPlaybackQualityAvailable=!0),self.clearInterval(this.timer),this.timer=self.setInterval(this.checkFPSInterval.bind(this),n.fpsDroppedMonitoringPeriod)}}checkFPS(t,e,n){const r=performance.now();if(e){if(this.lastTime){const t=r-this.lastTime,o=n-this.lastDroppedFrames,i=e-this.lastDecodedFrames,a=1e3*o/t,s=this.hls;if(s.trigger(f.FPS_DROP,{currentDropped:o,currentDecoded:i,totalDroppedFrames:n}),a>0&&o>s.config.fpsDroppedMonitoringThreshold*i){let t=s.currentLevel;m.warn("drop FPS ratio greater than max allowed value for currentLevel: "+t),t>0&&(-1===s.autoLevelCapping||s.autoLevelCapping>=t)&&(t-=1,s.trigger(f.FPS_DROP_LEVEL_CAPPING,{level:t,droppedLevel:s.currentLevel}),s.autoLevelCapping=t,this.streamController.nextLevelSwitch())}}this.lastTime=r,this.lastDroppedFrames=n,this.lastDecodedFrames=e}}checkFPSInterval(){const t=this.media;if(t)if(this.isVideoPlaybackQualityAvailable){const e=t.getVideoPlaybackQuality();this.checkFPS(t,e.totalVideoFrames,e.droppedVideoFrames)}else this.checkFPS(t,t.webkitDecodedFrameCount,t.webkitDroppedFrameCount)}},stretchShortVideoTrack:!1,maxAudioFramesDrift:1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0,emeEnabled:!1,widevineLicenseUrl:void 0,drmSystems:{},drmSystemOptions:{},requestMediaKeySystemAccessFunc:Z,testBandwidth:!0,progressive:!1,lowLatencyMode:!0,cmcd:void 0,enableDateRangeMetadataCues:!0,enableEmsgMetadataCues:!0,enableID3MetadataCues:!0,certLoadPolicy:{default:{maxTimeToFirstByteMs:8e3,maxLoadTimeMs:2e4,timeoutRetry:null,errorRetry:null}},keyLoadPolicy:{default:{maxTimeToFirstByteMs:8e3,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:2e4,backoff:"linear"},errorRetry:{maxNumRetry:8,retryDelayMs:1e3,maxRetryDelayMs:2e4,backoff:"linear"}}},manifestLoadPolicy:{default:{maxTimeToFirstByteMs:1/0,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},playlistLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:2,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},fragLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:12e4,timeoutRetry:{maxNumRetry:4,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:6,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},steeringManifestLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3},{cueHandler:mi,enableWebVTT:!0,enableIMSC1:!0,enableCEA708Captions:!0,captionsTextTrack1Label:"English",captionsTextTrack1LanguageCode:"en",captionsTextTrack2Label:"Spanish",captionsTextTrack2LanguageCode:"es",captionsTextTrack3Label:"Unknown CC",captionsTextTrack3LanguageCode:"",captionsTextTrack4Label:"Unknown CC",captionsTextTrack4LanguageCode:"",renderTextTracksNatively:!0}),{},{subtitleStreamController:class extends Gn{constructor(t,e,n){super(t,e,n,"[subtitle-stream-controller]",ie),this.levels=[],this.currentTrackId=-1,this.tracksBuffered=[],this.mainDetails=null,this._registerListeners()}onHandlerDestroying(){this._unregisterListeners(),this.mainDetails=null}_registerListeners(){const{hls:t}=this;t.on(f.MEDIA_ATTACHED,this.onMediaAttached,this),t.on(f.MEDIA_DETACHING,this.onMediaDetaching,this),t.on(f.MANIFEST_LOADING,this.onManifestLoading,this),t.on(f.LEVEL_LOADED,this.onLevelLoaded,this),t.on(f.ERROR,this.onError,this),t.on(f.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),t.on(f.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),t.on(f.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),t.on(f.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),t.on(f.BUFFER_FLUSHING,this.onBufferFlushing,this),t.on(f.FRAG_BUFFERED,this.onFragBuffered,this)}_unregisterListeners(){const{hls:t}=this;t.off(f.MEDIA_ATTACHED,this.onMediaAttached,this),t.off(f.MEDIA_DETACHING,this.onMediaDetaching,this),t.off(f.MANIFEST_LOADING,this.onManifestLoading,this),t.off(f.LEVEL_LOADED,this.onLevelLoaded,this),t.off(f.ERROR,this.onError,this),t.off(f.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),t.off(f.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),t.off(f.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),t.off(f.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),t.off(f.BUFFER_FLUSHING,this.onBufferFlushing,this),t.off(f.FRAG_BUFFERED,this.onFragBuffered,this)}startLoad(t){this.stopLoad(),this.state=Tn,this.setInterval(500),this.nextLoadPosition=this.startPosition=this.lastCurrentTime=t,this.tick()}onManifestLoading(){this.mainDetails=null,this.fragmentTracker.removeAllFragments()}onMediaDetaching(){this.tracksBuffered=[],super.onMediaDetaching()}onLevelLoaded(t,e){this.mainDetails=e.details}onSubtitleFragProcessed(t,e){const{frag:n,success:r}=e;if(this.fragPrevious=n,this.state=Tn,!r)return;const o=this.tracksBuffered[this.currentTrackId];if(!o)return;let i;const a=n.start;for(let t=0;t<o.length;t++)if(a>=o[t].start&&a<=o[t].end){i=o[t];break}const s=n.start+n.duration;i?i.end=s:(i={start:a,end:s},o.push(i)),this.fragmentTracker.fragBuffered(n)}onBufferFlushing(t,e){const{startOffset:n,endOffset:r}=e;if(0===n&&r!==Number.POSITIVE_INFINITY){const{currentTrackId:t,levels:o}=this;if(!o.length||!o[t]||!o[t].details)return;const i=r-o[t].details.targetduration;if(i<=0)return;e.endOffsetSubtitles=Math.max(0,i),this.tracksBuffered.forEach((t=>{for(let e=0;e<t.length;)if(t[e].end<=i)t.shift();else{if(!(t[e].start<i))break;t[e].start=i,e++}})),this.fragmentTracker.removeFragmentsInRange(n,i,ie)}}onFragBuffered(t,e){var n;this.loadedmetadata||e.frag.type!==re||null!=(n=this.media)&&n.buffered.length&&(this.loadedmetadata=!0)}onError(t,e){const n=e.frag;(null==n?void 0:n.type)===ie&&(this.fragCurrent&&this.fragCurrent.abortRequests(),this.state!==Pn&&(this.state=Tn))}onSubtitleTracksUpdated(t,{subtitleTracks:e}){Xr(this.levels,e)?this.levels=e.map((t=>new Le(t))):(this.tracksBuffered=[],this.levels=e.map((t=>{const e=new Le(t);return this.tracksBuffered[e.id]=[],e})),this.fragmentTracker.removeFragmentsInRange(0,Number.POSITIVE_INFINITY,ie),this.fragPrevious=null,this.mediaBuffer=null)}onSubtitleTrackSwitch(t,e){if(this.currentTrackId=e.id,!this.levels.length||-1===this.currentTrackId)return void this.clearInterval();const n=this.levels[this.currentTrackId];null!=n&&n.details?this.mediaBuffer=this.mediaBufferTimeRanges:this.mediaBuffer=null,n&&this.setInterval(500)}onSubtitleTrackLoaded(t,e){var n;const{details:r,id:o}=e,{currentTrackId:i,levels:a}=this;if(!a.length)return;const s=a[i];if(o>=a.length||o!==i||!s)return;this.mediaBuffer=this.mediaBufferTimeRanges;let u=0;if(r.live||null!=(n=s.details)&&n.live){const t=this.mainDetails;if(r.deltaUpdateFailed||!t)return;const e=t.fragments[0];s.details?(u=this.alignPlaylists(r,s.details),0===u&&e&&(u=e.start,Oe(r,u))):r.hasProgramDateTime&&t.hasProgramDateTime?(Cn(r,t),u=r.fragments[0].start):e&&(u=e.start,Oe(r,u))}s.details=r,this.levelLastLoaded=o,this.startFragRequested||!this.mainDetails&&r.live||this.setStartPosition(s.details,u),this.tick(),r.live&&!this.fragCurrent&&this.media&&this.state===Tn&&(Ue(null,r.fragments,this.media.currentTime,0)||(this.warn("Subtitle playlist not aligned with playback"),s.details=void 0))}_handleFragmentLoadComplete(t){const{frag:e,payload:n}=t,r=e.decryptdata,o=this.hls;if(!this.fragContextChanged(e)&&n&&n.byteLength>0&&r&&r.key&&r.iv&&"AES-128"===r.method){const t=performance.now();this.decrypter.decrypt(new Uint8Array(n),r.key.buffer,r.iv.buffer).catch((t=>{throw o.trigger(f.ERROR,{type:h.MEDIA_ERROR,details:p.FRAG_DECRYPT_ERROR,fatal:!1,error:t,reason:t.message,frag:e}),t})).then((n=>{const r=performance.now();o.trigger(f.FRAG_DECRYPTED,{frag:e,payload:n,stats:{tstart:t,tdecrypt:r}})})).catch((t=>{this.warn(`${t.name}: ${t.message}`),this.state=Tn}))}}doTick(){if(this.media){if(this.state===Tn){const{currentTrackId:t,levels:e}=this,n=e[t];if(!e.length||!n||!n.details)return;const r=n.details,o=r.targetduration,{config:i}=this,a=this.getLoadPosition(),s=gn.bufferedInfo(this.tracksBuffered[this.currentTrackId]||[],a-o,i.maxBufferHole),{end:u,len:c}=s,l=this.getFwdBufferInfo(this.media,re);if(c>this.getMaxBufferLength(null==l?void 0:l.len)+o)return;const f=r.fragments,h=f.length,p=r.edge;let d=null;const y=this.fragPrevious;if(u<p){const{maxFragLookUpTolerance:t}=i;d=Ue(y,f,Math.max(f[0].start,u),t),!d&&y&&y.start<f[0].start&&(d=f[0])}else d=f[h-1];if(!d)return;d=this.mapToInitFragWhenRequired(d),this.fragmentTracker.getState(d)===en&&this.loadFragment(d,n,u)}}else this.state=Tn}getMaxBufferLength(t){const e=super.getMaxBufferLength();return t?Math.max(e,t):e}loadFragment(t,e,n){this.fragCurrent=t,"initSegment"===t.sn?this._loadInitSegment(t,e):(this.startFragRequested=!0,super.loadFragment(t,e,n))}get mediaBufferTimeRanges(){return new Jr(this.tracksBuffered[this.currentTrackId]||[])}},subtitleTrackController:class extends qe{constructor(t){super(t,"[subtitle-track-controller]"),this.media=null,this.tracks=[],this.groupId=null,this.tracksInGroup=[],this.trackId=-1,this.selectDefaultTrack=!0,this.queuedDefaultTrack=-1,this.trackChangeListener=()=>this.onTextTracksChanged(),this.asyncPollTrackChange=()=>this.pollTrackChange(0),this.useTextTrackPolling=!1,this.subtitlePollingInterval=-1,this._subtitleDisplay=!0,this.registerListeners()}destroy(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.trackChangeListener=this.asyncPollTrackChange=null,super.destroy()}get subtitleDisplay(){return this._subtitleDisplay}set subtitleDisplay(t){this._subtitleDisplay=t,this.trackId>-1&&this.toggleTrackModes(this.trackId)}registerListeners(){const{hls:t}=this;t.on(f.MEDIA_ATTACHED,this.onMediaAttached,this),t.on(f.MEDIA_DETACHING,this.onMediaDetaching,this),t.on(f.MANIFEST_LOADING,this.onManifestLoading,this),t.on(f.MANIFEST_PARSED,this.onManifestParsed,this),t.on(f.LEVEL_LOADING,this.onLevelLoading,this),t.on(f.LEVEL_SWITCHING,this.onLevelSwitching,this),t.on(f.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),t.on(f.ERROR,this.onError,this)}unregisterListeners(){const{hls:t}=this;t.off(f.MEDIA_ATTACHED,this.onMediaAttached,this),t.off(f.MEDIA_DETACHING,this.onMediaDetaching,this),t.off(f.MANIFEST_LOADING,this.onManifestLoading,this),t.off(f.MANIFEST_PARSED,this.onManifestParsed,this),t.off(f.LEVEL_LOADING,this.onLevelLoading,this),t.off(f.LEVEL_SWITCHING,this.onLevelSwitching,this),t.off(f.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),t.off(f.ERROR,this.onError,this)}onMediaAttached(t,e){this.media=e.media,this.media&&(this.queuedDefaultTrack>-1&&(this.subtitleTrack=this.queuedDefaultTrack,this.queuedDefaultTrack=-1),this.useTextTrackPolling=!(this.media.textTracks&&"onchange"in this.media.textTracks),this.useTextTrackPolling?this.pollTrackChange(500):this.media.textTracks.addEventListener("change",this.asyncPollTrackChange))}pollTrackChange(t){self.clearInterval(this.subtitlePollingInterval),this.subtitlePollingInterval=self.setInterval(this.trackChangeListener,t)}onMediaDetaching(){this.media&&(self.clearInterval(this.subtitlePollingInterval),this.useTextTrackPolling||this.media.textTracks.removeEventListener("change",this.asyncPollTrackChange),this.trackId>-1&&(this.queuedDefaultTrack=this.trackId),to(this.media.textTracks).forEach((t=>{fe(t)})),this.subtitleTrack=-1,this.media=null)}onManifestLoading(){this.tracks=[],this.groupId=null,this.tracksInGroup=[],this.trackId=-1,this.selectDefaultTrack=!0}onManifestParsed(t,e){this.tracks=e.subtitleTracks}onSubtitleTrackLoaded(t,e){const{id:n,details:r}=e,{trackId:o}=this,i=this.tracksInGroup[o];if(!i)return void this.warn(`Invalid subtitle track id ${n}`);const a=i.details;i.details=e.details,this.log(`subtitle track ${n} loaded [${r.startSN}-${r.endSN}]`),n===this.trackId&&this.playlistLoaded(n,e,a)}onLevelLoading(t,e){this.switchLevel(e.level)}onLevelSwitching(t,e){this.switchLevel(e.level)}switchLevel(t){const e=this.hls.levels[t];if(null==e||!e.textGroupIds)return;const n=e.textGroupIds[e.urlId],r=this.tracksInGroup?this.tracksInGroup[this.trackId]:void 0;if(this.groupId!==n){const t=this.tracks.filter((t=>!n||t.groupId===n));this.tracksInGroup=t;const e=this.findTrackId(null==r?void 0:r.name)||this.findTrackId();this.groupId=n||null;const o={subtitleTracks:t};this.log(`Updating subtitle tracks, ${t.length} track(s) found in "${n}" group-id`),this.hls.trigger(f.SUBTITLE_TRACKS_UPDATED,o),-1!==e&&this.setSubtitleTrack(e,r)}else this.shouldReloadPlaylist(r)&&this.setSubtitleTrack(this.trackId,r)}findTrackId(t){const e=this.tracksInGroup;for(let n=0;n<e.length;n++){const r=e[n];if((!this.selectDefaultTrack||r.default)&&(!t||t===r.name))return r.id}return-1}onError(t,e){!e.fatal&&e.context&&e.context.type===ne&&e.context.id===this.trackId&&e.context.groupId===this.groupId&&this.checkRetry(e)}get subtitleTracks(){return this.tracksInGroup}get subtitleTrack(){return this.trackId}set subtitleTrack(t){this.selectDefaultTrack=!1;const e=this.tracksInGroup?this.tracksInGroup[this.trackId]:void 0;this.setSubtitleTrack(t,e)}loadPlaylist(t){super.loadPlaylist();const e=this.tracksInGroup[this.trackId];if(this.shouldLoadPlaylist(e)){const n=e.id,r=e.groupId;let o=e.url;if(t)try{o=t.addDirectives(o)}catch(t){this.warn(`Could not construct new URL with HLS Delivery Directives: ${t}`)}this.log(`Loading subtitle playlist for id ${n}`),this.hls.trigger(f.SUBTITLE_TRACK_LOADING,{url:o,id:n,groupId:r,deliveryDirectives:t||null})}}toggleTrackModes(t){const{media:e,trackId:n}=this;if(!e)return;const r=to(e.textTracks),o=r.filter((t=>t.groupId===this.groupId));if(-1===t)[].slice.call(r).forEach((t=>{t.mode="disabled"}));else{const t=o[n];t&&(t.mode="disabled")}const i=o[t];i&&(i.mode=this.subtitleDisplay?"showing":"hidden")}setSubtitleTrack(t,e){var n;const r=this.tracksInGroup;if(!this.media)return void(this.queuedDefaultTrack=t);if(this.trackId!==t&&this.toggleTrackModes(t),this.trackId===t&&(-1===t||null!=(n=r[t])&&n.details)||t<-1||t>=r.length)return;this.clearTimer();const o=r[t];if(this.log(`Switching to subtitle-track ${t}`+(o?` "${o.name}" lang:${o.lang} group:${o.groupId}`:"")),this.trackId=t,o){const{id:t,groupId:n="",name:r,type:i,url:a}=o;this.hls.trigger(f.SUBTITLE_TRACK_SWITCH,{id:t,groupId:n,name:r,type:i,url:a});const s=this.switchParams(o.url,null==e?void 0:e.details);this.loadPlaylist(s)}else this.hls.trigger(f.SUBTITLE_TRACK_SWITCH,{id:t})}onTextTracksChanged(){if(this.useTextTrackPolling||self.clearInterval(this.subtitlePollingInterval),!this.media||!this.hls.config.renderTextTracksNatively)return;let t=-1;const e=to(this.media.textTracks);for(let n=0;n<e.length;n++)if("hidden"===e[n].mode)t=n;else if("showing"===e[n].mode){t=n;break}this.subtitleTrack!==t&&(this.subtitleTrack=t)}},timelineController:class{constructor(t){if(this.hls=void 0,this.media=null,this.config=void 0,this.enabled=!0,this.Cues=void 0,this.textTracks=[],this.tracks=[],this.initPTS=[],this.unparsedVttFrags=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.cea608Parser1=void 0,this.cea608Parser2=void 0,this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs={ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!0}},this.captionsProperties=void 0,this.hls=t,this.config=t.config,this.Cues=t.config.cueHandler,this.captionsProperties={textTrack1:{label:this.config.captionsTextTrack1Label,languageCode:this.config.captionsTextTrack1LanguageCode},textTrack2:{label:this.config.captionsTextTrack2Label,languageCode:this.config.captionsTextTrack2LanguageCode},textTrack3:{label:this.config.captionsTextTrack3Label,languageCode:this.config.captionsTextTrack3LanguageCode},textTrack4:{label:this.config.captionsTextTrack4Label,languageCode:this.config.captionsTextTrack4LanguageCode}},this.config.enableCEA708Captions){const t=new Eo(this,"textTrack1"),e=new Eo(this,"textTrack2"),n=new Eo(this,"textTrack3"),r=new Eo(this,"textTrack4");this.cea608Parser1=new Ao(1,t,e),this.cea608Parser2=new Ao(3,n,r)}t.on(f.MEDIA_ATTACHING,this.onMediaAttaching,this),t.on(f.MEDIA_DETACHING,this.onMediaDetaching,this),t.on(f.MANIFEST_LOADING,this.onManifestLoading,this),t.on(f.MANIFEST_LOADED,this.onManifestLoaded,this),t.on(f.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),t.on(f.FRAG_LOADING,this.onFragLoading,this),t.on(f.FRAG_LOADED,this.onFragLoaded,this),t.on(f.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),t.on(f.FRAG_DECRYPTED,this.onFragDecrypted,this),t.on(f.INIT_PTS_FOUND,this.onInitPtsFound,this),t.on(f.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),t.on(f.BUFFER_FLUSHING,this.onBufferFlushing,this)}destroy(){const{hls:t}=this;t.off(f.MEDIA_ATTACHING,this.onMediaAttaching,this),t.off(f.MEDIA_DETACHING,this.onMediaDetaching,this),t.off(f.MANIFEST_LOADING,this.onManifestLoading,this),t.off(f.MANIFEST_LOADED,this.onManifestLoaded,this),t.off(f.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),t.off(f.FRAG_LOADING,this.onFragLoading,this),t.off(f.FRAG_LOADED,this.onFragLoaded,this),t.off(f.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),t.off(f.FRAG_DECRYPTED,this.onFragDecrypted,this),t.off(f.INIT_PTS_FOUND,this.onInitPtsFound,this),t.off(f.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),t.off(f.BUFFER_FLUSHING,this.onBufferFlushing,this),this.hls=this.config=this.cea608Parser1=this.cea608Parser2=null}addCues(t,e,n,r,o){let i=!1;for(let t=o.length;t--;){const r=o[t],l=(a=r[0],s=r[1],u=e,c=n,Math.min(s,c)-Math.max(a,u));if(l>=0&&(r[0]=Math.min(r[0],e),r[1]=Math.max(r[1],n),i=!0,l/(n-e)>.5))return}var a,s,u,c;if(i||o.push([e,n]),this.config.renderTextTracksNatively){const o=this.captionsTracks[t];this.Cues.newCue(o,e,n,r)}else{const o=this.Cues.newCue(null,e,n,r);this.hls.trigger(f.CUES_PARSED,{type:"captions",cues:o,track:t})}}onInitPtsFound(t,{frag:e,id:n,initPTS:r,timescale:o}){const{unparsedVttFrags:i}=this;"main"===n&&(this.initPTS[e.cc]={baseTime:r,timescale:o}),i.length&&(this.unparsedVttFrags=[],i.forEach((t=>{this.onFragLoaded(f.FRAG_LOADED,t)})))}getExistingTrack(t){const{media:e}=this;if(e)for(let n=0;n<e.textTracks.length;n++){const r=e.textTracks[n];if(r[t])return r}return null}createCaptionsTrack(t){this.config.renderTextTracksNatively?this.createNativeTrack(t):this.createNonNativeTrack(t)}createNativeTrack(t){if(this.captionsTracks[t])return;const{captionsProperties:e,captionsTracks:n,media:r}=this,{label:o,languageCode:i}=e[t],a=this.getExistingTrack(t);if(a)n[t]=a,fe(n[t]),ce(n[t],r);else{const e=this.createTextTrack("captions",o,i);e&&(e[t]=!0,n[t]=e)}}createNonNativeTrack(t){if(this.nonNativeCaptionsTracks[t])return;const e=this.captionsProperties[t];if(!e)return;const n={_id:t,label:e.label,kind:"captions",default:!!e.media&&!!e.media.default,closedCaptions:e.media};this.nonNativeCaptionsTracks[t]=n,this.hls.trigger(f.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:[n]})}createTextTrack(t,e,n){const r=this.media;if(r)return r.addTextTrack(t,e,n)}onMediaAttaching(t,e){this.media=e.media,this._cleanTracks()}onMediaDetaching(){const{captionsTracks:t}=this;Object.keys(t).forEach((e=>{fe(t[e]),delete t[e]})),this.nonNativeCaptionsTracks={}}onManifestLoading(){this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs={ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!0}},this._cleanTracks(),this.tracks=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.textTracks=[],this.unparsedVttFrags=this.unparsedVttFrags||[],this.initPTS=[],this.cea608Parser1&&this.cea608Parser2&&(this.cea608Parser1.reset(),this.cea608Parser2.reset())}_cleanTracks(){const{media:t}=this;if(!t)return;const e=t.textTracks;if(e)for(let t=0;t<e.length;t++)fe(e[t])}onSubtitleTracksUpdated(t,e){const n=e.subtitleTracks||[],r=n.some((t=>t.textCodec===Uo));if(this.config.enableWebVTT||r&&this.config.enableIMSC1){if(Xr(this.tracks,n))return void(this.tracks=n);if(this.textTracks=[],this.tracks=n,this.config.renderTextTracksNatively){const t=this.media?this.media.textTracks:null;this.tracks.forEach(((e,n)=>{let r;if(t&&n<t.length){let n=null;for(let r=0;r<t.length;r++)if(Xo(t[r],e)){n=t[r];break}n&&(r=n)}if(r)fe(r);else{const t=this._captionsOrSubtitlesFromCharacteristics(e);r=this.createTextTrack(t,e.name,e.lang),r&&(r.mode="disabled")}r&&(r.groupId=e.groupId,this.textTracks.push(r))}))}else if(this.tracks.length){const t=this.tracks.map((t=>({label:t.name,kind:t.type.toLowerCase(),default:t.default,subtitleTrack:t})));this.hls.trigger(f.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:t})}}}_captionsOrSubtitlesFromCharacteristics(t){if(t.attrs.CHARACTERISTICS){const e=/transcribes-spoken-dialog/gi.test(t.attrs.CHARACTERISTICS),n=/describes-music-and-sound/gi.test(t.attrs.CHARACTERISTICS);if(e&&n)return"captions"}return"subtitles"}onManifestLoaded(t,e){this.config.enableCEA708Captions&&e.captions&&e.captions.forEach((t=>{const e=/(?:CC|SERVICE)([1-4])/.exec(t.instreamId);if(!e)return;const n=`textTrack${e[1]}`,r=this.captionsProperties[n];r&&(r.label=t.name,t.lang&&(r.languageCode=t.lang),r.media=t)}))}closedCaptionsForLevel(t){const e=this.hls.levels[t.level];return null==e?void 0:e.attrs["CLOSED-CAPTIONS"]}onFragLoading(t,e){const{cea608Parser1:n,cea608Parser2:r,lastSn:o,lastPartIndex:i}=this;if(this.enabled&&n&&r&&e.frag.type===re){var a,s;const t=e.frag.sn,u=null!=(a=null==e||null==(s=e.part)?void 0:s.index)?a:-1;t===o+1||t===o&&u===i+1||(n.reset(),r.reset()),this.lastSn=t,this.lastPartIndex=u}}onFragLoaded(t,e){const{frag:n,payload:r}=e,{initPTS:o,unparsedVttFrags:i}=this;if(n.type===ie)if(r.byteLength){if(!o[n.cc])return i.push(e),void(o.length&&this.hls.trigger(f.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:n,error:new Error("Missing initial subtitle PTS")}));const t=n.decryptdata,a="stats"in e;if(null==t||!t.encrypted||a){const t=this.tracks[n.level],e=this.vttCCs;e[n.cc]||(e[n.cc]={start:n.start,prevCC:this.prevCC,new:!0},this.prevCC=n.cc),t&&t.textCodec===Uo?this._parseIMSC1(n,r):this._parseVTTs(n,r,e)}}else this.hls.trigger(f.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:n,error:new Error("Empty subtitle payload")})}_parseIMSC1(t,e){const n=this.hls;Zo(e,this.initPTS[t.cc],(e=>{this._appendCues(e,t.level),n.trigger(f.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:t})}),(e=>{m.log(`Failed to parse IMSC1: ${e}`),n.trigger(f.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:t,error:e})}))}_parseVTTs(t,e,n){var r;const o=this.hls;Fo(null!=(r=t.initSegment)&&r.data?xt(t.initSegment.data,new Uint8Array(e)):e,this.initPTS[t.cc],n,t.cc,t.start,(e=>{this._appendCues(e,t.level),o.trigger(f.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:t})}),(n=>{this._fallbackToIMSC1(t,e),m.log(`Failed to parse VTT cue: ${n}`),o.trigger(f.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:t,error:n})}))}_fallbackToIMSC1(t,e){const n=this.tracks[t.level];n.textCodec||Zo(e,this.initPTS[t.cc],(()=>{n.textCodec=Uo,this._parseIMSC1(t,e)}),(()=>{n.textCodec="wvtt"}))}_appendCues(t,e){const n=this.hls;if(this.config.renderTextTracksNatively){const n=this.textTracks[e];if(!n||"disabled"===n.mode)return;t.forEach((t=>le(n,t)))}else{const r=this.tracks[e];if(!r)return;const o=r.default?"default":"subtitles"+e;n.trigger(f.CUES_PARSED,{type:"subtitles",cues:t,track:o})}}onFragDecrypted(t,e){const{frag:n}=e;if(n.type===ie){if(!this.initPTS[n.cc])return void this.unparsedVttFrags.push(e);this.onFragLoaded(f.FRAG_LOADED,e)}}onSubtitleTracksCleared(){this.tracks=[],this.captionsTracks={}}onFragParsingUserdata(t,e){const{cea608Parser1:n,cea608Parser2:r}=this;if(!this.enabled||!n||!r)return;const{frag:o,samples:i}=e;if(o.type!==re||"NONE"!==this.closedCaptionsForLevel(o))for(let t=0;t<i.length;t++){const e=i[t].bytes;if(e){const o=this.extractCea608Data(e);n.addData(i[t].pts,o[0]),r.addData(i[t].pts,o[1])}}}onBufferFlushing(t,{startOffset:e,endOffset:n,endOffsetSubtitles:r,type:o}){const{media:i}=this;if(i&&!(i.currentTime<n)){if(!o||"video"===o){const{captionsTracks:t}=this;Object.keys(t).forEach((r=>he(t[r],e,n)))}if(this.config.renderTextTracksNatively&&0===e&&void 0!==r){const{textTracks:t}=this;Object.keys(t).forEach((n=>he(t[n],e,r)))}}}extractCea608Data(t){const e=[[],[]],n=31&t[0];let r=2;for(let o=0;o<n;o++){const n=t[r++],o=127&t[r++],i=127&t[r++];if((0!==o||0!==i)&&0!=(4&n)){const t=3&n;0!==t&&1!==t||(e[t].push(o),e[t].push(i))}}return e}},audioStreamController:class extends Gn{constructor(t,e,n){super(t,e,n,"[audio-stream-controller]",oe),this.videoBuffer=null,this.videoTrackCC=-1,this.waitingVideoCC=-1,this.bufferedTrack=null,this.switchingTrack=null,this.trackId=-1,this.waitingData=null,this.mainDetails=null,this.bufferFlushed=!1,this.cachedTrackLoadedData=null,this._registerListeners()}onHandlerDestroying(){this._unregisterListeners(),this.mainDetails=null,this.bufferedTrack=null,this.switchingTrack=null}_registerListeners(){const{hls:t}=this;t.on(f.MEDIA_ATTACHED,this.onMediaAttached,this),t.on(f.MEDIA_DETACHING,this.onMediaDetaching,this),t.on(f.MANIFEST_LOADING,this.onManifestLoading,this),t.on(f.LEVEL_LOADED,this.onLevelLoaded,this),t.on(f.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),t.on(f.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),t.on(f.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),t.on(f.ERROR,this.onError,this),t.on(f.BUFFER_RESET,this.onBufferReset,this),t.on(f.BUFFER_CREATED,this.onBufferCreated,this),t.on(f.BUFFER_FLUSHED,this.onBufferFlushed,this),t.on(f.INIT_PTS_FOUND,this.onInitPtsFound,this),t.on(f.FRAG_BUFFERED,this.onFragBuffered,this)}_unregisterListeners(){const{hls:t}=this;t.off(f.MEDIA_ATTACHED,this.onMediaAttached,this),t.off(f.MEDIA_DETACHING,this.onMediaDetaching,this),t.off(f.MANIFEST_LOADING,this.onManifestLoading,this),t.off(f.LEVEL_LOADED,this.onLevelLoaded,this),t.off(f.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),t.off(f.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),t.off(f.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),t.off(f.ERROR,this.onError,this),t.off(f.BUFFER_RESET,this.onBufferReset,this),t.off(f.BUFFER_CREATED,this.onBufferCreated,this),t.off(f.BUFFER_FLUSHED,this.onBufferFlushed,this),t.off(f.INIT_PTS_FOUND,this.onInitPtsFound,this),t.off(f.FRAG_BUFFERED,this.onFragBuffered,this)}onInitPtsFound(t,{frag:e,id:n,initPTS:r,timescale:o}){if("main"===n){const t=e.cc;this.initPTS[e.cc]={baseTime:r,timescale:o},this.log(`InitPTS for cc: ${t} found from main: ${r}`),this.videoTrackCC=t,this.state===Fn&&this.tick()}}startLoad(t){if(!this.levels)return this.startPosition=t,void(this.state=Pn);const e=this.lastCurrentTime;this.stopLoad(),this.setInterval(100),e>0&&-1===t?(this.log(`Override startPosition with lastCurrentTime @${e.toFixed(3)}`),t=e,this.state=Tn):(this.loadedmetadata=!1,this.state=jn),this.nextLoadPosition=this.startPosition=this.lastCurrentTime=t,this.tick()}doTick(){switch(this.state){case Tn:this.doTickIdle();break;case jn:{var t;const{levels:e,trackId:n}=this,r=null==e||null==(t=e[n])?void 0:t.details;if(r){if(this.waitForCdnTuneIn(r))break;this.state=Fn}break}case In:{var e;const t=performance.now(),n=this.retryDate;(!n||t>=n||null!=(e=this.media)&&e.seeking)&&(this.log("RetryDate reached, switch back to IDLE state"),this.resetStartWhenNotLoaded(this.trackId),this.state=Tn);break}case Fn:{const t=this.waitingData;if(t){const{frag:e,part:n,cache:r,complete:o}=t;if(void 0!==this.initPTS[e.cc]){this.waitingData=null,this.waitingVideoCC=-1,this.state=Rn;const t={frag:e,part:n,payload:r.flush(),networkDetails:null};this._handleFragmentLoadProgress(t),o&&super._handleFragmentLoadComplete(t)}else if(this.videoTrackCC!==this.waitingVideoCC)this.log(`Waiting fragment cc (${e.cc}) cancelled because video is at cc ${this.videoTrackCC}`),this.clearWaitingFragment();else{const t=this.getLoadPosition(),n=gn.bufferInfo(this.mediaBuffer,t,this.config.maxBufferHole);Ge(n.end,this.config.maxFragLookUpTolerance,e)<0&&(this.log(`Waiting fragment cc (${e.cc}) @ ${e.start} cancelled because another fragment at ${n.end} is needed`),this.clearWaitingFragment())}}else this.state=Tn}}this.onTickEnd()}clearWaitingFragment(){const t=this.waitingData;t&&(this.fragmentTracker.removeFragment(t.frag),this.waitingData=null,this.waitingVideoCC=-1,this.state=Tn)}resetLoadingState(){this.clearWaitingFragment(),super.resetLoadingState()}onTickEnd(){const{media:t}=this;null!=t&&t.readyState&&(this.lastCurrentTime=t.currentTime)}doTickIdle(){const{hls:t,levels:e,media:n,trackId:r}=this,o=t.config;if(null==e||!e[r])return;if(!n&&(this.startFragRequested||!o.startFragPrefetch))return;const i=e[r],a=i.details;if(!a||a.live&&this.levelLastLoaded!==r||this.waitForCdnTuneIn(a))return void(this.state=jn);const s=this.mediaBuffer?this.mediaBuffer:this.media;this.bufferFlushed&&s&&(this.bufferFlushed=!1,this.afterBufferFlushed(s,k,oe));const u=this.getFwdBufferInfo(s,oe);if(null===u)return;const{bufferedTrack:c,switchingTrack:l}=this;if(!l&&this._streamEnded(u,a))return t.trigger(f.BUFFER_EOS,{type:"audio"}),void(this.state=Nn);const h=this.getFwdBufferInfo(this.videoBuffer?this.videoBuffer:this.media,re),p=u.len,d=this.getMaxBufferLength(null==h?void 0:h.len);if(p>=d&&!l)return;const y=a.fragments[0].start;let v=u.end;if(l&&n){const t=this.getLoadPosition();c&&l.attrs!==c.attrs&&(v=t),a.PTSKnown&&t<y&&(u.end>y||u.nextStart)&&(this.log("Alt audio track ahead of main track, seek to start of alt audio track"),n.currentTime=y+.05)}let g=this.getNextFragment(v,a),m=!1;if(g&&this.isLoopLoading(g,v)&&(m=!!g.gap,g=this.getNextFragmentLoopLoading(g,a,u,re,d)),!g)return void(this.bufferFlushed=!0);const b=h&&g.start>h.end+a.targetduration;if(b||(null==h||!h.len)&&u.len){const t=this.getAppendedFrag(g.start,re);if(null===t)return;if(m||(m=!!t.gap||!!b&&0===h.len),b&&!m||m&&u.nextStart&&u.nextStart<t.end)return}this.loadFragment(g,i,v)}getMaxBufferLength(t){const e=super.getMaxBufferLength();return t?Math.min(Math.max(e,t),this.config.maxMaxBufferLength):e}onMediaDetaching(){this.videoBuffer=null,super.onMediaDetaching()}onAudioTracksUpdated(t,{audioTracks:e}){this.resetTransmuxer(),this.levels=e.map((t=>new Le(t)))}onAudioTrackSwitching(t,e){const n=!!e.url;this.trackId=e.id;const{fragCurrent:r}=this;r&&(r.abortRequests(),this.removeUnbufferedFrags(r.start)),this.resetLoadingState(),n?this.setInterval(100):this.resetTransmuxer(),n?(this.switchingTrack=e,this.state=Tn):(this.switchingTrack=null,this.bufferedTrack=e,this.state=Pn),this.tick()}onManifestLoading(){this.fragmentTracker.removeAllFragments(),this.startPosition=this.lastCurrentTime=0,this.bufferFlushed=!1,this.levels=this.mainDetails=this.waitingData=this.bufferedTrack=this.cachedTrackLoadedData=this.switchingTrack=null,this.startFragRequested=!1,this.trackId=this.videoTrackCC=this.waitingVideoCC=-1}onLevelLoaded(t,e){this.mainDetails=e.details,null!==this.cachedTrackLoadedData&&(this.hls.trigger(f.AUDIO_TRACK_LOADED,this.cachedTrackLoadedData),this.cachedTrackLoadedData=null)}onAudioTrackLoaded(t,e){var n;if(null==this.mainDetails)return void(this.cachedTrackLoadedData=e);const{levels:r}=this,{details:o,id:i}=e;if(!r)return void this.warn(`Audio tracks were reset while loading level ${i}`);this.log(`Track ${i} loaded [${o.startSN},${o.endSN}]${o.lastPartSn?`[part-${o.lastPartSn}-${o.lastPartIndex}]`:""},duration:${o.totalduration}`);const a=r[i];let s=0;if(o.live||null!=(n=a.details)&&n.live){const t=this.mainDetails;if(o.fragments[0]||(o.deltaUpdateFailed=!0),o.deltaUpdateFailed||!t)return;!a.details&&o.hasProgramDateTime&&t.hasProgramDateTime?(Cn(o,t),s=o.fragments[0].start):s=this.alignPlaylists(o,a.details)}a.details=o,this.levelLastLoaded=i,this.startFragRequested||!this.mainDetails&&o.live||this.setStartPosition(a.details,s),this.state!==jn||this.waitForCdnTuneIn(o)||(this.state=Tn),this.tick()}_handleFragmentLoadProgress(t){var e;const{frag:n,part:r,payload:o}=t,{config:i,trackId:a,levels:s}=this;if(!s)return void this.warn(`Audio tracks were reset while fragment load was in progress. Fragment ${n.sn} of level ${n.level} will not be buffered`);const u=s[a];if(!u)return void this.warn("Audio track is undefined on fragment load progress");const c=u.details;if(!c)return this.warn("Audio track details undefined on fragment load progress"),void this.removeUnbufferedFrags(n.start);const l=i.defaultAudioCodec||u.audioCodec||"mp4a.40.2";let f=this.transmuxer;f||(f=this.transmuxer=new zr(this.hls,oe,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)));const h=this.initPTS[n.cc],p=null==(e=n.initSegment)?void 0:e.data;if(void 0!==h){const t=!1,e=r?r.index:-1,i=-1!==e,a=new mn(n.level,n.sn,n.stats.chunkCount,o.byteLength,e,i);f.push(o,p,l,"",n,r,c.totalduration,t,a,h)}else{this.log(`Unknown video PTS for cc ${n.cc}, waiting for video PTS before demuxing audio frag ${n.sn} of [${c.startSN} ,${c.endSN}],track ${a}`);const{cache:t}=this.waitingData=this.waitingData||{frag:n,part:r,cache:new qr,complete:!1};t.push(new Uint8Array(o)),this.waitingVideoCC=this.videoTrackCC,this.state=Fn}}_handleFragmentLoadComplete(t){this.waitingData?this.waitingData.complete=!0:super._handleFragmentLoadComplete(t)}onBufferReset(){this.mediaBuffer=this.videoBuffer=null,this.loadedmetadata=!1}onBufferCreated(t,e){const n=e.tracks.audio;n&&(this.mediaBuffer=n.buffer||null),e.tracks.video&&(this.videoBuffer=e.tracks.video.buffer||null)}onFragBuffered(t,e){const{frag:n,part:r}=e;if(n.type===oe)if(this.fragContextChanged(n))this.warn(`Fragment ${n.sn}${r?" p: "+r.index:""} of level ${n.level} finished buffering, but was aborted. state: ${this.state}, audioSwitch: ${this.switchingTrack?this.switchingTrack.name:"false"}`);else{if("initSegment"!==n.sn){this.fragPrevious=n;const t=this.switchingTrack;t&&(this.bufferedTrack=t,this.switchingTrack=null,this.hls.trigger(f.AUDIO_TRACK_SWITCHED,s({},t)))}this.fragBufferedComplete(n,r)}else if(!this.loadedmetadata&&n.type===re){const t=this.videoBuffer||this.media;t&&gn.getBuffered(t).length&&(this.loadedmetadata=!0)}}onError(t,e){var n;if(e.fatal)this.state=Mn;else switch(e.details){case p.FRAG_GAP:case p.FRAG_PARSING_ERROR:case p.FRAG_DECRYPT_ERROR:case p.FRAG_LOAD_ERROR:case p.FRAG_LOAD_TIMEOUT:case p.KEY_LOAD_ERROR:case p.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(oe,e);break;case p.AUDIO_TRACK_LOAD_ERROR:case p.AUDIO_TRACK_LOAD_TIMEOUT:case p.LEVEL_PARSING_ERROR:e.levelRetry||this.state!==jn||(null==(n=e.context)?void 0:n.type)!==ee||(this.state=Tn);break;case p.BUFFER_FULL_ERROR:if(!e.parent||"audio"!==e.parent)return;this.reduceLengthAndFlushBuffer(e)&&(this.bufferedTrack=null,super.flushMainBuffer(0,Number.POSITIVE_INFINITY,"audio"));break;case p.INTERNAL_EXCEPTION:this.recoverWorkerError(e)}}onBufferFlushed(t,{type:e}){e===k&&(this.bufferFlushed=!0,this.state===Nn&&(this.state=Tn))}_handleTransmuxComplete(t){var e;const n="audio",{hls:r}=this,{remuxResult:o,chunkMeta:i}=t,a=this.getCurrentContext(i);if(!a)return void this.resetWhenMissingContext(i);const{frag:s,part:u,level:l}=a,{details:h}=l,{audio:p,text:d,id3:y,initSegment:v}=o;if(!this.fragContextChanged(s)&&h){if(this.state=Dn,this.switchingTrack&&p&&this.completeAudioSwitch(this.switchingTrack),null!=v&&v.tracks){const t=s.initSegment||s;this._bufferInitSegment(v.tracks,t,i),r.trigger(f.FRAG_PARSING_INIT_SEGMENT,{frag:t,id:n,tracks:v.tracks})}if(p){const{startPTS:t,endPTS:e,startDTS:n,endDTS:r}=p;u&&(u.elementaryStreams[k]={startPTS:t,endPTS:e,startDTS:n,endDTS:r}),s.setElementaryStreamInfo(k,t,e,n,r),this.bufferFragmentData(p,s,u,i)}if(null!=y&&null!=(e=y.samples)&&e.length){const t=c({id:n,frag:s,details:h},y);r.trigger(f.FRAG_PARSING_METADATA,t)}if(d){const t=c({id:n,frag:s,details:h},d);r.trigger(f.FRAG_PARSING_USERDATA,t)}}else this.fragmentTracker.removeFragment(s)}_bufferInitSegment(t,e,n){if(this.state!==Dn)return;t.video&&delete t.video;const r=t.audio;if(!r)return;r.levelCodec=r.codec,r.id="audio",this.log(`Init audio buffer, container:${r.container}, codecs[parsed]=[${r.codec}]`),this.hls.trigger(f.BUFFER_CODECS,t);const o=r.initSegment;if(null!=o&&o.byteLength){const t={type:"audio",frag:e,part:null,chunkMeta:n,parent:e.type,data:o};this.hls.trigger(f.BUFFER_APPENDING,t)}this.tick()}loadFragment(t,e,n){const r=this.fragmentTracker.getState(t);var o;this.fragCurrent=t,this.switchingTrack||r===en||r===rn?"initSegment"===t.sn?this._loadInitSegment(t,e):null!=(o=e.details)&&o.live&&!this.initPTS[t.cc]?(this.log(`Waiting for video PTS in continuity counter ${t.cc} of live stream before loading audio fragment ${t.sn} of level ${this.trackId}`),this.state=Fn):(this.startFragRequested=!0,super.loadFragment(t,e,n)):this.clearTrackerIfNeeded(t)}completeAudioSwitch(t){const{hls:e,media:n,bufferedTrack:r}=this,o=null==r?void 0:r.attrs,i=t.attrs;n&&o&&(o.CHANNELS!==i.CHANNELS||o.NAME!==i.NAME||o.LANGUAGE!==i.LANGUAGE)&&(this.log("Switching audio track : flushing all audio"),super.flushMainBuffer(0,Number.POSITIVE_INFINITY,"audio")),this.bufferedTrack=t,this.switchingTrack=null,e.trigger(f.AUDIO_TRACK_SWITCHED,s({},t))}},audioTrackController:class extends qe{constructor(t){super(t,"[audio-track-controller]"),this.tracks=[],this.groupId=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0,this.registerListeners()}registerListeners(){const{hls:t}=this;t.on(f.MANIFEST_LOADING,this.onManifestLoading,this),t.on(f.MANIFEST_PARSED,this.onManifestParsed,this),t.on(f.LEVEL_LOADING,this.onLevelLoading,this),t.on(f.LEVEL_SWITCHING,this.onLevelSwitching,this),t.on(f.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),t.on(f.ERROR,this.onError,this)}unregisterListeners(){const{hls:t}=this;t.off(f.MANIFEST_LOADING,this.onManifestLoading,this),t.off(f.MANIFEST_PARSED,this.onManifestParsed,this),t.off(f.LEVEL_LOADING,this.onLevelLoading,this),t.off(f.LEVEL_SWITCHING,this.onLevelSwitching,this),t.off(f.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),t.off(f.ERROR,this.onError,this)}destroy(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.currentTrack=null,super.destroy()}onManifestLoading(){this.tracks=[],this.groupId=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0}onManifestParsed(t,e){this.tracks=e.audioTracks||[]}onAudioTrackLoaded(t,e){const{id:n,groupId:r,details:o}=e,i=this.tracksInGroup[n];if(!i||i.groupId!==r)return void this.warn(`Track with id:${n} and group:${r} not found in active group ${i.groupId}`);const a=i.details;i.details=e.details,this.log(`audio-track ${n} "${i.name}" lang:${i.lang} group:${r} loaded [${o.startSN}-${o.endSN}]`),n===this.trackId&&this.playlistLoaded(n,e,a)}onLevelLoading(t,e){this.switchLevel(e.level)}onLevelSwitching(t,e){this.switchLevel(e.level)}switchLevel(t){const e=this.hls.levels[t];if(null==e||!e.audioGroupIds)return;const n=e.audioGroupIds[e.urlId];if(this.groupId!==n){this.groupId=n||null;const t=this.tracks.filter((t=>!n||t.groupId===n));this.selectDefaultTrack&&!t.some((t=>t.default))&&(this.selectDefaultTrack=!1),this.tracksInGroup=t;const e={audioTracks:t};this.log(`Updating audio tracks, ${t.length} track(s) found in group:${n}`),this.hls.trigger(f.AUDIO_TRACKS_UPDATED,e),this.selectInitialTrack()}else this.shouldReloadPlaylist(this.currentTrack)&&this.setAudioTrack(this.trackId)}onError(t,e){!e.fatal&&e.context&&e.context.type===ee&&e.context.id===this.trackId&&e.context.groupId===this.groupId&&(this.requestScheduled=-1,this.checkRetry(e))}get audioTracks(){return this.tracksInGroup}get audioTrack(){return this.trackId}set audioTrack(t){this.selectDefaultTrack=!1,this.setAudioTrack(t)}setAudioTrack(t){const e=this.tracksInGroup;if(t<0||t>=e.length)return void this.warn("Invalid id passed to audio-track controller");this.clearTimer();const n=this.currentTrack;e[this.trackId];const r=e[t],{groupId:o,name:i}=r;if(this.log(`Switching to audio-track ${t} "${i}" lang:${r.lang} group:${o}`),this.trackId=t,this.currentTrack=r,this.selectDefaultTrack=!1,this.hls.trigger(f.AUDIO_TRACK_SWITCHING,s({},r)),r.details&&!r.details.live)return;const a=this.switchParams(r.url,null==n?void 0:n.details);this.loadPlaylist(a)}selectInitialTrack(){const t=this.tracksInGroup,e=this.findTrackId(this.currentTrack)|this.findTrackId(null);if(-1!==e)this.setAudioTrack(e);else{const e=new Error(`No track found for running audio group-ID: ${this.groupId} track count: ${t.length}`);this.warn(e.message),this.hls.trigger(f.ERROR,{type:h.MEDIA_ERROR,details:p.AUDIO_TRACK_LOAD_ERROR,fatal:!0,error:e})}}findTrackId(t){const e=this.tracksInGroup;for(let n=0;n<e.length;n++){const r=e[n];if(!this.selectDefaultTrack||r.default){if(!t||void 0!==t.attrs["STABLE-RENDITION-ID"]&&t.attrs["STABLE-RENDITION-ID"]===r.attrs["STABLE-RENDITION-ID"])return r.id;if(t.name===r.name&&t.lang===r.lang)return r.id}}return-1}loadPlaylist(t){super.loadPlaylist();const e=this.tracksInGroup[this.trackId];if(this.shouldLoadPlaylist(e)){const n=e.id,r=e.groupId;let o=e.url;if(t)try{o=t.addDirectives(o)}catch(t){this.warn(`Could not construct new URL with HLS Delivery Directives: ${t}`)}this.log(`loading audio-track playlist ${n} "${e.name}" lang:${e.lang} group:${r}`),this.clearTimer(),this.hls.trigger(f.AUDIO_TRACK_LOADING,{url:o,id:n,groupId:r,deliveryDirectives:t||null})}}},emeController:ti,cmcdController:ui,contentSteeringController:class{constructor(t){this.hls=void 0,this.log=void 0,this.loader=null,this.uri=null,this.pathwayId=".",this.pathwayPriority=null,this.timeToLoad=300,this.reloadTimer=-1,this.updated=0,this.started=!1,this.enabled=!0,this.levels=null,this.audioTracks=null,this.subtitleTracks=null,this.penalizedPathways={},this.hls=t,this.log=m.log.bind(m,"[content-steering]:"),this.registerListeners()}registerListeners(){const t=this.hls;t.on(f.MANIFEST_LOADING,this.onManifestLoading,this),t.on(f.MANIFEST_LOADED,this.onManifestLoaded,this),t.on(f.MANIFEST_PARSED,this.onManifestParsed,this),t.on(f.ERROR,this.onError,this)}unregisterListeners(){const t=this.hls;t&&(t.off(f.MANIFEST_LOADING,this.onManifestLoading,this),t.off(f.MANIFEST_LOADED,this.onManifestLoaded,this),t.off(f.MANIFEST_PARSED,this.onManifestParsed,this),t.off(f.ERROR,this.onError,this))}startLoad(){if(this.started=!0,self.clearTimeout(this.reloadTimer),this.enabled&&this.uri)if(this.updated){const t=Math.max(1e3*this.timeToLoad-(performance.now()-this.updated),0);this.scheduleRefresh(this.uri,t)}else this.loadSteeringManifest(this.uri)}stopLoad(){this.started=!1,this.loader&&(this.loader.destroy(),this.loader=null),self.clearTimeout(this.reloadTimer)}destroy(){this.unregisterListeners(),this.stopLoad(),this.hls=null,this.levels=this.audioTracks=this.subtitleTracks=null}removeLevel(t){const e=this.levels;e&&(this.levels=e.filter((e=>e!==t)))}onManifestLoading(){this.stopLoad(),this.enabled=!0,this.timeToLoad=300,this.updated=0,this.uri=null,this.pathwayId=".",this.levels=this.audioTracks=this.subtitleTracks=null}onManifestLoaded(t,e){const{contentSteering:n}=e;null!==n&&(this.pathwayId=n.pathwayId,this.uri=n.uri,this.started&&this.startLoad())}onManifestParsed(t,e){this.audioTracks=e.audioTracks,this.subtitleTracks=e.subtitleTracks}onError(t,e){const{errorAction:n}=e;if((null==n?void 0:n.action)===Ze&&n.flags===Ye){let t=this.pathwayPriority;const e=this.pathwayId;this.penalizedPathways[e]||(this.penalizedPathways[e]=performance.now()),!t&&this.levels&&(t=this.levels.reduce(((t,e)=>(-1===t.indexOf(e.pathwayId)&&t.push(e.pathwayId),t)),[])),t&&t.length>1&&(this.updatePathwayPriority(t),n.resolved=this.pathwayId!==e)}}filterParsedLevels(t){this.levels=t;let e=this.getLevelsForPathway(this.pathwayId);if(0===e.length){const n=t[0].pathwayId;this.log(`No levels found in Pathway ${this.pathwayId}. Setting initial Pathway to "${n}"`),e=this.getLevelsForPathway(n),this.pathwayId=n}return e.length!==t.length?(this.log(`Found ${e.length}/${t.length} levels in Pathway "${this.pathwayId}"`),e):t}getLevelsForPathway(t){return null===this.levels?[]:this.levels.filter((e=>t===e.pathwayId))}updatePathwayPriority(t){let e;this.pathwayPriority=t;const n=this.penalizedPathways,r=performance.now();Object.keys(n).forEach((t=>{r-n[t]>3e5&&delete n[t]}));for(let r=0;r<t.length;r++){const o=t[r];if(n[o])continue;if(o===this.pathwayId)return;const i=this.hls.nextLoadLevel,a=this.hls.levels[i];if(e=this.getLevelsForPathway(o),e.length>0){this.log(`Setting Pathway to "${o}"`),this.pathwayId=o,this.hls.trigger(f.LEVELS_UPDATED,{levels:e});const t=this.hls.levels[i];a&&t&&this.levels&&(t.attrs["STABLE-VARIANT-ID"]!==a.attrs["STABLE-VARIANT-ID"]&&t.bitrate!==a.bitrate&&this.log(`Unstable Pathways change from bitrate ${a.bitrate} to ${t.bitrate}`),this.hls.nextLoadLevel=i);break}}}clonePathways(t){const e=this.levels;if(!e)return;const n={},r={};t.forEach((t=>{const{ID:o,"BASE-ID":i,"URI-REPLACEMENT":a}=t;if(e.some((t=>t.pathwayId===o)))return;const s=this.getLevelsForPathway(i).map((t=>{const e=c({},t);e.details=void 0,e.url=li(t.uri,t.attrs["STABLE-VARIANT-ID"],"PER-VARIANT-URIS",a);const i=new A(t.attrs);i["PATHWAY-ID"]=o;const s=i.AUDIO&&`${i.AUDIO}_clone_${o}`,u=i.SUBTITLES&&`${i.SUBTITLES}_clone_${o}`;s&&(n[i.AUDIO]=s,i.AUDIO=s),u&&(r[i.SUBTITLES]=u,i.SUBTITLES=u),e.attrs=i;const l=new Le(e);return Je(l,"audio",s),Je(l,"text",u),l}));e.push(...s),ci(this.audioTracks,n,a,o),ci(this.subtitleTracks,r,a,o)}))}loadSteeringManifest(t){const e=this.hls.config,n=e.loader;let r;this.loader&&this.loader.destroy(),this.loader=new n(e);try{r=new self.URL(t)}catch(e){return this.enabled=!1,void this.log(`Failed to parse Steering Manifest URI: ${t}`)}if("data:"!==r.protocol){const t=0|(this.hls.bandwidthEstimate||e.abrEwmaDefaultEstimate);r.searchParams.set("_HLS_pathway",this.pathwayId),r.searchParams.set("_HLS_throughput",""+t)}const o={responseType:"json",url:r.href},i=e.steeringManifestLoadPolicy.default,a=i.errorRetry||i.timeoutRetry||{},s={loadPolicy:i,timeout:i.maxLoadTimeMs,maxRetry:a.maxNumRetry||0,retryDelay:a.retryDelayMs||0,maxRetryDelay:a.maxRetryDelayMs||0},u={onSuccess:(t,e,n,o)=>{this.log(`Loaded steering manifest: "${r}"`);const i=t.data;if(1!==i.VERSION)return void this.log(`Steering VERSION ${i.VERSION} not supported!`);this.updated=performance.now(),this.timeToLoad=i.TTL;const{"RELOAD-URI":a,"PATHWAY-CLONES":s,"PATHWAY-PRIORITY":u}=i;if(a)try{this.uri=new self.URL(a,r).href}catch(t){return this.enabled=!1,void this.log(`Failed to parse Steering Manifest RELOAD-URI: ${a}`)}this.scheduleRefresh(this.uri||n.url),s&&this.clonePathways(s),u&&this.updatePathwayPriority(u)},onError:(t,e,n,r)=>{if(this.log(`Error loading steering manifest: ${t.code} ${t.text} (${e.url})`),this.stopLoad(),410===t.code)return this.enabled=!1,void this.log(`Steering manifest ${e.url} no longer available`);let o=1e3*this.timeToLoad;if(429!==t.code)this.scheduleRefresh(this.uri||e.url,o);else{const t=this.loader;if("function"==typeof(null==t?void 0:t.getResponseHeader)){const e=t.getResponseHeader("Retry-After");e&&(o=1e3*parseFloat(e))}this.log(`Steering manifest ${e.url} rate limited`)}},onTimeout:(t,e,n)=>{this.log(`Timeout loading steering manifest (${e.url})`),this.scheduleRefresh(this.uri||e.url)}};this.log(`Requesting steering manifest: ${r}`),this.loader.load(o,s,u)}scheduleRefresh(t,e=1e3*this.timeToLoad){self.clearTimeout(this.reloadTimer),this.reloadTimer=self.setTimeout((()=>{this.loadSteeringManifest(t)}),e)}}});function wi(t){return t&&"object"==typeof t?Array.isArray(t)?t.map(wi):Object.keys(t).reduce(((e,n)=>(e[n]=wi(t[n]),e)),{}):t}function Ai(t){const e=t.loader;e!==di&&e!==hi?(m.log("[config]: Custom loader detected, cannot enable progressive streaming"),t.progressive=!1):function(){if(self.fetch&&self.AbortController&&self.ReadableStream&&self.Request)try{return new self.ReadableStream({}),!0}catch(t){}return!1}()&&(t.loader=di,t.progressive=!0,t.enableSoftwareAES=!0,m.log("[config]: Progressive streaming enabled, using FetchLoader"))}class xi{static get version(){return"1.4.6"}static isSupported(){return function(){const t=Bt();if(!t)return!1;const e=Vn(),n=t&&"function"==typeof t.isTypeSupported&&t.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),r=!e||e.prototype&&"function"==typeof e.prototype.appendBuffer&&"function"==typeof e.prototype.remove;return!!n&&!!r}()}static get Events(){return f}static get ErrorTypes(){return h}static get ErrorDetails(){return p}static get DefaultConfig(){return xi.defaultConfig?xi.defaultConfig:bi}static set DefaultConfig(t){xi.defaultConfig=t}constructor(t={}){this.config=void 0,this.userConfig=void 0,this.coreComponents=void 0,this.networkControllers=void 0,this._emitter=new $r,this._autoLevelCapping=void 0,this._maxHdcpLevel=null,this.abrController=void 0,this.bufferController=void 0,this.capLevelController=void 0,this.latencyController=void 0,this.levelController=void 0,this.streamController=void 0,this.audioTrackController=void 0,this.subtitleTrackController=void 0,this.emeController=void 0,this.cmcdController=void 0,this._media=null,this.url=null,function(t,e){if(self.console&&!0===t||"object"==typeof t){g(t,"debug","log","info","warn","error");try{v.log(`Debug logs enabled for "${e}" in hls.js version 1.4.6`)}catch(t){v=y}}else v=y}(t.debug||!1,"Hls instance");const e=this.config=function(t,e){if((e.liveSyncDurationCount||e.liveMaxLatencyDurationCount)&&(e.liveSyncDuration||e.liveMaxLatencyDuration))throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");if(void 0!==e.liveMaxLatencyDurationCount&&(void 0===e.liveSyncDurationCount||e.liveMaxLatencyDurationCount<=e.liveSyncDurationCount))throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be greater than "liveSyncDurationCount"');if(void 0!==e.liveMaxLatencyDuration&&(void 0===e.liveSyncDuration||e.liveMaxLatencyDuration<=e.liveSyncDuration))throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be greater than "liveSyncDuration"');const n=wi(t),r=["TimeOut","MaxRetry","RetryDelay","MaxRetryTimeout"];return["manifest","level","frag"].forEach((t=>{const o=`${"level"===t?"playlist":t}LoadPolicy`,i=void 0===e[o],a=[];r.forEach((r=>{const s=`${t}Loading${r}`,u=e[s];if(void 0!==u&&i){a.push(s);const t=n[o].default;switch(e[o]={default:t},r){case"TimeOut":t.maxLoadTimeMs=u,t.maxTimeToFirstByteMs=u;break;case"MaxRetry":t.errorRetry.maxNumRetry=u,t.timeoutRetry.maxNumRetry=u;break;case"RetryDelay":t.errorRetry.retryDelayMs=u,t.timeoutRetry.retryDelayMs=u;break;case"MaxRetryTimeout":t.errorRetry.maxRetryDelayMs=u,t.timeoutRetry.maxRetryDelayMs=u}}})),a.length&&m.warn(`hls.js config: "${a.join('", "')}" setting(s) are deprecated, use "${o}": ${JSON.stringify(e[o])}`)})),s(s({},n),e)}(xi.DefaultConfig,t);this.userConfig=t,this._autoLevelCapping=-1,e.progressive&&Ai(e);const{abrController:n,bufferController:r,capLevelController:o,errorController:i,fpsController:a}=e,u=new i(this),c=this.abrController=new n(this),l=this.bufferController=new r(this),h=this.capLevelController=new o(this),p=new a(this),d=new ue(this),b=new be(this),w=e.contentSteeringController,A=w?new w(this):null,x=this.levelController=new Qe(this,A),C=new an(this),E=new dn(this.config),k=this.streamController=new Yr(this,C,E);h.setStreamController(k),p.setStreamController(k);const L=[d,x,k];A&&L.splice(1,0,A),this.networkControllers=L;const _=[c,l,h,p,b,C];this.audioTrackController=this.createController(e.audioTrackController,L);const S=e.audioStreamController;S&&L.push(new S(this,C,E)),this.subtitleTrackController=this.createController(e.subtitleTrackController,L);const P=e.subtitleStreamController;P&&L.push(new P(this,C,E)),this.createController(e.timelineController,_),E.emeController=this.emeController=this.createController(e.emeController,_),this.cmcdController=this.createController(e.cmcdController,_),this.latencyController=this.createController(we,_),this.coreComponents=_,L.push(u);const T=u.onErrorOut;"function"==typeof T&&this.on(f.ERROR,T,u)}createController(t,e){if(t){const n=new t(this);return e&&e.push(n),n}return null}on(t,e,n=this){this._emitter.on(t,e,n)}once(t,e,n=this){this._emitter.once(t,e,n)}removeAllListeners(t){this._emitter.removeAllListeners(t)}off(t,e,n=this,r){this._emitter.off(t,e,n,r)}listeners(t){return this._emitter.listeners(t)}emit(t,e,n){return this._emitter.emit(t,e,n)}trigger(t,e){if(this.config.debug)return this.emit(t,t,e);try{return this.emit(t,t,e)}catch(e){m.error("An internal error happened while handling event "+t+'. Error message: "'+e.message+'". Here is a stacktrace:',e),this.trigger(f.ERROR,{type:h.OTHER_ERROR,details:p.INTERNAL_EXCEPTION,fatal:!1,event:t,error:e})}return!1}listenerCount(t){return this._emitter.listenerCount(t)}destroy(){m.log("destroy"),this.trigger(f.DESTROYING,void 0),this.detachMedia(),this.removeAllListeners(),this._autoLevelCapping=-1,this.url=null,this.networkControllers.forEach((t=>t.destroy())),this.networkControllers.length=0,this.coreComponents.forEach((t=>t.destroy())),this.coreComponents.length=0;const t=this.config;t.xhrSetup=t.fetchSetup=void 0,this.userConfig=null}attachMedia(t){m.log("attachMedia"),this._media=t,this.trigger(f.MEDIA_ATTACHING,{media:t})}detachMedia(){m.log("detachMedia"),this.trigger(f.MEDIA_DETACHING,void 0),this._media=null}loadSource(t){this.stopLoad();const e=this.media,n=this.url,r=this.url=i.buildAbsoluteURL(self.location.href,t,{alwaysNormalize:!0});m.log(`loadSource:${r}`),e&&n&&(n!==r||this.bufferController.hasSourceTypes())&&(this.detachMedia(),this.attachMedia(e)),this.trigger(f.MANIFEST_LOADING,{url:t})}startLoad(t=-1){m.log(`startLoad(${t})`),this.networkControllers.forEach((e=>{e.startLoad(t)}))}stopLoad(){m.log("stopLoad"),this.networkControllers.forEach((t=>{t.stopLoad()}))}swapAudioCodec(){m.log("swapAudioCodec"),this.streamController.swapAudioCodec()}recoverMediaError(){m.log("recoverMediaError");const t=this._media;this.detachMedia(),t&&this.attachMedia(t)}removeLevel(t,e=0){this.levelController.removeLevel(t,e)}get levels(){const t=this.levelController.levels;return t||[]}get currentLevel(){return this.streamController.currentLevel}set currentLevel(t){m.log(`set currentLevel:${t}`),this.loadLevel=t,this.abrController.clearTimer(),this.streamController.immediateLevelSwitch()}get nextLevel(){return this.streamController.nextLevel}set nextLevel(t){m.log(`set nextLevel:${t}`),this.levelController.manualLevel=t,this.streamController.nextLevelSwitch()}get loadLevel(){return this.levelController.level}set loadLevel(t){m.log(`set loadLevel:${t}`),this.levelController.manualLevel=t}get nextLoadLevel(){return this.levelController.nextLoadLevel}set nextLoadLevel(t){this.levelController.nextLoadLevel=t}get firstLevel(){return Math.max(this.levelController.firstLevel,this.minAutoLevel)}set firstLevel(t){m.log(`set firstLevel:${t}`),this.levelController.firstLevel=t}get startLevel(){return this.levelController.startLevel}set startLevel(t){m.log(`set startLevel:${t}`),-1!==t&&(t=Math.max(t,this.minAutoLevel)),this.levelController.startLevel=t}get capLevelToPlayerSize(){return this.config.capLevelToPlayerSize}set capLevelToPlayerSize(t){const e=!!t;e!==this.config.capLevelToPlayerSize&&(e?this.capLevelController.startCapping():(this.capLevelController.stopCapping(),this.autoLevelCapping=-1,this.streamController.nextLevelSwitch()),this.config.capLevelToPlayerSize=e)}get autoLevelCapping(){return this._autoLevelCapping}get bandwidthEstimate(){const{bwEstimator:t}=this.abrController;return t?t.getEstimate():NaN}get ttfbEstimate(){const{bwEstimator:t}=this.abrController;return t?t.getEstimateTTFB():NaN}set autoLevelCapping(t){this._autoLevelCapping!==t&&(m.log(`set autoLevelCapping:${t}`),this._autoLevelCapping=t)}get maxHdcpLevel(){return this._maxHdcpLevel}set maxHdcpLevel(t){Ae.indexOf(t)>-1&&(this._maxHdcpLevel=t)}get autoLevelEnabled(){return-1===this.levelController.manualLevel}get manualLevel(){return this.levelController.manualLevel}get minAutoLevel(){const{levels:t,config:{minAutoBitrate:e}}=this;if(!t)return 0;const n=t.length;for(let r=0;r<n;r++)if(t[r].maxBitrate>=e)return r;return 0}get maxAutoLevel(){const{levels:t,autoLevelCapping:e,maxHdcpLevel:n}=this;let r;if(r=-1===e&&t&&t.length?t.length-1:e,n)for(let e=r;e--;){const r=t[e].attrs["HDCP-LEVEL"];if(r&&r<=n)return e}return r}get nextAutoLevel(){return Math.min(Math.max(this.abrController.nextAutoLevel,this.minAutoLevel),this.maxAutoLevel)}set nextAutoLevel(t){this.abrController.nextAutoLevel=Math.max(this.minAutoLevel,t)}get playingDate(){return this.streamController.currentProgramDateTime}get mainForwardBufferInfo(){return this.streamController.getMainFwdBufferInfo()}get audioTracks(){const t=this.audioTrackController;return t?t.audioTracks:[]}get audioTrack(){const t=this.audioTrackController;return t?t.audioTrack:-1}set audioTrack(t){const e=this.audioTrackController;e&&(e.audioTrack=t)}get subtitleTracks(){const t=this.subtitleTrackController;return t?t.subtitleTracks:[]}get subtitleTrack(){const t=this.subtitleTrackController;return t?t.subtitleTrack:-1}get media(){return this._media}set subtitleTrack(t){const e=this.subtitleTrackController;e&&(e.subtitleTrack=t)}get subtitleDisplay(){const t=this.subtitleTrackController;return!!t&&t.subtitleDisplay}set subtitleDisplay(t){const e=this.subtitleTrackController;e&&(e.subtitleDisplay=t)}get lowLatencyMode(){return this.config.lowLatencyMode}set lowLatencyMode(t){this.config.lowLatencyMode=t}get liveSyncPosition(){return this.latencyController.liveSyncPosition}get latency(){return this.latencyController.latency}get maxLatency(){return this.latencyController.maxLatency}get targetLatency(){return this.latencyController.targetLatency}get drift(){return this.latencyController.drift}get forceStartLoad(){return this.streamController.forceStartLoad}}xi.defaultConfig=void 0},4147:t=>{t.exports=JSON.parse('{"name":"paella-core","version":"1.44.0","description":"Multistream HTML video player","main":"src/index.js","module":"dist/paella-core.js","scripts":{"build":"webpack --mode production","dev":"webpack serve --mode development --config webpack.debug.js --host 0.0.0.0","captions":"webpack serve --mode development --config webpack.captions.js","eslint":"eslint .","nomanifest":"webpack serve --mode development --config webpack.nomanifest.js","testenv":"webpack serve --mode development --config webpack.test.js --host 0.0.0.0"},"repository":{"type":"git","url":"git+https://github.com/polimediaupv/paella-core.git"},"keywords":["html","player","video","hls"],"author":"Fernando Serrano Carpena <ferserc1@gmail.com>","license":"ECL-2.0","bugs":{"url":"https://github.com/polimediaupv/paella-core/issues"},"homepage":"https://github.com/polimediaupv/paella-core#readme","devDependencies":{"@babel/core":"^7.12.10","@babel/plugin-transform-modules-commonjs":"^7.19.6","@babel/preset-env":"^7.12.11","@playwright/test":"^1.29.2","babel-loader":"^9.0.0","babel-plugin-transform-require-context":"^0.1.1","copy-webpack-plugin":"^11.0.0","css-loader":"^6.6.0","eslint":"^8.29.0","file-loader":"^6.2.0","html-webpack-plugin":"^5.5.0","source-map-loader":"^4.0.0","style-loader":"^3.3.1","svg-inline-loader":"^0.8.2","webpack":"^5.66.0","webpack-cli":"^5.0.0","webpack-dev-server":"^4.7.3"},"dependencies":{"core-js":"^3.8.2","hls.js":"^1.0.4"}}')},6263:t=>{t.exports=JSON.parse('{"May the force be with you":"May the force be with you","Digit1":"1","Digit2":"2","Digit3":"3","Digit4":"4","Digit5":"5","Digit6":"6","Digit7":"7","Digit8":"8","Digit9":"9","Digit0":"0","KeyA":"A","KeyB":"B","KeyC":"C","KeyD":"D","KeyE":"E","KeyF":"F","KeyG":"G","KeyH":"H","KeyI":"I","KeyJ":"J","KeyK":"K","KeyL":"L","KeyM":"M","KeyN":"N","KeyO":"O","KeyP":"P","KeyQ":"Q","KeyR":"R","KeyS":"S","KeyT":"T","KeyU":"U","KeyV":"V","KeyW":"W","KeyX":"X","KeyY":"Y","KeyZ":"Z","Comma":",","Period":".","Semicolon":";","Quote":"\'","BracketLeft":"[","BracketRight":"]","Backquote":"`","Backslash":"\\\\","Minus":"-","Equal":"=","AltLeft":"Alt","AltRight":"Alt","CapsLock":"CapsLock","ControlLeft":"ControlLeft","ControlRight":"ControlRight","OSLeft":"OSLeft","OSRight":"OSRight","ShiftLeft":"ShiftLeft","ShiftRight":"ShiftRight","ContextMenu":"ContextMenu","Enter":"Enter","Space":"Space","Tab":"Tab","Delete":"Delete","End":"End","Help":"Help","Home":"Home","Insert":"Insert","PageDown":"PageDown","PageUp":"PageUp","ArrowDown":"ArrowDown","ArrowLeft":"ArrowLeft","ArrowRight":"ArrowRight","ArrowUp":"ArrowUp","Escape":"Escape","PrintScreen":"PrintScreen","ScrollLock":"ScrollLock","Pause":"Pausa","Put the videos side by side":"Put the videos side by side","Minimize video":"Minimize video","Close video":"Close video","Place the video on the other side of the screen":"Place the video on the other side of the screen","Maximize video":"Maximize video","Swap position of the videos":"Swap position of the videos","loadManifest(): Invalid current player state: $1":"loadManifest(): Invalid current player state: $1","loadPlayer(): Invalid current player state: $1":"loadPlayer(): Invalid current player state: $1","Could not load player: state transition in progress: $1":"Could not load player: state transition in progress: $1","Could not unload player: state transition in progress: $1":"Could not unload player: state transition in progress: $1","unloadManifest(): Invalid current player state: $1":"unloadManifest(): Invalid current player state: $1","Error loading video manifest: $1 $2":"Error loading video manifest: $1 $2","Play/pause":"Play/pause","Select the active audio track":"Select the active audio track","Toggle audio mute":"Toggle audio mute","Toggle play/pause":"Toggle play/pause","Toggle captions":"Toggle captions","Backward $1 seconds":"Backward $1 seconds","Forward $1 seconds":"Forward $1 seconds","Volume up 10%":"Volume up 10%","Volume down 10%":"Volume down 10%","Close pop-up":"Close pop-up","Decrease playback speed":"Decrease playback speed","Increase playback speed":"Increase playback speed","Swap between side by side and minimized video":"Swap between side by side and minimized video","Swap the position of the videos":"Swap the position of the videos"}')},8992:t=>{t.exports=JSON.parse('{"May the force be with you":"Que la fuerza te acompañe","Digit1":"1","Digit2":"2","Digit3":"3","Digit4":"4","Digit5":"5","Digit6":"6","Digit7":"7","Digit8":"8","Digit9":"9","Digit0":"0","KeyA":"A","KeyB":"B","KeyC":"C","KeyD":"D","KeyE":"E","KeyF":"F","KeyG":"G","KeyH":"H","KeyI":"I","KeyJ":"J","KeyK":"K","KeyL":"L","KeyM":"M","KeyN":"N","KeyO":"O","KeyP":"P","KeyQ":"Q","KeyR":"R","KeyS":"S","KeyT":"T","KeyU":"U","KeyV":"V","KeyW":"W","KeyX":"X","KeyY":"Y","KeyZ":"Z","Comma":",","Period":".","Semicolon":";","Quote":"\'","BracketLeft":"[","BracketRight":"]","Backquote":"`","Backslash":"\\\\","Minus":"-","Equal":"=","AltLeft":"Alt","AltRight":"Alt","CapsLock":"Bloqueo May.","ControlLeft":"Ctrl","ControlRight":"Ctrl","OSLeft":"OSLeft","OSRight":"OSRight","ShiftLeft":"Mayúsculas","ShiftRight":"Mayúsculas","ContextMenu":"ContextMenu","Enter":"Intro","Space":"Espacio","Tab":"Tabulador","Delete":"Borrar","End":"Fin","Help":"Ayuda","Home":"Inicio","Insert":"Insertar","PageDown":"Re. Pag","PageUp":"Av. Pag","ArrowDown":"Flecha abajo","ArrowLeft":"Flecha izq.","ArrowRight":"Flecha der.","ArrowUp":"Flecha Arriba","Escape":"Escape","PrintScreen":"PrintScreen","ScrollLock":"ScrollLock","Pause":"Pausa","Put the videos side by side":"Colocar los vídeos uno junto al otro","Minimize video":"Minimizar vídeo","Close video":"Cerrar el video","Place the video on the other side of the screen":"Colocar el vídeo al otro lado de la pantalla","Maximize video":"Maximizar vídeo","Swap position of the videos":"Intercambiar posición de los vídeos","loadManifest(): Invalid current player state: $1":"loadManifest(): Estado actual del reproductor no válido: $1","loadPlayer(): Invalid current player state: $1":"loadPlayer(): Estado actual del reproductor no válido: $1","Could not load player: state transition in progress: $1":"No se puede cargar el reproductor: transición de estado en progreso: $1","Could not unload player: state transition in progress: $1":"No se puede descargar el reproductor: transición de estado en progreso $1","unloadManifest(): Invalid current player state: $1":"unloadManifest(): Estado actual del reprodutor no válido: $1","Error loading video manifest: $1 $2":"Error cargando la información del vídeo: $1 $2","Play/pause":"Reproducir/pausar","Select the active audio track":"Seleccione la pista de audio activa","Toggle audio mute":"Conmutar el silencio de audio","Toggle play/pause":"Activar la reproducción/pausa","Toggle captions":"Alternar subtítulos","Backward $1 seconds":"Volver hacia atrás $1 segundos","Forward $1 seconds":"Ir hacia adelante $1 segundos","Volume up 10%":"Aumenta el volumen un 10%.","Volume down 10%":"Reduce el volumen un 10%.","Close pop-up":"Cerrar ventana emergente","Decrease playback speed":"Reducir la velocidad de reproducción","Increase playback speed":"Aumentar la velocidad de reproducción","Swap between side by side and minimized video":"Cambiar la disposición de los dos vídeos entre minimizado y del mismo tamaño","Swap the position of the videos":"Intercambiar la posición de los vídeos","Dual stream 50%":"Dos streams al 50%","Two videos 50%":"Dos streams al 50%"}')}},e={};function n(r){var o=e[r];if(void 0!==o)return o.exports;var i=e[r]={id:r,exports:{}};return t[r](i,i.exports,n),i.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.nc=void 0;var r={};return(()=>{n.r(r),n.d(r,{AudioOnlyVideo:()=>Yr.AudioOnlyVideo,AudioTrackData:()=>Mr.Z,AudioVideoPlugin:()=>Yr.default,ButtonGroupPlugin:()=>Fr.Z,ButtonPlugin:()=>xt.ZP,Canvas:()=>st.Xz,CanvasButtonPlugin:()=>ro.ZP,CanvasButtonPosition:()=>st.iN,CanvasPlugin:()=>st.ZP,Captions:()=>$r.Z,CaptionsPlugin:()=>Ke.Z,DFXPParser:()=>Vr.Z,Data:()=>Ye.Z,DataPlugin:()=>Ye.e,DefaultKeyShortcutsPlugin:()=>Wr.default,DfxpManifestCaptionsPlugin:()=>eo.default,DomClass:()=>O.FZ,DualVideoDynamicLayoutPlugin:()=>Qr.default,DualVideoLayoutPlugin:()=>Xr.default,EventLogPlugin:()=>cn.ZP,Events:()=>ut.ZP,HlsSupport:()=>Zr.HlsSupport,HlsVideo:()=>Zr.HlsVideo,HlsVideoFormatPlugin:()=>Zr.default,ImageVideo:()=>Hr.ImageVideo,ImageVideoFormatPlugin:()=>Hr.default,KeyCodes:()=>ln.mW,KeyShortcutPlugin:()=>ln.ZP,LOG_LEVEL:()=>Cn,Loader:()=>Z,Log:()=>Pn,MenuButtonPlugin:()=>Dr.Z,Mp4Video:()=>zr.Mp4Video,Mp4VideoFormatPlugin:()=>zr.default,Paella:()=>Or,PlayPauseButtonPlugin:()=>Kr.default,PlayerResource:()=>it.Z,PlayerState:()=>Kn.Z,PlayerStateNames:()=>kr,Plugin:()=>Rr.Z,PluginModule:()=>Ur.Z,PopUp:()=>je.Z,PopUpButtonPlugin:()=>jr.Z,ProgressIndicatorPlugin:()=>Br.Z,SingleVideoLayoutPlugin:()=>qr.default,TripleVideoLayoutPlugin:()=>Jr.default,UserInterfacePlugin:()=>Ir.Z,Video:()=>at.nk,VideoCanvas:()=>no.VideoCanvas,VideoCanvasPlugin:()=>no.default,VideoContainerMessagePosition:()=>St.S,VideoLayout:()=>ot.ZP,VideoPlugin:()=>at.ZP,VideoQualityItem:()=>Nr.Z,VttManifestCaptionsPlugin:()=>to.default,WebVTTParser:()=>Gr.Z,addDictionary:()=>Ct.BF,bindEvent:()=>ut.GT,checkManifestIntegrity:()=>wt,createElement:()=>O.az,createElementWithHtmlText:()=>O.jS,defaultAddDictionaryFunction:()=>Ct.Xx,defaultGetCookieConsentCallback:()=>pn,defaultGetCookieDescriptionCallback:()=>dn,defaultGetDefaultLanguageFunction:()=>Ct.eJ,defaultGetDictionariesFunction:()=>Ct.m6,defaultGetLanguageFunction:()=>Ct.cN,defaultGetManifestFileUrlFunction:()=>_,defaultGetManifestUrlFunction:()=>k,defaultGetVideoIdFunction:()=>C,defaultHlsConfig:()=>Zr.defaultHlsConfig,defaultLoadConfigFunction:()=>A,defaultLoadVideoManifestFunction:()=>P,defaultSetLanguageFunction:()=>Ct.D$,defaultTranslateFunction:()=>Ct.Pb,getCurrentTabIndex:()=>xt.n,getDefaultLanguage:()=>Ct.Mb,getDictionaries:()=>Ct.rM,getHlsSupport:()=>Zr.getHlsSupport,getLanguage:()=>Ct.G3,getNextTabIndex:()=>xt.nu,getPluginsOfType:()=>rt.FN,getShortcuts:()=>ln.gg,importPlugins:()=>rt.gQ,loadPluginsOfType:()=>rt.FP,log:()=>Sn,parseDFXP:()=>Vr.l,parseWebVTT:()=>Gr.n,setLanguage:()=>Ct.m0,translate:()=>Ct.Iu,triggerEvent:()=>ut.qe,triggerIfReady:()=>ut.Ss,utils:()=>v});var t=n(3379),e=n.n(t),o=n(7795),i=n.n(o),a=n(569),s=n.n(a),u=n(3565),c=n.n(u),l=n(9216),f=n.n(l),h=n(4589),p=n.n(h),d=n(7945),y={};y.styleTagTransform=p(),y.setAttributes=c(),y.insert=s().bind(null,"head"),y.domAPI=i(),y.insertStyleElement=f(),e()(d.Z,y),d.Z&&d.Z.locals&&d.Z.locals,n(5666);var v=n(1401);function g(t){return g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},g(t)}function m(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */m=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function c(t,e,n,o){var i=e&&e.prototype instanceof h?e:h,a=Object.create(i.prototype),s=new _(o||[]);return r(a,"_invoke",{value:C(t,n,s)}),a}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var f={};function h(){}function p(){}function d(){}var y={};u(y,i,(function(){return this}));var v=Object.getPrototypeOf,b=v&&v(v(S([])));b&&b!==e&&n.call(b,i)&&(y=b);var w=d.prototype=h.prototype=Object.create(y);function A(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function x(t,e){function o(r,i,a,s){var u=l(t[r],t,i);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"==g(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,s)}),(function(t){o("throw",t,a,s)})):e.resolve(f).then((function(t){c.value=t,a(c)}),(function(t){return o("throw",t,a,s)}))}s(u.arg)}var i;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){o(t,n,e,r)}))}return i=i?i.then(r,r):r()}})}function C(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=E(a,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=l(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function E(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=l(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function _(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function S(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return p.prototype=d,r(w,"constructor",{value:d,configurable:!0}),r(d,"constructor",{value:p,configurable:!0}),p.displayName=u(d,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,u(t,s,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},A(x.prototype),u(x.prototype,a,(function(){return this})),t.AsyncIterator=x,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new x(c(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},A(w),u(w,s,"Generator"),u(w,i,(function(){return this})),u(w,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=S,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),L(n),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;L(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:S(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},t}function b(t,e,n,r,o,i,a){try{var s=t[i](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,o)}function w(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){b(i,r,o,a,s,"next",t)}function s(t){b(i,r,o,a,s,"throw",t)}a(void 0)}))}}function A(t,e){return x.apply(this,arguments)}function x(){return(x=w(m().mark((function t(e,n){var r;return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.log.debug("Using default configuration loading function."),t.next=3,fetch(e);case 3:return r=t.sent,t.abrupt("return",r.json());case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function C(t,e){return E.apply(this,arguments)}function E(){return(E=w(m().mark((function t(e,n){return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.log.debug("Using default getVideoId function"),t.abrupt("return",(0,v.getHashParameter)("id")||(0,v.getUrlParameter)("id")||e.fallbackId);case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function k(t,e,n,r){return L.apply(this,arguments)}function L(){return L=w(m().mark((function t(e,n,r,o){return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o.log.debug("Using default getManifestUrl function"),t.abrupt("return",(0,v.joinPath)([e,n]));case 2:case"end":return t.stop()}}),t)}))),L.apply(this,arguments)}function _(t,e,n,r){return S.apply(this,arguments)}function S(){return(S=w(m().mark((function t(e,n,r,o){return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o.log.debug("Using default getManifestFileUrl function"),t.abrupt("return",(0,v.joinPath)([e,n]));case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function P(t,e,n){return T.apply(this,arguments)}function T(){return(T=w(m().mark((function t(e,n,r){var o;return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.log.debug("Using default loadVideoManifest function"),t.next=3,fetch(e);case 3:if(!(o=t.sent).ok){t.next=10;break}return t.next=7,o.json();case 7:return t.abrupt("return",t.sent);case 10:throw new Error(r.translate("Error loading video manifest: $1 $2",[o.status,o.statusText]));case 11:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var O=n(916),R=n(9598),I=n.n(R),j=n(7649),D={};function B(t){return B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},B(t)}function N(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */N=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function c(t,e,n,o){var i=e&&e.prototype instanceof h?e:h,a=Object.create(i.prototype),s=new k(o||[]);return r(a,"_invoke",{value:A(t,n,s)}),a}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var f={};function h(){}function p(){}function d(){}var y={};u(y,i,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(L([])));g&&g!==e&&n.call(g,i)&&(y=g);var m=d.prototype=h.prototype=Object.create(y);function b(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(r,i,a,s){var u=l(t[r],t,i);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"==B(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,s)}),(function(t){o("throw",t,a,s)})):e.resolve(f).then((function(t){c.value=t,a(c)}),(function(t){return o("throw",t,a,s)}))}s(u.arg)}var i;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){o(t,n,e,r)}))}return i=i?i.then(r,r):r()}})}function A(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=x(a,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=l(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function x(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,x(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=l(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function L(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:_}}function _(){return{value:void 0,done:!0}}return p.prototype=d,r(m,"constructor",{value:d,configurable:!0}),r(d,"constructor",{value:p,configurable:!0}),p.displayName=u(d,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,u(t,s,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},b(w.prototype),u(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new w(c(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(m),u(m,s,"Generator"),u(m,i,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=L,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),E(n),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;E(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:L(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},t}function M(t,e,n,r,o,i,a){try{var s=t[i](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,o)}function F(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==B(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==B(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===B(i)?i:String(i)),r)}var o,i}function U(t,e){return U=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},U(t,e)}function G(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=$(t);if(e){var o=$(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return V(this,n)}}function V(t,e){if(e&&("object"===B(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function $(t){return $=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},$(t)}D.styleTagTransform=p(),D.setAttributes=c(),D.insert=s().bind(null,"head"),D.domAPI=i(),D.insertStyleElement=f(),e()(j.Z,D),j.Z&&j.Z.locals&&j.Z.locals;var Z=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&U(t,e)}(s,t);var e,n,r,o,i,a=G(s);function s(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(e=a.call(this,t,{parent:t.containerElement})).element.className="loader-container",e}return e=s,n=[{key:"create",value:(o=N().mark((function t(){return N().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(0,O.jS)("<i>".concat(I(),"</i>"),this.element);case 1:case"end":return t.stop()}}),t,this)})),i=function(){var t=this,e=arguments;return new Promise((function(n,r){var i=o.apply(t,e);function a(t){M(i,n,r,a,s,"next",t)}function s(t){M(i,n,r,a,s,"throw",t)}a(void 0)}))},function(){return i.apply(this,arguments)})},{key:"debug",get:function(){return!1}}],n&&F(e.prototype,n),r&&F(e,r),Object.defineProperty(e,"prototype",{writable:!1}),s}(O.FZ),z=n(3280),H=n.n(z),Y=n(3189),K={};function W(t){return W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},W(t)}function q(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==W(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==W(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===W(i)?i:String(i)),r)}var o,i}function X(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Q(t,e){return Q=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Q(t,e)}function J(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=et(t);if(e){var o=et(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return tt(this,n)}}function tt(t,e){if(e&&("object"===W(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function et(t){return et=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},et(t)}K.styleTagTransform=p(),K.setAttributes=c(),K.insert=s().bind(null,"head"),K.domAPI=i(),K.insertStyleElement=f(),e()(Y.Z,K),Y.Z&&Y.Z.locals&&Y.Z.locals;var nt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Q(t,e)}(i,t);var e,n,r,o=J(i);function i(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return X(this,i),(e=o.call(this,t,{parent:t.containerElement})).element.className="error-container",(0,O.jS)("\n            <div>\n                <i>".concat(H(),"</i>\n                <p>").concat(n,"</p>\n            </div>"),e.element),e}return e=i,n&&q(e.prototype,n),r&&q(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(O.FZ),rt=n(6038),ot=n(3063),it=n(2624),at=n(646),st=n(4382),ut=n(980);function ct(t){return ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ct(t)}function lt(t){return function(t){if(Array.isArray(t))return ft(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return ft(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ft(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ft(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ht(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ht=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function c(t,e,n,o){var i=e&&e.prototype instanceof h?e:h,a=Object.create(i.prototype),s=new k(o||[]);return r(a,"_invoke",{value:A(t,n,s)}),a}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var f={};function h(){}function p(){}function d(){}var y={};u(y,i,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(L([])));g&&g!==e&&n.call(g,i)&&(y=g);var m=d.prototype=h.prototype=Object.create(y);function b(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(r,i,a,s){var u=l(t[r],t,i);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"==ct(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,s)}),(function(t){o("throw",t,a,s)})):e.resolve(f).then((function(t){c.value=t,a(c)}),(function(t){return o("throw",t,a,s)}))}s(u.arg)}var i;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){o(t,n,e,r)}))}return i=i?i.then(r,r):r()}})}function A(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=x(a,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=l(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function x(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,x(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=l(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function L(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:_}}function _(){return{value:void 0,done:!0}}return p.prototype=d,r(m,"constructor",{value:d,configurable:!0}),r(d,"constructor",{value:p,configurable:!0}),p.displayName=u(d,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,u(t,s,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},b(w.prototype),u(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new w(c(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(m),u(m,s,"Generator"),u(m,i,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=L,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),E(n),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;E(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:L(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},t}function pt(t,e,n,r,o,i,a){try{var s=t[i](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,o)}function dt(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){pt(i,r,o,a,s,"next",t)}function s(t){pt(i,r,o,a,s,"throw",t)}a(void 0)}))}}function yt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==ct(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==ct(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===ct(i)?i:String(i)),r)}var o,i}function vt(t,e){return vt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},vt(t,e)}function gt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=bt(t);if(e){var o=bt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return mt(this,n)}}function mt(t,e){if(e&&("object"===ct(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function bt(t){return bt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},bt(t)}function wt(t){var e,n=function(t,e){if(!t)throw new Error("Invalid video manifest: ".concat(e))};n(t.streams,"missing 'streams' object."),n(t.streams.length>0,"the 'streams' array is empty."),n(null===(e=t.metadata)||void 0===e?void 0:e.preview,"the 'metadata.preview' field is required.")}var At=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vt(t,e)}(_,t);var e,n,r,o,i,a,s,u,c,l,f,h,p,d,y,v,g,m,b,w,A,x,C,E,k,L=gt(_);function _(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,_),(n=L.call(this,t,e))._videoContainer=e,n._streamData=null,n._streams=null,n._players=[],n._mainAudioPlayer=null,n._streamSyncTimer=null,n._trimming={enabled:!1,start:100,end:200},n}return e=_,n=[{key:"load",value:function(){var t=dt(ht().mark((function t(e){var n,r,o,i,a=this;return ht().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this._streamData=e,this._streams={},n=this.player.config.defaultAudioStream||"presenter",1===this._streamData.length&&(n=this._streamData[0].content),e.some((function(t){if("mainAudio"===t.role)return n=t.content,!0})),this.player.log.debug("Finding compatible video plugins"),t.next=8,(0,st.yJ)(this.player);case 8:this._streamData.forEach((function(t){var e=(0,st.in)(a.player,t);if(!e)throw Error("Canvas plugin not found: ".concat(t.canvas));var r=t.content===n,o=(0,at.ti)(a.player,t);if(!o)throw Error("Incompatible stream type: ".concat(t.content));a._streams[t.content]={stream:t,isMainAudio:r,videoPlugin:o,canvasPlugin:e}})),r=null,t.t0=ht().keys(this._streams);case 11:if((t.t1=t.t0()).done){t.next=29;break}return o=t.t1.value,i=this._streams[o],t.next=16,i.canvasPlugin.getCanvasInstance(this._videoContainer);case 16:return i.canvas=t.sent,t.next=19,i.videoPlugin.getVideoInstance(i.canvas.element,i.isMainAudio);case 19:return i.player=t.sent,n===o?(this._mainAudioPlayer=i.player,i.player.initVolume(1)):i.player.initVolume(0),t.next=23,i.player.load(i.stream,this);case 23:return t.next=25,i.canvas.loadCanvas(i.player);case 25:i.player.onVideoEnded((function(){null===r&&((0,ut.Ss)(a.player,ut.ZP.ENDED),r=setTimeout((function(){r=null}),2e3))})),this._players.push(i.player),t.next=11;break;case 29:if(null!==this.mainAudioPlayer){t.next=32;break}throw this.player.log.error("The video stream containing the audio track could not be identified. The `role` attribute must be specified in the main video stream, or the `defaultAudioStream` attribute must be set correctly in the player configuration."),new Error("The video stream containing the audio track could not be identified.");case 32:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"unload",value:(k=dt(ht().mark((function t(){return ht().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.stopStreamSync(),t.next=3,(0,st.Ke)(this.player);case 3:case"end":return t.stop()}}),t,this)}))),function(){return k.apply(this,arguments)})},{key:"players",get:function(){return this._players}},{key:"streamData",get:function(){return this._streamData}},{key:"streams",get:function(){return this._streams}},{key:"mainAudioPlayer",get:function(){return this._mainAudioPlayer}},{key:"isTrimEnabled",get:function(){var t,e,n;return(null===(t=this._trimming)||void 0===t?void 0:t.enabled)&&(null===(e=this._trimming)||void 0===e?void 0:e.end)>(null===(n=this._trimming)||void 0===n?void 0:n.start)}},{key:"trimStart",get:function(){var t;return null===(t=this._trimming)||void 0===t?void 0:t.start}},{key:"trimEnd",get:function(){var t;return null===(t=this._trimming)||void 0===t?void 0:t.end}},{key:"setTrimming",value:(E=dt(ht().mark((function t(e){var n,r,o,i;return ht().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.enabled,r=e.start,o=e.end,!(r>=o)){t.next=3;break}throw Error("Error setting trimming: start time (".concat(r,") must be lower than end time ").concat(o));case 3:return this._trimming={enabled:n,start:r,end:o},t.next=6,this.currentTime();case 6:i=t.sent,(0,ut.Ss)(this.player,ut.ZP.TIMEUPDATE,{currentTime:n?r+i:i});case 8:case"end":return t.stop()}}),t,this)}))),function(t){return E.apply(this,arguments)})},{key:"startStreamSync",value:function(){var t=this;this._timeSync=!0;var e=function(){var n=dt(ht().mark((function n(){var r,o,i,a,s;return ht().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t._players.length){n.next=3;break}return t.player.log.warn("Player not yet loaded. Waiting for video sync."),n.abrupt("return");case 3:if(r=t.mainAudioPlayer.currentTimeSync,t.players.length>1)for(o=0;o<t.players.length;++o)(i=t.players[o])!==t.mainAudioPlayer&&(a=i.currentTimeSync,Math.abs(r-a)>.2&&(t.player.log.debug("Video synchronization triggered"),i.setCurrentTime(r)));if(!t.isTrimEnabled){n.next=28;break}if(s=r-t.trimStart,!(t.trimEnd<=r)){n.next=19;break}return n.next=11,t.executeAction("pause");case 11:return n.next=13,t.setCurrentTime(0);case 13:return t.stopStreamSync(),r=0,(0,ut.Ss)(t.player,ut.ZP.ENDED,{}),n.abrupt("return");case 19:if(!(r<t.trimStart)){n.next=24;break}return n.next=22,t.setCurrentTime(0);case 22:r=t.trimStart,s=0;case 24:(0,ut.Ss)(t.player,ut.ZP.TIMEUPDATE,{currentTime:s}),t._timeupdateTimer=setTimeout((function(){t._timeSync&&e()}),250),n.next=29;break;case 28:t._timeSync&&((0,ut.Ss)(t.player,ut.ZP.TIMEUPDATE,{currentTime:r}),t._timeupdateTimer=setTimeout((function(){e()}),250));case 29:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();e()}},{key:"stopStreamSync",value:function(){this._timeSync=!1,this._timeupdateTimer&&clearTimeout(this._timeupdateTimer)}},{key:"executeAction",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Array.isArray(n)||(n=[n]),new Promise((function(r){var o=[],i=[];e.players.forEach((function(e){i.push(new Promise((function(r){e[t].apply(e,lt(n)).then((function(t){o.push(t),r()}))})))})),Promise.allSettled(i).then((function(){return r(o)}))}))}},{key:"isLiveStream",get:function(){return this._streamData.some((function(t){return-1!==Array.from(Object.keys(t.sources)).indexOf("hlsLive")}))}},{key:"play",value:(C=dt(ht().mark((function t(){var e;return ht().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.startStreamSync(),t.next=3,this.executeAction("play");case 3:return e=t.sent,t.abrupt("return",e);case 5:case"end":return t.stop()}}),t,this)}))),function(){return C.apply(this,arguments)})},{key:"pause",value:(x=dt(ht().mark((function t(){var e;return ht().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.stopStreamSync(),t.next=3,this.executeAction("pause");case 3:return e=t.sent,t.abrupt("return",e);case 5:case"end":return t.stop()}}),t,this)}))),function(){return x.apply(this,arguments)})},{key:"stop",value:(A=dt(ht().mark((function t(){return ht().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.stopStreamSync(),t.next=3,this.executeAction("pause");case 3:return t.next=5,this.executeAction("setCurrentTime",0);case 5:case"end":return t.stop()}}),t,this)}))),function(){return A.apply(this,arguments)})},{key:"paused",value:(w=dt(ht().mark((function t(){return ht().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.executeAction("paused");case 2:return t.abrupt("return",t.sent[0]);case 3:case"end":return t.stop()}}),t,this)}))),function(){return w.apply(this,arguments)})},{key:"setCurrentTime",value:(b=dt(ht().mark((function t(e){var n,r,o,i,a,s,u;return ht().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.executeAction("currentTime");case 2:if(n=t.sent[0],r=null,!this.isTrimEnabled){t.next=16;break}return e=(e+=this.trimStart)>=this.trimEnd?this.trimEnd:e,t.next=9,this.executeAction("setCurrentTime",[e]);case 9:return o=t.sent[0],t.next=12,this.executeAction("currentTime");case 12:i=t.sent[0],r={result:o,prevTime:n-this.trimStart,newTime:i-this.trimStart},t.next=23;break;case 16:return t.next=18,this.executeAction("setCurrentTime",[e]);case 18:return a=t.sent[0],t.next=21,this.executeAction("currentTime");case 21:s=t.sent[0],r={result:a,prevTime:n,newTime:s};case 23:return t.next=25,this.currentTime();case 25:return u=t.sent,(0,ut.Ss)(this.player,ut.ZP.TIMEUPDATE,{currentTime:u}),t.abrupt("return",r);case 28:case"end":return t.stop()}}),t,this)}))),function(t){return b.apply(this,arguments)})},{key:"currentTime",value:(m=dt(ht().mark((function t(){var e;return ht().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.mainAudioPlayer.currentTime();case 2:if(e=t.sent,!this.isTrimEnabled){t.next=7;break}return t.abrupt("return",e-this.trimStart);case 7:return t.abrupt("return",e);case 8:case"end":return t.stop()}}),t,this)}))),function(){return m.apply(this,arguments)})},{key:"currentTimeIgnoringTrimming",value:(g=dt(ht().mark((function t(){var e;return ht().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.mainAudioPlayer.currentTime();case 2:return e=t.sent,t.abrupt("return",e);case 4:case"end":return t.stop()}}),t,this)}))),function(){return g.apply(this,arguments)})},{key:"volume",value:(v=dt(ht().mark((function t(){return ht().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.mainAudioPlayer){t.next=6;break}return t.next=3,this.mainAudioPlayer.volume();case 3:return t.abrupt("return",t.sent);case 6:return t.next=8,this.executeAction("volume");case 8:return t.abrupt("return",t.sent[0]);case 9:case"end":return t.stop()}}),t,this)}))),function(){return v.apply(this,arguments)})},{key:"setVolume",value:(y=dt(ht().mark((function t(e){return ht().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.mainAudioPlayer){t.next=6;break}return t.next=3,this.mainAudioPlayer.setVolume(e);case 3:return t.abrupt("return",t.sent);case 6:return t.next=8,this.executeAction("setVolume",[e]);case 8:return t.abrupt("return",t.sent[0]);case 9:case"end":return t.stop()}}),t,this)}))),function(t){return y.apply(this,arguments)})},{key:"duration",value:(d=dt(ht().mark((function t(){return ht().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.isTrimEnabled){t.next=4;break}return t.abrupt("return",this.trimEnd-this.trimStart);case 4:return t.next=6,this.executeAction("duration");case 6:return t.abrupt("return",t.sent[0]);case 7:case"end":return t.stop()}}),t,this)}))),function(){return d.apply(this,arguments)})},{key:"durationIgnoringTrimming",value:(p=dt(ht().mark((function t(){return ht().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.executeAction("duration");case 2:return t.abrupt("return",t.sent[0]);case 3:case"end":return t.stop()}}),t,this)}))),function(){return p.apply(this,arguments)})},{key:"playbackRate",value:(h=dt(ht().mark((function t(){return ht().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.executeAction("playbackRate");case 2:return t.abrupt("return",t.sent[0]);case 3:case"end":return t.stop()}}),t,this)}))),function(){return h.apply(this,arguments)})},{key:"setPlaybackRate",value:(f=dt(ht().mark((function t(e){return ht().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.executeAction("setPlaybackRate",[e]);case 2:return t.abrupt("return",t.sent[0]);case 3:case"end":return t.stop()}}),t,this)}))),function(t){return f.apply(this,arguments)})},{key:"getQualityReferencePlayer",value:(l=dt(ht().mark((function t(){var e,n,r,o,i;return ht().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=null,n=[],!(Object.keys(this.streams).length>0)){t.next=16;break}t.t0=ht().keys(this.streams);case 4:if((t.t1=t.t0()).done){t.next=16;break}return r=t.t1.value,o=this.streams[r],t.next=9,o.player.getQualities();case 9:if(t.t2=t.sent,t.t2){t.next=12;break}t.t2=[];case 12:i=t.t2,!e&&i.length>n.length&&(n=i,e=o.player),t.next=4;break;case 16:return t.abrupt("return",e||this.mainAudioPlayer);case 17:case"end":return t.stop()}}),t,this)}))),function(){return l.apply(this,arguments)})},{key:"getCurrentQuality",value:(c=dt(ht().mark((function t(){return ht().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getQualityReferencePlayer();case 2:return t.abrupt("return",t.sent.currentQuality);case 3:case"end":return t.stop()}}),t,this)}))),function(){return c.apply(this,arguments)})},{key:"getQualities",value:(u=dt(ht().mark((function t(){var e;return ht().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getQualityReferencePlayer();case 2:return e=t.sent,t.next=5,e.getQualities();case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t,this)}))),function(){return u.apply(this,arguments)})},{key:"setQuality",value:(s=dt(ht().mark((function t(e){var n,r,o,i,a,s,u,c,l,f;return ht().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getQualityReferencePlayer();case 2:return n=t.sent,t.next=5,n.getQualities();case 5:if(r=t.sent,o=r.length,i=-1,r.some((function(t,n){return e.index===t.index&&(i=n),-1!==i})),!(i>=0)){t.next=29;break}a=i/o,t.t0=ht().keys(this.streams);case 12:if((t.t1=t.t0()).done){t.next=29;break}return s=t.t1.value,u=this.streams[s],t.next=17,u.player.getQualities();case 17:if(t.t2=t.sent,t.t2){t.next=20;break}t.t2=[];case 20:if(c=t.t2,this.player.log.debug(c),!(c.length>1)){t.next=27;break}return l=Math.round(c.length*a),f=c[l],t.next=27,u.player.setQuality(f);case 27:t.next=12;break;case 29:case"end":return t.stop()}}),t,this)}))),function(t){return s.apply(this,arguments)})},{key:"supportsMultiaudio",value:(a=dt(ht().mark((function t(){return ht().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.mainAudioPlayer.supportsMultiaudio());case 1:case"end":return t.stop()}}),t,this)}))),function(){return a.apply(this,arguments)})},{key:"getAudioTracks",value:(i=dt(ht().mark((function t(){return ht().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.mainAudioPlayer.getAudioTracks());case 1:case"end":return t.stop()}}),t,this)}))),function(){return i.apply(this,arguments)})},{key:"setCurrentAudioTrack",value:(o=dt(ht().mark((function t(e){return ht().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.mainAudioPlayer.setCurrentAudioTrack(e));case 1:case"end":return t.stop()}}),t,this)}))),function(t){return o.apply(this,arguments)})},{key:"currentAudioTrack",get:function(){return this.mainAudioPlayer.currentAudioTrack}}],n&&yt(e.prototype,n),r&&yt(e,r),Object.defineProperty(e,"prototype",{writable:!1}),_}(it.Z),xt=n(1768),Ct=n(629),Et=n(7674),kt={};kt.styleTagTransform=p(),kt.setAttributes=c(),kt.insert=s().bind(null,"head"),kt.domAPI=i(),kt.insertStyleElement=f(),e()(Et.Z,kt),Et.Z&&Et.Z.locals&&Et.Z.locals;var Lt=n(2323),_t={};_t.styleTagTransform=p(),_t.setAttributes=c(),_t.insert=s().bind(null,"head"),_t.domAPI=i(),_t.insertStyleElement=f(),e()(Lt.Z,_t),Lt.Z&&Lt.Z.locals&&Lt.Z.locals;var St=n(8985);function Pt(t){return Pt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pt(t)}function Tt(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return Ot(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ot(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function Ot(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Rt(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Rt=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function c(t,e,n,o){var i=e&&e.prototype instanceof h?e:h,a=Object.create(i.prototype),s=new k(o||[]);return r(a,"_invoke",{value:A(t,n,s)}),a}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var f={};function h(){}function p(){}function d(){}var y={};u(y,i,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(L([])));g&&g!==e&&n.call(g,i)&&(y=g);var m=d.prototype=h.prototype=Object.create(y);function b(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(r,i,a,s){var u=l(t[r],t,i);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"==Pt(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,s)}),(function(t){o("throw",t,a,s)})):e.resolve(f).then((function(t){c.value=t,a(c)}),(function(t){return o("throw",t,a,s)}))}s(u.arg)}var i;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){o(t,n,e,r)}))}return i=i?i.then(r,r):r()}})}function A(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=x(a,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=l(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function x(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,x(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=l(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function L(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:_}}function _(){return{value:void 0,done:!0}}return p.prototype=d,r(m,"constructor",{value:d,configurable:!0}),r(d,"constructor",{value:p,configurable:!0}),p.displayName=u(d,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,u(t,s,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},b(w.prototype),u(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new w(c(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(m),u(m,s,"Generator"),u(m,i,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=L,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),E(n),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;E(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:L(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},t}function It(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==Pt(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Pt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===Pt(i)?i:String(i)),r)}var o,i}function jt(t,e){return jt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},jt(t,e)}function Dt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Nt(t);if(e){var o=Nt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Bt(this,n)}}function Bt(t,e){if(e&&("object"===Pt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Nt(t){return Nt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Nt(t)}function Mt(t,e,n,r,o,i,a){try{var s=t[i](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,o)}function Ft(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){Mt(i,r,o,a,s,"next",t)}function s(t){Mt(i,r,o,a,s,"throw",t)}a(void 0)}))}}function Ut(t,e){return Array.isArray[e]||(e=[e]),(0,at.Wl)(t,e).getManifestData(e)}function Gt(t){return Vt.apply(this,arguments)}function Vt(){return(Vt=Ft(Rt().mark((function t(e){return Rt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",{w:1280,h:720});case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function $t(t){return Zt.apply(this,arguments)}function Zt(){return(Zt=Ft(Rt().mark((function t(e){var n,r,o=this;return Rt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=Rt().mark((function t(n){var r,i,a;return Rt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=null!=(null==e||null===(r=e.videos)||void 0===r?void 0:r.find((function(t){return t.content===n}))),a=o.streamProvider.streams[n],!i||a.player.isEnabled){t.next=7;break}return t.next=5,a.player.enable();case 5:t.next=10;break;case 7:if(i||!a.player.isEnabled){t.next=10;break}return t.next=10,a.player.disable();case 10:case"end":return t.stop()}}),t)})),t.t0=Rt().keys(this.streamProvider.streams);case 2:if((t.t1=t.t0()).done){t.next=7;break}return r=t.t1.value,t.delegateYield(n(r),"t2",5);case 5:t.next=2;break;case 7:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function zt(){for(var t in this.streamProvider.streams){var e=this.streamProvider.streams[t];e.canvas.element.style.display="none",this._hiddenVideos.appendChild(e.canvas.element)}}function Ht(){return Yt.apply(this,arguments)}function Yt(){return Yt=Ft(Rt().mark((function t(){var e,n,r,o,i,a,s,u,c,l,f,h,p,d,y,v=this;return Rt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=(0,ot.yl)(this.player,this.streamProvider.streamData,this._layoutId,this._mainLayoutContent),t.next=3,$t.apply(this,[r]);case 3:return zt.apply(this),t.next=6,Gt(this.player);case 6:if(o=t.sent,i=this.elementSize,a=100/o.w,s=100/o.h,u=i.w/i.h,c=o.w/o.h,l=u>c?{w:i.h*c,h:i.h}:{w:i.w,h:i.w/c},this.baseVideoRect.style.width=l.w+"px",this.baseVideoRect.style.height=l.h+"px",this.baseVideoRect.classList.remove("dynamic"),null==r||null===(e=r.videos)||void 0===e||!e.length){t.next=35;break}f=[],h=Tt(r.videos),t.prev=19,d=Rt().mark((function t(){var e,n,o,i,u,c,l,h,d,y,g,m;return Rt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return u=p.value,(c=v.streamProvider.streams[u.content]).stream,l=c.player,h=c.canvas,t.next=5,l.getDimensions();case 5:return d=t.sent,y=d.w/d.h,g=Number.MAX_VALUE,m=null,h.buttonsArea.innerHTML="",t.t0=f,t.next=13,(0,st.RM)(v.player,r,h,u,u.content);case 13:t.t1=t.sent,t.t0.push.call(t.t0,t.t1),u.rect.forEach((function(t){var e=/^(\d+.?\d*)\/(\d+.?\d*)$/.exec(t.aspectRatio),n=e?Number(e[1])/Number(e[2]):1,r=Math.abs(y-n);r<g&&(m=t,g=r)})),h.element.style.display="block",h.element.style.position="absolute",h.element.style.left="".concat((null===(e=m)||void 0===e?void 0:e.left)*a,"%"),h.element.style.top="".concat((null===(n=m)||void 0===n?void 0:n.top)*s,"%"),h.element.style.width="".concat((null===(o=m)||void 0===o?void 0:o.width)*a,"%"),h.element.style.height="".concat((null===(i=m)||void 0===i?void 0:i.height)*s,"%"),h.element.style.zIndex=u.layer,v.baseVideoRect.appendChild(h.element);case 24:case"end":return t.stop()}}),t)})),h.s();case 22:if((p=h.n()).done){t.next=26;break}return t.delegateYield(d(),"t0",24);case 24:t.next=22;break;case 26:t.next=31;break;case 28:t.prev=28,t.t1=t.catch(19),h.e(t.t1);case 31:return t.prev=31,h.f(),t.finish(31);case 34:setTimeout((function(){(0,st.Hl)(v.player,r,f.flat())}),100);case 35:return y=this.baseVideoRect.getElementsByClassName("video-layout-button"),Array.from(y).forEach((function(t){return v.baseVideoRect.removeChild(t)})),null==r||null===(n=r.buttons)||void 0===n||n.forEach((function(t){var e=(0,O.az)({tag:"button",attributes:{class:"video-layout-button","aria-label":(0,Ct.Iu)(t.ariaLabel),title:(0,Ct.Iu)(t.title),style:"\n                    left: ".concat(t.rect.left*a,"%;\n                    top: ").concat(t.rect.top*s,"%;\n                    width: ").concat(t.rect.width*a,"%;\n                    height: ").concat(t.rect.height*s,"%;\n                    z-index: ").concat(t.layer,";\n                ")},parent:v.baseVideoRect,children:t.icon});e.layout=r,e.buttonAction=t.onClick,e.addEventListener("click",function(){var t=Ft(Rt().mark((function t(e){return Rt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(0,ut.qe)(v.player,ut.ZP.BUTTON_PRESS,{plugin:r.plugin,layoutStructure:r}),t.next=3,e.target.buttonAction.apply(e.target.layout);case 3:e.stopPropagation();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),v._layoutButtons.push(e)})),t.abrupt("return",!0);case 39:case"end":return t.stop()}}),t,this,[[19,28,31,34]])}))),Yt.apply(this,arguments)}function Kt(){return Wt.apply(this,arguments)}function Wt(){return(Wt=Ft(Rt().mark((function t(){var e,n,r,o,i,a,s,u,c,l,f,h,p,d,y,v,g,m,b,w,A,x,C,E,k,L,_,S,P,T,R,I,j,D,B,N,M=this;return Rt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=(0,ot.yl)(this.player,this.streamProvider.streamData,this._layoutId,this._mainLayoutContent),t.next=3,$t.apply(this,[r]);case 3:if(zt.apply(this),this.baseVideoRect.style.width="",this.baseVideoRect.style.height="",this.baseVideoRect.style.display="flex",this.baseVideoRect.classList.add("dynamic"),this.baseVideoRect.innerHTML="",o=this.element.clientWidth,i=this.element.clientHeight,a=o>i,this.baseVideoRect.classList.remove("align-center"),this.baseVideoRect.classList.remove("align-top"),this.baseVideoRect.classList.remove("align-bottom"),this.baseVideoRect.classList.remove("align-left"),this.baseVideoRect.classList.remove("align-right"),a?(c=(null===(s=this.player.config.videoContainer)||void 0===s||null===(u=s.dynamicLayout)||void 0===u?void 0:u.landscapeVerticalAlignment)||"align-center",this.baseVideoRect.classList.remove("portrait"),this.baseVideoRect.classList.add("landscape"),this.baseVideoRect.classList.add(c)):(h=(null===(l=this.player.config.videoContainer)||void 0===l||null===(f=l.dynamicLayout)||void 0===f?void 0:f.portraitHorizontalAlignment)||"align-center",this.baseVideoRect.classList.add("portrait"),this.baseVideoRect.classList.remove("landscape"),this.baseVideoRect.classList.add(h)),p=this.baseVideoRect.clientWidth,d=this.element.clientHeight,1!==(null==r||null===(e=r.videos)||void 0===e?void 0:e.length)){t.next=44;break}return y=[],v=[],g=r.videos[0],(m=this.streamProvider.streams[g.content]).player,(b=m.canvas).buttonsArea.innerHTML="",t.t0=v,t.next=30,(0,st.RM)(this.player,r,b,g,g.content);case 30:t.t1=t.sent,t.t0.push.call(t.t0,t.t1),b.element.style={},b.element.style.display="block",b.element.style.width="100%",b.element.style.height="100%",b.element.style.overflow="hidden",b.element.style.position="relative",y.push(b.element),b.element.sortIndex=0,y.forEach((function(t){return M.baseVideoRect.appendChild(t)})),setTimeout((function(){(0,st.Hl)(M.player,r,v.flat())}),100),t.next=92;break;case 44:if(null==r||null===(n=r.videos)||void 0===n||!n.length){t.next=92;break}w=0,A=[],x=[],C=Tt(r.videos),t.prev=49,C.s();case 51:if((E=C.n()).done){t.next=82;break}return k=E.value,L=this.streamProvider.streams[k.content],_=L.player,S=L.canvas,t.next=57,_.getDimensions();case 57:return P=t.sent,T=P.w/P.h,R=p,I=d,j=(a?R:I)*k.size/100,D=Math.round(a?j:j*T),B=Math.round(a?j/T:j),D>R&&(D=R,B=Math.round(D/T)),B>I&&(B=I,D=Math.round(B*T)),S.buttonsArea.innerHTML="",t.t2=x,t.next=70,(0,st.RM)(this.player,r,S,k,k.content);case 70:t.t3=t.sent,t.t2.push.call(t.t2,t.t3),S.element.style={},S.element.style.display="block",S.element.style.width="".concat(D,"px"),S.element.style.height="".concat(B,"px"),S.element.style.overflow="hidden",S.element.style.position="relative",S.element.sortIndex=w++,A.push(S.element);case 80:t.next=51;break;case 82:t.next=87;break;case 84:t.prev=84,t.t4=t.catch(49),C.e(t.t4);case 87:return t.prev=87,C.f(),t.finish(87);case 90:a?(N=(0,O.jS)('<div class="landscape-container"></div>',this.baseVideoRect),A.forEach((function(t){return N.appendChild(t)}))):A.forEach((function(t){return M.baseVideoRect.appendChild(t)})),setTimeout((function(){(0,st.Hl)(M.player,r,x.flat())}),100);case 92:return t.abrupt("return",!0);case 93:case"end":return t.stop()}}),t,this,[[49,84,87,90]])})))).apply(this,arguments)}var qt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&jt(t,e)}(A,t);var e,n,r,o,i,a,s,u,c,l,f,h,p,d,y,v,g,m,b,w=Dt(A);function A(t,e){var n,r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,A);var o="base-video-rect",i={class:"video-container"};null!==(n=t.config.videoContainer)&&void 0!==n&&n.overPlaybackBar&&(i.class+=" over-playback-bar");var a='\n            <div class="'.concat(o,'"></div>\n            <div class="hidden-videos-container" style="display: none"></div>\n        ');return(r=w.call(this,t,{attributes:i,children:a,parent:e}))._hiddenVideos=r.element.getElementsByClassName("hidden-videos-container")[0],r._baseVideoRect=r.element.getElementsByClassName(o)[0],r.element.addEventListener("click",Ft(Rt().mark((function t(){return Rt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.paused();case 2:if(!t.sent){t.next=7;break}return t.next=5,r.play();case 5:t.next=9;break;case 7:return t.next=9,r.pause();case 9:case"end":return t.stop()}}),t)})))),r._ready=!1,r._players=[],r._streamProvider=new At(r.player,r.baseVideoRect),r}return e=A,n=[{key:"layoutId",get:function(){return this._layoutId}},{key:"mainLayoutContent",get:function(){return this._mainLayoutContent}},{key:"setLayout",value:(b=Ft(Rt().mark((function t(e){var n,r,o,i,a,s=arguments;return Rt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=s.length>1&&void 0!==s[1]?s[1]:null,-1!==this.validContentIds.indexOf(e)){t.next=5;break}return t.abrupt("return",!1);case 5:return i=null===(r=this.player.config.videoContainer)||void 0===r||null===(o=r.restoreVideoLayout)||void 0===o?void 0:o.global,t.next=8,this.player.preferences.set("videoLayout",e,{global:i});case 8:return t.next=10,this.player.preferences.set("videoLayoutMainContent",n,{global:i});case 10:return a=this._layoutId,this._layoutId=e,this._mainLayoutContent=n,t.next=15,this.updateLayout();case 15:a!==e&&(0,ut.qe)(this.player,ut.ZP.LAYOUT_CHANGED,{prevLayout:a,layoutId:e});case 16:case"end":return t.stop()}}),t,this)}))),function(t){return b.apply(this,arguments)})},{key:"validContentIds",get:function(){return this._validContentIds}},{key:"validContentSettings",get:function(){return this._validContentSettings}},{key:"validLayouts",get:function(){return(0,ot.tk)(this.player,this.streamData)}},{key:"streamData",get:function(){return this._streamData}},{key:"baseVideoRect",get:function(){return this._baseVideoRect}},{key:"streamProvider",get:function(){return this._streamProvider}},{key:"create",value:(m=Ft(Rt().mark((function t(){return Rt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this._baseVideoRect.style.display="none",t.next=3,(0,rt.FP)(this.player,"layout");case 3:return t.next=5,(0,at.zE)(this.player);case 5:case"end":return t.stop()}}),t,this)}))),function(){return m.apply(this,arguments)})},{key:"load",value:function(){var t=Ft(Rt().mark((function t(e){var n,r,o,i,a,s,u,c,l,f,h,p,d,y,v,g,m,b,w,A,x=this;return Rt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this._streamData=e,null===(n=this.player.config.videoContainer)||void 0===n||null===(r=n.restoreVideoLayout)||void 0===r||!r.enabled){t.next=17;break}return l=null===(u=this.player.config.videoContainer)||void 0===u||null===(c=u.restoreVideoLayout)||void 0===c?void 0:c.global,t.next=5,this.player.preferences.get("videoLayout",{global:l});case 5:if(t.t0=t.sent,t.t0){t.next=8;break}t.t0=this.player.config.defaultLayout;case 8:return this._layoutId=t.t0,t.next=11,this.player.preferences.get("videoLayoutMainContent",{global:l});case 11:if(t.t1=t.sent,t.t1){t.next=14;break}t.t1=null;case 14:this._mainLayoutContent=t.t1,t.next=19;break;case 17:this._layoutId=this.player.config.defaultLayout,this._mainLayoutContent=null;case 19:return t.next=21,this.streamProvider.load(e);case 21:return this._validContentIds=(0,ot.Vc)(this.player,e),this._validContentSettings=(0,ot.OU)(this.player,e),t.next=25,this.updateLayout();case 25:return f=(0,O.jS)('<div class="button-plugins left-side"></div>',this.element),h=(0,O.jS)('<div class="button-plugins right-side"></div>',this.element),this._buttonPlugins=[f,h],this.player.log.debug("Loading videoContainer button plugins"),t.next=31,(0,rt.FP)(this.player,"button",function(){var t=Ft(Rt().mark((function t(e){return Rt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(x.player.log.debug(" Button plugin: ".concat(e.name)),"left"!==e.side){t.next=6;break}return t.next=4,(0,xt.k1)(e,f);case 4:t.next=9;break;case 6:if("right"!==e.side){t.next=9;break}return t.next=9,(0,xt.k1)(e,h);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var t=Ft(Rt().mark((function t(e){return Rt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("videoContainer"!==e.parentContainer){t.next=6;break}return t.next=3,e.isEnabled();case 3:return t.abrupt("return",t.sent);case 6:return t.abrupt("return",!1);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 31:return this._baseVideoRect.style.display="",t.next=34,this.player.preferences.get("volume",{global:!0});case 34:return p=t.sent,t.next=37,this.player.preferences.get("playbackRate",{global:!0});case 37:return d=t.sent,t.next=40,this.player.preferences.get("lastKnownTime",{global:!1});case 40:if(y=t.sent,null===(o=this.player.config.videoContainer)||void 0===o||!o.restoreVolume||null==p){t.next=44;break}return t.next=44,this.streamProvider.setVolume(p);case 44:if(null===(i=this.player.config.videoContainer)||void 0===i||!i.restorePlaybackRate||null==d){t.next=47;break}return t.next=47,this.streamProvider.setPlaybackRate(d);case 47:if(!this.player.videoManifest.trimming){t.next=50;break}return t.next=50,this.player.videoContainer.setTrimming(this.player.videoManifest.trimming);case 50:if(null===(a=this.player.config.videoContainer)||void 0===a||null===(s=a.restoreLastTime)||void 0===s||!s.enabled){t.next=64;break}if(v=function(){var t=Ft(Rt().mark((function t(){var e;return Rt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x.paused();case 2:if(t.sent){t.next=9;break}return t.next=6,x.currentTime();case 6:return e=t.sent,t.next=9,x.player.preferences.set("lastKnownTime",e,{global:!1});case 9:setTimeout(v,1e3);case 10:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),!y){t.next=63;break}return t.next=55,this.player.preferences.get("lastKnownTime",{global:!1});case 55:return b=t.sent,t.next=58,this.duration();case 58:if(w=t.sent,A=null===(g=this.player.config.videoContainer)||void 0===g||null===(m=g.restoreLastTime)||void 0===m?void 0:m.remainingSeconds,!(w-b>A)){t.next=63;break}return t.next=63,this.setCurrentTime(b);case 63:v();case 64:this._messageContainer=new St.Z(this.player,this.element),this._ready=!0;case 66:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"unload",value:(g=Ft(Rt().mark((function t(){return Rt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.removeFromParent(),t.next=3,(0,rt.Dd)(this.player,"layout");case 3:return t.next=5,(0,at.m7)(this.player);case 5:return t.next=7,this.streamProvider.unload();case 7:case"end":return t.stop()}}),t,this)}))),function(){return g.apply(this,arguments)})},{key:"updateLayout",value:(v=Ft(Rt().mark((function t(){var e,n,r,o=arguments;return Rt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((e=o.length>0&&void 0!==o[0]?o[0]:null)&&(this._mainLayoutContent=e),this.streamData){t.next=4;break}return t.abrupt("return");case 4:if(!this._updateInProgress){t.next=7;break}return this.player.log.warn("Recursive update layout detected"),t.abrupt("return",!1);case 7:return this._updateInProgress=!0,n=!0,this._layoutButtons=[],this._layoutId&&-1!==this._validContentIds.indexOf(this._layoutId)||(this._layoutId=this.player.config.defaultLayout,this._mainLayoutContent=null,-1===this._validContentIds.indexOf(this._layoutId)&&(this._layoutId=this._validContentIds[0]),n=!1),"static"===(r=(0,ot.QW)(this.player,this.streamProvider.streamData,this._layoutId)).layoutType?n=Ht.apply(this):"dynamic"===r.layoutType&&(n=Kt.apply(this)),this._updateInProgress=!1,t.abrupt("return",n);case 15:case"end":return t.stop()}}),t,this)}))),function(){return v.apply(this,arguments)})},{key:"hideUserInterface",value:function(){if(this._layoutButtons&&this._buttonPlugins){this.player.log.debug("Hide video container user interface");var t=function(t){t._prevDisplay=t.style.display,t.style.display="none"};for(var e in this._layoutButtons.forEach(t),this._buttonPlugins.forEach(t),this.streamProvider.streams)this.streamProvider.streams[e].canvas.hideButtons()}}},{key:"showUserInterface",value:function(){if(this._layoutButtons&&this._buttonPlugins){var t=function(t){return t.style.display=t._prevDisplay||"block"};for(var e in this._layoutButtons.forEach(t),this._buttonPlugins.forEach(t),this.streamProvider.streams)this.streamProvider.streams[e].canvas.showButtons()}}},{key:"message",get:function(){return this._messageContainer}},{key:"elementSize",get:function(){return{w:this.element.offsetWidth,h:this.element.offsetHeight}}},{key:"ready",get:function(){return this._ready}},{key:"isLiveStream",get:function(){return this.streamProvider.isLiveStream}},{key:"play",value:(y=Ft(Rt().mark((function t(){var e;return Rt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.streamProvider.play();case 2:return e=t.sent,(0,ut.qe)(this.player,ut.ZP.PLAY),t.abrupt("return",e);case 5:case"end":return t.stop()}}),t,this)}))),function(){return y.apply(this,arguments)})},{key:"pause",value:(d=Ft(Rt().mark((function t(){var e;return Rt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.streamProvider.pause();case 2:return e=t.sent,(0,ut.qe)(this.player,ut.ZP.PAUSE),t.abrupt("return",e);case 5:case"end":return t.stop()}}),t,this)}))),function(){return d.apply(this,arguments)})},{key:"stop",value:(p=Ft(Rt().mark((function t(){return Rt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.streamProvider.stop(),(0,ut.qe)(this.player,ut.ZP.STOP);case 2:case"end":return t.stop()}}),t,this)}))),function(){return p.apply(this,arguments)})},{key:"paused",value:(h=Ft(Rt().mark((function t(){return Rt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.streamProvider.paused());case 1:case"end":return t.stop()}}),t,this)}))),function(){return h.apply(this,arguments)})},{key:"setCurrentTime",value:(f=Ft(Rt().mark((function t(e){var n;return Rt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.streamProvider.setCurrentTime(e);case 2:return n=t.sent,(0,ut.qe)(this.player,ut.ZP.SEEK,{prevTime:n.prevTime,newTime:n.newTime}),t.abrupt("return",n.result);case 5:case"end":return t.stop()}}),t,this)}))),function(t){return f.apply(this,arguments)})},{key:"currentTime",value:(l=Ft(Rt().mark((function t(){return Rt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.streamProvider.currentTime());case 1:case"end":return t.stop()}}),t,this)}))),function(){return l.apply(this,arguments)})},{key:"volume",value:(c=Ft(Rt().mark((function t(){return Rt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.streamProvider.volume());case 1:case"end":return t.stop()}}),t,this)}))),function(){return c.apply(this,arguments)})},{key:"setVolume",value:(u=Ft(Rt().mark((function t(e){var n;return Rt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.streamProvider.setVolume(e);case 2:return n=t.sent,(0,ut.qe)(this.player,ut.ZP.VOLUME_CHANGED,{volume:e}),t.next=6,this.player.preferences.set("volume",e,{global:!0});case 6:return t.abrupt("return",n);case 7:case"end":return t.stop()}}),t,this)}))),function(t){return u.apply(this,arguments)})},{key:"duration",value:(s=Ft(Rt().mark((function t(){return Rt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.streamProvider.duration();case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)}))),function(){return s.apply(this,arguments)})},{key:"playbackRate",value:(a=Ft(Rt().mark((function t(){return Rt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.streamProvider.playbackRate();case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)}))),function(){return a.apply(this,arguments)})},{key:"setPlaybackRate",value:(i=Ft(Rt().mark((function t(e){var n;return Rt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.streamProvider.setPlaybackRate(e);case 2:return n=t.sent,(0,ut.qe)(this.player,ut.ZP.PLAYBACK_RATE_CHANGED,{newPlaybackRate:e}),t.next=6,this.player.preferences.set("playbackRate",e,{global:!0});case 6:return t.abrupt("return",n);case 7:case"end":return t.stop()}}),t,this)}))),function(t){return i.apply(this,arguments)})},{key:"isTrimEnabled",get:function(){return this.streamProvider.isTrimEnabled}},{key:"trimStart",get:function(){return this.streamProvider.trimStart}},{key:"trimEnd",get:function(){return this.streamProvider.trimEnd}},{key:"setTrimming",value:(o=Ft(Rt().mark((function t(e){var n,r,o,i;return Rt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.enabled,r=e.start,o=e.end,t.next=3,this.streamProvider.setTrimming({enabled:n,start:r,end:o});case 3:return i=t.sent,(0,ut.qe)(this.player,ut.ZP.TRIMMING_CHANGED,{enabled:n,start:r,end:o}),t.abrupt("return",i);case 6:case"end":return t.stop()}}),t,this)}))),function(t){return o.apply(this,arguments)})},{key:"getVideoRect",value:function(){var t,e,n,r,o,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=this.baseVideoRect;return"string"==typeof i&&(a=null===(o=this.streamProvider.streams[i])||void 0===o?void 0:o.canvas.element),{x:null===(t=a)||void 0===t?void 0:t.offsetLeft,y:null===(e=a)||void 0===e?void 0:e.offsetTop,width:null===(n=a)||void 0===n?void 0:n.offsetWidth,height:null===(r=a)||void 0===r?void 0:r.offsetHeight,element:a}}},{key:"appendChild",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(e){var r=this.getVideoRect(),o=r.width,i=r.height;e.x=100*e.x/o,e.width=100*e.width/o,e.y=100*e.y/i,e.height=100*e.height/i,t.style.position="absolute",t.style.left="".concat(e.x,"%"),t.style.top="".concat(e.y,"%"),t.style.width="".concat(e.width,"%"),t.style.height="".concat(e.height,"%"),null!==n&&(t.style.zIndex=n)}return this.baseVideoRect.appendChild(t),t}},{key:"removeChild",value:function(t){this.baseVideoRect.removeChild(t)}}],n&&It(e.prototype,n),r&&It(e,r),Object.defineProperty(e,"prototype",{writable:!1}),A}(O.FZ),Xt=n(6304),Qt=n.n(Xt);function Jt(t){return Jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jt(t)}function te(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==Jt(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Jt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===Jt(i)?i:String(i)),r)}var o,i}function ee(t,e){return ee=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ee(t,e)}function ne(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=oe(t);if(e){var o=oe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return re(this,n)}}function re(t,e){if(e&&("object"===Jt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function oe(t){return oe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},oe(t)}var ie="\n    width: 100%;\n",ae=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ee(t,e)}(i,t);var e,n,r,o=ne(i);function i(t,e,n,r){var a;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i);var s={class:"preview-container",style:"\n    background-color: #e4e4e4;\n    width: 100%;\n    height: 100%;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    cursor: pointer;\n    position: absolute;\n    top: 50%;\n    transform: translateY(-50%); \n",role:"button","aria-label":"Play video"};(a=o.call(this,t,{attributes:s,parent:e}))._img=(0,O.jS)('\n        <div style="'.concat(ie,'">\n            ').concat(n?'<img style="'.concat(ie,'" src="').concat(n,'" class="preview-image-landscape" alt=""/>'):"","\n            ").concat(r?'<img style="'.concat(ie,'" src="').concat(r,'" class="preview-image-portrait" alt=""/>'):"",'\n            <div style="').concat("\n    position: absolute; \n    top: 0px; \n    left: 0px; \n    right: 0px; \n    bottom: 0px; \n    display: flex;\n    align-content: center;\n    justify-content: center;\n    align-items: center;\n",'">\n                <button style="').concat("\n    display: block;\n    width: 20%;\n    background: none;\n    border: none;\n    cursor: pointer;\n",'" role="button" aria-label="Play video">\n                    <i class="preview-play-icon" style="').concat("\n    pointer-events: none;\n    width: 20%;\n    max-width: 400px;\n    min-width: 100px;\n    opacity: 0.6;\n",'">').concat(Qt(),"</i>\n                </button>\n            </div>\n        </div>\n        "),a.element),a.element.setAttribute("id","playerContainerClickArea"),a.element.addEventListener("click",(function(e){t.play()}));var u=n&&r,c=function(){if(u){var t=a.element.clientWidth/a.element.clientHeight,e=Array.from(a.element.getElementsByClassName("preview-image-landscape")),n=Array.from(a.element.getElementsByClassName("preview-image-portrait"));t>=1?(e.forEach((function(t){return t.style.display=""})),n.forEach((function(t){return t.style.display="none"}))):(e.forEach((function(t){return t.style.display="none"})),n.forEach((function(t){return t.style.display=""})))}};return window.addEventListener("resize",(function(){c()})),c(),a}return e=i,(n=[{key:"loadBackgroundImage",value:function(t){this._img.setAttribute("src",t)}}])&&te(e.prototype,n),r&&te(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(O.FZ);function se(t){return se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},se(t)}function ue(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ue=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function c(t,e,n,o){var i=e&&e.prototype instanceof h?e:h,a=Object.create(i.prototype),s=new k(o||[]);return r(a,"_invoke",{value:A(t,n,s)}),a}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var f={};function h(){}function p(){}function d(){}var y={};u(y,i,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(L([])));g&&g!==e&&n.call(g,i)&&(y=g);var m=d.prototype=h.prototype=Object.create(y);function b(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(r,i,a,s){var u=l(t[r],t,i);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"==se(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,s)}),(function(t){o("throw",t,a,s)})):e.resolve(f).then((function(t){c.value=t,a(c)}),(function(t){return o("throw",t,a,s)}))}s(u.arg)}var i;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){o(t,n,e,r)}))}return i=i?i.then(r,r):r()}})}function A(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=x(a,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=l(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function x(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,x(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=l(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function L(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:_}}function _(){return{value:void 0,done:!0}}return p.prototype=d,r(m,"constructor",{value:d,configurable:!0}),r(d,"constructor",{value:p,configurable:!0}),p.displayName=u(d,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,u(t,s,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},b(w.prototype),u(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new w(c(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(m),u(m,s,"Generator"),u(m,i,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=L,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),E(n),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;E(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:L(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},t}function ce(t,e,n,r,o,i,a){try{var s=t[i](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,o)}function le(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){ce(i,r,o,a,s,"next",t)}function s(t){ce(i,r,o,a,s,"throw",t)}a(void 0)}))}}function fe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==se(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==se(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===se(i)?i:String(i)),r)}var o,i}function he(t,e){return he=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},he(t,e)}function pe(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=ye(t);if(e){var o=ye(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return de(this,n)}}function de(t,e){if(e&&("object"===se(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function ye(t){return ye=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ye(t)}var ve=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&he(t,e)}(i,t);var e,n,r,o=pe(i);function i(t,e){var n,r,a,s,u;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),u=o.call(this,t,{attributes:{class:"progress-indicator-timer"},parent:e});var c=null===(n=t.config.progressIndicator)||void 0===n?void 0:n.showTotal;u.element.innerHTML="00:00",!1===(null===(r=t.config.progressIndicator)||void 0===r?void 0:r.visible)&&u.hide();var l=function(){var e=le(ue().mark((function e(n){var r,o;return ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(0,v.secondsToTime)(n),!1!==c){e.next=5;break}u.element.innerHTML=r,e.next=11;break;case 5:return e.t0=v.secondsToTime,e.next=8,t.videoContainer.duration();case 8:e.t1=e.sent,o=(0,e.t0)(e.t1),u.element.innerHTML="".concat(r," / ").concat(o);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();t.bindEvent(ut.ZP.TIMEUPDATE,function(){var t=le(ue().mark((function t(e){var n;return ue().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.currentTime,t.next=3,l(n);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),t.bindEvent(ut.ZP.SEEK,function(){var t=le(ue().mark((function t(e){var n;return ue().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.newTime,t.next=3,l(n);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),t.bindEvent(ut.ZP.STOP,le(ue().mark((function t(){return ue().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l(0);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))));var f=null===(a=t.config.progressIndicator)||void 0===a?void 0:a.parentContainer,h=(null===(s=t.config.progressIndicator)||void 0===s?void 0:s.side)||"left";return"progressIndicator"===f&&u.element.classList.add("".concat(h,"-side")),u}return e=i,n&&fe(e.prototype,n),r&&fe(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(O.FZ);function ge(t){return ge="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ge(t)}function me(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */me=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function c(t,e,n,o){var i=e&&e.prototype instanceof h?e:h,a=Object.create(i.prototype),s=new k(o||[]);return r(a,"_invoke",{value:A(t,n,s)}),a}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var f={};function h(){}function p(){}function d(){}var y={};u(y,i,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(L([])));g&&g!==e&&n.call(g,i)&&(y=g);var m=d.prototype=h.prototype=Object.create(y);function b(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(r,i,a,s){var u=l(t[r],t,i);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"==ge(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,s)}),(function(t){o("throw",t,a,s)})):e.resolve(f).then((function(t){c.value=t,a(c)}),(function(t){return o("throw",t,a,s)}))}s(u.arg)}var i;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){o(t,n,e,r)}))}return i=i?i.then(r,r):r()}})}function A(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=x(a,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=l(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function x(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,x(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=l(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function L(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:_}}function _(){return{value:void 0,done:!0}}return p.prototype=d,r(m,"constructor",{value:d,configurable:!0}),r(d,"constructor",{value:p,configurable:!0}),p.displayName=u(d,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,u(t,s,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},b(w.prototype),u(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new w(c(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(m),u(m,s,"Generator"),u(m,i,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=L,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),E(n),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;E(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:L(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},t}function be(t,e,n,r,o,i,a){try{var s=t[i](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,o)}function we(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){be(i,r,o,a,s,"next",t)}function s(t){be(i,r,o,a,s,"throw",t)}a(void 0)}))}}function Ae(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==ge(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==ge(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===ge(i)?i:String(i)),r)}var o,i}function xe(t,e){return xe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},xe(t,e)}function Ce(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Le(t);if(e){var o=Le(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ee(this,n)}}function Ee(t,e){if(e&&("object"===ge(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return ke(t)}function ke(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Le(t){return Le=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Le(t)}function _e(t,e){var n=function(t,e){if(!t||0===t.length)return null;var n=t[0],r=n.time;return t.forEach((function(t){t.time>r&&t.time<Math.floor(e)&&(r=(n=t).time)})),n}(this.frameList,e);if(n){this._frameThumbnail.style.display="block";var r=this._frameThumbnail.getBoundingClientRect().width,o=this.playbackBar.getBoundingClientRect();o.top,o.left,o.bottom;var i=o.width,a=o.height,s=i/2;this.frameThumbnail.style.bottom="".concat(a,"px"),this.frameThumbnail.style.left="".concat(s>t?t:t-r,"px");var u=(0,v.resolveResourcePath)(this.player,n.url),c=this.frameThumbnail.getElementsByClassName("thumbnail-image")[0],l=this.frameThumbnail.getElementsByClassName("thumbnail-time")[0];u!==this._prevFrameImage&&(c.src=u,c.alt=n.id,this._prevFrameImage=u),l.innerHTML=(0,v.secondsToTime)(e)}}function Se(){var t=this;if(Array.isArray(this._canvasPlugins)){var e=this._canvasContext[0],n=this._canvasContext[1],r=this._canvas[0].clientWidth,o=this._canvas[0].clientHeight;this._canvasPlugins.forEach((function(i){i.drawForeground(n,r,o,t._isHover),i.drawBackground(e,r,o,t._isHover)})),this._updateCanvas=!1}}function Pe(){var t=this,e={w:this.element.offsetWidth,h:this.element.offsetHeight};this._canvas.forEach((function(t){t.width=e.w,t.height=e.h}));var n=this._isHover?this._minHeightHover:this._minHeight;this.element.style.minHeight="".concat(n,"px"),this._canvas.forEach((function(e){return e.height=t.element.clientHeight})),Se.apply(this)}function Te(t,e){var n,r,o=(null===(n=t.progressIndicator)||void 0===n?void 0:n.parentContainer)||"progressIndicator",i=(null===(r=t.progressIndicator)||void 0===r?void 0:r.side)||"left";if("progressIndicator"===o)return this.element;if("buttonArea"===o){var a=e.timerContainer;return a.classList.add("".concat(i,"-side")),a}throw new Error("Error in player configuration: invalid progress indicator parent container: ".concat(o,". Valid values are 'progressIndicator' or 'buttonArea'"))}var Oe=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xe(t,e)}(s,t);var e,n,r,o,i,a=Ce(s);function s(t,e){var n,r,o,i,u,c,l;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s);var f=e.element,h=null!==(n=null===(r=t.config.progressIndicator)||void 0===r?void 0:r.inlineMode)&&void 0!==n&&n,p={class:"progress-indicator".concat(h?" inline-mode":" top-mode")},d=null!==(o=t.config.progressIndicator)&&void 0!==o&&o.showHandler?'<i class="progress-indicator-handler" style="pointer-events: none"></i>':"",y='\n\t\t<canvas class="progress-canvas canvas-layer-0"></canvas>\n\t\t<div class="progress-indicator-container">\n\t\t\t<div style="width: 0px;" class="progress-indicator-content"></div>\n\t\t\t'.concat(d,'\n\t\t\t<div class="progress-indicator-remaining"></div>\n\t\t</div>\n\t\t<canvas class="progress-canvas canvas-layer-1"></canvas>\n\t\t');l=a.call(this,t,{attributes:p,children:y,parent:f});var v=Te.apply(ke(l),[t.config,e]);l._progressIndicatorTimer=new ve(t,v),l._frameThumbnail=(0,O.jS)('\n\t\t\t<div class="frame-thumbnail">\n\t\t\t\t<img src="" alt="" class="thumbnail-image" />\n\t\t\t\t<p class="thumbnail-time">00:00</p>\n\t\t\t</div>',t.containerElement),l._frameThumbnail.style.display="none",l._frameThumbnail.style.position="absolute",l._isHover=!1,l._canvas=[0,1].map((function(t){return l.element.getElementsByClassName("progress-canvas")[t]})),l._canvasContext=l._canvas.map((function(t){return t.getContext("2d")})),l._progressContainer=l.element.getElementsByClassName("progress-indicator-container")[0],l._progressIndicator=l.element.getElementsByClassName("progress-indicator-content")[0],l._handler=l.element.getElementsByClassName("progress-indicator-handler")[0],l._remainingContainer=l.element.getElementsByClassName("progress-indicator-remaining")[0],l.handler&&null!==(i=t.config.progressIndicator)&&void 0!==i&&i.hideHandlerOnMouseOut&&(l.handler.style.display="none"),null!==(u=t.config.progressIndicator)&&void 0!==u&&u.showRemainingProgress||(l._remainingContainer.style.display="none"),l._frameList=t.frameList.frames,null===(c=l._frameList)||void 0===c||c.sort((function(t,e){return t.time-e.time})),l.onResize();var g=!1,m=function(){var e=we(me().mark((function e(n){var r,o,i,a,s,u;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=l.progressContainer.clientWidth,i=(null===(r=l.handler)||void 0===r?void 0:r.clientWidth)||0,e.next=4,t.videoContainer.duration();case 4:a=e.sent,s=100*n/a,l.progressIndicator.style.width="".concat(s,"%"),l.handler&&(u=s/100*o,l.handler.style.left="".concat(u-i/2,"px"));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=function(){var e=we(me().mark((function e(n){var r,o;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=l.element.offsetWidth,e.next=3,t.videoContainer.duration();case 3:return o=e.sent,e.abrupt("return",n*o/r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,ut.GT)(l.player,ut.ZP.TIMEUPDATE,function(){var t=we(me().mark((function t(e){var n;return me().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.currentTime,g){t.next=4;break}return t.next=4,m(n);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),(0,ut.GT)(l.player,ut.ZP.SEEK,function(){var t=we(me().mark((function t(e){var n;return me().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.prevTime,n=e.newTime,g){t.next=4;break}return t.next=4,m(n);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),(0,ut.GT)(l.player,ut.ZP.STOP,we(me().mark((function t(){return me().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m(0);case 2:case"end":return t.stop()}}),t)})))),l.progressContainer.addEventListener("mousedown",function(){var t=we(me().mark((function t(e){var n;return me().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return g=!0,t.next=3,b(e.offsetX);case 3:return n=t.sent,t.next=6,m(n);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),l.progressContainer.addEventListener("mouseover",(function(e){var n;l._isHover=!0,Pe.apply(ke(l)),l.handler&&null!==(n=t.config.progressIndicator)&&void 0!==n&&n.hideHandlerOnMouseOut&&(l.handler.style.display="")})),l.progressContainer._progressIndicator=ke(l),l.progressContainer.addEventListener("mousemove",function(){var t=we(me().mark((function t(e){var n,r,o,i,a;return me().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=l.player.videoContainer,r=n.isTrimEnabled,o=n.trimStart,i=r?o:0,t.next=4,b(e.offsetX);case 4:if(a=t.sent,!g){t.next=8;break}return t.next=8,m(a);case 8:_e.apply(ke(l),[e.offsetX,a+i]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),l.progressContainer.addEventListener("mouseup",function(){var e=we(me().mark((function e(n){var r;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b(n.offsetX);case 2:return r=e.sent,e.next=5,m(r);case 5:return e.next=7,t.videoContainer.setCurrentTime(r);case 7:g=!1;case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),l.progressContainer.addEventListener("mouseleave",function(){var e=we(me().mark((function e(n){var r,o;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!g){e.next=7;break}return e.next=3,b(n.offsetX);case 3:return o=e.sent,e.next=6,t.videoContainer.setCurrentTime(o);case 6:g=!1;case 7:l.frameThumbnail.style.display="none",l._isHover=!1,Pe.apply(ke(l)),l.handler&&null!==(r=t.config.progressIndicator)&&void 0!==r&&r.hideHandlerOnMouseOut&&(l.handler.style.display="none");case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),l._updateCanvas=!0,function t(){l._updateCanvasTimer=setTimeout((function(){l._updateCanvas&&Pe.apply(ke(l)),t()}),250)}(),l}return e=s,n=[{key:"requestUpdateCanvas",value:function(){this._updateCanvas=!0}},{key:"loadPlugins",value:(i=we(me().mark((function t(){var e,n,r=this;return me().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=0,n=0,this._canvasPlugins=[],t.next=5,(0,rt.FP)(this.player,"progressIndicator",function(){var t=we(me().mark((function t(o){return me().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r.player.log.debug(" Progress indicator plugin: ".concat(o.name)),e=e<o.minHeight?o.minHeight:e,n=n<o.minHeightHover?o.minHeightHover:n,r._canvasPlugins.push(o);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var t=we(me().mark((function t(e){return me().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.isEnabled();case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 5:this._minHeight=e,this._minHeightHover=n,Pe.apply(this);case 8:case"end":return t.stop()}}),t,this)}))),function(){return i.apply(this,arguments)})},{key:"unloadPlugins",value:(o=we(me().mark((function t(){return me().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this._canvasPlugins=[],t.next=3,(0,rt.Dd)(this.player,"progressIndicator");case 3:case"end":return t.stop()}}),t,this)}))),function(){return o.apply(this,arguments)})},{key:"hideTimeLine",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];t&&this.hideProgressTimer(),this.hideProgressContainer()}},{key:"hideProgressContainer",value:function(){this.progressContainer.style.display="none"}},{key:"hideProgressTimer",value:function(){this.progressTimer.style.display="none"}},{key:"showTimeLine",value:function(){this.showProgressContainer(),this.showProgressTimer()}},{key:"showProgressContainer",value:function(){this.progressContainer.style.display=""}},{key:"showProgressTimer",value:function(){this.progressTimer.style.display=""}},{key:"playbackBar",get:function(){return this.element.parentElement}},{key:"canvasLayer0",get:function(){return this._canvas[0]}},{key:"canvasLayer1",get:function(){return this._canvas[1]}},{key:"progressIndicator",get:function(){return this._progressIndicator}},{key:"handler",get:function(){return this._handler}},{key:"progressTimer",get:function(){return this._progressIndicatorTimer.element}},{key:"progressContainer",get:function(){return this._progressContainer}},{key:"frameThumbnail",get:function(){return this._frameThumbnail}},{key:"frameList",get:function(){return this._frameList}},{key:"onResize",value:function(){this.requestUpdateCanvas()}}],n&&Ae(e.prototype,n),r&&Ae(e,r),Object.defineProperty(e,"prototype",{writable:!1}),s}(O.FZ),Re=n(9167),Ie={};Ie.styleTagTransform=p(),Ie.setAttributes=c(),Ie.insert=s().bind(null,"head"),Ie.domAPI=i(),Ie.insertStyleElement=f(),e()(Re.Z,Ie),Re.Z&&Re.Z.locals&&Re.Z.locals;var je=n(6911);function De(t){return De="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},De(t)}function Be(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Be=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function c(t,e,n,o){var i=e&&e.prototype instanceof h?e:h,a=Object.create(i.prototype),s=new k(o||[]);return r(a,"_invoke",{value:A(t,n,s)}),a}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var f={};function h(){}function p(){}function d(){}var y={};u(y,i,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(L([])));g&&g!==e&&n.call(g,i)&&(y=g);var m=d.prototype=h.prototype=Object.create(y);function b(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(r,i,a,s){var u=l(t[r],t,i);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"==De(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,s)}),(function(t){o("throw",t,a,s)})):e.resolve(f).then((function(t){c.value=t,a(c)}),(function(t){return o("throw",t,a,s)}))}s(u.arg)}var i;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){o(t,n,e,r)}))}return i=i?i.then(r,r):r()}})}function A(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=x(a,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=l(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function x(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,x(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=l(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function L(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:_}}function _(){return{value:void 0,done:!0}}return p.prototype=d,r(m,"constructor",{value:d,configurable:!0}),r(d,"constructor",{value:p,configurable:!0}),p.displayName=u(d,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,u(t,s,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},b(w.prototype),u(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new w(c(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(m),u(m,s,"Generator"),u(m,i,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=L,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),E(n),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;E(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:L(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},t}function Ne(t,e,n,r,o,i,a){try{var s=t[i](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,o)}function Me(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){Ne(i,r,o,a,s,"next",t)}function s(t){Ne(i,r,o,a,s,"throw",t)}a(void 0)}))}}function Fe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==De(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==De(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===De(i)?i:String(i)),r)}var o,i}function Ue(t,e){return Ue=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ue(t,e)}function Ge(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ze(t);if(e){var o=Ze(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ve(this,n)}}function Ve(t,e){if(e&&("object"===De(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return $e(t)}function $e(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ze(t){return Ze=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ze(t)}var ze=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ue(t,e)}(a,t);var e,n,r,o,i=Ge(a);function a(t,e){var n,r,o,s;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a);var u=null!==(n=null===(r=t.config.progressIndicator)||void 0===r?void 0:r.inlineMode)&&void 0!==n&&n,c={class:u?"playback-bar inline-mode":"playback-bar top-mode"};(s=i.call(this,t,{attributes:c,parent:e})).element.addEventListener("mouseenter",(function(){return(0,v.pauseAutoHideUiTimer)(t)})),s.element.addEventListener("mouseleave",(function(){return(0,v.resumeAutoHideUiTimer)(t)})),s._buttonPluginsLeft=(0,O.jS)('<div class="button-plugins left-side"></div>'),s._timerContainer=(0,O.jS)('<div class="timer-container"></div>'),s._buttonPluginsRight=(0,O.jS)('<div class="button-plugins right-side"></div>');var l=(null===(o=t.config.progressIndicator)||void 0===o?void 0:o.side)||"left";return u?(s.element.appendChild(s._buttonPluginsLeft),"left"===l?(s.element.appendChild(s._timerContainer),s._progressIndicator=new Oe(t,$e(s)),s.element.appendChild(s._buttonPluginsRight)):(s._progressIndicator=new Oe(t,$e(s)),s.element.appendChild(s._timerContainer),s.element.appendChild(s._buttonPluginsRight))):(s._progressIndicator=new Oe(t,$e(s)),s.element.appendChild(s._buttonPluginsLeft),"left"===l?(s.element.appendChild(s._timerContainer),s.element.appendChild(s._buttonPluginsRight)):(s.element.appendChild(s._buttonPluginsRight),s.element.appendChild(s._timerContainer))),s.element.addEventListener("click",(function(){je.Z.HideAllPopUps(!1)})),s._enabled=!0,s}return e=a,n=[{key:"enabled",get:function(){return this._enabled},set:function(t){this._enabled=t,this._enabled?this.showUserInterface():this.hide()}},{key:"load",value:function(){var t=Me(Be().mark((function t(){var e=this;return Be().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this._enabledPlugins=[],this.player.log.debug("Loading button plugins"),t.next=4,(0,rt.FP)(this.player,"button",function(){var t=Me(Be().mark((function t(n){return Be().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.player.log.debug(" Button plugin: ".concat(n.name)),e._enabledPlugins.push(n),"left"!==n.side){t.next=7;break}return t.next=5,(0,xt.k1)(n,e.buttonPluginsLeft);case 5:t.next=10;break;case 7:if("right"!==n.side){t.next=10;break}return t.next=10,(0,xt.k1)(n,e.buttonPluginsRight);case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var t=Me(Be().mark((function t(e){return Be().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("playbackBar"!==e.parentContainer){t.next=6;break}return t.next=3,e.isEnabled();case 3:return t.abrupt("return",t.sent);case 6:return t.abrupt("return",!1);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 4:return t.next=6,this._progressIndicator.loadPlugins();case 6:this.onResize();case 7:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"unload",value:(o=Me(Be().mark((function t(){return Be().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.removeFromParent(),t.next=3,(0,rt.Dd)(this.player,"button");case 3:return this._buttonPluginsLeft.innerHTML="",this._buttonPluginsRight.innerHTML="",t.next=7,this._progressIndicator.unloadPlugins();case 7:case"end":return t.stop()}}),t,this)}))),function(){return o.apply(this,arguments)})},{key:"hideUserInterface",value:function(){this.player.log.debug("Hide playback bar user interface"),this.hide()}},{key:"showUserInterface",value:function(){if(this._enabled){var t,e,n=null!==(t=null===(e=this.player.config.progressIndicator)||void 0===e?void 0:e.inlineMode)&&void 0!==t&&t?"flex":"block";this.show(n),this.onResize()}}},{key:"buttonPluginsRight",get:function(){return this._buttonPluginsRight}},{key:"buttonPluginsLeft",get:function(){return this._buttonPluginsLeft}},{key:"timerContainer",get:function(){return this._timerContainer}},{key:"progressIndicator",get:function(){return this._progressIndicator}},{key:"containerSize",get:function(){return{width:this.element.clientWidth,height:this.element.clientHeight}}},{key:"onResize",value:function(){var t=this.containerSize;this._enabledPlugins.forEach((function(e){return e.onResize(t)})),this.progressIndicator.onResize()}}],n&&Fe(e.prototype,n),r&&Fe(e,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(O.FZ),He=n(230),Ye=n(1285),Ke=n(8704),We=n(7046),qe={};function Xe(t){return Xe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xe(t)}function Qe(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Qe=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function c(t,e,n,o){var i=e&&e.prototype instanceof h?e:h,a=Object.create(i.prototype),s=new k(o||[]);return r(a,"_invoke",{value:A(t,n,s)}),a}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var f={};function h(){}function p(){}function d(){}var y={};u(y,i,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(L([])));g&&g!==e&&n.call(g,i)&&(y=g);var m=d.prototype=h.prototype=Object.create(y);function b(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(r,i,a,s){var u=l(t[r],t,i);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"==Xe(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,s)}),(function(t){o("throw",t,a,s)})):e.resolve(f).then((function(t){c.value=t,a(c)}),(function(t){return o("throw",t,a,s)}))}s(u.arg)}var i;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){o(t,n,e,r)}))}return i=i?i.then(r,r):r()}})}function A(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=x(a,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=l(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function x(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,x(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=l(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function L(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:_}}function _(){return{value:void 0,done:!0}}return p.prototype=d,r(m,"constructor",{value:d,configurable:!0}),r(d,"constructor",{value:p,configurable:!0}),p.displayName=u(d,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,u(t,s,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},b(w.prototype),u(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new w(c(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(m),u(m,s,"Generator"),u(m,i,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=L,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),E(n),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;E(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:L(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},t}function Je(t,e,n,r,o,i,a){try{var s=t[i](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,o)}function tn(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){Je(i,r,o,a,s,"next",t)}function s(t){Je(i,r,o,a,s,"throw",t)}a(void 0)}))}}function en(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==Xe(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Xe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===Xe(i)?i:String(i)),r)}var o,i}function nn(t,e){return nn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},nn(t,e)}function rn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=an(t);if(e){var o=an(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return on(this,n)}}function on(t,e){if(e&&("object"===Xe(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function an(t){return an=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},an(t)}qe.styleTagTransform=p(),qe.setAttributes=c(),qe.insert=s().bind(null,"head"),qe.domAPI=i(),qe.insertStyleElement=f(),e()(We.Z,qe),We.Z&&We.Z.locals&&We.Z.locals;var sn=[{maxWidth:400,className:"size-s"},{maxWidth:600,className:"size-m"},{maxWidth:900,className:"size-l"},{maxWidth:1100,className:"size-xl"},{className:"size-xxl"}],un=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nn(t,e)}(i,t);var e,n,r,o=rn(i);function i(t,e){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(n=o.call(this,t,{tag:"div",attributes:{class:"captions-canvas visible-ui"},parent:e}))._captionsContainer=(0,O.jS)('\n            <div class="text-container">\n            </div>\n        ',n.element),n._captions=[],n.hide(),n._currentCaptions=null;var r=function(){var e=tn(Qe().mark((function e(r){var o,i,a;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=t.videoContainer.isTrimEnabled?t.videoContainer.trimStart:0,i=o+(r.currentTime||r.newTime||0),n._currentCaptions&&(a=n._currentCaptions.getCue(i),n._captionsContainer.innerHTML="",a&&a.captions.forEach((function(t){n._captionsContainer.innerHTML+=t,n._captionsContainer.innerHTML+="<br/>"})),n._captionsContainer.style.display=a?null:"none",n.resize());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,ut.GT)(n.player,ut.ZP.TIMEUPDATE,r),(0,ut.GT)(n.player,ut.ZP.SEEK,r),(0,ut.GT)(n.player,ut.ZP.RESIZE,(function(){return n.resize()})),(0,ut.GT)(n.player,ut.ZP.SHOW_UI,(function(){return n.element.classList.add("visible-ui")})),(0,ut.GT)(n.player,ut.ZP.HIDE_UI,(function(){return n.element.classList.remove("visible-ui")})),n}return e=i,n=[{key:"load",value:function(){var t=tn(Qe().mark((function t(){return Qe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,Ke.N)(this.player);case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"unload",value:function(){}},{key:"resize",value:function(){var t,e=this,n=(t=this._captionsContainer.clientWidth,sn.find((function(e){return e.maxWidth&&e.maxWidth>=t||void 0===e.maxWidth})).className);sn.forEach((function(t){return e.element.classList.remove(t.className)})),this.element.classList.add(n)}},{key:"addCaptions",value:function(t){this._captions.push(t),(0,ut.qe)(this.player,ut.ZP.CAPTIONS_CHANGED,{captions:this._captions})}},{key:"captions",get:function(){return this._captions}},{key:"currentCaptions",get:function(){return this._currentCaptions}},{key:"getCaptions",value:function(t){var e=t.label,n=t.index,r=t.lang;if(void 0===e&&void 0===n&&void 0===r)throw Error("Could not find captions: you must specify the label, the index or the language");return void 0!==n?this._captions[n]:this._captions.find((function(t){return void 0!==e?t.label===e:void 0!==r?t.language===r:void 0}))}},{key:"enableCaptions",value:function(t){var e=this.getCaptions(t);if(e!==this._currentCaptions&&(this._currentCaptions=e,this.currentCaptions)){var n=this.currentCaptions,r=n.language,o=n.label;(0,ut.qe)(this.player,ut.ZP.CAPTIONS_ENABLED,{language:r,label:o})}this.show()}},{key:"disableCaptions",value:function(){this.currentCaptions&&(0,ut.qe)(this.player,ut.ZP.CAPTIONS_DISABLED),this._currentCaptions=null,this.hide()}}],n&&en(e.prototype,n),r&&en(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(O.FZ),cn=n(8984),ln=n(9267);function fn(t){return fn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fn(t)}function hn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==fn(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==fn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===fn(i)?i:String(i)),r)}var o,i}var pn=function(t){return!1},dn=function(t){return t.description},yn=function(){function t(e,n){var r=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._player=e,this._cookieConsentData=e.config.cookieConsent||[],this._getConsentCallback=n.getConsent||pn,this._getDescriptionCallback=n.getDescription||dn,this._cookieConsentData.forEach((function(t){t.description=r._getDescriptionCallback(t)})),this.updateConsentData()}var e,n,r;return e=t,(n=[{key:"updateConsentData",value:function(){var t=this;this._cookieConsentData.forEach((function(e){e.value=t._getConsentCallback(e.type)||e.required})),(0,ut.qe)(this._player,ut.ZP.COOKIE_CONSENT_CHANGED,{cookieConsent:this})}},{key:"getConsentForType",value:function(t){var e=this._cookieConsentData.find((function(e){return e.type===t}));return(null==e?void 0:e.value)||!1}}])&&hn(e.prototype,n),r&&hn(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),vn=n(7136),gn={};gn.styleTagTransform=p(),gn.setAttributes=c(),gn.insert=s().bind(null,"head"),gn.domAPI=i(),gn.insertStyleElement=f(),e()(vn.Z,gn),vn.Z&&vn.Z.locals&&vn.Z.locals;var mn=n(7283),bn={};function wn(t){return wn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wn(t)}function An(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==wn(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==wn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===wn(i)?i:String(i)),r)}var o,i}bn.styleTagTransform=p(),bn.setAttributes=c(),bn.insert=s().bind(null,"head"),bn.domAPI=i(),bn.insertStyleElement=f(),e()(mn.Z,bn),mn.Z&&mn.Z.locals&&mn.Z.locals;var Cn=Object.freeze({DISABLED:0,ERROR:1,WARN:2,INFO:3,DEBUG:4,VERBOSE:5}),En=Cn.INFO,kn=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n="string"==typeof t?Cn[t.toUpperCase()]:t;if(n<Cn.DISABLED||n>Cn.VERBOSE)throw Error("setLogLevel: invalid log level ".concat(n));e?(e.__logSettings=e.__logSettings||{},e.__logSettings.logLevel=n):En=n},Ln=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return t?t.__logSettings.logLevel:En},_n=function(t){var e=t.msg,n=t.level,r=void 0===n?Cn.INFO:n,o=t.player,i=void 0===o?null:o,a=t.context,s=void 0===a?"paella-core":a;i&&!i.__logSettings&&kn(i,Cn.INFO);var u=Ln(i);if(r<Cn.DISABLED)throw Error("printMessage: invalid log level ".concat(r));if(i&&(0,ut.qe)(i,ut.ZP.LOG,{severity:r,context:s,message:e,currentLogLevel:u}),r<=u)switch(r){case Cn.ERROR:console.error("".concat(s," - Error: ").concat(e));break;case Cn.WARN:console.warn("".concat(s," - Warning: ").concat(e));break;case Cn.INFO:console.info("".concat(s," - Info: ").concat(e));break;case Cn.DEBUG:console.debug("".concat(s," - Debug: ").concat(e));break;case Cn.VERBOSE:console.log("".concat(s," - Verbose: ").concat(e))}},Sn={setLevel:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;kn(t,e)},currentLevel:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return Ln(t)},error:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"paella-core";_n({msg:t,level:Cn.ERROR,player:e,context:n})},warn:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"paella-core";_n({msg:t,level:Cn.WARN,player:e,context:n})},info:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"paella-core";_n({msg:t,level:Cn.INFO,player:e,context:n})},debug:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"paella-core";_n({msg:t,level:Cn.DEBUG,player:e,context:n})},verbose:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"paella-core";_n({msg:t,level:Cn.VERBOSE,player:e,context:n})}},Pn=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"paella-core";An(this,t),this._player=e,this._context=n}var e,n,r;return e=t,n=[{key:"context",get:function(){return this._context}},{key:"player",get:function(){return this._player}},{key:"setLevel",value:function(t){Sn.setLevel(t,this._player)}},{key:"currentLevel",value:function(){return Sn.currentLevel(this._player)}},{key:"error",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;Sn.error(t,this._player,e||this._context)}},{key:"warn",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;Sn.warn(t,this._player,e||this._context)}},{key:"info",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;Sn.info(t,this._player,e||this._context)}},{key:"debug",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;Sn.debug(t,this._player,e||this._context)}},{key:"verbose",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;Sn.verbose(t,this._player,e||this._context)}}],n&&xn(e.prototype,n),r&&xn(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),Tn={},On=n(7456);On.keys().forEach((function(t){var e=/([a-z-]+[A-Z_]+)\.json/.exec(t),n=e&&e[1];if(n){var r=On(t);Tn[n]=r;var o=n.substr(0,2);o in Tn||(Tn[o]=r)}}));const Rn=Tn;function In(t){return In="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},In(t)}function jn(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */jn=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function c(t,e,n,o){var i=e&&e.prototype instanceof h?e:h,a=Object.create(i.prototype),s=new k(o||[]);return r(a,"_invoke",{value:A(t,n,s)}),a}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var f={};function h(){}function p(){}function d(){}var y={};u(y,i,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(L([])));g&&g!==e&&n.call(g,i)&&(y=g);var m=d.prototype=h.prototype=Object.create(y);function b(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(r,i,a,s){var u=l(t[r],t,i);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"==In(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,s)}),(function(t){o("throw",t,a,s)})):e.resolve(f).then((function(t){c.value=t,a(c)}),(function(t){return o("throw",t,a,s)}))}s(u.arg)}var i;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){o(t,n,e,r)}))}return i=i?i.then(r,r):r()}})}function A(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=x(a,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=l(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function x(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,x(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=l(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function L(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:_}}function _(){return{value:void 0,done:!0}}return p.prototype=d,r(m,"constructor",{value:d,configurable:!0}),r(d,"constructor",{value:p,configurable:!0}),p.displayName=u(d,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,u(t,s,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},b(w.prototype),u(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new w(c(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(m),u(m,s,"Generator"),u(m,i,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=L,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),E(n),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;E(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:L(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},t}function Dn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==In(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==In(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===In(i)?i:String(i)),r)}var o,i}function Bn(t,e){return Bn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Bn(t,e)}function Nn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Fn(t);if(e){var o=Fn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Mn(this,n)}}function Mn(t,e){if(e&&("object"===In(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Fn(t){return Fn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Fn(t)}function Un(t,e,n,r,o,i,a){try{var s=t[i](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,o)}function Gn(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){Un(i,r,o,a,s,"next",t)}function s(t){Un(i,r,o,a,s,"throw",t)}a(void 0)}))}}var Vn='{ "global": {}, "videos": {} }';function $n(){return Zn.apply(this,arguments)}function Zn(){return(Zn=Gn(jn().mark((function t(){var e;return jn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=this.source.name,t.next="cookie"===t.t0?3:"dataPlugin"===t.t0?10:20;break;case 3:return t.prev=3,t.abrupt("return",JSON.parse((0,v.getCookie)("preferences")));case 7:return t.prev=7,t.t1=t.catch(3),t.abrupt("return",JSON.parse(Vn));case 10:return t.prev=10,t.next=13,this.player.data.read(this.source.context,{});case 13:return e=t.sent,t.abrupt("return",e||JSON.parse(Vn));case 17:return t.prev=17,t.t2=t.catch(10),t.abrupt("return",JSON.parse(Vn));case 20:case"end":return t.stop()}}),t,this,[[3,7],[10,17]])})))).apply(this,arguments)}function zn(t){return Hn.apply(this,arguments)}function Hn(){return(Hn=Gn(jn().mark((function t(e){return jn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=this.source.name,t.next="cookie"===t.t0?3:"dataPlugin"===t.t0?5:8;break;case 3:return(0,v.setCookieIfAllowed)(this.player,this.source.consentType,"preferences",JSON.stringify(e)),t.abrupt("break",8);case 5:return t.next=7,this.player.data.write(this.source.context,{},e);case 7:return t.abrupt("break",8);case 8:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}var Yn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Bn(t,e)}(s,t);var e,n,r,o,i,a=Nn(s);function s(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),e=a.call(this,t);var n=t.config.preferences||{currentSource:"cookie",sources:{cookie:{consentType:"necessary"}}},r=n.currentSource,o=n.sources;if(e.source=o[r],e.source.name=r,e._loaded=!1,!e.source)throw Error("Invalid configuration in preferences. Check the configuration file.");return e}return e=s,n=[{key:"set",value:(i=Gn(jn().mark((function t(e,n){var r,o,i,a,s=arguments;return jn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=s.length>2&&void 0!==s[2]?s[2]:{},o=r.global,i=void 0!==o&&o,t.next=3,$n.apply(this);case 3:return a=t.sent,i?a.global[e]=n:(a.videos[this.player.videoId]=a.videos[this.player.videoId]||{},a.videos[this.player.videoId][e]=n),t.next=7,zn.apply(this,[a]);case 7:case"end":return t.stop()}}),t,this)}))),function(t,e){return i.apply(this,arguments)})},{key:"get",value:(o=Gn(jn().mark((function t(e){var n,r,o,i,a=arguments;return jn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:{},r=n.global,o=void 0!==r&&r,t.next=3,$n.apply(this);case 3:if(i=t.sent,!o){t.next=8;break}return t.abrupt("return",i.global[e]);case 8:return t.abrupt("return",i.videos[this.player.videoId]&&i.videos[this.player.videoId][e]||void 0);case 9:case"end":return t.stop()}}),t,this)}))),function(t){return o.apply(this,arguments)})}],n&&Dn(e.prototype,n),r&&Dn(e,r),Object.defineProperty(e,"prototype",{writable:!1}),s}(it.Z),Kn=n(4453);function Wn(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Wn=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function c(t,e,n,o){var i=e&&e.prototype instanceof h?e:h,a=Object.create(i.prototype),s=new k(o||[]);return r(a,"_invoke",{value:A(t,n,s)}),a}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var f={};function h(){}function p(){}function d(){}var y={};u(y,i,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(L([])));g&&g!==e&&n.call(g,i)&&(y=g);var m=d.prototype=h.prototype=Object.create(y);function b(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(r,i,a,s){var u=l(t[r],t,i);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"==qn(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,s)}),(function(t){o("throw",t,a,s)})):e.resolve(f).then((function(t){c.value=t,a(c)}),(function(t){return o("throw",t,a,s)}))}s(u.arg)}var i;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){o(t,n,e,r)}))}return i=i?i.then(r,r):r()}})}function A(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=x(a,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=l(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function x(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,x(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=l(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function L(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:_}}function _(){return{value:void 0,done:!0}}return p.prototype=d,r(m,"constructor",{value:d,configurable:!0}),r(d,"constructor",{value:p,configurable:!0}),p.displayName=u(d,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,u(t,s,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},b(w.prototype),u(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new w(c(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(m),u(m,s,"Generator"),u(m,i,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=L,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),E(n),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;E(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:L(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},t}function qn(t){return qn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qn(t)}function Xn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==qn(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==qn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===qn(i)?i:String(i)),r)}var o,i}function Qn(t,e,n,r,o,i,a){try{var s=t[i](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,o)}function Jn(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){Qn(i,r,o,a,s,"next",t)}function s(t){Qn(i,r,o,a,s,"throw",t)}a(void 0)}))}}function tr(t){var e;null!==(e=this._skinData)&&void 0!==e&&e.configOverrides&&(0,v.mergeObjects)(t,this._skinData.configOverrides)}function er(){return nr.apply(this,arguments)}function nr(){return nr=Jn(Wn().mark((function t(){var e,n,r=this;return Wn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null===(e=this._skinData)||void 0===e||!e.styleSheets){t.next=5;break}return n=[],this._skinData.styleSheets.forEach((function(t){if(/\{.*/.test(t));else{if(!r._externalResourcesAllowed)throw new Error("No external resources allowed loading skin object");var e=(0,v.joinPath)([r._skinUrl,t]);n.push(new Promise(function(){var t=Jn(Wn().mark((function t(n){return Wn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,v.loadStyle)(e,!1);case 2:n();case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()))}})),t.next=5,Promise.allSettled(n);case 5:case"end":return t.stop()}}),t,this)}))),nr.apply(this,arguments)}function rr(){return or.apply(this,arguments)}function or(){return or=Jn(Wn().mark((function t(){var e,n,r=this;return Wn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.player.__skinStyleSheets__=this.player.__skinStyleSheets__||[],null===(e=this._skinData)||void 0===e||!e.styleSheets){t.next=6;break}return n=[],this._skinData.styleSheets.forEach((function(t){if(/\{.*/.test(t))n.push(new Promise((function(e){var n=document.createElement("style");n.innerHTML=t,r.player.__skinStyleSheets__.push(n),document.head.appendChild(n),e()})));else{var e=(0,v.joinPath)([r._skinUrl,t]);n.push(new Promise(function(){var t=Jn(Wn().mark((function t(n){var o;return Wn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,v.loadStyle)(e);case 2:o=t.sent,r.player.__skinStyleSheets__.push(o),n();case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()))}})),t.next=6,Promise.allSettled(n);case 6:case"end":return t.stop()}}),t,this)}))),or.apply(this,arguments)}function ir(){this.player.__skinStyleSheets__=this.player.__skinStyleSheets__||[],this.player.__skinStyleSheets__.forEach((function(t){(0,v.unloadStyle)(t)})),this.player.__skinStyleSheets__=[]}function ar(){return sr.apply(this,arguments)}function sr(){return sr=Jn(Wn().mark((function t(){var e,n=this;return Wn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!Array.isArray(null===(e=this._skinData)||void 0===e?void 0:e.icons)){t.next=3;break}return t.next=3,Promise.all(this._skinData.icons.map((function(t){t.plugin,t.identifier;var e=t.icon;return new Promise(function(){var t=Jn(Wn().mark((function t(r,o){var i,a;return Wn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((i=document.createElement("div")).innerHTML=e,!i.children[0]||"svg"!==i.children[0].tagName){t.next=6;break}r(),t.next=15;break;case 6:if(!n._externalResourcesAllowed){t.next=14;break}return a=(0,v.joinPath)([n._skinUrl,e]),t.next=10,fetch(a);case 10:t.sent.ok?r():o(new Error("Skin icon not found at URL '".concat(a,"'"))),t.next=15;break;case 14:throw new Error("No external resources allowed loading skin object");case 15:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}())})));case 3:case"end":return t.stop()}}),t,this)}))),sr.apply(this,arguments)}function ur(){return cr.apply(this,arguments)}function cr(){return cr=Jn(Wn().mark((function t(){var e,n=this;return Wn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!Array.isArray(null===(e=this._skinData)||void 0===e?void 0:e.icons)){t.next=3;break}return t.next=3,Promise.all(this._skinData.icons.map((function(t){var e=t.plugin,r=t.identifier,o=t.icon;return new Promise(function(){var t=Jn(Wn().mark((function t(i,a){var s,u,c,l;return Wn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((s=document.createElement("div")).innerHTML=o,!s.children[0]||"svg"!==s.children[0].tagName){t.next=7;break}n.player.addCustomPluginIcon(e,r,o),i(),t.next=20;break;case 7:return u=(0,v.joinPath)([n._skinUrl,o]),t.next=10,fetch(u);case 10:if(!(c=t.sent).ok){t.next=19;break}return t.next=14,c.text();case 14:l=t.sent,n.player.addCustomPluginIcon(e,r,l),i(),t.next=20;break;case 19:a(new Error("Skin icon not found at URL '".concat(u,"'")));case 20:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}())})));case 3:case"end":return t.stop()}}),t,this)}))),cr.apply(this,arguments)}var lr=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._player=e}var e,n,r,o;return e=t,n=[{key:"player",get:function(){return this._player}},{key:"loadSkin",value:(o=Jn(Wn().mark((function t(e){var n;return Wn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("string"!=typeof e){t.next=13;break}return this._skinUrl=(0,v.removeFileName)(e),this._externalResourcesAllowed=!0,t.next=5,fetch(e);case 5:if((n=t.sent).ok){t.next=8;break}throw new Error("Error loading skin from URL ".concat(e));case 8:return t.next=10,n.json();case 10:this._skinData=t.sent,t.next=14;break;case 13:"object"===qn(e)&&(this._skinUrl="",this._externalResourcesAllowed=!1,this._skinData=e);case 14:return t.prev=14,t.next=17,er.apply(this);case 17:return t.next=19,ar.apply(this);case 19:if(this._player.state!==Kn.Z.LOADED&&this._player.state!==Kn.Z.MANIFEST){t.next=22;break}return t.next=22,this._player.reload();case 22:t.next=30;break;case 24:throw t.prev=24,t.t0=t.catch(14),this._skinUrl="",this._externalResourcesAllowed=!0,this._skinData={},t.t0;case 30:case"end":return t.stop()}}),t,this,[[14,24]])}))),function(t){return o.apply(this,arguments)})},{key:"unloadSkin",value:function(){var t,e,n=this;Array.isArray(null===(t=this._skinData)||void 0===t?void 0:t.icons)&&(null===(e=this._skinData)||void 0===e||e.icons.forEach((function(t){var e=t.plugin,r=t.identifier;n.player.removeCustomPluginIcon(e,r)}))),this._skinUrl=null,this._skinData={},this._player.state!==Kn.Z.LOADED&&this._player.state!==Kn.Z.MANIFEST||this._player.reload()}}],n&&Xn(e.prototype,n),r&&Xn(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),fr=n(5361),hr={};hr.styleTagTransform=p(),hr.setAttributes=c(),hr.insert=s().bind(null,"head"),hr.domAPI=i(),hr.insertStyleElement=f(),e()(fr.Z,hr),fr.Z&&fr.Z.locals&&fr.Z.locals;var pr=n(4147);function dr(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,s=[],u=!0,c=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);u=!0);}catch(t){c=!0,o=t}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(t,e)||mr(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yr(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=mr(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function vr(t){return vr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vr(t)}function gr(t){return function(t){if(Array.isArray(t))return br(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||mr(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mr(t,e){if(t){if("string"==typeof t)return br(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?br(t,e):void 0}}function br(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function wr(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */wr=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function c(t,e,n,o){var i=e&&e.prototype instanceof h?e:h,a=Object.create(i.prototype),s=new k(o||[]);return r(a,"_invoke",{value:A(t,n,s)}),a}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var f={};function h(){}function p(){}function d(){}var y={};u(y,i,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(L([])));g&&g!==e&&n.call(g,i)&&(y=g);var m=d.prototype=h.prototype=Object.create(y);function b(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(r,i,a,s){var u=l(t[r],t,i);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"==vr(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,s)}),(function(t){o("throw",t,a,s)})):e.resolve(f).then((function(t){c.value=t,a(c)}),(function(t){return o("throw",t,a,s)}))}s(u.arg)}var i;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){o(t,n,e,r)}))}return i=i?i.then(r,r):r()}})}function A(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=x(a,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=l(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function x(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,x(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=l(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function L(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:_}}function _(){return{value:void 0,done:!0}}return p.prototype=d,r(m,"constructor",{value:d,configurable:!0}),r(d,"constructor",{value:p,configurable:!0}),p.displayName=u(d,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,u(t,s,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},b(w.prototype),u(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new w(c(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(m),u(m,s,"Generator"),u(m,i,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=L,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),E(n),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;E(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:L(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},t}function Ar(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==vr(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==vr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===vr(i)?i:String(i)),r)}var o,i}function Cr(t,e,n,r,o,i,a){try{var s=t[i](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,o)}function Er(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){Cr(i,r,o,a,s,"next",t)}function s(t){Cr(i,r,o,a,s,"throw",t)}a(void 0)}))}}var kr=Object.freeze(["UNLOADED","LOADING_MANIFEST","MANIFEST","LOADING_PLAYER","LOADED","UNLOADING_MANIFEST","UNLOADING_PLAYER","ERROR"]);function Lr(){var t,e,n,r,o,i,a,s,u=(null===(t=this.videoManifest)||void 0===t||null===(e=t.metadata)||void 0===e?void 0:e.preview)&&(0,v.resolveResourcePath)(this,null===(n=this.videoManifest)||void 0===n||null===(r=n.metadata)||void 0===r?void 0:r.preview)||this.defaultVideoPreview,c=(null===(o=this.videoManifest)||void 0===o||null===(i=o.metadata)||void 0===i?void 0:i.previewPortrait)&&(0,v.resolveResourcePath)(this,null===(a=this.videoManifest)||void 0===a||null===(s=a.metadata)||void 0===s?void 0:s.previewPortrait)||this.defaultVideoPreviewPortrait;this._previewContainer=new ae(this,this._containerElement,u,c)}function _r(){return Sr.apply(this,arguments)}function Sr(){return Sr=Er(wr().mark((function t(){var e,n,r,o,i,a,s,u,c,l,f,h,p,d;return wr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this._playerState=Kn.Z.LOADING_MANIFEST,this._manifestLoaded=!0,this.log.debug("Loading paella player"),t.next=5,this.initParams.loadConfig(this.configUrl,this);case 5:this._config=t.sent,tr.apply(this.skin,[this._config]),(0,Ct.fo)(this),this._defaultVideoPreview=this._config.defaultVideoPreview||this._initParams.defaultVideoPreview||"",this._defaultVideoPreviewPortrait=this._config.defaultVideoPreviewPortrait||this._initParams.defaultVideoPreviewPortrait||"",this._cookieConsent=new yn(this,{getConsent:this._initParams.getCookieConsentFunction,getDescription:this._initParams.getCookieDescriptionFunction}),this._preferences=new Yn(this),e=new URLSearchParams(window.location.search),n=new URLSearchParams,r=yr(e);try{for(r.s();!(o=r.n()).done;)i=dr(o.value,2),a=i[0],s=i[1],n.append(a.toLowerCase(),s)}catch(t){r.e(t)}finally{r.f()}return u=n.get("loglevel"),c=u&&-1!==Array.from(Object.keys(Cn)).indexOf(u.toUpperCase())?u:this._config.logLevel||"INFO",this._log.setLevel(c),t.next=21,this._initParams.loadDictionaries(this);case 21:return(0,rt.zb)(this),t.next=24,(0,cn.$_)(this);case 24:return t.next=26,(0,ln.L)(this);case 26:return this._videoContainer=new qt(this,this._containerElement),t.next=29,this.videoContainer.create();case 29:l=yr(this.pluginModules),t.prev=30,l.s();case 32:if((f=l.n()).done){t.next=43;break}if(h=f.value,t.t0=h.getDictionaries,!t.t0){t.next=39;break}return t.next=38,h.getDictionaries();case 38:t.t0=t.sent;case 39:if(p=t.t0)for(d in p)(0,Ct.BF)(d,p[d]);case 41:t.next=32;break;case 43:t.next=48;break;case 45:t.prev=45,t.t1=t.catch(30),l.e(t.t1);case 48:return t.prev=48,l.f(),t.finish(48);case 51:case"end":return t.stop()}}),t,this,[[30,45,48,51]])}))),Sr.apply(this,arguments)}function Pr(){return Tr.apply(this,arguments)}function Tr(){return Tr=Er(wr().mark((function t(){var e,n,r,o,i=this;return wr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(r in this.log.debug("Video manifest loaded:"),this.log.debug(this.videoManifest),this._data=new Ye.Z(this),Rn)o=Rn[r],(0,Ct.BF)(r,o);if(this._playerState=Kn.Z.MANIFEST,(0,ut.qe)(this,ut.ZP.MANIFEST_LOADED),null!==(e=this.videoManifest)&&void 0!==e&&null!==(n=e.metadata)&&void 0!==n&&n.preview){t.next=10;break}throw new Error("No preview image found in video manifest, and no default preview image defined.");case 10:Lr.apply(this);case 11:wt(this._videoManifest),1===__paella_instances__.length&&(this._loadKeypressHandler=this._loadKeypressHandler||function(){var t=Er(wr().mark((function t(e){return wr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!/space/i.test(e.code)){t.next=3;break}return t.next=3,i.play();case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),window.addEventListener("keypress",this._loadKeypressHandler,!0));case 13:case"end":return t.stop()}}),t,this)}))),Tr.apply(this,arguments)}var Or=function(){function t(e){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Ar(this,t),this._log=new Pn(this),this._packageData=pr,this._log.setLevel(Cn.VERBOSE),window.__paella_instances__=window.__paella_instances__||[],window.__paella_instances__.push(this),this.log.debug("New paella player instance"),"string"==typeof e&&(e=document.getElementById(e)),e.classList.add("player-container"),this.log.debug("Loading skin manager"),this._skin=new lr(this),this._containerElement=e,this._initParams=r,this._initParams.manifestFileName=this._initParams.manifestFileName||"data.json",this._initParams.loadConfig=this._initParams.loadConfig||A,this._initParams.getVideoId=this._initParams.getVideoId||C,this._initParams.getManifestUrl=this._initParams.getManifestUrl||k,this._initParams.getManifestFileUrl=this._initParams.getManifestFileUrl||_,this._initParams.loadVideoManifest=this._initParams.loadVideoManifest||P,this._initParams.customPluginContext=this._initParams.customPluginContext||[],this._initParams.translateFunction=this._initParams.translateFunction||Ct.Pb,this._initParams.getLanguageFunction=this._initParams.getLanguageFunction||Ct.cN,this._initParams.setLanguageFunction=this._initParams.setLanguageFunction||Ct.D$,this._initParams.addDictionaryFunction=this._initParams.addDictionaryFunction||Ct.Xx,this._initParams.getDictionariesFunction=this._initParams.getDictionariesFunction||Ct.m6,this._initParams.getDefaultLanguageFunction=this._initParams.getDefaultLanguageFunction||Ct.eJ,this._initParams.Loader=this._initParams.customLoader||Z,this._initParams.getCookieConsentFunction=this._initParams.getCookieConsentFunction||pn,this._initParams.getCookieDescriptionFunction=this._initParams.getCookieDescriptionFunction||dn,this._initParams.loadDictionaries=this._initParams.loadDictionaries||function(){var t=Er(wr().mark((function t(e){return wr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(0,Ct.BF)("en",{Hello:"Hello",World:"World"}),(0,Ct.BF)("es",{Hello:"Hola",World:"Mundo"}),(0,Ct.m0)(navigator.language.substring(0,2));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();var o=this._initParams.plugins||[];this._initParams.plugins=gr(o),(0,Ct.Gj)(this._initParams.translateFunction),(0,Ct.n1)(this._initParams.setLanguageFunction),(0,Ct.Ji)(this._initParams.getLanguageFunction),(0,Ct.fe)(this._initParams.addDictionaryFunction),(0,Ct.Fv)(this._initParams.getDictionariesFunction),(0,Ct.gc)(this._initParams.getDefaultLanguageFunction),this._config=null,this._defaultVideoPreview="",this._defaultVideoPreviewPortrait="",this._videoId=null,this._manifestUrl=null,this._manifestFileUrl=null,this._manifestData=null,this._videoManifest=null,this._playerLoaded=!1;var i=function(){n.resize()};window.addEventListener("resize",i),this.containerElement.addEventListener("fullscreenchange",(function(){(0,ut.qe)(n,ut.ZP.FULLSCREEN_CHANGED,{status:n.isFullscreen}),n.isFullscreen?(0,ut.qe)(n,ut.ZP.ENTER_FULLSCREEN):(0,ut.qe)(n,ut.ZP.EXIT_FULLSCREEN)})),this._playerState=Kn.Z.UNLOADED,this._customPluginIcons={}}var e,n,r,o,i,a,s,u,c,l,f,h,p,d,y,g,m,b,w;return e=t,n=[{key:"version",get:function(){return this._packageData.version}},{key:"pluginModules",get:function(){return this.__pluginModules||[]}},{key:"log",get:function(){return this._log}},{key:"ready",get:function(){return this._playerState===Kn.Z.LOADED}},{key:"state",get:function(){return this._playerState}},{key:"stateText",get:function(){return kr[this.state]}},{key:"Events",get:function(){return ut.ZP}},{key:"preferences",get:function(){return this._preferences}},{key:"skin",get:function(){return this._skin}},{key:"translate",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(0,Ct.Iu)(t,e)}},{key:"setLanguage",value:function(t){(0,Ct.m0)(t)}},{key:"getLanguage",value:function(){return(0,Ct.G3)()}},{key:"addDictionary",value:function(t,e){(0,Ct.BF)(t,e)}},{key:"getDictionaries",value:function(){return(0,Ct.rM)()}},{key:"getDefaultLanguage",value:function(){return(0,Ct.Mb)(this)}},{key:"bindEvent",value:function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];(0,ut.GT)(this,t,(function(t){return e(t)}),n)}},{key:"getShortcuts",value:function(){return(0,ln.gg)(this)}},{key:"getPlugin",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!e){var n={};for(var r in this.__pluginData__.pluginInstances){var o=this.__pluginData__.pluginInstances[r],i=o.find((function(e){if(e.name===t)return e}));i&&(n[r]=i)}return n}var a=this.__pluginData__.pluginInstances[e];if(a)return a.find((function(e){if(e.name===t)return e}))}},{key:"hideUiTime",get:function(){return this._hideUiTime},set:function(t){this._hideUiTime=t}},{key:"containerSize",get:function(){return{w:this._containerElement.offsetWidth,h:this._containerElement.offsetHeight}}},{key:"containerElement",get:function(){return this._containerElement}},{key:"initParams",get:function(){return this._initParams}},{key:"cookieConsent",get:function(){return this._cookieConsent}},{key:"configLoaded",get:function(){return null!==this.configUrl}},{key:"videoManifestLoaded",get:function(){return null!==this.videoManifest}},{key:"videoLoaded",get:function(){var t;return(null===(t=this.videoContainer)||void 0===t?void 0:t.ready)||!1}},{key:"playerLoaded",get:function(){return this._playerLoaded}},{key:"configResourcesUrl",get:function(){var t;return(null===(t=this._initParams)||void 0===t?void 0:t.configResourcesUrl)||"config/"}},{key:"configUrl",get:function(){var t;return(null===(t=this._initParams)||void 0===t?void 0:t.configUrl)||"config/config.json"}},{key:"config",get:function(){return this._config}},{key:"defaultVideoPreview",get:function(){return this._defaultVideoPreview}},{key:"defaultVideoPreviewPortrait",get:function(){return this._defaultVideoPreviewPortrait}},{key:"videoId",get:function(){return this._videoId}},{key:"repositoryUrl",get:function(){var t,e;return(null===(t=this._initParams)||void 0===t?void 0:t.repositoryUrl)||(null===(e=this.config)||void 0===e?void 0:e.repositoryUrl)||""}},{key:"manifestUrl",get:function(){return this._manifestUrl}},{key:"manifestFileName",get:function(){var t,e;return(null===(t=this.config)||void 0===t?void 0:t.manifestFileName)||(null===(e=this._initParams)||void 0===e?void 0:e.manifestFileName)||""}},{key:"manifestFileUrl",get:function(){return this._manifestFileUrl}},{key:"videoManifest",get:function(){return this._videoManifest}},{key:"previewContainer",get:function(){return this._previewContainer}},{key:"videoContainer",get:function(){return this._videoContainer}},{key:"playbackBar",get:function(){return this._playbackBar}},{key:"captionsCanvas",get:function(){return this._captionsCanvas}},{key:"data",get:function(){return this._data}},{key:"PlayerState",get:function(){return Kn.Z}},{key:"PlayerStateNames",get:function(){return kr}},{key:"frameList",get:function(){return this._frameList||{frames:[],targetContent:null}}},{key:"waitState",value:function(t){var e=this;return new Promise((function(n,r){"string"==typeof t&&(t=Kn.Z[t]),(t<0||t>Object.values(Kn.Z).length)&&r(Error("Invalid player state '".concat(t,"'"))),function r(){e.state===t?n():setTimeout(r,50)}()}))}},{key:"loadUrl",value:(w=Er(wr().mark((function t(e){var n,r,o,i,a,s,u=this,c=arguments;return wr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=c.length>1&&void 0!==c[1]?c[1]:{},r=n.title,o=n.duration,i=n.preview,a=n.previewPortrait,this._playerState===Kn.Z.UNLOADED){t.next=3;break}throw new Error(this.translate("loadUrl(): Invalid current player state: $1",[kr[this._playerState]]));case 3:if(!this._manifestLoaded){t.next=5;break}throw new Error(this.translate("loadUrl(): Invalid current player state: $1",[kr[this._playerState]]));case 5:if(e){t.next=7;break}throw new Error(this.translate("loadUrl(): No URL specified."));case 7:return Array.isArray(e)||(e=[e]),r||(r=(0,v.getUrlFileName)(e[0]),this.log.warn("Paella.loadUrl(): no title specified. Using URL file name as video name.")),t.prev=9,t.next=12,_r.apply(this);case 12:if(i||""===this.defaultVideoPreview&&""===this.defaultVideoPreviewPortrait){t.next=18;break}i=this.defaultVideoPreview,a=this.defaultVideoPreviewPortrait,this.log.warn("Paella.loadUrl(): no preview image specified. Using default preview image."),t.next=20;break;case 18:if(i||a){t.next=20;break}throw new Error("Paella.loadUrl(): no preview image specified and no default preview image configured.");case 20:return this._videoId=(0,v.removeExtension)((0,v.getUrlFileName)(e[0])),this._manifestUrl=(0,v.removeFileName)(e[0]),this._manifestFileUrl=e[0],this.log.debug("Loading video with identifier '".concat(this.videoId,"' from URL '").concat(this.manifestFileUrl,"'")),s=(0,ot.Fw)(this,e.length)[0],this._videoManifest={metadata:{duration:o,title:r,preview:i,previewPortrait:a},streams:e.map((function(t,e){return{sources:Ut(u,t),content:s[e],role:0===e?"mainAudio":null}}))},t.next=28,Pr.apply(this);case 28:t.next=36;break;case 30:throw t.prev=30,t.t0=t.catch(9),this._playerState=Kn.Z.ERROR,this.log.error(t.t0),this._errorContainer=new nt(this,this.translate(t.t0.message)),t.t0;case 36:case"end":return t.stop()}}),t,this,[[9,30]])}))),function(t){return w.apply(this,arguments)})},{key:"loadManifest",value:(b=Er(wr().mark((function t(){return wr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this._playerState===Kn.Z.UNLOADED){t.next=2;break}throw new Error(this.translate("loadManifest(): Invalid current player state: $1",[kr[this._playerState]]));case 2:if(!this._manifestLoaded){t.next=4;break}return t.abrupt("return");case 4:return t.prev=4,t.next=7,_r.apply(this);case 7:return t.next=9,this.initParams.getVideoId(this._config,this);case 9:if(this._videoId=t.sent,null!==this.videoId){t.next=12;break}throw new Error("No video identifier specified");case 12:return t.next=14,this.initParams.getManifestUrl(this.repositoryUrl,this.videoId,this._config,this);case 14:return this._manifestUrl=t.sent,t.next=17,this.initParams.getManifestFileUrl(this._manifestUrl,this.manifestFileName,this._config,this);case 17:return this._manifestFileUrl=t.sent,this.log.debug("Loading video with identifier '".concat(this.videoId,"' from URL '").concat(this.manifestFileUrl,"'")),t.next=21,this.initParams.loadVideoManifest(this.manifestFileUrl,this._config,this);case 21:return this._videoManifest=t.sent,this._videoManifest.metadata=this._videoManifest.metadata||{},this._videoManifest.metadata.preview||""===this.defaultVideoPreview&&""===this.defaultVideoPreviewPortrait||(this._videoManifest.metadata.preview=this.defaultVideoPreview,this._videoManifest.metadata.previewPortrait=this.defaultVideoPreviewPortrait,this.log.warn("Paella.loadUrl(): no preview image specified. Using default preview image.")),this._videoManifest.frameList&&!Array.isArray(this._videoManifest.frameList)&&"object"===vr(this._videoManifest.frameList)&&"string"==typeof this._videoManifest.frameList.targetContent&&Array.isArray(this._videoManifest.frameList.frames)?this._frameList=this._videoManifest.frameList:Array.isArray(this._videoManifest.frameList)&&(this._frameList={targetContent:null,frames:this._videoManifest.frameList}),ir.apply(this.skin),t.next=28,ur.apply(this.skin);case 28:return t.next=30,rr.apply(this.skin);case 30:return t.next=32,Pr.apply(this);case 32:t.next=40;break;case 34:throw t.prev=34,t.t0=t.catch(4),this._playerState=Kn.Z.ERROR,this.log.error(t.t0),this._errorContainer=new nt(this,this.translate(t.t0.message)),t.t0;case 40:case"end":return t.stop()}}),t,this,[[4,34]])}))),function(){return b.apply(this,arguments)})},{key:"loadPlayer",value:(m=Er(wr().mark((function t(){var e,n,r;return wr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,this._captionsCanvas=new un(this,this._containerElement),this._playerState===Kn.Z.MANIFEST){t.next=4;break}throw new Error(this.translate("loadPlayer(): Invalid current player state: $1",[kr[this._playerState]]));case 4:return this._playerState=Kn.Z.LOADING_PLAYER,null===(e=this._previewContainer)||void 0===e||e.removeFromParent(),this._loader=new this.initParams.Loader(this),t.next=9,this._loader.create();case 9:return t.next=11,this.videoContainer.load(null===(n=this.videoManifest)||void 0===n?void 0:n.streams);case 11:return(0,ut.qe)(this,ut.ZP.STREAM_LOADED),this._playbackBar=new ze(this,this.containerElement),t.next=15,this._playbackBar.load();case 15:this._hideUiTime=5e3,(0,v.setupAutoHideUiTimer)(this),this._captionsCanvas.load(),this._playerState=Kn.Z.LOADED,(0,ut.qe)(this,ut.ZP.PLAYER_LOADED),!(null===(r=this.videoManifest.metadata.visibleTimeLine)||void 0===r||r)&&this.playbackBar.progressIndicator.hideTimeLine(),this._loader.debug||(this._loader.removeFromParent(),this._loader=null),t.next=31;break;case 25:throw t.prev=25,t.t0=t.catch(0),this._playerState=Kn.Z.ERROR,this._loader&&(this._loader.removeFromParent(),this._loader=null),this._errorContainer=new nt(this,t.t0.message),t.t0;case 31:case"end":return t.stop()}}),t,this,[[0,25]])}))),function(){return m.apply(this,arguments)})},{key:"load",value:function(){var t=Er(wr().mark((function t(){return wr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=this.state,t.next=t.t0===Kn.Z.UNLOADED?3:t.t0===Kn.Z.MANIFEST?8:t.t0===Kn.Z.LOADED?11:12;break;case 3:return t.next=5,this.loadManifest();case 5:return t.next=7,this.loadPlayer();case 7:case 10:case 11:return t.abrupt("break",13);case 8:return t.next=10,this.loadPlayer();case 12:throw new Error(this.translate("Could not load player: state transition in progress: $1",[kr[this.state]]));case 13:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"unload",value:(g=Er(wr().mark((function t(){return wr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=this.state,t.next=t.t0===Kn.Z.UNLOADED?3:t.t0===Kn.Z.MANIFEST?4:t.t0===Kn.Z.LOADED||t.t0===Kn.Z.ERROR?7:12;break;case 3:case 6:case 11:return t.abrupt("break",13);case 4:return t.next=6,this.unloadManifest();case 7:return t.next=9,this.unloadPlayer();case 9:return t.next=11,this.unloadManifest();case 12:throw new Error(this.translate("Could not unload player: state transition in progress: $1",[kr[this.state]]));case 13:case"end":return t.stop()}}),t,this)}))),function(){return g.apply(this,arguments)})},{key:"unloadManifest",value:(y=Er(wr().mark((function t(){var e;return wr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this._playerState===Kn.Z.MANIFEST||this._playerState===Kn.Z.ERROR){t.next=2;break}throw new Error(this.translate("unloadManifest(): Invalid current player state: $1",[kr[this._playerState]]));case 2:return this._errorContainer&&(this._errorContainer.removeFromParent(),this._errorContainer=null),this._playerState=Kn.Z.UNLOADING_MANIFEST,this.log.debug("Unloading paella player"),t.next=7,(0,cn.v$)(this);case 7:return t.next=9,(0,ln.CZ)(this);case 9:return t.next=11,(0,rt.W)(this);case 11:this._manifestLoaded=!1,null===(e=this._previewContainer)||void 0===e||e.removeFromParent(),this._preferences=null,this._playerState=Kn.Z.UNLOADED,ir.apply(this.skin);case 16:case"end":return t.stop()}}),t,this)}))),function(){return y.apply(this,arguments)})},{key:"unloadPlayer",value:(d=Er(wr().mark((function t(){var e,n,r,o,i;return wr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this._playerState===Kn.Z.LOADED||this._playerState===Kn.Z.ERROR){t.next=2;break}throw new Error(this.translate("unloadManifest(): Invalid current player state: $1",[kr[this._playerState]]));case 2:return this._errorContainer&&(this._errorContainer.removeFromParent(),this._errorContainer=null),this._playerState=Kn.Z.UNLOADING_PLAYER,t.next=6,null===(e=this._videoContainer)||void 0===e?void 0:e.unload();case 6:return this._videoContainer=null,t.next=9,null===(n=this._playbackBar)||void 0===n?void 0:n.unload();case 9:this._playbackBar=null,null===(r=this._captionsCanvas)||void 0===r||r.unload(),this._captionsCanvas=null,(0,v.clearAutoHideTimer)(this),(0,ut.qe)(this,ut.ZP.PLAYER_UNLOADED),je.Z.Unload(),He.Z.Unload(this),null!==(o=this.videoManifest)&&void 0!==o&&null!==(i=o.metadata)&&void 0!==i&&i.preview&&Lr.apply(this),(0,ut.Ii)(this),this._playerState=Kn.Z.MANIFEST;case 19:case"end":return t.stop()}}),t,this)}))),function(){return d.apply(this,arguments)})},{key:"reload",value:(p=Er(wr().mark((function t(){var e,n=arguments;return wr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=n.length>0&&void 0!==n[0]?n[0]:null,t.t0=this.state,t.next=t.t0===Kn.Z.UNLOADED?4:t.t0===Kn.Z.MANIFEST?5:t.t0===Kn.Z.LOADED?8:11;break;case 4:case 7:case 10:return t.abrupt("break",11);case 5:return t.next=7,this.unloadManifest();case 8:return t.next=10,this.unload();case 11:if("function"!=typeof e){t.next=14;break}return t.next=14,e();case 14:return t.next=16,this.load();case 16:case"end":return t.stop()}}),t,this)}))),function(){return p.apply(this,arguments)})},{key:"resize",value:(h=Er(wr().mark((function t(){var e,n,r,o=this;return wr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:null===(e=this.videoContainer)||void 0===e||e.updateLayout(),null===(n=this.playbackBar)||void 0===n||n.onResize(),this.videoContainer&&(r=function(){return{w:o.videoContainer.element.offsetWidth,h:o.videoContainer.element.offsetHeight}},(0,ut.qe)(this,ut.ZP.RESIZE,{size:r()}),this._resizeEndTimer&&clearTimeout(this._resizeEndTimer),this._resizeEndTimer=setTimeout((function(){(0,ut.qe)(o,ut.ZP.RESIZE_END,{size:r()})}),1e3));case 3:case"end":return t.stop()}}),t,this)}))),function(){return h.apply(this,arguments)})},{key:"hideUserInterface",value:(f=Er(wr().mark((function t(){var e,n,r;return wr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,null===(e=this.videoContainer)||void 0===e?void 0:e.paused();case 2:if(t.sent){t.next=8;break}this._uiHidden=!0,null===(n=this.videoContainer)||void 0===n||n.hideUserInterface(),null===(r=this.playbackBar)||void 0===r||r.hideUserInterface(),He.Z.HideUserInterface(this),(0,ut.qe)(this,ut.ZP.HIDE_UI);case 8:case"end":return t.stop()}}),t,this)}))),function(){return f.apply(this,arguments)})},{key:"showUserInterface",value:(l=Er(wr().mark((function t(){var e,n;return wr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:null===(e=this.videoContainer)||void 0===e||e.showUserInterface(),null===(n=this.playbackBar)||void 0===n||n.showUserInterface(),He.Z.ShowUserInterface(this),this._uiHidden&&(0,ut.qe)(this,ut.ZP.SHOW_UI),this._uiHidden=!1;case 5:case"end":return t.stop()}}),t,this)}))),function(){return l.apply(this,arguments)})},{key:"play",value:(c=Er(wr().mark((function t(){return wr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this._loadKeypressHandler&&(window.removeEventListener("keypress",this._loadKeypressHandler,!0),this._loadKeypressHandler=null),this.videoContainer.ready){t.next=4;break}return t.next=4,this.loadPlayer();case 4:return t.next=6,this.videoContainer.play();case 6:case"end":return t.stop()}}),t,this)}))),function(){return c.apply(this,arguments)})},{key:"pause",value:(u=Er(wr().mark((function t(){var e;return wr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,null===(e=this.videoContainer)||void 0===e?void 0:e.pause();case 2:case"end":return t.stop()}}),t,this)}))),function(){return u.apply(this,arguments)})},{key:"paused",value:(s=Er(wr().mark((function t(){return wr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.videoContainer){t.next=4;break}return t.abrupt("return",!0);case 4:return t.abrupt("return",this.videoContainer.paused());case 5:case"end":return t.stop()}}),t,this)}))),function(){return s.apply(this,arguments)})},{key:"stop",value:(a=Er(wr().mark((function t(){var e;return wr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,null===(e=this.videoContainer)||void 0===e?void 0:e.stop();case 2:case"end":return t.stop()}}),t,this)}))),function(){return a.apply(this,arguments)})},{key:"isFullScreenSupported",value:function(){return this.containerElement.requestFullscreen||this.containerElement.webkitRequestFullScreen}},{key:"enterFullscreen",value:(i=Er(wr().mark((function t(){var e,n=this;return wr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=null,this.containerElement.requestFullscreen?e=this.containerElement.requestFullscreen():this.containerElement.webkitRequestFullScreen&&(this.log.debug("Safari enter fullscreen"),e=this.containerElement.webkitRequestFullScreen()),setTimeout((function(){return n.resize()}),500),t.abrupt("return",e);case 4:case"end":return t.stop()}}),t,this)}))),function(){return i.apply(this,arguments)})},{key:"exitFullscreen",value:(o=Er(wr().mark((function t(){return wr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!document.exitFullscreen||!this.isFullscreen){t.next=4;break}return t.abrupt("return",document.exitFullscreen());case 4:if(!document.webkitCancelFullScreen||!this.isFullscreen){t.next=7;break}return this.log.debug("Safari exit fullscreen"),t.abrupt("return",document.webkitCancelFullScreen());case 7:case"end":return t.stop()}}),t,this)}))),function(){return o.apply(this,arguments)})},{key:"isFullscreen",get:function(){return document.fullscreenElement===this.containerElement||document.webkitFullscreenElement===this.containerElement}},{key:"addCustomPluginIcon",value:function(t,e,n){this._customPluginIcons["".concat(t,"-").concat(e)]=n}},{key:"removeCustomPluginIcon",value:function(t,e){this._customPluginIcons["".concat(t,"-").concat(e)]=null}},{key:"getCustomPluginIcon",value:function(t,e){return this._requestedCustomIcons=this._requestedCustomIcons||[],this._requestedCustomIcons.find((function(n){return n.pluginName===t&&n.iconName===e}))||this._requestedCustomIcons.push({pluginName:t,iconName:e}),this._customPluginIcons["".concat(t,"-").concat(e)]}},{key:"requestedCustomIcons",get:function(){return this._requestedCustomIcons||[]}}],n&&xr(e.prototype,n),r&&xr(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),Rr=n(9076),Ir=n(1547),jr=n(7528),Dr=n(143),Br=n(4025),Nr=n(625),Mr=n(2452),Fr=n(7488),Ur=n(7133),Gr=n(1309),Vr=n(4062),$r=n(7096),Zr=n(8069),zr=n(2604),Hr=n(4348),Yr=n(6361),Kr=n(3591),Wr=n(5026),qr=n(8785),Xr=n(7236),Qr=n(675),Jr=n(2128),to=n(6761),eo=n(7629),no=n(6280),ro=n(7118)})(),r})(),t.exports=n()})),Z=V((function(t,e){var n;self,n=t=>(()=>{var e={95:(t,e,n)=>{n.r(e),n.d(e,{default:()=>y});var r=n(995),o={},i=n(456);i.keys().forEach((function(t){var e=/([a-z-]+[A-Z_]+)\.json/.exec(t),n=e&&e[1];if(n){var r=i(t);o[n]=r;var a=n.substring(0,2);a in o||(o[a]=r)}}));const a=o;function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function u(t,e,n,r,o,i,a){try{var s=t[i](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,o)}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function f(t,e){return f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},f(t,e)}function h(t,e){return!e||"object"!==s(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function p(t){return p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},p(t)}var d=null,y=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(g,t);var e,n,r,o,i,s,y,v=(s=g,y=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=p(s);if(y){var n=p(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return h(this,t)});function g(){return c(this,g),v.apply(this,arguments)}return e=g,n=[{key:"moduleName",get:function(){return"paella-basic-plugins"}},{key:"moduleVersion",get:function(){return"1.41.0"}},{key:"getDictionaries",value:(o=regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",a);case 1:case"end":return t.stop()}}),t)})),i=function(){var t=this,e=arguments;return new Promise((function(n,r){var i=o.apply(t,e);function a(t){u(i,n,r,a,s,"next",t)}function s(t){u(i,n,r,a,s,"throw",t)}a(void 0)}))},function(){return i.apply(this,arguments)})}],r=[{key:"Get",value:function(){return d||(d=new g),d}}],n&&l(e.prototype,n),r&&l(e,r),g}(r.PluginModule)},252:(t,e,n)=>{n.r(e),n.d(e,{default:()=>y});var r=n(995),o=n(95),i=n(998),a=n.n(i);function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function u(t,e,n,r,o,i,a){try{var s=t[i](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,o)}function c(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){u(i,r,o,a,s,"next",t)}function s(t){u(i,r,o,a,s,"throw",t)}a(void 0)}))}}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e,n){return f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=d(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}},f(t,e,n||t)}function h(t,e){return h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},h(t,e)}function p(t,e){return!e||"object"!==s(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function d(t){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},d(t)}var y=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}(b,t);var e,n,r,i,s,u,y,v,g,m=(v=b,g=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=d(v);if(g){var n=d(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return p(this,t)});function b(){return l(this,b),m.apply(this,arguments)}return e=b,n=[{key:"getPluginModuleInstance",value:function(){return o.default.Get()}},{key:"name",get:function(){return f(d(b.prototype),"name",this)||"es.upv.paella.audioSelector"}},{key:"getAriaLabel",value:function(){return"Select the active audio track"}},{key:"getDescription",value:function(){return this.getAriaLabel()}},{key:"dynamicWidth",get:function(){return!1===this.config.showIcon}},{key:"titleSize",get:function(){return!1===this.config.showIcon?"large":"small"}},{key:"isEnabled",value:(y=c(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f(d(b.prototype),"isEnabled",this).call(this);case 2:if(t.sent){t.next=4;break}return t.abrupt("return",!1);case 4:return t.next=6,this.player.videoContainer.streamProvider.getAudioTracks();case 6:return e=t.sent,t.abrupt("return",(null==e?void 0:e.length)>1);case 8:case"end":return t.stop()}}),t,this)}))),function(){return y.apply(this,arguments)})},{key:"load",value:(u=c(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return!1===this.config.showIcon||(this.icon=this.player.getCustomPluginIcon(this.name,"screenIcon")||a()),t.next=3,this.player.videoContainer.streamProvider.getAudioTracks();case 3:return this._audioTracks=t.sent,t.next=6,this.updateAudioLabel();case 6:case"end":return t.stop()}}),t,this)}))),function(){return u.apply(this,arguments)})},{key:"getMenu",value:(s=c(regeneratorRuntime.mark((function t(){var e,n,r=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.player.videoContainer.streamProvider.currentAudioTrack,n=this._audioTracks.map((function(t){return{id:t.id,title:r.player.translate(t.name)||r.player.translate(t.language),data:t,selected:t===e}})),t.abrupt("return",n);case 3:case"end":return t.stop()}}),t,this)}))),function(){return s.apply(this,arguments)})},{key:"updateAudioLabel",value:(i=c(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=this.player.videoContainer.streamProvider.currentAudioTrack,this.title=e.language;case 2:case"end":return t.stop()}}),t,this)}))),function(){return i.apply(this,arguments)})},{key:"itemSelected",value:(r=c(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.player.videoContainer.streamProvider.setCurrentAudioTrack(e.data);case 2:this.updateAudioLabel();case 3:case"end":return t.stop()}}),t,this)}))),function(t){return r.apply(this,arguments)})}],n&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(e.prototype,n),b}(r.MenuButtonPlugin)},925:(t,e,n)=>{n.r(e),n.d(e,{default:()=>y});var r=n(995),o=n(95),i=n(842),a=n.n(i);function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function u(t,e,n,r,o,i,a){try{var s=t[i](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,o)}function c(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){u(i,r,o,a,s,"next",t)}function s(t){u(i,r,o,a,s,"throw",t)}a(void 0)}))}}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e,n){return f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=d(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}},f(t,e,n||t)}function h(t,e){return h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},h(t,e)}function p(t,e){return!e||"object"!==s(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function d(t){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},d(t)}var y=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}(g,t);var e,n,r,i,s,u,y,v=(u=g,y=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=d(u);if(y){var n=d(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return p(this,t)});function g(){return l(this,g),v.apply(this,arguments)}return e=g,n=[{key:"getPluginModuleInstance",value:function(){return o.default.Get()}},{key:"name",get:function(){return f(d(g.prototype),"name",this)||"es.upv.paella.backwardButtonPlugin"}},{key:"getAriaLabel",value:function(){return this.player.translate("Backward $1 seconds",[this.time])}},{key:"getDescription",value:function(){return this.getAriaLabel()}},{key:"isEnabled",value:(s=c(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f(d(g.prototype),"isEnabled",this).call(this);case 2:return e=t.sent,this.time=this.config.time||30,t.abrupt("return",e);case 5:case"end":return t.stop()}}),t,this)}))),function(){return s.apply(this,arguments)})},{key:"load",value:(i=c(regeneratorRuntime.mark((function t(){var e,n=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=void 0===this.config.suffix||this.config.suffix,this.suffix=e?"s":"",this.icon=this.player.getCustomPluginIcon(this.name,"backwardIcon")||a(),setTimeout((function(){Array.from(n.iconElement.getElementsByClassName("time-text")).forEach((function(t){t.innerHTML=n.time+n.suffix}))}),100);case 4:case"end":return t.stop()}}),t,this)}))),function(){return i.apply(this,arguments)})},{key:"action",value:(r=c(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.player.videoContainer.currentTime();case 2:e=t.sent,this.player.videoContainer.setCurrentTime(e-this.time);case 4:case"end":return t.stop()}}),t,this)}))),function(){return r.apply(this,arguments)})}],n&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(e.prototype,n),g}(r.ButtonPlugin)},460:(t,e,n)=>{n.r(e),n.d(e,{default:()=>y});var r=n(995),o=n(95),i=n(963),a=n.n(i);function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function u(t,e,n,r,o,i,a){try{var s=t[i](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,o)}function c(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){u(i,r,o,a,s,"next",t)}function s(t){u(i,r,o,a,s,"throw",t)}a(void 0)}))}}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e,n){return f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=d(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}},f(t,e,n||t)}function h(t,e){return h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},h(t,e)}function p(t,e){return!e||"object"!==s(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function d(t){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},d(t)}var y=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}(g,t);var e,n,i,s,u,y,v=(u=g,y=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=d(u);if(y){var n=d(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return p(this,t)});function g(){return l(this,g),v.apply(this,arguments)}return e=g,n=[{key:"getPluginModuleInstance",value:function(){return o.default.Get()}},{key:"name",get:function(){return f(d(g.prototype),"name",this)||"es.upv.paella.captionsSelectorPlugin"}},{key:"getAriaLabel",value:function(){return"Select captions"}},{key:"getDescription",value:function(){return this.getAriaLabel()}},{key:"load",value:(s=c(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.icon=this.player.getCustomPluginIcon(this.name,"captionsIcon")||a(),this._captionsCanvas=this.player.captionsCanvas,this._selected=null,0==this._captionsCanvas.captions.length&&this.disable(),(0,r.bindEvent)(this.player,r.Events.CAPTIONS_CHANGED,(function(){e._captionsCanvas.captions.length>0&&e.enable()})),(0,r.bindEvent)(this.player,r.Events.CAPTIONS_ENABLED,(function(t){e._selected=t.language})),(0,r.bindEvent)(this.player,r.Events.CAPTIONS_DISABLED,(function(){e._selected=null}));case 7:case"end":return t.stop()}}),t,this)}))),function(){return s.apply(this,arguments)})},{key:"getMenu",value:(i=c(regeneratorRuntime.mark((function t(){var e,n=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=[{id:-1,title:"Disabled",index:-1,selected:null===this._selected}],this._captionsCanvas.captions.forEach((function(t,r){e.push({id:t.language,title:t.label,index:r,selected:t.language===n._selected})})),t.abrupt("return",e);case 3:case"end":return t.stop()}}),t,this)}))),function(){return i.apply(this,arguments)})},{key:"buttonType",get:function(){return"radio"}},{key:"itemSelected",value:function(t){-1===t.index?this._captionsCanvas.disableCaptions():this._captionsCanvas.enableCaptions({index:t.index}),r.PopUp.HideAllPopUps(!1)}}],n&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(e.prototype,n),g}(r.MenuButtonPlugin)},787:(t,e,n)=>{n.r(e),n.d(e,{default:()=>p});var r=n(995),o=n(95);function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function a(t,e,n,r,o,i,a){try{var s=t[i](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,o)}function s(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function s(t){a(i,r,o,s,u,"next",t)}function u(t){a(i,r,o,s,u,"throw",t)}s(void 0)}))}}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e,n){return c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=h(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}},c(t,e,n||t)}function l(t,e){return l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},l(t,e)}function f(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function h(t){return h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},h(t)}var p=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(v,t);var e,n,i,a,p,d,y=(p=v,d=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=h(p);if(d){var n=h(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return f(this,t)});function v(){return u(this,v),y.apply(this,arguments)}return e=v,n=[{key:"getPluginModuleInstance",value:function(){return o.default.Get()}},{key:"name",get:function(){return c(h(v.prototype),"name",this)||"es.upv.paella.customTimeProgressIndicator"}},{key:"isEnabled",value:(a=s(regeneratorRuntime.mark((function t(){var e,n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c(h(v.prototype),"isEnabled",this).call(this);case 2:return r=t.sent,t.abrupt("return",r&&(null===(e=null===(n=this.player.videoManifest.metadata)||void 0===n?void 0:n.visibleTimeLine)||void 0===e||e));case 4:case"end":return t.stop()}}),t,this)}))),function(){return a.apply(this,arguments)})},{key:"load",value:(i=s(regeneratorRuntime.mark((function t(){var e,n,o,i=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.player.videoContainer.duration();case 2:e=t.sent,n=void 0===this.config.showTotal||this.config.showTotal,(o=function(t){var o=r.utils.secondsToTime(t);i.title=n?"".concat(o," / ").concat(r.utils.secondsToTime(e)):o})(0),this.player.bindEvent(r.Events.TIMEUPDATE,(function(t){var e=t.currentTime;o(e)}));case 7:case"end":return t.stop()}}),t,this)}))),function(){return i.apply(this,arguments)})},{key:"interactive",get:function(){return!1}},{key:"dynamicWidth",get:function(){return!0}},{key:"titleSize",get:function(){return this.config.textSize||"medium"}}],n&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(e.prototype,n),v}(r.ButtonPlugin)},61:(t,e,n)=>{n.r(e),n.d(e,{default:()=>m});var r=n(995),o=n(95),i=n(379),a=n.n(i),s=n(538);a()(s.Z,{insert:"head",singleton:!1}),s.Z.locals;var u=n(549),c=n.n(u);function l(t){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l(t)}function f(t,e,n,r,o,i,a){try{var s=t[i](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,o)}function h(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){f(i,r,o,a,s,"next",t)}function s(t){f(i,r,o,a,s,"throw",t)}a(void 0)}))}}function p(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d(t,e,n){return d="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=g(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}},d(t,e,n||t)}function y(t,e){return y=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},y(t,e)}function v(t,e){return!e||"object"!==l(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function g(t){return g=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},g(t)}var m=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&y(t,e)}(m,t);var e,n,i,a,s,u,l,f=(u=m,l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=g(u);if(l){var n=g(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return v(this,t)});function m(){return p(this,m),f.apply(this,arguments)}return e=m,n=[{key:"getPluginModuleInstance",value:function(){return o.default.Get()}},{key:"name",get:function(){return d(g(m.prototype),"name",this)||"es.upv.paella.downloadsPlugin"}},{key:"isEnabled",value:(s=h(regeneratorRuntime.mark((function t(){var e,n=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d(g(m.prototype),"isEnabled",this).call(this);case 2:return e=t.sent,this._downloads={},e&&this.player.videoManifest.streams.forEach((function(t){var e=[],r=t.sources.mp4;r&&r.forEach((function(n){var r,o;e.push({id:"".concat(t.content,"_").concat((null===(r=n.res)||void 0===r?void 0:r.w)||0,"_").concat((null===(o=n.res)||void 0===o?void 0:o.h)||0),src:n.src,res:n.res||{w:0,h:0},mimetype:n.mimetype})})),e.length>0&&(n._downloads[t.content]=e)})),t.abrupt("return",Object.keys(this._downloads).length>0);case 6:case"end":return t.stop()}}),t,this)}))),function(){return s.apply(this,arguments)})},{key:"load",value:(a=h(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.icon=this.player.getCustomPluginIcon(this.name,"downloadIcon")||c();case 1:case"end":return t.stop()}}),t,this)}))),function(){return a.apply(this,arguments)})},{key:"getContent",value:(i=h(regeneratorRuntime.mark((function t(){var e,n=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=(0,r.createElementWithHtmlText)('\n          <div class="downloads-plugin">\n              <h4>'.concat((0,r.translate)("Available downloads"),"</h4>\n          </div>")),Object.keys(this._downloads).forEach((function(t){var o=(0,r.createElementWithHtmlText)('\n          <div class="downloadStream">\n            <div class="title">'.concat(t,"</div>\n          </div>"),e),i=(0,r.createElementWithHtmlText)("<ul></ul>",o);n._downloads[t].forEach((function(t){var e="".concat(t.res.w,"x").concat(t.res.h);(0,r.createElementWithHtmlText)('\n                  <li>\n                    <a href="'.concat(t.src,'" target="_blank">\n                      <span class="mimetype">[').concat(t.mimetype,']</span><span class="res">').concat(e,"</span>\n                    </a>\n                  </li>\n              "),i)}))})),t.abrupt("return",e);case 4:case"end":return t.stop()}}),t,this)}))),function(){return i.apply(this,arguments)})}],n&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(e.prototype,n),m}(r.PopUpButtonPlugin)},800:(t,e,n)=>{n.r(e),n.d(e,{default:()=>d});var r=n(995),o=n(95),i=n(770),a=n.n(i);function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function u(t,e,n,r,o,i,a){try{var s=t[i](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,o)}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e,n){return l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=p(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}},l(t,e,n||t)}function f(t,e){return f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},f(t,e)}function h(t,e){return!e||"object"!==s(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function p(t){return p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},p(t)}var d=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(v,t);var e,n,r,i,s,d,y=(s=v,d=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=p(s);if(d){var n=p(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return h(this,t)});function v(){return c(this,v),y.apply(this,arguments)}return e=v,n=[{key:"getPluginModuleInstance",value:function(){return o.default.Get()}},{key:"name",get:function(){return l(p(v.prototype),"name",this)||"es.upv.paella.externalPluginTest"}},{key:"icon",get:function(){return a()}},{key:"action",value:(r=regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:alert("Test external plugin");case 1:case"end":return t.stop()}}),t)})),i=function(){var t=this,e=arguments;return new Promise((function(n,o){var i=r.apply(t,e);function a(t){u(i,n,o,a,s,"next",t)}function s(t){u(i,n,o,a,s,"throw",t)}a(void 0)}))},function(){return i.apply(this,arguments)})}],n&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(e.prototype,n),v}(r.ButtonPlugin)},623:(t,e,n)=>{n.r(e),n.d(e,{default:()=>m});var r=n(995),o=n(379),i=n.n(o),a=n(264);i()(a.Z,{insert:"head",singleton:!1}),a.Z.locals;var s=n(283),u=n.n(s),c=n(95);function l(t){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l(t)}function f(t,e,n,r,o,i,a){try{var s=t[i](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,o)}function h(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){f(i,r,o,a,s,"next",t)}function s(t){f(i,r,o,a,s,"throw",t)}a(void 0)}))}}function p(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d(t,e,n){return d="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=g(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}},d(t,e,n||t)}function y(t,e){return y=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},y(t,e)}function v(t,e){return!e||"object"!==l(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function g(t){return g=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},g(t)}var m=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&y(t,e)}(f,t);var e,n,o,i,a,s,l=(a=f,s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=g(a);if(s){var n=g(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return v(this,t)});function f(){return p(this,f),l.apply(this,arguments)}return e=f,n=[{key:"getPluginModuleInstance",value:function(){return c.default.Get()}},{key:"name",get:function(){return d(g(f.prototype),"name",this)||"es.upv.paella.findCaptionsPlugin"}},{key:"getContent",value:(i=h(regeneratorRuntime.mark((function t(){var e,n,o,i,a,s,u,c=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.player.translate("Search"),n=(0,r.createElementWithHtmlText)('<div class="captions-search-container"></div>'),this._resultsContainer=(0,r.createElementWithHtmlText)('<div class="search-results"></div>',n),(o=(0,r.createElementWithHtmlText)('<input type="text" placeholder="'.concat(e,'"/>'),n)).addEventListener("click",(function(t){t.stopPropagation()})),i=navigator.language.substring(0,2),a=function(t){return c.player.captionsCanvas.currentCaptions?t===c.player.captionsCanvas.currentCaptions.language:t===i},s=function(){var t=null;c.captions.some((function(e){a(e.language)&&(t=e)})),t||(t=c.captions[0]),c._cueElements=[],t&&t.cues.forEach((function(t){var e=(0,r.createElementWithHtmlText)('<p class="result-item">'.concat(t.startString,": ").concat(t.captions[0],"</p>"),c._resultsContainer);e._cue=t,e.addEventListener("click",function(){var t=h(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.target._cue.start,t.next=3,c.player.videoContainer.setCurrentTime(n);case 3:e.stopPropagation();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),c._cueElements.push(e)}))},s(),u=null,o.addEventListener("keyup",(function(t){u&&clearTimeout(u),c._resultsContainer.innerHTML="";var e=c.player.getLanguage();u=setTimeout((function(){var t={};for(var n in c.captions.forEach((function(e){e.cues.forEach((function(n){n.captions.find((function(t){return new RegExp(o.value,"i").test(t)}))&&(t[n.startString]=t[n.startString]||{cue:n,text:{}},t[n.startString].text[e.language]=n.captions)}))})),c._cueElements=[],t){var i=t[n],a=i.text[e]||i.text[Object.keys(i.text)[0]],l=(0,r.createElementWithHtmlText)('<p class="result-item">'.concat(i.cue.startString,": ").concat(a[0],"</p>"),c._resultsContainer);l._cue=i.cue,l.addEventListener("click",function(){var t=h(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.target._cue.start,t.next=3,c.player.videoContainer.setCurrentTime(n);case 3:e.stopPropagation();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),c._cueElements.push(l)}0===Object.keys(t).length&&""!==o.value?(0,r.createElementWithHtmlText)("<p>".concat(c.player.translate("No results found"),"</p>"),c._resultsContainer):""===o.value&&s(),u=null}),1e3),t.stopPropagation()})),this._timeupdateEvent||(this._timeupdateEvent=function(){var t=h(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:""===o.value&&null!==(n=c._cueElements)&&void 0!==n&&n.length&&c._cueElements.forEach((function(t){if(t._cue.start<=e.currentTime&&t._cue.end>=e.currentTime){t.classList.add("current");var n=t.offsetTop-c._resultsContainer.scrollTop;(n<0||n>c._resultsContainer.clientHeight)&&c._resultsContainer.scrollTo({top:t.offsetTop-20})}else t.classList.remove("current")}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),this.player.bindEvent(r.Events.TIMEUPDATE,this._timeupdateEvent,!0)),setTimeout((function(){return c.refreshContent=!0}),10),t.abrupt("return",n);case 14:case"end":return t.stop()}}),t,this)}))),function(){return i.apply(this,arguments)})},{key:"popUpType",get:function(){return"no-modal"}},{key:"captions",get:function(){return this.player.captionsCanvas.captions}},{key:"customPopUpClass",get:function(){return"find-captions"}},{key:"load",value:(o=h(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.icon=this.player.getCustomPluginIcon(this.name,"findCaptionsIcon")||u(),this._captionsCanvas=this.player.captionsCanvas,0===this.captions.length&&this.disable(),(0,r.bindEvent)(this.player,r.Events.CAPTIONS_CHANGED,(function(){e.captions.length>0&&e.enable()}));case 4:case"end":return t.stop()}}),t,this)}))),function(){return o.apply(this,arguments)})}],n&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(e.prototype,n),f}(r.PopUpButtonPlugin)},108:(t,e,n)=>{n.r(e),n.d(e,{default:()=>y});var r=n(995),o=n(95),i=n(271),a=n.n(i);function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function u(t,e,n,r,o,i,a){try{var s=t[i](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,o)}function c(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){u(i,r,o,a,s,"next",t)}function s(t){u(i,r,o,a,s,"throw",t)}a(void 0)}))}}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e,n){return f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=d(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}},f(t,e,n||t)}function h(t,e){return h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},h(t,e)}function p(t,e){return!e||"object"!==s(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function d(t){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},d(t)}var y=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}(g,t);var e,n,r,i,s,u,y,v=(u=g,y=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=d(u);if(y){var n=d(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return p(this,t)});function g(){return l(this,g),v.apply(this,arguments)}return e=g,n=[{key:"getPluginModuleInstance",value:function(){return o.default.Get()}},{key:"name",get:function(){return f(d(g.prototype),"name",this)||"es.upv.paella.forwardButtonPlugin"}},{key:"getAriaLabel",value:function(){return this.player.translate("Forward $1 seconds",[this.config.time])}},{key:"getDescription",value:function(){return this.getAriaLabel()}},{key:"isEnabled",value:(s=c(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f(d(g.prototype),"isEnabled",this).call(this);case 2:return e=t.sent,this.time=this.config.time||30,t.abrupt("return",e);case 5:case"end":return t.stop()}}),t,this)}))),function(){return s.apply(this,arguments)})},{key:"load",value:(i=c(regeneratorRuntime.mark((function t(){var e,n=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=void 0===this.config.suffix||this.config.suffix,this.suffix=e?"s":"",this.icon=this.player.getCustomPluginIcon(this.name,"forwardIcon")||a(),setTimeout((function(){Array.from(n.iconElement.getElementsByClassName("time-text")).forEach((function(t){t.innerHTML=n.time+n.suffix}))}),100);case 4:case"end":return t.stop()}}),t,this)}))),function(){return i.apply(this,arguments)})},{key:"action",value:(r=c(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.player.videoContainer.currentTime();case 2:e=t.sent,this.player.videoContainer.setCurrentTime(e+this.time);case 4:case"end":return t.stop()}}),t,this)}))),function(){return r.apply(this,arguments)})}],n&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(e.prototype,n),g}(r.ButtonPlugin)},440:(t,e,n)=>{n.r(e),n.d(e,{default:()=>y});var r=n(995),o=n(95),i=n(643),a=n.n(i);function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function u(t,e,n,r,o,i,a){try{var s=t[i](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,o)}function c(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){u(i,r,o,a,s,"next",t)}function s(t){u(i,r,o,a,s,"throw",t)}a(void 0)}))}}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e,n){return f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=d(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}},f(t,e,n||t)}function h(t,e){return h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},h(t,e)}function p(t,e){return!e||"object"!==s(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function d(t){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},d(t)}n(887);var y=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}(m,t);var e,n,i,s,u,y,v,g=(y=m,v=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=d(y);if(v){var n=d(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return p(this,t)});function m(){return l(this,m),g.apply(this,arguments)}return e=m,n=[{key:"getPluginModuleInstance",value:function(){return o.default.Get()}},{key:"name",get:function(){return f(d(m.prototype),"name",this)||"es.upv.paella.fullscreenButton"}},{key:"getAriaLabel",value:function(){return"Toggle fullscreen"}},{key:"getDescription",value:function(){return this.getAriaLabel()}},{key:"isEnabled",value:(u=c(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f(d(m.prototype),"isEnabled",this).call(this);case 2:return e=t.sent,t.abrupt("return",e&&this.player.isFullScreenSupported());case 4:case"end":return t.stop()}}),t,this)}))),function(){return u.apply(this,arguments)})},{key:"load",value:(s=c(regeneratorRuntime.mark((function t(){var e,n,o=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=this.player.getCustomPluginIcon(this.name,"fullscreenIcon")||a(),n=this.player.getCustomPluginIcon(this.name,"windowedIcon")||a(),this.icon=e,(0,r.bindEvent)(this.player,r.Events.FULLSCREEN_CHANGED,(function(t){t.status?o.icon=n:o.icon=e}));case 4:case"end":return t.stop()}}),t,this)}))),function(){return s.apply(this,arguments)})},{key:"action",value:(i=c(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.player.isFullscreen){t.next=5;break}return t.next=3,this.player.exitFullscreen();case 3:t.next=7;break;case 5:return t.next=7,this.player.enterFullscreen();case 7:case"end":return t.stop()}}),t,this)}))),function(){return i.apply(this,arguments)})}],n&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(e.prototype,n),m}(r.ButtonPlugin)},234:(t,e,n)=>{n.r(e),n.d(e,{default:()=>m});var r=n(995),o=n(95),i=n(812),a=n.n(i),s=n(379),u=n.n(s),c=n(754);function l(t){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l(t)}function f(t,e,n,r,o,i,a){try{var s=t[i](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,o)}function h(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){f(i,r,o,a,s,"next",t)}function s(t){f(i,r,o,a,s,"throw",t)}a(void 0)}))}}function p(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d(t,e,n){return d="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=g(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}},d(t,e,n||t)}function y(t,e){return y=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},y(t,e)}function v(t,e){return!e||"object"!==l(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function g(t){return g=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},g(t)}u()(c.Z,{insert:"head",singleton:!1}),c.Z.locals;var m=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&y(t,e)}(m,t);var e,n,i,s,u,c,l,f=(c=m,l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=g(c);if(l){var n=g(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return v(this,t)});function m(){return p(this,m),f.apply(this,arguments)}return e=m,n=[{key:"getPluginModuleInstance",value:function(){return o.default.Get()}},{key:"name",get:function(){return d(g(m.prototype),"name",this)||"es.upv.paella.keyboardShortcutsHelp"}},{key:"isEnabled",value:(u=h(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d(g(m.prototype),"isEnabled",this).call(this);case 2:return e=t.sent,t.abrupt("return",e&&this.player.getShortcuts().length>0);case 4:case"end":return t.stop()}}),t,this)}))),function(){return u.apply(this,arguments)})},{key:"load",value:(s=h(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.icon=this.player.getCustomPluginIcon(this.name,"keyboardIcon")||a();case 1:case"end":return t.stop()}}),t,this)}))),function(){return s.apply(this,arguments)})},{key:"popUpType",get:function(){return"no-modal"}},{key:"getKeyText",value:function(t){var e=this.player.translate(t.keyCode);return t.keyModifiers.altKey&&(e+=" + Alt"),t.keyModifiers.ctrlKey&&(e+=" + Ctrl"),t.keyModifiers.shiftKey&&(e+=" + Shift"),e}},{key:"menuTitle",get:function(){return this.config.menuTitle||"Keyboard shortcuts"}},{key:"getContent",value:(i=h(regeneratorRuntime.mark((function t(){var e,n,o,i,a=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(i in e=(0,r.createElementWithHtmlText)('\n          <div class="keyboardshortcutshelp-plugin"></div>\n        '),n={},this.player.getShortcuts().forEach((function(t){var e=a.player.translate(t.description);n[e]?n[e].push(t):n[e]=[t]})),o=function(t){var o=n[t],i="";o.forEach((function(t){""!==i&&(i+=" / "),i+=a.player.translate(a.getKeyText(t))}));var s=(0,r.createElementWithHtmlText)('\n\t\t\t<div class="row">\n\t\t\t\t<div class="description"> '.concat(t,' </div>\n\t\t\t\t<div class="key"> ').concat(i,"</div>\n            </div>\n\t\t\t"));e.appendChild(s)},n)o(i);return t.abrupt("return",e);case 6:case"end":return t.stop()}}),t,this)}))),function(){return i.apply(this,arguments)})}],n&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(e.prototype,n),m}(r.PopUpButtonPlugin)},239:(t,e,n)=>{n.r(e),n.d(e,{default:()=>y});var r=n(995),o=n(95),i=n(291),a=n.n(i);function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function u(t,e,n,r,o,i,a){try{var s=t[i](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,o)}function c(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){u(i,r,o,a,s,"next",t)}function s(t){u(i,r,o,a,s,"throw",t)}a(void 0)}))}}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e,n){return f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=d(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}},f(t,e,n||t)}function h(t,e){return h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},h(t,e)}function p(t,e){return!e||"object"!==s(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function d(t){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},d(t)}var y=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}(m,t);var e,n,i,s,u,y,v,g=(y=m,v=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=d(y);if(v){var n=d(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return p(this,t)});function m(){return l(this,m),g.apply(this,arguments)}return e=m,n=[{key:"getPluginModuleInstance",value:function(){return o.default.Get()}},{key:"name",get:function(){return f(d(m.prototype),"name",this)||"es.upv.paella.layoutSelector"}},{key:"getAriaLabel",value:function(){return"Video layout"}},{key:"getDescription",value:function(){return this.getAriaLabel()}},{key:"isEnabled",value:(u=c(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f(d(m.prototype),"isEnabled",this).call(this);case 2:if(t.sent){t.next=4;break}return t.abrupt("return",!1);case 4:return t.abrupt("return",this.player.videoContainer.validContentSettings.length>1);case 5:case"end":return t.stop()}}),t,this)}))),function(){return u.apply(this,arguments)})},{key:"load",value:(s=c(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.icon=this.player.getCustomPluginIcon(this.name,"layoutIcon")||a(),this._showIcons=null===(e=this.config.showIcons)||void 0===e||e;case 2:case"end":return t.stop()}}),t,this)}))),function(){return s.apply(this,arguments)})},{key:"getMenu",value:(i=c(regeneratorRuntime.mark((function t(){var e,n=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.player.videoContainer.validContentSettings,t.t0=Promise,t.next=4,e.map(function(){var t=c(regeneratorRuntime.mark((function t(e){var o,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=r.utils.joinPath([n.player.configResourcesUrl,e.icon]),t.t1=n._showIcons,!t.t1){t.next=6;break}return t.next=5,r.utils.loadSvgIcon(o);case 5:t.t1=t.sent;case 6:if(t.t0=t.t1,t.t0){t.next=9;break}t.t0=null;case 9:return i=t.t0,t.abrupt("return",{id:e.id,title:e.title,icon:i,selected:n.player.videoContainer.layoutId===e.id});case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 4:return t.t1=t.sent,t.abrupt("return",t.t0.all.call(t.t0,t.t1));case 6:case"end":return t.stop()}}),t,this)}))),function(){return i.apply(this,arguments)})},{key:"showTitles",get:function(){return!1}},{key:"buttonType",get:function(){return"radio"}},{key:"itemSelected",value:function(t){this.player.videoContainer.setLayout(t.id)}}],n&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(e.prototype,n),m}(r.MenuButtonPlugin)},592:(t,e,n)=>{n.r(e),n.d(e,{default:()=>d});var r=n(995),o=n(95);function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function a(t,e,n,r,o,i,a){try{var s=t[i](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,o)}function s(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function s(t){a(i,r,o,s,u,"next",t)}function u(t){a(i,r,o,s,u,"throw",t)}s(void 0)}))}}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e,n){return c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=h(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}},c(t,e,n||t)}function l(t,e){return l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},l(t,e)}function f(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function h(t){return h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},h(t)}function p(t,e,n,r){var o="left"===this._side?this._margin:"center"===this._side?e/2:e-this._margin,i="left"===this._side?12:"center"===this._side?0:-12,a="center"===this._side?-40:0;t.fillStyle=this._textColor,t.font="11px Arial",t.textAlign=this._side,t.fillText("Live stream",o+i,n/2+3),t.beginPath(),t.fillStyle=this._circleColor,t.arc(o+a,n/2,4,0,2*Math.PI,!1),t.fill()}var d=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(v,t);var e,n,r,i,a,d,y=(a=v,d=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=h(a);if(d){var n=h(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return f(this,t)});function v(){return u(this,v),y.apply(this,arguments)}return e=v,n=[{key:"getPluginModuleInstance",value:function(){return o.default.Get()}},{key:"name",get:function(){return c(h(v.prototype),"name",this)||"es.upv.paella.liveStreamingProgressIndicator"}},{key:"minHeight",get:function(){return 20}},{key:"minHeightHover",get:function(){return 20}},{key:"isEnabled",value:(i=s(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c(h(v.prototype),"isEnabled",this).call(this);case 2:return e=t.sent,t.abrupt("return",e&&this.player.videoContainer.isLiveStream);case 4:case"end":return t.stop()}}),t,this)}))),function(){return i.apply(this,arguments)})},{key:"load",value:(r=s(regeneratorRuntime.mark((function t(){var e,n,r,o,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this._layer=null!==(e=this.config.layer)&&void 0!==e?e:"foreground",this._side=null!==(n=this.config.side)&&void 0!==n?n:"right",this._margin=null!==(r=this.config.margin)&&void 0!==r?r:50,this._textColor=null!==(o=this.config.textColor)&&void 0!==o?o:"white",this._circleColor=null!==(i=this.config.circleColor)&&void 0!==i?i:"red",-1!==["foreground","background"].indexOf(this._layer)){t.next=7;break}throw new Error("Invalid layer set in plugin 'es.upv.paella.liveStreamingPlugin'. Valid values are 'foreground' or 'background'");case 7:if(-1!==["left","center","right"].indexOf(this._side)){t.next=9;break}throw new Error("Invalid side set in plugin 'es.upv.paella.liveStreamingPlugin'. Valid values are 'left', 'center' or 'right'");case 9:case"end":return t.stop()}}),t,this)}))),function(){return r.apply(this,arguments)})},{key:"drawForeground",value:function(t,e,n,r){"foreground"===this._layer&&p.apply(this,[t,e,n,r])}},{key:"drawBackground",value:function(t,e,n,r){"background"===this._layer&&p.apply(this,[t,e,n,r])}}],n&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(e.prototype,n),v}(r.ProgressIndicatorPlugin)},540:(t,e,n)=>{n.r(e),n.d(e,{default:()=>m});var r=n(995),o=n(95),i=n(998),a=n.n(i),s=n(379),u=n.n(s),c=n(473);function l(t){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l(t)}function f(t,e,n,r,o,i,a){try{var s=t[i](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,o)}function h(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){f(i,r,o,a,s,"next",t)}function s(t){f(i,r,o,a,s,"throw",t)}a(void 0)}))}}function p(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d(t,e,n){return d="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=g(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}},d(t,e,n||t)}function y(t,e){return y=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},y(t,e)}function v(t,e){return!e||"object"!==l(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function g(t){return g=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},g(t)}u()(c.Z,{insert:"head",singleton:!1}),c.Z.locals;var m=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&y(t,e)}(m,t);var e,n,i,s,u,c,l,f=(c=m,l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=g(c);if(l){var n=g(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return v(this,t)});function m(){return p(this,m),f.apply(this,arguments)}return e=m,n=[{key:"getPluginModuleInstance",value:function(){return o.default.Get()}},{key:"name",get:function(){return d(g(m.prototype),"name",this)||"es.upv.paella.playbackRateButton"}},{key:"getAriaLabel",value:function(){return"Playback rate"}},{key:"getDescription",value:function(){return this.getAriaLabel()}},{key:"dynamicWidth",get:function(){return!1===this.config.showIcon}},{key:"load",value:(u=h(regeneratorRuntime.mark((function t(){var e,n=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return!1===this.config.showIcon||(this.icon=this.player.getCustomPluginIcon(this.name,"screenIcon")||a()),t.next=3,this.player.videoContainer.playbackRate();case 3:e=t.sent,this.title="".concat(e,"x"),this._rates=this.config.rates||[.5,.75,1,1.25,1.5,2],this.player.bindEvent(r.Events.PLAYBACK_RATE_CHANGED,(function(t){n.title=t.newPlaybackRate+"x"}));case 7:case"end":return t.stop()}}),t,this)}))),function(){return u.apply(this,arguments)})},{key:"getMenu",value:(s=h(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.player.videoContainer.playbackRate();case 2:return e=t.sent,n=function(t){return{id:t,title:"".concat(t,"x"),selected:t==e}},t.abrupt("return",this._rates.map((function(t){return n(t)})));case 5:case"end":return t.stop()}}),t,this)}))),function(){return s.apply(this,arguments)})},{key:"titleSize",get:function(){return!1===this.config.showIcon?"large":"small"}},{key:"itemSelected",value:(i=h(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.player.videoContainer.setPlaybackRate(e.id);case 2:this.title=e.title;case 3:case"end":return t.stop()}}),t,this)}))),function(t){return i.apply(this,arguments)})},{key:"buttonType",get:function(){return"radio"}}],n&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(e.prototype,n),m}(r.MenuButtonPlugin)},135:(t,e,n)=>{n.r(e),n.d(e,{default:()=>y});var r=n(995),o=n(95),i=n(998),a=n.n(i);function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function u(t,e,n,r,o,i,a){try{var s=t[i](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,o)}function c(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){u(i,r,o,a,s,"next",t)}function s(t){u(i,r,o,a,s,"throw",t)}a(void 0)}))}}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e,n){return f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=d(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}},f(t,e,n||t)}function h(t,e){return h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},h(t,e)}function p(t,e){return!e||"object"!==s(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function d(t){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},d(t)}var y=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}(b,t);var e,n,r,i,s,u,y,v,g,m=(v=b,g=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=d(v);if(g){var n=d(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return p(this,t)});function b(){return l(this,b),m.apply(this,arguments)}return e=b,n=[{key:"getPluginModuleInstance",value:function(){return o.default.Get()}},{key:"name",get:function(){return f(d(b.prototype),"name",this)||"es.upv.paella.qualitySelector"}},{key:"getAriaLabel",value:function(){return"Video quality"}},{key:"getDescription",value:function(){return this.getAriaLabel()}},{key:"dynamicWidth",get:function(){return!1===this.config.showIcon}},{key:"titleSize",get:function(){return!1===this.config.showIcon?"large":"small"}},{key:"isEnabled",value:(y=c(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f(d(b.prototype),"isEnabled",this).call(this);case 2:if(t.sent){t.next=4;break}return t.abrupt("return",!1);case 4:return t.next=6,this.player.videoContainer.streamProvider.getQualities();case 6:return this._qualities=t.sent,t.abrupt("return",this._qualities&&this._qualities.length>1);case 8:case"end":return t.stop()}}),t,this)}))),function(){return y.apply(this,arguments)})},{key:"load",value:(u=c(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return!1===this.config.showIcon||(this.icon=this.player.getCustomPluginIcon("es.upv.paella.qualitySelector","screenIcon")||a()),t.next=3,this.updateQualityLabel();case 3:case"end":return t.stop()}}),t,this)}))),function(){return u.apply(this,arguments)})},{key:"getMenu",value:(s=c(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.player.videoContainer.streamProvider.getCurrentQuality();case 2:return e=t.sent,n=this._qualities.map((function(t){var n=t.index===e.index;return{id:t.index,title:t.label,width:t.res.w,height:t.res.h,data:t,selected:n}})),t.abrupt("return",n);case 5:case"end":return t.stop()}}),t,this)}))),function(){return s.apply(this,arguments)})},{key:"updateQualityLabel",value:(i=c(regeneratorRuntime.mark((function t(){var e,n=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=function(){var t=c(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.player.videoContainer.streamProvider.getCurrentQuality();case 2:(r=t.sent)?n.title=r.shortLabel:setTimeout((function(){return e()}),500);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),e();case 2:case"end":return t.stop()}}),t)}))),function(){return i.apply(this,arguments)})},{key:"itemSelected",value:(r=c(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.player.videoContainer.streamProvider.setQuality(e.data);case 2:this.updateQualityLabel();case 3:case"end":return t.stop()}}),t,this)}))),function(t){return r.apply(this,arguments)})},{key:"buttonType",get:function(){return"radio"}}],n&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(e.prototype,n),b}(r.MenuButtonPlugin)},459:(t,e,n)=>{n.r(e),n.d(e,{default:()=>k});var r=n(995),o=n(95),i=n(506),a=n.n(i),s=n(704),u=n.n(s),c=n(978),l=n.n(c),f=n(928),h=n.n(f),p=n(379),d=n.n(p),y=n(405);function v(t){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},v(t)}function g(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function m(t,e,n){return m="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=A(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}},m(t,e,n||t)}function b(t,e){return b=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},b(t,e)}function w(t,e){return!e||"object"!==v(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function A(t){return A=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},A(t)}function x(t,e,n,r,o,i,a){try{var s=t[i](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,o)}function C(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){x(i,r,o,a,s,"next",t)}function s(t){x(i,r,o,a,s,"throw",t)}a(void 0)}))}}function E(){var t=this;this.sliderContainer.innerHTML="";var e=(0,r.createElementWithHtmlText)('\n        <div class="volume-slider">\n            <div class="volume-slider-fill"></div>\n            <div class="volume-slider-empty"></div>\n        </div>',this.sliderContainer),n=!1,o=e.getElementsByClassName("volume-slider-fill")[0],i=e.getElementsByClassName("volume-slider-empty")[0];o.style.width="50%",i.style.width="50%",this._sliderFill=o,this._sliderEmpty=i;var a=function(){var n=C(regeneratorRuntime.mark((function n(r){var o,i;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=e.offsetWidth,(i=100*r/o)<4&&(i=0),i>96&&(i=100),i/=100,n.next=8,t.player.videoContainer.setVolume(i);case 8:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}();e.addEventListener("mousedown",function(){var t=C(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=!0,t.next=3,a(e.offsetX);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),e.addEventListener("mousemove",function(){var t=C(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=3;break}return t.next=3,a(e.offsetX);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),e.addEventListener("mouseleave",(function(){n=!1})),e.addEventListener("mouseup",(function(){n=!1})),this.volumeAlwaysVisible||(this.sliderContainer.style.display="none"),(0,r.bindEvent)(this.player,r.Events.VOLUME_CHANGED,(function(e){var n=e.volume;t.updateIcon(n)}))}d()(y.Z,{insert:"head",singleton:!1}),y.Z.locals;var k=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&b(t,e)}(k,t);var e,n,r,i,s,c,f,p,d,y,v,x=(y=k,v=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=A(y);if(v){var n=A(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return w(this,t)});function k(){return g(this,k),x.apply(this,arguments)}return e=k,n=[{key:"getPluginModuleInstance",value:function(){return o.default.Get()}},{key:"name",get:function(){return m(A(k.prototype),"name",this)||"es.upv.paella.volumeButtonPlugin"}},{key:"getAriaLabel",value:function(){return"Volume"}},{key:"getDescription",value:function(){return this.getAriaLabel()}},{key:"className",get:function(){return"volume-button"}},{key:"updateIcon",value:(d=C(regeneratorRuntime.mark((function t(e){var n,r,o,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=this.player.getCustomPluginIcon(this.name,"volumeHighIcon")||a(),r=this.player.getCustomPluginIcon(this.name,"volumeMidIcon")||u(),o=this.player.getCustomPluginIcon(this.name,"volumeLowIcon")||l(),i=this.player.getCustomPluginIcon(this.name,"volumeMuteIcon")||h(),t.t0=!0,t.next=t.t0===(0===e)?7:t.t0===(e>0&&e<=.3)?9:t.t0===(e>.3&&e<=.6)?11:t.t0===e>.6?13:15;break;case 7:return this.icon=i,t.abrupt("break",16);case 9:return this.icon=o,t.abrupt("break",16);case 11:return this.icon=r,t.abrupt("break",16);case 13:return this.icon=n,t.abrupt("break",16);case 15:this.icon=n;case 16:this._sliderFill&&(this._sliderFill.style.width="".concat(100*e,"px")),e>.95?this._sliderFill.classList.add("fill-100"):this._sliderFill.classList.remove("fill-100"),this._sliderEmpty&&(this._sliderEmpty.style.width="".concat(100-100*e,"px")),e<.05?this._sliderEmpty.classList.add("empty-100"):this._sliderEmpty.classList.remove("empty-100");case 20:case"end":return t.stop()}}),t,this)}))),function(t){return d.apply(this,arguments)})},{key:"sliderContainer",get:function(){return"left"===this.config.side?this.rightArea:this.leftArea}},{key:"load",value:(p=C(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.showContainerOnFocus=null===(e=this.config.showVolumeOnFocus)||void 0===e||e,this.volumeAlwaysVisible=null!==(n=this.config.volumeAlwaysVisible)&&void 0!==n&&n,t.next=4,this.player.videoContainer.volume();case 4:this._prevVolume=t.sent,E.apply(this),this.updateIcon(this._prevVolume);case 7:case"end":return t.stop()}}),t,this)}))),function(){return p.apply(this,arguments)})},{key:"showSideContainer",value:function(){this.volumeAlwaysVisible||(this.sliderContainer.style.display="inline-block")}},{key:"hideSideContainer",value:function(){this.volumeAlwaysVisible||(this.sliderContainer.style.display="none")}},{key:"mouseOver",value:(f=C(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e===this.container&&this.showSideContainer();case 1:case"end":return t.stop()}}),t,this)}))),function(t){return f.apply(this,arguments)})},{key:"mouseOut",value:(c=C(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e===this.container&&this.hideSideContainer();case 1:case"end":return t.stop()}}),t,this)}))),function(t){return c.apply(this,arguments)})},{key:"focusIn",value:(s=C(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.showContainerOnFocus&&this.showSideContainer();case 1:case"end":return t.stop()}}),t,this)}))),function(){return s.apply(this,arguments)})},{key:"focusOut",value:(i=C(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.showContainerOnFocus&&this.hideSideContainer();case 1:case"end":return t.stop()}}),t,this)}))),function(){return i.apply(this,arguments)})},{key:"action",value:(r=C(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.player.videoContainer.volume();case 2:return e=t.sent,n=0===e&&0===this._prevVolume?1:0===e&&this._prevVolume>0?this._prevVolume:0,t.next=7,this.player.videoContainer.setVolume(n);case 7:this._prevVolume=e;case 8:case"end":return t.stop()}}),t,this)}))),function(){return r.apply(this,arguments)})}],n&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(e.prototype,n),k}(r.ButtonPlugin)},538:(t,e,n)=>{n.d(e,{Z:()=>s});var r=n(15),o=n.n(r),i=n(645),a=n.n(i)()(o());a.push([t.id,"\n.downloads-plugin {\n    font-family: sans-serif;\n    min-width: 300px;\n}\n\n.downloads-plugin h4 {\n    margin: 0 0 10px 0;\n    border-bottom: 1px lightgrey solid;\n}\n\n.downloads-plugin .downloadStream {    \n    margin-left: 5px;\n}\n\n.downloads-plugin .downloadStream ul {\n    list-style: none;\n    max-height: 500px;\n    overflow: auto;\n    padding: 0px;\n    margin: 0 0 10px 10px;\n}\n\n.downloads-plugin .downloadStream .mimetype {\n    color: lightcoral;\n    margin-right: 10px;\n}\n\n.downloads-plugin .downloadStream .res {\n    color: lightsalmon;\n}\n\n\n.downloads-plugin a {\n    color: lightsalmon;\n}\n\n.downloads-plugin a:hover {\n    color: salmon;\n}\n\n","",{version:3,sources:["webpack://./src/css/DownloadsPlugin.css"],names:[],mappings:";AACA;IACI,uBAAuB;IACvB,gBAAgB;AACpB;;AAEA;IACI,kBAAkB;IAClB,kCAAkC;AACtC;;AAEA;IACI,gBAAgB;AACpB;;AAEA;IACI,gBAAgB;IAChB,iBAAiB;IACjB,cAAc;IACd,YAAY;IACZ,qBAAqB;AACzB;;AAEA;IACI,iBAAiB;IACjB,kBAAkB;AACtB;;AAEA;IACI,kBAAkB;AACtB;;;AAGA;IACI,kBAAkB;AACtB;;AAEA;IACI,aAAa;AACjB",sourcesContent:["\n.downloads-plugin {\n    font-family: sans-serif;\n    min-width: 300px;\n}\n\n.downloads-plugin h4 {\n    margin: 0 0 10px 0;\n    border-bottom: 1px lightgrey solid;\n}\n\n.downloads-plugin .downloadStream {    \n    margin-left: 5px;\n}\n\n.downloads-plugin .downloadStream ul {\n    list-style: none;\n    max-height: 500px;\n    overflow: auto;\n    padding: 0px;\n    margin: 0 0 10px 10px;\n}\n\n.downloads-plugin .downloadStream .mimetype {\n    color: lightcoral;\n    margin-right: 10px;\n}\n\n.downloads-plugin .downloadStream .res {\n    color: lightsalmon;\n}\n\n\n.downloads-plugin a {\n    color: lightsalmon;\n}\n\n.downloads-plugin a:hover {\n    color: salmon;\n}\n\n"],sourceRoot:""}]);const s=a},264:(t,e,n)=>{n.d(e,{Z:()=>s});var r=n(15),o=n.n(r),i=n(645),a=n.n(i)()(o());a.push([t.id,":root {\n    --find-captions-plugin-search-bar-height: 30px;\n}\n\n.center-container .search-results {\n    max-height: 80vh;\n    overflow: auto;\n    font-family: Arial, Helvetica, sans-serif;\n}\n\n.center-container .search-results p {\n    max-width: 400px;\n    user-select: none;\n}\n\n.center-container .search-results p.result-item {\n    cursor: pointer;\n    box-sizing: border-box;\n    padding: 8px;\n    border-radius: 3px;\n}\n\n\n.center-container div.captions-search-container input {\n    width: 100%;\n    height: var(--find-captions-plugin-search-bar-height);\n    box-sizing: border-box;\n}\n\n.center-container .search-results p.result-item.current {\n    border: 1px solid white;\n    background-color: rgba(240,240,240,0.7);\n    color: black;\n}\n\n/* Resizeable/moveable mode: */\n.center-container  .captions-search-container {\n    height: 100%;\n    width: 100%;\n    max-width: unset;\n    max-height: unset;\n    box-sizing: border-box;\n}\n\n.center-container .search-results {\n    width: 100%;\n    height: calc(100% - var(--find-captions-plugin-search-bar-height));\n    box-sizing: border-box;\n    background-color: rgba(0, 0, 0, 0.8);\n}\n\n.popup-content.static-position .center-container .search-results p {\n    max-width: unset;\n}\n\n/* Custom background color */\n.popup-container.find-captions .popup-content {\n    background-color: rgba(0, 0, 0, 0.2);\n}","",{version:3,sources:["webpack://./src/css/FindCaptionsPlugin.css"],names:[],mappings:"AAAA;IACI,8CAA8C;AAClD;;AAEA;IACI,gBAAgB;IAChB,cAAc;IACd,yCAAyC;AAC7C;;AAEA;IACI,gBAAgB;IAChB,iBAAiB;AACrB;;AAEA;IACI,eAAe;IACf,sBAAsB;IACtB,YAAY;IACZ,kBAAkB;AACtB;;;AAGA;IACI,WAAW;IACX,qDAAqD;IACrD,sBAAsB;AAC1B;;AAEA;IACI,uBAAuB;IACvB,uCAAuC;IACvC,YAAY;AAChB;;AAEA,8BAA8B;AAC9B;IACI,YAAY;IACZ,WAAW;IACX,gBAAgB;IAChB,iBAAiB;IACjB,sBAAsB;AAC1B;;AAEA;IACI,WAAW;IACX,kEAAkE;IAClE,sBAAsB;IACtB,oCAAoC;AACxC;;AAEA;IACI,gBAAgB;AACpB;;AAEA,4BAA4B;AAC5B;IACI,oCAAoC;AACxC",sourcesContent:[":root {\n    --find-captions-plugin-search-bar-height: 30px;\n}\n\n.center-container .search-results {\n    max-height: 80vh;\n    overflow: auto;\n    font-family: Arial, Helvetica, sans-serif;\n}\n\n.center-container .search-results p {\n    max-width: 400px;\n    user-select: none;\n}\n\n.center-container .search-results p.result-item {\n    cursor: pointer;\n    box-sizing: border-box;\n    padding: 8px;\n    border-radius: 3px;\n}\n\n\n.center-container div.captions-search-container input {\n    width: 100%;\n    height: var(--find-captions-plugin-search-bar-height);\n    box-sizing: border-box;\n}\n\n.center-container .search-results p.result-item.current {\n    border: 1px solid white;\n    background-color: rgba(240,240,240,0.7);\n    color: black;\n}\n\n/* Resizeable/moveable mode: */\n.center-container  .captions-search-container {\n    height: 100%;\n    width: 100%;\n    max-width: unset;\n    max-height: unset;\n    box-sizing: border-box;\n}\n\n.center-container .search-results {\n    width: 100%;\n    height: calc(100% - var(--find-captions-plugin-search-bar-height));\n    box-sizing: border-box;\n    background-color: rgba(0, 0, 0, 0.8);\n}\n\n.popup-content.static-position .center-container .search-results p {\n    max-width: unset;\n}\n\n/* Custom background color */\n.popup-container.find-captions .popup-content {\n    background-color: rgba(0, 0, 0, 0.2);\n}"],sourceRoot:""}]);const s=a},754:(t,e,n)=>{n.d(e,{Z:()=>s});var r=n(15),o=n.n(r),i=n(645),a=n.n(i)()(o());a.push([t.id,"\n.keyboardshortcutshelp-plugin {\n    font-family: Helvetica, Arial, sans-serif;\n    padding: 1px;\n    color: #f0f0f0;\n    /* min-width: 430px; */\n}\n\n.keyboardshortcutshelp-plugin .row {\n    display: flex;\n    min-width: 100px;\n    padding-top: 1px;\n    padding-bottom: 1px;\n    padding: 6px;\n    gap: 5px;\n}\n\n.keyboardshortcutshelp-plugin .row .description {\n    max-width: 80%;\n}\n\n.keyboardshortcutshelp-plugin .row .key {\n    margin-left: auto;\n    text-align: right;\n}\n","",{version:3,sources:["webpack://./src/css/KeyboardShortcutsHelp.css"],names:[],mappings:";AACA;IACI,yCAAyC;IACzC,YAAY;IACZ,cAAc;IACd,sBAAsB;AAC1B;;AAEA;IACI,aAAa;IACb,gBAAgB;IAChB,gBAAgB;IAChB,mBAAmB;IACnB,YAAY;IACZ,QAAQ;AACZ;;AAEA;IACI,cAAc;AAClB;;AAEA;IACI,iBAAiB;IACjB,iBAAiB;AACrB",sourcesContent:["\n.keyboardshortcutshelp-plugin {\n    font-family: Helvetica, Arial, sans-serif;\n    padding: 1px;\n    color: #f0f0f0;\n    /* min-width: 430px; */\n}\n\n.keyboardshortcutshelp-plugin .row {\n    display: flex;\n    min-width: 100px;\n    padding-top: 1px;\n    padding-bottom: 1px;\n    padding: 6px;\n    gap: 5px;\n}\n\n.keyboardshortcutshelp-plugin .row .description {\n    max-width: 80%;\n}\n\n.keyboardshortcutshelp-plugin .row .key {\n    margin-left: auto;\n    text-align: right;\n}\n"],sourceRoot:""}]);const s=a},473:(t,e,n)=>{n.d(e,{Z:()=>s});var r=n(15),o=n.n(r),i=n(645),a=n.n(i)()(o());a.push([t.id,"span.button-title {\n    margin-top: -16px;\n    display: block;\n    font-size: 8px;\n}\n","",{version:3,sources:["webpack://./src/css/playbackRate.css"],names:[],mappings:"AAAA;IACI,iBAAiB;IACjB,cAAc;IACd,cAAc;AAClB",sourcesContent:["span.button-title {\n    margin-top: -16px;\n    display: block;\n    font-size: 8px;\n}\n"],sourceRoot:""}]);const s=a},405:(t,e,n)=>{n.d(e,{Z:()=>s});var r=n(15),o=n.n(r),i=n(645),a=n.n(i)()(o());a.push([t.id,":root {\n    --volume-slider-height: 8px;\n    --volume-slider-fill-color: var(--highlight-bg-color-hover);\n    --volume-slider-empty-color: #AAA;\n}\n\n.button-plugin-side-area.volume-button {\n    height: 40px;\n    display: inline-block;\n    vertical-align: middle;\n}\n\n.button-plugin-container {\n    height: 40px;\n}\n\n.volume-slider {\n    width: 100px;\n    height: 100%;\n    display: flex;\n    margin-left: 10px;\n    margin-right: 10px;\n    position: relative;\n    flex-direction: row;\n    flex-wrap: nowrap;\n    align-content: center;\n    justify-content: center;\n    align-items: center;\n}\n\n.volume-slider .volume-slider-fill {\n    height: var(--volume-slider-height);\n    background-color: var(--volume-slider-fill-color);\n    border-radius: 10px 0px 0px 10px;\n    pointer-events: none;\n}\n\n.volume-slider .volume-slider-fill.fill-100 {\n    border-radius: 10px 10px 10px 10px;\n}\n\n.volume-slider .volume-slider-empty {\n    height: var(--volume-slider-height);\n    background-color: var(--volume-slider-empty-color);\n    border-radius: 0px 10px 10px 0px;\n    pointer-events: none;\n}\n\n.volume-slider .volume-slider-empty.empty-100 {\n    border-radius: 10px 10px 10px 10px;\n}\n\n@media (forced-colors: active) {\n    .volume-slider {\n        border: 4px solid white;\n        box-sizing: border-box;\n        margin-bottom: 3px;\n    }\n\n    .volume-slider .volume-slider-fill {\n        border: 4px solid white;\n        box-sizing: border-box;\n    }\n\n    .volume-slider .volume-slider-empty {\n        border: 1px solid white;\n        box-sizing: border-box;\n    }\n}","",{version:3,sources:["webpack://./src/css/slider.css"],names:[],mappings:"AAAA;IACI,2BAA2B;IAC3B,2DAA2D;IAC3D,iCAAiC;AACrC;;AAEA;IACI,YAAY;IACZ,qBAAqB;IACrB,sBAAsB;AAC1B;;AAEA;IACI,YAAY;AAChB;;AAEA;IACI,YAAY;IACZ,YAAY;IACZ,aAAa;IACb,iBAAiB;IACjB,kBAAkB;IAClB,kBAAkB;IAClB,mBAAmB;IACnB,iBAAiB;IACjB,qBAAqB;IACrB,uBAAuB;IACvB,mBAAmB;AACvB;;AAEA;IACI,mCAAmC;IACnC,iDAAiD;IACjD,gCAAgC;IAChC,oBAAoB;AACxB;;AAEA;IACI,kCAAkC;AACtC;;AAEA;IACI,mCAAmC;IACnC,kDAAkD;IAClD,gCAAgC;IAChC,oBAAoB;AACxB;;AAEA;IACI,kCAAkC;AACtC;;AAEA;IACI;QACI,uBAAuB;QACvB,sBAAsB;QACtB,kBAAkB;IACtB;;IAEA;QACI,uBAAuB;QACvB,sBAAsB;IAC1B;;IAEA;QACI,uBAAuB;QACvB,sBAAsB;IAC1B;AACJ",sourcesContent:[":root {\n    --volume-slider-height: 8px;\n    --volume-slider-fill-color: var(--highlight-bg-color-hover);\n    --volume-slider-empty-color: #AAA;\n}\n\n.button-plugin-side-area.volume-button {\n    height: 40px;\n    display: inline-block;\n    vertical-align: middle;\n}\n\n.button-plugin-container {\n    height: 40px;\n}\n\n.volume-slider {\n    width: 100px;\n    height: 100%;\n    display: flex;\n    margin-left: 10px;\n    margin-right: 10px;\n    position: relative;\n    flex-direction: row;\n    flex-wrap: nowrap;\n    align-content: center;\n    justify-content: center;\n    align-items: center;\n}\n\n.volume-slider .volume-slider-fill {\n    height: var(--volume-slider-height);\n    background-color: var(--volume-slider-fill-color);\n    border-radius: 10px 0px 0px 10px;\n    pointer-events: none;\n}\n\n.volume-slider .volume-slider-fill.fill-100 {\n    border-radius: 10px 10px 10px 10px;\n}\n\n.volume-slider .volume-slider-empty {\n    height: var(--volume-slider-height);\n    background-color: var(--volume-slider-empty-color);\n    border-radius: 0px 10px 10px 0px;\n    pointer-events: none;\n}\n\n.volume-slider .volume-slider-empty.empty-100 {\n    border-radius: 10px 10px 10px 10px;\n}\n\n@media (forced-colors: active) {\n    .volume-slider {\n        border: 4px solid white;\n        box-sizing: border-box;\n        margin-bottom: 3px;\n    }\n\n    .volume-slider .volume-slider-fill {\n        border: 4px solid white;\n        box-sizing: border-box;\n    }\n\n    .volume-slider .volume-slider-empty {\n        border: 1px solid white;\n        box-sizing: border-box;\n    }\n}"],sourceRoot:""}]);const s=a},645:t=>{t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=t(e);return e[2]?"@media ".concat(e[2]," {").concat(n,"}"):n})).join("")},e.i=function(t,n,r){"string"==typeof t&&(t=[[null,t,""]]);var o={};if(r)for(var i=0;i<this.length;i++){var a=this[i][0];null!=a&&(o[a]=!0)}for(var s=0;s<t.length;s++){var u=[].concat(t[s]);r&&o[u[0]]||(n&&(u[2]?u[2]="".concat(n," and ").concat(u[2]):u[2]=n),e.push(u))}},e}},15:t=>{function e(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}t.exports=function(t){var n,r=function(t){if(Array.isArray(t))return t}(n=t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),4!==n.length);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}}(n)||function(t,n){if(t){if("string"==typeof t)return e(t,4);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?e(t,4):void 0}}(n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),o=r[1],i=r[3];if("function"==typeof btoa){var a=btoa(unescape(encodeURIComponent(JSON.stringify(i)))),s="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(a),u="/*# ".concat(s," */"),c=i.sources.map((function(t){return"/*# sourceURL=".concat(i.sourceRoot||"").concat(t," */")}));return[o].concat(c).concat([u]).join("\n")}return[o].join("\n")}},379:(t,e,n)=>{var r,o=function(){var t={};return function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}t[e]=n}return t[e]}}(),i=[];function a(t){for(var e=-1,n=0;n<i.length;n++)if(i[n].identifier===t){e=n;break}return e}function s(t,e){for(var n={},r=[],o=0;o<t.length;o++){var s=t[o],u=e.base?s[0]+e.base:s[0],c=n[u]||0,l="".concat(u," ").concat(c);n[u]=c+1;var f=a(l),h={css:s[1],media:s[2],sourceMap:s[3]};-1!==f?(i[f].references++,i[f].updater(h)):i.push({identifier:l,updater:y(h,e),references:1}),r.push(l)}return r}function u(t){var e=document.createElement("style"),r=t.attributes||{};if(void 0===r.nonce){var i=n.nc;i&&(r.nonce=i)}if(Object.keys(r).forEach((function(t){e.setAttribute(t,r[t])})),"function"==typeof t.insert)t.insert(e);else{var a=o(t.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(e)}return e}var c,l=(c=[],function(t,e){return c[t]=e,c.filter(Boolean).join("\n")});function f(t,e,n,r){var o=n?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(t.styleSheet)t.styleSheet.cssText=l(e,o);else{var i=document.createTextNode(o),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(i,a[e]):t.appendChild(i)}}function h(t,e,n){var r=n.css,o=n.media,i=n.sourceMap;if(o?t.setAttribute("media",o):t.removeAttribute("media"),i&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),t.styleSheet)t.styleSheet.cssText=r;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(r))}}var p=null,d=0;function y(t,e){var n,r,o;if(e.singleton){var i=d++;n=p||(p=u(e)),r=f.bind(null,n,i,!1),o=f.bind(null,n,i,!0)}else n=u(e),r=h.bind(null,n,e),o=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(n)};return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else o()}}t.exports=function(t,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=(void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r));var n=s(t=t||[],e);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var r=0;r<n.length;r++){var o=a(n[r]);i[o].references--}for(var u=s(t,e),c=0;c<n.length;c++){var l=a(n[c]);0===i[l].references&&(i[l].updater(),i.splice(l,1))}n=u}}}},842:t=>{t.exports='<svg viewBox="0 0 27 31" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:1.41421;"><g id="repeat" transform="matrix(1,0,0,1,-132.5,-2)"><g transform="matrix(1,0,0,1,132.5,2)"><path d="M7.364,6.48C9.179,5.515 11.255,4.967 13.461,4.967C20.569,4.967 26.331,10.651 26.331,17.664C26.331,24.676 20.569,30.36 13.461,30.36C8.436,30.36 4.083,27.518 1.964,23.375L1.973,23.34L3.716,22.554C5.531,26.101 9.257,28.534 13.56,28.534C19.645,28.534 24.579,23.667 24.579,17.664C24.579,11.66 19.645,6.793 13.56,6.793C11.624,6.793 9.804,7.286 8.223,8.151L12.5,12L0,12L6.5,0L7.364,6.48Z" style="stroke:black;stroke-width:0.07px;"></path></g><g transform="matrix(1.10748,0,0,1.05518,-14.2059,-1.08359)"><g><path d="M132.929,20.884L133.826,20.764C133.929,21.273 134.104,21.639 134.352,21.864C134.6,22.088 134.901,22.2 135.257,22.2C135.679,22.2 136.035,22.054 136.326,21.762C136.617,21.469 136.762,21.107 136.762,20.675C136.762,20.263 136.628,19.923 136.359,19.655C136.089,19.388 135.747,19.254 135.332,19.254C135.162,19.254 134.951,19.287 134.699,19.354L134.798,18.566C134.858,18.573 134.906,18.576 134.943,18.576C135.325,18.576 135.669,18.476 135.975,18.277C136.281,18.077 136.433,17.77 136.433,17.355C136.433,17.025 136.322,16.753 136.099,16.537C135.877,16.321 135.589,16.213 135.237,16.213C134.888,16.213 134.597,16.323 134.364,16.542C134.132,16.761 133.982,17.09 133.916,17.529L133.018,17.369C133.128,16.768 133.377,16.302 133.766,15.971C134.155,15.64 134.639,15.475 135.217,15.475C135.616,15.475 135.983,15.561 136.319,15.732C136.654,15.903 136.911,16.136 137.089,16.432C137.267,16.728 137.356,17.042 137.356,17.374C137.356,17.69 137.271,17.978 137.101,18.237C136.932,18.496 136.681,18.702 136.349,18.855C136.781,18.955 137.116,19.162 137.356,19.476C137.595,19.79 137.715,20.183 137.715,20.655C137.715,21.293 137.482,21.834 137.017,22.277C136.551,22.721 135.963,22.943 135.252,22.943C134.61,22.943 134.078,22.752 133.654,22.37C133.23,21.988 132.989,21.492 132.929,20.884Z" style="fill-rule:nonzero;"></path><path d="M138.602,19.209C138.602,18.345 138.691,17.649 138.869,17.123C139.047,16.596 139.311,16.19 139.661,15.904C140.012,15.618 140.453,15.475 140.985,15.475C141.377,15.475 141.721,15.554 142.017,15.712C142.313,15.87 142.557,16.097 142.75,16.395C142.943,16.692 143.094,17.055 143.203,17.482C143.313,17.909 143.368,18.485 143.368,19.209C143.368,20.067 143.28,20.759 143.104,21.285C142.928,21.812 142.664,22.219 142.314,22.507C141.963,22.794 141.52,22.938 140.985,22.938C140.28,22.938 139.727,22.685 139.325,22.18C138.843,21.572 138.602,20.582 138.602,19.209ZM139.524,19.209C139.524,20.409 139.665,21.207 139.946,21.604C140.226,22.002 140.573,22.2 140.985,22.2C141.397,22.2 141.744,22.001 142.024,21.602C142.305,21.203 142.446,20.406 142.446,19.209C142.446,18.006 142.305,17.207 142.024,16.811C141.744,16.416 141.394,16.218 140.975,16.218C140.563,16.218 140.234,16.392 139.988,16.741C139.679,17.187 139.524,18.009 139.524,19.209Z" style="fill-rule:nonzero;"></path><path d="M144.171,21.233L145.058,21.093C145.108,21.449 145.247,21.722 145.474,21.911C145.702,22.101 146.02,22.195 146.429,22.195C146.841,22.195 147.147,22.111 147.346,21.943C147.546,21.776 147.645,21.579 147.645,21.353C147.645,21.15 147.557,20.99 147.381,20.874C147.258,20.794 146.952,20.693 146.464,20.57C145.806,20.404 145.35,20.26 145.095,20.139C144.841,20.017 144.648,19.85 144.517,19.635C144.386,19.421 144.32,19.184 144.32,18.925C144.32,18.689 144.374,18.47 144.482,18.269C144.59,18.068 144.737,17.901 144.923,17.768C145.063,17.665 145.253,17.578 145.494,17.507C145.735,17.435 145.993,17.399 146.269,17.399C146.685,17.399 147.05,17.459 147.364,17.579C147.678,17.699 147.91,17.861 148.059,18.065C148.209,18.269 148.312,18.543 148.368,18.885L147.491,19.005C147.451,18.732 147.335,18.519 147.144,18.367C146.953,18.214 146.683,18.137 146.334,18.137C145.922,18.137 145.628,18.205 145.452,18.342C145.276,18.478 145.188,18.637 145.188,18.82C145.188,18.937 145.224,19.041 145.297,19.134C145.37,19.231 145.485,19.31 145.641,19.374C145.731,19.407 145.995,19.483 146.434,19.603C147.069,19.772 147.512,19.911 147.762,20.019C148.013,20.127 148.21,20.284 148.353,20.49C148.496,20.696 148.568,20.952 148.568,21.258C148.568,21.557 148.48,21.839 148.306,22.103C148.131,22.367 147.88,22.572 147.551,22.716C147.222,22.861 146.849,22.933 146.434,22.933C145.746,22.933 145.222,22.79 144.861,22.504C144.5,22.218 144.27,21.795 144.171,21.233Z" style="fill-rule:nonzero;"></path></g></g></g></svg>'},283:t=>{t.exports='<svg viewBox="0 0 256 256" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;"><g transform="matrix(1,0,0,1.12928,7.34742,-36.0026)"><path d="M64.881,65.571L65.653,58.011C65.716,51.424 73.835,46.089 83.826,46.089C93.857,46.089 102,51.466 102,58.089L101.5,68.542C96.288,64.856 88.807,62.544 80.5,62.544C74.735,62.544 69.368,63.658 64.881,65.571Z"></path></g><g transform="matrix(-1,0,0,1.12928,248.653,-36.0026)"><path d="M64.881,65.571L65.653,58.011C65.716,51.424 73.835,46.089 83.826,46.089C93.857,46.089 102,51.466 102,58.089L101.5,68.542C96.288,64.856 88.807,62.544 80.5,62.544C74.735,62.544 69.368,63.658 64.881,65.571Z"></path></g><g transform="matrix(1,0,0,1.12928,7.34742,-36.0026)"><path d="M129.562,96.719L129.624,95.089C129.624,81.291 143.962,70.089 161.624,70.089C179.216,70.089 193.512,81.204 193.623,94.927L193.624,95.089L196.729,121.276C206.965,127.091 212.239,133.908 214.675,146.41C217.073,158.713 223.305,189.137 223.305,192C223.305,209.661 202.813,224 178.805,224C154.797,224 136.305,209.661 134.305,192C133.646,186.176 133.051,180.984 132.515,176.358C129.05,177.4 124.991,178 120.653,178C116.315,178 112.255,177.4 108.79,176.358C108.255,180.984 107.66,186.176 107,192C105,209.661 86.508,224 62.5,224C38.492,224 18,209.661 18,192C18,189.137 24.233,158.713 26.63,146.41C29.066,133.908 34.34,127.091 44.576,121.276L47.682,95.089L47.682,94.927C47.794,81.204 62.089,70.089 79.682,70.089C97.343,70.089 111.682,81.291 111.682,95.089L111.787,97.893C114.663,96.444 118.24,95.585 122.114,95.585C124.782,95.585 127.309,95.992 129.562,96.719ZM63.5,164C82.541,164 98,175.202 98,189C98,202.798 82.541,214 63.5,214C44.459,214 29,202.798 29,189C29,175.202 44.459,164 63.5,164ZM177.805,164C158.764,164 143.305,175.202 143.305,189C143.305,202.798 158.764,214 177.805,214C196.846,214 212.305,202.798 212.305,189C212.305,175.202 196.846,164 177.805,164ZM121,158C127.623,158 133,160.689 133,164C133,167.311 127.623,170 121,170C114.377,170 109,167.311 109,164C109,160.689 114.377,158 121,158Z"></path></g></svg>'},963:t=>{t.exports='<svg viewBox="0 0 39 32" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;"><path d="M37,9.5C37,5.913 34.087,3 30.5,3L8.5,3C4.913,3 2,5.913 2,9.5L2,22.5C2,26.087 4.913,29 8.5,29L30.5,29C34.087,29 37,26.087 37,22.5L37,9.5ZM18.97,21.884C18.97,21.983 18.891,22.125 18.733,22.308C17.111,24.188 15.102,25.128 12.706,25.128C10.21,25.128 8.214,24.217 6.716,22.395C5.319,20.698 4.62,18.577 4.62,16.031C4.62,13.486 5.331,11.356 6.754,9.642C8.268,7.795 10.269,6.872 12.756,6.872C15.277,6.872 17.227,7.725 18.608,9.43C18.741,9.605 18.808,9.75 18.808,9.867C18.808,10.008 18.587,10.426 18.147,11.121C17.706,11.816 17.439,12.163 17.348,12.163C17.24,12.163 16.986,11.959 16.587,11.551C16.096,11.052 15.634,10.678 15.202,10.428C14.486,10.021 13.696,9.817 12.831,9.817C11.184,9.817 9.902,10.445 8.987,11.701C8.172,12.824 7.765,14.238 7.765,15.944C7.765,17.649 8.168,19.076 8.975,20.224C9.89,21.513 11.167,22.158 12.806,22.158C13.621,22.158 14.407,21.954 15.164,21.547C15.663,21.28 16.171,20.902 16.687,20.411C17.119,20.003 17.356,19.8 17.398,19.8C17.448,19.8 17.722,20.13 18.221,20.792C18.721,21.453 18.97,21.817 18.97,21.884ZM34.38,21.884C34.38,21.983 34.301,22.125 34.143,22.308C32.521,24.188 30.512,25.128 28.116,25.128C25.62,25.128 23.624,24.217 22.126,22.395C20.729,20.698 20.03,18.577 20.03,16.031C20.03,13.486 20.741,11.356 22.164,9.642C23.678,7.795 25.678,6.872 28.166,6.872C30.686,6.872 32.637,7.725 34.018,9.43C34.151,9.605 34.218,9.75 34.218,9.867C34.218,10.008 33.997,10.426 33.556,11.121C33.116,11.816 32.849,12.163 32.758,12.163C32.65,12.163 32.396,11.959 31.997,11.551C31.506,11.052 31.044,10.678 30.612,10.428C29.896,10.021 29.106,9.817 28.241,9.817C26.594,9.817 25.312,10.445 24.397,11.701C23.582,12.824 23.174,14.238 23.174,15.944C23.174,17.649 23.578,19.076 24.385,20.224C25.3,21.513 26.577,22.158 28.216,22.158C29.031,22.158 29.817,21.954 30.574,21.547C31.073,21.28 31.581,20.902 32.096,20.411C32.529,20.003 32.766,19.8 32.808,19.8C32.858,19.8 33.132,20.13 33.631,20.792C34.13,21.453 34.38,21.817 34.38,21.884Z"></path></svg>'},549:t=>{t.exports='<svg viewBox="0 0 66 66" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;"><g transform="matrix(1,0,0,1,1.5,-3.84252)"><path d="M35.5,52.843L41.5,52.843L30.5,64.843L19.5,52.843L25.5,52.843L25.5,27.843L35.5,27.843L35.5,52.843ZM13.285,23.741C15.874,15.594 23.502,9.685 32.5,9.685C39.674,9.685 45.979,13.44 49.549,19.09C56.483,20.701 61.657,26.922 61.657,34.343C61.657,42.951 54.196,49.788 45.601,49.842L41.5,49.843L41.5,44.843L45.567,44.842C51.245,44.806 56.343,40.028 56.343,34.343C56.343,29.141 52.495,24.83 47.492,24.107L46.176,23.917L45.539,22.75C43.021,18.135 38.124,15 32.5,15C25.315,15 19.315,20.115 17.949,26.901L17.484,29.213L15.132,29.025C14.924,29.008 14.713,29 14.5,29C10.172,29 6.657,32.514 6.657,36.843C6.657,41.171 9.672,44.842 14,44.843L18.5,44.843L18.5,49.843L14,49.843C6.738,49.843 1.343,44.104 1.343,36.843C1.343,29.99 6.592,24.354 13.285,23.741Z"></path></g></svg>'},271:t=>{t.exports='<svg viewBox="0 0 27 31" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:1.41421;"><g id="repeat" transform="matrix(1,0,0,1,-132.5,-2)"><g transform="matrix(-1,0,-0,1,158.831,2)"><path d="M7.364,6.48C9.179,5.515 11.255,4.967 13.461,4.967C20.569,4.967 26.331,10.651 26.331,17.664C26.331,24.676 20.569,30.36 13.461,30.36C8.436,30.36 4.083,27.518 1.964,23.375L1.973,23.34L3.716,22.554C5.531,26.101 9.257,28.534 13.56,28.534C19.645,28.534 24.579,23.667 24.579,17.664C24.579,11.66 19.645,6.793 13.56,6.793C11.624,6.793 9.804,7.286 8.223,8.151L12.5,12L0,12L6.5,0L7.364,6.48Z" style="stroke:black;stroke-width:0.07px;"></path></g><g transform="matrix(1.10748,0,0,1.05518,-5.70486,-1.08359)"><g><path d="M132.929,20.884L133.826,20.764C133.929,21.273 134.104,21.639 134.352,21.864C134.6,22.088 134.901,22.2 135.257,22.2C135.679,22.2 136.035,22.054 136.326,21.762C136.617,21.469 136.762,21.107 136.762,20.675C136.762,20.263 136.628,19.923 136.359,19.655C136.089,19.388 135.747,19.254 135.332,19.254C135.162,19.254 134.951,19.287 134.699,19.354L134.798,18.566C134.858,18.573 134.906,18.576 134.943,18.576C135.325,18.576 135.669,18.476 135.975,18.277C136.281,18.077 136.433,17.77 136.433,17.355C136.433,17.025 136.322,16.753 136.099,16.537C135.877,16.321 135.589,16.213 135.237,16.213C134.888,16.213 134.597,16.323 134.364,16.542C134.132,16.761 133.982,17.09 133.916,17.529L133.018,17.369C133.128,16.768 133.377,16.302 133.766,15.971C134.155,15.64 134.639,15.475 135.217,15.475C135.616,15.475 135.983,15.561 136.319,15.732C136.654,15.903 136.911,16.136 137.089,16.432C137.267,16.728 137.356,17.042 137.356,17.374C137.356,17.69 137.271,17.978 137.101,18.237C136.932,18.496 136.681,18.702 136.349,18.855C136.781,18.955 137.116,19.162 137.356,19.476C137.595,19.79 137.715,20.183 137.715,20.655C137.715,21.293 137.482,21.834 137.017,22.277C136.551,22.721 135.963,22.943 135.252,22.943C134.61,22.943 134.078,22.752 133.654,22.37C133.23,21.988 132.989,21.492 132.929,20.884Z" style="fill-rule:nonzero;"></path><path d="M138.602,19.209C138.602,18.345 138.691,17.649 138.869,17.123C139.047,16.596 139.311,16.19 139.661,15.904C140.012,15.618 140.453,15.475 140.985,15.475C141.377,15.475 141.721,15.554 142.017,15.712C142.313,15.87 142.557,16.097 142.75,16.395C142.943,16.692 143.094,17.055 143.203,17.482C143.313,17.909 143.368,18.485 143.368,19.209C143.368,20.067 143.28,20.759 143.104,21.285C142.928,21.812 142.664,22.219 142.314,22.507C141.963,22.794 141.52,22.938 140.985,22.938C140.28,22.938 139.727,22.685 139.325,22.18C138.843,21.572 138.602,20.582 138.602,19.209ZM139.524,19.209C139.524,20.409 139.665,21.207 139.946,21.604C140.226,22.002 140.573,22.2 140.985,22.2C141.397,22.2 141.744,22.001 142.024,21.602C142.305,21.203 142.446,20.406 142.446,19.209C142.446,18.006 142.305,17.207 142.024,16.811C141.744,16.416 141.394,16.218 140.975,16.218C140.563,16.218 140.234,16.392 139.988,16.741C139.679,17.187 139.524,18.009 139.524,19.209Z" style="fill-rule:nonzero;"></path><path d="M144.171,21.233L145.058,21.093C145.108,21.449 145.247,21.722 145.474,21.911C145.702,22.101 146.02,22.195 146.429,22.195C146.841,22.195 147.147,22.111 147.346,21.943C147.546,21.776 147.645,21.579 147.645,21.353C147.645,21.15 147.557,20.99 147.381,20.874C147.258,20.794 146.952,20.693 146.464,20.57C145.806,20.404 145.35,20.26 145.095,20.139C144.841,20.017 144.648,19.85 144.517,19.635C144.386,19.421 144.32,19.184 144.32,18.925C144.32,18.689 144.374,18.47 144.482,18.269C144.59,18.068 144.737,17.901 144.923,17.768C145.063,17.665 145.253,17.578 145.494,17.507C145.735,17.435 145.993,17.399 146.269,17.399C146.685,17.399 147.05,17.459 147.364,17.579C147.678,17.699 147.91,17.861 148.059,18.065C148.209,18.269 148.312,18.543 148.368,18.885L147.491,19.005C147.451,18.732 147.335,18.519 147.144,18.367C146.953,18.214 146.683,18.137 146.334,18.137C145.922,18.137 145.628,18.205 145.452,18.342C145.276,18.478 145.188,18.637 145.188,18.82C145.188,18.937 145.224,19.041 145.297,19.134C145.37,19.231 145.485,19.31 145.641,19.374C145.731,19.407 145.995,19.483 146.434,19.603C147.069,19.772 147.512,19.911 147.762,20.019C148.013,20.127 148.21,20.284 148.353,20.49C148.496,20.696 148.568,20.952 148.568,21.258C148.568,21.557 148.48,21.839 148.306,22.103C148.131,22.367 147.88,22.572 147.551,22.716C147.222,22.861 146.849,22.933 146.434,22.933C145.746,22.933 145.222,22.79 144.861,22.504C144.5,22.218 144.27,21.795 144.171,21.233Z" style="fill-rule:nonzero;"></path></g></g></g></svg>'},643:t=>{t.exports='<svg viewBox="0 0 34 28" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421;"><g id="FullScreen" transform="matrix(1,0,0,1,-363,-6)"><g><g><g transform="matrix(1,0,0,1,-2,2.84217e-14)"><path d="M368.492,8.078L371.207,10.793L369.793,12.207L367.078,9.492L365,11.57L365.014,7.428L365,7.414L365.014,7.4L365.019,6.019L366.4,6.014L366.414,6L366.428,6.014L370.57,6L368.492,8.078Z"></path></g><g transform="matrix(1,0,0,-1,-2,40)"><path d="M368.492,8.078L371.207,10.793L369.793,12.207L367.078,9.492L365,11.57L365.014,7.428L365,7.414L365.014,7.4L365.019,6.019L366.4,6.014L366.414,6L366.428,6.014L370.57,6L368.492,8.078Z"></path></g><g transform="matrix(-1,0,0,1,762,2.84217e-14)"><path d="M368.492,8.078L371.207,10.793L369.793,12.207L367.078,9.492L365,11.57L365.014,7.428L365,7.414L365.014,7.4L365.019,6.019L366.4,6.014L366.414,6L366.428,6.014L370.57,6L368.492,8.078Z"></path></g><g transform="matrix(-1,0,0,-1,762,40)"><path d="M368.492,8.078L371.207,10.793L369.793,12.207L367.078,9.492L365,11.57L365.014,7.428L365,7.414L365.014,7.4L365.019,6.019L366.4,6.014L366.414,6L366.428,6.014L370.57,6L368.492,8.078Z"></path></g><g transform="matrix(1,0,0,0.886475,0,2.17871)"><rect x="369" y="12.207" width="22" height="15.793"></rect></g><g transform="matrix(1,0,0,1,-0.0588586,-0.780796)"></g></g></g></g></svg>'},812:t=>{t.exports='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" viewBox="0 0 24 24"><path d="M19,10H17V8H19M19,13H17V11H19M16,10H14V8H16M16,13H14V11H16M16,17H8V15H16M7,10H5V8H7M7,13H5V11H7M8,11H10V13H8M8,8H10V10H8M11,11H13V13H11M11,8H13V10H11M20,5H4C2.89,5 2,5.89 2,7V17A2,2 0 0,0 4,19H20A2,2 0 0,0 22,17V7C22,5.89 21.1,5 20,5Z"></path></svg>'},291:t=>{t.exports='<svg viewBox="0 0 39 33" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421;"><path d="M38.02,33L20.02,33L20.02,16L38.02,16L38.02,33ZM18.1,31.479L17.261,28.744C17.261,28.744 15.373,29.986 14.365,29.504C13.356,29.022 13.141,28.161 13.141,28.161L15.089,26L10.02,26L10.02,31.317L12.04,29.194C12.04,29.194 12.571,31.145 13.809,31.959C15.732,33.224 18.1,31.479 18.1,31.479ZM35.846,31C35.844,30.985 35.419,26.773 34.821,25.622C34.222,24.47 31.242,24.429 31.242,24.429C31.242,24.429 30.557,27.413 30.373,27.982C30.189,28.55 30.15,28.681 30.15,28.681C30.15,28.681 29.686,25.798 29.604,25.505C29.543,25.285 29.143,25.271 29.058,25.271C28.973,25.271 28.573,25.297 28.512,25.516C28.431,25.809 28.097,28.617 28.097,28.617C28.097,28.617 27.995,28.55 27.811,27.982C27.627,27.413 26.874,24.429 26.874,24.429C26.874,24.429 23.894,24.47 23.295,25.622C22.696,26.775 22.27,31 22.27,31L35.846,31ZM30.15,24.429C30.209,24.682 29.406,25.228 29.406,25.228L28.763,25.212C28.763,25.212 27.907,24.682 27.966,24.429C28.02,24.196 28.753,24.222 29.058,24.219C29.365,24.222 30.096,24.196 30.15,24.429ZM25.02,15L22.02,15L22.02,3L23.02,3L23.02,2L2.02,2L2.02,3L3.02,3L3.02,17L11.79,17L8.396,21.381C8.078,21.995 8.205,22.353 8.367,22.49C8.531,22.629 8.944,22.69 9.341,22.282L12.926,18.594L16.429,22.282C16.589,22.542 16.931,22.561 17.322,22.405C17.601,22.293 17.521,21.746 17.374,21.381L13.875,17L19.02,17L19.02,24L0,24L0,0L25.02,0L25.02,15ZM29.058,17.067C30.719,17.067 32.068,18.527 32.068,20.326C32.068,22.125 30.719,23.586 29.058,23.586C27.397,23.586 26.048,22.125 26.048,20.326C26.048,18.527 27.397,17.067 29.058,17.067ZM21.02,15L21.02,3L4.02,3L4.02,16L19.02,16L19.02,15L21.02,15ZM35.1,14L30.032,14L31.98,11.839C31.98,11.839 31.765,10.978 30.756,10.496C29.747,10.014 27.86,11.256 27.86,11.256L27.02,8.521C27.02,8.521 29.389,6.776 31.312,8.041C32.55,8.855 33.081,10.806 33.081,10.806L35.1,8.683L35.1,14ZM10.744,7.462L6.356,13.008L5.922,12.61L10.727,6.537L13.847,9.959L18.147,5.333L18.55,5.767L13.846,10.826L10.744,7.462Z"></path></svg>'},998:t=>{t.exports='<svg viewBox="0 0 39 32" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421;"><g transform="matrix(1.43396,0,0,1.57895,-350.104,-74)"><path d="M271,50.995C271,49.065 269.277,47.5 267.152,47.5C267.152,47.5 260.884,46.867 257.75,46.867C254.616,46.867 248.348,47.5 248.348,47.5C246.223,47.5 244.5,49.065 244.5,50.995C244.5,50.995 244.151,55.036 244.151,56.842C244.151,58.843 244.5,63.005 244.5,63.005C244.5,64.935 246.223,66.5 248.348,66.5C248.348,66.5 254.965,67.133 258.099,67.133C261.124,67.133 267.152,66.5 267.152,66.5C269.277,66.5 271,64.935 271,63.005C271,63.005 271.349,59.002 271.349,57C271.349,54.998 271,50.995 271,50.995Z"></path></g></svg>'},770:t=>{t.exports='<svg viewBox="0 0 521 601" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421;"><g transform="matrix(5.20833,0,0,5.20833,0,0)"><g id="User" transform="matrix(3.84615,1.8963e-31,0,3.84615,-1564.99,-323.92)"><g transform="matrix(1.05882,0,0,1.05882,-23.2206,-3.66315)"><circle cx="418.5" cy="91.5" r="8.5"></circle></g><g transform="matrix(0.996622,0,0,0.785714,1.3158,23.0763)"><path d="M406.956,116C408.994,107.809 414.069,102 420,102C425.931,102 431.006,107.809 433.044,116L406.956,116Z"></path></g></g></g></svg>'},506:t=>{t.exports='<svg viewBox="0 0 34 30" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421;"><g transform="matrix(1,0,0,1,-164.25,-6)"><path d="M184.233,14.077C188.981,14.489 191.571,24.435 184.954,27.208C183.497,27.819 181.723,25.826 183.988,24.902C187.22,23.511 187.697,17.939 183.734,16.5C183.734,16.5 181.944,14.012 184.233,14.077Z" style="fill-rule:nonzero;"></path></g><g transform="matrix(1.79727,0,0,1.79727,-310.137,-22.5434)"><path d="M184.236,14.634C184.819,14.72 184.834,14.837 185.078,14.956C188.213,16.489 189.629,20.834 187.848,23.947C187.088,25.275 185.842,26.312 184.395,26.83C184.395,26.83 184.071,26.925 183.815,26.778C183.217,26.436 183.496,25.849 184.723,25.159C187.985,23.325 187.943,17.417 183.927,15.98C183.927,15.98 182.939,14.544 184.236,14.634Z" style="fill-rule:nonzero;"></path></g><g transform="matrix(2.44245,0,0,2.44245,-427.303,-35.9308)"><path d="M184.199,14.815C184.625,14.866 186.828,16.03 187.775,17.801C189.443,20.92 187.935,25.329 184.388,26.637C184.388,26.637 183.459,26.646 183.677,26.009C183.808,25.624 184.344,25.578 184.77,25.344C187.184,24.016 188.202,20.604 186.8,18.153C186.181,17.07 185.166,16.228 183.988,15.807C183.988,15.807 183.242,14.787 184.199,14.815Z" style="fill-rule:nonzero;"></path></g><g transform="matrix(1,0,0,1,-125,-5)"><path d="M131.499,14L139.68,5C140.961,5 142,6.039 142,7.32L142,31.68C142,32.961 140.961,34 139.68,34L131.499,25L127.375,25C126.063,25 125,23.937 125,22.625L125,16.375C125,15.063 126.063,14 127.375,14L131.499,14Z"></path></g></svg>'},978:t=>{t.exports='<svg viewBox="0 0 25 29" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421;"><g id="volume-low" serif:id="volume low" transform="matrix(1,0,0,1,-165,-5)"><g><g transform="matrix(1,0,0,1,0.75,-1)"><path d="M184.233,14.077C188.981,14.489 191.571,24.435 184.954,27.208C183.497,27.819 181.723,25.826 183.988,24.902C187.22,23.511 187.697,17.939 183.734,16.5C183.734,16.5 181.944,14.012 184.233,14.077Z" style="fill-rule:nonzero;"></path></g><g transform="matrix(1,0,0,1,40,0)"><path d="M131.499,14L139.68,5C140.961,5 142,6.039 142,7.32L142,31.68C142,32.961 140.961,34 139.68,34L131.499,25L127.375,25C126.063,25 125,23.937 125,22.625L125,16.375C125,15.063 126.063,14 127.375,14L131.499,14Z"></path></g></g></g></svg>'},704:t=>{t.exports='<svg viewBox="0 0 29 29" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421;"><g id="volume-mid" serif:id="volume mid" transform="matrix(1,0,0,1,-165,-5)"><g><g transform="matrix(1,0,0,1,0.75,-1)"><path d="M184.233,14.077C188.981,14.489 191.571,24.435 184.954,27.208C183.497,27.819 181.723,25.826 183.988,24.902C187.22,23.511 187.697,17.939 183.734,16.5C183.734,16.5 181.944,14.012 184.233,14.077Z" style="fill-rule:nonzero;"></path></g><g transform="matrix(1.79727,0,0,1.79727,-145.137,-17.5434)"><path d="M184.236,14.634C184.819,14.72 184.834,14.837 185.078,14.956C188.213,16.489 189.629,20.834 187.848,23.947C187.088,25.275 185.842,26.312 184.395,26.83C184.395,26.83 184.071,26.925 183.815,26.778C183.217,26.436 183.496,25.849 184.723,25.159C187.985,23.325 187.943,17.417 183.927,15.98C183.927,15.98 182.939,14.544 184.236,14.634Z" style="fill-rule:nonzero;"></path></g><g transform="matrix(1,0,0,1,40,0)"><path d="M131.499,14L139.68,5C140.961,5 142,6.039 142,7.32L142,31.68C142,32.961 140.961,34 139.68,34L131.499,25L127.375,25C126.063,25 125,23.937 125,22.625L125,16.375C125,15.063 126.063,14 127.375,14L131.499,14Z"></path></g></g></g></svg>'},928:t=>{t.exports='<svg viewBox="0 0 31 31" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421;"><g id="volume-mute" serif:id="volume mute" transform="matrix(1,0,0,1,-123,-4.71142)"><path d="M142,28.522L142,31.68C142,32.961 140.961,34 139.68,34L131.499,25L127.375,25C126.063,25 125,23.937 125,22.625L125,16.375C125,15.063 126.063,14 127.375,14L127.478,14L142,28.522ZM151.228,34.983L123,6.756L125.044,4.711L132.848,12.516L139.68,5C140.961,5 142,6.039 142,7.32L142,21.667L153.272,32.939L151.228,34.983Z"></path></g></svg>'},887:t=>{t.exports='<svg viewBox="0 0 37 29" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421;"><g id="Exit-FullScreen" serif:id="Exit FullScreen" transform="matrix(1,0,0,1,-361.793,-5.79289)"><g><g transform="matrix(1,0,0,-1,27,18)"><path d="M368.492,8.078L371.207,10.793L369.793,12.207L367.078,9.492L365,11.57L365.014,7.428L365,7.414L365.014,7.4L365.019,6.019L366.4,6.014L366.414,6L366.428,6.014L370.57,6L368.492,8.078Z"></path></g><g transform="matrix(-1,0,0,1,733,22)"><path d="M368.492,8.078L371.207,10.793L369.793,12.207L367.078,9.492L365,11.57L365.014,7.428L365,7.414L365.014,7.4L365.019,6.019L366.4,6.014L366.414,6L366.428,6.014L370.57,6L368.492,8.078Z"></path></g><g transform="matrix(-1,0,0,-1,733,18)"><path d="M368.492,8.078L371.207,10.793L369.793,12.207L367.078,9.492L365,11.57L365.014,7.428L365,7.414L365.014,7.4L365.019,6.019L366.4,6.014L366.414,6L366.428,6.014L370.57,6L368.492,8.078Z"></path></g><g transform="matrix(1,0,0,1,27,22)"><path d="M368.492,8.078L371.207,10.793L369.793,12.207L367.078,9.492L365,11.57L365.014,7.428L365,7.414L365.014,7.4L365.019,6.019L366.4,6.014L366.414,6L366.428,6.014L370.57,6L368.492,8.078Z"></path></g><g transform="matrix(1,0,0,0.886475,0,2.17871)"><rect x="369" y="12.207" width="22" height="15.793"></rect></g></g></g></svg>'},456:(t,e,n)=>{var r={"./en-US.json":263,"./es-ES.json":992};function o(t){var e=i(t);return n(e)}function i(t){if(!n.o(r,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return r[t]}o.keys=function(){return Object.keys(r)},o.resolve=i,t.exports=o,o.id=456},757:(t,e,n)=>{var r={"./BasicPluginsModule.js":95,"./es.upv.paella.audioSelector.js":252,"./es.upv.paella.backwardButtonPlugin.js":925,"./es.upv.paella.captionsSelectorPlugin.js":460,"./es.upv.paella.customTimeProgressIndicator.js":787,"./es.upv.paella.downloadsPlugin.js":61,"./es.upv.paella.externalPluginTest.js":800,"./es.upv.paella.findCaptionsPlugin.js":623,"./es.upv.paella.forwardButtonPlugin.js":108,"./es.upv.paella.fullscreenButton.js":440,"./es.upv.paella.keyboardShortcutsHelp.js":234,"./es.upv.paella.layoutSelector.js":239,"./es.upv.paella.liveStreamingProgressIndicator.js":592,"./es.upv.paella.playbackRateButton.js":540,"./es.upv.paella.qualitySelector.js":135,"./es.upv.paella.volumeButtonPlugin.js":459};function o(t){var e=i(t);return n(e)}function i(t){if(!n.o(r,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return r[t]}o.keys=function(){return Object.keys(r)},o.resolve=i,t.exports=o,o.id=757},995:e=>{e.exports=t},263:t=>{t.exports=JSON.parse('{"Select the active audio track":"Select the active audio track","Toggle audio mute":"Toggle audio mute","Toggle play/pause":"Toggle play/pause","Toggle captions":"Toggle captions","Volume up 10%":"Volume up 10%","Volume down 10%":"Volume down 10%","Close pop-up":"Close pop-up","Decrease playback speed":"Decrease playback speed","Increase playback speed":"Increase playback speed","Select captions":"Select captions","Search":"Search","Search in captions":"Search in captions","No results found":"No results found","Toggle fullscreen":"Toggle fullscreen","Video layout":"Video layout","Playback rate":"Playback rate","Video quality":"Video quality","Volume":"Volume","Audio track":"Audio track","Spanish":"Español"}')},992:t=>{t.exports=JSON.parse('{"Select the active audio track":"Seleccione la pista de audio activa","Toggle audio mute":"Conmutar el silencio de audio","Toggle play/pause":"Activar la reproducción/pausa","Toggle captions":"Alternar subtítulos","Volume up 10%":"Aumenta el volumen un 10%.","Volume down 10%":"Reduce el volumen un 10%.","Close pop-up":"Cerrar Pop Up","Decrease playback speed":"Reducir la velocidad de reproducción","Increase playback speed":"Aumentar la velocidad de reproducción","Select captions":"Seleccionar subtítulos","Search":"Buscar","Search in captions":"Buscar en subtítulos","No results found":"No se han encontrado resultados","Toggle fullscreen":"Cambiar modo de pantalla completa","Video layout":"Disposición de los vídeos","Playback rate":"Velocidad de reproducción","Video quality":"Calidad del vídeo","Volume":"Volumen","Audio track":"Pista de audio","Spanish":"Español","Keyboard shortcuts":"Atajos de teclado"}')}},n={};function r(t){var o=n[t];if(void 0!==o)return o.exports;var i=n[t]={id:t,exports:{}};return e[t](i,i.exports,r),i.exports}r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.nc=void 0;var o={};return(()=>{r.r(o),r.d(o,{AudioSelectorButtonPlugin:()=>m,BackwardButtonPlugin:()=>b,CaptionsSelectorButtonPlugin:()=>w,CustomTimeProgressIndicatorPlugin:()=>T,DownloadsButtonPlugin:()=>A,FindCaptionsButtonPlugin:()=>x,ForwardButtonPlugin:()=>C,FullscreenButtonPlugin:()=>E,KeyboardHelpButtonPlugin:()=>k,LayoutSelectorButtonPlugin:()=>L,LiveStreamingProgressIndicatorPlugin:()=>O,PlaybackRateButtonPlugin:()=>_,QualitySelectorButtonPlugin:()=>S,VolumeButtonPlugin:()=>P,basicPlugins:()=>g,default:()=>v});var t=r(252),e=r(925),n=r(460),i=r(61),a=r(623),s=r(108),u=r(440),c=r(234),l=r(239),f=r(540),h=r(135),p=r(459),d=r(787),y=r(592);function v(){return r(757)}var g=[{plugin:t.default,config:{enabled:!1}},{plugin:e.default,config:{enabled:!1}},{plugin:n.default,config:{enabled:!1}},{plugin:i.default,config:{enabled:!1}},{plugin:a.default,config:{enabled:!1}},{plugin:s.default,config:{enabled:!1}},{plugin:u.default,config:{enabled:!1}},{plugin:c.default,config:{enabled:!1}},{plugin:l.default,config:{enabled:!1}},{plugin:f.default,config:{enabled:!1}},{plugin:h.default,config:{enabled:!1}},{plugin:p.default,config:{enabled:!1}},{plugin:d.default,config:{enabled:!1}},{plugin:y.default,config:{enabled:!1}}],m=t.default,b=e.default,w=n.default,A=i.default,x=a.default,C=s.default,E=u.default,k=c.default,L=l.default,_=f.default,S=h.default,P=p.default,T=d.default,O=y.default})(),o})(),t.exports=n($)})),z=G(Z),H=V((function(t,e){var n;self,n=t=>(()=>{var e={650:(t,e,n)=>{function r(t,e,n,r,o,i,a){try{var s=t[i](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,o)}function o(t){return function(){var e=this,n=arguments;return new Promise((function(o,i){var a=t.apply(e,n);function s(t){r(a,o,i,s,u,"next",t)}function u(t){r(a,o,i,s,u,"throw",t)}s(void 0)}))}}function i(t){return a(t).length>0}function a(t){var e,n=(null===(e=t.frameList)||void 0===e?void 0:e.frames)||[];return n.sort((function(t,e){return t.time-e.time})),n}function s(t){return u.apply(this,arguments)}function u(){return(u=o(regeneratorRuntime.mark((function t(e){var n,r,o,i,s,u;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=a(e),r=e.videoContainer,o=r.isTrimEnabled?r.trimStart:0,t.t0=o,t.t1=Math,t.next=7,r.duration();case 7:return t.t2=t.sent,t.t3=t.t1.trunc.call(t.t1,t.t2),i=t.t0+t.t3,t.t4=o,t.t5=Math,t.next=14,r.currentTime();case 14:if(t.t6=t.sent,t.t7=t.t5.trunc.call(t.t5,t.t6),s=t.t4+t.t7,u=null,n.some((function(t){return t.time>s&&t.time<i&&(u=t),null!==u})),!u){t.next=22;break}return t.next=22,e.videoContainer.setCurrentTime(u.time-o);case 22:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function c(t){return l.apply(this,arguments)}function l(){return(l=o(regeneratorRuntime.mark((function t(e){var n,r,o,i,s,u;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=a(e),r=e.videoContainer,o=r.isTrimEnabled?r.trimStart:0,t.t0=Math,t.next=6,r.currentTime();case 6:if(t.t1=t.sent,t.t2=t.t0.trunc.call(t.t0,t.t1),t.t3=o,i=t.t2+t.t3,s=null,n.some((function(t){return t.time<i&&(s=t),t.time>=i})),!s){t.next=16;break}return u=s.time<o?o:s.time,t.next=16,e.videoContainer.setCurrentTime(u-o);case 16:case"end":return t.stop()}}),t)})))).apply(this,arguments)}n.d(e,{$D:()=>i,V4:()=>c,Xs:()=>a,oy:()=>s})},769:(t,e,n)=>{n.r(e),n.d(e,{default:()=>d});var r=n(995);const o=JSON.parse('{"u2":"paella-slide-plugins","i8":"1.41.0"}');var i={},a=n(456);a.keys().forEach((function(t){var e=/([a-z-]+[A-Z_]+)\.json/.exec(t),n=e&&e[1];if(n){var r=a(t);i[n]=r;var o=n.substring(0,2);o in i||(i[o]=r)}}));const s=i;function u(t){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u(t)}function c(t,e,n,r,o,i,a){try{var s=t[i](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,o)}function l(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function f(t,e){return f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},f(t,e)}function h(t){return h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},h(t)}var p=null,d=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(g,t);var e,n,r,i,a,d,y,v=(d=g,y=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=h(d);if(y){var n=h(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){return!e||"object"!==u(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,t)});function g(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,g),v.apply(this,arguments)}return e=g,n=[{key:"moduleName",get:function(){return o.u2}},{key:"moduleVersion",get:function(){return o.i8}},{key:"getDictionaries",value:(i=regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",s);case 1:case"end":return t.stop()}}),t)})),a=function(){var t=this,e=arguments;return new Promise((function(n,r){var o=i.apply(t,e);function a(t){c(o,n,r,a,s,"next",t)}function s(t){c(o,n,r,a,s,"throw",t)}a(void 0)}))},function(){return a.apply(this,arguments)})}],r=[{key:"Get",value:function(){return p||(p=new g),p}}],n&&l(e.prototype,n),r&&l(e,r),g}(r.PluginModule)},516:(t,e,n)=>{n.r(e),n.d(e,{default:()=>b});var r=n(995),o=n(650),i=n(769),a=n(379),s=n.n(a),u=n(35);s()(u.Z,{insert:"head",singleton:!1}),u.Z.locals;var c=n(259),l=n.n(c),f=n(722),h=n.n(f);function p(t){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},p(t)}function d(t,e,n,r,o,i,a){try{var s=t[i](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,o)}function y(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){d(i,r,o,a,s,"next",t)}function s(t){d(i,r,o,a,s,"throw",t)}a(void 0)}))}}function v(t,e,n){return v="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=m(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}},v(t,e,n||t)}function g(t,e){return g=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},g(t,e)}function m(t){return m=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},m(t)}var b=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&g(t,e)}(f,t);var e,n,a,s,u,c=(s=f,u=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=m(s);if(u){var n=m(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){return!e||"object"!==p(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,t)});function f(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,f),c.apply(this,arguments)}return e=f,n=[{key:"getPluginModuleInstance",value:function(){return i.default.Get()}},{key:"name",get:function(){return v(m(f.prototype),"name",this)||"es.upv.paella.arrowSlidesNavigator"}},{key:"events",get:function(){return[r.Events.PLAYER_LOADED]}},{key:"onEvent",value:(a=y(regeneratorRuntime.mark((function t(e){var n,i,a,s,u,c,f,p,d=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i=this.player.getCustomPluginIcon(this.name,"arrowLeftIcon")||l(),a=this.player.getCustomPluginIcon(this.name,"arrowRightIcon")||h(),console.debug("Loading arrow slides navigation plugin"),s=Array.isArray(this.config.target)?this.config.target:[this.config.target],u=this.player.videoContainer.streamProvider.streams,c=s.find((function(t){return null!==u[t]})),f=u[c],this.frames=(0,o.Xs)(this.player),f&&null!==(n=this.frames)&&void 0!==n&&n.length?(p=(0,r.createElementWithHtmlText)('<div class="arrow-slides-navigator"></div>',f.canvas.userArea),(0,r.createElementWithHtmlText)('\n            <button class="button-prev"><i>'.concat(i,"</i></button>\n            "),p).addEventListener("click",function(){var t=y(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.stopPropagation(),t.next=3,(0,o.V4)(d.player);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),(0,r.createElementWithHtmlText)('\n            <button class="button-next"><i>'.concat(a,"</i></button>\n            "),p).addEventListener("click",function(){var t=y(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.stopPropagation(),t.next=3,(0,o.oy)(d.player);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())):console.warn("No matching stream content or frames found for arrow slides navigator plugin");case 9:case"end":return t.stop()}}),t,this)}))),function(t){return a.apply(this,arguments)})}],n&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(e.prototype,n),f}(r.EventLogPlugin)},588:(t,e,n)=>{n.r(e),n.d(e,{default:()=>A});var r=n(995),o=n(769),i=n(741),a=n.n(i),s=n(259),u=n.n(s),c=n(722),l=n.n(c),f=n(379),h=n.n(f),p=n(895);function d(t){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},d(t)}function y(t,e,n,r,o,i,a){try{var s=t[i](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,o)}function v(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){y(i,r,o,a,s,"next",t)}function s(t){y(i,r,o,a,s,"throw",t)}a(void 0)}))}}function g(t,e,n){return g="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=b(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}},g(t,e,n||t)}function m(t,e){return m=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},m(t,e)}function b(t){return b=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},b(t)}function w(t,e){null==e||e.forEach((function(t){return t.classList.remove("selected")})),t.classList.add("selected")}h()(p.Z,{insert:"head",singleton:!1}),p.Z.locals;var A=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&m(t,e)}(y,t);var e,n,i,s,c,f,h,p=(f=y,h=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=b(f);if(h){var n=b(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){return!e||"object"!==d(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,t)});function y(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,y),p.apply(this,arguments)}return e=y,n=[{key:"getPluginModuleInstance",value:function(){return o.default.Get()}},{key:"name",get:function(){return g(b(y.prototype),"name",this)||"es.upv.paella.frameControlButtonPlugin"}},{key:"getAriaLabel",value:function(){return"Show slides"}},{key:"getDescription",value:function(){return this.getAriaLabel()}},{key:"popUpType",get:function(){return"timeline"}},{key:"isEnabled",value:(c=v(regeneratorRuntime.mark((function t(){var e,n,r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g(b(y.prototype),"isEnabled",this).call(this);case 2:return o=t.sent,this.frames=null===(e=this.player.frameList)||void 0===e?void 0:e.frames,null===(n=this.frames)||void 0===n||n.sort((function(t,e){return t.time-e.time})),t.abrupt("return",o&&(null===(r=this.frames)||void 0===r?void 0:r.length));case 6:case"end":return t.stop()}}),t,this)}))),function(){return c.apply(this,arguments)})},{key:"getContent",value:(s=v(regeneratorRuntime.mark((function t(){var e,n,o,i,a,s,c,f,h,p,d,y,g,m=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.player.getCustomPluginIcon(this.name,"arrowLeftIcon")||u(),n=this.player.getCustomPluginIcon(this.name,"arrowRightIcon")||l(),o=this.player.frameList.targetContent||this.config.targetContent||"presentation",i=(0,r.createElementWithHtmlText)('<div class="frame-control-plugin-container"></div>'),a=(0,r.createElementWithHtmlText)('<div class="image-list"></div>',i),s=(0,r.createElementWithHtmlText)('<button class="btn-left"><i class="button-icon">'.concat(e,"</i></button>"),i),c=(0,r.createElementWithHtmlText)('<button class="btn-right"><i class="button-icon">'.concat(n,"</i></button>"),i),f=this.player.videoContainer,t.next=10,f.duration();case 10:return h=t.sent,p=f.isTrimEnabled?f.trimStart:0,d=f.isTrimEnabled?f.trimEnd:h,y=function(t){return t=m.player.videoContainer.isTrimEnabled?t-m.player.videoContainer.trimStart:t,r.utils.secondsToTime(t<0?0:t)},this.frameElements=this.frames.filter((function(t,e){var n=m.frames[e+1];return((null==n?void 0:n.time)>=p||t.time>=p)&&t.time<=d})).map((function(t){var e="".concat(m.player.translate("go to")," ").concat(y(t.time)),n=(0,r.createElementWithHtmlText)('\n                <button id="frame_'.concat(t.id,'" aria-label="').concat(e,'" title="').concat(e,'"><img src="').concat(t.thumb,'" alt="').concat(t.id,'"/></button>\n                '),a);return n.__data=t,n.addEventListener("click",function(){var t=v(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.currentTarget.__data.time-p,t.next=3,m.player.videoContainer.setCurrentTime(n>=0?n:0);case 3:w(e.currentTarget,m.frameElements);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),n.addEventListener("mouseover",function(){var e=v(regeneratorRuntime.mark((function e(n){var r,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:m._currentFrame&&m.player.videoContainer.removeChild(m._currentFrame),(r=document.createElement("img")).className="frame-control-preview",r.src=t.url,i=m.player.videoContainer.getVideoRect(o),m._currentFrame=m.player.videoContainer.appendChild(r,i);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.addEventListener("mouseout",function(){var t=v(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:m._currentFrame&&(m.player.videoContainer.removeChild(m._currentFrame),m._currentFrame=null);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),n})),g=function(){return 20*a.offsetWidth/100},s.addEventListener("click",(function(){a.scrollLeft-=g()})),c.addEventListener("click",(function(){a.scrollLeft+=g()})),setTimeout((function(){return m.frameElements[0]&&m.frameElements[0].focus()}),50),t.abrupt("return",i);case 20:case"end":return t.stop()}}),t,this)}))),function(){return s.apply(this,arguments)})},{key:"load",value:(i=v(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.icon=this.player.getCustomPluginIcon(this.name,"photoIcon")||a(),(0,r.bindEvent)(this.player,r.Events.TIMEUPDATE,function(){var t=v(regeneratorRuntime.mark((function t(n){var r,o,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:o=e.player.videoContainer.isTrimEnabled?e.player.videoContainer.trimStart:0,i=e.frameElements&&e.frameElements[0],null===(r=e.frameElements)||void 0===r||r.some((function(t){if(t.__data.time>Math.floor(n.currentTime+o+3))return!0;i=t})),i&&w(i,e.frameElements);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),(0,r.bindEvent)(this.player,r.Events.TRIMMING_CHANGED,(function(t){e.refreshContent=!0}));case 4:case"end":return t.stop()}}),t,this)}))),function(){return i.apply(this,arguments)})}],n&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(e.prototype,n),y}(r.PopUpButtonPlugin)},797:(t,e,n)=>{n.r(e),n.d(e,{default:()=>d});var r=n(995),o=n(650),i=n(769),a=n(722),s=n.n(a);function u(t){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u(t)}function c(t,e,n,r,o,i,a){try{var s=t[i](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,o)}function l(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){c(i,r,o,a,s,"next",t)}function s(t){c(i,r,o,a,s,"throw",t)}a(void 0)}))}}function f(t,e,n){return f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=p(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}},f(t,e,n||t)}function h(t,e){return h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},h(t,e)}function p(t){return p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},p(t)}var d=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}(g,t);var e,n,r,a,c,d,y,v=(d=g,y=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=p(d);if(y){var n=p(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){return!e||"object"!==u(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,t)});function g(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,g),v.apply(this,arguments)}return e=g,n=[{key:"getPluginModuleInstance",value:function(){return i.default.Get()}},{key:"name",get:function(){return f(p(g.prototype),"name",this)||"es.upv.paella.nextSlideNavigatorButton"}},{key:"getAriaLabel",value:function(){return this.getDescription()}},{key:"getDescription",value:function(){return this.player.translate("Seek video to the next slide")}},{key:"isEnabled",value:(c=l(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f(p(g.prototype),"isEnabled",this).call(this);case 2:return e=t.sent,t.abrupt("return",e&&(0,o.$D)(this.player));case 4:case"end":return t.stop()}}),t,this)}))),function(){return c.apply(this,arguments)})},{key:"load",value:(a=l(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.icon=this.player.getCustomPluginIcon(this.name,"arrowRightIcon")||s();case 1:case"end":return t.stop()}}),t,this)}))),function(){return a.apply(this,arguments)})},{key:"action",value:(r=l(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,o.oy)(this.player);case 2:case"end":return t.stop()}}),t,this)}))),function(){return r.apply(this,arguments)})}],n&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(e.prototype,n),g}(r.CanvasButtonPlugin)},835:(t,e,n)=>{n.r(e),n.d(e,{default:()=>d});var r=n(995),o=n(650),i=n(769),a=n(259),s=n.n(a);function u(t){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u(t)}function c(t,e,n,r,o,i,a){try{var s=t[i](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,o)}function l(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){c(i,r,o,a,s,"next",t)}function s(t){c(i,r,o,a,s,"throw",t)}a(void 0)}))}}function f(t,e,n){return f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=p(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}},f(t,e,n||t)}function h(t,e){return h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},h(t,e)}function p(t){return p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},p(t)}var d=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}(g,t);var e,n,r,a,c,d,y,v=(d=g,y=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=p(d);if(y){var n=p(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){return!e||"object"!==u(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,t)});function g(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,g),v.apply(this,arguments)}return e=g,n=[{key:"getPluginModuleInstance",value:function(){return i.default.Get()}},{key:"name",get:function(){return f(p(g.prototype),"name",this)||"es.upv.paella.prevSlideNavigatorButton"}},{key:"getAriaLabel",value:function(){return this.getDescription()}},{key:"getDescription",value:function(){return this.player.translate("Seek video to the previous slide")}},{key:"isEnabled",value:(c=l(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f(p(g.prototype),"isEnabled",this).call(this);case 2:return e=t.sent,t.abrupt("return",e&&(0,o.$D)(this.player));case 4:case"end":return t.stop()}}),t,this)}))),function(){return c.apply(this,arguments)})},{key:"load",value:(a=l(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.icon=this.player.getCustomPluginIcon(this.name,"arrowLeftIcon")||s();case 1:case"end":return t.stop()}}),t,this)}))),function(){return a.apply(this,arguments)})},{key:"action",value:(r=l(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,o.V4)(this.player);case 2:case"end":return t.stop()}}),t,this)}))),function(){return r.apply(this,arguments)})}],n&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(e.prototype,n),g}(r.CanvasButtonPlugin)},244:(t,e,n)=>{n.r(e),n.d(e,{default:()=>f});var r=n(995),o=n(769);function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function a(t,e,n,r,o,i,a){try{var s=t[i](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,o)}function s(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function s(t){a(i,r,o,s,u,"next",t)}function u(t){a(i,r,o,s,u,"throw",t)}s(void 0)}))}}function u(t,e,n){return u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=l(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}},u(t,e,n||t)}function c(t,e){return c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},c(t,e)}function l(t){return l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},l(t)}var f=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(d,t);var e,n,r,a,f,h,p=(f=d,h=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=l(f);if(h){var n=l(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,t)});function d(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,d),p.apply(this,arguments)}return e=d,n=[{key:"getPluginModuleInstance",value:function(){return o.default.Get()}},{key:"name",get:function(){return u(l(d.prototype),"name",this)||"es.upv.paella.slideMapProgressBarPlugin"}},{key:"isEnabled",value:(a=s(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u(l(d.prototype),"isEnabled",this).call(this);case 2:return n=t.sent,t.abrupt("return",n&&(null===(e=this.player.frameList)||void 0===e?void 0:e.frames.length)>0);case 4:case"end":return t.stop()}}),t,this)}))),function(){return a.apply(this,arguments)})},{key:"load",value:(r=s(regeneratorRuntime.mark((function t(){var e,n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this._drawBackground=this.config.drawBackground||!1,this.strokeOut=(null===(e=this.config.markColor)||void 0===e?void 0:e.mouseOut)||"#0A0A0A",this.strokeHover=(null===(n=this.config.markColor)||void 0===n?void 0:n.mouseHover)||"#A9A9A9",this.strokeWidth=this.config.markWidth||3,t.next=6,this.player.videoContainer.duration();case 6:r=t.sent,this._frames=this.player.frameList.frames.map((function(t){return t.time/r}));case 8:case"end":return t.stop()}}),t,this)}))),function(){return r.apply(this,arguments)})},{key:"drawForeground",value:function(t,e,n,r){this._drawBackground||(t.strokeStyle=r?this.strokeHover:this.strokeOut,t.lineWidth=this.strokeWidth,this._frames.forEach((function(r){var o=r*e;t.beginPath(),t.moveTo(o,0),t.lineTo(o,n),t.stroke()})))}},{key:"drawBackground",value:function(t,e,n,r){this._drawBackground&&(t.strokeStyle=r?this.strokeHover:this.strokeOut,t.lineWidth=this.strokeWidth,this._frames.forEach((function(r){var o=r*e;t.beginPath(),t.moveTo(o,0),t.lineTo(o,n),t.stroke()})))}}],n&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(e.prototype,n),d}(r.ProgressIndicatorPlugin)},35:(t,e,n)=>{n.d(e,{Z:()=>s});var r=n(15),o=n.n(r),i=n(645),a=n.n(i)()(o());a.push([t.id,"\n.arrow-slides-navigator {\n    pointer-events: all;\n    display: flex;\n    justify-content: space-between;\n    height: 100%;\n}\n\n.arrow-slides-navigator button.button-prev:hover {\n    background: linear-gradient(-90deg, rgba(-1,0,0,0) 0%, rgba(0,0,0,0.1) 100%)\n}\n\n.arrow-slides-navigator button.button-next:hover {\n    background: linear-gradient(90deg, rgba(-1,0,0,0) 0%, rgba(0,0,0,0.1) 100%)\n}\n\n.arrow-slides-navigator button {\n    background: none;\n    border: none;\n    outline: none;\n}\n\n.arrow-slides-navigator button i {\n    width: 20px;\n    height: 20px;\n    display: block;\n}\n\n.arrow-slides-navigator button i svg {\n    fill: black;\n    stroke: white;\n    stroke-width: 4px;\n}","",{version:3,sources:["webpack://./src/styles/arrowSlidesNavigator.css"],names:[],mappings:";AACA;IACI,mBAAmB;IACnB,aAAa;IACb,8BAA8B;IAC9B,YAAY;AAChB;;AAEA;IACI;AACJ;;AAEA;IACI;AACJ;;AAEA;IACI,gBAAgB;IAChB,YAAY;IACZ,aAAa;AACjB;;AAEA;IACI,WAAW;IACX,YAAY;IACZ,cAAc;AAClB;;AAEA;IACI,WAAW;IACX,aAAa;IACb,iBAAiB;AACrB",sourcesContent:["\n.arrow-slides-navigator {\n    pointer-events: all;\n    display: flex;\n    justify-content: space-between;\n    height: 100%;\n}\n\n.arrow-slides-navigator button.button-prev:hover {\n    background: linear-gradient(-90deg, rgba(-1,0,0,0) 0%, rgba(0,0,0,0.1) 100%)\n}\n\n.arrow-slides-navigator button.button-next:hover {\n    background: linear-gradient(90deg, rgba(-1,0,0,0) 0%, rgba(0,0,0,0.1) 100%)\n}\n\n.arrow-slides-navigator button {\n    background: none;\n    border: none;\n    outline: none;\n}\n\n.arrow-slides-navigator button i {\n    width: 20px;\n    height: 20px;\n    display: block;\n}\n\n.arrow-slides-navigator button i svg {\n    fill: black;\n    stroke: white;\n    stroke-width: 4px;\n}"],sourceRoot:""}]);const s=a},895:(t,e,n)=>{n.d(e,{Z:()=>s});var r=n(15),o=n.n(r),i=n(645),a=n.n(i)()(o());a.push([t.id,"\n.frame-control-plugin-container {\n    position: relative;\n    height: 100px;\n}\n\n.frame-control-plugin-container .btn-left {\n    position: absolute;\n    left: 0px;\n    top: -10px;\n    bottom: -10px;\n    background: linear-gradient(\n        90deg\n        , rgba(65,65,65,1) 0%, rgba(0,0,0,0) 100%);\n    border-radius: 6px;\n}\n\n.frame-control-plugin-container .image-list {\n    display: flex;\n    flex-wrap: nowrap;\n    overflow-y: hidden;\n    overflow-x: hidden;\n    padding-left: 30px;\n    position: absolute;\n    left: 0px;\n    right: 0px;\n    top: 0px;\n    bottom: 0px;\n}\n\n.frame-control-plugin-container .btn-right {\n    position: absolute;\n    right: 0px;\n    top: -11px;\n    bottom: -10px;\n    background: linear-gradient(\n        270deg\n        , rgba(65,65,65,1) 0%, rgba(0,0,0,0) 100%);\n    border-radius: 6px;\n}\n\n.frame-control-plugin-container .image-list a {\n    margin: 3px;\n    min-width: 160px;\n}\n\n.frame-control-plugin-container .image-list a:last-child {\n    border-right: 110px solid transparent;\n}\n\n.frame-control-plugin-container .image-list img {\n    pointer-events: none;\n    height: 100%;\n}\n\n.frame-control-plugin-container .image-list a {\n    opacity: 0.5;\n    overflow: hidden;\n}\n\n.frame-control-plugin-container .image-list a:hover {\n    opacity: 1;\n    cursor: pointer;\n}\n\n.frame-control-plugin-container button {\n    background-color: transparent;\n    border: 0px;\n}\n\n.frame-control-plugin-container .button-icon {\n    display: block;\n    width: 15px;\n}\n\n.frame-control-plugin-container .button-icon svg {\n    fill: white;\n}\n\n.frame-control-plugin-container .image-list a.selected {\n    border: 2px solid red;\n    opacity: 0.8;\n}\n\n.frame-control-plugin-container .image-list a.selected:hover {\n    border: 2px solid red;\n    opacity: 1;\n}","",{version:3,sources:["webpack://./src/styles/frameControlButton.css"],names:[],mappings:";AACA;IACI,kBAAkB;IAClB,aAAa;AACjB;;AAEA;IACI,kBAAkB;IAClB,SAAS;IACT,UAAU;IACV,aAAa;IACb;;kDAE8C;IAC9C,kBAAkB;AACtB;;AAEA;IACI,aAAa;IACb,iBAAiB;IACjB,kBAAkB;IAClB,kBAAkB;IAClB,kBAAkB;IAClB,kBAAkB;IAClB,SAAS;IACT,UAAU;IACV,QAAQ;IACR,WAAW;AACf;;AAEA;IACI,kBAAkB;IAClB,UAAU;IACV,UAAU;IACV,aAAa;IACb;;kDAE8C;IAC9C,kBAAkB;AACtB;;AAEA;IACI,WAAW;IACX,gBAAgB;AACpB;;AAEA;IACI,qCAAqC;AACzC;;AAEA;IACI,oBAAoB;IACpB,YAAY;AAChB;;AAEA;IACI,YAAY;IACZ,gBAAgB;AACpB;;AAEA;IACI,UAAU;IACV,eAAe;AACnB;;AAEA;IACI,6BAA6B;IAC7B,WAAW;AACf;;AAEA;IACI,cAAc;IACd,WAAW;AACf;;AAEA;IACI,WAAW;AACf;;AAEA;IACI,qBAAqB;IACrB,YAAY;AAChB;;AAEA;IACI,qBAAqB;IACrB,UAAU;AACd",sourcesContent:["\n.frame-control-plugin-container {\n    position: relative;\n    height: 100px;\n}\n\n.frame-control-plugin-container .btn-left {\n    position: absolute;\n    left: 0px;\n    top: -10px;\n    bottom: -10px;\n    background: linear-gradient(\n        90deg\n        , rgba(65,65,65,1) 0%, rgba(0,0,0,0) 100%);\n    border-radius: 6px;\n}\n\n.frame-control-plugin-container .image-list {\n    display: flex;\n    flex-wrap: nowrap;\n    overflow-y: hidden;\n    overflow-x: hidden;\n    padding-left: 30px;\n    position: absolute;\n    left: 0px;\n    right: 0px;\n    top: 0px;\n    bottom: 0px;\n}\n\n.frame-control-plugin-container .btn-right {\n    position: absolute;\n    right: 0px;\n    top: -11px;\n    bottom: -10px;\n    background: linear-gradient(\n        270deg\n        , rgba(65,65,65,1) 0%, rgba(0,0,0,0) 100%);\n    border-radius: 6px;\n}\n\n.frame-control-plugin-container .image-list a {\n    margin: 3px;\n    min-width: 160px;\n}\n\n.frame-control-plugin-container .image-list a:last-child {\n    border-right: 110px solid transparent;\n}\n\n.frame-control-plugin-container .image-list img {\n    pointer-events: none;\n    height: 100%;\n}\n\n.frame-control-plugin-container .image-list a {\n    opacity: 0.5;\n    overflow: hidden;\n}\n\n.frame-control-plugin-container .image-list a:hover {\n    opacity: 1;\n    cursor: pointer;\n}\n\n.frame-control-plugin-container button {\n    background-color: transparent;\n    border: 0px;\n}\n\n.frame-control-plugin-container .button-icon {\n    display: block;\n    width: 15px;\n}\n\n.frame-control-plugin-container .button-icon svg {\n    fill: white;\n}\n\n.frame-control-plugin-container .image-list a.selected {\n    border: 2px solid red;\n    opacity: 0.8;\n}\n\n.frame-control-plugin-container .image-list a.selected:hover {\n    border: 2px solid red;\n    opacity: 1;\n}"],sourceRoot:""}]);const s=a},645:t=>{t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=t(e);return e[2]?"@media ".concat(e[2]," {").concat(n,"}"):n})).join("")},e.i=function(t,n,r){"string"==typeof t&&(t=[[null,t,""]]);var o={};if(r)for(var i=0;i<this.length;i++){var a=this[i][0];null!=a&&(o[a]=!0)}for(var s=0;s<t.length;s++){var u=[].concat(t[s]);r&&o[u[0]]||(n&&(u[2]?u[2]="".concat(n," and ").concat(u[2]):u[2]=n),e.push(u))}},e}},15:t=>{function e(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}t.exports=function(t){var n,r=function(t){if(Array.isArray(t))return t}(n=t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),4!==n.length);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}}(n)||function(t,n){if(t){if("string"==typeof t)return e(t,4);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?e(t,4):void 0}}(n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),o=r[1],i=r[3];if("function"==typeof btoa){var a=btoa(unescape(encodeURIComponent(JSON.stringify(i)))),s="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(a),u="/*# ".concat(s," */"),c=i.sources.map((function(t){return"/*# sourceURL=".concat(i.sourceRoot||"").concat(t," */")}));return[o].concat(c).concat([u]).join("\n")}return[o].join("\n")}},379:(t,e,n)=>{var r,o=function(){var t={};return function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}t[e]=n}return t[e]}}(),i=[];function a(t){for(var e=-1,n=0;n<i.length;n++)if(i[n].identifier===t){e=n;break}return e}function s(t,e){for(var n={},r=[],o=0;o<t.length;o++){var s=t[o],u=e.base?s[0]+e.base:s[0],c=n[u]||0,l="".concat(u," ").concat(c);n[u]=c+1;var f=a(l),h={css:s[1],media:s[2],sourceMap:s[3]};-1!==f?(i[f].references++,i[f].updater(h)):i.push({identifier:l,updater:y(h,e),references:1}),r.push(l)}return r}function u(t){var e=document.createElement("style"),r=t.attributes||{};if(void 0===r.nonce){var i=n.nc;i&&(r.nonce=i)}if(Object.keys(r).forEach((function(t){e.setAttribute(t,r[t])})),"function"==typeof t.insert)t.insert(e);else{var a=o(t.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(e)}return e}var c,l=(c=[],function(t,e){return c[t]=e,c.filter(Boolean).join("\n")});function f(t,e,n,r){var o=n?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(t.styleSheet)t.styleSheet.cssText=l(e,o);else{var i=document.createTextNode(o),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(i,a[e]):t.appendChild(i)}}function h(t,e,n){var r=n.css,o=n.media,i=n.sourceMap;if(o?t.setAttribute("media",o):t.removeAttribute("media"),i&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),t.styleSheet)t.styleSheet.cssText=r;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(r))}}var p=null,d=0;function y(t,e){var n,r,o;if(e.singleton){var i=d++;n=p||(p=u(e)),r=f.bind(null,n,i,!1),o=f.bind(null,n,i,!0)}else n=u(e),r=h.bind(null,n,e),o=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(n)};return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else o()}}t.exports=function(t,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=(void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r));var n=s(t=t||[],e);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var r=0;r<n.length;r++){var o=a(n[r]);i[o].references--}for(var u=s(t,e),c=0;c<n.length;c++){var l=a(n[c]);0===i[l].references&&(i[l].updater(),i.splice(l,1))}n=u}}}},259:t=>{t.exports='<svg viewBox="0 0 512 512" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;"><g transform="matrix(4.38063e-16,11.4236,8.46191,-3.24491e-16,68.8773,-7740.5)"><g id="arrow-right" serif:id="arrow right"><path d="M698.36,2.82C698.726,2.08 699.341,1.636 700,1.636C700.659,1.636 701.274,2.08 701.64,2.82C705.27,10.172 713.981,27.811 717.958,35.864C718.361,36.68 718.398,37.73 718.055,38.595C717.712,39.46 717.045,40 716.318,40L683.682,40C682.955,40 682.288,39.46 681.945,38.595C681.602,37.73 681.639,36.68 682.042,35.864C686.019,27.811 694.73,10.172 698.36,2.82Z"></path></g></g></svg>'},722:t=>{t.exports='<svg viewBox="0 0 512 512" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;"><g transform="matrix(-1.83705e-15,-11.4236,-8.46191,1.36078e-15,452.158,8252.5)"><g id="arrow-right" serif:id="arrow right"><path d="M698.36,2.82C698.726,2.08 699.341,1.636 700,1.636C700.659,1.636 701.274,2.08 701.64,2.82C705.27,10.172 713.981,27.811 717.958,35.864C718.361,36.68 718.398,37.73 718.055,38.595C717.712,39.46 717.045,40 716.318,40L683.682,40C682.955,40 682.288,39.46 681.945,38.595C681.602,37.73 681.639,36.68 682.042,35.864C686.019,27.811 694.73,10.172 698.36,2.82Z"></path></g></g></svg>'},741:t=>{t.exports='<svg viewBox="0 0 33 30" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421;"><path d="M23,29.888L0,29.888L0,7.888L23,7.888L23,29.888ZM11,6.888L8.903,6.888L10.5,0L33,5.817L27,27.888L24,27.388L23.994,20.288L27,20.888L30.519,7.199L11.933,2.394L11,6.888ZM21,9.888L1.969,9.888L1.969,23.888L21,23.888L21,9.888ZM7.912,19.349L10.236,15.813L12.561,18.017L15.757,13.49L19,21.888L3.939,21.888L6.169,17.726L7.912,19.349ZM6.473,15.608C5.647,15.608 4.977,14.966 4.977,14.173C4.977,13.381 5.647,12.739 6.473,12.739C7.299,12.739 7.969,13.381 7.969,14.173C7.969,14.966 7.299,15.608 6.473,15.608Z"></path></svg>'},456:(t,e,n)=>{var r={"./en-US.json":263,"./es-ES.json":992};function o(t){var e=i(t);return n(e)}function i(t){if(!n.o(r,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return r[t]}o.keys=function(){return Object.keys(r)},o.resolve=i,t.exports=o,o.id=456},757:(t,e,n)=>{var r={"./SlidePluginsModule.js":769,"./es.upv.paella.arrowSlidesNavigator.js":516,"./es.upv.paella.frameControlButtonPlugin.js":588,"./es.upv.paella.nextSlideNavigatorButton.js":797,"./es.upv.paella.prevSlideNavigatorButton.js":835,"./es.upv.paella.slideMapProgressBarPlugin.js":244};function o(t){var e=i(t);return n(e)}function i(t){if(!n.o(r,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return r[t]}o.keys=function(){return Object.keys(r)},o.resolve=i,t.exports=o,o.id=757},995:e=>{e.exports=t},263:t=>{t.exports=JSON.parse('{"Show slides":"Show slides","go to":"go to","Seek video to the next slide":"Go to the next slide","Seek video to the previous slide":"Go to the previous slide"}')},992:t=>{t.exports=JSON.parse('{"Show slides":"Mostrar diapositivas del vídeo","go to":"ir a","Seek video to the next slide":"Ir a la siguiente diapositiva","Seek video to the previous slide":"Ir a la diapositiva anterior"}')}},n={};function r(t){var o=n[t];if(void 0!==o)return o.exports;var i=n[t]={id:t,exports:{}};return e[t](i,i.exports,r),i.exports}r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.nc=void 0;var o={};return(()=>{r.r(o),r.d(o,{ArrowSlidesPlugin:()=>l,FrameControlButtonPlugin:()=>f,NextSlideNavigatorButtonPlugin:()=>p,PrevSlideNavigatorButtonPlugin:()=>d,SlideMapProgressBarPlugin:()=>h,default:()=>u,slidePlugins:()=>c,utils:()=>y});var t=r(516),e=r(588),n=r(244),i=r(797),a=r(835),s=r(650);function u(){return r(757)}var c=[{plugin:t.default,config:{enabled:!1}},{plugin:e.default,config:{enabled:!1}},{plugin:n.default,config:{enabled:!1}},{plugin:i.default,config:{enabled:!1}},{plugin:a.default,config:{enabled:!1}}],l=t.default,f=e.default,h=n.default,p=i.default,d=a.default,y={nextSlide:s.oy,previousSlide:s.V4,checkSlides:s.$D,getFrames:s.Xs}})(),o})(),t.exports=n($)})),Y=G(H),K=V((function(t,e){var n;self,n=t=>(()=>{var e={194:(t,e,n)=>{n.r(e),n.d(e,{default:()=>v});var r=n(995);const o=JSON.parse('{"u2":"paella-zoom-plugin","i8":"1.41.1"}');var i={},a=n(456);a.keys().forEach((function(t){var e=/([a-z-]+[A-Z_]+)\.json/.exec(t),n=e&&e[1];if(n){var r=a(t);i[n]=r;var o=n.substring(0,2);o in i||(i[o]=r)}}));const s=i;function u(t){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u(t)}function c(t,e,n,r,o,i,a){try{var s=t[i](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,o)}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function h(t,e){return h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},h(t,e)}function p(t,e){return!e||"object"!==u(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function d(t){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},d(t)}var y=null,v=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}(m,t);var e,n,r,i,a,u,v,g=(u=m,v=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=d(u);if(v){var n=d(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return p(this,t)});function m(){return l(this,m),g.apply(this,arguments)}return e=m,n=[{key:"moduleName",get:function(){return o.u2}},{key:"moduleVersion",get:function(){return o.i8}},{key:"getDictionaries",value:(i=regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",s);case 1:case"end":return t.stop()}}),t)})),a=function(){var t=this,e=arguments;return new Promise((function(n,r){var o=i.apply(t,e);function a(t){c(o,n,r,a,s,"next",t)}function s(t){c(o,n,r,a,s,"throw",t)}a(void 0)}))},function(){return a.apply(this,arguments)})}],r=[{key:"Get",value:function(){return y||(y=new m),y}}],n&&f(e.prototype,n),r&&f(e,r),m}(r.PluginModule)},45:(t,e,n)=>{n.r(e),n.d(e,{default:()=>v});var r=n(995),o=n(629),i=n(194),a=n(288),s=n.n(a);function u(t){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u(t)}function c(t,e,n,r,o,i,a){try{var s=t[i](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,o)}function l(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){c(i,r,o,a,s,"next",t)}function s(t){c(i,r,o,a,s,"throw",t)}a(void 0)}))}}function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h(t,e,n){return h="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=y(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}},h(t,e,n||t)}function p(t,e){return p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},p(t,e)}function d(t,e){return!e||"object"!==u(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function y(t){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},y(t)}var v=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&p(t,e)}(m,t);var e,n,r,a,u,c,v,g=(c=m,v=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=y(c);if(v){var n=y(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return d(this,t)});function m(){return f(this,m),g.apply(this,arguments)}return e=m,n=[{key:"getPluginModuleInstance",value:function(){return i.default.Get()}},{key:"name",get:function(){return h(y(m.prototype),"name",this)||"es.upv.paella.canvasZoomInButtonPlugin"}},{key:"isEnabled",value:(u=l(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h(y(m.prototype),"isEnabled",this).call(this);case 2:if(t.sent){t.next=4;break}return t.abrupt("return",!1);case 4:for(n in e=!1,this._streams=this.player.videoContainer.streamProvider.streams,this._streams)e||(e=this._streams[n].canvas instanceof o.ZoomCanvas);return t.abrupt("return",e);case 8:case"end":return t.stop()}}),t,this)}))),function(){return u.apply(this,arguments)})},{key:"load",value:(a=l(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.icon=this.player.getCustomPluginIcon(this.name,"zoomInIcon")||s();case 1:case"end":return t.stop()}}),t,this)}))),function(){return a.apply(this,arguments)})},{key:"action",value:(r=l(regeneratorRuntime.mark((function t(e,n,r,i){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r instanceof o.ZoomCanvas&&r.zoomIn();case 1:case"end":return t.stop()}}),t)}))),function(t,e,n,o){return r.apply(this,arguments)})}],n&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(e.prototype,n),m}(r.CanvasButtonPlugin)},147:(t,e,n)=>{n.r(e),n.d(e,{default:()=>v});var r=n(995),o=n(629),i=n(194),a=n(716),s=n.n(a);function u(t){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u(t)}function c(t,e,n,r,o,i,a){try{var s=t[i](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,o)}function l(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){c(i,r,o,a,s,"next",t)}function s(t){c(i,r,o,a,s,"throw",t)}a(void 0)}))}}function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h(t,e,n){return h="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=y(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}},h(t,e,n||t)}function p(t,e){return p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},p(t,e)}function d(t,e){return!e||"object"!==u(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function y(t){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},y(t)}var v=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&p(t,e)}(m,t);var e,n,r,a,u,c,v,g=(c=m,v=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=y(c);if(v){var n=y(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return d(this,t)});function m(){return f(this,m),g.apply(this,arguments)}return e=m,n=[{key:"getPluginModuleInstance",value:function(){return i.default.Get()}},{key:"name",get:function(){return h(y(m.prototype),"name",this)||"es.upv.paella.canvasZoomOutButtonPlugin"}},{key:"isEnabled",value:(u=l(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h(y(m.prototype),"isEnabled",this).call(this);case 2:if(t.sent){t.next=4;break}return t.abrupt("return",!1);case 4:for(n in e=!1,this._streams=this.player.videoContainer.streamProvider.streams,this._streams)e||(e=this._streams[n].canvas instanceof o.ZoomCanvas);return t.abrupt("return",e);case 8:case"end":return t.stop()}}),t,this)}))),function(){return u.apply(this,arguments)})},{key:"load",value:(a=l(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.icon=this.player.getCustomPluginIcon(this.name,"zoomOutIcon")||s();case 1:case"end":return t.stop()}}),t,this)}))),function(){return a.apply(this,arguments)})},{key:"action",value:(r=l(regeneratorRuntime.mark((function t(e,n,r,i){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r instanceof o.ZoomCanvas&&r.zoomOut();case 1:case"end":return t.stop()}}),t)}))),function(t,e,n,o){return r.apply(this,arguments)})}],n&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(e.prototype,n),m}(r.CanvasButtonPlugin)},392:(t,e,n)=>{n.r(e),n.d(e,{default:()=>v});var r=n(995),o=n(629),i=n(194),a=n(288),s=n.n(a);function u(t){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u(t)}function c(t,e,n,r,o,i,a){try{var s=t[i](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,o)}function l(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){c(i,r,o,a,s,"next",t)}function s(t){c(i,r,o,a,s,"throw",t)}a(void 0)}))}}function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h(t,e,n){return h="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=y(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}},h(t,e,n||t)}function p(t,e){return p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},p(t,e)}function d(t,e){return!e||"object"!==u(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function y(t){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},y(t)}var v=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&p(t,e)}(m,t);var e,n,r,a,u,c,v,g=(c=m,v=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=y(c);if(v){var n=y(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return d(this,t)});function m(){return f(this,m),g.apply(this,arguments)}return e=m,n=[{key:"getPluginModuleInstance",value:function(){return i.default.Get()}},{key:"name",get:function(){return h(y(m.prototype),"name",this)||"es.upv.paella.zoomInButtonPlugin"}},{key:"getAriaLabel",value:function(){return"Zoom in"}},{key:"getDescription",value:function(){return this.getAriaLabel()}},{key:"isEnabled",value:(u=l(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h(y(m.prototype),"isEnabled",this).call(this);case 2:if(t.sent){t.next=4;break}return t.abrupt("return",!1);case 4:return this.target=this.config.target,this._canvas=this.player.videoContainer.streamProvider.streams[this.target].canvas,t.abrupt("return",this._canvas instanceof o.ZoomCanvas);case 7:case"end":return t.stop()}}),t,this)}))),function(){return u.apply(this,arguments)})},{key:"load",value:(a=l(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.icon=this.player.getCustomPluginIcon(this.name,"zoomInIcon")||s();case 1:case"end":return t.stop()}}),t,this)}))),function(){return a.apply(this,arguments)})},{key:"action",value:(r=l(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this._canvas.zoomIn();case 1:case"end":return t.stop()}}),t,this)}))),function(){return r.apply(this,arguments)})}],n&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(e.prototype,n),m}(r.ButtonPlugin)},410:(t,e,n)=>{n.r(e),n.d(e,{default:()=>m});var r=n(995),o=n(629),i=n(194),a=n(288),s=n.n(a),u=n(716),c=n.n(u);function l(t){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l(t)}function f(t,e,n,r,o,i,a){try{var s=t[i](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,o)}function h(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){f(i,r,o,a,s,"next",t)}function s(t){f(i,r,o,a,s,"throw",t)}a(void 0)}))}}function p(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d(t,e,n){return d="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=g(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}},d(t,e,n||t)}function y(t,e){return y=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},y(t,e)}function v(t,e){return!e||"object"!==l(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function g(t){return g=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},g(t)}var m=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&y(t,e)}(b,t);var e,n,r,a,u,l,f,m=(l=b,f=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=g(l);if(f){var n=g(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return v(this,t)});function b(){return p(this,b),m.apply(this,arguments)}return e=b,n=[{key:"getPluginModuleInstance",value:function(){return i.default.Get()}},{key:"name",get:function(){return d(g(b.prototype),"name",this)||"es.upv.paella.zoomMenuButtonPlugin"}},{key:"getAriaLabel",value:function(){return"Show video zoom options"}},{key:"getDescription",value:function(){return this.getAriaLabel()}},{key:"isEnabled",value:(u=h(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d(g(b.prototype),"isEnabled",this).call(this);case 2:if(t.sent){t.next=4;break}return t.abrupt("return",!1);case 4:return this._target=this.config.target||"presenter",this._canvas=this.player.videoContainer.streamProvider.streams[this._target].canvas,t.abrupt("return",this._canvas instanceof o.ZoomCanvas);case 7:case"end":return t.stop()}}),t,this)}))),function(){return u.apply(this,arguments)})},{key:"load",value:(a=h(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.icon=this.player.getCustomPluginIcon(this.name,"zoomInIcon")||s();case 1:case"end":return t.stop()}}),t,this)}))),function(){return a.apply(this,arguments)})},{key:"getMenu",value:(r=h(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",[{id:"in",title:"Zoom in",icon:this.player.getCustomPluginIcon(this.name,"zoomInIcon")||s()},{id:"out",title:"Zoom out",icon:this.player.getCustomPluginIcon(this.name,"zoomOutIcon")||c()}]);case 1:case"end":return t.stop()}}),t,this)}))),function(){return r.apply(this,arguments)})},{key:"buttonType",get:function(){return"button"}},{key:"showTitles",get:function(){return!1}},{key:"itemSelected",value:function(t){switch(t.id){case"in":this._canvas.zoomIn();break;case"out":this._canvas.zoomOut()}}}],n&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(e.prototype,n),b}(r.MenuButtonPlugin)},426:(t,e,n)=>{n.r(e),n.d(e,{default:()=>v});var r=n(995),o=n(629),i=n(194),a=n(716),s=n.n(a);function u(t){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u(t)}function c(t,e,n,r,o,i,a){try{var s=t[i](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,o)}function l(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){c(i,r,o,a,s,"next",t)}function s(t){c(i,r,o,a,s,"throw",t)}a(void 0)}))}}function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h(t,e,n){return h="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=y(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}},h(t,e,n||t)}function p(t,e){return p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},p(t,e)}function d(t,e){return!e||"object"!==u(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function y(t){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},y(t)}var v=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&p(t,e)}(m,t);var e,n,r,a,u,c,v,g=(c=m,v=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=y(c);if(v){var n=y(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return d(this,t)});function m(){return f(this,m),g.apply(this,arguments)}return e=m,n=[{key:"getPluginModuleInstance",value:function(){return i.default.Get()}},{key:"name",get:function(){return h(y(m.prototype),"name",this)||"es.upv.paella.zoomOutButtonPlugin"}},{key:"getAriaLabel",value:function(){return"Zoom out"}},{key:"getDescription",value:function(){return this.getAriaLabel()}},{key:"isEnabled",value:(u=l(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h(y(m.prototype),"isEnabled",this).call(this);case 2:if(t.sent){t.next=4;break}return t.abrupt("return",!1);case 4:return this.target=this.config.target,this._canvas=this.player.videoContainer.streamProvider.streams[this.target].canvas,t.abrupt("return",this._canvas instanceof o.ZoomCanvas);case 7:case"end":return t.stop()}}),t,this)}))),function(){return u.apply(this,arguments)})},{key:"load",value:(a=l(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.icon=this.player.getCustomPluginIcon(this.name,"zoomOutIcon")||s();case 1:case"end":return t.stop()}}),t,this)}))),function(){return a.apply(this,arguments)})},{key:"action",value:(r=l(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this._canvas.zoomOut();case 1:case"end":return t.stop()}}),t,this)}))),function(){return r.apply(this,arguments)})}],n&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(e.prototype,n),m}(r.ButtonPlugin)},629:(t,e,n)=>{n.r(e),n.d(e,{ZoomCanvas:()=>A,default:()=>x});var r=n(995),o=n(194),i=n(379),a=n.n(i),s=n(547);function u(t){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u(t)}function c(t,e,n){return c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=m(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}},c(t,e,n||t)}function l(t,e,n,r,o,i,a){try{var s=t[i](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,o)}function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function p(t,e,n){return e&&h(t.prototype,e),n&&h(t,n),t}function d(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&y(t,e)}function y(t,e){return y=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},y(t,e)}function v(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m(t);if(e){var o=m(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return g(this,n)}}function g(t,e){return!e||"object"!==u(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function m(t){return m=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},m(t)}function b(t,e,n){var r={left:t.offsetWidth/2,top:t.offsetHeight/2};e.style.width="".concat(100*n,"%"),e.style.height="".concat(100*n,"%"),e.offsetLeft,e.offsetTop;var o=e.offsetWidth,i=e.offsetHeight,a={left:o/2-r.left,top:i/2-r.top};return 1==n?(e.style.left="0px",e.style.top="0px",a.left=r.left,a.top=r.top):(e.style.left="-".concat(a.left,"px"),e.style.top="-".concat(a.top,"px")),a}function w(t,e,n){var r={left:e.left+n.left,top:e.top+n.top},o=t.parentElement;return t.style.top="-".concat(r.top,"px"),t.offsetHeight+t.offsetTop-o.offsetHeight<0&&(r.top=e.top),t.style.left="-".concat(r.left,"px"),t.offsetWidth+t.offsetLeft-o.offsetWidth<0&&(r.left=e.left),r}a()(s.Z,{insert:"head",singleton:!1}),s.Z.locals;var A=function(t){d(i,t);var e,n,o=v(i);function i(t,e,n){var r;return f(this,i),(r=o.call(this,"div",t,e)).config=n,r._maxZoom=r.config.maxZoom||4,r._showButtons=void 0===r.config.showButtons||r.config.showButtons,r}return p(i,[{key:"loadCanvas",value:(e=regeneratorRuntime.mark((function t(e){var n,o,i,a,s,u,c,l,f=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.currentZoom=1,this._videoPlayer=e,e.element.style.width="100%",e.element.style.height="100%",e.element.style.position="absolute",e.element.style.top="0",e.element.style.left="0",this.element.style.overflow="hidden",this.element.style.position="relative",n=function(t){if(t.stopPropagation(),t.altKey){f.hideAltKeyMessage();var e=void 0!==t.deltaY?.1*t.deltaY:4*t.detail,n=f.currentZoom+-.01*e;n>1&&n<=f._maxZoom?(f.currentZoom=n,f._playerCenter=b(f.element,f._videoPlayer.element,f.currentZoom)):n<=1&&(f.currentZoom=1,f._playerCenter=b(f.element,f._videoPlayer.element,f.currentZoom)),t.preventDefault()}else f.showAltKeyMessage()},this.element.addEventListener("DOMMouseScroll",n),this.element.addEventListener("mousewheel",n),o=!1,i=!1,a=null,s=function(){return o=!0},u=function(){return o=!1},c=function(t){i&&(t.stopPropagation(),t.preventDefault())},this.element.addEventListener("mousedown",s),this.element.addEventListener("mouseleave",u),this.element.addEventListener("mouseup",u),this.element.addEventListener("click",c),this.element.addEventListener("mouseup",c),this.element.addEventListener("mousemove",(function(t){if(o&&f._playerCenter){null===a&&(a={left:t.clientX,top:t.clientY}),i=!0;var e={left:a.left-t.clientX,top:a.top-t.clientY};1==f.currentZoom?f._playerCenter={left:0,top:0}:f._playerCenter=w(f._videoPlayer.element,f._playerCenter,e),a={left:t.clientX,top:t.clientY}}else i=!1,a=null})),l=this.player.translate("Use Alt+Scroll to zoom"),this._zoomMessage=(0,r.createElementWithHtmlText)('\n            <div class="zoom-message">'.concat(l,"</div>\n        "),this.element),this._zoomMessage.style.display="none";case 27:case"end":return t.stop()}}),t,this)})),n=function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(t){l(i,r,o,a,s,"next",t)}function s(t){l(i,r,o,a,s,"throw",t)}a(void 0)}))},function(t){return n.apply(this,arguments)})},{key:"showAltKeyMessage",value:function(){var t=this;this._hideTimeout&&clearTimeout(this._hideTimeout),this._zoomMessage.style.display="",this._hideTimeout=setTimeout((function(){t.hideAltKeyMessage()}),2e3)}},{key:"hideAltKeyMessage",value:function(){this._zoomMessage.style.display="none",this._hideTimeout=null}},{key:"zoomIn",value:function(){var t=1.1*this.currentZoom;t<this._maxZoom&&(this.currentZoom=t,this._playerCenter=b(this.element,this._videoPlayer.element,this.currentZoom))}},{key:"zoomOut",value:function(){var t=.9*this.currentZoom;t>=1&&(this.currentZoom=t,this._playerCenter=b(this.element,this._videoPlayer.element,this.currentZoom))}}]),i}(r.Canvas),x=function(t){d(n,t);var e=v(n);function n(){return f(this,n),e.apply(this,arguments)}return p(n,[{key:"getPluginModuleInstance",value:function(){return o.default.Get()}},{key:"name",get:function(){return c(m(n.prototype),"name",this)||"es.upv.paella.zoomPlugin"}},{key:"canvasType",get:function(){return"video"}},{key:"isCompatible",value:function(t){return!Array.isArray(t.canvas)||0===t.canvas.length||c(m(n.prototype),"isCompatible",this).call(this,t)}},{key:"getCanvasInstance",value:function(t){return new A(this.player,t,this.config)}}]),n}(r.CanvasPlugin)},547:(t,e,n)=>{n.d(e,{Z:()=>s});var r=n(15),o=n.n(r),i=n(645),a=n.n(i)()(o());a.push([t.id,".zoom-message {\n    position: absolute;\n    top: 0px;\n    left: 0px;\n    right: 0px;\n    bottom: 0px;\n    background-color: rgba(0, 0, 0, 0.5);\n    pointer-events: none;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    color: white;\n}\n\n.zoom-buttons {\n    position: absolute;\n    top: 2px;\n    left: 0px;\n    right: 0px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n}\n\n.zoom-buttons button {\n    margin: 2px;\n    opacity: 0.4;\n    padding: 0;\n    width: 20px;\n    height: 20px;\n    display: block;\n}\n\n.zoom-buttons button:hover {\n    opacity: 1;\n}","",{version:3,sources:["webpack://./src/styles/zoom.css"],names:[],mappings:"AAAA;IACI,kBAAkB;IAClB,QAAQ;IACR,SAAS;IACT,UAAU;IACV,WAAW;IACX,oCAAoC;IACpC,oBAAoB;IACpB,aAAa;IACb,uBAAuB;IACvB,mBAAmB;IACnB,YAAY;AAChB;;AAEA;IACI,kBAAkB;IAClB,QAAQ;IACR,SAAS;IACT,UAAU;IACV,aAAa;IACb,mBAAmB;IACnB,uBAAuB;AAC3B;;AAEA;IACI,WAAW;IACX,YAAY;IACZ,UAAU;IACV,WAAW;IACX,YAAY;IACZ,cAAc;AAClB;;AAEA;IACI,UAAU;AACd",sourcesContent:[".zoom-message {\n    position: absolute;\n    top: 0px;\n    left: 0px;\n    right: 0px;\n    bottom: 0px;\n    background-color: rgba(0, 0, 0, 0.5);\n    pointer-events: none;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    color: white;\n}\n\n.zoom-buttons {\n    position: absolute;\n    top: 2px;\n    left: 0px;\n    right: 0px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n}\n\n.zoom-buttons button {\n    margin: 2px;\n    opacity: 0.4;\n    padding: 0;\n    width: 20px;\n    height: 20px;\n    display: block;\n}\n\n.zoom-buttons button:hover {\n    opacity: 1;\n}"],sourceRoot:""}]);const s=a},645:t=>{t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=t(e);return e[2]?"@media ".concat(e[2]," {").concat(n,"}"):n})).join("")},e.i=function(t,n,r){"string"==typeof t&&(t=[[null,t,""]]);var o={};if(r)for(var i=0;i<this.length;i++){var a=this[i][0];null!=a&&(o[a]=!0)}for(var s=0;s<t.length;s++){var u=[].concat(t[s]);r&&o[u[0]]||(n&&(u[2]?u[2]="".concat(n," and ").concat(u[2]):u[2]=n),e.push(u))}},e}},15:t=>{function e(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}t.exports=function(t){var n,r=function(t){if(Array.isArray(t))return t}(n=t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),4!==n.length);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}}(n)||function(t,n){if(t){if("string"==typeof t)return e(t,4);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?e(t,4):void 0}}(n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),o=r[1],i=r[3];if("function"==typeof btoa){var a=btoa(unescape(encodeURIComponent(JSON.stringify(i)))),s="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(a),u="/*# ".concat(s," */"),c=i.sources.map((function(t){return"/*# sourceURL=".concat(i.sourceRoot||"").concat(t," */")}));return[o].concat(c).concat([u]).join("\n")}return[o].join("\n")}},379:(t,e,n)=>{var r,o=function(){var t={};return function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}t[e]=n}return t[e]}}(),i=[];function a(t){for(var e=-1,n=0;n<i.length;n++)if(i[n].identifier===t){e=n;break}return e}function s(t,e){for(var n={},r=[],o=0;o<t.length;o++){var s=t[o],u=e.base?s[0]+e.base:s[0],c=n[u]||0,l="".concat(u," ").concat(c);n[u]=c+1;var f=a(l),h={css:s[1],media:s[2],sourceMap:s[3]};-1!==f?(i[f].references++,i[f].updater(h)):i.push({identifier:l,updater:y(h,e),references:1}),r.push(l)}return r}function u(t){var e=document.createElement("style"),r=t.attributes||{};if(void 0===r.nonce){var i=n.nc;i&&(r.nonce=i)}if(Object.keys(r).forEach((function(t){e.setAttribute(t,r[t])})),"function"==typeof t.insert)t.insert(e);else{var a=o(t.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(e)}return e}var c,l=(c=[],function(t,e){return c[t]=e,c.filter(Boolean).join("\n")});function f(t,e,n,r){var o=n?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(t.styleSheet)t.styleSheet.cssText=l(e,o);else{var i=document.createTextNode(o),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(i,a[e]):t.appendChild(i)}}function h(t,e,n){var r=n.css,o=n.media,i=n.sourceMap;if(o?t.setAttribute("media",o):t.removeAttribute("media"),i&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),t.styleSheet)t.styleSheet.cssText=r;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(r))}}var p=null,d=0;function y(t,e){var n,r,o;if(e.singleton){var i=d++;n=p||(p=u(e)),r=f.bind(null,n,i,!1),o=f.bind(null,n,i,!0)}else n=u(e),r=h.bind(null,n,e),o=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(n)};return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else o()}}t.exports=function(t,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=(void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r));var n=s(t=t||[],e);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var r=0;r<n.length;r++){var o=a(n[r]);i[o].references--}for(var u=s(t,e),c=0;c<n.length;c++){var l=a(n[c]);0===i[l].references&&(i[l].updater(),i.splice(l,1))}n=u}}}},288:t=>{t.exports='<svg viewBox="0 0 32 32" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421;"><path d="M17.094,18.048C15.976,18.956 14.551,19.5 13,19.5C9.413,19.5 6.5,16.587 6.5,13C6.5,9.413 9.413,6.5 13,6.5C16.587,6.5 19.5,9.413 19.5,13C19.5,14.522 18.976,15.923 18.098,17.031L19.553,18.487C20.094,17.958 20.962,17.962 21.498,18.498L25.522,22.522C26.062,23.062 26.062,23.938 25.522,24.478L24.519,25.481C23.98,26.02 23.103,26.02 22.563,25.481L18.539,21.457C18,20.917 18,20.041 18.539,19.501L18.543,19.497L17.094,18.048ZM13,8C15.76,8 18,10.24 18,13C18,15.76 15.76,18 13,18C10.24,18 8,15.76 8,13C8,10.24 10.24,8 13,8ZM13.927,11.886L15.927,11.886L15.927,13.886L13.927,13.886L13.927,15.886L11.927,15.886L11.927,13.886L9.927,13.886L9.927,11.886L11.927,11.886L11.927,9.886L13.927,9.886L13.927,11.886Z"></path></svg>'},716:t=>{t.exports='<svg viewBox="0 0 32 32" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421;"><path d="M17.094,18.048C15.976,18.956 14.551,19.5 13,19.5C9.413,19.5 6.5,16.587 6.5,13C6.5,9.413 9.413,6.5 13,6.5C16.587,6.5 19.5,9.413 19.5,13C19.5,14.522 18.976,15.923 18.098,17.031L19.553,18.487C20.094,17.958 20.962,17.962 21.498,18.498L25.522,22.522C26.062,23.062 26.062,23.938 25.522,24.478L24.519,25.481C23.98,26.02 23.103,26.02 22.563,25.481L18.539,21.457C18,20.917 18,20.041 18.539,19.501L18.543,19.497L17.094,18.048ZM13,8C15.76,8 18,10.24 18,13C18,15.76 15.76,18 13,18C10.24,18 8,15.76 8,13C8,10.24 10.24,8 13,8ZM9.927,11.886L15.927,11.886L15.927,13.886L9.927,13.886L9.927,11.886Z"></path></svg>'},456:(t,e,n)=>{var r={"./en-US.json":263,"./es-ES.json":992};function o(t){var e=i(t);return n(e)}function i(t){if(!n.o(r,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return r[t]}o.keys=function(){return Object.keys(r)},o.resolve=i,t.exports=o,o.id=456},757:(t,e,n)=>{var r={"./ZoomPluginsModule.js":194,"./es.upv.paella.canvasZoomInButtonPlugin.js":45,"./es.upv.paella.canvasZoomOutButtonPlugin.js":147,"./es.upv.paella.zoomInButtonPlugin.js":392,"./es.upv.paella.zoomMenuButtonPlugin.js":410,"./es.upv.paella.zoomOutButtonPlugin.js":426,"./es.upv.paella.zoomPlugin.js":629};function o(t){var e=i(t);return n(e)}function i(t){if(!n.o(r,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return r[t]}o.keys=function(){return Object.keys(r)},o.resolve=i,t.exports=o,o.id=757},995:e=>{e.exports=t},263:t=>{t.exports=JSON.parse('{"Zoom in":"Zoom in","Zoom out":"Zoom out","Show video zoom options":"Show video zoom options","Use Alt+Scroll to zoom":"Use Alt+Scroll to zoom"}')},992:t=>{t.exports=JSON.parse('{"Zoom in":"Ampliar zoom del vídeo","Zoom out":"Reducir zoom de vídeo","Show video zoom options":"Mostrar opciones de zoom de vídeo","Use Alt+Scroll to zoom":"Usar Alt+Desplazamiento para hacer zoom"}')}},n={};function r(t){var o=n[t];if(void 0!==o)return o.exports;var i=n[t]={id:t,exports:{}};return e[t](i,i.exports,r),i.exports}r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.nc=void 0;var o={};return(()=>{r.r(o),r.d(o,{CanvasZoomInButtonPlugin:()=>d,CanvasZoomOutButtonPlugin:()=>y,ZoomCanvasPlugin:()=>l,ZoomInButtonPlugin:()=>f,ZoomMenuButtonPlugin:()=>p,ZoomOutButtonPlugin:()=>h,default:()=>u,zoomPlugins:()=>c});var t=r(629),e=r(392),n=r(426),i=r(410),a=r(45),s=r(147);function u(){return r(757)}var c=[{plugin:t.default,config:{enabled:!1}},{plugin:e.default,config:{enabled:!1}},{plugin:n.default,config:{enabled:!1}},{plugin:i.default,config:{enabled:!1}},{plugin:a.default,config:{enabled:!1}},{plugin:s.default,config:{enabled:!1}}],l=t.default,f=e.default,h=n.default,p=i.default,d=a.default,y=s.default})(),o})(),t.exports=n($)})),W=G(K),q=V((function(t,e){var n;self,n=t=>(()=>{var e={263:(t,e,n)=>{n.r(e),n.d(e,{default:()=>c});var r=n(995);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e){return a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},a(t,e)}function s(t){return s=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},s(t)}var u=null,c=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&a(t,e)}(h,t);var e,n,r,c,l,f=(c=h,l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=s(c);if(l){var n=s(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===o(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function h(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,h),f.apply(this,arguments)}return e=h,r=[{key:"Get",value:function(){return u||(u=new h),u}}],(n=[{key:"moduleName",get:function(){return"paella-user-tracking"}},{key:"moduleVersion",get:function(){return"1.42.0"}}])&&i(e.prototype,n),r&&i(e,r),Object.defineProperty(e,"prototype",{writable:!1}),h}(r.PluginModule)},561:(t,e,n)=>{n.r(e),n.d(e,{default:()=>h});var r=n(995),o=n(263);function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function a(){a=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},s=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function f(t,e,n,o){var i=e&&e.prototype instanceof d?e:d,a=Object.create(i.prototype),s=new _(o||[]);return r(a,"_invoke",{value:C(t,n,s)}),a}function h(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=f;var p={};function d(){}function y(){}function v(){}var g={};l(g,s,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(S([])));b&&b!==e&&n.call(b,s)&&(g=b);var w=v.prototype=d.prototype=Object.create(g);function A(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function x(t,e){function o(r,a,s,u){var c=h(t[r],t,a);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==i(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,s,u)}),(function(t){o("throw",t,s,u)})):e.resolve(f).then((function(t){l.value=t,s(l)}),(function(t){return o("throw",t,s,u)}))}u(c.arg)}var a;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){o(t,n,e,r)}))}return a=a?a.then(r,r):r()}})}function C(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=E(a,n);if(s){if(s===p)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=h(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===p)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function E(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return p;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var r=h(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,p;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,p):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function _(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function S(t){if(t){var e=t[s];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return y.prototype=v,r(w,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:y,configurable:!0}),y.displayName=l(v,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,l(t,c,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},A(x.prototype),l(x.prototype,u,(function(){return this})),t.AsyncIterator=x,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new x(f(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},A(w),l(w,c,"Generator"),l(w,s,(function(){return this})),l(w,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=S,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),L(n),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;L(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:S(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},t}function s(t,e,n,r,o,i,a){try{var s=t[i](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,o)}function u(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){s(i,r,o,a,u,"next",t)}function u(t){s(i,r,o,a,u,"throw",t)}a(void 0)}))}}function c(){return c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=f(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},c.apply(this,arguments)}function l(t,e){return l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},l(t,e)}function f(t){return f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},f(t)}var h=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&l(t,e)}(y,t);var e,n,r,s,h,p,d=(h=y,p=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=f(h);if(p){var n=f(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===i(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function y(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,y),d.apply(this,arguments)}return e=y,n=[{key:"getPluginModuleInstance",value:function(){return o.default.Get()}},{key:"name",get:function(){return c(f(y.prototype),"name",this)||"es.upv.paella.analytics.userTrackingDataPlugin"}},{key:"load",value:(s=u(a().mark((function t(){var e,n;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=this.config.trackingId,n=this.config.domain||"auto",e?(this.player.log.debug("Google Analytics Enabled"),function(t,e,n,r,o,i,a){t.GoogleAnalyticsObject=o,t[o]=t[o]||function(){(t[o].q=t[o].q||[]).push(arguments)},t[o].l=1*new Date,i=e.createElement(n),a=e.getElementsByTagName(n)[0],i.async=1,i.src="//www.google-analytics.com/analytics.js",a.parentNode.insertBefore(i,a)}(window,document,"script",0,"__gaTracker"),__gaTracker("create",e,n),__gaTracker("send","pageview")):this.player.log.debug("No Google Tracking ID found in config file. Disabling Google Analytics");case 3:case"end":return t.stop()}}),t,this)}))),function(){return s.apply(this,arguments)})},{key:"write",value:(r=u(a().mark((function t(e,n,r){var o,i,s,u,c;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=n.id,void 0===this.config.category||!0===this.config.category){i=this.config.category||"PaellaPlayer",s=r.event,u={videoId:o,plugin:r.plugin};try{JSON.stringify(r.params),u.params=r.params}catch(t){}c=JSON.stringify(u),__gaTracker(" send","event",i,s,c)}case 2:case"end":return t.stop()}}),t,this)}))),function(t,e,n){return r.apply(this,arguments)})}],n&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),y}(r.DataPlugin)},931:(t,e,n)=>{n.r(e),n.d(e,{default:()=>f});var r=n(995),o=n(263);function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function a(){a=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},s=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function f(t,e,n,o){var i=e&&e.prototype instanceof d?e:d,a=Object.create(i.prototype),s=new _(o||[]);return r(a,"_invoke",{value:C(t,n,s)}),a}function h(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=f;var p={};function d(){}function y(){}function v(){}var g={};l(g,s,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(S([])));b&&b!==e&&n.call(b,s)&&(g=b);var w=v.prototype=d.prototype=Object.create(g);function A(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function x(t,e){function o(r,a,s,u){var c=h(t[r],t,a);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==i(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,s,u)}),(function(t){o("throw",t,s,u)})):e.resolve(f).then((function(t){l.value=t,s(l)}),(function(t){return o("throw",t,s,u)}))}u(c.arg)}var a;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){o(t,n,e,r)}))}return a=a?a.then(r,r):r()}})}function C(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=E(a,n);if(s){if(s===p)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=h(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===p)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function E(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return p;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var r=h(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,p;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,p):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function _(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function S(t){if(t){var e=t[s];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return y.prototype=v,r(w,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:y,configurable:!0}),y.displayName=l(v,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,l(t,c,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},A(x.prototype),l(x.prototype,u,(function(){return this})),t.AsyncIterator=x,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new x(f(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},A(w),l(w,c,"Generator"),l(w,s,(function(){return this})),l(w,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=S,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),L(n),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;L(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:S(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},t}function s(t,e,n,r,o,i,a){try{var s=t[i](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,o)}function u(){return u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=l(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},u.apply(this,arguments)}function c(t,e){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},c(t,e)}function l(t){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},l(t)}var f=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&c(t,e)}(y,t);var e,n,r,f,h,p,d=(h=y,p=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=l(h);if(p){var n=l(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===i(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function y(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,y),d.apply(this,arguments)}return e=y,n=[{key:"getPluginModuleInstance",value:function(){return o.default.Get()}},{key:"name",get:function(){return u(l(y.prototype),"name",this)||"es.upv.paella.debug.userTrackingDataPlugin"}},{key:"write",value:(r=a().mark((function t(e,n,r){var o;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:o=n.id,console.log("id: ".concat(o),e,r);case 2:case"end":return t.stop()}}),t)})),f=function(){var t=this,e=arguments;return new Promise((function(n,o){var i=r.apply(t,e);function a(t){s(i,n,o,a,u,"next",t)}function u(t){s(i,n,o,a,u,"throw",t)}a(void 0)}))},function(t,e,n){return f.apply(this,arguments)})}],n&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),y}(r.DataPlugin)},484:(t,e,n)=>{n.r(e),n.d(e,{default:()=>h});var r=n(995),o=n(263);function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function a(){a=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},s=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function f(t,e,n,o){var i=e&&e.prototype instanceof d?e:d,a=Object.create(i.prototype),s=new _(o||[]);return r(a,"_invoke",{value:C(t,n,s)}),a}function h(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=f;var p={};function d(){}function y(){}function v(){}var g={};l(g,s,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(S([])));b&&b!==e&&n.call(b,s)&&(g=b);var w=v.prototype=d.prototype=Object.create(g);function A(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function x(t,e){function o(r,a,s,u){var c=h(t[r],t,a);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==i(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,s,u)}),(function(t){o("throw",t,s,u)})):e.resolve(f).then((function(t){l.value=t,s(l)}),(function(t){return o("throw",t,s,u)}))}u(c.arg)}var a;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){o(t,n,e,r)}))}return a=a?a.then(r,r):r()}})}function C(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=E(a,n);if(s){if(s===p)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=h(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===p)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function E(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return p;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var r=h(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,p;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,p):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function _(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function S(t){if(t){var e=t[s];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return y.prototype=v,r(w,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:y,configurable:!0}),y.displayName=l(v,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,l(t,c,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},A(x.prototype),l(x.prototype,u,(function(){return this})),t.AsyncIterator=x,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new x(f(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},A(w),l(w,c,"Generator"),l(w,s,(function(){return this})),l(w,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=S,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),L(n),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;L(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:S(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},t}function s(t,e,n,r,o,i,a){try{var s=t[i](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,o)}function u(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){s(i,r,o,a,u,"next",t)}function u(t){s(i,r,o,a,u,"throw",t)}a(void 0)}))}}function c(){return c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=f(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},c.apply(this,arguments)}function l(t,e){return l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},l(t,e)}function f(t){return f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},f(t)}var h=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&l(t,e)}(y,t);var e,n,r,s,h,p,d=(h=y,p=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=f(h);if(p){var n=f(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===i(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function y(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,y),d.apply(this,arguments)}return e=y,n=[{key:"getPluginModuleInstance",value:function(){return o.default.Get()}},{key:"name",get:function(){return c(f(y.prototype),"name",this)||"es.upv.paella.debugTag.userTrackingDataPlugin"}},{key:"load",value:(s=u(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.config.tagId&&(this._elem=document.getElementById(this.config.tagId));case 1:case"end":return t.stop()}}),t,this)}))),function(){return s.apply(this,arguments)})},{key:"write",value:(r=u(a().mark((function t(e,n,r){var o;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:o=n.id,this._elem&&(this._elem.innerHTML+="<br/>"+o+" "+r.event);case 2:case"end":return t.stop()}}),t,this)}))),function(t,e,n){return r.apply(this,arguments)})}],n&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),y}(r.DataPlugin)},685:(t,e,n)=>{n.r(e),n.d(e,{default:()=>p});var r=n(995),o=n(263);function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function s(){s=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function f(t,e,n,o){var i=e&&e.prototype instanceof d?e:d,a=Object.create(i.prototype),s=new _(o||[]);return r(a,"_invoke",{value:C(t,n,s)}),a}function h(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=f;var p={};function d(){}function y(){}function v(){}var g={};l(g,a,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(S([])));b&&b!==e&&n.call(b,a)&&(g=b);var w=v.prototype=d.prototype=Object.create(g);function A(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function x(t,e){function o(r,a,s,u){var c=h(t[r],t,a);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==i(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,s,u)}),(function(t){o("throw",t,s,u)})):e.resolve(f).then((function(t){l.value=t,s(l)}),(function(t){return o("throw",t,s,u)}))}u(c.arg)}var a;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){o(t,n,e,r)}))}return a=a?a.then(r,r):r()}})}function C(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=E(a,n);if(s){if(s===p)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=h(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===p)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function E(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return p;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var r=h(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,p;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,p):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function _(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function S(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return y.prototype=v,r(w,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:y,configurable:!0}),y.displayName=l(v,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,l(t,c,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},A(x.prototype),l(x.prototype,u,(function(){return this})),t.AsyncIterator=x,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new x(f(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},A(w),l(w,c,"Generator"),l(w,a,(function(){return this})),l(w,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=S,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),L(n),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;L(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:S(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},t}function u(t,e,n,r,o,i,a){try{var s=t[i](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,o)}function c(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){u(i,r,o,a,s,"next",t)}function s(t){u(i,r,o,a,s,"throw",t)}a(void 0)}))}}function l(){return l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=h(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},l.apply(this,arguments)}function f(t,e){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},f(t,e)}function h(t){return h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},h(t)}var p=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&f(t,e)}(A,t);var e,n,u,p,d,y,v,g,m,b,w=(m=A,b=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=h(m);if(b){var n=h(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===i(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function A(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,A),w.apply(this,arguments)}return e=A,n=[{key:"getPluginModuleInstance",value:function(){return o.default.Get()}},{key:"name",get:function(){return l(h(A.prototype),"name",this)||"es.upv.paella.matomo.userTrackingDataPlugin"}},{key:"isEnabled",value:(g=c(s().mark((function t(){var e;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l(h(A.prototype),"isEnabled",this).call(this);case 2:if(t.sent){t.next=6;break}return t.abrupt("return",!1);case 6:if(this.matomoGlobalLoaded=null!==(e=this.config.matomoGlobalLoaded)&&void 0!==e&&e,this.server=this.config.server,this.siteId=this.config.siteId,this.events=this.config.events,this.matomoGlobalLoaded||this.server&&this.siteId){t.next=13;break}return this.player.log.warn("Matomo plugin: Plugin is enabled, but is not configured correctly. Please configue `matomoGlobalLoaded`, `server`and `siteId` parameters."),t.abrupt("return",!1);case 13:return t.abrupt("return",!0);case 14:case"end":return t.stop()}}),t,this)}))),function(){return g.apply(this,arguments)})},{key:"getCurrentUserId",value:(v=c(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",null);case 1:case"end":return t.stop()}}),t)}))),function(){return v.apply(this,arguments)})},{key:"trackCustomDimensions",value:(y=c(s().mark((function t(){var e,n,r,o=this;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getTemplateVars();case 2:n=t.sent,r=null!==(e=this.config.customDimensions)&&void 0!==e?e:{};try{Object.entries(r).forEach((function(t){var e,r=function(t){if(Array.isArray(t))return t}(e=t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),2!==i.length);a=!0);}catch(t){s=!0,o=t}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e)||function(t,e){if(t){if("string"==typeof t)return a(t,2);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(t,2):void 0}}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),i=r[0],s=r[1],u=o.applyTemplate(s,n);_paq.push(["setCustomDimension",i,u]),o.player.log.debug("Matomo plugin: setting custom dimension id=".concat(i," to '").concat(u,"'"))}))}catch(t){}case 5:case"end":return t.stop()}}),t,this)}))),function(){return y.apply(this,arguments)})},{key:"getTemplateVars",value:(d=c(s().mark((function t(e){var n;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=this.getEventData(e),t.abrupt("return",{videoId:this.player._videoId,metadata:this.player.videoManifest.metadata,event:(null==e?void 0:e.event)||"",eventData:n});case 2:case"end":return t.stop()}}),t,this)}))),function(t){return d.apply(this,arguments)})},{key:"getEventData",value:function(t){switch(null==t?void 0:t.event){case r.Events.SEEK:return Math.round(t.params.newTime);case r.Events.VOLUME_CHANGED:return 100*t.params.volume;case r.Events.BUTTON_PRESS:case r.Events.SHOW_POPUP:case r.Events.HIDE_POPUP:return t.params.plugin.name;case r.Events.RESIZE_END:return"".concat(t.params.size.w,"x").concat(t.params.size.h);case r.Events.LAYOUT_CHANGED:return t.params.layoutId;case r.Events.PLAYBACK_RATE_CHANGED:return t.params.newPlaybackRate;case r.Events.CAPTIONS_ENABLED:return t.params.language}return""}},{key:"load",value:(p=c(s().mark((function t(){var e,n,o,i,a,u=this;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.config.heartBeatTime||15,(n=window._paq=window._paq||[]).push(["requireCookieConsent"]),(0,r.bindEvent)(this.player,r.Events.COOKIE_CONSENT_CHANGED,(function(){u.player.log.debug("Matomo: Cookie consent changed."),u.player.cookieConsent.getConsentForType(u.config.cookieType)?n.push(["rememberCookieConsentGiven"]):n.push(["forgetCookieConsentGiven"])})),!this.matomoGlobalLoaded){t.next=11;break}n=window._paq=window._paq||[],this.player.log.debug("Assuming Matomo analytics is initialized globaly."),server&&this.player.log.warn("Matomo plugin: `server` parameter is defined, but never used because Matomo is loaded globaly in the page. Is it an error? Please check it."),siteId&&this.player.log.warn("Matomo plugin: `siteId` parameter is defined, but never used because Matomo is loaded globaly in the page. Is it an error? Please check it."),t.next=22;break;case 11:return o=this.server,i=this.siteId,this.player.log.debug("Matomo analytics plugin enabled."),this.trackCustomDimensions(),t.next=17,this.getCurrentUserId();case 17:(a=t.sent)&&n.push(["setUserId",a]),n.push(["trackPageView"]),n.push(["enableLinkTracking"]),function(){var t=o;n.push(["setTrackerUrl",t+"matomo.php"]),n.push(["setSiteId",i]);var e=document,r=e.createElement("script"),a=e.getElementsByTagName("script")[0];r.type="text/javascript",r.async=!0,r.src=t+"matomo.js",a.parentNode.insertBefore(r,a)}();case 22:n.push(["enableHeartBeatTimer",e]),this.trackCustomDimensions(),(0,r.bindEvent)(this.player,r.Events.STREAM_LOADED,(function(){n.push(["MediaAnalytics::scanForMedia"])}));case 25:case"end":return t.stop()}}),t,this)}))),function(){return p.apply(this,arguments)})},{key:"applyTemplate",value:function(t,e){return t.replace(/\${[^{]*}/g,(function(t){return t.substring(2,t.length-1).split(".").reduce((function(t,e){return t[e]}),e)}))}},{key:"write",value:(u=c(s().mark((function t(e,n,r){var o,i,a,u,c,l,f;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.id,!this.events){t.next=13;break}return o=this.events.category||"PaellaPlayer",i=this.events.action||"${event}",a=this.events.name||"${eventData}",t.next=7,this.getTemplateVars(r);case 7:u=t.sent,c=this.applyTemplate(o,u),l=this.applyTemplate(i,u),f=this.applyTemplate(a,u),_paq.push(["trackEvent",c,l,f]),this.player.log.debug("Matomo plugin: track event category='".concat(c,"', action='").concat(l,"', name='").concat(f,"'"));case 13:case"end":return t.stop()}}),t,this)}))),function(t,e,n){return u.apply(this,arguments)})}],n&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),A}(r.DataPlugin)},11:(t,e,n)=>{n.r(e),n.d(e,{default:()=>f});var r=n(995),o=n(263);function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function a(){a=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},s=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function f(t,e,n,o){var i=e&&e.prototype instanceof d?e:d,a=Object.create(i.prototype),s=new _(o||[]);return r(a,"_invoke",{value:C(t,n,s)}),a}function h(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=f;var p={};function d(){}function y(){}function v(){}var g={};l(g,s,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(S([])));b&&b!==e&&n.call(b,s)&&(g=b);var w=v.prototype=d.prototype=Object.create(g);function A(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function x(t,e){function o(r,a,s,u){var c=h(t[r],t,a);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==i(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,s,u)}),(function(t){o("throw",t,s,u)})):e.resolve(f).then((function(t){l.value=t,s(l)}),(function(t){return o("throw",t,s,u)}))}u(c.arg)}var a;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){o(t,n,e,r)}))}return a=a?a.then(r,r):r()}})}function C(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=E(a,n);if(s){if(s===p)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=h(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===p)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function E(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return p;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var r=h(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,p;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,p):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function _(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function S(t){if(t){var e=t[s];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return y.prototype=v,r(w,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:y,configurable:!0}),y.displayName=l(v,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,l(t,c,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},A(x.prototype),l(x.prototype,u,(function(){return this})),t.AsyncIterator=x,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new x(f(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},A(w),l(w,c,"Generator"),l(w,s,(function(){return this})),l(w,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=S,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),L(n),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;L(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:S(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},t}function s(t,e,n,r,o,i,a){try{var s=t[i](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,o)}function u(){return u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=l(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},u.apply(this,arguments)}function c(t,e){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},c(t,e)}function l(t){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},l(t)}var f=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&c(t,e)}(v,t);var e,n,f,h,p,d,y=(p=v,d=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=l(p);if(d){var n=l(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===i(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function v(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,v),y.apply(this,arguments)}return e=v,n=[{key:"getPluginModuleInstance",value:function(){return o.default.Get()}},{key:"name",get:function(){return u(l(v.prototype),"name",this)||"es.upv.paella.userEventTracker"}},{key:"events",get:function(){return this.config.events?this.config.events.map((function(t){return r.Events[t]})):[r.Events.PLAY,r.Events.PAUSE,r.Events.SEEK,r.Events.STOP,r.Events.ENDED,r.Events.FULLSCREEN_CHANGED,r.Events.VOLUME_CHANGED,r.Events.BUTTON_PRESS,r.Events.RESIZE_END]}},{key:"onEvent",value:(f=a().mark((function t(e,n){var o,i,s,u,c,l,f;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=this.config.context||"userTracking",s=this.player.videoId,!(e===r.Events.LOG&&n.severity<=r.LOG_LEVEL[this.config.logLevel])){t.next=9;break}if(t.t0=this.player.data,!t.t0){t.next=7;break}return t.next=7,this.player.data.write(i,{id:s},{event:e,params:n});case 7:t.next=15;break;case 9:if(e===r.Events.LOG||!this.player.data){t.next=15;break}switch(n.plugin&&(u=n.plugin,c=u.name,l=u.config,n.plugin={name:c,config:l}),f={event:e,params:n},e){case r.Events.SHOW_POPUP:case r.Events.HIDE_POPUP:case r.Events.BUTTON_PRESS:f.plugin=(null===(o=n.plugin)||void 0===o?void 0:o.name)||null}return t.next=15,this.player.data.write(i,{id:s},f);case 15:case"end":return t.stop()}}),t,this)})),h=function(){var t=this,e=arguments;return new Promise((function(n,r){var o=f.apply(t,e);function i(t){s(o,n,r,i,a,"next",t)}function a(t){s(o,n,r,i,a,"throw",t)}i(void 0)}))},function(t,e){return h.apply(this,arguments)})}],n&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),v}(r.EventLogPlugin)},757:(t,e,n)=>{var r={"./UserTrackingPlugins.js":263,"./es.upv.paella.analytics.userTrackingDataPlugin.js":561,"./es.upv.paella.debug.userTrackingDataPlugin.js":931,"./es.upv.paella.debugTag.userTrackingDataPlugin.js":484,"./es.upv.paella.matomo.userTrackingDataPlugin.js":685,"./es.upv.paella.userEventTracker.js":11};function o(t){var e=i(t);return n(e)}function i(t){if(!n.o(r,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return r[t]}o.keys=function(){return Object.keys(r)},o.resolve=i,t.exports=o,o.id=757},995:e=>{e.exports=t}},n={};function r(t){var o=n[t];if(void 0!==o)return o.exports;var i=n[t]={exports:{}};return e[t](i,i.exports,r),i.exports}r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var o={};return(()=>{r.r(o),r.d(o,{DebugUserTrackingDataPlugin:()=>l,GoogleAnalyticsUserTrackingDataPlugin:()=>u,MatomoUserTrackingDataPlugin:()=>c,UserEventTrackerPlugin:()=>f,default:()=>a,userTrackingPlugins:()=>s});var t=r(561),e=r(685),n=r(931),i=r(11);function a(){return r(757)}var s=[{plugin:t.default,config:{enabled:!0}},{plugin:e.default,config:{enabled:!0}},{plugin:n.default,config:{enabled:!0}},{plugin:i.default,config:{enabled:!0}}],u=t.default,c=e.default,l=n.default,f=i.default})(),o})(),t.exports=n($)})),X=G(q),Q=V((function(t,e){var n;self,n=t=>(()=>{var e={911:(t,e,n)=>{n.r(e),n.d(e,{default:()=>c});var r=n(995);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e){return a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},a(t,e)}function s(t){return s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},s(t)}var u=null,c=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(h,t);var e,n,r,c,l,f=(c=h,l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=s(c);if(l){var n=s(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,t)});function h(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,h),f.apply(this,arguments)}return e=h,r=[{key:"Get",value:function(){return u||(u=new h),u}}],(n=[{key:"moduleName",get:function(){return"paella-layout-plugins"}},{key:"moduleVersion",get:function(){return"1.41.0"}}])&&i(e.prototype,n),r&&i(e,r),h}(r.PluginModule)},533:(t,e,n)=>{n.r(e),n.d(e,{default:()=>A});var r=n(995),o=n(911),i=n(725),a=n.n(i),s=n(550),u=n.n(s),c=n(835),l=n.n(c);function f(t){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},f(t)}function h(t,e,n,r,o,i,a){try{var s=t[i](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,o)}function p(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){h(i,r,o,a,s,"next",t)}function s(t){h(i,r,o,a,s,"throw",t)}a(void 0)}))}}function d(t,e,n){return d="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=v(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}},d(t,e,n||t)}function y(t,e){return y=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},y(t,e)}function v(t){return v=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},v(t)}var g=r.utils.getCookie,m=r.utils.setCookieIfAllowed,b={sideBySide:{id:"sideBySide",videos:[{content:null,rect:[{aspectRatio:"16/9",width:614,height:345,top:187,left:17},{aspectRatio:"16/10",width:614,height:384,top:167,left:17},{aspectRatio:"4/3",width:614,height:460,top:130,left:17},{aspectRatio:"3/2",width:614,height:409,top:155,left:17},{aspectRatio:"5/4",width:614,height:491,top:114,left:17}],visible:!0,layer:1},{content:null,rect:[{aspectRatio:"16/9",width:614,height:345,top:187,left:649},{aspectRatio:"16/10",width:614,height:384,top:167,left:649},{aspectRatio:"4/3",width:614,height:460,top:130,left:649},{aspectRatio:"3/2",width:614,height:409,top:155,left:649},{aspectRatio:"5/4",width:614,height:491,top:114,left:649}],visible:!0,layer:"1"}],buttons:[]},leftMaximized:{id:"leftMaximized",videos:[{content:null,rect:[{aspectRatio:"5/4",left:35,top:8,width:847,height:699},{aspectRatio:"3/2",left:35,top:66,width:874,height:584},{aspectRatio:"4/3",left:35,top:32,width:874,height:656},{aspectRatio:"16/10",left:35,top:84,width:874,height:548},{aspectRatio:"16/9",left:35,top:112,width:874,height:493}],visible:!0,layer:1},{content:null,rect:[{aspectRatio:"5/4",left:947,top:352,width:316,height:253},{aspectRatio:"3/2",left:947,top:374,width:316,height:211},{aspectRatio:"4/3",left:947,top:360,width:316,height:237},{aspectRatio:"16/10",left:947,top:380,width:316,height:198},{aspectRatio:"16/9",left:947,top:390,width:316,height:178}],visible:!0,layer:2}],buttons:[]},rightMaximized:{id:"rightMaximized",videos:[{content:null,rect:[{aspectRatio:"5/4",left:35,top:352,width:316,height:253},{aspectRatio:"3/2",left:35,top:374,width:316,height:211},{aspectRatio:"4/3",left:35,top:360,width:316,height:237},{aspectRatio:"16/10",left:35,top:380,width:316,height:198},{aspectRatio:"16/9",left:35,top:390,width:316,height:178}],visible:!0,layer:1},{content:null,rect:[{aspectRatio:"5/4",left:359,top:8,width:847,height:699},{aspectRatio:"3/2",left:359,top:66,width:874,height:584},{aspectRatio:"4/3",left:359,top:32,width:874,height:656},{aspectRatio:"16/10",left:359,top:84,width:874,height:548},{aspectRatio:"16/9",left:359,top:112,width:874,height:493}],visible:!0,layer:2}],buttons:[]}},w="sideBySide",A=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&y(t,e)}(x,t);var e,n,i,s,c,h,A=(c=x,h=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=v(c);if(h){var n=v(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){return!e||"object"!==f(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,t)});function x(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,x),A.apply(this,arguments)}return e=x,n=[{key:"getPluginModuleInstance",value:function(){return o.default.Get()}},{key:"name",get:function(){return d(v(x.prototype),"name",this)||"es.upv.paella.dualVideoSideBySide"}},{key:"identifier",get:function(){return"dual-video-ethz"}},{key:"load",value:(s=p(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.cookieType=this.config.cookieType||"preferences",""!==(e=g("dualVideoLayoutEthz"))&&-1!==Object.keys(b).indexOf(e)&&(w=e),this.player.log.debug("Dual video ETHZ layout loaded");case 4:case"end":return t.stop()}}),t,this)}))),function(){return s.apply(this,arguments)})},{key:"getValidStreams",value:function(t){return d(v(x.prototype),"getValidStreams",this).call(this,t).filter((function(t){return 2===t.length}))}},{key:"setSideBySide",value:function(){w="sideBySide",this.player.videoContainer.updateLayout()}},{key:"setLeftMaximized",value:function(){w="leftMaximized",this.player.videoContainer.updateLayout()}},{key:"setRightMaximized",value:function(){w="rightMaximized",this.player.videoContainer.updateLayout()}},{key:"closeVideo",value:function(t){var e=this.player.videoContainer.validContentIds.filter((function(t){return-1===t.indexOf("-")})).find((function(e){return e!=t}));this.player.videoContainer.setLayout(e)}},{key:"getVideoCanvasButtons",value:function(t,e,n,o){var i=this,s=function(){return{icon:i.player.getCustomPluginIcon(i.name,"iconMinimize")||a(),position:r.CanvasButtonPosition.RIGHT,title:i.player.translate("Minimize video"),ariaLabel:i.player.translate("Minimize video"),click:function(){e===i._currentContent[0]?i.setRightMaximized():i.setLeftMaximized()}}},c=function(){return{icon:i.player.getCustomPluginIcon(i.name,"iconMaximize")||u(),position:r.CanvasButtonPosition.RIGHT,title:i.player.translate("Maximize video"),ariaLabel:i.player.translate("Maximize video"),click:function(){i.setSideBySide()}}},f=function(){return{icon:i.player.getCustomPluginIcon(i.name,"iconClose")||l(),position:r.CanvasButtonPosition.RIGHT,title:i.player.translate("Close video"),ariaLabel:i.player.translate("Close video"),click:function(){i.closeVideo(e)}}};return"sideBySide"===t.id?[f(),s()]:"leftMaximized"===t.id?e===this._currentContent[0]?[f(),s()]:[f(),c()]:"rightMaximized"===t.id?e===this._currentContent[0]?[f(),c()]:[f(),s()]:void 0}},{key:"getLayoutStructure",value:function(t,e){if(!this._currentContent){var n=this.validContent.find((function(t){return t.id===e})),r=n.content;this._currentContent=r}var o=function(t){var e=JSON.parse(JSON.stringify(b[w]));return e.videos[0].content=t[0],e.videos[1].content=t[1],e}(this._currentContent),i={id:o.id,player:this.player,name:{es:"Dos streams con posición dinámica"},hidden:!1,videos:o.videos,buttons:[]};return m(this.player,this.cookieType,"dualVideoLayoutEthz",w),i}},{key:"getDictionaries",value:(i=p(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",{es:{"Maximize video":"Maximizar vídeo","Minimize video":"Minimizar vídeo","Close video":"Cerrar vídeo"}});case 1:case"end":return t.stop()}}),t)}))),function(){return i.apply(this,arguments)})}],n&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(e.prototype,n),x}(r.VideoLayout)},835:t=>{t.exports='<svg viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M0.292893 0.292893C0.683417 -0.0976311 1.31658 -0.0976311 1.70711 0.292893L7 5.58579L12.2929 0.292893C12.6834 -0.0976311 13.3166 -0.0976311 13.7071 0.292893C14.0976 0.683417 14.0976 1.31658 13.7071 1.70711L8.41421 7L13.7071 12.2929C14.0976 12.6834 14.0976 13.3166 13.7071 13.7071C13.3166 14.0976 12.6834 14.0976 12.2929 13.7071L7 8.41421L1.70711 13.7071C1.31658 14.0976 0.683417 14.0976 0.292893 13.7071C-0.0976311 13.3166 -0.0976311 12.6834 0.292893 12.2929L5.58579 7L0.292893 1.70711C-0.0976311 1.31658 -0.0976311 0.683417 0.292893 0.292893Z"></path></svg>'},550:t=>{t.exports='<svg viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M13 2C12.4477 2 12 1.55228 12 1C12 0.447715 12.4477 0 13 0H19C19.5523 0 20 0.447715 20 1V7C20 7.55228 19.5523 8 19 8C18.4477 8 18 7.55228 18 7V3.41421L12.7071 8.70711C12.3166 9.09763 11.6834 9.09763 11.2929 8.70711C10.9024 8.31658 10.9024 7.68342 11.2929 7.29289L16.5858 2H13ZM7.29289 11.2929C7.68342 10.9024 8.31658 10.9024 8.70711 11.2929C9.09763 11.6834 9.09763 12.3166 8.70711 12.7071L3.41421 18H7C7.55228 18 8 18.4477 8 19C8 19.5523 7.55228 20 7 20H1C0.447715 20 0 19.5523 0 19V13C0 12.4477 0.447715 12 1 12C1.55228 12 2 12.4477 2 13V16.5858L7.29289 11.2929Z"></path></svg>'},725:t=>{t.exports='<svg viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M18.2929 0.292893C18.6834 -0.0976311 19.3166 -0.0976311 19.7071 0.292893C20.0976 0.683417 20.0976 1.31658 19.7071 1.70711L14.4142 7H18C18.5523 7 19 7.44772 19 8C19 8.55228 18.5523 9 18 9H12C11.4477 9 11 8.55228 11 8V2C11 1.44772 11.4477 1 12 1C12.5523 1 13 1.44772 13 2V5.58579L18.2929 0.292893ZM1 12C1 11.4477 1.44772 11 2 11H8C8.55228 11 9 11.4477 9 12V18C9 18.5523 8.55228 19 8 19C7.44772 19 7 18.5523 7 18V14.4142L1.70711 19.7071C1.31658 20.0976 0.683417 20.0976 0.292893 19.7071C-0.0976311 19.3166 -0.0976311 18.6834 0.292893 18.2929L5.58579 13H2C1.44772 13 1 12.5523 1 12Z"></path></svg>'},757:(t,e,n)=>{var r={"./LayoutPluginsModule.js":911,"./es.upv.paella.dualVideoSideBySide.js":533};function o(t){var e=i(t);return n(e)}function i(t){if(!n.o(r,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return r[t]}o.keys=function(){return Object.keys(r)},o.resolve=i,t.exports=o,o.id=757},995:e=>{e.exports=t}},n={};function r(t){var o=n[t];if(void 0!==o)return o.exports;var i=n[t]={exports:{}};return e[t](i,i.exports,r),i.exports}r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var o={};return(()=>{r.r(o),r.d(o,{DualVideoSideBySideLayoutPlugin:()=>i,default:()=>e,layoutPlugins:()=>n});var t=r(533);function e(){return r(757)}var n=[{plugin:t.default,config:{enabled:!0}}],i=t.default})(),o})(),t.exports=n($)})),J=G(Q),tt=V((function(t,e){var n;self,n=t=>(()=>{var e={323:(t,e,n)=>{n.r(e),n.d(e,{default:()=>f});var r=n(995);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s(t,e){return s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},s(t,e)}function u(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function c(t){return c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},c(t)}var l=null,f=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(p,t);var e,n,r,o,f,h=(o=p,f=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=c(o);if(f){var n=c(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return u(this,t)});function p(){return i(this,p),h.apply(this,arguments)}return e=p,r=[{key:"Get",value:function(){return l||(l=new p),l}}],(n=[{key:"moduleName",get:function(){return"paella-webgl-plugins"}},{key:"moduleVersion",get:function(){return"1.41.0"}}])&&a(e.prototype,n),r&&a(e,r),p}(r.PluginModule)},503:(t,e,n)=>{n.r(e),n.d(e,{Video360Canvas:()=>ot,default:()=>it});var r=n(995);function o(t){return function(t){if(Array.isArray(t))return i(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return i(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function a(t,e,n,r,o,i,a){try{var s=t[i](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,o)}var s=function(){function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.gl=e.getContext("webgl"),null===this.gl)throw new Error("This browser does not support WebGL")}var e,n,r,i;return e=t,n=[{key:"init",value:(r=regeneratorRuntime.mark((function t(){var e,n,r,i,a=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=a.length>0&&void 0!==a[0]?a[0]:{},n=e.clearColor,r=void 0===n?[0,0,0,1]:n,(i=this.gl).enable(i.DEPTH_TEST),i.clearColor.apply(i,o(r)),i.clear(i.COLOR_BUFFER_BIT|i.DEPTH_BUFFER_BIT);case 5:case"end":return t.stop()}}),t,this)})),i=function(){var t=this,e=arguments;return new Promise((function(n,o){var i=r.apply(t,e);function s(t){a(i,n,o,s,u,"next",t)}function u(t){a(i,n,o,s,u,"throw",t)}s(void 0)}))},function(){return i.apply(this,arguments)})}],n&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(e.prototype,n),t}(),u=function(t,e,n){var r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),t.getShaderParameter(r,t.COMPILE_STATUS)||console.error("Error compiling shdaer: \n".concat(t.getShaderInfoLog(r))),r},c=function(){function t(e,n){var r=this,o=n.vertex,i=void 0===o?"\n\nattribute vec4 inVertexPos;\n\nvoid main() {\n    gl_Position = inVertexPos;\n}\n":o,a=n.fragment,s=void 0===a?"\nvoid main() {\n    gl_FragColor = vec4(1.0, 0.5, 1.0, 1.0);\n}\n":a,c=n.attribs,l=void 0===c?[]:c,f=n.uniforms,h=void 0===f?[]:f;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.gl=e;var p=u(e,e.VERTEX_SHADER,i),d=u(e,e.FRAGMENT_SHADER,s),y=e.createProgram();e.attachShader(y,p),e.attachShader(y,d),e.linkProgram(y),e.getProgramParameter(y,e.LINK_STATUS)||console.error("Unable to initialize shader program: ".concat(e.getProgramInfoLog(y))),e.deleteShader(p),e.deleteShader(d),this._shaderProgram=y,this.attribs={},l.forEach((function(t){r.attribs[t]=e.getAttribLocation(y,t),-1==r.attribs[t]&&console.warn("Attribute not found in shader: '".concat(t,"'"))})),this.uniforms={},h.forEach((function(t){r.uniforms[t]=e.getUniformLocation(y,t),null===r.uniforms[t]&&console.warn("Uniform not found in shader: ".concat(t))}))}var e;return(e=[{key:"useProgram",value:function(){this.gl.useProgram(this._shaderProgram)}},{key:"enablePositionArray",value:function(t,e){e.bindPositions(),this.enableArray(t,3)}},{key:"enableTexCoordArray",value:function(t,e){e.bindTexCoord(),this.enableArray(t,2)}},{key:"enableArray",value:function(t,e){var n=this.gl;n.enableVertexAttribArray(this.attribs[t]),n.vertexAttribPointer(this.attribs[t],e,n.FLOAT,!1,0,0)}},{key:"bindTexture",value:function(t,e){var n=this.gl;n.activeTexture(n.TEXTURE0),n.bindTexture(n.TEXTURE_2D,e),n.uniform1i(this.uniforms[t],0)}},{key:"bindFloat",value:function(t,e){this.gl.uniform1f(this.uniforms[t],e)}},{key:"bindMatrix4",value:function(t,e){this.gl.uniformMatrix4fv(this.uniforms[t],!1,e)}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(t.prototype,e),t}();function l(t,e){var n=t.createBuffer();return t.bindBuffer(t.ARRAY_BUFFER,n),t.bufferData(t.ARRAY_BUFFER,new Float32Array(e),t.STATIC_DRAW),n}var f=function(){function t(e,n,r,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.gl=e,this.positionArray=n,this.positionBuffer=l(e,n),this.texCoordArray=r,this.texCoordBuffer=l(e,r),this.indexArray=o,this.indexBuffer=function(t,e){var n=t.createBuffer();return t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,n),t.bufferData(t.ELEMENT_ARRAY_BUFFER,new Uint16Array(e),t.STATIC_DRAW),n}(e,o)}var e;return(e=[{key:"bindPositions",value:function(){this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.positionBuffer)}},{key:"bindTexCoord",value:function(){this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.texCoordBuffer)}},{key:"draw",value:function(){this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.indexBuffer),this.gl.drawElements(this.gl.TRIANGLES,this.indexArray.length,this.gl.UNSIGNED_SHORT,0)}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(t.prototype,e),t}(),h=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.gl=e,this.video=n,this.texture=e.createTexture(),e.bindTexture(e.TEXTURE_2D,this.texture);var r=new Uint8Array([0,0,255,255]);e.texImage2D(e.TEXTURE_2D,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,r),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR)}var e;return(e=[{key:"updateTexture",value:function(){var t=this.gl;t.bindTexture(t.TEXTURE_2D,this.texture),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,this.video)}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(t.prototype,e),t}();function p(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=t&&("undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"]);if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(t){s=!0,o=t}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(t,e)||function(t,e){if(t){if("string"==typeof t)return d(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var y=2*Math.PI,g=Math.PI/2;function m(t,e,n){return(n-t)/(e-t)}function b(t){for(var e,n,r,o,i=Math.PI/t,a=2*t,s=[],u=[],c=-Math.PI/2,l=0;l<=t;l++){for(var f=m(-g,g,-c),h=0,d=a+(l>0&&l<t?1:0),v=0;v<d;v++)s.push((o=void 0,n=(e=p([1,c,h],3))[0],r=e[1],o=-(o=e[2])+Math.PI/2,[n*Math.cos(r)*Math.cos(o),n*Math.sin(r),n*-Math.cos(r)*Math.sin(o)])),u.push([m(0,y,h),f]),h+=i;c+=i}for(var b=[],w=0;w<s.length;w++)b.push([1,1,0]);for(var A=[],x=0,C=0;C<t;C++){for(var E=C>0?1:0,k=0;k<a;k++){var L=x+k,_=x+k+1,S=L+a+E,P=_+a+E;0===C&&A.push([L,P,S]),C===t-1&&A.push([L,_,S]),C>0&&C<t-1&&t>2&&(A.push([L,P,S]),A.push([L,_,P]))}x+=0===C?a:a+1}return{positions:s.flat(),colors:b.flat(),triangles:A.flat(),uvs:u.flat(),normals:s.flat()}}var w=Float32Array,A=function(t){return 0===function(t){return t>-1e-7&&t<1e-7?0:t}(t)},x=function(t,e){return Math.abs(t-e)<1e-7};function C(t){return C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},C(t)}function E(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function k(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function L(t,e){return L=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},L(t,e)}function _(t,e){return!e||"object"!==C(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function S(t){return S=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},S(t)}var P=function(t,e){if(t.length!=e.length)throw new Error("Invalid vector length in operation")},T=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&L(t,e)}(s,t);var e,n,r,o,i,a=(o=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=S(o);if(i){var n=S(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return _(this,t)});function s(){var t;switch(E(this,s),arguments.length){case 0:t=a.call(this,[0,0]);break;case 1:arguments[0].length>1&&arguments[0].length<5&&(t=a.call(this,arguments[0]));break;case 2:2===arguments[0].length&&"number"==typeof arguments[1]?t=a.call(this,[arguments[0][0],arguments[0][1],arguments[1]]):3===arguments[0].length&&"number"==typeof arguments[1]?t=a.call(this,[arguments[0][0],arguments[0][1],arguments[0][2],arguments[1]]):"number"==typeof arguments[0]&&"number"==typeof arguments[1]&&(t=a.call(this,[arguments[0],arguments[1]]));break;case 3:2===arguments[0].length&&"number"==typeof arguments[1]&&"number"==typeof arguments[2]?t=a.call(this,[arguments[0][0],arguments[0][1],arguments[1],arguments[2]]):"number"==typeof arguments[0]&&"number"==typeof arguments[1]&&"number"==typeof arguments[2]&&(t=a.call(this,[arguments[0],arguments[1],arguments[2]]));break;case 4:t=a.call(this,[arguments[0],arguments[1],arguments[2],arguments[3]]);break;default:throw new Error("Invalid parameters in Vec constructor")}return _(t)}return e=s,n=[{key:"normalize",value:function(){var t=s.Magnitude(this);switch(this.length){case 4:this[3]=this[3]/t;case 3:this[2]=this[2]/t;case 2:this[1]=this[1]/t,this[0]=this[0]/t;break;default:throw new Error("Invalid vector size: ".concat(this.length))}return this}},{key:"assign",value:function(t){switch(P(this,t),this.length){case 4:this[3]=t[3];case 3:this[2]=t[2];case 2:this[1]=t[1],this[0]=t[0];break;default:throw new Error("Invalid vector size: ".concat(this.length))}}},{key:"set",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(2===this.length)this[0]=t,this[1]=e;else if(3===this.length&&null!==n)this[0]=t,this[1]=e,this[2]=n;else{if(4!==this.length||null===r)throw new Error("Invalid vector size: ".concat(this.length,". Trying to set x=").concat(t,", y=").concat(e,", z=").concat(n,", w=").concat(r));this[0]=t,this[1]=e,this[2]=n,this[3]=r}}},{key:"scale",value:function(t){switch(this.length){case 4:this[3]=this[3]*t;case 3:this[2]=this[2]*t;case 2:this[1]=this[1]*t,this[0]=this[0]*t;break;default:throw new Error("Invalid vector size: ".concat(v.length))}return this}},{key:"x",get:function(){return this[0]},set:function(t){return this[0]=t,this}},{key:"y",get:function(){return this[1]},set:function(t){return this[1]=t,this}},{key:"z",get:function(){return this[2]},set:function(t){return this[2]=t,this}},{key:"w",get:function(){return this[3]},set:function(t){return this[3]=t,this}},{key:"r",get:function(){return this[0]},set:function(t){return this[0]=t,this}},{key:"g",get:function(){return this[1]},set:function(t){return this[1]=t,this}},{key:"b",get:function(){return this[2]},set:function(t){return this[2]=t,this}},{key:"a",get:function(){return this[3]},set:function(t){return this[3]=t,this}},{key:"width",get:function(){switch(this.length){case 2:return this[0];case 4:return this[2];default:throw new Error("Vec.width function used on non size or viewport vectors (two or four elements)")}},set:function(t){return this[0]=t,this}},{key:"height",get:function(){switch(this.length){case 2:return this[1];case 4:return this[3];default:throw new Error("Vec.width function used on non size or viewport vectors (two or four elements)")}},set:function(t){return this[1]=t,this}},{key:"xy",get:function(){switch(this.length){case 2:return new s(this);case 3:case 4:return new s(this[0],this[1]);default:throw new Error("Invalid vector size: ".concat(this.length))}},set:function(t){return this[0]=t[0],this[1]=t[1],this}},{key:"xz",get:function(){switch(this.length){case 3:case 4:return new s(this[0],this[2]);default:throw new Error("Invalid vector size: ".concat(this.length))}},set:function(t){if(this.length<3)throw new Error("Invalid vector size");return this[0]=t[0],this[2]=t[1],this}},{key:"yz",get:function(){switch(this.length){case 3:case 4:return new s(this[1],this[2]);default:throw new Error("Invalid vector size: ".concat(this.length))}},set:function(t){if(this.length<3)throw new Error("Invalid vector size");return this[1]=t[0],this[2]=t[1],this}},{key:"xyz",get:function(){if(this.length<3)throw new Error("Invalid vector size: ".concat(this.length));return new s(this[0],this[1],this[2])},set:function(t){if(t.length<3||this.length<3)throw new Error("Invalid vector size to set: l;".concat(this.length,", r:").concat(t.length));return this[0]=t[0],this[1]=t[1],this[2]=t[2],this}},{key:"xyzw",get:function(){if(this.length<4)throw new Error("Invalid vector size: ".concat(this.length,", 4 required"));return new s(this[0],this[1],this[2],this[3])},set:function(t){if(this.length<4||t.length<4)throw new Error("Invalid vector size to set: l;".concat(this.length,", r:").concat(t.length));return this[0]=t[0],this[1]=t[1],this[2]=t[2],this[3]=t[3],this}},{key:"rgb",get:function(){if(this.length<3)throw new Error("Invalid vector size: ".concat(this.length,", but at least 3 required"));return new s(this[0],this[1],this[2])},set:function(t){if(t.length<3||this.length<3)throw new Error("Invalid vector size to set: l;".concat(this.length,", r:").concat(t.length));return this[0]=t[0],this[1]=t[1],this[2]=t[2],this}},{key:"rg",get:function(){if(v.length<3||this.length<3)throw new Error("Invalid vector size to set: l;".concat(this.length,", r:").concat(v.length));return new s(this[0],this[1])}},{key:"gb",get:function(){if(v.length<3||this.length<3)throw new Error("Invalid vector size to set: l;".concat(this.length,", r:").concat(v.length));return new s(this[1],this[2])}},{key:"rb",get:function(){if(v.length<3||this.length<3)throw new Error("Invalid vector size to set: l;".concat(this.length,", r:").concat(v.length));return new s(this[0],this[2])}},{key:"hexColor",get:function(){var t=Math.round(255*this.r),e=Math.round(255*this.g),n=Math.round(255*this.b),r=function(t){return t.toString(16).toUpperCase()};return"#".concat(r(t)).concat(r(e)).concat(r(n))}},{key:"cssColor",get:function(){}},{key:"aspectRatio",get:function(){return this.width/this.height}},{key:"toString",value:function(){switch(this.length){case 2:return"[".concat(this[0],", ").concat(this[1],"]");case 3:return"[".concat(this[0],", ").concat(this[1],", ").concat(this[2],"]");case 4:return"[".concat(this[0],", ").concat(this[1],", ").concat(this[2],", ").concat(this[5],"]")}}}],r=[{key:"CheckEqualLength",value:function(t,e){P(t,e)}},{key:"Max",value:function(t,e){switch(P(t,e),t.length){case 2:return new s([t[0]>e[0]?t[0]:e[0],t[1]>e[1]?t[1]:e[1]]);case 3:return new s([t[0]>e[0]?t[0]:e[0],t[1]>e[1]?t[1]:e[1],t[2]>e[2]?t[2]:e[2]]);case 4:return new s([t[0]>e[0]?t[0]:e[0],t[1]>e[1]?t[1]:e[1],t[2]>e[2]?t[2]:e[2],t[3]>e[3]?t[3]:e[3]]);default:throw new Error("Invalid vector size: ".concat(t.length))}}},{key:"Min",value:function(t,e){switch(P(t,e),t.length){case 2:return new s([t[0]<e[0]?t[0]:e[0],t[1]<e[1]?t[1]:e[1]]);case 3:return new s([t[0]<e[0]?t[0]:e[0],t[1]<e[1]?t[1]:e[1],t[2]<e[2]?t[2]:e[2]]);case 4:return new s([t[0]<e[0]?t[0]:e[0],t[1]<e[1]?t[1]:e[1],t[2]<e[2]?t[2]:e[2],t[3]<e[3]?t[3]:e[3]]);default:throw new Error("Invalid vector size: ".concat(t.length))}}},{key:"Add",value:function(t,e){switch(P(t,e),t.length){case 2:return new s([t[0]+e[0],t[1]+e[1]]);case 3:return new s([t[0]+e[0],t[1]+e[1],t[2]+e[2]]);case 4:return new s([t[0]+e[0],t[1]+e[1],t[2]+e[2],t[3]+e[3]]);default:throw new Error("Invalid vector size: ".concat(t.length))}}},{key:"Sub",value:function(t,e){switch(P(t,e),t.length){case 2:return new s([t[0]-e[0],t[1]-e[1]]);case 3:return new s([t[0]-e[0],t[1]-e[1],t[2]-e[2]]);case 4:return new s([t[0]-e[0],t[1]-e[1],t[2]-e[2],t[3]-e[3]]);default:throw new Error("Invalid vector size: ".concat(t.length))}}},{key:"Magnitude",value:function(t){switch(t.length){case 2:return Math.sqrt(t[0]*t[0]+t[1]*t[1]);case 3:return Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);case 4:return Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]+t[3]*t[3]);default:throw new Error("Invalid vector size: ".concat(t.length))}}},{key:"Distance",value:function(t,e){return P(t,e),s.Magnitude(s.Sub(t,e))}},{key:"Dot",value:function(t,e){switch(P(t,e),t.length){case 2:return t[0]*e[0]+t[1]*e[1];case 3:return t[0]*e[0]+t[1]*e[1]+t[2]*e[2];case 4:return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3];default:throw new Error("Invalid vector size: ".concat(t.length))}}},{key:"Cross",value:function(t,e){switch(P(t,e),t.length){case 2:return t[0]*e[1]-t[1]-e[0];case 3:return new s([t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]);default:throw new Error("Invalid vector size for cross product: ".concat(t.length))}}},{key:"Normalized",value:function(t){var e=s.Magnitude(t);switch(t.length){case 2:return new s([t[0]/e,t[1]/e]);case 3:return new s([t[0]/e,t[1]/e,t[2]/e]);case 4:return new s([t[0]/e,t[1]/e,t[2]/e,t[3]/e]);default:throw new Error("Invalid vector size: ".concat(t.length))}}},{key:"Mult",value:function(t,e){switch(t.length){case 2:return new s([t[0]*e,t[1]*e]);case 3:return new s([t[0]*e,t[1]*e,t[2]*e]);case 4:return new s([t[0]*e,t[1]*e,t[2]*e,t[3]*e]);default:throw new Error("Invalid vector size: ".concat(t.length))}}},{key:"Div",value:function(t,e){switch(t.length){case 2:return new s([t[0]/e,t[1]/e]);case 3:return new s([t[0]/e,t[1]/e,t[2]/e]);case 4:return new s([t[0]/e,t[1]/e,t[2]/e,t[3]/e]);default:throw new Error("Invalid vector size: ".concat(t.length))}}},{key:"Equals",value:function(t,e){if(t.length!=e.length)return!1;switch(t.length){case 2:return x(t[0],e[0])&&x(t[1],e[1]);case 3:return x(t[0],e[0])&&x(t[1],e[1])&&x(t[2],e[2]);case 4:return x(t[0],e[0])&&x(t[1],e[1])&&x(t[2],e[2])&&x(t[3],e[3]);default:throw new Error("Invalid vector size: ".concat(t.length))}}},{key:"IsZero",value:function(t){switch(t.length){case 2:return A(t[0])||A(t[1]);case 3:return A(t[0])||A(t[1])||A(t[2]);case 4:return A(t[0])||A(t[1])||A(t[2])||A(t[3]);default:throw new Error("Invalid vector size: ".concat(t.length))}}},{key:"IsNaN",value:function(t){switch(t.length){case 2:return isNaN(t[0])||isNaN(t[1]);case 3:return isNaN(t[0])||isNaN(t[1])||isNaN(t[2]);case 4:return isNaN(t[0])||isNaN(t[1])||isNaN(t[2])||isNaN(t[3]);default:throw new Error("Invalid vector size: ".concat(t.length))}}},{key:"Vec2",value:function(){return new s(0,0)}},{key:"Vec3",value:function(){return new s(0,0,0)}},{key:"Vec4",value:function(){return new s(0,0,0,0)}}],n&&k(e.prototype,n),r&&k(e,r),s}(w);function O(t){return O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},O(t)}function R(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function I(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function j(t,e){return j=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},j(t,e)}function D(t,e){return!e||"object"!==O(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function B(t){return B=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},B(t)}var N=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&j(t,e)}(s,t);var e,n,r,o,i,a=(o=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=B(o);if(i){var n=B(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return D(this,t)});function s(){var t;if(R(this,s),9===arguments.length)t=a.call(this,arguments);else if(1===arguments.length&&9===arguments[0].length)t=a.call(this,arguments[0]);else{if(0!==arguments.length)throw new Error("Invalid parameter size in Mat3 constructor");t=a.call(this,[0,0,0,0,0,0,0,0,0])}return D(t)}return e=s,n=[{key:"identity",value:function(){return this[0]=1,this[1]=0,this[2]=0,this[3]=0,this[4]=1,this[5]=0,this[6]=0,this[7]=0,this[8]=1,this}},{key:"zero",value:function(){return this[0]=0,this[1]=0,this[2]=0,this[3]=0,this[4]=0,this[5]=0,this[6]=0,this[7]=0,this[8]=0,this}},{key:"row",value:function(t){return new T(this[3*t],this[3*t+1],this[3*t+2])}},{key:"setRow",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if((null==e?void 0:e.length)>=3)this[3*t]=e[0],this[3*t+1]=e[1],this[3*t+2]=e[2];else{if("number"!=typeof e||"number"!=typeof n||"number"!=typeof r)throw new Error("Invalid parameter setting matrix row");this[3*t]=e,this[3*t+1]=n,this[3*t+2]=r}return this}},{key:"col",value:function(t){return new T(this[t],this[t+3],this[t+6])}},{key:"setCol",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if((null==e?void 0:e.length)>=3)this[t]=e[0],this[t+3]=e[1],this[t+6]=e[2];else{if("number"!=typeof e||"number"!=typeof n||"number"!=typeof r)throw new Error("Invalid parameter setting matrix row");this[t]=e,this[t+3]=n,this[t+6]=r}return this}},{key:"assign",value:function(t){if(9===t.length)this[0]=t[0],this[1]=t[1],this[2]=t[2],this[3]=t[3],this[4]=t[4],this[5]=t[5],this[6]=t[6],this[7]=t[7],this[8]=t[8];else{if(16!==t.length)throw new Error("Invalid plarameter setting matrix data");this[0]=t[0],this[1]=t[1],this[2]=t[2],this[3]=t[4],this[4]=t[5],this[5]=t[6],this[6]=t[8],this[7]=t[9],this[8]=t[10]}return this}},{key:"setScale",value:function(t,e,n){var r=new T(this[0],this[3],this[6]).normalize().scale(t),o=new T(this[1],this[4],this[7]).normalize().scale(e),i=new T(this[2],this[5],this[8]).normalize().scale(n);return this[0]=r.x,this[3]=r.y,this[6]=r.z,this[1]=o.x,this[4]=o.y,this[7]=o.z,this[2]=i.x,this[5]=i.y,this[8]=i.z,this}},{key:"traspose",value:function(){var t=this[3],e=this[7],n=this[6];return this[3]=this[1],this[6]=this[2],this[7]=this[5],this[1]=t,this[2]=n,this[5]=e,this}},{key:"mult",value:function(t){if("number"==typeof t)this[0]*=t,this[1]*=t,this[2]*=t,this[3]*=t,this[4]*=t,this[5]*=t,this[6]*=t,this[7]*=t,this[8]*=t;else{if(!(t instanceof w&&9===t.length))throw new Error("Invalid parameter in Mat3.mult()");var e=this.row(0),n=this.row(1),r=this.row(2),o=t.col(0),i=t.col(1),a=t.col(2);this[0]=T.Dot(e,o),this[1]=T.Dot(e,i),this[2]=T.Dot(e,a),this[3]=T.Dot(n,o),this[4]=T.Dot(n,i),this[5]=T.Dot(n,a),this[6]=T.Dot(r,o),this[7]=T.Dot(r,i),this[8]=T.Dot(r,a)}return this}},{key:"multVector",value:function(t){if(2===t.length||3===t.length){var e=t[0],n=t[1],r=2===t.length?1:t[2];return new T(this[0]*e+this[3]*n+this[6]*r,this[1]*e+this[4]*n+this[7]*r,this[2]*e+this[5]*n+this[8]*r)}throw new Error("Invalid parameter in Mat3.multVector()")}},{key:"toString",value:function(){return"[ ".concat(this[0],", ").concat(this[1],", ").concat(this[2],"\n")+"  ".concat(this[3],", ").concat(this[4],", ").concat(this[5],"\n")+"  ".concat(this[6],", ").concat(this[7],", ").concat(this[8]," ]")}}],r=[{key:"MakeIdentity",value:function(){return(new s).identity()}},{key:"MakeZero",value:function(){return(new s).zero()}},{key:"MakeWithQuaternion",value:function(t){var e=s.MakeIdentity();return e.setRow(0,new T(1-2*t[1]*t[1]-2*t[2]*t[2],2*t[0]*t[1]-2*t[2]*t[3],2*t[0]*t[2]+2*t[1]*t[3])),e.setRow(1,new T(2*t[0]*t[1]+2*t[2]*t[3],1-2*t[0]*t[0]-2*t[2]*t[2],2*t[1]*t[2]-2*t[0]*t[3])),e.setRow(2,new T(2*t[0]*t[2]-2*t[1]*t[3],2*t[1]*t[2]+2*t[0]*t[3],1-2*t[0]*t[0]-2*t[1]*t[1])),e}},{key:"IsZero",value:function(t){return A(v[0])&&A(v[1])&&A(v[2])&&A(v[3])&&A(v[4])&&A(v[5])&&A(v[6])&&A(v[7])&&A(v[8])}},{key:"IsIdentity",value:function(t){return x(v[0],1)&&A(v[1])&&A(v[2])&&A(v[3])&&x(v[4],1)&&A(v[5])&&A(v[6])&&A(v[7])&&x(v[8],1)}},{key:"GetScale",value:function(t){return new T(T.Magnitude(new T(t[0],t[3],t[6])),T.Magnitude(new T(t[1],t[4],t[7])),T.Magnitude(new T(t[2],t[5],t[8])))}},{key:"Equals",value:function(t,e){return x(t[0],e[0])&&x(t[1],e[1])&&x(t[2],e[2])&&x(t[3],e[3])&&x(t[4],e[4])&&x(t[5],e[5])&&x(t[6],e[6])&&x(t[7],e[7])&&x(t[8],e[8])}},{key:"IsNaN",value:function(t){return isNaN(t[0])||isNaN(t[1])||isNaN(t[2])&&isNaN(t[3])||isNaN(t[4])||isNaN(t[5])&&isNaN(t[6])||isNaN(t[7])||isNaN(t[8])}}],n&&I(e.prototype,n),r&&I(e,r),s}(w);function M(t){return M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},M(t)}function F(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function U(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function G(t,e){return G=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},G(t,e)}function V(t,e){return!e||"object"!==M(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function $(t){return $=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},$(t)}var Z=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&G(t,e)}(s,t);var e,n,r,o,i,a=(o=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=$(o);if(i){var n=$(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return V(this,t)});function s(){F(this,s);var t=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];if(9===arguments.length)t[0]=arguments[0],t[1]=arguments[1],t[2]=arguments[2],t[4]=arguments[3],t[5]=arguments[4],t[6]=arguments[5],t[8]=arguments[6],t[9]=arguments[7],t[10]=arguments[8],t[15]=1;else if(1===arguments.length&&9===arguments[0].length)t[0]=arguments[0][0],t[1]=arguments[0][1],t[2]=arguments[0][2],t[4]=arguments[0][3],t[5]=arguments[0][4],t[6]=arguments[0][5],t[8]=arguments[0][6],t[9]=arguments[0][7],t[10]=arguments[0][8],t[15]=1;else if(16===arguments.length)t[0]=arguments[0],t[1]=arguments[1],t[2]=arguments[2],t[3]=arguments[3],t[4]=arguments[4],t[5]=arguments[5],t[6]=arguments[6],t[7]=arguments[7],t[8]=arguments[8],t[9]=arguments[9],t[10]=arguments[10],t[11]=arguments[11],t[12]=arguments[12],t[13]=arguments[13],t[14]=arguments[14],t[15]=arguments[15];else if(1===arguments.length&&16===arguments[0].length)t[0]=arguments[0][0],t[1]=arguments[0][1],t[2]=arguments[0][2],t[3]=arguments[0][3],t[4]=arguments[0][4],t[5]=arguments[0][5],t[6]=arguments[0][6],t[7]=arguments[0][7],t[8]=arguments[0][8],t[9]=arguments[0][9],t[10]=arguments[0][10],t[11]=arguments[0][11],t[12]=arguments[0][12],t[13]=arguments[0][13],t[14]=arguments[0][14],t[15]=arguments[0][15];else if(0!=arguments.length)throw new Error("Invalid parameter size in Matrix3 constructor");return a.call(this,t)}return e=s,n=[{key:"identity",value:function(){return this[0]=1,this[1]=0,this[2]=0,this[3]=0,this[4]=0,this[5]=1,this[6]=0,this[7]=0,this[8]=0,this[9]=0,this[10]=1,this[11]=0,this[12]=0,this[13]=0,this[14]=0,this[15]=1,this}},{key:"zero",value:function(){return this[0]=0,this[1]=0,this[2]=0,this[3]=0,this[4]=0,this[5]=0,this[6]=0,this[7]=0,this[8]=0,this[9]=0,this[10]=0,this[11]=0,this[12]=0,this[13]=0,this[14]=0,this[15]=0,this}},{key:"perspective",value:function(t,e,n,r){var o=Math.tan(3.141592653589793*t/360)*n,i=o*e;return this.frustum(-i,i,-o,o,n,r),this}},{key:"frustum",value:function(t,e,n,r,o,i){var a=e-t,s=r-n,u=i-o;return this.setRow(0,new T(2*o/a,0,0,0)),this.setRow(1,new T(0,2*o/s,0,0)),this.setRow(2,new T((e+t)/a,(r+n)/s,-(i+o)/u,-1)),this.setRow(3,new T(0,0,-i*o*2/u,0)),this}},{key:"ortho",value:function(t,e,n,r,o,i){var a=e-t,s=r-n,u=i-o;return this[0]=2/a,this[1]=0,this[2]=0,this[3]=0,this[4]=0,this[5]=2/s,this[6]=0,this[7]=0,this[8]=0,this[9]=0,this[10]=-2/u,this[11]=0,this[12]=-(t+e)/a,this[13]=-(r+n)/s,this[14]=-(i+o)/u,this[15]=1,this}},{key:"lookAt",value:function(t,e,n){this.identity();var r=new T(n),o=T.Sub(t,e);o.normalize();var i=T.Cross(r,o);return i.normalize(),r.normalize(),this.m00=i.x,this.m10=i.y,this.m20=i.z,this.m30=-T.Dot(i,t),this.m01=r.x,this.m11=r.y,this.m21=r.z,this.m31=-T.Dot(r,t),this.m02=o.x,this.m12=o.y,this.m22=o.z,this.m32=-T.Dot(o,t),this.m03=0,this.m13=0,this.m23=0,this.m33=1,this}},{key:"m00",get:function(){return this[0]},set:function(t){this[0]=t}},{key:"m01",get:function(){return this[1]},set:function(t){this[1]=t}},{key:"m02",get:function(){return this[2]},set:function(t){this[2]=t}},{key:"m03",get:function(){return this[3]},set:function(t){this[3]=t}},{key:"m10",get:function(){return this[4]},set:function(t){this[4]=t}},{key:"m11",get:function(){return this[5]},set:function(t){this[5]=t}},{key:"m12",get:function(){return this[6]},set:function(t){this[6]=t}},{key:"m13",get:function(){return this[7]},set:function(t){this[7]=t}},{key:"m20",get:function(){return this[8]},set:function(t){this[8]=t}},{key:"m21",get:function(){return this[9]},set:function(t){this[9]=t}},{key:"m22",get:function(){return this[10]},set:function(t){this[10]=t}},{key:"m23",get:function(){return this[11]},set:function(t){this[11]=t}},{key:"m30",get:function(){return this[12]},set:function(t){this[12]=t}},{key:"m31",get:function(){return this[13]},set:function(t){this[13]=t}},{key:"m32",get:function(){return this[14]},set:function(t){this[14]=t}},{key:"m33",get:function(){return this[15]},set:function(t){this[15]=t}},{key:"mat3",get:function(){return new N(this[0],this[1],this[2],this[4],this[5],this[6],this[8],this[9],this[10])}},{key:"forwardVector",get:function(){return s.TransformDirection(this,new T(0,0,1))}},{key:"rightVector",get:function(){return s.TransformDirection(this,new T(1,0,0))}},{key:"upVector",get:function(){return s.TransformDirection(this,new T(0,1,0))}},{key:"backwardVector",get:function(){return s.TransformDirection(this,new T(0,0,-1))}},{key:"leftVector",get:function(){return s.TransformDirection(this,new T(-1,0,0))}},{key:"downVector",get:function(){return s.TransformDirection(this,new T(0,-1,0))}},{key:"row",value:function(t){return new T(this[4*t],this[4*t+1],this[4*t+2],this[4*t+3])}},{key:"setRow",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;if(e.length>=4)this[4*t]=e[0],this[4*t+1]=e[1],this[4*t+2]=e[2],this[4*t+3]=e[3];else{if("number"!=typeof e||"number"!=typeof n||"number"!=typeof r||"number"!=typeof o)throw new Error("Invalid parameter setting matrix row");this[4*t]=e,this[4*t+1]=n,this[4*t+2]=r,this[4*t+3]=o}return this}},{key:"col",value:function(t){return new T(this[t],this[t+4],this[t+8],this[t+12])}},{key:"setCol",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;if(e.length>=4)this[t]=e[0],this[t+4]=e[1],this[t+8]=e[2],this[t+12]=e[3];else{if("number"!=typeof e||"number"!=typeof n||"number"!=typeof r||"number"!=typeof o)throw new Error("Invalid parameter setting matrix row");this[t]=e,this[t+4]=n,this[t+8]=r,this[t+12]=o}return this}},{key:"assign",value:function(t){return 9==t.length?(this[0]=t[0],this[1]=t[1],this[2]=t[2],this[3]=0,this[4]=t[3],this[5]=t[4],this[6]=t[5],this[7]=0,this[8]=t[6],this[9]=t[7],this[10]=t[8],this[11]=0,this[12]=0,this[13]=0,this[14]=0,this[15]=1):16==t.length&&(this[0]=t[0],this[1]=t[1],this[2]=t[2],this[3]=t[3],this[4]=t[4],this[5]=t[5],this[6]=t[6],this[7]=t[7],this[8]=t[8],this[9]=t[9],this[10]=t[10],this[11]=t[11],this[12]=t[12],this[13]=t[13],this[14]=t[14],this[15]=t[15]),this}},{key:"translate",value:function(t,e,n){return this.mult(s.MakeTranslation(t,e,n)),this}},{key:"rotate",value:function(t,e,n,r){return this.mult(s.MakeRotation(t,e,n,r)),this}},{key:"scale",value:function(t,e,n){return this.mult(s.MakeScale(t,e,n)),this}},{key:"toString",value:function(){return"[ ".concat(this[0],", ").concat(this[1],", ").concat(this[2],", ").concat(this[3],"\n")+"  ".concat(this[4],", ").concat(this[5],", ").concat(this[6],", ").concat(this[7],"\n")+"  ".concat(this[8],", ").concat(this[9],", ").concat(this[10],", ").concat(this[11],"\n")+"  ".concat(this[12],", ").concat(this[13],", ").concat(this[14],", ").concat(this[15]," ]")}},{key:"setScale",value:function(t,e,n){var r=new T(this[0],this[4],this[8]).normalize().scale(t),o=new T(this[1],this[5],this[9]).normalize().scale(e),i=new T(this[2],this[6],this[10]).normalize().scale(n);return this[0]=r.x,this[4]=r.y,this[8]=r.z,this[1]=o.x,this[5]=o.y,this[9]=o.z,this[2]=i.x,this[6]=i.y,this[10]=i.z,this}},{key:"setPosition",value:function(t,e,n){return"number"==typeof t?(this[12]=t,this[13]=e,this[14]=n):(this[12]=t.x,this[13]=t.y,this[14]=t.z),this}},{key:"mult",value:function(t){if("number"==typeof t)return this[0]*=t,this[1]*=t,this[2]*=t,this[3]*=t,this[4]*=t,this[5]*=t,this[6]*=t,this[7]*=t,this[8]*=t,this[9]*=t,this[10]*=t,this[11]*=t,this[12]*=t,this[13]*=t,this[14]*=t,this[15]*=t,this;var e=this.row(0),n=this.row(1),r=this.row(2),o=this.row(3),i=t.col(0),a=t.col(1),s=t.col(2),u=t.col(3);return this[0]=T.Dot(e,i),this[1]=T.Dot(e,a),this[2]=T.Dot(e,s),this[3]=T.Dot(e,u),this[4]=T.Dot(n,i),this[5]=T.Dot(n,a),this[6]=T.Dot(n,s),this[7]=T.Dot(n,u),this[8]=T.Dot(r,i),this[9]=T.Dot(r,a),this[10]=T.Dot(r,s),this[11]=T.Dot(r,u),this[12]=T.Dot(o,i),this[13]=T.Dot(o,a),this[14]=T.Dot(o,s),this[15]=T.Dot(o,u),this}},{key:"multVector",value:function(t){if(t.length<3)throw new Error("Invalid parameter multiplying Mat4 by vector");var e=t[0],n=t[1],r=t[2],o=t.length>3?t[3]:1;return new T(this[0]*e+this[4]*n+this[8]*r+this[12]*o,this[1]*e+this[5]*n+this[9]*r+this[13]*o,this[2]*e+this[6]*n+this[10]*r+this[14]*o,this[3]*e+this[7]*n+this[11]*r+this[15]*o)}},{key:"invert",value:function(){var t=this[0],e=this[1],n=this[2],r=this[3],o=this[4],i=this[5],a=this[6],s=this[7],u=this[8],c=this[9],l=this[10],f=this[11],h=this[12],p=this[13],d=this[14],y=this[15],v=t*i-e*o,g=t*a-n*o,m=t*s-r*o,b=e*a-n*i,w=e*s-r*i,A=n*s-r*a,x=u*p-c*h,C=u*d-l*h,E=u*y-f*h,k=c*d-l*p,L=c*y-f*p,_=l*y-f*d,S=v*_-g*L+m*k+b*E-w*C+A*x;return S?(S=1/S,this[0]=(i*_-a*L+s*k)*S,this[1]=(n*L-e*_-r*k)*S,this[2]=(p*A-d*w+y*b)*S,this[3]=(l*w-c*A-f*b)*S,this[4]=(a*E-o*_-s*C)*S,this[5]=(t*_-n*E+r*C)*S,this[6]=(d*m-h*A-y*g)*S,this[7]=(u*A-l*m+f*g)*S,this[8]=(o*L-i*E+s*x)*S,this[9]=(e*E-t*L-r*x)*S,this[10]=(h*w-p*m+y*v)*S,this[11]=(c*m-u*w-f*v)*S,this[12]=(i*C-o*k-a*x)*S,this[13]=(t*k-e*C+n*x)*S,this[14]=(p*g-h*b-d*v)*S,this[15]=(u*b-c*g+l*v)*S):this.zero(),this}},{key:"traspose",value:function(){var t=new T(this[0],this[4],this[8],this[12]),e=new T(this[1],this[5],this[9],this[13]),n=new T(this[2],this[6],this[10],this[14]),r=new T(this[3],this[7],this[11],this[15]);return this.setRow(0,t),this.setRow(1,e),this.setRow(2,n),this.setRow(3,r),this}}],r=[{key:"MakeIdentity",value:function(){return(new s).identity()}},{key:"MakeZero",value:function(){return(new s).zero()}},{key:"MakeWithQuaternion",value:function(t){var e=s.MakeIdentity();return e.setRow(0,new T(1-2*t[1]*t[1]-2*t[2]*t[2],2*t[0]*t[1]-2*t[2]*t[3],2*t[0]*t[2]+2*t[1]*t[3],0)),e.setRow(1,new T(2*t[0]*t[1]+2*t[2]*t[3],1-2*t[0]*t[0]-2*t[2]*t[2],2*t[1]*t[2]-2*t[0]*t[3],0)),e.setRow(2,new T(2*t[0]*t[2]-2*t[1]*t[3],2*t[1]*t[2]+2*t[0]*t[3],1-2*t[0]*t[0]-2*t[1]*t[1],0)),e}},{key:"MakeTranslation",value:function(t,e,n){return t instanceof w&&t.length>=3&&(e=t[1],n=t[2],t=t[0]),new s(1,0,0,0,0,1,0,0,0,0,1,0,t,e,n,1)}},{key:"MakeRotation",value:function(t,e,n,r){var o=new T(e,n,r);o.normalize();var i=Math.cos(t),a=1-i,u=Math.sin(t);return new s(o.x*o.x*a+i,o.x*o.y*a+o.z*u,o.x*o.z*a-o.y*u,0,o.y*o.x*a-o.z*u,o.y*o.y*a+i,o.y*o.z*a+o.x*u,0,o.z*o.x*a+o.y*u,o.z*o.y*a-o.x*u,o.z*o.z*a+i,0,0,0,0,1)}},{key:"MakeScale",value:function(t,e,n){return t instanceof w&&t.length>=3&&(e=t[1],n=t[2],t=t[0]),new s(t,0,0,0,0,e,0,0,0,0,n,0,0,0,0,1)}},{key:"MakePerspective",value:function(t,e,n,r){return(new s).perspective(t,e,n,r)}},{key:"MakeFrustum",value:function(t,e,n,r,o,i){return(new s).frustum(t,e,n,r,o,i)}},{key:"MakeOrtho",value:function(t,e,n,r,o,i){return(new s).ortho(t,e,n,r,o,i)}},{key:"MakeLookAt",value:function(t,e,n){return(new s).lookAt(t,e,n)}},{key:"Mult",value:function(t,e){return new s(t).mult(e)}},{key:"Unproject",value:function(t,e,n,r,o,i){var a=new s(o);a.mult(r),a.invert();var u=new T((t-i.y)/i.width*2-1,(e-i.x)/i.height*2-1,2*n-1,1),c=new Vec4(a.multVector(u));return 0==c.z?c.set(0):c.set(c.x/c.w,c.y/c.w,c.z/c.w,c.w/c.w),c}},{key:"GetScale",value:function(t){return new T(T.Magnitude([t[1],t[5],t[9]]),T.Magnitude([t[0],t[4],t[8]]),T.Magnitude([t[2],t[6],t[10]]))}},{key:"GetRotation",value:function(t){var e=s.GetScale(t);return new s(t[0]/e.x,t[1]/e.y,t[2]/e.z,0,t[4]/e.x,t[5]/e.y,t[6]/e.z,0,t[8]/e.x,t[9]/e.y,t[10]/e.z,0,0,0,0,1)}},{key:"GetPosition",value:function(t){return new T(t[12],t[13],t[14])}},{key:"GetInverted",value:function(t){var e=new s(t);return e.invert(),e}},{key:"GetNormalMatrix",value:function(t){return new s(t).invert().traspose().mat3}},{key:"Equals",value:function(t,e){return t[0]==e[0]&&t[1]==e[1]&&t[2]==e[2]&&t[3]==e[3]&&t[4]==e[4]&&t[5]==e[5]&&t[6]==e[6]&&t[7]==e[7]&&t[8]==e[8]&&t[9]==e[9]&&t[10]==e[10]&&t[11]==e[11]&&t[12]==e[12]&&t[13]==e[13]&&t[14]==e[14]&&t[15]==e[15]}},{key:"TransformDirection",value:function(t,e){var n=new T(e),r=new s(t);return r.setRow(3,new T(0,0,0,1)),n.assign(r.multVector(n).xyz),n.normalize(),n}},{key:"IsNan",value:function(){return isNaN(this[0])||isNaN(this[1])||isNaN(this[2])||isNaN(this[3])||isNaN(this[4])||isNaN(this[5])||isNaN(this[6])||isNaN(this[7])||isNaN(this[8])||isNaN(this[9])||isNaN(this[10])||isNaN(this[11])||isNaN(this[12])||isNaN(this[13])||isNaN(this[14])||isNaN(this[15])}},{key:"IsZero",value:function(t){return A(t[0])&&A(t[1])&&A(t[2])&&A(t[3])&&A(t[4])&&A(t[5])&&A(t[6])&&A(t[7])&&A(t[8])&&A(t[9])&&A(t[10])&&A(t[11])&&A(t[12])&&A(t[13])&&A(t[14])&&A(t[15])}},{key:"IsIdentity",value:function(t){return x(t[0],1)&&x(t[1],0)&&x(t[2],0)&&x(t[3],0)&&x(t[4],0)&&x(t[5],1)&&x(t[6],0)&&x(t[7],0)&&x(t[8],0)&&x(t[9],0)&&x(t[10],1)&&x(t[11],0)&&x(t[12],0)&&x(t[13],0)&&x(t[14],0)&&x(t[15],1)}}],n&&U(e.prototype,n),r&&U(e,r),s}(w),z=n(323);function H(t){return H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},H(t)}function Y(t,e,n){return Y="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=nt(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}},Y(t,e,n||t)}function K(t,e,n,r,o,i,a){try{var s=t[i](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,o)}function W(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function q(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function X(t,e,n){return e&&q(t.prototype,e),n&&q(t,n),t}function Q(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&J(t,e)}function J(t,e){return J=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},J(t,e)}function tt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=nt(t);if(e){var o=nt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return et(this,n)}}function et(t,e){return!e||"object"!==H(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function nt(t){return nt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},nt(t)}var rt=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t.parentNode;n.removeChild(t),document.body.appendChild(t),t.style.position="fixed",t.style.width="100px",t.style.height="50px",t.style.top="0px",t.style.left="0px",e||(t.style.display="none")},ot=function(t){Q(o,t);var e,n,r=tt(o);function o(t,e,n){var i,a,s,u,c;W(this,o),(c=r.call(this,"canvas",t,e)).config=n,c.maxZoom=null!==(i=n.maxZoom)&&void 0!==i?i:3,c.minZoom=null!==(a=n.minZoom)&&void 0!==a?a:.3,c.speedX=null!==(s=n.speedX)&&void 0!==s?s:1,c.speedY=null!==(u=n.speedY)&&void 0!==u?u:1;var l=[0,0],f=!1;return c._pitch=0,c._yaw=0,c.element.addEventListener("mousedown",(function(t){f=!0,l=[t.clientX,t.clientY],t.stopPropagation()})),c.element.addEventListener("click",(function(t){t.stopPropagation()})),c.element.addEventListener("mouseup",(function(t){f=!1,t.stopPropagation()})),c.element.addEventListener("wheel",(function(t){c.currentZoom+=t.deltaY/1e3,c.currentZoom>c.maxZoom?c.currentZoom=c.maxZoom:c.currentZoom<c.minZoom&&(c.currentZoom=c.minZoom),t.stopPropagation(),t.preventDefault()})),c.element.addEventListener("mouseout",(function(t){f=!1,t.stopPropagation()})),c.element.addEventListener("mousemove",(function(t){if(f){var e=[t.clientX,t.clientY],n=[l[0]-e[0],l[1]-e[1]];l=e,c._yaw+=.004*n[0]*c.speedX,c._pitch+=.004*n[1]*c.speedY,c._yaw>2*Math.PI?c._yaw=c._yaw-2*Math.PI:c._yaw<0&&(c._yaw=2*Math.PI+c._yaw),c._pitch>Math.PI/2?c._pitch=Math.PI/2:c._pitch<=-Math.PI/2&&(c._pitch=-Math.PI/2)}t.stopPropagation()})),c}return X(o,[{key:"loadCanvas",value:(e=regeneratorRuntime.mark((function t(e){var n,r,o,i,a,u,l=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.currentZoom=1,this._videoPlayer=e,e.element.style.width="100%",e.element.style.height="100%",e.element.style.position="absolute",e.element.style.top="0",e.element.style.left="0",this.element.style.overflow="hidden",this.element.style.position="relative",this._videoPlayer=e,e.element.crossOrigin="",rt.apply(this,[e.element,!1]),this._webGLCanvas=new s(this.element),t.next=15,this._webGLCanvas.init({clearColor:[.2,.3,.8,1]});case 15:n=this._webGLCanvas.gl,r=new h(n,e.element),o=new c(n,{vertex:"\nprecision highp float;\nattribute vec3 inVertexPos;\nattribute vec2 inTexCoord;\n\nvarying vec2 fsTexCoord;\n\nuniform mat4 uView;\nuniform mat4 uProj;\n\nvoid main() {\n    gl_Position = uProj * uView * vec4(inVertexPos,1.0);\n    fsTexCoord = inTexCoord;\n}\n",fragment:"\nprecision highp float;\nuniform sampler2D uVideoTexture;\n\nvarying vec2 fsTexCoord;\n\nvoid main() {\n    gl_FragColor = texture2D(uVideoTexture,fsTexCoord);\n}\n",attribs:["inVertexPos","inTexCoord"],uniforms:["uView","uProj","uVideoTexture"]}),i=b(30),a=new f(n,i.positions,i.uvs,i.triangles),u=this.element,function t(){var e=u.clientWidth,i=u.clientHeight,s=45*l.currentZoom,c=e/i,f=Z.MakePerspective(s,isNaN(c)?16/9:c,.01,10),h=Z.MakeIdentity(),p=Z.MakeRotation(l._yaw,0,1,0);p.rotate(l._pitch,1,0,0),r.updateTexture(),u.width=e,u.height=i,n.viewport(0,0,e,i),n.clear(n.COLOR_BUFFER_BIT),o.useProgram(),o.enablePositionArray("inVertexPos",a),o.enableTexCoordArray("inTexCoord",a),o.bindMatrix4("uView",Z.Mult(p,h)),o.bindMatrix4("uProj",f),o.bindTexture("uVideoTexture",r.texture),a.draw(),requestAnimationFrame(t)}();case 23:case"end":return t.stop()}}),t,this)})),n=function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(t){K(i,r,o,a,s,"next",t)}function s(t){K(i,r,o,a,s,"throw",t)}a(void 0)}))},function(t){return n.apply(this,arguments)})}]),o}(r.Canvas),it=function(t){Q(n,t);var e=tt(n);function n(){return W(this,n),e.apply(this,arguments)}return X(n,[{key:"getPluginModuleInstance",value:function(){return z.default.Get()}},{key:"name",get:function(){return Y(nt(n.prototype),"name",this)||"es.upv.paella.video360Canvas"}},{key:"canvasType",get:function(){return"video360"}},{key:"isCompatible",value:function(t){var e,r=this;return!(null===(e=t.canvas)||void 0===e||!e.find((function(t){return t==r.canvasType})))||Y(nt(n.prototype),"isCompatible",this).call(this,t)}},{key:"getCanvasInstance",value:function(t){return new ot(this.player,t,this.config)}}]),n}(r.CanvasPlugin)},757:(t,e,n)=>{var r={"./WebGLPluginModule.js":323,"./es.upv.paella.video360Canvas.js":503};function o(t){var e=i(t);return n(e)}function i(t){if(!n.o(r,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return r[t]}o.keys=function(){return Object.keys(r)},o.resolve=i,t.exports=o,o.id=757},995:e=>{e.exports=t}},n={};function r(t){var o=n[t];if(void 0!==o)return o.exports;var i=n[t]={exports:{}};return e[t](i,i.exports,r),i.exports}r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var o={};return(()=>{r.r(o),r.d(o,{Video360CanvasPlugin:()=>i,default:()=>e,webglPlugins:()=>n});var t=r(503);function e(){return r(757)}var n=[{plugin:t.default,config:{enabled:!1}}],i=t.default})(),o})(),t.exports=n($)})),et=G(tt),nt='<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg width="100%" height="100%" viewBox="0 0 64 64" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;">\n    <g id="Mesa-de-trabajo1" serif:id="Mesa de trabajo1" transform="matrix(0.125,0,0,0.125,0,0)">\n        <rect x="0" y="0" width="512" height="512" style="fill:none;"/>\n        <clipPath id="_clip1">\n            <rect x="0" y="0" width="512" height="512"/>\n        </clipPath>\n        <g clip-path="url(#_clip1)">\n            <g transform="matrix(8.60945,0,0,9.26493,-16.5603,-37.3015)">\n                <path d="M61.393,15.481C61.393,12.84 59.089,10.699 56.247,10.699C44.996,10.699 18.32,10.699 7.07,10.699C4.228,10.699 1.924,12.84 1.924,15.481C1.924,23.548 1.924,39.767 1.924,47.833C1.924,50.474 4.228,52.616 7.07,52.616C18.32,52.616 44.996,52.616 56.247,52.616C59.089,52.616 61.393,50.474 61.393,47.833C61.393,39.767 61.393,23.548 61.393,15.481Z"/>\n            </g>\n        </g>\n    </g>\n</svg>\n';function rt(e){let n;return{c(){n=c("div"),p(n,"id",e[0]),p(n,"class","player-container svelte-1ud6k3e")},m(t,e){s(t,n,e)},p(t,[e]){1&e&&p(n,"id",t[0])},i:t,o:t,d(t){t&&u(n)}}}function ot(t,e,n){let{videoId:r}=e,{containerId:o="player-container"}=e,{onVideoIdChanged:i}=e,{onPlay:a}=e,{config:s}=e,{manifest:u}=e,{autoplay:c=!1}=e;let{paella:l=null}=e;var f;return m((async()=>{const t={customPluginContext:[z(),Y(),W(),X(),J(),et()],configResourcesUrl:"player-config/",configUrl:"player-config/config.json",loadConfig:async(t,e)=>s||await $.defaultLoadConfigFunction(t,e),getVideoId:(t,e)=>{const o=U("nextVideo");return""!==o?(n(1,r=o),i&&i(r),o):(r||n(1,r=$.utils.getUrlParameter("id")),r)},loadVideoManifest:async(t,e,n)=>u||await $.defaultLoadVideoManifestFunction(t,e,n),getCookieConsentFunction:t=>(()=>{const t=U("enable-analytics");return{analytical:/true/i.test(t)||!1}})()[t]};n(2,l=new $.Paella(o,t)),window.addEventListener("cookiesUpdated",(()=>{l.cookieConsent.updateConsentData()})),l.loadManifest().then((()=>(l.addCustomPluginIcon("es.upv.paella.backwardButtonPlugin","backwardIcon",'<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg width="100%" height="100%" viewBox="0 0 64 64" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;">\n    <g id="Mesa-de-trabajo1" serif:id="Mesa de trabajo1" transform="matrix(0.125,0,0,0.125,0,0)">\n        <rect x="0" y="0" width="512" height="512" style="fill:none;"/>\n        <g id="backwardIcon">\n            <g transform="matrix(0.301682,-0.953409,0.953409,0.301682,-33.639,434.074)">\n                <path d="M355.677,210.325L313.116,244.106C310.204,246.417 306.249,246.917 302.853,245.404C299.458,243.891 297.186,240.615 296.958,236.904C294.434,195.787 288.533,99.662 286.302,63.32C286.102,60.067 287.504,56.922 290.057,54.896C292.609,52.87 295.991,52.218 299.113,53.151C334,63.575 426.276,91.145 465.746,102.938C469.308,104.002 471.982,106.958 472.686,110.609C473.389,114.259 472.004,117.997 469.092,120.308L428.325,152.665C446.893,183.621 456.937,219.293 456.937,256C456.937,366.9 366.9,456.937 256,456.937C209.979,456.937 165.585,441.149 129.919,412.741C125.631,409.157 123.047,403.936 122.798,398.352C122.55,392.769 124.66,387.338 128.613,383.387C139.797,372.203 155.034,356.966 165.942,346.53C172.858,339.614 183.818,338.865 191.611,344.775C210.215,358.269 232.726,365.668 256,365.668C316.527,365.668 365.668,316.527 365.668,256C365.668,240.079 362.205,224.514 355.677,210.325Z"/>\n            </g>\n            <g transform="matrix(8,0,0,8,-12.5937,20.6629)">\n                <path d="M9.072,38.76C9.188,38.775 9.286,38.782 9.366,38.782L9.573,38.782C10.11,38.782 10.546,38.622 10.88,38.303C11.215,37.983 11.382,37.569 11.382,37.061C11.382,36.567 11.225,36.167 10.913,35.862C10.601,35.557 10.198,35.405 9.704,35.405C9.181,35.405 8.759,35.579 8.44,35.927C8.12,36.276 7.96,36.726 7.96,37.279L4.016,37.279C4.118,36.421 4.332,35.659 4.659,34.99C4.986,34.322 5.404,33.759 5.912,33.302C6.421,32.844 7.016,32.495 7.699,32.256C8.382,32.016 9.137,31.896 9.965,31.896C10.779,31.896 11.516,32.009 12.177,32.234C12.838,32.459 13.404,32.779 13.877,33.193C14.349,33.607 14.712,34.108 14.966,34.696C15.22,35.285 15.347,35.942 15.347,36.668C15.347,37.453 15.199,38.096 14.901,38.597C14.603,39.098 14.178,39.53 13.626,39.893C14.469,40.155 15.126,40.623 15.598,41.299C16.07,41.974 16.306,42.806 16.306,43.794C16.306,44.607 16.146,45.348 15.827,46.017C15.507,46.685 15.061,47.259 14.487,47.738C13.913,48.217 13.23,48.588 12.438,48.849C11.647,49.111 10.779,49.242 9.834,49.242C8.571,49.242 7.43,48.995 6.413,48.501C5.396,48.007 4.583,47.222 3.973,46.147C3.697,45.668 3.511,45.189 3.417,44.709C3.323,44.23 3.275,43.743 3.275,43.249L7.503,43.249C7.532,44.019 7.757,44.604 8.178,45.003C8.6,45.403 9.166,45.603 9.878,45.603C10.633,45.603 11.185,45.399 11.534,44.992C11.883,44.586 12.057,44.084 12.057,43.489C12.057,42.777 11.846,42.24 11.425,41.876C11.004,41.513 10.503,41.332 9.922,41.332C9.776,41.332 9.638,41.342 9.508,41.364C9.377,41.386 9.232,41.411 9.072,41.441L9.072,38.76Z" style="fill-rule:nonzero;"/>\n                <path d="M22.037,40.547C22.037,41.273 22.103,41.934 22.233,42.53C22.364,43.126 22.549,43.641 22.789,44.077C23.029,44.513 23.316,44.851 23.65,45.09C23.984,45.33 24.362,45.45 24.783,45.45C25.19,45.45 25.564,45.33 25.905,45.09C26.246,44.851 26.533,44.513 26.766,44.077C26.998,43.641 27.18,43.126 27.311,42.53C27.441,41.934 27.507,41.273 27.507,40.547C27.507,39.835 27.441,39.178 27.311,38.575C27.18,37.972 26.998,37.456 26.766,37.028C26.533,36.599 26.246,36.265 25.905,36.026C25.564,35.786 25.19,35.666 24.783,35.666C24.362,35.666 23.984,35.786 23.65,36.026C23.316,36.265 23.029,36.599 22.789,37.028C22.549,37.456 22.364,37.972 22.233,38.575C22.103,39.178 22.037,39.835 22.037,40.547ZM17.81,40.547C17.81,39.24 17.981,38.052 18.322,36.984C18.663,35.917 19.143,35.005 19.76,34.25C20.378,33.494 21.111,32.909 21.961,32.495C22.811,32.081 23.751,31.874 24.783,31.874C25.8,31.874 26.737,32.081 27.594,32.495C28.451,32.909 29.185,33.494 29.795,34.25C30.405,35.005 30.881,35.917 31.222,36.984C31.563,38.052 31.734,39.24 31.734,40.547C31.734,41.855 31.563,43.042 31.222,44.11C30.881,45.178 30.405,46.093 29.795,46.856C29.185,47.618 28.451,48.207 27.594,48.621C26.737,49.035 25.8,49.242 24.783,49.242C23.751,49.242 22.811,49.035 21.961,48.621C21.111,48.207 20.378,47.618 19.76,46.856C19.143,46.093 18.663,45.178 18.322,44.11C17.981,43.042 17.81,41.855 17.81,40.547Z" style="fill-rule:nonzero;"/>\n                <path d="M40.952,40.482C40.225,40.104 39.513,39.915 38.816,39.915C38.453,39.915 38.159,39.988 37.934,40.133C37.708,40.278 37.596,40.474 37.596,40.721C37.596,40.852 37.614,40.958 37.65,41.037C37.687,41.117 37.767,41.194 37.89,41.266C38.013,41.339 38.195,41.404 38.435,41.462C38.674,41.52 38.99,41.593 39.383,41.68C40.472,41.898 41.286,42.287 41.823,42.846C42.361,43.405 42.629,44.121 42.629,44.992C42.629,45.646 42.499,46.234 42.237,46.757C41.976,47.28 41.613,47.72 41.148,48.076C40.683,48.432 40.124,48.708 39.47,48.904C38.816,49.1 38.097,49.198 37.313,49.198C35.802,49.198 34.313,48.769 32.845,47.912L34.284,45.123C35.388,45.879 36.434,46.256 37.421,46.256C37.785,46.256 38.082,46.176 38.315,46.017C38.547,45.857 38.664,45.653 38.664,45.406C38.664,45.261 38.645,45.141 38.609,45.047C38.573,44.952 38.496,44.865 38.38,44.785C38.264,44.706 38.093,44.633 37.868,44.568C37.643,44.502 37.349,44.433 36.986,44.36C35.765,44.114 34.912,43.747 34.425,43.26C33.939,42.773 33.695,42.102 33.695,41.244C33.695,40.62 33.811,40.057 34.044,39.556C34.276,39.054 34.61,38.63 35.046,38.281C35.482,37.932 36.009,37.663 36.626,37.475C37.244,37.286 37.93,37.191 38.685,37.191C39.92,37.191 41.119,37.431 42.281,37.91L40.952,40.482Z" style="fill-rule:nonzero;"/>\n            </g>\n        </g>\n    </g>\n</svg>\n'),l.addCustomPluginIcon("es.upv.paella.captionsSelectorPlugin","captionsIcon",'<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg width="100%" height="100%" viewBox="0 0 64 64" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;">\n    <g id="Mesa-de-trabajo1" serif:id="Mesa de trabajo1" transform="matrix(0.125,0,0,0.125,0,0)">\n        <rect x="0" y="0" width="512" height="512" style="fill:none;"/>\n        <clipPath id="_clip1">\n            <rect x="0" y="0" width="512" height="512"/>\n        </clipPath>\n        <g clip-path="url(#_clip1)">\n            <g id="captionsIcon" transform="matrix(8,0,0,8,-37.4035,-9.20672)">\n                <g transform="matrix(1,0,0,1,-0.77175,0)">\n                    <path d="M35.14,26.15C35.139,26.606 34.89,27.026 34.489,27.244C34.089,27.462 33.601,27.443 33.218,27.196C32.106,26.42 30.827,26.052 29.406,26.052C28.404,26.052 27.477,26.234 26.624,26.598C25.771,26.962 25.037,27.457 24.422,28.082C23.808,28.708 23.325,29.453 22.972,30.318C22.619,31.183 22.443,32.116 22.443,33.117C22.443,34.141 22.619,35.085 22.972,35.95C23.325,36.814 23.814,37.565 24.44,38.202C25.065,38.839 25.799,39.34 26.641,39.704C27.483,40.068 28.393,40.25 29.371,40.25C30.757,40.25 32.051,39.868 33.255,39.105C33.628,38.873 34.097,38.861 34.48,39.074C34.864,39.287 35.102,39.691 35.102,40.13C35.14,41.738 35.14,43.684 35.14,44.715C35.14,45.148 34.866,45.534 34.457,45.677C34.457,45.677 34.457,45.677 34.457,45.677C33.433,46.041 32.477,46.308 31.59,46.479C30.703,46.65 29.826,46.735 28.962,46.735C27.187,46.735 25.486,46.399 23.859,45.728C22.232,45.057 20.799,44.113 19.559,42.895C18.319,41.678 17.323,40.233 16.572,38.561C15.821,36.888 15.446,35.062 15.446,33.083C15.446,31.103 15.816,29.288 16.555,27.639C17.295,25.989 18.285,24.567 19.525,23.372C20.765,22.178 22.204,21.245 23.842,20.574C25.48,19.902 27.198,19.567 28.996,19.567C30.02,19.567 31.027,19.675 32.017,19.891C32.591,20.017 33.184,20.182 33.793,20.389C34.596,20.658 35.136,21.409 35.136,22.256C35.14,23.32 35.14,24.837 35.14,26.15Z" style="fill-rule:nonzero;"/>\n                </g>\n                <g transform="matrix(1,0,0,1,-0.77175,0)">\n                    <path d="M57.905,26.15C57.905,26.606 57.655,27.026 57.255,27.244C56.854,27.462 56.367,27.443 55.983,27.196C54.871,26.42 53.592,26.052 52.171,26.052C51.17,26.052 50.242,26.234 49.389,26.598C48.536,26.962 47.802,27.457 47.188,28.082C46.573,28.708 46.09,29.453 45.737,30.318C45.384,31.183 45.208,32.116 45.208,33.117C45.208,34.141 45.384,35.085 45.737,35.95C46.09,36.814 46.579,37.565 47.205,38.202C47.831,38.839 48.564,39.34 49.406,39.704C50.248,40.068 51.158,40.25 52.137,40.25C53.522,40.25 54.817,39.868 56.021,39.105C56.393,38.873 56.862,38.861 57.246,39.074C57.629,39.287 57.867,39.691 57.867,40.13C57.905,41.738 57.905,43.684 57.905,44.715C57.905,45.148 57.631,45.534 57.222,45.677C57.222,45.677 57.222,45.677 57.222,45.677C56.198,46.041 55.243,46.308 54.355,46.479C53.468,46.65 52.592,46.735 51.727,46.735C49.952,46.735 48.251,46.399 46.625,45.728C44.998,45.057 43.564,44.113 42.324,42.895C41.084,41.678 40.089,40.233 39.338,38.561C38.587,36.888 38.211,35.062 38.211,33.083C38.211,31.103 38.581,29.288 39.321,27.639C40.06,25.989 41.05,24.567 42.29,23.372C43.53,22.178 44.969,21.245 46.608,20.574C48.246,19.902 49.964,19.567 51.761,19.567C52.785,19.567 53.792,19.675 54.782,19.891C55.357,20.017 55.949,20.182 56.558,20.389C57.361,20.658 57.902,21.409 57.902,22.256C57.905,23.32 57.905,24.837 57.905,26.15Z" style="fill-rule:nonzero;"/>\n                </g>\n                <g transform="matrix(0.125,0,0,0.125,4.67543,1.15084)">\n                    <path d="M512,106.13C512,81.659 492.163,61.822 467.692,61.822C370.831,61.822 141.169,61.822 44.308,61.822C19.837,61.822 0,81.659 0,106.13C-0,180.868 -0,331.132 -0,405.87C0,430.341 19.837,450.178 44.308,450.178C141.169,450.178 370.831,450.178 467.692,450.178C492.163,450.178 512,430.341 512,405.87C512,331.132 512,180.868 512,106.13ZM473.643,116.375C473.643,111.366 471.653,106.562 468.111,103.02C464.569,99.478 459.764,97.488 454.755,97.488C383.15,97.488 128.85,97.488 57.245,97.488C52.236,97.488 47.431,99.478 43.889,103.02C40.347,106.562 38.357,111.366 38.357,116.375C38.357,172.732 38.357,339.268 38.357,395.625C38.357,400.634 40.347,405.438 43.889,408.98C47.431,412.522 52.236,414.512 57.245,414.512C128.85,414.512 383.15,414.512 454.755,414.512C459.764,414.512 464.569,412.522 468.111,408.98C471.653,405.438 473.643,400.634 473.643,395.625C473.643,339.268 473.643,172.732 473.643,116.375Z"/>\n                </g>\n            </g>\n        </g>\n    </g>\n</svg>\n'),l.addCustomPluginIcon("es.upv.paella.downloadsPlugin","downloadIcon",'<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg width="100%" height="100%" viewBox="0 0 64 64" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;">\n    <g id="Mesa-de-trabajo1" serif:id="Mesa de trabajo1" transform="matrix(0.125,0,0,0.125,0,0)">\n        <rect x="0" y="0" width="512" height="512" style="fill:none;"/>\n        <path id="Downloads" d="M167.094,103.981L135.858,103.981C118.445,103.981 101.746,110.898 89.433,123.21C77.121,135.523 70.204,152.222 70.204,169.635L70.204,411.669C70.204,429.082 77.121,445.781 89.433,458.094C101.746,470.406 118.445,477.323 135.858,477.323L377.892,477.323C395.305,477.323 412.004,470.406 424.316,458.094C436.629,445.781 443.546,429.082 443.546,411.669L443.546,169.635C443.546,152.222 436.629,135.523 424.316,123.21C412.004,110.898 395.305,103.981 377.892,103.981L346.655,103.981L346.655,143.049L379.716,143.049C386.284,143.049 392.582,145.658 397.225,150.302C401.869,154.945 404.478,161.243 404.478,167.81L404.478,413.494C404.478,420.061 401.869,426.359 397.225,431.002C392.582,435.646 386.284,438.255 379.716,438.255L134.033,438.255C127.466,438.255 121.168,435.646 116.524,431.002C111.881,426.359 109.272,420.061 109.272,413.494L109.272,167.81C109.272,161.243 111.881,154.945 116.524,150.302C121.168,145.658 127.466,143.049 134.033,143.049L167.094,143.049L167.094,103.981ZM309.071,255.457L351.272,255.457C356.584,255.457 361.44,258.458 363.816,263.209C366.192,267.961 365.679,273.647 362.492,277.896C336.919,311.994 288.958,375.944 267.22,404.929C264.571,408.461 260.415,410.539 256,410.539C251.585,410.539 247.429,408.461 244.78,404.929C223.042,375.944 175.081,311.994 149.508,277.896C146.321,273.647 145.808,267.961 148.184,263.209C150.56,258.458 155.416,255.457 160.728,255.457C180.3,255.457 202.929,255.457 202.929,255.457L202.929,50.981C202.929,43.236 209.208,36.956 216.954,36.956C237.282,36.956 274.718,36.956 295.046,36.956C302.792,36.956 309.071,43.236 309.071,50.981C309.071,99.235 309.071,255.457 309.071,255.457Z"/>\n    </g>\n</svg>\n'),l.addCustomPluginIcon("es.upv.paella.findCaptionsPlugin","findCaptionsIcon",'<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg width="100%" height="100%" viewBox="0 0 64 64" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;">\n    <g id="Mesa-de-trabajo1" serif:id="Mesa de trabajo1" transform="matrix(0.125,0,0,0.125,0,0)">\n        <rect x="0" y="0" width="512" height="512" style="fill:none;"/>\n        <clipPath id="_clip1">\n            <rect x="0" y="0" width="512" height="512"/>\n        </clipPath>\n        <g clip-path="url(#_clip1)">\n            <g id="searchCaptionsIcon" transform="matrix(5.31378,0,0,5.31378,-24.8442,14.6432)">\n                <path d="M63.881,36.046C65.618,36.44 67.236,37.145 68.675,38.1L68.675,49.085C68.675,53.69 64.942,57.423 60.337,57.423L48.01,57.423C47.222,56.062 46.653,54.561 46.354,52.965L60.326,52.965C61.269,52.965 62.173,52.59 62.84,51.924C63.506,51.257 63.881,50.353 63.881,49.41L63.881,36.046ZM32.476,57.423L13.014,57.423C8.409,57.423 4.675,53.69 4.675,49.085C4.675,40.173 4.675,26.128 4.675,17.217C4.675,12.612 8.409,8.879 13.014,8.879C25.283,8.879 48.068,8.879 60.337,8.879C64.942,8.879 68.675,12.612 68.675,17.217L68.675,22.274L66.496,21.713L63.881,21.313L63.881,16.891C63.881,15.949 63.506,15.044 62.84,14.378C62.173,13.711 61.269,13.337 60.326,13.337C50.471,13.337 22.88,13.337 13.025,13.337C12.082,13.337 11.178,13.711 10.511,14.378C9.845,15.044 9.47,15.949 9.47,16.891C9.47,24.417 9.47,41.885 9.47,49.41C9.47,50.353 9.845,51.257 10.511,51.924C11.178,52.59 12.082,52.965 13.025,52.965L31.677,52.965C31.819,54.491 32.08,55.983 32.476,57.423ZM31.843,46.235L30.818,46.479C29.931,46.65 29.055,46.735 28.19,46.735C26.415,46.735 24.714,46.399 23.088,45.728C21.461,45.057 20.027,44.113 18.787,42.895C17.547,41.678 16.551,40.233 15.801,38.561C15.05,36.888 14.674,35.062 14.674,33.083C14.674,31.103 15.044,29.288 15.784,27.639C16.523,25.989 17.513,24.567 18.753,23.372C19.993,22.178 21.432,21.245 23.07,20.574C24.709,19.902 26.427,19.567 28.224,19.567C29.248,19.567 30.255,19.675 31.245,19.891C31.554,19.959 31.869,20.038 32.188,20.129C33.473,20.484 34.364,21.654 34.364,22.987C34.368,23.64 34.368,24.381 34.368,25.112C34.367,25.754 34.039,26.351 33.496,26.695C32.954,27.038 32.274,27.081 31.693,26.807C30.784,26.28 29.753,26.052 28.634,26.052C27.633,26.052 26.705,26.234 25.852,26.598C24.999,26.962 24.265,27.457 23.651,28.082C23.036,28.708 22.553,29.453 22.2,30.318C21.847,31.183 21.671,32.116 21.671,33.117C21.671,34.141 21.847,35.085 22.2,35.95C22.553,36.814 23.042,37.565 23.668,38.202C24.293,38.839 25.027,39.34 25.869,39.704C26.711,40.068 27.621,40.25 28.6,40.25C29.7,40.25 30.744,40.009 31.73,39.527C32.29,39.267 32.944,39.31 33.464,39.642L33.533,39.699L32.847,41.569C32.608,42.498 32.369,43.428 32.13,44.357L31.843,46.235ZM50.166,40.135L51.365,40.25C52.466,40.25 53.509,40.009 54.495,39.527C55.055,39.267 55.709,39.31 56.23,39.642C56.75,39.974 57.065,40.549 57.065,41.166C57.133,43.244 57.133,45.438 57.133,45.438L56.45,45.677C55.427,46.041 54.471,46.308 53.583,46.479C52.696,46.65 51.82,46.735 50.955,46.735C49.487,46.735 48.068,46.505 46.705,46.032C47.377,43.789 48.576,41.773 50.166,40.135ZM37.458,32.687C37.491,30.86 37.859,29.178 38.549,27.639C39.288,25.989 40.278,24.567 41.518,23.372C42.758,22.178 44.197,21.245 45.836,20.574C47.474,19.902 49.192,19.567 50.99,19.567C52.013,19.567 53.02,19.675 54.01,19.891C54.32,19.959 54.634,20.038 54.954,20.129C55.686,20.331 56.291,20.799 56.649,21.426C48.825,22.483 41.99,26.662 37.458,32.687Z"/>\n                <g id="Search" transform="matrix(1.50552,9.27848e-32,-1.8557e-32,1.50552,-8022.17,-408.877)">\n                    <path d="M5378.55,318.058C5375.82,320.091 5372.43,321.294 5368.76,321.294C5359.7,321.294 5352.35,313.952 5352.35,304.895C5352.35,295.838 5359.7,288.495 5368.76,288.495C5377.82,288.495 5385.17,295.838 5385.17,304.895C5385.17,308.808 5383.8,312.401 5381.51,315.221L5391.79,326.032C5392.57,326.853 5392.53,328.15 5391.71,328.93C5390.89,329.71 5389.59,329.676 5388.81,328.855L5378.55,318.058ZM5368.76,317.194C5361.97,317.194 5356.46,311.687 5356.46,304.895C5356.46,298.102 5361.97,292.595 5368.76,292.595C5375.56,292.595 5381.07,298.102 5381.07,304.895C5381.07,311.687 5375.56,317.194 5368.76,317.194Z"/>\n                </g>\n            </g>\n        </g>\n    </g>\n</svg>\n'),l.addCustomPluginIcon("es.upv.paella.forwardButtonPlugin","forwardIcon",'<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg width="100%" height="100%" viewBox="0 0 64 64" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;">\n    <g id="Mesa-de-trabajo1" serif:id="Mesa de trabajo1" transform="matrix(0.125,0,0,0.125,0,0)">\n        <rect x="0" y="0" width="512" height="512" style="fill:none;"/>\n        <g id="forwardIcon">\n            <g transform="matrix(-0.301682,-0.953409,-0.953409,0.301682,543.589,434.074)">\n                <path d="M355.677,210.325L313.116,244.106C310.204,246.417 306.249,246.917 302.853,245.404C299.458,243.891 297.186,240.615 296.958,236.904C294.434,195.787 288.533,99.662 286.302,63.32C286.102,60.067 287.504,56.922 290.057,54.896C292.609,52.87 295.991,52.218 299.113,53.151C334,63.575 426.276,91.145 465.746,102.938C469.308,104.002 471.982,106.958 472.686,110.609C473.389,114.259 472.004,117.997 469.092,120.308L428.325,152.665C446.893,183.621 456.937,219.293 456.937,256C456.937,366.9 366.9,456.937 256,456.937C209.979,456.937 165.585,441.149 129.919,412.741C125.631,409.157 123.047,403.936 122.798,398.352C122.55,392.769 124.66,387.338 128.613,383.387C139.797,372.203 155.034,356.966 165.942,346.53C172.858,339.614 183.818,338.865 191.611,344.775C210.215,358.269 232.726,365.668 256,365.668C316.527,365.668 365.668,316.527 365.668,256C365.668,240.079 362.205,224.514 355.677,210.325Z"/>\n            </g>\n            <g transform="matrix(8,0,0,8,160.765,20.6629)">\n                <path d="M9.072,38.76C9.188,38.775 9.286,38.782 9.366,38.782L9.573,38.782C10.11,38.782 10.546,38.622 10.88,38.303C11.215,37.983 11.382,37.569 11.382,37.061C11.382,36.567 11.225,36.167 10.913,35.862C10.601,35.557 10.198,35.405 9.704,35.405C9.181,35.405 8.759,35.579 8.44,35.927C8.12,36.276 7.96,36.726 7.96,37.279L4.016,37.279C4.118,36.421 4.332,35.659 4.659,34.99C4.986,34.322 5.404,33.759 5.912,33.302C6.421,32.844 7.016,32.495 7.699,32.256C8.382,32.016 9.137,31.896 9.965,31.896C10.779,31.896 11.516,32.009 12.177,32.234C12.838,32.459 13.404,32.779 13.877,33.193C14.349,33.607 14.712,34.108 14.966,34.696C15.22,35.285 15.347,35.942 15.347,36.668C15.347,37.453 15.199,38.096 14.901,38.597C14.603,39.098 14.178,39.53 13.626,39.893C14.469,40.155 15.126,40.623 15.598,41.299C16.07,41.974 16.306,42.806 16.306,43.794C16.306,44.607 16.146,45.348 15.827,46.017C15.507,46.685 15.061,47.259 14.487,47.738C13.913,48.217 13.23,48.588 12.438,48.849C11.647,49.111 10.779,49.242 9.834,49.242C8.571,49.242 7.43,48.995 6.413,48.501C5.396,48.007 4.583,47.222 3.973,46.147C3.697,45.668 3.511,45.189 3.417,44.709C3.323,44.23 3.275,43.743 3.275,43.249L7.503,43.249C7.532,44.019 7.757,44.604 8.178,45.003C8.6,45.403 9.166,45.603 9.878,45.603C10.633,45.603 11.185,45.399 11.534,44.992C11.883,44.586 12.057,44.084 12.057,43.489C12.057,42.777 11.846,42.24 11.425,41.876C11.004,41.513 10.503,41.332 9.922,41.332C9.776,41.332 9.638,41.342 9.508,41.364C9.377,41.386 9.232,41.411 9.072,41.441L9.072,38.76Z" style="fill-rule:nonzero;"/>\n                <path d="M22.037,40.547C22.037,41.273 22.103,41.934 22.233,42.53C22.364,43.126 22.549,43.641 22.789,44.077C23.029,44.513 23.316,44.851 23.65,45.09C23.984,45.33 24.362,45.45 24.783,45.45C25.19,45.45 25.564,45.33 25.905,45.09C26.246,44.851 26.533,44.513 26.766,44.077C26.998,43.641 27.18,43.126 27.311,42.53C27.441,41.934 27.507,41.273 27.507,40.547C27.507,39.835 27.441,39.178 27.311,38.575C27.18,37.972 26.998,37.456 26.766,37.028C26.533,36.599 26.246,36.265 25.905,36.026C25.564,35.786 25.19,35.666 24.783,35.666C24.362,35.666 23.984,35.786 23.65,36.026C23.316,36.265 23.029,36.599 22.789,37.028C22.549,37.456 22.364,37.972 22.233,38.575C22.103,39.178 22.037,39.835 22.037,40.547ZM17.81,40.547C17.81,39.24 17.981,38.052 18.322,36.984C18.663,35.917 19.143,35.005 19.76,34.25C20.378,33.494 21.111,32.909 21.961,32.495C22.811,32.081 23.751,31.874 24.783,31.874C25.8,31.874 26.737,32.081 27.594,32.495C28.451,32.909 29.185,33.494 29.795,34.25C30.405,35.005 30.881,35.917 31.222,36.984C31.563,38.052 31.734,39.24 31.734,40.547C31.734,41.855 31.563,43.042 31.222,44.11C30.881,45.178 30.405,46.093 29.795,46.856C29.185,47.618 28.451,48.207 27.594,48.621C26.737,49.035 25.8,49.242 24.783,49.242C23.751,49.242 22.811,49.035 21.961,48.621C21.111,48.207 20.378,47.618 19.76,46.856C19.143,46.093 18.663,45.178 18.322,44.11C17.981,43.042 17.81,41.855 17.81,40.547Z" style="fill-rule:nonzero;"/>\n                <path d="M40.952,40.482C40.225,40.104 39.513,39.915 38.816,39.915C38.453,39.915 38.159,39.988 37.934,40.133C37.708,40.278 37.596,40.474 37.596,40.721C37.596,40.852 37.614,40.958 37.65,41.037C37.687,41.117 37.767,41.194 37.89,41.266C38.013,41.339 38.195,41.404 38.435,41.462C38.674,41.52 38.99,41.593 39.383,41.68C40.472,41.898 41.286,42.287 41.823,42.846C42.361,43.405 42.629,44.121 42.629,44.992C42.629,45.646 42.499,46.234 42.237,46.757C41.976,47.28 41.613,47.72 41.148,48.076C40.683,48.432 40.124,48.708 39.47,48.904C38.816,49.1 38.097,49.198 37.313,49.198C35.802,49.198 34.313,48.769 32.845,47.912L34.284,45.123C35.388,45.879 36.434,46.256 37.421,46.256C37.785,46.256 38.082,46.176 38.315,46.017C38.547,45.857 38.664,45.653 38.664,45.406C38.664,45.261 38.645,45.141 38.609,45.047C38.573,44.952 38.496,44.865 38.38,44.785C38.264,44.706 38.093,44.633 37.868,44.568C37.643,44.502 37.349,44.433 36.986,44.36C35.765,44.114 34.912,43.747 34.425,43.26C33.939,42.773 33.695,42.102 33.695,41.244C33.695,40.62 33.811,40.057 34.044,39.556C34.276,39.054 34.61,38.63 35.046,38.281C35.482,37.932 36.009,37.663 36.626,37.475C37.244,37.286 37.93,37.191 38.685,37.191C39.92,37.191 41.119,37.431 42.281,37.91L40.952,40.482Z" style="fill-rule:nonzero;"/>\n            </g>\n        </g>\n    </g>\n</svg>\n'),l.addCustomPluginIcon("es.upv.paella.fullscreenButton","fullscreenIcon",'<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg width="100%" height="100%" viewBox="0 0 64 64" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;">\n    <g id="Mesa-de-trabajo1" serif:id="Mesa de trabajo1" transform="matrix(0.125,0,0,0.125,0,0)">\n        <rect x="0" y="0" width="512" height="512" style="fill:none;"/>\n        <clipPath id="_clip1">\n            <rect x="0" y="0" width="512" height="512"/>\n        </clipPath>\n        <g clip-path="url(#_clip1)">\n            <path id="fullscreenIcon-2" serif:id="fullscreenIcon 2" d="M483.999,310.017L483.999,398.122C483.999,405.72 477.839,411.879 470.241,411.88L392.268,411.88L392.268,440.665L482.357,440.665C498.728,440.665 512,427.393 512,411.021L512,310.017L483.999,310.017ZM28.001,310.017L-0,310.017L0,411.021C0,427.393 13.272,440.665 29.643,440.665L119.732,440.665L119.732,411.88L41.759,411.88C34.161,411.879 28.001,405.72 28.001,398.122L28.001,310.017ZM28.001,186.292L28.001,113.878C28.001,106.28 34.161,100.121 41.759,100.12L119.732,100.12L119.732,71.335L29.643,71.335C13.272,71.335 0,84.607 -0,100.979L-0,186.292L28.001,186.292ZM392.268,100.12L470.241,100.12C477.839,100.121 483.999,106.28 483.999,113.878L483.999,186.292L512,186.292L512,100.979C512,84.607 498.728,71.335 482.357,71.335L392.268,71.335L392.268,100.12Z"/>\n        </g>\n    </g>\n</svg>\n'),l.addCustomPluginIcon("es.upv.paella.fullscreenButton","windowedIcon",'<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg width="100%" height="100%" viewBox="0 0 64 64" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;">\n    <g id="Mesa-de-trabajo1" serif:id="Mesa de trabajo1" transform="matrix(0.125,0,0,0.125,0,0)">\n        <rect x="0" y="0" width="512" height="512" style="fill:none;"/>\n        <path id="windowedIcon-2" serif:id="windowedIcon 2" d="M99.271,352.203L43.069,296L216,296L216,468.931L159.797,412.729L105.769,466.757L45.243,406.231L99.271,352.203ZM412.729,159.797L468.931,216L296,216L296,43.069L352.203,99.271L406.231,45.243L466.757,105.769L412.729,159.797Z"/>\n    </g>\n</svg>\n'),l.addCustomPluginIcon("es.upv.paella.keyboardShortcutsHelp","keyboardIcon",'<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg width="100%" height="100%" viewBox="0 0 64 64" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;">\n    <g id="Mesa-de-trabajo1" serif:id="Mesa de trabajo1" transform="matrix(0.125,0,0,0.125,0,0)">\n        <rect x="0" y="0" width="512" height="512" style="fill:none;"/>\n        <g id="keyboardIcon">\n            <path d="M512,177.811C512,134.658 476.965,99.623 433.811,99.623L78.189,99.623C35.035,99.623 0,134.658 0,177.811L0,334.189C0,377.342 35.035,412.377 78.189,412.377L433.811,412.377C476.965,412.377 512,377.342 512,334.189L512,177.811ZM487.075,183.535C487.075,151.037 460.691,124.652 428.193,124.652L83.807,124.652C51.309,124.652 24.925,151.037 24.925,183.535L24.925,328.465C24.925,360.963 51.309,387.348 83.807,387.348L428.193,387.348C460.691,387.348 487.075,360.963 487.075,328.465L487.075,183.535Z"/>\n            <g transform="matrix(0.92829,0,0,0.872244,15.5985,12.5823)">\n                <path d="M477.762,203.315C477.762,191.775 473.454,180.708 465.787,172.548C458.12,164.388 447.721,159.804 436.878,159.804C420.926,159.804 403.526,159.804 391.102,159.804C386.598,159.804 382.278,161.709 379.093,165.098C375.907,168.488 374.118,173.086 374.118,177.88C374.118,188.807 374.118,202.667 374.118,213.478C374.118,223.11 381.455,230.919 390.506,230.919C409.93,230.919 442.098,230.919 461.476,230.919C465.795,230.919 469.938,229.093 472.992,225.842C476.046,222.592 477.762,218.183 477.762,213.587C477.762,210.381 477.762,206.905 477.762,203.315ZM353.827,177.583C353.827,167.771 346.342,159.804 337.122,159.804L287.003,159.804C277.783,159.804 270.297,167.771 270.297,177.583L270.297,213.14C270.297,222.952 277.783,230.919 287.003,230.919L337.122,230.919C346.342,230.919 353.827,222.952 353.827,213.14L353.827,177.583ZM250.007,177.583C250.007,167.771 242.521,159.804 233.302,159.804L183.182,159.804C173.962,159.804 166.477,167.771 166.477,177.583L166.477,213.14C166.477,222.952 173.962,230.919 183.182,230.919L233.302,230.919C242.521,230.919 250.007,222.952 250.007,213.14L250.007,177.583ZM146.186,178.912C146.186,168.359 138.148,159.804 128.232,159.804C115.883,159.804 98.967,159.804 83.427,159.804C72.583,159.804 62.184,164.388 54.517,172.548C46.85,180.708 42.543,191.775 42.543,203.315C42.543,206.641 42.543,209.869 42.543,212.874C42.543,222.84 50.133,230.918 59.497,230.919C78.849,230.919 110.299,230.919 129.526,230.919C133.945,230.919 138.182,229.051 141.306,225.725C144.431,222.4 146.186,217.891 146.186,213.188C146.186,202.759 146.186,189.571 146.186,178.912Z"/>\n            </g>\n            <g transform="matrix(0.92829,0,0,0.872244,15.5985,12.5823)">\n                <path d="M351.792,345.001C351.792,335.189 344.307,327.223 335.087,327.223L184.019,327.223C174.799,327.223 167.314,335.189 167.314,345.001L167.314,380.559C167.314,390.371 174.799,398.337 184.019,398.337L335.087,398.337C344.307,398.337 351.792,390.371 351.792,380.559L351.792,345.001ZM476.68,345.515C476.68,335.556 469.094,327.483 459.737,327.483C440.435,327.483 409.078,327.483 389.777,327.483C380.419,327.483 372.834,335.556 372.834,345.515C372.834,356.179 372.834,369.641 372.834,380.305C372.834,390.264 380.419,398.337 389.777,398.337C404.625,398.337 426.608,398.337 444.749,398.337C462.384,398.337 476.68,383.122 476.68,364.354C476.68,357.846 476.68,351.273 476.68,345.515ZM146.272,345.197C146.272,335.27 138.711,327.223 129.383,327.223C110.068,327.223 78.63,327.223 59.315,327.223C49.988,327.223 42.426,335.27 42.426,345.197C42.426,350.968 42.426,357.564 42.426,364.094C42.426,382.862 56.722,398.076 74.357,398.077C92.52,398.077 114.534,398.077 129.383,398.077C138.711,398.077 146.272,390.029 146.272,380.102C146.272,369.41 146.272,355.89 146.272,345.197Z"/>\n            </g>\n            <g transform="matrix(0.92829,0,0,0.872244,15.5985,12.5342)">\n                <path d="M42.426,261.347C42.426,251.535 49.912,243.569 59.131,243.569L95.022,243.569C104.241,243.569 111.727,251.535 111.727,261.347L111.727,296.904C111.727,306.717 104.241,314.683 95.022,314.683L59.131,314.683C49.912,314.683 42.426,306.717 42.426,296.904L42.426,261.347ZM407.631,261.347C407.631,251.535 415.116,243.569 424.336,243.569L461.056,243.569C470.276,243.569 477.762,251.535 477.762,261.347L477.762,296.904C477.762,306.717 470.276,314.683 461.056,314.683L424.336,314.683C415.116,314.683 407.631,306.717 407.631,296.904L407.631,261.347ZM223.029,261.347C223.029,251.535 230.514,243.569 239.734,243.569L279.624,243.569C288.843,243.569 296.329,251.535 296.329,261.347L296.329,296.904C296.329,306.717 288.843,314.683 279.624,314.683L239.734,314.683C230.514,314.683 223.029,306.717 223.029,296.904L223.029,261.347ZM130.728,261.347C130.728,251.535 138.213,243.569 147.433,243.569L187.323,243.569C196.542,243.569 204.028,251.535 204.028,261.347L204.028,296.904C204.028,306.717 196.542,314.683 187.323,314.683L147.433,314.683C138.213,314.683 130.728,306.717 130.728,296.904L130.728,261.347ZM315.33,261.347C315.33,251.535 322.815,243.569 332.035,243.569L371.925,243.569C381.144,243.569 388.63,251.535 388.63,261.347L388.63,296.904C388.63,306.717 381.144,314.683 371.925,314.683L332.035,314.683C322.815,314.683 315.33,306.717 315.33,296.904L315.33,261.347Z"/>\n            </g>\n        </g>\n    </g>\n</svg>\n'),l.addCustomPluginIcon("es.upv.paella.layoutSelector","layoutIcon",'<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg width="100%" height="100%" viewBox="0 0 64 64" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;">\n    <g id="Mesa-de-trabajo1" serif:id="Mesa de trabajo1" transform="matrix(0.125,0,0,0.125,0,0)">\n        <rect x="0" y="0" width="512" height="512" style="fill:none;"/>\n        <clipPath id="_clip1">\n            <rect x="0" y="0" width="512" height="512"/>\n        </clipPath>\n        <g clip-path="url(#_clip1)">\n            <g id="layout" transform="matrix(1.08755,0,0,1.08232,-1.54978e-11,11.7156)">\n                <path d="M470.404,198.226C470.404,175.617 452.164,157.289 429.664,157.289C360.16,157.289 219.464,157.289 149.961,157.289C127.461,157.289 109.22,175.617 109.22,198.226C109.22,242.709 109.22,313.363 109.22,357.845C109.22,380.455 127.461,398.783 149.961,398.783C219.464,398.783 360.16,398.783 429.664,398.783C452.164,398.783 470.404,380.455 470.404,357.845C470.404,313.363 470.404,242.709 470.404,198.226ZM440.829,204.577C440.829,200.102 439.059,195.809 435.91,192.644C432.76,189.48 428.489,187.702 424.035,187.702C371.155,187.702 208.469,187.702 155.59,187.702C151.136,187.702 146.864,189.48 143.715,192.644C140.565,195.809 138.796,200.102 138.796,204.577C138.796,239.019 138.796,317.053 138.796,351.495C138.796,355.97 140.565,360.262 143.715,363.427C146.864,366.592 151.136,368.37 155.59,368.37C208.469,368.37 371.155,368.37 424.035,368.37C428.489,368.37 432.76,366.592 435.91,363.427C439.059,360.262 440.829,355.97 440.829,351.495C440.829,317.053 440.829,239.019 440.829,204.577ZM83.903,309.036L83.903,190.046C83.903,174.115 90.201,158.836 101.412,147.571C112.623,136.306 127.828,129.977 143.682,129.977L400.155,129.977L400.155,69.352C400.155,46.742 381.915,28.414 359.414,28.414C282.665,28.414 117.49,28.414 40.741,28.414C18.24,28.414 0,46.742 -0,69.352C0,122.549 0,214.901 0,268.098C0,290.708 18.24,309.036 40.741,309.036L83.903,309.036Z"/>\n            </g>\n        </g>\n    </g>\n</svg>\n'),l.addCustomPluginIcon("es.upv.paella.qualitySelector","screenIcon",nt),l.addCustomPluginIcon("es.upv.paella.audioSelector","screenIcon",nt),l.addCustomPluginIcon("es.upv.paella.frameControlButtonPlugin","photoIcon",'<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg width="100%" height="100%" viewBox="0 0 512 512" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;">\n    <rect id="Mesa-de-trabajo1" serif:id="Mesa de trabajo1" x="0" y="0" width="512" height="512" style="fill:none;"/>\n    <clipPath id="_clip1">\n        <rect id="Mesa-de-trabajo11" serif:id="Mesa de trabajo1" x="0" y="0" width="512" height="512"/>\n    </clipPath>\n    <g clip-path="url(#_clip1)">\n        <g id="slidesIcon">\n            <path d="M512,138.078C512,123.175 499.919,111.094 485.016,111.094L167.999,111.094C153.096,111.094 141.015,123.175 141.015,138.078L141.015,373.922C141.015,388.825 153.096,400.906 167.999,400.906L485.016,400.906C499.919,400.906 512,388.825 512,373.922L512,138.078ZM479.811,149.528C479.811,144.275 475.552,140.016 470.299,140.016C424.65,140.016 228.365,140.016 182.716,140.016C177.463,140.016 173.205,144.275 173.205,149.528C173.205,187.093 173.205,324.907 173.205,362.472C173.205,367.725 177.463,371.984 182.716,371.984C228.365,371.984 424.65,371.984 470.299,371.984C475.552,371.984 479.811,367.725 479.811,362.472C479.811,324.907 479.811,187.093 479.811,149.528Z"/>\n            <g transform="matrix(1,0,0,1,-70.405,3.41061e-13)">\n                <path d="M207.6,111.094L167.999,111.094C160.843,111.094 153.979,113.937 148.919,118.998C143.858,124.058 141.015,130.922 141.015,138.078L141.015,373.922C141.015,381.078 143.858,387.942 148.919,393.002C153.979,398.063 160.843,400.906 167.999,400.906L207.6,400.906C202.206,394.923 198.943,386.995 198.943,378.304L198.943,371.984L175.409,371.984C172.887,371.984 170.467,370.981 168.684,369.198C166.9,367.414 165.898,364.995 165.898,362.472C165.898,324.907 165.898,187.093 165.898,149.528C165.898,147.005 166.9,144.586 168.684,142.802C170.467,141.019 172.887,140.016 175.409,140.016L198.943,140.016L198.943,133.696C198.943,125.005 202.206,117.077 207.6,111.094Z"/>\n            </g>\n            <g transform="matrix(1,0,0,1,-141.015,-5.11591e-13)">\n                <path d="M207.6,111.094L167.999,111.094C160.843,111.094 153.979,113.937 148.919,118.998C143.858,124.058 141.015,130.922 141.015,138.078L141.015,373.922C141.015,381.078 143.858,387.942 148.919,393.002C153.979,398.063 160.843,400.906 167.999,400.906L207.6,400.906C202.206,394.923 198.943,386.995 198.943,378.304L198.943,371.984L175.409,371.984C172.887,371.984 170.467,370.981 168.684,369.198C166.9,367.414 165.898,364.995 165.898,362.472C165.898,324.907 165.898,187.093 165.898,149.528C165.898,147.005 166.9,144.586 168.684,142.802C170.467,141.019 172.887,140.016 175.409,140.016L198.943,140.016L198.943,133.696C198.943,125.005 202.206,117.077 207.6,111.094Z"/>\n            </g>\n        </g>\n    </g>\n</svg>\n'),l.addCustomPluginIcon("es.upv.paella.volumeButtonPlugin","volumeHighIcon",'<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg width="100%" height="100%" viewBox="0 0 64 64" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;">\n    <g id="Mesa-de-trabajo1" serif:id="Mesa de trabajo1" transform="matrix(0.125,0,0,0.125,0,0)">\n        <rect x="0" y="0" width="512" height="512" style="fill:none;"/>\n        <g id="volumeHighIcon">\n            <g transform="matrix(4.89859e-16,8,-8,4.89859e-16,670.252,-65.0485)">\n                <path d="M49.251,54.277C49.251,49.739 45.572,46.06 41.034,46.06C36.496,46.06 32.817,49.739 32.817,54.277L49.251,54.277Z"/>\n            </g>\n            <g transform="matrix(1,0,0,1,28.1589,7.22343)">\n                <path d="M207.873,173.844L207.873,109.946C288.023,109.946 352.997,175.337 352.997,256C352.997,336.663 288.023,402.054 207.874,402.054L207.873,338.156C209.412,338.262 210.965,338.309 212.528,338.309C256.325,338.309 291.882,301.427 291.882,256C291.882,210.573 256.325,173.691 212.528,173.691C210.965,173.691 209.412,173.738 207.873,173.844Z"/>\n            </g>\n            <g transform="matrix(1.60452,0,0,1.60452,-97.5051,-147.534)">\n                <path d="M207.873,155.16L207.873,109.946C288.023,109.946 352.997,175.337 352.997,256C352.997,336.663 288.023,402.054 207.874,402.054L207.873,356.84L212.528,356.962C266.25,356.962 309.865,311.722 309.865,256C309.865,200.278 266.25,155.038 212.528,155.038L207.873,155.16Z"/>\n            </g>\n            <g id="loudspeaker" transform="matrix(1,0,0,1,28.1589,7.22343)">\n                <path d="M84,153.273L168.219,27.969C171.391,23.249 177.276,21.157 182.716,22.816C188.156,24.474 191.873,29.493 191.873,35.18C191.873,133.887 191.873,378.113 191.873,476.82C191.873,482.507 188.156,487.526 182.716,489.184C177.276,490.843 171.391,488.751 168.219,484.031L84,358.727L84,376.822L-3.037,376.822L-3.037,135.178L84,135.178L84,153.273Z"/>\n            </g>\n        </g>\n    </g>\n</svg>\n'),l.addCustomPluginIcon("es.upv.paella.volumeButtonPlugin","volumeLowIcon",'<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg width="100%" height="100%" viewBox="0 0 64 64" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;">\n    <g id="Mesa-de-trabajo1" serif:id="Mesa de trabajo1" transform="matrix(0.125,0,0,0.125,0,0)">\n        <rect x="0" y="0" width="512" height="512" style="fill:none;"/>\n        <g id="volumeLowIcon">\n            <g transform="matrix(4.89859e-16,8,-8,4.89859e-16,670.252,-65.0485)">\n                <path d="M49.251,54.277C49.251,49.739 45.572,46.06 41.034,46.06C36.496,46.06 32.817,49.739 32.817,54.277L49.251,54.277Z"/>\n            </g>\n            <g id="loudspeaker" transform="matrix(1,0,0,1,28.1589,7.22343)">\n                <path d="M84,153.273L168.219,27.969C171.391,23.249 177.276,21.157 182.716,22.816C188.156,24.474 191.873,29.493 191.873,35.18C191.873,133.887 191.873,378.113 191.873,476.82C191.873,482.507 188.156,487.526 182.716,489.184C177.276,490.843 171.391,488.751 168.219,484.031L84,358.727L84,376.822L-3.037,376.822L-3.037,135.178L84,135.178L84,153.273Z"/>\n            </g>\n        </g>\n    </g>\n</svg>\n'),l.addCustomPluginIcon("es.upv.paella.volumeButtonPlugin","volumeMidIcon",'<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg width="100%" height="100%" viewBox="0 0 64 64" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;">\n    <g id="Mesa-de-trabajo1" serif:id="Mesa de trabajo1" transform="matrix(0.125,0,0,0.125,0,0)">\n        <rect x="0" y="0" width="512" height="512" style="fill:none;"/>\n        <g id="volumeMidIcon">\n            <g transform="matrix(4.89859e-16,8,-8,4.89859e-16,670.252,-65.0485)">\n                <path d="M49.251,54.277C49.251,49.739 45.572,46.06 41.034,46.06C36.496,46.06 32.817,49.739 32.817,54.277L49.251,54.277Z"/>\n            </g>\n            <g transform="matrix(1,0,0,1,28.1589,7.22343)">\n                <path d="M207.873,173.844L207.873,109.946C288.023,109.946 352.997,175.337 352.997,256C352.997,336.663 288.023,402.054 207.874,402.054L207.873,338.156C209.412,338.262 210.965,338.309 212.528,338.309C256.325,338.309 291.882,301.427 291.882,256C291.882,210.573 256.325,173.691 212.528,173.691C210.965,173.691 209.412,173.738 207.873,173.844Z"/>\n            </g>\n            <g id="loudspeaker" transform="matrix(1,0,0,1,28.1589,7.22343)">\n                <path d="M84,153.273L168.219,27.969C171.391,23.249 177.276,21.157 182.716,22.816C188.156,24.474 191.873,29.493 191.873,35.18C191.873,133.887 191.873,378.113 191.873,476.82C191.873,482.507 188.156,487.526 182.716,489.184C177.276,490.843 171.391,488.751 168.219,484.031L84,358.727L84,376.822L-3.037,376.822L-3.037,135.178L84,135.178L84,153.273Z"/>\n            </g>\n        </g>\n    </g>\n</svg>\n'),l.addCustomPluginIcon("es.upv.paella.volumeButtonPlugin","volumeMuteIcon",'<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg width="100%" height="100%" viewBox="0 0 64 64" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;">\n    <g id="Mesa-de-trabajo1" serif:id="Mesa de trabajo1" transform="matrix(0.125,0,0,0.125,0,0)">\n        <rect x="0" y="0" width="512" height="512" style="fill:none;"/>\n        <g transform="matrix(1,0,0,1,28.1589,7.22343)">\n            <g id="volumeMuteIcon">\n                <path id="loudspeaker" d="M84,153.273L168.219,27.969C171.391,23.249 177.276,21.157 182.716,22.816C188.156,24.474 191.873,29.493 191.873,35.18C191.873,133.887 191.873,378.113 191.873,476.82C191.873,482.507 188.156,487.526 182.716,489.184C177.276,490.843 171.391,488.751 168.219,484.031L84,358.727L84,376.822L-3.037,376.822L-3.037,135.178L84,135.178L84,153.273Z"/>\n            </g>\n        </g>\n    </g>\n</svg>\n'),$.utils.loadStyle("./paella_player_styles.css"),c?l.load():Promise.resolve()))).then((()=>{})).catch((t=>console.error(t))),l.bindEvent($.Events.PLAY,(()=>{"function"==typeof a&&a(l)}))})),f=async()=>{F("nextVideo",""),l&&l.state===$.PlayerState.ERROR&&await l.unload(),!l||l.state!==$.PlayerState.LOADED&&l.state!=$.PlayerState.MANIFEST?l&&l.state===$.PlayerState.UNLOADED&&await l.load():(await l.unload(),await l.loadManifest())},g().$$.after_update.push(f),t.$$set=t=>{"videoId"in t&&n(1,r=t.videoId),"containerId"in t&&n(0,o=t.containerId),"onVideoIdChanged"in t&&n(3,i=t.onVideoIdChanged),"onPlay"in t&&n(4,a=t.onPlay),"config"in t&&n(5,s=t.config),"manifest"in t&&n(6,u=t.manifest),"autoplay"in t&&n(7,c=t.autoplay),"paella"in t&&n(2,l=t.paella)},[o,r,l,i,a,s,u,c,t=>{!l||l.state!==$.PlayerState.LOADING_MANIFEST&&l.state!==$.PlayerState.LOADING_PLAYER||(F("nextVideo",t),location.reload())},async(t=null)=>{t?await l.skin.loadSkin(t):await l.reload()}]}class it extends M{constructor(t){super(),N(this,t,ot,rt,i,{videoId:1,containerId:0,onVideoIdChanged:3,onPlay:4,config:5,manifest:6,autoplay:7,cancelLoad:8,reloadPlayer:9,paella:2})}get cancelLoad(){return this.$$.ctx[8]}get reloadPlayer(){return this.$$.ctx[9]}}const at=[];const st=function(e,n=t){let r;const o=new Set;function a(t){if(i(e,t)&&(e=t,r)){const t=!at.length;for(const t of o)t[1](),at.push(t,e);if(t){for(let t=0;t<at.length;t+=2)at[t][0](at[t+1]);at.length=0}}}return{set:a,update:function(t){a(t(e))},subscribe:function(i,s=t){const u=[i,s];return o.add(u),1===o.size&&(r=n(a)||t),i(e),()=>{o.delete(u),0===o.size&&(r(),r=null)}}}}([]);function ut(){return Boolean(window.dataLayer).valueOf()&&Array.isArray(window.dataLayer)}function ct(){window.dataLayer.push(arguments)}function lt(t,e,n){let{properties:r}=e,{configurations:o={}}=e,{enabled:i=!0}=e;function a(){!function(t,e,n){let r=t.length;function o(){r=--r,r<1&&n()}if(e())return n();for(const{type:e,url:n,options:r={async:!0,defer:!0}}of t){const t="script"===e,i=document.createElement(t?"script":"link");t?(i.src=n,i.async=r.async,i.defer=r.defer):(i.rel="stylesheet",i.href=n),i.onload=o,document.body.appendChild(i)}}([{type:"script",url:`//www.googletagmanager.com/gtag/js?id=${r[0]}`}],ut,s)}function s(){return window.dataLayer=window.dataLayer||[],ct("js",new Date),r.forEach((t=>{ct("config",t,o[t]||{})})),st.subscribe((t=>{let e=t.length&&t.shift();for(;e;){const{type:n,event:r,data:o}=e;ct(n,r,o),e=t.shift()}}))}return m((()=>{i&&a()})),t.$$set=t=>{"properties"in t&&n(0,r=t.properties),"configurations"in t&&n(1,o=t.configurations),"enabled"in t&&n(2,i=t.enabled)},[r,o,i,a]}class ft extends M{constructor(t){super(),N(this,t,lt,null,i,{properties:0,configurations:1,enabled:2,init:3})}get init(){return this.$$.ctx[3]}}function ht(e){let n,o,i,l,d,y,v,g,m,b,w,A;return{c(){n=c("div"),o=c("h3"),o.textContent="This website uses cookies",i=f(),l=c("p"),l.textContent="Functionality cookies are used for the proper functioning of the website, and cannot be disabled, but neither do they collect any information that is not strictly necessary for the proper functioning of the website.",d=f(),y=c("p"),y.textContent="Statistical cookies help website owners understand how visitors interact with websites by gathering and providing information in an anonymous form. You can choose whether to enable or disable statistical cookies.",v=f(),g=c("button"),g.textContent="Accept statistical cookies",m=f(),b=c("button"),b.textContent="Deny statistical cookies",p(n,"class","rgpd-message svelte-fyvc46")},m(t,r){s(t,n,r),a(n,o),a(n,i),a(n,l),a(n,d),a(n,y),a(n,v),a(n,g),a(n,m),a(n,b),w||(A=[h(g,"click",e[2]),h(b,"click",e[3])],w=!0)},p:t,d(t){t&&u(n),w=!1,r(A)}}}function pt(t){let e,n,r,o,i,a;e=new ft({props:{properties:["G-WR4KH5R0SN"],enabled:!1}}),t[4](e),r=new it({props:{videoId:dt}});let c=t[1]&&ht(t);return{c(){I(e.$$.fragment),n=f(),I(r.$$.fragment),o=f(),c&&c.c(),i=l("")},m(t,u){j(e,t,u),s(t,n,u),j(r,t,u),s(t,o,u),c&&c.m(t,u),s(t,i,u),a=!0},p(t,[n]){e.$set({}),t[1]?c?c.p(t,n):(c=ht(t),c.c(),c.m(i.parentNode,i)):c&&(c.d(1),c=null)},i(t){a||(O(e.$$.fragment,t),O(r.$$.fragment,t),a=!0)},o(t){R(e.$$.fragment,t),R(r.$$.fragment,t),a=!1},d(a){t[4](null),D(e,a),a&&u(n),D(r,a),a&&u(o),c&&c.d(a),a&&u(i)}}}let dt=null;function yt(t,e,n){let r=null,o=!0;return m((()=>{const t=U("enable-analytics");""===t?n(1,o=!0):"true"===t?(r.init(),n(1,o=!1)):"false"===t&&n(1,o=!1)})),[r,o,function(){F("enable-analytics","true"),r.init(),n(1,o=!1)},function(){F("enable-analytics","false"),n(1,o=!1)},function(t){w[t?"unshift":"push"]((()=>{r=t,n(0,r)}))}]}return new class extends M{constructor(t){super(),N(this,t,yt,pt,i,{})}}({target:document.body})}();
//# sourceMappingURL=player-standalone.js.map
