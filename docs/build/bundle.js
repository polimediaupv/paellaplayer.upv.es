var app=function(){"use strict";function e(){}function t(e,t){for(const n in t)e[n]=t[n];return e}function n(e){return e()}function r(){return Object.create(null)}function i(e){e.forEach(n)}function o(e){return"function"==typeof e}function a(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}let s,u;function l(e,t){return s||(s=document.createElement("a")),s.href=t,e===s.href}function c(e,t,n,r){if(e){const i=f(e,t,n,r);return e[0](i)}}function f(e,n,r,i){return e[1]&&i?t(r.ctx.slice(),e[1](i(n))):r.ctx}function p(e,t,n,r){if(e[2]&&r){const i=e[2](r(n));if(void 0===t.dirty)return i;if("object"==typeof i){const e=[],n=Math.max(t.dirty.length,i.length);for(let r=0;r<n;r+=1)e[r]=t.dirty[r]|i[r];return e}return t.dirty|i}return t.dirty}function d(e,t,n,r,i,o){if(i){const a=f(t,n,r,o);e.p(a,i)}}function h(e){if(e.ctx.length>32){const t=[],n=e.ctx.length/32;for(let e=0;e<n;e++)t[e]=-1;return t}return-1}function g(e,t){const n={};t=new Set(t);for(const r in e)t.has(r)||"$"===r[0]||(n[r]=e[r]);return n}function m(e){return null==e?"":e}function v(e,t){e.appendChild(t)}function y(e,t,n){e.insertBefore(t,n||null)}function b(e){e.parentNode.removeChild(e)}function w(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function A(e){return document.createElement(e)}function _(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function k(e){return document.createTextNode(e)}function x(){return k(" ")}function E(){return k("")}function C(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function T(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function S(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}class R{constructor(){this.e=this.n=null}c(e){this.h(e)}m(e,t,n=null){this.e||(this.e=A(t.nodeName),this.t=t,this.c(e)),this.i(n)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.childNodes)}i(e){for(let t=0;t<this.n.length;t+=1)y(this.t,this.n[t],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(b)}}function L(e){u=e}function P(){if(!u)throw new Error("Function called outside component initialization");return u}function O(e){P().$$.on_mount.push(e)}function I(e){P().$$.after_update.push(e)}function D(){const e=P();return(t,n)=>{const r=e.$$.callbacks[t];if(r){const i=function(e,t,n=!1){const r=document.createEvent("CustomEvent");return r.initCustomEvent(e,n,!1,t),r}(t,n);r.slice().forEach((t=>{t.call(e,i)}))}}}function B(e,t){const n=e.$$.callbacks[t.type];n&&n.slice().forEach((e=>e.call(this,t)))}const j=[],M=[],F=[],N=[],U=Promise.resolve();let $=!1;function H(){$||($=!0,U.then(K))}function G(e){F.push(e)}const z=new Set;let V=0;function K(){const e=u;do{for(;V<j.length;){const e=j[V];V++,L(e),Z(e.$$)}for(L(null),j.length=0,V=0;M.length;)M.pop()();for(let e=0;e<F.length;e+=1){const t=F[e];z.has(t)||(z.add(t),t())}F.length=0}while(j.length);for(;N.length;)N.pop()();$=!1,z.clear(),L(e)}function Z(e){if(null!==e.fragment){e.update(),i(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(G)}}const W=new Set;let Y;function q(){Y={r:0,c:[],p:Y}}function X(){Y.r||i(Y.c),Y=Y.p}function Q(e,t){e&&e.i&&(W.delete(e),e.i(t))}function J(e,t,n,r){if(e&&e.o){if(W.has(e))return;W.add(e),Y.c.push((()=>{W.delete(e),r&&(n&&e.d(1),r())})),e.o(t)}}function ee(e,t){e.d(1),t.delete(e.key)}function te(e,t){const n={},r={},i={$$scope:1};let o=e.length;for(;o--;){const a=e[o],s=t[o];if(s){for(const e in a)e in s||(r[e]=1);for(const e in s)i[e]||(n[e]=s[e],i[e]=1);e[o]=s}else for(const e in a)i[e]=1}for(const e in r)e in n||(n[e]=void 0);return n}function ne(e){return"object"==typeof e&&null!==e?e:{}}function re(e){e&&e.c()}function ie(e,t,r,a){const{fragment:s,on_mount:u,on_destroy:l,after_update:c}=e.$$;s&&s.m(t,r),a||G((()=>{const t=u.map(n).filter(o);l?l.push(...t):i(t),e.$$.on_mount=[]})),c.forEach(G)}function oe(e,t){const n=e.$$;null!==n.fragment&&(i(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function ae(t,n,o,a,s,l,c,f=[-1]){const p=u;L(t);const d=t.$$={fragment:null,ctx:null,props:l,update:e,not_equal:s,bound:r(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(n.context||(p?p.$$.context:[])),callbacks:r(),dirty:f,skip_bound:!1,root:n.target||p.$$.root};c&&c(d.root);let h=!1;if(d.ctx=o?o(t,n.props||{},((e,n,...r)=>{const i=r.length?r[0]:n;return d.ctx&&s(d.ctx[e],d.ctx[e]=i)&&(!d.skip_bound&&d.bound[e]&&d.bound[e](i),h&&function(e,t){-1===e.$$.dirty[0]&&(j.push(e),H(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}(t,e)),n})):[],d.update(),h=!0,i(d.before_update),d.fragment=!!a&&a(d.ctx),n.target){if(n.hydrate){const e=function(e){return Array.from(e.childNodes)}(n.target);d.fragment&&d.fragment.l(e),e.forEach(b)}else d.fragment&&d.fragment.c();n.intro&&Q(t.$$.fragment),ie(t,n.target,n.anchor,n.customElement),K()}L(p)}class se{$destroy(){oe(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const ue=(e,t,n=365)=>{const r=new Date;r.setTime(r.getTime()+24*n*60*60*1e3);let i="expires="+r.toUTCString();document.cookie=e+"="+t+";"+i+";path=/"},le=e=>{let t=e+"=",n=decodeURIComponent(document.cookie).split(";");for(let e=0;e<n.length;e++){let r=n[e];for(;" "==r.charAt(0);)r=r.substring(1);if(0==r.indexOf(t))return r.substring(t.length,r.length)}return""};async function ce(e,t){const n=`packageVersion_${e}_${t}`,r=le(n);if(""!==r)return r;const i=await fetch(`https://api.github.com/repos/${e}/${t}/tags`);if(i.ok){const e=await i.json(),t=[0,0,0],r=/^(\d+)\.(\d+)\.(\d+)$/;e.forEach((e=>{const{name:n}=e,i=r.exec(n);i&&i[1]>=Number(t[0])&&i[2]>=Number(t[1])&&i[3]>=Number(t[2])&&(t[0]=Number(i[1]),t[1]=Number(i[2]),t[2]=Number(i[3]))}));const o=`${t[0]}.${t[1]}.${t[2]}`;return ue(n,o,1/24),o}return"0.0.0"}function fe(e,t,n){const r=e.slice();return r[2]=t[n],r[4]=n,r}function pe(e,t){let n,r,i,o,a,s=t[2].title+"";return{key:e,first:null,c(){n=A("li"),r=A("a"),i=k(s),a=x(),T(r,"href",o=t[2].link),T(r,"class","svelte-ocdara"),T(n,"class","svelte-ocdara"),this.first=n},m(e,t){y(e,n,t),v(n,r),v(r,i),v(n,a)},p(e,n){t=e},d(e){e&&b(n)}}}function de(t){let n,r,i,o,a,s,u,l,c,f,p,d,h,g,m,w,E,C,R,L,P,O,I,D,B,j,M,F,N,U,$,H=[],G=new Map,z=t[1];const V=e=>e[2];for(let e=0;e<z.length;e+=1){let n=fe(t,z,e),r=V(n);G.set(r,H[e]=pe(r,n))}return{c(){n=A("header"),r=A("nav"),i=A("div"),o=A("div"),o.innerHTML='<a href="#/" class="svelte-ocdara"><img src="img/logo_paella.png" alt="paella player logo" class="svelte-ocdara"/></a>',a=x(),s=A("div"),u=A("a"),u.innerHTML="Download<br/>",l=x(),c=A("div"),f=_("svg"),p=_("linearGradient"),d=_("stop"),h=_("stop"),g=_("stop"),m=_("stop"),w=_("rect"),E=_("rect"),C=_("path"),R=_("rect"),L=_("g"),P=_("text"),O=k("version"),I=_("text"),D=k("version"),B=_("text"),j=k(t[0]),M=_("text"),F=k(t[0]),N=x(),U=A("div"),$=A("ul");for(let e=0;e<H.length;e+=1)H[e].c();T(o,"class","navbar-header svelte-ocdara"),T(u,"href","#/download"),T(u,"class","linkButton svelte-ocdara"),T(u,"id","downloadPaella3"),T(d,"offset","0"),T(d,"stop-color","#fff"),T(d,"stop-opacity",".7"),T(h,"offset",".1"),T(h,"stop-color","#aaa"),T(h,"stop-opacity",".1"),T(g,"offset",".9"),T(g,"stop-opacity",".3"),T(m,"offset","1"),T(m,"stop-opacity",".5"),T(p,"id","a"),T(p,"x2","0"),T(p,"y2","100%"),T(w,"rx","4"),T(w,"width","98"),T(w,"height","18"),T(w,"fill","#555"),T(E,"rx","4"),T(E,"x","52"),T(E,"width","46"),T(E,"height","18"),T(E,"fill","#97CA00"),T(C,"fill","#97CA00"),T(C,"d","M52 0h4v18h-4z"),T(R,"rx","4"),T(R,"width","98"),T(R,"height","18"),T(R,"fill","url(#a)"),T(P,"x","27"),T(P,"y","14"),T(P,"fill","#010101"),T(P,"fill-opacity",".3"),T(I,"x","27"),T(I,"y","13"),T(B,"x","74.5"),T(B,"y","14"),T(B,"fill","#010101"),T(B,"fill-opacity",".3"),T(M,"x","74.5"),T(M,"y","13"),T(L,"fill","#fff"),T(L,"text-anchor","middle"),T(L,"font-family","DejaVu Sans,Verdana,Geneva,sans-serif"),T(L,"font-size","11"),T(f,"xmlns","http://www.w3.org/2000/svg"),T(f,"width","98"),T(f,"height","18"),function(e,t,n,r){null===n?e.style.removeProperty(t):e.style.setProperty(t,n,r?"important":"")}(c,"margin-top","3px"),T(s,"class","download-group svelte-ocdara"),T($,"class","svelte-ocdara"),T(U,"class","menu svelte-ocdara"),T(i,"class","menu-container svelte-ocdara"),T(r,"class","svelte-ocdara")},m(e,t){y(e,n,t),v(n,r),v(r,i),v(i,o),v(i,a),v(i,s),v(s,u),v(s,l),v(s,c),v(c,f),v(f,p),v(p,d),v(p,h),v(p,g),v(p,m),v(f,w),v(f,E),v(f,C),v(f,R),v(f,L),v(L,P),v(P,O),v(L,I),v(I,D),v(L,B),v(B,j),v(L,M),v(M,F),v(i,N),v(i,U),v(U,$);for(let e=0;e<H.length;e+=1)H[e].m($,null)},p(e,[t]){1&t&&S(j,e[0]),1&t&&S(F,e[0]),2&t&&(z=e[1],H=function(e,t,n,r,i,o,a,s,u,l,c,f){let p=e.length,d=o.length,h=p;const g={};for(;h--;)g[e[h].key]=h;const m=[],v=new Map,y=new Map;for(h=d;h--;){const e=f(i,o,h),s=n(e);let u=a.get(s);u?r&&u.p(e,t):(u=l(s,e),u.c()),v.set(s,m[h]=u),s in g&&y.set(s,Math.abs(h-g[s]))}const b=new Set,w=new Set;function A(e){Q(e,1),e.m(s,c),a.set(e.key,e),c=e.first,d--}for(;p&&d;){const t=m[d-1],n=e[p-1],r=t.key,i=n.key;t===n?(c=t.first,p--,d--):v.has(i)?!a.has(r)||b.has(r)?A(t):w.has(i)?p--:y.get(r)>y.get(i)?(w.add(r),A(t)):(b.add(i),p--):(u(n,a),p--)}for(;p--;){const t=e[p];v.has(t.key)||u(t,a)}for(;d;)A(m[d-1]);return m}(H,t,V,1,e,z,G,$,ee,pe,null,fe))},i:e,o:e,d(e){e&&b(n);for(let e=0;e<H.length;e+=1)H[e].d()}}}function he(e,t,n){let r="0.0.0";return O((async()=>{n(0,r=await ce("polimediaupv","paella-core"))})),[r,[{link:"#/",title:"Home"},{link:"#/features",title:"Features"},{link:"#/demos",title:"Demos"},{link:"#/about",title:"About"},{link:"#/doc/index.md",title:"Documentation"}]]}class ge extends se{constructor(e){super(),ae(this,e,he,de,a,{})}}function me(t){let n;return{c(){n=A("div"),n.innerHTML='<div class="footerText svelte-sg75r0">Supported by:</div> \n    <a href="http://www.upv.es" class="upvlogo"><img src="img/upvlogo.png" alt="upvlogo" class="sponsorLogo svelte-sg75r0"/></a>',T(n,"class","container footer svelte-sg75r0")},m(e,t){y(e,n,t)},p:e,i:e,o:e,d(e){e&&b(n)}}}class ve extends se{constructor(e){super(),ae(this,e,null,me,a,{})}}function ye(e,t,n){const r=e.slice();return r[18]=t[n],r}function be(e,t,n){const r=e.slice();return r[18]=t[n],r}function we(e,t,n){const r=e.slice();return r[10]=t[n],r}function Ae(e,t,n){const r=e.slice();return r[13]=t[n],r[15]=n,r}function _e(e,t,n){const r=e.slice();return r[16]=t[n],r[15]=n,r}function ke(e,t,n){const r=e.slice();return r[7]=t[n],r}function xe(e){let t,n,r,i;const o=[Se,Te,Ce],a=[];function s(e,t){return"table"===e[0]?0:"list"===e[0]?1:2}return t=s(e),n=a[t]=o[t](e),{c(){n.c(),r=E()},m(e,n){a[t].m(e,n),y(e,r,n),i=!0},p(e,i){let u=t;t=s(e),t===u?a[t].p(e,i):(q(),J(a[u],1,1,(()=>{a[u]=null})),X(),n=a[t],n?n.p(e,i):(n=a[t]=o[t](e),n.c()),Q(n,1),n.m(r.parentNode,r))},i(e){i||(Q(n),i=!0)},o(e){J(n),i=!1},d(e){a[t].d(e),e&&b(r)}}}function Ee(e){let t,n,r=e[1],i=[];for(let t=0;t<r.length;t+=1)i[t]=qe(ke(e,r,t));const o=e=>J(i[e],1,1,(()=>{i[e]=null}));return{c(){for(let e=0;e<i.length;e+=1)i[e].c();t=E()},m(e,r){for(let t=0;t<i.length;t+=1)i[t].m(e,r);y(e,t,r),n=!0},p(e,n){if(34&n){let a;for(r=e[1],a=0;a<r.length;a+=1){const o=ke(e,r,a);i[a]?(i[a].p(o,n),Q(i[a],1)):(i[a]=qe(o),i[a].c(),Q(i[a],1),i[a].m(t.parentNode,t))}for(q(),a=r.length;a<i.length;a+=1)o(a);X()}},i(e){if(!n){for(let e=0;e<r.length;e+=1)Q(i[e]);n=!0}},o(e){i=i.filter(Boolean);for(let e=0;e<i.length;e+=1)J(i[e]);n=!1},d(e){w(i,e),e&&b(t)}}}function Ce(e){let n,r,i;const o=[e[6]];var a=e[5][e[0]];function s(e){let n={$$slots:{default:[Pe]},$$scope:{ctx:e}};for(let e=0;e<o.length;e+=1)n=t(n,o[e]);return{props:n}}return a&&(n=new a(s(e))),{c(){n&&re(n.$$.fragment),r=E()},m(e,t){n&&ie(n,e,t),y(e,r,t),i=!0},p(e,t){const i=64&t?te(o,[ne(e[6])]):{};if(8388706&t&&(i.$$scope={dirty:t,ctx:e}),a!==(a=e[5][e[0]])){if(n){q();const e=n;J(e.$$.fragment,1,0,(()=>{oe(e,1)})),X()}a?(n=new a(s(e)),re(n.$$.fragment),Q(n.$$.fragment,1),ie(n,r.parentNode,r)):n=null}else a&&n.$set(i)},i(e){i||(n&&Q(n.$$.fragment,e),i=!0)},o(e){n&&J(n.$$.fragment,e),i=!1},d(e){e&&b(r),n&&oe(n,e)}}}function Te(e){let t,n,r,i;const o=[Ie,Oe],a=[];function s(e,t){return e[4]?0:1}return t=s(e),n=a[t]=o[t](e),{c(){n.c(),r=E()},m(e,n){a[t].m(e,n),y(e,r,n),i=!0},p(e,i){let u=t;t=s(e),t===u?a[t].p(e,i):(q(),J(a[u],1,1,(()=>{a[u]=null})),X(),n=a[t],n?n.p(e,i):(n=a[t]=o[t](e),n.c()),Q(n,1),n.m(r.parentNode,r))},i(e){i||(Q(n),i=!0)},o(e){J(n),i=!1},d(e){a[t].d(e),e&&b(r)}}}function Se(e){let t,n,r;var i=e[5].table;function o(e){return{props:{$$slots:{default:[Ye]},$$scope:{ctx:e}}}}return i&&(t=new i(o(e))),{c(){t&&re(t.$$.fragment),n=E()},m(e,i){t&&ie(t,e,i),y(e,n,i),r=!0},p(e,r){const a={};if(8388716&r&&(a.$$scope={dirty:r,ctx:e}),i!==(i=e[5].table)){if(t){q();const e=t;J(e.$$.fragment,1,0,(()=>{oe(e,1)})),X()}i?(t=new i(o(e)),re(t.$$.fragment),Q(t.$$.fragment,1),ie(t,n.parentNode,n)):t=null}else i&&t.$set(a)},i(e){r||(t&&Q(t.$$.fragment,e),r=!0)},o(e){t&&J(t.$$.fragment,e),r=!1},d(e){e&&b(n),t&&oe(t,e)}}}function Re(t){let n,r=t[6].raw+"";return{c(){n=k(r)},m(e,t){y(e,n,t)},p(e,t){64&t&&r!==(r=e[6].raw+"")&&S(n,r)},i:e,o:e,d(e){e&&b(n)}}}function Le(e){let t,n;return t=new Je({props:{tokens:e[1],renderers:e[5]}}),{c(){re(t.$$.fragment)},m(e,r){ie(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.tokens=e[1]),32&n&&(r.renderers=e[5]),t.$set(r)},i(e){n||(Q(t.$$.fragment,e),n=!0)},o(e){J(t.$$.fragment,e),n=!1},d(e){oe(t,e)}}}function Pe(e){let t,n,r,i;const o=[Le,Re],a=[];function s(e,t){return e[1]?0:1}return t=s(e),n=a[t]=o[t](e),{c(){n.c(),r=E()},m(e,n){a[t].m(e,n),y(e,r,n),i=!0},p(e,i){let u=t;t=s(e),t===u?a[t].p(e,i):(q(),J(a[u],1,1,(()=>{a[u]=null})),X(),n=a[t],n?n.p(e,i):(n=a[t]=o[t](e),n.c()),Q(n,1),n.m(r.parentNode,r))},i(e){i||(Q(n),i=!0)},o(e){J(n),i=!1},d(e){a[t].d(e),e&&b(r)}}}function Oe(e){let n,r,i;const o=[{ordered:e[4]},e[6]];var a=e[5].list;function s(e){let n={$$slots:{default:[je]},$$scope:{ctx:e}};for(let e=0;e<o.length;e+=1)n=t(n,o[e]);return{props:n}}return a&&(n=new a(s(e))),{c(){n&&re(n.$$.fragment),r=E()},m(e,t){n&&ie(n,e,t),y(e,r,t),i=!0},p(e,t){const i=80&t?te(o,[16&t&&{ordered:e[4]},64&t&&ne(e[6])]):{};if(8388704&t&&(i.$$scope={dirty:t,ctx:e}),a!==(a=e[5].list)){if(n){q();const e=n;J(e.$$.fragment,1,0,(()=>{oe(e,1)})),X()}a?(n=new a(s(e)),re(n.$$.fragment),Q(n.$$.fragment,1),ie(n,r.parentNode,r)):n=null}else a&&n.$set(i)},i(e){i||(n&&Q(n.$$.fragment,e),i=!0)},o(e){n&&J(n.$$.fragment,e),i=!1},d(e){e&&b(r),n&&oe(n,e)}}}function Ie(e){let n,r,i;const o=[{ordered:e[4]},e[6]];var a=e[5].list;function s(e){let n={$$slots:{default:[Ne]},$$scope:{ctx:e}};for(let e=0;e<o.length;e+=1)n=t(n,o[e]);return{props:n}}return a&&(n=new a(s(e))),{c(){n&&re(n.$$.fragment),r=E()},m(e,t){n&&ie(n,e,t),y(e,r,t),i=!0},p(e,t){const i=80&t?te(o,[16&t&&{ordered:e[4]},64&t&&ne(e[6])]):{};if(8388704&t&&(i.$$scope={dirty:t,ctx:e}),a!==(a=e[5].list)){if(n){q();const e=n;J(e.$$.fragment,1,0,(()=>{oe(e,1)})),X()}a?(n=new a(s(e)),re(n.$$.fragment),Q(n.$$.fragment,1),ie(n,r.parentNode,r)):n=null}else a&&n.$set(i)},i(e){i||(n&&Q(n.$$.fragment,e),i=!0)},o(e){n&&J(n.$$.fragment,e),i=!1},d(e){e&&b(r),n&&oe(n,e)}}}function De(e){let t,n,r;return t=new Je({props:{tokens:e[18].tokens,renderers:e[5]}}),{c(){re(t.$$.fragment),n=x()},m(e,i){ie(t,e,i),y(e,n,i),r=!0},p(e,n){const r={};64&n&&(r.tokens=e[18].tokens),32&n&&(r.renderers=e[5]),t.$set(r)},i(e){r||(Q(t.$$.fragment,e),r=!0)},o(e){J(t.$$.fragment,e),r=!1},d(e){oe(t,e),e&&b(n)}}}function Be(e){let n,r,i;const o=[e[18]];var a=e[5].unorderedlistitem||e[5].listitem;function s(e){let n={$$slots:{default:[De]},$$scope:{ctx:e}};for(let e=0;e<o.length;e+=1)n=t(n,o[e]);return{props:n}}return a&&(n=new a(s(e))),{c(){n&&re(n.$$.fragment),r=E()},m(e,t){n&&ie(n,e,t),y(e,r,t),i=!0},p(e,t){const i=64&t?te(o,[ne(e[18])]):{};if(8388704&t&&(i.$$scope={dirty:t,ctx:e}),a!==(a=e[5].unorderedlistitem||e[5].listitem)){if(n){q();const e=n;J(e.$$.fragment,1,0,(()=>{oe(e,1)})),X()}a?(n=new a(s(e)),re(n.$$.fragment),Q(n.$$.fragment,1),ie(n,r.parentNode,r)):n=null}else a&&n.$set(i)},i(e){i||(n&&Q(n.$$.fragment,e),i=!0)},o(e){n&&J(n.$$.fragment,e),i=!1},d(e){e&&b(r),n&&oe(n,e)}}}function je(e){let t,n,r=e[6].items,i=[];for(let t=0;t<r.length;t+=1)i[t]=Be(ye(e,r,t));const o=e=>J(i[e],1,1,(()=>{i[e]=null}));return{c(){for(let e=0;e<i.length;e+=1)i[e].c();t=E()},m(e,r){for(let t=0;t<i.length;t+=1)i[t].m(e,r);y(e,t,r),n=!0},p(e,n){if(96&n){let a;for(r=e[6].items,a=0;a<r.length;a+=1){const o=ye(e,r,a);i[a]?(i[a].p(o,n),Q(i[a],1)):(i[a]=Be(o),i[a].c(),Q(i[a],1),i[a].m(t.parentNode,t))}for(q(),a=r.length;a<i.length;a+=1)o(a);X()}},i(e){if(!n){for(let e=0;e<r.length;e+=1)Q(i[e]);n=!0}},o(e){i=i.filter(Boolean);for(let e=0;e<i.length;e+=1)J(i[e]);n=!1},d(e){w(i,e),e&&b(t)}}}function Me(e){let t,n,r;return t=new Je({props:{tokens:e[18].tokens,renderers:e[5]}}),{c(){re(t.$$.fragment),n=x()},m(e,i){ie(t,e,i),y(e,n,i),r=!0},p(e,n){const r={};64&n&&(r.tokens=e[18].tokens),32&n&&(r.renderers=e[5]),t.$set(r)},i(e){r||(Q(t.$$.fragment,e),r=!0)},o(e){J(t.$$.fragment,e),r=!1},d(e){oe(t,e),e&&b(n)}}}function Fe(e){let n,r,i;const o=[e[18]];var a=e[5].orderedlistitem||e[5].listitem;function s(e){let n={$$slots:{default:[Me]},$$scope:{ctx:e}};for(let e=0;e<o.length;e+=1)n=t(n,o[e]);return{props:n}}return a&&(n=new a(s(e))),{c(){n&&re(n.$$.fragment),r=E()},m(e,t){n&&ie(n,e,t),y(e,r,t),i=!0},p(e,t){const i=64&t?te(o,[ne(e[18])]):{};if(8388704&t&&(i.$$scope={dirty:t,ctx:e}),a!==(a=e[5].orderedlistitem||e[5].listitem)){if(n){q();const e=n;J(e.$$.fragment,1,0,(()=>{oe(e,1)})),X()}a?(n=new a(s(e)),re(n.$$.fragment),Q(n.$$.fragment,1),ie(n,r.parentNode,r)):n=null}else a&&n.$set(i)},i(e){i||(n&&Q(n.$$.fragment,e),i=!0)},o(e){n&&J(n.$$.fragment,e),i=!1},d(e){e&&b(r),n&&oe(n,e)}}}function Ne(e){let t,n,r=e[6].items,i=[];for(let t=0;t<r.length;t+=1)i[t]=Fe(be(e,r,t));const o=e=>J(i[e],1,1,(()=>{i[e]=null}));return{c(){for(let e=0;e<i.length;e+=1)i[e].c();t=E()},m(e,r){for(let t=0;t<i.length;t+=1)i[t].m(e,r);y(e,t,r),n=!0},p(e,n){if(96&n){let a;for(r=e[6].items,a=0;a<r.length;a+=1){const o=be(e,r,a);i[a]?(i[a].p(o,n),Q(i[a],1)):(i[a]=Fe(o),i[a].c(),Q(i[a],1),i[a].m(t.parentNode,t))}for(q(),a=r.length;a<i.length;a+=1)o(a);X()}},i(e){if(!n){for(let e=0;e<r.length;e+=1)Q(i[e]);n=!0}},o(e){i=i.filter(Boolean);for(let e=0;e<i.length;e+=1)J(i[e]);n=!1},d(e){w(i,e),e&&b(t)}}}function Ue(e){let t,n,r;return t=new Je({props:{tokens:e[16].tokens,renderers:e[5]}}),{c(){re(t.$$.fragment),n=x()},m(e,i){ie(t,e,i),y(e,n,i),r=!0},p(e,n){const r={};4&n&&(r.tokens=e[16].tokens),32&n&&(r.renderers=e[5]),t.$set(r)},i(e){r||(Q(t.$$.fragment,e),r=!0)},o(e){J(t.$$.fragment,e),r=!1},d(e){oe(t,e),e&&b(n)}}}function $e(e){let t,n,r;var i=e[5].tablecell;function o(e){return{props:{header:!0,align:e[6].align[e[15]]||"center",$$slots:{default:[Ue]},$$scope:{ctx:e}}}}return i&&(t=new i(o(e))),{c(){t&&re(t.$$.fragment),n=E()},m(e,i){t&&ie(t,e,i),y(e,n,i),r=!0},p(e,r){const a={};if(64&r&&(a.align=e[6].align[e[15]]||"center"),8388644&r&&(a.$$scope={dirty:r,ctx:e}),i!==(i=e[5].tablecell)){if(t){q();const e=t;J(e.$$.fragment,1,0,(()=>{oe(e,1)})),X()}i?(t=new i(o(e)),re(t.$$.fragment),Q(t.$$.fragment,1),ie(t,n.parentNode,n)):t=null}else i&&t.$set(a)},i(e){r||(t&&Q(t.$$.fragment,e),r=!0)},o(e){t&&J(t.$$.fragment,e),r=!1},d(e){e&&b(n),t&&oe(t,e)}}}function He(e){let t,n,r=e[2],i=[];for(let t=0;t<r.length;t+=1)i[t]=$e(_e(e,r,t));const o=e=>J(i[e],1,1,(()=>{i[e]=null}));return{c(){for(let e=0;e<i.length;e+=1)i[e].c();t=E()},m(e,r){for(let t=0;t<i.length;t+=1)i[t].m(e,r);y(e,t,r),n=!0},p(e,n){if(100&n){let a;for(r=e[2],a=0;a<r.length;a+=1){const o=_e(e,r,a);i[a]?(i[a].p(o,n),Q(i[a],1)):(i[a]=$e(o),i[a].c(),Q(i[a],1),i[a].m(t.parentNode,t))}for(q(),a=r.length;a<i.length;a+=1)o(a);X()}},i(e){if(!n){for(let e=0;e<r.length;e+=1)Q(i[e]);n=!0}},o(e){i=i.filter(Boolean);for(let e=0;e<i.length;e+=1)J(i[e]);n=!1},d(e){w(i,e),e&&b(t)}}}function Ge(e){let t,n,r;var i=e[5].tablerow;function o(e){return{props:{$$slots:{default:[He]},$$scope:{ctx:e}}}}return i&&(t=new i(o(e))),{c(){t&&re(t.$$.fragment),n=E()},m(e,i){t&&ie(t,e,i),y(e,n,i),r=!0},p(e,r){const a={};if(8388708&r&&(a.$$scope={dirty:r,ctx:e}),i!==(i=e[5].tablerow)){if(t){q();const e=t;J(e.$$.fragment,1,0,(()=>{oe(e,1)})),X()}i?(t=new i(o(e)),re(t.$$.fragment),Q(t.$$.fragment,1),ie(t,n.parentNode,n)):t=null}else i&&t.$set(a)},i(e){r||(t&&Q(t.$$.fragment,e),r=!0)},o(e){t&&J(t.$$.fragment,e),r=!1},d(e){e&&b(n),t&&oe(t,e)}}}function ze(e){let t,n;return t=new Je({props:{tokens:e[13].tokens,renderers:e[5]}}),{c(){re(t.$$.fragment)},m(e,r){ie(t,e,r),n=!0},p(e,n){const r={};8&n&&(r.tokens=e[13].tokens),32&n&&(r.renderers=e[5]),t.$set(r)},i(e){n||(Q(t.$$.fragment,e),n=!0)},o(e){J(t.$$.fragment,e),n=!1},d(e){oe(t,e)}}}function Ve(e){let t,n,r;var i=e[5].tablecell;function o(e){return{props:{header:!1,align:e[6].align[e[15]]||"center",$$slots:{default:[ze]},$$scope:{ctx:e}}}}return i&&(t=new i(o(e))),{c(){t&&re(t.$$.fragment),n=E()},m(e,i){t&&ie(t,e,i),y(e,n,i),r=!0},p(e,r){const a={};if(64&r&&(a.align=e[6].align[e[15]]||"center"),8388648&r&&(a.$$scope={dirty:r,ctx:e}),i!==(i=e[5].tablecell)){if(t){q();const e=t;J(e.$$.fragment,1,0,(()=>{oe(e,1)})),X()}i?(t=new i(o(e)),re(t.$$.fragment),Q(t.$$.fragment,1),ie(t,n.parentNode,n)):t=null}else i&&t.$set(a)},i(e){r||(t&&Q(t.$$.fragment,e),r=!0)},o(e){t&&J(t.$$.fragment,e),r=!1},d(e){e&&b(n),t&&oe(t,e)}}}function Ke(e){let t,n,r=e[10],i=[];for(let t=0;t<r.length;t+=1)i[t]=Ve(Ae(e,r,t));const o=e=>J(i[e],1,1,(()=>{i[e]=null}));return{c(){for(let e=0;e<i.length;e+=1)i[e].c();t=x()},m(e,r){for(let t=0;t<i.length;t+=1)i[t].m(e,r);y(e,t,r),n=!0},p(e,n){if(104&n){let a;for(r=e[10],a=0;a<r.length;a+=1){const o=Ae(e,r,a);i[a]?(i[a].p(o,n),Q(i[a],1)):(i[a]=Ve(o),i[a].c(),Q(i[a],1),i[a].m(t.parentNode,t))}for(q(),a=r.length;a<i.length;a+=1)o(a);X()}},i(e){if(!n){for(let e=0;e<r.length;e+=1)Q(i[e]);n=!0}},o(e){i=i.filter(Boolean);for(let e=0;e<i.length;e+=1)J(i[e]);n=!1},d(e){w(i,e),e&&b(t)}}}function Ze(e){let t,n,r;var i=e[5].tablerow;function o(e){return{props:{$$slots:{default:[Ke]},$$scope:{ctx:e}}}}return i&&(t=new i(o(e))),{c(){t&&re(t.$$.fragment),n=E()},m(e,i){t&&ie(t,e,i),y(e,n,i),r=!0},p(e,r){const a={};if(8388712&r&&(a.$$scope={dirty:r,ctx:e}),i!==(i=e[5].tablerow)){if(t){q();const e=t;J(e.$$.fragment,1,0,(()=>{oe(e,1)})),X()}i?(t=new i(o(e)),re(t.$$.fragment),Q(t.$$.fragment,1),ie(t,n.parentNode,n)):t=null}else i&&t.$set(a)},i(e){r||(t&&Q(t.$$.fragment,e),r=!0)},o(e){t&&J(t.$$.fragment,e),r=!1},d(e){e&&b(n),t&&oe(t,e)}}}function We(e){let t,n,r=e[3],i=[];for(let t=0;t<r.length;t+=1)i[t]=Ze(we(e,r,t));const o=e=>J(i[e],1,1,(()=>{i[e]=null}));return{c(){for(let e=0;e<i.length;e+=1)i[e].c();t=E()},m(e,r){for(let t=0;t<i.length;t+=1)i[t].m(e,r);y(e,t,r),n=!0},p(e,n){if(104&n){let a;for(r=e[3],a=0;a<r.length;a+=1){const o=we(e,r,a);i[a]?(i[a].p(o,n),Q(i[a],1)):(i[a]=Ze(o),i[a].c(),Q(i[a],1),i[a].m(t.parentNode,t))}for(q(),a=r.length;a<i.length;a+=1)o(a);X()}},i(e){if(!n){for(let e=0;e<r.length;e+=1)Q(i[e]);n=!0}},o(e){i=i.filter(Boolean);for(let e=0;e<i.length;e+=1)J(i[e]);n=!1},d(e){w(i,e),e&&b(t)}}}function Ye(e){let t,n,r,i,o;var a=e[5].tablehead;function s(e){return{props:{$$slots:{default:[Ge]},$$scope:{ctx:e}}}}a&&(t=new a(s(e)));var u=e[5].tablebody;function l(e){return{props:{$$slots:{default:[We]},$$scope:{ctx:e}}}}return u&&(r=new u(l(e))),{c(){t&&re(t.$$.fragment),n=x(),r&&re(r.$$.fragment),i=E()},m(e,a){t&&ie(t,e,a),y(e,n,a),r&&ie(r,e,a),y(e,i,a),o=!0},p(e,o){const c={};if(8388708&o&&(c.$$scope={dirty:o,ctx:e}),a!==(a=e[5].tablehead)){if(t){q();const e=t;J(e.$$.fragment,1,0,(()=>{oe(e,1)})),X()}a?(t=new a(s(e)),re(t.$$.fragment),Q(t.$$.fragment,1),ie(t,n.parentNode,n)):t=null}else a&&t.$set(c);const f={};if(8388712&o&&(f.$$scope={dirty:o,ctx:e}),u!==(u=e[5].tablebody)){if(r){q();const e=r;J(e.$$.fragment,1,0,(()=>{oe(e,1)})),X()}u?(r=new u(l(e)),re(r.$$.fragment),Q(r.$$.fragment,1),ie(r,i.parentNode,i)):r=null}else u&&r.$set(f)},i(e){o||(t&&Q(t.$$.fragment,e),r&&Q(r.$$.fragment,e),o=!0)},o(e){t&&J(t.$$.fragment,e),r&&J(r.$$.fragment,e),o=!1},d(e){t&&oe(t,e),e&&b(n),e&&b(i),r&&oe(r,e)}}}function qe(e){let n,r;const i=[e[7],{renderers:e[5]}];let o={};for(let e=0;e<i.length;e+=1)o=t(o,i[e]);return n=new Je({props:o}),{c(){re(n.$$.fragment)},m(e,t){ie(n,e,t),r=!0},p(e,t){const r=34&t?te(i,[2&t&&ne(e[7]),32&t&&{renderers:e[5]}]):{};n.$set(r)},i(e){r||(Q(n.$$.fragment,e),r=!0)},o(e){J(n.$$.fragment,e),r=!1},d(e){oe(n,e)}}}function Xe(e){let t,n,r,i;const o=[Ee,xe],a=[];function s(e,t){return e[0]?e[5][e[0]]?1:-1:0}return~(t=s(e))&&(n=a[t]=o[t](e)),{c(){n&&n.c(),r=E()},m(e,n){~t&&a[t].m(e,n),y(e,r,n),i=!0},p(e,[i]){let u=t;t=s(e),t===u?~t&&a[t].p(e,i):(n&&(q(),J(a[u],1,1,(()=>{a[u]=null})),X()),~t?(n=a[t],n?n.p(e,i):(n=a[t]=o[t](e),n.c()),Q(n,1),n.m(r.parentNode,r)):n=null)},i(e){i||(Q(n),i=!0)},o(e){J(n),i=!1},d(e){~t&&a[t].d(e),e&&b(r)}}}function Qe(e,n,r){const i=["type","tokens","header","rows","ordered","renderers"];let o=g(n,i),{type:a}=n,{tokens:s}=n,{header:u}=n,{rows:l}=n,{ordered:c=!1}=n,{renderers:f}=n;return function(){const e=console.warn;console.warn=t=>{t.includes("unknown prop")||t.includes("unexpected slot")||e(t)},O((()=>{console.warn=e}))}(),e.$$set=e=>{n=t(t({},n),function(e){const t={};for(const n in e)"$"!==n[0]&&(t[n]=e[n]);return t}(e)),r(6,o=g(n,i)),"type"in e&&r(0,a=e.type),"tokens"in e&&r(1,s=e.tokens),"header"in e&&r(2,u=e.header),"rows"in e&&r(3,l=e.rows),"ordered"in e&&r(4,c=e.ordered),"renderers"in e&&r(5,f=e.renderers)},[a,s,u,l,c,f,o]}class Je extends se{constructor(e){super(),ae(this,e,Qe,Xe,a,{type:0,tokens:1,header:2,rows:3,ordered:4,renderers:5})}}let et={baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1};const tt=/[&<>"']/,nt=/[&<>"']/g,rt=/[<>"']|&(?!#?\w+;)/,it=/[<>"']|&(?!#?\w+;)/g,ot={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},at=e=>ot[e];function st(e,t){if(t){if(tt.test(e))return e.replace(nt,at)}else if(rt.test(e))return e.replace(it,at);return e}const ut=/(^|[^\[])\^/g;function lt(e,t){e=e.source||e,t=t||"";const n={replace:(t,r)=>(r=(r=r.source||r).replace(ut,"$1"),e=e.replace(t,r),n),getRegex:()=>new RegExp(e,t)};return n}const ct={exec:function(){}};function ft(e){let t,n,r=1;for(;r<arguments.length;r++)for(n in t=arguments[r],t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function pt(e,t){const n=e.replace(/\|/g,((e,t,n)=>{let r=!1,i=t;for(;--i>=0&&"\\"===n[i];)r=!r;return r?"|":" |"})).split(/ \|/);let r=0;if(n[0].trim()||n.shift(),n.length>0&&!n[n.length-1].trim()&&n.pop(),n.length>t)n.splice(t);else for(;n.length<t;)n.push("");for(;r<n.length;r++)n[r]=n[r].trim().replace(/\\\|/g,"|");return n}function dt(e,t,n){const r=e.length;if(0===r)return"";let i=0;for(;i<r;){const o=e.charAt(r-i-1);if(o!==t||n){if(o===t||!n)break;i++}else i++}return e.substr(0,r-i)}function ht(e,t){if(t<1)return"";let n="";for(;t>1;)1&t&&(n+=e),t>>=1,e+=e;return n+e}function gt(e,t,n,r){const i=t.href,o=t.title?st(t.title):null,a=e[1].replace(/\\([\[\]])/g,"$1");if("!"!==e[0].charAt(0)){r.state.inLink=!0;const e={type:"link",raw:n,href:i,title:o,text:a,tokens:r.inlineTokens(a,[])};return r.state.inLink=!1,e}return{type:"image",raw:n,href:i,title:o,text:st(a)}}class mt{constructor(e){this.options=e||et}space(e){const t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){const t=this.rules.block.code.exec(e);if(t){const e=t[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?e:dt(e,"\n")}}}fences(e){const t=this.rules.block.fences.exec(e);if(t){const e=t[0],n=function(e,t){const n=e.match(/^(\s+)(?:```)/);if(null===n)return t;const r=n[1];return t.split("\n").map((e=>{const t=e.match(/^\s+/);if(null===t)return e;const[n]=t;return n.length>=r.length?e.slice(r.length):e})).join("\n")}(e,t[3]||"");return{type:"code",raw:e,lang:t[2]?t[2].trim():t[2],text:n}}}heading(e){const t=this.rules.block.heading.exec(e);if(t){let e=t[2].trim();if(/#$/.test(e)){const t=dt(e,"#");this.options.pedantic?e=t.trim():t&&!/ $/.test(t)||(e=t.trim())}const n={type:"heading",raw:t[0],depth:t[1].length,text:e,tokens:[]};return this.lexer.inline(n.text,n.tokens),n}}hr(e){const t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:t[0]}}blockquote(e){const t=this.rules.block.blockquote.exec(e);if(t){const e=t[0].replace(/^ *> ?/gm,"");return{type:"blockquote",raw:t[0],tokens:this.lexer.blockTokens(e,[]),text:e}}}list(e){let t=this.rules.block.list.exec(e);if(t){let n,r,i,o,a,s,u,l,c,f,p,d,h=t[1].trim();const g=h.length>1,m={type:"list",raw:"",ordered:g,start:g?+h.slice(0,-1):"",loose:!1,items:[]};h=g?`\\d{1,9}\\${h.slice(-1)}`:`\\${h}`,this.options.pedantic&&(h=g?h:"[*+-]");const v=new RegExp(`^( {0,3}${h})((?: [^\\n]*)?(?:\\n|$))`);for(;e&&(d=!1,t=v.exec(e))&&!this.rules.block.hr.test(e);){if(n=t[0],e=e.substring(n.length),l=t[2].split("\n",1)[0],c=e.split("\n",1)[0],this.options.pedantic?(o=2,p=l.trimLeft()):(o=t[2].search(/[^ ]/),o=o>4?1:o,p=l.slice(o),o+=t[1].length),s=!1,!l&&/^ *$/.test(c)&&(n+=c+"\n",e=e.substring(c.length+1),d=!0),!d){const t=new RegExp(`^ {0,${Math.min(3,o-1)}}(?:[*+-]|\\d{1,9}[.)])`);for(;e&&(f=e.split("\n",1)[0],l=f,this.options.pedantic&&(l=l.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!t.test(l));){if(l.search(/[^ ]/)>=o||!l.trim())p+="\n"+l.slice(o);else{if(s)break;p+="\n"+l}s||l.trim()||(s=!0),n+=f+"\n",e=e.substring(f.length+1)}}m.loose||(u?m.loose=!0:/\n *\n *$/.test(n)&&(u=!0)),this.options.gfm&&(r=/^\[[ xX]\] /.exec(p),r&&(i="[ ] "!==r[0],p=p.replace(/^\[[ xX]\] +/,""))),m.items.push({type:"list_item",raw:n,task:!!r,checked:i,loose:!1,text:p}),m.raw+=n}m.items[m.items.length-1].raw=n.trimRight(),m.items[m.items.length-1].text=p.trimRight(),m.raw=m.raw.trimRight();const y=m.items.length;for(a=0;a<y;a++){this.lexer.state.top=!1,m.items[a].tokens=this.lexer.blockTokens(m.items[a].text,[]);const e=m.items[a].tokens.filter((e=>"space"===e.type)),t=e.every((e=>{const t=e.raw.split("");let n=0;for(const e of t)if("\n"===e&&(n+=1),n>1)return!0;return!1}));!m.loose&&e.length&&t&&(m.loose=!0,m.items[a].loose=!0)}return m}}html(e){const t=this.rules.block.html.exec(e);if(t){const e={type:"html",raw:t[0],pre:!this.options.sanitizer&&("pre"===t[1]||"script"===t[1]||"style"===t[1]),text:t[0]};return this.options.sanitize&&(e.type="paragraph",e.text=this.options.sanitizer?this.options.sanitizer(t[0]):st(t[0]),e.tokens=[],this.lexer.inline(e.text,e.tokens)),e}}def(e){const t=this.rules.block.def.exec(e);if(t){t[3]&&(t[3]=t[3].substring(1,t[3].length-1));return{type:"def",tag:t[1].toLowerCase().replace(/\s+/g," "),raw:t[0],href:t[2],title:t[3]}}}table(e){const t=this.rules.block.table.exec(e);if(t){const e={type:"table",header:pt(t[1]).map((e=>({text:e}))),align:t[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:t[3]&&t[3].trim()?t[3].replace(/\n[ \t]*$/,"").split("\n"):[]};if(e.header.length===e.align.length){e.raw=t[0];let n,r,i,o,a=e.align.length;for(n=0;n<a;n++)/^ *-+: *$/.test(e.align[n])?e.align[n]="right":/^ *:-+: *$/.test(e.align[n])?e.align[n]="center":/^ *:-+ *$/.test(e.align[n])?e.align[n]="left":e.align[n]=null;for(a=e.rows.length,n=0;n<a;n++)e.rows[n]=pt(e.rows[n],e.header.length).map((e=>({text:e})));for(a=e.header.length,r=0;r<a;r++)e.header[r].tokens=[],this.lexer.inlineTokens(e.header[r].text,e.header[r].tokens);for(a=e.rows.length,r=0;r<a;r++)for(o=e.rows[r],i=0;i<o.length;i++)o[i].tokens=[],this.lexer.inlineTokens(o[i].text,o[i].tokens);return e}}}lheading(e){const t=this.rules.block.lheading.exec(e);if(t){const e={type:"heading",raw:t[0],depth:"="===t[2].charAt(0)?1:2,text:t[1],tokens:[]};return this.lexer.inline(e.text,e.tokens),e}}paragraph(e){const t=this.rules.block.paragraph.exec(e);if(t){const e={type:"paragraph",raw:t[0],text:"\n"===t[1].charAt(t[1].length-1)?t[1].slice(0,-1):t[1],tokens:[]};return this.lexer.inline(e.text,e.tokens),e}}text(e){const t=this.rules.block.text.exec(e);if(t){const e={type:"text",raw:t[0],text:t[0],tokens:[]};return this.lexer.inline(e.text,e.tokens),e}}escape(e){const t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:st(t[1])}}tag(e){const t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&/^<a /i.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(t[0]):st(t[0]):t[0]}}link(e){const t=this.rules.inline.link.exec(e);if(t){const e=t[2].trim();if(!this.options.pedantic&&/^</.test(e)){if(!/>$/.test(e))return;const t=dt(e.slice(0,-1),"\\");if((e.length-t.length)%2==0)return}else{const e=function(e,t){if(-1===e.indexOf(t[1]))return-1;const n=e.length;let r=0,i=0;for(;i<n;i++)if("\\"===e[i])i++;else if(e[i]===t[0])r++;else if(e[i]===t[1]&&(r--,r<0))return i;return-1}(t[2],"()");if(e>-1){const n=(0===t[0].indexOf("!")?5:4)+t[1].length+e;t[2]=t[2].substring(0,e),t[0]=t[0].substring(0,n).trim(),t[3]=""}}let n=t[2],r="";if(this.options.pedantic){const e=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(n);e&&(n=e[1],r=e[3])}else r=t[3]?t[3].slice(1,-1):"";return n=n.trim(),/^</.test(n)&&(n=this.options.pedantic&&!/>$/.test(e)?n.slice(1):n.slice(1,-1)),gt(t,{href:n?n.replace(this.rules.inline._escapes,"$1"):n,title:r?r.replace(this.rules.inline._escapes,"$1"):r},t[0],this.lexer)}}reflink(e,t){let n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){let e=(n[2]||n[1]).replace(/\s+/g," ");if(e=t[e.toLowerCase()],!e||!e.href){const e=n[0].charAt(0);return{type:"text",raw:e,text:e}}return gt(n,e,n[0],this.lexer)}}emStrong(e,t,n=""){let r=this.rules.inline.emStrong.lDelim.exec(e);if(!r)return;if(r[3]&&n.match(/[\p{L}\p{N}]/u))return;const i=r[1]||r[2]||"";if(!i||i&&(""===n||this.rules.inline.punctuation.exec(n))){const n=r[0].length-1;let i,o,a=n,s=0;const u="*"===r[0][0]?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(u.lastIndex=0,t=t.slice(-1*e.length+n);null!=(r=u.exec(t));){if(i=r[1]||r[2]||r[3]||r[4]||r[5]||r[6],!i)continue;if(o=i.length,r[3]||r[4]){a+=o;continue}if((r[5]||r[6])&&n%3&&!((n+o)%3)){s+=o;continue}if(a-=o,a>0)continue;if(o=Math.min(o,o+a+s),Math.min(n,o)%2){const t=e.slice(1,n+r.index+o);return{type:"em",raw:e.slice(0,n+r.index+o+1),text:t,tokens:this.lexer.inlineTokens(t,[])}}const t=e.slice(2,n+r.index+o-1);return{type:"strong",raw:e.slice(0,n+r.index+o+1),text:t,tokens:this.lexer.inlineTokens(t,[])}}}}codespan(e){const t=this.rules.inline.code.exec(e);if(t){let e=t[2].replace(/\n/g," ");const n=/[^ ]/.test(e),r=/^ /.test(e)&&/ $/.test(e);return n&&r&&(e=e.substring(1,e.length-1)),e=st(e,!0),{type:"codespan",raw:t[0],text:e}}}br(e){const t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){const t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2],[])}}autolink(e,t){const n=this.rules.inline.autolink.exec(e);if(n){let e,r;return"@"===n[2]?(e=st(this.options.mangle?t(n[1]):n[1]),r="mailto:"+e):(e=st(n[1]),r=e),{type:"link",raw:n[0],text:e,href:r,tokens:[{type:"text",raw:e,text:e}]}}}url(e,t){let n;if(n=this.rules.inline.url.exec(e)){let e,r;if("@"===n[2])e=st(this.options.mangle?t(n[0]):n[0]),r="mailto:"+e;else{let t;do{t=n[0],n[0]=this.rules.inline._backpedal.exec(n[0])[0]}while(t!==n[0]);e=st(n[0]),r="www."===n[1]?"http://"+e:e}return{type:"link",raw:n[0],text:e,href:r,tokens:[{type:"text",raw:e,text:e}]}}}inlineText(e,t){const n=this.rules.inline.text.exec(e);if(n){let e;return e=this.lexer.state.inRawBlock?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(n[0]):st(n[0]):n[0]:st(this.options.smartypants?t(n[0]):n[0]),{type:"text",raw:n[0],text:e}}}}const vt={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)( [^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?<?([^\s>]+)>?(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:ct,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\.|[^\[\]\\])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};vt.def=lt(vt.def).replace("label",vt._label).replace("title",vt._title).getRegex(),vt.bullet=/(?:[*+-]|\d{1,9}[.)])/,vt.listItemStart=lt(/^( *)(bull) */).replace("bull",vt.bullet).getRegex(),vt.list=lt(vt.list).replace(/bull/g,vt.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+vt.def.source+")").getRegex(),vt._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",vt._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,vt.html=lt(vt.html,"i").replace("comment",vt._comment).replace("tag",vt._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),vt.paragraph=lt(vt._paragraph).replace("hr",vt.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",vt._tag).getRegex(),vt.blockquote=lt(vt.blockquote).replace("paragraph",vt.paragraph).getRegex(),vt.normal=ft({},vt),vt.gfm=ft({},vt.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),vt.gfm.table=lt(vt.gfm.table).replace("hr",vt.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",vt._tag).getRegex(),vt.gfm.paragraph=lt(vt._paragraph).replace("hr",vt.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",vt.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",vt._tag).getRegex(),vt.pedantic=ft({},vt.normal,{html:lt("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",vt._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:ct,paragraph:lt(vt.normal._paragraph).replace("hr",vt.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",vt.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});const yt={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:ct,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^[^_*]*?\_\_[^_*]*?\*[^_*]*?(?=\_\_)|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?\_[^_*]*?(?=\*\*)|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:ct,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};function bt(e){return e.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…")}function wt(e){let t,n,r="";const i=e.length;for(t=0;t<i;t++)n=e.charCodeAt(t),Math.random()>.5&&(n="x"+n.toString(16)),r+="&#"+n+";";return r}yt._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",yt.punctuation=lt(yt.punctuation).replace(/punctuation/g,yt._punctuation).getRegex(),yt.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,yt.escapedEmSt=/\\\*|\\_/g,yt._comment=lt(vt._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),yt.emStrong.lDelim=lt(yt.emStrong.lDelim).replace(/punct/g,yt._punctuation).getRegex(),yt.emStrong.rDelimAst=lt(yt.emStrong.rDelimAst,"g").replace(/punct/g,yt._punctuation).getRegex(),yt.emStrong.rDelimUnd=lt(yt.emStrong.rDelimUnd,"g").replace(/punct/g,yt._punctuation).getRegex(),yt._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,yt._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,yt._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,yt.autolink=lt(yt.autolink).replace("scheme",yt._scheme).replace("email",yt._email).getRegex(),yt._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,yt.tag=lt(yt.tag).replace("comment",yt._comment).replace("attribute",yt._attribute).getRegex(),yt._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,yt._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,yt._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,yt.link=lt(yt.link).replace("label",yt._label).replace("href",yt._href).replace("title",yt._title).getRegex(),yt.reflink=lt(yt.reflink).replace("label",yt._label).replace("ref",vt._label).getRegex(),yt.nolink=lt(yt.nolink).replace("ref",vt._label).getRegex(),yt.reflinkSearch=lt(yt.reflinkSearch,"g").replace("reflink",yt.reflink).replace("nolink",yt.nolink).getRegex(),yt.normal=ft({},yt),yt.pedantic=ft({},yt.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:lt(/^!?\[(label)\]\((.*?)\)/).replace("label",yt._label).getRegex(),reflink:lt(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",yt._label).getRegex()}),yt.gfm=ft({},yt.normal,{escape:lt(yt.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),yt.gfm.url=lt(yt.gfm.url,"i").replace("email",yt.gfm._extended_email).getRegex(),yt.breaks=ft({},yt.gfm,{br:lt(yt.br).replace("{2,}","*").getRegex(),text:lt(yt.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});class At{constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||et,this.options.tokenizer=this.options.tokenizer||new mt,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const t={block:vt.normal,inline:yt.normal};this.options.pedantic?(t.block=vt.pedantic,t.inline=yt.pedantic):this.options.gfm&&(t.block=vt.gfm,this.options.breaks?t.inline=yt.breaks:t.inline=yt.gfm),this.tokenizer.rules=t}static get rules(){return{block:vt,inline:yt}}static lex(e,t){return new At(t).lex(e)}static lexInline(e,t){return new At(t).inlineTokens(e)}lex(e){let t;for(e=e.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    "),this.blockTokens(e,this.tokens);t=this.inlineQueue.shift();)this.inlineTokens(t.src,t.tokens);return this.tokens}blockTokens(e,t=[]){let n,r,i,o;for(this.options.pedantic&&(e=e.replace(/^ +$/gm,""));e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some((r=>!!(n=r.call({lexer:this},e,t))&&(e=e.substring(n.raw.length),t.push(n),!0)))))if(n=this.tokenizer.space(e))e=e.substring(n.raw.length),1===n.raw.length&&t.length>0?t[t.length-1].raw+="\n":t.push(n);else if(n=this.tokenizer.code(e))e=e.substring(n.raw.length),r=t[t.length-1],!r||"paragraph"!==r.type&&"text"!==r.type?t.push(n):(r.raw+="\n"+n.raw,r.text+="\n"+n.text,this.inlineQueue[this.inlineQueue.length-1].src=r.text);else if(n=this.tokenizer.fences(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.heading(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.hr(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.blockquote(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.list(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.html(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.def(e))e=e.substring(n.raw.length),r=t[t.length-1],!r||"paragraph"!==r.type&&"text"!==r.type?this.tokens.links[n.tag]||(this.tokens.links[n.tag]={href:n.href,title:n.title}):(r.raw+="\n"+n.raw,r.text+="\n"+n.raw,this.inlineQueue[this.inlineQueue.length-1].src=r.text);else if(n=this.tokenizer.table(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.lheading(e))e=e.substring(n.raw.length),t.push(n);else{if(i=e,this.options.extensions&&this.options.extensions.startBlock){let t=1/0;const n=e.slice(1);let r;this.options.extensions.startBlock.forEach((function(e){r=e.call({lexer:this},n),"number"==typeof r&&r>=0&&(t=Math.min(t,r))})),t<1/0&&t>=0&&(i=e.substring(0,t+1))}if(this.state.top&&(n=this.tokenizer.paragraph(i)))r=t[t.length-1],o&&"paragraph"===r.type?(r.raw+="\n"+n.raw,r.text+="\n"+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=r.text):t.push(n),o=i.length!==e.length,e=e.substring(n.raw.length);else if(n=this.tokenizer.text(e))e=e.substring(n.raw.length),r=t[t.length-1],r&&"text"===r.type?(r.raw+="\n"+n.raw,r.text+="\n"+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=r.text):t.push(n);else if(e){const t="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(t);break}throw new Error(t)}}return this.state.top=!0,t}inline(e,t){this.inlineQueue.push({src:e,tokens:t})}inlineTokens(e,t=[]){let n,r,i,o,a,s,u=e;if(this.tokens.links){const e=Object.keys(this.tokens.links);if(e.length>0)for(;null!=(o=this.tokenizer.rules.inline.reflinkSearch.exec(u));)e.includes(o[0].slice(o[0].lastIndexOf("[")+1,-1))&&(u=u.slice(0,o.index)+"["+ht("a",o[0].length-2)+"]"+u.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(o=this.tokenizer.rules.inline.blockSkip.exec(u));)u=u.slice(0,o.index)+"["+ht("a",o[0].length-2)+"]"+u.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(o=this.tokenizer.rules.inline.escapedEmSt.exec(u));)u=u.slice(0,o.index)+"++"+u.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;e;)if(a||(s=""),a=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some((r=>!!(n=r.call({lexer:this},e,t))&&(e=e.substring(n.raw.length),t.push(n),!0)))))if(n=this.tokenizer.escape(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.tag(e))e=e.substring(n.raw.length),r=t[t.length-1],r&&"text"===n.type&&"text"===r.type?(r.raw+=n.raw,r.text+=n.text):t.push(n);else if(n=this.tokenizer.link(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.reflink(e,this.tokens.links))e=e.substring(n.raw.length),r=t[t.length-1],r&&"text"===n.type&&"text"===r.type?(r.raw+=n.raw,r.text+=n.text):t.push(n);else if(n=this.tokenizer.emStrong(e,u,s))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.codespan(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.br(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.del(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.autolink(e,wt))e=e.substring(n.raw.length),t.push(n);else if(this.state.inLink||!(n=this.tokenizer.url(e,wt))){if(i=e,this.options.extensions&&this.options.extensions.startInline){let t=1/0;const n=e.slice(1);let r;this.options.extensions.startInline.forEach((function(e){r=e.call({lexer:this},n),"number"==typeof r&&r>=0&&(t=Math.min(t,r))})),t<1/0&&t>=0&&(i=e.substring(0,t+1))}if(n=this.tokenizer.inlineText(i,bt))e=e.substring(n.raw.length),"_"!==n.raw.slice(-1)&&(s=n.raw.slice(-1)),a=!0,r=t[t.length-1],r&&"text"===r.type?(r.raw+=n.raw,r.text+=n.text):t.push(n);else if(e){const t="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(t);break}throw new Error(t)}}else e=e.substring(n.raw.length),t.push(n);return t}}class _t{constructor(){this.seen={}}serialize(e){return e.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(e,t){let n=e,r=0;if(this.seen.hasOwnProperty(n)){r=this.seen[e];do{r++,n=e+"-"+r}while(this.seen.hasOwnProperty(n))}return t||(this.seen[e]=r,this.seen[n]=0),n}slug(e,t={}){const n=this.serialize(e);return this.getNextSafeSlug(n,t.dryrun)}}const kt={};function xt(t){let n;return{c(){n=k(t[1])},m(e,t){y(e,n,t)},p(e,t){2&t&&S(n,e[1])},i:e,o:e,d(e){e&&b(n)}}}function Et(e){let t,n;const r=e[5].default,i=c(r,e,e[4],null);return{c(){t=A("h6"),i&&i.c(),T(t,"id",e[2])},m(e,r){y(e,t,r),i&&i.m(t,null),n=!0},p(e,o){i&&i.p&&(!n||16&o)&&d(i,r,e,e[4],n?p(r,e[4],o,null):h(e[4]),null),(!n||4&o)&&T(t,"id",e[2])},i(e){n||(Q(i,e),n=!0)},o(e){J(i,e),n=!1},d(e){e&&b(t),i&&i.d(e)}}}function Ct(e){let t,n;const r=e[5].default,i=c(r,e,e[4],null);return{c(){t=A("h5"),i&&i.c(),T(t,"id",e[2])},m(e,r){y(e,t,r),i&&i.m(t,null),n=!0},p(e,o){i&&i.p&&(!n||16&o)&&d(i,r,e,e[4],n?p(r,e[4],o,null):h(e[4]),null),(!n||4&o)&&T(t,"id",e[2])},i(e){n||(Q(i,e),n=!0)},o(e){J(i,e),n=!1},d(e){e&&b(t),i&&i.d(e)}}}function Tt(e){let t,n;const r=e[5].default,i=c(r,e,e[4],null);return{c(){t=A("h4"),i&&i.c(),T(t,"id",e[2])},m(e,r){y(e,t,r),i&&i.m(t,null),n=!0},p(e,o){i&&i.p&&(!n||16&o)&&d(i,r,e,e[4],n?p(r,e[4],o,null):h(e[4]),null),(!n||4&o)&&T(t,"id",e[2])},i(e){n||(Q(i,e),n=!0)},o(e){J(i,e),n=!1},d(e){e&&b(t),i&&i.d(e)}}}function St(e){let t,n;const r=e[5].default,i=c(r,e,e[4],null);return{c(){t=A("h3"),i&&i.c(),T(t,"id",e[2])},m(e,r){y(e,t,r),i&&i.m(t,null),n=!0},p(e,o){i&&i.p&&(!n||16&o)&&d(i,r,e,e[4],n?p(r,e[4],o,null):h(e[4]),null),(!n||4&o)&&T(t,"id",e[2])},i(e){n||(Q(i,e),n=!0)},o(e){J(i,e),n=!1},d(e){e&&b(t),i&&i.d(e)}}}function Rt(e){let t,n;const r=e[5].default,i=c(r,e,e[4],null);return{c(){t=A("h2"),i&&i.c(),T(t,"id",e[2])},m(e,r){y(e,t,r),i&&i.m(t,null),n=!0},p(e,o){i&&i.p&&(!n||16&o)&&d(i,r,e,e[4],n?p(r,e[4],o,null):h(e[4]),null),(!n||4&o)&&T(t,"id",e[2])},i(e){n||(Q(i,e),n=!0)},o(e){J(i,e),n=!1},d(e){e&&b(t),i&&i.d(e)}}}function Lt(e){let t,n;const r=e[5].default,i=c(r,e,e[4],null);return{c(){t=A("h1"),i&&i.c(),T(t,"id",e[2])},m(e,r){y(e,t,r),i&&i.m(t,null),n=!0},p(e,o){i&&i.p&&(!n||16&o)&&d(i,r,e,e[4],n?p(r,e[4],o,null):h(e[4]),null),(!n||4&o)&&T(t,"id",e[2])},i(e){n||(Q(i,e),n=!0)},o(e){J(i,e),n=!1},d(e){e&&b(t),i&&i.d(e)}}}function Pt(e){let t,n,r,i;const o=[Lt,Rt,St,Tt,Ct,Et,xt],a=[];function s(e,t){return 1===e[0]?0:2===e[0]?1:3===e[0]?2:4===e[0]?3:5===e[0]?4:6===e[0]?5:6}return t=s(e),n=a[t]=o[t](e),{c(){n.c(),r=E()},m(e,n){a[t].m(e,n),y(e,r,n),i=!0},p(e,[i]){let u=t;t=s(e),t===u?a[t].p(e,i):(q(),J(a[u],1,1,(()=>{a[u]=null})),X(),n=a[t],n?n.p(e,i):(n=a[t]=o[t](e),n.c()),Q(n,1),n.m(r.parentNode,r))},i(e){i||(Q(n),i=!0)},o(e){J(n),i=!1},d(e){a[t].d(e),e&&b(r)}}}function Ot(e,t,n){let r,{$$slots:i={},$$scope:o}=t,{depth:a}=t,{raw:s}=t,{text:u}=t;const{slug:l,getOptions:c}=function(e){return P().$$.context.get(e)}(kt),f=c();return e.$$set=e=>{"depth"in e&&n(0,a=e.depth),"raw"in e&&n(1,s=e.raw),"text"in e&&n(3,u=e.text),"$$scope"in e&&n(4,o=e.$$scope)},e.$$.update=()=>{8&e.$$.dirty&&n(2,r=f.headerIds?f.headerPrefix+l(u):void 0)},[a,s,r,u,o,i]}function It(e){let t,n;const r=e[1].default,i=c(r,e,e[0],null);return{c(){t=A("p"),i&&i.c()},m(e,r){y(e,t,r),i&&i.m(t,null),n=!0},p(e,[t]){i&&i.p&&(!n||1&t)&&d(i,r,e,e[0],n?p(r,e[0],t,null):h(e[0]),null)},i(e){n||(Q(i,e),n=!0)},o(e){J(i,e),n=!1},d(e){e&&b(t),i&&i.d(e)}}}function Dt(e,t,n){let{$$slots:r={},$$scope:i}=t;return e.$$set=e=>{"$$scope"in e&&n(0,i=e.$$scope)},[i,r]}function Bt(e){let t;const n=e[3].default,r=c(n,e,e[2],null);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,[i]){r&&r.p&&(!t||4&i)&&d(r,n,e,e[2],t?p(n,e[2],i,null):h(e[2]),null)},i(e){t||(Q(r,e),t=!0)},o(e){J(r,e),t=!1},d(e){r&&r.d(e)}}}function jt(e,t,n){let{$$slots:r={},$$scope:i}=t,{text:o}=t,{raw:a}=t;return e.$$set=e=>{"text"in e&&n(0,o=e.text),"raw"in e&&n(1,a=e.raw),"$$scope"in e&&n(2,i=e.$$scope)},[o,a,i,r]}function Mt(t){let n,r;return{c(){n=A("img"),l(n.src,r=t[0])||T(n,"src",r),T(n,"title",t[1]),T(n,"alt",t[2])},m(e,t){y(e,n,t)},p(e,[t]){1&t&&!l(n.src,r=e[0])&&T(n,"src",r),2&t&&T(n,"title",e[1]),4&t&&T(n,"alt",e[2])},i:e,o:e,d(e){e&&b(n)}}}function Ft(e,t,n){let{href:r=""}=t,{title:i}=t,{text:o=""}=t;return e.$$set=e=>{"href"in e&&n(0,r=e.href),"title"in e&&n(1,i=e.title),"text"in e&&n(2,o=e.text)},[r,i,o]}function Nt(e){let t,n;const r=e[3].default,i=c(r,e,e[2],null);return{c(){t=A("a"),i&&i.c(),T(t,"href",e[0]),T(t,"title",e[1])},m(e,r){y(e,t,r),i&&i.m(t,null),n=!0},p(e,[o]){i&&i.p&&(!n||4&o)&&d(i,r,e,e[2],n?p(r,e[2],o,null):h(e[2]),null),(!n||1&o)&&T(t,"href",e[0]),(!n||2&o)&&T(t,"title",e[1])},i(e){n||(Q(i,e),n=!0)},o(e){J(i,e),n=!1},d(e){e&&b(t),i&&i.d(e)}}}function Ut(e,t,n){let{$$slots:r={},$$scope:i}=t,{href:o=""}=t,{title:a}=t;return e.$$set=e=>{"href"in e&&n(0,o=e.href),"title"in e&&n(1,a=e.title),"$$scope"in e&&n(2,i=e.$$scope)},[o,a,i,r]}function $t(e){let t,n;const r=e[1].default,i=c(r,e,e[0],null);return{c(){t=A("em"),i&&i.c()},m(e,r){y(e,t,r),i&&i.m(t,null),n=!0},p(e,[t]){i&&i.p&&(!n||1&t)&&d(i,r,e,e[0],n?p(r,e[0],t,null):h(e[0]),null)},i(e){n||(Q(i,e),n=!0)},o(e){J(i,e),n=!1},d(e){e&&b(t),i&&i.d(e)}}}function Ht(e,t,n){let{$$slots:r={},$$scope:i}=t;return e.$$set=e=>{"$$scope"in e&&n(0,i=e.$$scope)},[i,r]}function Gt(e){let t,n;const r=e[1].default,i=c(r,e,e[0],null);return{c(){t=A("del"),i&&i.c()},m(e,r){y(e,t,r),i&&i.m(t,null),n=!0},p(e,[t]){i&&i.p&&(!n||1&t)&&d(i,r,e,e[0],n?p(r,e[0],t,null):h(e[0]),null)},i(e){n||(Q(i,e),n=!0)},o(e){J(i,e),n=!1},d(e){e&&b(t),i&&i.d(e)}}}function zt(e,t,n){let{$$slots:r={},$$scope:i}=t;return e.$$set=e=>{"$$scope"in e&&n(0,i=e.$$scope)},[i,r]}function Vt(t){let n,r,i=t[0].replace(/`/g,"")+"";return{c(){n=A("code"),r=k(i)},m(e,t){y(e,n,t),v(n,r)},p(e,[t]){1&t&&i!==(i=e[0].replace(/`/g,"")+"")&&S(r,i)},i:e,o:e,d(e){e&&b(n)}}}function Kt(e,t,n){let{raw:r}=t;return e.$$set=e=>{"raw"in e&&n(0,r=e.raw)},[r]}function Zt(e){let t,n;const r=e[1].default,i=c(r,e,e[0],null);return{c(){t=A("strong"),i&&i.c()},m(e,r){y(e,t,r),i&&i.m(t,null),n=!0},p(e,[t]){i&&i.p&&(!n||1&t)&&d(i,r,e,e[0],n?p(r,e[0],t,null):h(e[0]),null)},i(e){n||(Q(i,e),n=!0)},o(e){J(i,e),n=!1},d(e){e&&b(t),i&&i.d(e)}}}function Wt(e,t,n){let{$$slots:r={},$$scope:i}=t;return e.$$set=e=>{"$$scope"in e&&n(0,i=e.$$scope)},[i,r]}function Yt(e){let t,n;const r=e[1].default,i=c(r,e,e[0],null);return{c(){t=A("table"),i&&i.c()},m(e,r){y(e,t,r),i&&i.m(t,null),n=!0},p(e,[t]){i&&i.p&&(!n||1&t)&&d(i,r,e,e[0],n?p(r,e[0],t,null):h(e[0]),null)},i(e){n||(Q(i,e),n=!0)},o(e){J(i,e),n=!1},d(e){e&&b(t),i&&i.d(e)}}}function qt(e,t,n){let{$$slots:r={},$$scope:i}=t;return e.$$set=e=>{"$$scope"in e&&n(0,i=e.$$scope)},[i,r]}function Xt(e){let t,n;const r=e[1].default,i=c(r,e,e[0],null);return{c(){t=A("thead"),i&&i.c()},m(e,r){y(e,t,r),i&&i.m(t,null),n=!0},p(e,[t]){i&&i.p&&(!n||1&t)&&d(i,r,e,e[0],n?p(r,e[0],t,null):h(e[0]),null)},i(e){n||(Q(i,e),n=!0)},o(e){J(i,e),n=!1},d(e){e&&b(t),i&&i.d(e)}}}function Qt(e,t,n){let{$$slots:r={},$$scope:i}=t;return e.$$set=e=>{"$$scope"in e&&n(0,i=e.$$scope)},[i,r]}function Jt(e){let t,n;const r=e[1].default,i=c(r,e,e[0],null);return{c(){t=A("tbody"),i&&i.c()},m(e,r){y(e,t,r),i&&i.m(t,null),n=!0},p(e,[t]){i&&i.p&&(!n||1&t)&&d(i,r,e,e[0],n?p(r,e[0],t,null):h(e[0]),null)},i(e){n||(Q(i,e),n=!0)},o(e){J(i,e),n=!1},d(e){e&&b(t),i&&i.d(e)}}}function en(e,t,n){let{$$slots:r={},$$scope:i}=t;return e.$$set=e=>{"$$scope"in e&&n(0,i=e.$$scope)},[i,r]}function tn(e){let t,n;const r=e[1].default,i=c(r,e,e[0],null);return{c(){t=A("tr"),i&&i.c()},m(e,r){y(e,t,r),i&&i.m(t,null),n=!0},p(e,[t]){i&&i.p&&(!n||1&t)&&d(i,r,e,e[0],n?p(r,e[0],t,null):h(e[0]),null)},i(e){n||(Q(i,e),n=!0)},o(e){J(i,e),n=!1},d(e){e&&b(t),i&&i.d(e)}}}function nn(e,t,n){let{$$slots:r={},$$scope:i}=t;return e.$$set=e=>{"$$scope"in e&&n(0,i=e.$$scope)},[i,r]}function rn(e){let t,n;const r=e[3].default,i=c(r,e,e[2],null);return{c(){t=A("td"),i&&i.c(),T(t,"align",e[1])},m(e,r){y(e,t,r),i&&i.m(t,null),n=!0},p(e,o){i&&i.p&&(!n||4&o)&&d(i,r,e,e[2],n?p(r,e[2],o,null):h(e[2]),null),(!n||2&o)&&T(t,"align",e[1])},i(e){n||(Q(i,e),n=!0)},o(e){J(i,e),n=!1},d(e){e&&b(t),i&&i.d(e)}}}function on(e){let t,n;const r=e[3].default,i=c(r,e,e[2],null);return{c(){t=A("th"),i&&i.c(),T(t,"align",e[1])},m(e,r){y(e,t,r),i&&i.m(t,null),n=!0},p(e,o){i&&i.p&&(!n||4&o)&&d(i,r,e,e[2],n?p(r,e[2],o,null):h(e[2]),null),(!n||2&o)&&T(t,"align",e[1])},i(e){n||(Q(i,e),n=!0)},o(e){J(i,e),n=!1},d(e){e&&b(t),i&&i.d(e)}}}function an(e){let t,n,r,i;const o=[on,rn],a=[];function s(e,t){return e[0]?0:1}return t=s(e),n=a[t]=o[t](e),{c(){n.c(),r=E()},m(e,n){a[t].m(e,n),y(e,r,n),i=!0},p(e,[i]){let u=t;t=s(e),t===u?a[t].p(e,i):(q(),J(a[u],1,1,(()=>{a[u]=null})),X(),n=a[t],n?n.p(e,i):(n=a[t]=o[t](e),n.c()),Q(n,1),n.m(r.parentNode,r))},i(e){i||(Q(n),i=!0)},o(e){J(n),i=!1},d(e){a[t].d(e),e&&b(r)}}}function sn(e,t,n){let{$$slots:r={},$$scope:i}=t,{header:o}=t,{align:a}=t;return e.$$set=e=>{"header"in e&&n(0,o=e.header),"align"in e&&n(1,a=e.align),"$$scope"in e&&n(2,i=e.$$scope)},[o,a,i,r]}function un(e){let t,n;const r=e[3].default,i=c(r,e,e[2],null);return{c(){t=A("ul"),i&&i.c()},m(e,r){y(e,t,r),i&&i.m(t,null),n=!0},p(e,t){i&&i.p&&(!n||4&t)&&d(i,r,e,e[2],n?p(r,e[2],t,null):h(e[2]),null)},i(e){n||(Q(i,e),n=!0)},o(e){J(i,e),n=!1},d(e){e&&b(t),i&&i.d(e)}}}function ln(e){let t,n;const r=e[3].default,i=c(r,e,e[2],null);return{c(){t=A("ol"),i&&i.c(),T(t,"start",e[1])},m(e,r){y(e,t,r),i&&i.m(t,null),n=!0},p(e,o){i&&i.p&&(!n||4&o)&&d(i,r,e,e[2],n?p(r,e[2],o,null):h(e[2]),null),(!n||2&o)&&T(t,"start",e[1])},i(e){n||(Q(i,e),n=!0)},o(e){J(i,e),n=!1},d(e){e&&b(t),i&&i.d(e)}}}function cn(e){let t,n,r,i;const o=[ln,un],a=[];function s(e,t){return e[0]?0:1}return t=s(e),n=a[t]=o[t](e),{c(){n.c(),r=E()},m(e,n){a[t].m(e,n),y(e,r,n),i=!0},p(e,[i]){let u=t;t=s(e),t===u?a[t].p(e,i):(q(),J(a[u],1,1,(()=>{a[u]=null})),X(),n=a[t],n?n.p(e,i):(n=a[t]=o[t](e),n.c()),Q(n,1),n.m(r.parentNode,r))},i(e){i||(Q(n),i=!0)},o(e){J(n),i=!1},d(e){a[t].d(e),e&&b(r)}}}function fn(e,t,n){let{$$slots:r={},$$scope:i}=t,{ordered:o}=t,{start:a}=t;return e.$$set=e=>{"ordered"in e&&n(0,o=e.ordered),"start"in e&&n(1,a=e.start),"$$scope"in e&&n(2,i=e.$$scope)},[o,a,i,r]}function pn(e){let t,n;const r=e[1].default,i=c(r,e,e[0],null);return{c(){t=A("li"),i&&i.c()},m(e,r){y(e,t,r),i&&i.m(t,null),n=!0},p(e,[t]){i&&i.p&&(!n||1&t)&&d(i,r,e,e[0],n?p(r,e[0],t,null):h(e[0]),null)},i(e){n||(Q(i,e),n=!0)},o(e){J(i,e),n=!1},d(e){e&&b(t),i&&i.d(e)}}}function dn(e,t,n){let{$$slots:r={},$$scope:i}=t;return e.$$set=e=>{"$$scope"in e&&n(0,i=e.$$scope)},[i,r]}function hn(t){let n;return{c(){n=A("hr")},m(e,t){y(e,n,t)},p:e,i:e,o:e,d(e){e&&b(n)}}}function gn(t){let n,r;return{c(){n=new R,r=E(),n.a=r},m(e,i){n.m(t[0],e,i),y(e,r,i)},p(e,[t]){1&t&&n.p(e[0])},i:e,o:e,d(e){e&&b(r),e&&n.d()}}}function mn(e,t,n){let{text:r}=t;return e.$$set=e=>{"text"in e&&n(0,r=e.text)},[r]}function vn(e){let t,n;const r=e[1].default,i=c(r,e,e[0],null);return{c(){t=A("blockquote"),i&&i.c()},m(e,r){y(e,t,r),i&&i.m(t,null),n=!0},p(e,[t]){i&&i.p&&(!n||1&t)&&d(i,r,e,e[0],n?p(r,e[0],t,null):h(e[0]),null)},i(e){n||(Q(i,e),n=!0)},o(e){J(i,e),n=!1},d(e){e&&b(t),i&&i.d(e)}}}function yn(e,t,n){let{$$slots:r={},$$scope:i}=t;return e.$$set=e=>{"$$scope"in e&&n(0,i=e.$$scope)},[i,r]}function bn(t){let n,r,i;return{c(){n=A("pre"),r=A("code"),i=k(t[1]),T(n,"class",t[0])},m(e,t){y(e,n,t),v(n,r),v(r,i)},p(e,[t]){2&t&&S(i,e[1]),1&t&&T(n,"class",e[0])},i:e,o:e,d(e){e&&b(n)}}}function wn(e,t,n){let{lang:r}=t,{text:i}=t;return e.$$set=e=>{"lang"in e&&n(0,r=e.lang),"text"in e&&n(1,i=e.text)},[r,i]}function An(e){let t,n;const r=e[1].default,i=c(r,e,e[0],null);return{c(){t=A("br"),i&&i.c()},m(e,r){y(e,t,r),i&&i.m(e,r),n=!0},p(e,[t]){i&&i.p&&(!n||1&t)&&d(i,r,e,e[0],n?p(r,e[0],t,null):h(e[0]),null)},i(e){n||(Q(i,e),n=!0)},o(e){J(i,e),n=!1},d(e){e&&b(t),i&&i.d(e)}}}function _n(e,t,n){let{$$slots:r={},$$scope:i}=t;return e.$$set=e=>{"$$scope"in e&&n(0,i=e.$$scope)},[i,r]}const kn={heading:class extends se{constructor(e){super(),ae(this,e,Ot,Pt,a,{depth:0,raw:1,text:3})}},paragraph:class extends se{constructor(e){super(),ae(this,e,Dt,It,a,{})}},text:class extends se{constructor(e){super(),ae(this,e,jt,Bt,a,{text:0,raw:1})}},image:class extends se{constructor(e){super(),ae(this,e,Ft,Mt,a,{href:0,title:1,text:2})}},link:class extends se{constructor(e){super(),ae(this,e,Ut,Nt,a,{href:0,title:1})}},em:class extends se{constructor(e){super(),ae(this,e,Ht,$t,a,{})}},strong:class extends se{constructor(e){super(),ae(this,e,Wt,Zt,a,{})}},codespan:class extends se{constructor(e){super(),ae(this,e,Kt,Vt,a,{raw:0})}},del:class extends se{constructor(e){super(),ae(this,e,zt,Gt,a,{})}},table:class extends se{constructor(e){super(),ae(this,e,qt,Yt,a,{})}},tablehead:class extends se{constructor(e){super(),ae(this,e,Qt,Xt,a,{})}},tablebody:class extends se{constructor(e){super(),ae(this,e,en,Jt,a,{})}},tablerow:class extends se{constructor(e){super(),ae(this,e,nn,tn,a,{})}},tablecell:class extends se{constructor(e){super(),ae(this,e,sn,an,a,{header:0,align:1})}},list:class extends se{constructor(e){super(),ae(this,e,fn,cn,a,{ordered:0,start:1})}},orderedlistitem:null,unorderedlistitem:null,listitem:class extends se{constructor(e){super(),ae(this,e,dn,pn,a,{})}},hr:class extends se{constructor(e){super(),ae(this,e,null,hn,a,{})}},html:class extends se{constructor(e){super(),ae(this,e,mn,gn,a,{text:0})}},blockquote:class extends se{constructor(e){super(),ae(this,e,yn,vn,a,{})}},code:class extends se{constructor(e){super(),ae(this,e,wn,bn,a,{lang:0,text:1})}},br:class extends se{constructor(e){super(),ae(this,e,_n,An,a,{})}}},xn={baseUrl:null,breaks:!1,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,xhtml:!1};function En(e){let t,n;return t=new Je({props:{tokens:e[0],renderers:e[1]}}),{c(){re(t.$$.fragment)},m(e,r){ie(t,e,r),n=!0},p(e,[n]){const r={};1&n&&(r.tokens=e[0]),2&n&&(r.renderers=e[1]),t.$set(r)},i(e){n||(Q(t.$$.fragment,e),n=!0)},o(e){J(t.$$.fragment,e),n=!1},d(e){oe(t,e)}}}function Cn(e,t,n){let r,i,o,{source:a=""}=t,{renderers:s={}}=t,{options:u={}}=t,{isInline:l=!1}=t;const c=D();let f,p,d;return function(e,t){P().$$.context.set(e,t)}(kt,{slug:e=>r?r.slug(e):"",getOptions:()=>i}),O((()=>{n(7,d=!0)})),e.$$set=e=>{"source"in e&&n(2,a=e.source),"renderers"in e&&n(3,s=e.renderers),"options"in e&&n(4,u=e.options),"isInline"in e&&n(5,l=e.isInline)},e.$$.update=()=>{4&e.$$.dirty&&(r=a?new _t:void 0),16&e.$$.dirty&&n(8,i={...xn,...u}),357&e.$$.dirty&&(n(6,p=new At(i)),n(0,f=l?p.inlineTokens(a):p.lex(a)),c("parsed",{tokens:f})),8&e.$$.dirty&&n(1,o={...kn,...s}),129&e.$$.dirty&&d&&c("parsed",{tokens:f})},[f,o,a,s,u,l,p,d,i]}class Tn extends se{constructor(e){super(),ae(this,e,Cn,En,a,{source:2,renderers:3,options:4,isInline:5})}}var Sn="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function Rn(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Ln(e){var t={exports:{}};return e(t,t.exports),t.exports
/*! For license information please see paella-core.js.LICENSE.txt */}var Pn=Ln((function(e,t){var n;self,n=()=>(()=>{var e={1425:(e,t,n)=>{n.r(t),n.d(t,{TestVideoCanvas:()=>v,default:()=>y});var r=n(4382);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function o(){return o="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=a(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},o.apply(this,arguments)}function a(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=m(e)););return e}function s(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){s(o,r,i,a,u,"next",e)}function u(e){s(o,r,i,a,u,"throw",e)}a(void 0)}))}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t,n){return t&&c(e.prototype,t),n&&c(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d(e,t)}function d(e,t){return d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},d(e,t)}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m(e);if(t){var i=m(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return g(this,n)}}function g(e,t){if(t&&("object"===i(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}var v=function(e){p(r,e);var t,n=h(r);function r(e,t){return l(this,r),n.call(this,"div",e,t)}return f(r,[{key:"loadCanvas",value:(t=u(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.parent,t.element.style.width="200%",t.element.style.height="200%",t.element.style.top="-25%",t.element.style.left="-25%",t.element.style.position="absolute",this.element.style.overflow="hidden",this.element.style.position="relative",this.player.log.debug("test video canvas");case 9:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),r}(r.Xz),y=function(e){p(r,e);var t,n=h(r);function r(){return l(this,r),n.apply(this,arguments)}return f(r,[{key:"canvasType",get:function(){return"video"}},{key:"isEnabled",value:(t=u(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.player.log.debug("TestVideoCanvasPlugin"),e.abrupt("return",o(m(r.prototype),"isEnabled",this).call(this));case 2:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"isCompatible",value:function(e){return!Array.isArray(e.canvas)||0===e.canvas.length||o(m(r.prototype),"isCompatible",this).call(this,stresm)}},{key:"getCanvasInstance",value:function(e){return new v(this.player,e)}}]),r}(r.ZP)},6280:(e,t,n)=>{n.r(t),n.d(t,{VideoCanvas:()=>m,default:()=>v});var r=n(4382);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function o(){return o="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=a(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},o.apply(this,arguments)}function a(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=g(e)););return e}function s(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}function p(e,t){return p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},p(e,t)}function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g(e);if(t){var i=g(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h(this,n)}}function h(e,t){if(t&&("object"===i(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function g(e){return g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},g(e)}var m=function(e){f(i,e);var t,n,r=d(i);function i(e,t){return u(this,i),r.call(this,"div",e,t)}return c(i,[{key:"loadCanvas",value:(t=regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.element.style.width="100%",t.element.style.height="100%";case 2:case"end":return e.stop()}}),e)})),n=function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(e){s(o,r,i,a,u,"next",e)}function u(e){s(o,r,i,a,u,"throw",e)}a(void 0)}))},function(e){return n.apply(this,arguments)})}]),i}(r.Xz),v=function(e){f(n,e);var t=d(n);function n(){return u(this,n),t.apply(this,arguments)}return c(n,[{key:"canvasType",get:function(){return"video"}},{key:"isCompatible",value:function(e){return!Array.isArray(e.canvas)||0===e.canvas.length||o(g(n.prototype),"isCompatible",this).call(this,e)}},{key:"getCanvasInstance",value:function(e){return new m(this.player,e)}}]),n}(r.ZP)},7096:(e,t,n)=>{n.d(t,{Z:()=>o});var r=n(1401);function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";i(this,e),this._cues=[],this._label=t,this._lang=n}var t,n;return t=e,(n=[{key:"cues",get:function(){return this._cues}},{key:"label",get:function(){return this._label},set:function(e){this._label=e}},{key:"language",get:function(){return this._lang},set:function(e){this._lang=e}},{key:"addCue",value:function(e){var t=e.label,n=void 0===t?"":t,i=e.start,o=e.end,a=e.captions,s={label:n};if("string"==typeof a)s.captions=[a];else{if(!Array.isArray(a))throw Error("Invalid cue caption format: must be an array of strings or a string");s.captions=a}if("string"==typeof i)s.start=(0,r.timeToSeconds)(i),s.startString=i;else{if("number"!=typeof i)throw Error("Invalid cue timestamp format: must be a valid time string or a number of seconds");s.start=i,s.startString=(0,r.secondsToTime)(i)}if("string"==typeof o)s.end=(0,r.timeToSeconds)(o),s.endString=o;else{if("number"!=typeof o)throw Error("Invalid cue timestamp format: must be a valid time string or a number of seconds");s.end=o,s.endString=(0,r.secondsToTime)(o)}return this._cues.push(s),s}},{key:"getCue",value:function(e){if("string"==typeof e)e=(0,r.timeToSeconds)(e);else if("number"!=typeof e)throw Error("Invalid time instant format getting cue");var t=null;return this._cues.some((function(n){if(e>=n.start&&e<=n.end)return t=n,!0})),t}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}()},8704:(e,t,n)=>{n.d(t,{N:()=>f,Z:()=>d});var r=n(2650);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){return a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},a(e,t)}function s(e,t){if(t&&("object"===i(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function u(e){return u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},u(e)}function l(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function c(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){l(o,r,i,a,s,"next",e)}function s(e){l(o,r,i,a,s,"throw",e)}a(void 0)}))}}function f(e){return p.apply(this,arguments)}function p(){return p=c(regeneratorRuntime.mark((function e(t){var n,i,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],e.next=3,(0,r.FP)(t,"captions",function(){var e=c(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.push(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 3:i=regeneratorRuntime.mark((function e(r){var i,o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=n[r],e.next=3,i.getCaptions();case 3:o=e.sent,a=t.captionsCanvas,o.forEach((function(e){return a.addCaptions(e)}));case 6:case"end":return e.stop()}}),e)})),e.t0=regeneratorRuntime.keys(n);case 5:if((e.t1=e.t0()).done){e.next=10;break}return o=e.t1.value,e.delegateYield(i(o),"t2",8);case 8:e.next=5;break;case 10:case"end":return e.stop()}}),e)}))),p.apply(this,arguments)}var d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&a(e,t)}(d,e);var t,n,r,i,l,f,p=(l=d,f=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=u(l);if(f){var n=u(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return s(this,e)});function d(){return o(this,d),p.apply(this,arguments)}return t=d,n=[{key:"type",get:function(){return"captions"}},{key:"load",value:(i=c(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.player.log.debug("load captions plugin");case 1:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"getCaptions",value:(r=c(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.player.log.warn("CaptionsPlugin ".concat(this.name,": getCaptions() is not implemented.")),e.abrupt("return",[]);case 2:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})}],n&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),d}(r.ZP)},1309:(e,t,n)=>{n.d(t,{Z:()=>l,n:()=>u});var r=n(7096);function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o="(?:\\d*:){1,2}\\d*(?:\\.\\d+)?",a="(".concat(o,")\\s*\\-\\->\\s*(").concat(o,")"),s={cueTiming:new RegExp(a)};function u(e){var t=new r.Z;return""!==e&&(e=(e=e.replace(/\r\n/gm,"\n")).replace(/\r/gm,"\n")).split(/\n/).forEach((function(e,n,r){!function(e,t,n,r){var i=s.cueTiming.exec(t);if(i){for(var o=r[n-1],a=[],u=1;n+u<r.length&&""!==r[n+u];++u)a.push(r[n+u]);e.addCue({label:o,start:i[1],end:i[2],captions:a})}}(t,e,n,r)})),t}var l=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";i(this,e),this._text=t,this._captions=u(t)}var t,n;return t=e,(n=[{key:"text",get:function(){return this._text},set:function(e){this._text=e,this._captions=u(e)}},{key:"captions",get:function(){return this._captions}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}()},2452:(e,t,n)=>{n.d(t,{Z:()=>r});var r=function(){function e(t){var n=t.id,r=t.name,i=t.groupId,o=void 0===i?"":i,a=t.language,s=void 0===a?"":a,u=t.selected,l=void 0!==u&&u;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._id=n,this._name=r,this._groupId=o,this._lang=s,this._selected=l}var t,n;return t=e,(n=[{key:"id",get:function(){return this._id}},{key:"name",get:function(){return this._name}},{key:"groupId",get:function(){return this._groupId}},{key:"language",get:function(){return this._lang}},{key:"selected",get:function(){return this._selected},set:function(e){this._selected=e}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}()},7488:(e,t,n)=>{n.d(t,{Z:()=>P});var r=n(7528),i=n(916),o=n(2650),a=n(1768),s=n(629),u=n(3379),l=n.n(u),c=n(7795),f=n.n(c),p=n(569),d=n.n(p),h=n(3565),g=n.n(h),m=n(9216),v=n.n(m),y=n(4589),b=n.n(y),w=n(372),A={};function _(e){return _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_(e)}function k(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function x(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){k(o,r,i,a,s,"next",e)}function s(e){k(o,r,i,a,s,"throw",e)}a(void 0)}))}}function E(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C(){return C="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=T(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},C.apply(this,arguments)}function T(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=L(e)););return e}function S(e,t){return S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},S(e,t)}function R(e,t){if(t&&("object"===_(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function L(e){return L=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},L(e)}A.styleTagTransform=b(),A.setAttributes=g(),A.insert=d().bind(null,"head"),A.domAPI=f(),A.insertStyleElement=v(),l()(w.Z,A),w.Z&&w.Z.locals&&w.Z.locals;var P=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&S(e,t)}(d,e);var t,n,u,l,c,f,p=(c=d,f=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=L(c);if(f){var n=L(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return R(this,e)});function d(){return E(this,d),p.apply(this,arguments)}return t=d,n=[{key:"groupName",get:function(){var e;return(null===(e=this.config)||void 0===e?void 0:e.groupName)||"buttonGroup"}},{key:"popUpType",get:function(){return"no-modal"}},{key:"getContent",value:(l=x(regeneratorRuntime.mark((function e(){var t,n=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=(0,i.jS)('<div class="button-group"></div>'),this._firstItem=null,this._initialized){e.next=7;break}return this.player.log.debug('Load button plugins into "'.concat(this.groupName,'" container')),e.next=6,(0,o.FP)(this.player,"button",function(){var e=x(regeneratorRuntime.mark((function e(o){var u,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.player.log.debug(" Button plugin: ".concat(o.name)),u=(0,i.jS)('<div class="button-plugin-wrapper"></div>',t),o instanceof r.Z&&(o.parentPopUp=n._popUp),e.next=5,(0,a.k1)(o,u);case 5:(0,i.jS)('<a class="button-description">'.concat((0,s.Iu)(o.description),"</a>"),u).addEventListener("click",(function(e){o.action(),e.stopPropagation()})),n._firstItem||(l=u.getElementsByTagName("button"),n._firstItem=l&&l[0]);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),function(){var e=x(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.parentContainer!==n.groupName){e.next=7;break}return e.next=4,t.isEnabled();case 4:return e.abrupt("return",e.sent);case 7:return e.abrupt("return",!1);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 6:this._initialized=!0;case 7:return e.abrupt("return",t);case 8:case"end":return e.stop()}}),e,this)}))),function(){return l.apply(this,arguments)})},{key:"showPopUp",value:(u=x(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C(L(d.prototype),"showPopUp",this).call(this);case 2:setTimeout((function(){t._firstItem&&t._firstItem.focus()}),50),this.buttons.forEach((function(e){"none"===e.style.display?t.hideButtonContainer(e):t.showButtonContainer(e)}));case 4:case"end":return e.stop()}}),e,this)}))),function(){return u.apply(this,arguments)})},{key:"buttons",get:function(){return Array.from(this.popUp.element.getElementsByClassName("button-plugin"))}},{key:"hideButtonContainer",value:function(e){var t,n=null===(t=e.parentNode)||void 0===t?void 0:t.parentNode;n&&(n.style.display="none")}},{key:"showButtonContainer",value:function(e){var t,n=null===(t=e.parentNode)||void 0===t?void 0:t.parentNode;n&&(n.style.display=null)}}],n&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),d}(r.Z)},1768:(e,t,n)=>{n.d(t,{ZP:()=>m,k1:()=>h});var r=n(1547),i=(n(2650),n(916)),o=n(980),a=n(629);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){return l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},l(e,t)}function c(e,t){if(t&&("object"===s(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}function p(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function d(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){p(o,r,i,a,s,"next",e)}function s(e){p(o,r,i,a,s,"throw",e)}a(void 0)}))}}function h(e,t){return g.apply(this,arguments)}function g(){return(g=d(regeneratorRuntime.mark((function e(t,n){var r,s,u,l,c,f,p,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(r=(0,i.jS)('<div class="button-plugin-container"></div>',n)).plugin=t,s=t.tabIndex,u=(0,a.Iu)(t.ariaLabel),l=(0,a.Iu)(t.description),c=(0,i.jS)('\n\t\t<div class="button-plugin-side-area left-side '.concat(t.className,'"></div>\n\t'),r),f=(0,i.jS)('\n\t\t<button class="button-plugin '.concat(t.className,'" tabindex="').concat(s,'" aria-label="').concat(u,'" title="').concat(l,'"><i class="button-icon" style="pointer-events: none">').concat(t.icon,"</i></button>\n\t"),r),p=(0,i.jS)('\n\t\t<div class="button-plugin-side-area right-side '.concat(t.className,'"></div>\n\t'),r),d=(0,i.jS)('\n\t\t<span class="button-title button-title-'.concat(t.titleSize,'">').concat(t.title||"&nbsp;","</span>\n\t"),f),t._leftArea=c,t._rightArea=p,t._button=f,t._container=r,t._titleContainer=d,f._pluginData=t,c._pluginData=t,p._pluginData=t,r._pluginData=t,r.addEventListener("mouseenter",(function(e){r._pluginData.mouseOver(r,e)})),r.addEventListener("mouseleave",(function(e){r._pluginData.mouseOut(r,e)})),f.addEventListener("click",(function(e){var t=f._pluginData;(0,o.qe)(t.player,o.ZP.BUTTON_PRESS,{plugin:t}),t.action(e),e.stopPropagation()}));case 21:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&l(e,t)}(h,e);var t,n,r,i,o,a,s,p=(a=h,s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=f(a);if(s){var n=f(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return c(this,e)});function h(){return u(this,h),p.apply(this,arguments)}return t=h,n=[{key:"type",get:function(){return"button"}},{key:"container",get:function(){return this._container}},{key:"leftArea",get:function(){return this._leftArea}},{key:"rightArea",get:function(){return this._rightArea}},{key:"button",get:function(){return this._button}},{key:"titleContainer",get:function(){return this._titleContainer}},{key:"ariaLabel",get:function(){return this.config.ariaLabel||this.getAriaLabel()}},{key:"getAriaLabel",value:function(){return""}},{key:"tabIndex",get:function(){return this.config.tabIndex||this.getTabIndex()}},{key:"getTabIndex",value:function(){return(e=this.player).__tabIndex=e.__tabIndex||0,++e.__tabIndex,e.__tabIndex;var e}},{key:"getDescription",value:function(){return""}},{key:"description",get:function(){return this.config.description||this.getDescription()}},{key:"iconElement",get:function(){var e;return null===(e=this.button)||void 0===e?void 0:e.getElementsByClassName("button-icon")[0]}},{key:"icon",get:function(){return this._icon},set:function(e){this._icon=e,this.iconElement.innerHTML=e}},{key:"title",get:function(){return this._title||""},set:function(e){this._title=e,this._titleContainer.innerHTML=e}},{key:"titleSize",get:function(){return"medium"}},{key:"side",get:function(){var e;return(null===(e=this.config)||void 0===e?void 0:e.side)||"left"}},{key:"parentContainer",get:function(){var e;return(null===(e=this.config)||void 0===e?void 0:e.parentContainer)||"playbackBar"}},{key:"className",get:function(){return""}},{key:"hide",value:function(){this._button&&(this._button.style.display="none")}},{key:"show",value:function(){this._button&&(this._button.style.display="block")}},{key:"mouseOver",value:(o=d(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),function(e){return o.apply(this,arguments)})},{key:"mouseOut",value:(i=d(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),function(e){return i.apply(this,arguments)})},{key:"action",value:(r=d(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.player.log.warn("Action not implemented in button plugin ".concat(this.name));case 1:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})}],n&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),h}(r.Z)},4382:(e,t,n)=>{n.d(t,{Xz:()=>N,iN:()=>j,RM:()=>F,ZP:()=>U,in:()=>B,yJ:()=>P,Ke:()=>I});var r=n(2650),i=n(916),o=n(3379),a=n.n(o),s=n(7795),u=n.n(s),l=n(569),c=n.n(l),f=n(3565),p=n.n(f),d=n(9216),h=n.n(d),g=n(4589),m=n.n(g),v=n(303),y={};function b(e){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b(e)}function w(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function A(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _(e,t,n){return t&&A(e.prototype,t),n&&A(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function k(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&x(e,t)}function x(e,t){return x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},x(e,t)}function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=T(e);if(t){var i=T(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return C(this,n)}}function C(e,t){if(t&&("object"===b(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function T(e){return T=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},T(e)}function S(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function R(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){S(o,r,i,a,s,"next",e)}function s(e){S(o,r,i,a,s,"throw",e)}a(void 0)}))}}y.styleTagTransform=m(),y.setAttributes=p(),y.insert=c().bind(null,"head"),y.domAPI=u(),y.insertStyleElement=h(),a()(v.Z,y),v.Z&&v.Z.locals&&v.Z.locals;var L=[];function P(e){return O.apply(this,arguments)}function O(){return(O=R(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,r.FP)(t,"canvas",(function(e){L.push(e)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(e){return D.apply(this,arguments)}function D(){return(D=R(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B(e,t){if(0===L.length)throw Error("No canvas plugins loaded. Note that `loadCanvasPlugins()` must to be called before use `getCanvasPlugins()`");var n=null;return L.some((function(e){if(e.isCompatible(t))return n=e,!0})),n}var j={LEFT:"left",CENTER:"center",RIGHT:"right"},M=function(e){var t=e.icon,n=e.tabIndex,r=e.ariaLabel,o=e.title,a=e.className,s=e.position,u=void 0===s?j.CENTER:s,l=e.click;if(!t)throw new Error("Error in video layout definition. getVideoCanvasButtons(): missing 'icon' attribute.");if(!l)throw new Error("Error in video layout definition. getVideoCanvasButtons(): missing 'click' function.");var c='class="align-'.concat(u).concat(a?" "+a:"",'"');r&&(c+=' aria-label="'.concat(r,'"')),o&&(c+=' title="'.concat(o,'"')),void 0!==n&&(c+=' tabindex="'.concat(n,'"'));var f=(0,i.jS)("\n        <button ".concat(c,'><i class="button-icon" style="pointer-events: none">').concat(t,"</i></button>\n    "));return this.buttonsArea.appendChild(f),f.addEventListener("click",(function(e){return l(e),e.stopPropagation(),!1})),f},F=function(e,t,n){e.plugin.getVideoCanvasButtons(e,n.content,n,t).forEach((function(e){M.apply(t,[e])}))},N=function(e){k(r,e);var t,n=E(r);function r(e,t,o){var a;return w(this,r),(a=n.call(this,t,{tag:e,parent:o})).element.className="video-canvas",a._userArea=null,a._buttonsArea=(0,i.jS)('\n        <div class="button-area">\n        </div>\n        ',a.element),a}return _(r,[{key:"loadCanvas",value:(t=R(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw Error("".concat(this.name,": loadCanvas() not implemented"));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"userArea",get:function(){return this._userArea||(this._userArea=document.createElement("div"),this._userArea.className="user-area",this.element.appendChild(this._userArea)),this._userArea}},{key:"buttonsArea",get:function(){return this._buttonsArea}},{key:"showButtons",value:function(){this.buttonsArea.style.display=null}},{key:"hideButtons",value:function(){this.buttonsArea.style.display="none"}}]),r}(i.FZ),U=function(e){k(n,e);var t=E(n);function n(){return w(this,n),t.apply(this,arguments)}return _(n,[{key:"type",get:function(){return"canvas"}},{key:"canvasType",get:function(){return""}},{key:"isCompatible",value:function(e){var t;return((null==e||null===(t=e.canvas)||void 0===t?void 0:t.length)>0&&e.canvas[0])===this.canvasType}},{key:"getCanvasInstance",value:function(e){throw Error("".concat(this.name," canvas plugin: getCanvasInstance() not implemented"))}}]),n}(r.ZP)},1285:(e,t,n)=>{n.d(t,{Z:()=>v,e:()=>m});var r=n(2650),i=n(2624);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function a(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function s(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function s(e){a(o,r,i,s,u,"next",e)}function u(e){a(o,r,i,s,u,"throw",e)}s(void 0)}))}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}function p(e,t){return p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},p(e,t)}function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g(e);if(t){var i=g(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h(this,n)}}function h(e,t){if(t&&("object"===o(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function g(e){return g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},g(e)}var m=function(e){f(o,e);var t,n,r,i=d(o);function o(){return u(this,o),i.apply(this,arguments)}return c(o,[{key:"type",get:function(){return"data"}},{key:"context",get:function(){return this.config.context||[]}},{key:"read",value:(r=s(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw Error("DataPlugin.read() not implemented in data plugin '".concat(this.name,"'"));case 1:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"write",value:(n=s(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw Error("DataPlugin.write() not implemented in data plugin '".concat(this.name,"'"));case 1:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"remove",value:(t=s(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw Error("DataPlugin.remove() not implemented in data plugin '".concat(this.name,"'"));case 1:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}]),o}(r.ZP),v=function(e){f(a,e);var t,n,i,o=d(a);function a(e){var t;return u(this,a),(t=o.call(this,e))._dataPlugins={},(0,r.FP)(t.player,"data",function(){var e=s(regeneratorRuntime.mark((function e(n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null===(r=n.context)||void 0===r||r.forEach((function(e){t._dataPlugins[e]=t._dataPlugins[e]||[],t._dataPlugins[e].push(n)}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),t}return c(a,[{key:"getDataPlugin",value:function(e){var t=this._dataPlugins[e]&&this._dataPlugins[e].length>0&&this._dataPlugins[e][0];if(t||(t=this._dataPlugins.default&&this._dataPlugins.default.length>0&&this._dataPlugins.default&&this._dataPlugins.default[0]),!t)throw Error("No data plugin found for context '".concat(e,"'"));return t}},{key:"read",value:(i=s(regeneratorRuntime.mark((function e(t,n){var r,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.getDataPlugin(t),e.next=3,r.read(t,n);case 3:return i=e.sent,e.abrupt("return",i);case 5:case"end":return e.stop()}}),e,this)}))),function(e,t){return i.apply(this,arguments)})},{key:"write",value:(n=s(regeneratorRuntime.mark((function e(t,n,r){var i,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=this.getDataPlugin(t),e.next=3,i.write(t,n,r);case 3:return o=e.sent,e.abrupt("return",o);case 5:case"end":return e.stop()}}),e,this)}))),function(e,t,r){return n.apply(this,arguments)})},{key:"remove",value:(t=s(regeneratorRuntime.mark((function e(t,n){var r,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.getDataPlugin(t),e.next=3,r.remove(t,n);case 3:return i=e.sent,e.abrupt("return",i);case 5:case"end":return e.stop()}}),e,this)}))),function(e,n){return t.apply(this,arguments)})}]),a}(i.Z)},8984:(e,t,n)=>{n.d(t,{$_:()=>p,ZP:()=>m,v$:()=>h});var r=n(2650),i=n(980);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){return s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},s(e,t)}function u(e,t){if(t&&("object"===o(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function l(e){return l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},l(e)}function c(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function f(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){c(o,r,i,a,s,"next",e)}function s(e){c(o,r,i,a,s,"throw",e)}a(void 0)}))}}function p(e){return d.apply(this,arguments)}function d(){return d=f(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,r.FP)(t,"eventLog",function(){var e=f(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.events.forEach((function(e){(0,i.GT)(t,e,function(){var t=f(regeneratorRuntime.mark((function t(r){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.onEvent(e,r);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)}))),d.apply(this,arguments)}function h(e){return g.apply(this,arguments)}function g(){return(g=f(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.warn("unloadLogEventPlugins: not implemented");case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s(e,t)}(p,e);var t,n,r,i,o,c=(i=p,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=l(i);if(o){var n=l(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return u(this,e)});function p(){return a(this,p),c.apply(this,arguments)}return t=p,n=[{key:"type",get:function(){return"eventLog"}},{key:"events",get:function(){return[]}},{key:"onEvent",value:(r=f(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.warn("".concat(this.name,": onEvent() function is not overwritten."));case 1:case"end":return e.stop()}}),e,this)}))),function(e,t){return r.apply(this,arguments)})}],n&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),p}(r.ZP)},980:(e,t,n)=>{n.d(t,{GT:()=>i,Ii:()=>s,Ss:()=>a,ZP:()=>r,qe:()=>o});const r={PLAY:"paella:play",PAUSE:"paella:pause",STOP:"paella:stop",ENDED:"paella:ended",SEEK:"paella:seek",FULLSCREEN_CHANGED:"paella:fullscreenchanged",VOLUME_CHANGED:"paella:volumeChanged",TIMEUPDATE:"paella:timeupdate",TRIMMING_CHANGED:"paella:trimmingChanged",CAPTIONS_CHANGED:"paella:captionsChanged",BUTTON_PRESS:"paella:buttonPress",SHOW_POPUP:"paella:showPopUp",HIDE_POPUP:"paella:hidePopUp",MANIFEST_LOADED:"paella:manifestLoaded",STREAM_LOADED:"paella:streamLoaded",PLAYER_LOADED:"paella:playerLoaded",PLAYER_UNLOADED:"paella:playerUnloaded",RESIZE:"paella:resize",RESIZE_END:"paella:resizeEnd",LAYOUT_CHANGED:"paella:layoutChanged",PLAYBACK_RATE_CHANGED:"paella:playbackRateChanged",VIDEO_QUALITY_CHANGED:"paella:videoQualityChanged",HIDE_UI:"paella:hideUI",SHOW_UI:"paella:showUI"};function i(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return e.__eventListeners__=e.__eventListeners__||{},e.__eventListeners__[t]=e.__eventListeners__[t]||[],e.__eventListeners__[t].push({callback:n,unregisterOnUnload:r}),n}function o(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};e.__eventListeners__&&e.__eventListeners__[t]&&e.__eventListeners__[t].forEach((function(e){return e.callback(n)}))}function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};e.ready&&o(e,t,n)}function s(e){if(e.__eventListeners__)for(var t in e.__eventListeners__)e.__eventListeners__[t]=e.__eventListeners__[t].filter((function(e){return 0==e.unregisterOnUnload})),console.log(e.__eventListeners__[t])}},9267:(e,t,n)=>{n.d(t,{CZ:()=>v,L:()=>g,ZP:()=>w,gg:()=>h,mW:()=>b});var r=n(2650);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){return a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},a(e,t)}function s(e,t){if(t&&("object"===i(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function u(e){return u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},u(e)}function l(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function c(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){l(o,r,i,a,s,"next",e)}function s(e){l(o,r,i,a,s,"throw",e)}a(void 0)}))}}var f=function(e){var t,n,r;return"alt:".concat((null===(t=e.keyModifiers)||void 0===t?void 0:t.altKey)||!1,", ctrl:").concat((null===(n=e.keyModifiers)||void 0===n?void 0:n.ctrlKey)||!1,", shift:").concat((null===(r=e.keyModifiers)||void 0===r?void 0:r.shiftKey)||!1)},p=function(e){return"".concat(e.keyCode,"_").concat(f(e))},d=function(e){e.keyModifiers=e.keyModifiers||{},e.keyModifiers.altKey=e.keyModifiers.altKey||!1,e.keyModifiers.shiftKey=e.keyModifiers.shiftKey||!1,e.keyModifiers.ctrlKey=e.keyModifiers.ctrlKey||!1},h=function(e){var t=[];for(var n in e.__shortcuts__)e.__shortcuts__[n].forEach((function(e){e.disabled||t.push(e)}));return t};function g(e){return m.apply(this,arguments)}function m(){return m=c(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.__shortcuts__=t.__shortcuts__||{},window.__paella_shortcuts_player__){e.next=5;break}window.__paella_shortcuts_player__=t,e.next=8;break;case 5:return t.log.warn("Warning: more than one paella player instance with enabled shortcut plugins."),t.log.warn("Check your code to ensure that only one instance of paella player registers keyboard shortcut plugins."),e.abrupt("return");case 8:return e.next=10,(0,r.FP)(t,"keyshortcut",function(){var e=c(regeneratorRuntime.mark((function e(n){var r,i,o,a,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.getKeys();case 2:return e.sent.forEach((function(e){t.__shortcuts__[e.keyCode]=t.__shortcuts__[e.keyCode]||[],e.plugin=n,t.__shortcuts__[e.keyCode].push(e)})),e.next=6,n.getDictionaries();case 6:for(i in r=e.sent)o=r[i],t.addDictionary(i,o);for(s in a=function(e){var n=t.__shortcuts__[e],r={};n.length>0&&n.forEach((function(n){var i=p(n);if(d(n),r[i]){t.log.warn("Collision detected in shortcut for key code ".concat(e));var o=r[i];t.log.warn("Enabled shortcut:"),t.log.warn("plugin: ".concat(o.plugin.name,", keyCode: ").concat(o.keyCode,", modifiers: ").concat(f(o),", description: ").concat(o.description)),t.log.warn("Collision shortcut (disabled):"),t.log.warn("plugin: ".concat(n.plugin.name,", keyCode: ").concat(n.keyCode,", modifiers: ").concat(f(n),", description: ").concat(n.description)),n.disabled=!0}else r[i]=n}))},t.__shortcuts__)a(s);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:t.__paella_key_event_listener__=function(){var e=c(regeneratorRuntime.mark((function e(n){var r,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=function(){return document.activeElement&&document.activeElement!==document.body&&!/video/i.test(document.activeElement.tagName)},"Space"!==n.code||!r()){e.next=3;break}return e.abrupt("return");case 3:if(!(i=t.__shortcuts__[n.code])){e.next=7;break}return e.next=7,i.forEach(function(){var e=c(regeneratorRuntime.mark((function e(r){var i,o,a,s,u,l,c,p,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=!(null!==(i=r.keyModifiers)&&void 0!==i&&i.altKey)||(null===(o=r.keyModifiers)||void 0===o?void 0:o.altKey)&&n.altKey,p=!(null!==(a=r.keyModifiers)&&void 0!==a&&a.ctrlKey)||(null===(s=r.keyModifiers)||void 0===s?void 0:s.ctrlKey)&&n.ctrlKey,d=!(null!==(u=r.keyModifiers)&&void 0!==u&&u.shiftKey)||(null===(l=r.keyModifiers)||void 0===l?void 0:l.shiftKey)&&n.shiftKey,!(c&&p&&d)||r.disabled){e.next=8;break}return e.next=6,r.action(n);case 6:e.next=9;break;case 8:c&&p&&d&&r.disabled&&(t.log.warn("Shortcut not triggered due to collision:"),t.log.warn("plugin: ".concat(r.plugin.name,", keyCode: ").concat(r.keyCode,", modifiers: ").concat(f(r),", description: ").concat(r.description)));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),window.addEventListener("keyup",t.__paella_key_event_listener__);case 12:case"end":return e.stop()}}),e)}))),m.apply(this,arguments)}function v(e){return y.apply(this,arguments)}function y(){return(y=c(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete t.__shortcuts__,t==window.__paella_shortcuts_player__&&(window.removeEventListener("keyup",t.__paella_key_event_listener__),delete window.__paella_key_event_listener__,delete window.__paella_shortcuts_player__);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var b={Digit1:"Digit1",Digit2:"Digit2",Digit3:"Digit3",Digit4:"Digit4",Digit5:"Digit5",Digit6:"Digit6",Digit7:"Digit7",Digit8:"Digit8",Digit9:"Digit9",Digit0:"Digit0",KeyA:"KeyA",KeyB:"KeyB",KeyC:"KeyC",KeyD:"KeyD",KeyE:"KeyE",KeyF:"KeyF",KeyG:"KeyG",KeyH:"KeyH",KeyI:"KeyI",KeyJ:"KeyJ",KeyK:"KeyK",KeyL:"KeyL",KeyM:"KeyM",KeyN:"KeyN",KeyO:"KeyO",KeyP:"KeyP",KeyQ:"KeyQ",KeyR:"KeyR",KeyS:"KeyS",KeyT:"KeyT",KeyU:"KeyU",KeyV:"KeyV",KeyW:"KeyW",KeyX:"KeyX",KeyY:"KeyY",KeyZ:"KeyZ",Comma:"Comma",Period:"Period",Semicolon:"Semicolon",Quote:"Quote",BracketLeft:"BracketLeft",BracketRight:"BracketRight",Backquote:"Backquote",Backslash:"Backslash",Minus:"Minus",Equal:"Equal",AltLeft:"AltLeft",AltRight:"AltRight",CapsLock:"CapsLock",ControlLeft:"ControlLeft",ControlRight:"ControlRight",OSLeft:"OSLeft",OSRight:"OSRight",ShiftLeft:"ShiftLeft",ShiftRight:"ShiftRight",ContextMenu:"ContextMenu",Enter:"Enter",Space:"Space",Tab:"Tab",Delete:"Delete",End:"End",Help:"Help",Home:"Home",Insert:"Insert",PageDown:"PageDown",PageUp:"PageUp",ArrowDown:"ArrowDown",ArrowLeft:"ArrowLeft",ArrowRight:"ArrowRight",ArrowUp:"ArrowUp",Escape:"Escape",PrintScreen:"PrintScreen",ScrollLock:"ScrollLock",Pause:"Pause"},w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&a(e,t)}(d,e);var t,n,r,i,l,f,p=(l=d,f=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=u(l);if(f){var n=u(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return s(this,e)});function d(){return o(this,d),p.apply(this,arguments)}return t=d,n=[{key:"type",get:function(){return"keyshortcut"}},{key:"getKeys",value:(i=c(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",[]);case 1:case"end":return e.stop()}}),e)}))),function(){return i.apply(this,arguments)})},{key:"getDictionaries",value:(r=c(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{});case 1:case"end":return e.stop()}}),e)}))),function(){return r.apply(this,arguments)})}],n&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),d}(r.ZP)},629:(e,t,n)=>{n.d(t,{BF:()=>m,D$:()=>a,G3:()=>g,Gj:()=>v,Iu:()=>d,Ji:()=>b,Pb:()=>o,Xx:()=>u,cN:()=>s,fe:()=>w,m0:()=>h,n1:()=>y});var r="en",i={};function o(e){return(i[r]||{})[e]||e}function a(e){r=e}function s(){return r}function u(e,t){for(var n in i[e]=i[e]||{},t){var r=t[n];i[e][n]=r}}var l=o,c=a,f=s,p=u;function d(e){return l(e)}function h(e){c(e)}function g(){return f()}function m(e,t){p(e,t)}function v(e){l=e}function y(e){c=e}function b(e){f=e}function w(e){p=e}},143:(e,t,n)=>{n.d(t,{Z:()=>S});var r=n(7528),i=n(916),o=n(3379),a=n.n(o),s=n(7795),u=n.n(s),l=n(569),c=n.n(l),f=n(3565),p=n.n(f),d=n(9216),h=n.n(d),g=n(4589),m=n.n(g),v=n(1872),y={};function b(e){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b(e)}function w(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function A(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){w(o,r,i,a,s,"next",e)}function s(e){w(o,r,i,a,s,"throw",e)}a(void 0)}))}}function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k(){return k="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=x(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},k.apply(this,arguments)}function x(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=T(e)););return e}function E(e,t){return E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},E(e,t)}function C(e,t){if(t&&("object"===b(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function T(e){return T=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},T(e)}y.styleTagTransform=m(),y.setAttributes=p(),y.insert=c().bind(null,"head"),y.domAPI=u(),y.insertStyleElement=h(),a()(v.Z,y),v.Z&&v.Z.locals&&v.Z.locals;var S=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&E(e,t)}(c,e);var t,n,r,o,a,s,u,l=(s=c,u=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=T(s);if(u){var n=T(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return C(this,e)});function c(){return _(this,c),l.apply(this,arguments)}return t=c,n=[{key:"getContent",value:(a=A(regeneratorRuntime.mark((function e(){var t,n,r,o,a=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=(0,i.jS)('<ul class="menu-button-content"></ul>'),e.next=3,this.getMenu();case 3:return n=e.sent,this._menuItems=n,r=!1,o=null,n.forEach((function(e){var n=(0,i.jS)('<li class="menu-button-item"></li>',t),s="";"button"===a.buttonType?s="menu-item-type-button":"check"===a.buttonType?s="menu-item-type-button"+(e.selected?" selected":""):"radio"===a.buttonType&&(s="menu-item-type-button",!r&&e.selected&&(s+=" selected",r=!0));var u="";e.icon&&e.title&&a.showTitles?u='\n\t\t\t\t<i class="menu-icon">'.concat(e.icon,'</i>\n\t\t\t\t<span class="menu-title">').concat(e.title,"</span>\n\t\t\t\t"):e.icon?u='\n\t\t\t\t<i class="menu-icon">'.concat(e.icon,"</i>\n\t\t\t\t"):e.title&&(u='\n\t\t\t\t<span class="menu-title">'.concat(e.title,"</span>\n\t\t\t\t"));var l=(0,i.jS)('\n\t\t\t\t<button class="'.concat(s,'" aria-label="').concat(e.title,'">').concat(u,"</button>"),n);o||(o=l),e.buttonElement=l,l._itemData=e,l.addEventListener("click",(function(e){"check"===a.buttonType?(e.target._itemData.selected=!e.target._itemData.selected,e.target._itemData.selected?e.target.classList.add("selected"):e.target.classList.remove("selected")):"radio"===a.buttonType&&(a.menuItems.forEach((function(e){e.selected=!1,e.buttonElement.classList.remove("selected")})),e.target._itemData.selected=!e.target._itemData.selected,e.target._itemData.selected?e.target.classList.add("selected"):e.target.classList.remove("selected")),a.itemSelected(e.target._itemData,a._menuItems),e.stopPropagation(),"check"!==a.buttonType&&a.closeMenu()}));var c=l.getElementsByTagName("svg");c.length>0&&(/\%$/.test(c[0].getAttribute("width"))&&c[0].removeAttribute("width"),/\%$/.test(c[0].getAttribute("height"))&&c[0].removeAttribute("height"))})),setTimeout((function(){o.focus()}),50),e.abrupt("return",t);case 10:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"getMenu",value:(o=A(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[{id:0,title:"Option 1"},{id:1,title:"Option 2"},{id:2,title:"Option 3"},{id:3,title:"Option 4"},{id:4,title:"Option 5"}],e.abrupt("return",t);case 2:case"end":return e.stop()}}),e)}))),function(){return o.apply(this,arguments)})},{key:"menuItems",get:function(){return this._menuItems}},{key:"showTitles",get:function(){return!0}},{key:"buttonType",value:function(){return"button"}},{key:"itemSelected",value:function(e,t){console.warn("MenuButtonPlugin (".concat(this.name,"): itemSelected() function not implemented."))}},{key:"closeMenu",value:function(){this._popUp.hide()}},{key:"showPopUp",value:(r=A(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.refreshContent=!0,e.next=3,k(T(c.prototype),"showPopUp",this).call(this);case 3:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})}],n&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),c}(r.Z)},2624:(e,t,n)=>{n.d(t,{Z:()=>r});var r=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._player=t}var t,n;return t=e,(n=[{key:"player",get:function(){return this._player}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}()},2650:(e,t,n)=>{n.d(t,{ZP:()=>b,FN:()=>h,gQ:()=>f,FP:()=>g,zb:()=>p,Dd:()=>v,W:()=>d});var r=n(2624);const i=[n(591),n(4803),n(6189),n(3855),n(9802)];function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function a(e,t){return a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},a(e,t)}function s(e,t){if(t&&("object"===o(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function u(e){return u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},u(e)}function l(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function c(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){l(o,r,i,a,s,"next",e)}function s(e){l(o,r,i,a,s,"throw",e)}a(void 0)}))}}function f(e,t){var n=e.config;t.keys().forEach((function(r){var i=t(r).default,o=new i(e,n,r.substring(2,r.length-3));if(o.type){var a=o.type;e.__pluginData__.pluginClasses[r]=i,e.__pluginData__.pluginInstances[a]=e.__pluginData__.pluginInstances[a]||[],e.__pluginData__.pluginInstances[a].push(o)}else if(o.moduleName){var s=o.moduleName,u=o.moduleVersion;e.log.debug("Plugin module imported: '".concat(s,"': v").concat(u)),e.__pluginModules=e.__pluginModules||[],e.__pluginModules.push(o)}}))}function p(e){e.config,e.__pluginData__=e.__pluginData__||{pluginClasses:[],pluginInstances:{}},0===e.__pluginData__.pluginClasses.length&&(i.forEach((function(t){return f(e,t)})),e.initParams.customPluginContext.forEach((function(t){return f(e,t)})),e.log.debug("Plugins have been registered:"))}function d(e){delete e.__pluginData__}function h(e,t){var n;return null===(n=e.__pluginData__)||void 0===n?void 0:n.pluginInstances[t]}function g(e,t){return m.apply(this,arguments)}function m(){return m=c(regeneratorRuntime.mark((function e(t,n){var r,i,a,s,u,l,f,p=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=p.length>2&&void 0!==p[2]?p[2]:null,i=p.length>3&&void 0!==p[3]?p[3]:null,t.__pluginData__.pluginInstances[n].sort((function(e,t){return e.order-t.order})),t.__pluginData__.pluginInstances[n].forEach((function(e){return t.log.debug("type: ".concat(n,", name: ").concat(e.name))})),"function"!=typeof i&&(i=function(){var e=c(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.isEnabled();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.t0=regeneratorRuntime.keys(t.__pluginData__.pluginInstances[n]);case 6:if((e.t1=e.t0()).done){e.next=25;break}return a=e.t1.value,s=t.__pluginData__.pluginInstances[n][a],e.next=11,i(s);case 11:if(!e.sent){e.next=23;break}if(!s.__uiPlugin){e.next=18;break}return e.next=16,s.getDictionaries();case 16:if("object"===o(u=e.sent))for(l in u)f=u[l],t.addDictionary(l,f);case 18:if("function"!=typeof r){e.next=21;break}return e.next=21,r(s);case 21:return e.next=23,s.load();case 23:e.next=6;break;case 25:case"end":return e.stop()}}),e)}))),m.apply(this,arguments)}function v(e,t){return y.apply(this,arguments)}function y(){return y=c(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null===(r=t.__pluginData__.pluginInstances[n])||void 0===r||r.forEach(function(){var e=c(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.unload();case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e)}))),y.apply(this,arguments)}var b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&a(e,t)}(d,e);var t,n,r,i,o,l,f,p=(l=d,f=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=u(l);if(f){var n=u(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return s(this,e)});function d(e,t,n){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d),(r=p.call(this,e))._name=n,r._config=t.plugins[r.name],r}return t=d,n=[{key:"config",get:function(){return this._config}},{key:"type",get:function(){return"none"}},{key:"order",get:function(){var e;return(null===(e=this._config)||void 0===e?void 0:e.order)||0}},{key:"description",get:function(){var e;return(null===(e=this._config)||void 0===e?void 0:e.description)||""}},{key:"name",get:function(){return this._name}},{key:"isEnabled",value:(o=c(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",null===(t=this.config)||void 0===t?void 0:t.enabled);case 1:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})},{key:"load",value:(i=c(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),function(){return i.apply(this,arguments)})},{key:"unload",value:(r=c(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),function(){return r.apply(this,arguments)})}],n&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),d}(r.Z)},7133:(e,t,n)=>{var r="src/js/core/PluginModule.js";function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){return a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},a(e,t)}function s(e,t){if(t&&("object"===i(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function u(e){return u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},u(e)}n.d(t,{Z:()=>l});var l=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&a(e,t)}(f,e);var t,n,i,l,c=(i=f,l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=u(i);if(l){var n=u(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return s(this,e)});function f(){return o(this,f),c.apply(this,arguments)}return t=f,(n=[{key:"moduleName",get:function(){return this.player.log.warn("Incomplete player module definition: '".concat(r,".moduleName'")),"-"}},{key:"moduleVersion",get:function(){return this.player.log.warn("Incomplete player module definition: '".concat(r,".moduleVersion'")),"0.0.0"}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),f}(n(2624).Z)},6911:(e,t,n)=>{n.d(t,{Z:()=>L});var r=n(916),i=n(980),o=n(3379),a=n.n(o),s=n(7795),u=n.n(s),l=n(569),c=n.n(l),f=n(3565),p=n.n(f),d=n(9216),h=n.n(d),g=n(4589),m=n.n(g),v=n(6777),y={};function b(e){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b(e)}function w(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function A(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _(){return _="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=k(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},_.apply(this,arguments)}function k(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=T(e)););return e}function x(e,t){return x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},x(e,t)}function E(e,t){if(t&&("object"===b(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return C(e)}function C(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function T(e){return T=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},T(e)}y.styleTagTransform=m(),y.setAttributes=p(),y.insert=c().bind(null,"head"),y.domAPI=u(),y.insertStyleElement=h(),a()(v.Z,y),v.Z&&v.Z.locals&&v.Z.locals;var S=[];function R(e,t,n){if(t){var r=t.getBoundingClientRect(),i=r.top,o=r.left,a=r.right,s=r.bottom,u=r.width,l=r.height,c=o+u/2,f=i+l/2,p=+document.body.scrollTop,d=window.innerWidth,h=window.innerHeight,g=window.innerWidth/2,m=window.innerHeight/2;if(e.containerElement.getBoundingClientRect(),n.style.overflow="auto",n.style.display="table",g>c&&m<=f){var v=h-(s-l);n.style.left="".concat(o,"px"),n.style.bottom="".concat(v-p,"px"),n.style.maxHeight="calc(100vh - ".concat(v,"px - 10px)")}else if(g>c&&m>f)n.style.left="".concat(o,"px"),n.style.top="".concat(i+l+p,"px"),n.style.maxHeight="calc(100vh - ".concat(i+l,"px - 10px)");else if(g<=c&&m>f)n.style.right="".concat(d-a,"px"),n.style.top="".concat(i+l+p,"px"),n.style.maxHeight="calc(100vh - ".concat(i+l,"px - 10px)");else if(g<=c&&m<=f){var y=h-(s-l);n.style.right="".concat(d-a,"px"),n.style.bottom="".concat(y-p,"px"),n.style.maxHeight="calc(100vh - ".concat(y,"px - 10px)")}}}var L=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&x(e,t)}(l,e);var t,n,o,a,s,u=(a=l,s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=T(a);if(s){var n=T(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return E(this,e)});function l(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];w(this,l);var a={class:o?"popup-container":"popup-container no-modal"},s='\n\t\t<div class="popup-content"></div>\n\t\t';return(n=u.call(this,e,{attributes:a,children:s,parent:t}))._modal=o,n._contextObject=i,n._id=Symbol(C(n)),S.push(C(n)),n.element.addEventListener("click",(function(){n.hide()})),n._contentElement=n.element.getElementsByClassName("popup-content")[0],n._anchorElement=r,r&&R(e,r,n.contentElement),n.hide(),n}return t=l,n=[{key:"isModal",get:function(){return this._modal}},{key:"contextObject",get:function(){return this._contextObject}},{key:"id",get:function(){return this._id}},{key:"contentElement",get:function(){return this._contentElement}},{key:"content",get:function(){return this._popupContent}},{key:"setContent",value:function(e){this.contentElement.innerHTML="","string"==typeof e?this._popupContent=(0,r.jS)(e,this.contentElement):(this._popupContent=e,this.contentElement.appendChild(e))}},{key:"show",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this._anchorElement&&R(this.player,this._anchorElement,this.contentElement),e&&this.setParent(e),this._parentPopUp=t,t&&t.addChild(this),_(T(l.prototype),"show",this).call(this),(0,i.qe)(this.player,i.ZP.SHOW_POPUP,{popUp:this,plugin:this.contextObject})}},{key:"hide",value:function(){this.isVisible&&(this._children&&this._children.forEach((function(e){return e.hide()})),this._parentPopUp&&this._parentPopUp.removeChild(this),(0,i.qe)(this.player,i.ZP.HIDE_POPUP,{popUp:this,plugin:this.contextObject})),_(T(l.prototype),"hide",this).call(this)}},{key:"addChild",value:function(e){this._children=this._children||[],this._children.find((function(t){return t===e}))||this._children.push(e)}},{key:"removeChild",value:function(e){this._children&&(this._children=this._children.filter((function(t){return t!==e})))}}],o=[{key:"GetPopUps",value:function(){return S}},{key:"IsSomePopUpVisible",value:function(){return S.some((function(e){return e.isVisible}))}},{key:"GetPopUp",value:function(e){return S.find((function(t){return t.id===e}))}},{key:"HideAllPopUps",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];S.forEach((function(t){(e&&t.isModal||!e)&&t.hide()}))}},{key:"Unload",value:function(){S.forEach((function(e){e.removeFromParent()})),S.slice(0)}}],n&&A(t.prototype,n),o&&A(t,o),Object.defineProperty(t,"prototype",{writable:!1}),l}(r.FZ)},7528:(e,t,n)=>{n.d(t,{Z:()=>h});var r=n(1768),i=n(6911),o=n(916),a=n(230);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function u(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function l(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){u(o,r,i,a,s,"next",e)}function s(e){u(o,r,i,a,s,"throw",e)}a(void 0)}))}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){return f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},f(e,t)}function p(e,t){if(t&&("object"===s(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}var h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f(e,t)}(v,e);var t,n,r,s,u,h,g,m=(h=v,g=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=d(h);if(g){var n=d(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return p(this,e)});function v(){var e;return c(this,v),(e=m.apply(this,arguments))._refreshContent=!0,e}return t=v,n=[{key:"refreshContent",get:function(){return this._refreshContent},set:function(e){this._refreshContent=e}},{key:"action",value:(u=l(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.showPopUp();case 2:case"end":return e.stop()}}),e,this)}))),function(){return u.apply(this,arguments)})},{key:"parentPopUp",get:function(){return this._parentPopUp},set:function(e){this._parentPopUp=e}},{key:"popUp",get:function(){return this._popUp}},{key:"getContent",value:(s=l(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=(0,o.jS)("<p>Pop Up Button Plugin Content</p>"),e.abrupt("return",t);case 2:case"end":return e.stop()}}),e)}))),function(){return s.apply(this,arguments)})},{key:"popUpType",get:function(){return"modal"}},{key:"hidePopUp",value:function(){this._popUp&&this._popUp.hide()}},{key:"showPopUp",value:(r=l(regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.player.isFullscreen?this.player.containerElement:document.body,this._popUp){e.next=12;break}return this._popUp=null,"modal"===this.popUpType||"no-modal"===this.popUpType?this._popUp=new i.Z(this.player,t,this.button,this,"modal"===this.popUpType):"timeline"===this.popUpType&&(this._popUp=new a.Z(this.player,this)),e.next=6,this.getContent();case 6:n=e.sent,this._popUp.setContent(n),this._popUp.show(t,this._parentPopUp),this.refreshContent=!1,e.next=27;break;case 12:if("timeline"!==this.popUpType||!this._popUp.isVisible){e.next=16;break}this._popUp.hide(),e.next=27;break;case 16:if(!this._popUp.isVisible){e.next=20;break}this._popUp.hide(),e.next=27;break;case 20:if(!this.refreshContent){e.next=26;break}return e.next=23,this.getContent();case 23:r=e.sent,this._popUp.setContent(r),this.refreshContent=!1;case 26:this._popUp.show(t,this._parentPopUp);case 27:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})}],n&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),v}(r.ZP)},230:(e,t,n)=>{n.d(t,{Z:()=>R});var r=n(916),i=n(980),o=n(3379),a=n.n(o),s=n(7795),u=n.n(s),l=n(569),c=n.n(l),f=n(3565),p=n.n(f),d=n(9216),h=n.n(d),g=n(4589),m=n.n(g),v=n(5352),y={};function b(e){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b(e)}function w(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function A(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _(){return _="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=k(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},_.apply(this,arguments)}function k(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=T(e)););return e}function x(e,t){return x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},x(e,t)}function E(e,t){if(t&&("object"===b(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return C(e)}function C(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function T(e){return T=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},T(e)}function S(e){e.__timeLinePopUp||(e.__timeLinePopUp={popUps:[],current:null})}y.styleTagTransform=m(),y.setAttributes=p(),y.insert=c().bind(null,"head"),y.domAPI=u(),y.insertStyleElement=h(),a()(v.Z,y),v.Z&&v.Z.locals&&v.Z.locals;var R=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&x(e,t)}(u,e);var t,n,r,o,a,s=(o=u,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=T(o);if(a){var n=T(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return E(this,e)});function u(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;w(this,u),S(e);var r={class:"timeline-popup-content"},o=e.containerElement;return(t=s.call(this,e,{attributes:r,parent:o}))._contextObject=n,e.__timeLinePopUp.popUps.forEach((function(e){return e.hide()})),t._id=Symbol(C(t)),e.__timeLinePopUp.popUps.push(C(t)),e.__timeLinePopUp.current=C(t),(0,i.qe)(t.player,i.ZP.SHOW_POPUP,{popUp:C(t),plugin:t.contextObject}),t}return t=u,n=[{key:"contextObject",get:function(){return this._contextObject}},{key:"show",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.isVisible||(this.player.__timeLinePopUp.popUps.forEach((function(e){return e.hide()})),_(T(u.prototype),"show",this).call(this),this.player.__timeLinePopUp.current=this,!0!==e&&(0,i.qe)(this.player,i.ZP.SHOW_POPUP,{popUp:this,plugin:this.contextObject}))}},{key:"hide",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.isVisible&&(_(T(u.prototype),"hide",this).call(this),this.player.__timeLinePopUp.current=null,!0!==e&&(0,i.qe)(this.player,i.ZP.HIDE_POPUP,{popUp:this,plugin:this.contextObject}))}},{key:"setContent",value:function(e){e&&(this.element.innerHTML="",this.element.appendChild(e))}}],r=[{key:"HideUserInterface",value:function(e){if(S(e),e.__timeLinePopUp.current){var t=e.__timeLinePopUp.current;e.__timeLinePopUp.current.hide(!0),e.__timeLinePopUp.current=t}}},{key:"ShowUserInterface",value:function(e){S(e),e.__timeLinePopUp.current&&e.__timeLinePopUp.current.show(!0)}},{key:"Unload",value:function(e){e.__timeLinePopUp&&(e.__timeLinePopUp.current&&e.__timeLinePopUp.current.removeFromParent(),e.__timeLinePopUp.popUps.forEach((function(e){e.removeFromParent()})),e.__timeLinePopUp.popUps.slice(0),delete e.__timeLinePopUp)}}],n&&A(t.prototype,n),r&&A(t,r),Object.defineProperty(t,"prototype",{writable:!1}),u}(r.FZ)},1547:(e,t,n)=>{function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function o(e,t){return o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},o(e,t)}function a(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function s(e){return s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},s(e)}n.d(t,{Z:()=>u});var u=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&o(e,t)}(p,e);var t,n,r,u,l,c,f=(l=p,c=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=s(l);if(c){var n=s(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return a(this,e)});function p(e,t,n){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p),(r=f.call(this,e,t,n)).__uiPlugin=!0,r}return t=p,n=[{key:"getDictionaries",value:(r=regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",null);case 1:case"end":return e.stop()}}),e)})),u=function(){var e=this,t=arguments;return new Promise((function(n,o){var a=r.apply(e,t);function s(e){i(a,n,o,s,u,"next",e)}function u(e){i(a,n,o,s,u,"throw",e)}s(void 0)}))},function(){return u.apply(this,arguments)})}],n&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),p}(n(2650).ZP)},3063:(e,t,n)=>{n.d(t,{OU:()=>d,Vc:()=>p,ZP:()=>g,tk:()=>f,yl:()=>h});var r=n(2650);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){return a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},a(e,t)}function s(e,t){if(t&&("object"===i(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function u(e){return u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},u(e)}function l(e){return function(e){if(Array.isArray(e))return c(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(e,t){return(0,r.FN)(e,"layout").filter((function(e){return e.config&&e.canApply(t)}))}function p(e,t){var n=f(e,t),r=[];return n.forEach((function(e){r.push.apply(r,l(e.getValidContentIds(t)))})),r}function d(e,t){var n=f(e,t),r=p(e,t),i=[];return n.forEach((function(e){i=[].concat(l(i),l(e.config.validContent))})),i.filter((function(e){return-1!==r.indexOf(e.id)}))}function h(e,t,n){var r=function(e,t,n){var r=f(e,t),i=null;return r.some((function(e){if(-1!==e.getValidContentIds(t).indexOf(n))return i=e,!0})),i}(e,t,n);if(r){var i=r.getLayoutStructure(t,n);return i.plugin=r,i}return null}var g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&a(e,t)}(c,e);var t,n,r,i,l=(r=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=u(r);if(i){var n=u(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return s(this,e)});function c(){return o(this,c),l.apply(this,arguments)}return t=c,(n=[{key:"type",get:function(){return"layout"}},{key:"identifier",get:function(){return"default"}},{key:"icon",get:function(){return"icon.png"}},{key:"validContent",get:function(){var e;return null===(e=this.config)||void 0===e?void 0:e.validContent}},{key:"validContentIds",get:function(){var e=[];return this.validContent.forEach((function(t){return e.push(t.id)})),e}},{key:"getValidContentIds",value:function(e){var t=[];return this.validContent.forEach((function(n){n.content.every((function(t){return e.some((function(e){return t===e.content}))}))&&t.push(n.id)})),t}},{key:"getValidStreams",value:function(e){var t=[];return this.validContent.forEach((function(n){var r=[];n.content.every((function(t){return e.some((function(e){if(t===e.content)return r.push(e),!0}))}))&&t.push(r)})),t}},{key:"canApply",value:function(e){return this.getValidStreams(e).length>0}},{key:"getLayoutStructure",value:function(){return{}}},{key:"getVideoCanvasButtons",value:function(e,t,n){return[]}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),c}(n(1547).Z)},646:(e,t,n)=>{n.d(t,{ZP:()=>m,m7:()=>w,nk:()=>k,ti:()=>_,zE:()=>y});var r=n(916),i=n(2650);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function a(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function s(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function s(e){a(o,r,i,s,u,"next",e)}function u(e){a(o,r,i,s,u,"throw",e)}s(void 0)}))}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}function p(e,t){return p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},p(e,t)}function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g(e);if(t){var i=g(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h(this,n)}}function h(e,t){if(t&&("object"===o(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function g(e){return g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},g(e)}var m=function(e){f(r,e);var t,n=d(r);function r(){return u(this,r),n.apply(this,arguments)}return c(r,[{key:"type",get:function(){return"video"}},{key:"streamType",get:function(){return"mp4"}},{key:"isCompatible",value:function(){return!1}},{key:"getVideoInstance",value:(t=s(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",null);case 1:case"end":return e.stop()}}),e)}))),function(){return t.apply(this,arguments)})}]),r}(i.ZP),v=[];function y(e){return b.apply(this,arguments)}function b(){return(b=s(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,i.FP)(t,"video",(function(e){v.push(e)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(e){return A.apply(this,arguments)}function A(){return(A=s(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _(e,t){var n=function(e){if(0===v.length)throw Error("No video plugins loaded. Note that `loadVideoPlugins()` must to be called before using `getVideoPlugins()`.");return v}(),r=null;return n.some((function(e){if(e.isCompatible(t))return r=e,!0})),r}var k=function(e){f(T,e);var t,n,r,i,o,a,l,p,h,g,m,v,y,b,w,A,_,k,x,E,C=d(T);function T(e,t,n){var r;return u(this,T),(r=C.call(this,t,{tag:e,attributes:{class:"video-player"},parent:n}))._streamProvider=null,r._streamData=null,r._ready=!1,r}return c(T,[{key:"streamData",get:function(){return this._streamData}},{key:"ready",get:function(){return this._ready}},{key:"load",value:(E=s(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._streamProvider=n,this._streamData=t,e.next=4,this.loadStreamData(t);case 4:return r=e.sent,e.abrupt("return",r);case 6:case"end":return e.stop()}}),e,this)}))),function(e,t){return E.apply(this,arguments)})},{key:"isMainAudioPlayer",get:function(){return this._streamProvider.mainAudioPlayer===this}},{key:"onVideoEnded",value:function(e){this._videoEndedCallback=e}},{key:"play",value:(x=s(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!1);case 1:case"end":return e.stop()}}),e)}))),function(){return x.apply(this,arguments)})},{key:"pause",value:(k=s(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!1);case 1:case"end":return e.stop()}}),e)}))),function(){return k.apply(this,arguments)})},{key:"duration",value:(_=s(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",-1);case 1:case"end":return e.stop()}}),e)}))),function(){return _.apply(this,arguments)})},{key:"currentTimeSync",get:function(){return-1}},{key:"currentTime",value:(A=s(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",-1);case 1:case"end":return e.stop()}}),e)}))),function(){return A.apply(this,arguments)})},{key:"setCurrentTime",value:(w=s(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!1);case 1:case"end":return e.stop()}}),e)}))),function(){return w.apply(this,arguments)})},{key:"volume",value:(b=s(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",-1);case 1:case"end":return e.stop()}}),e)}))),function(){return b.apply(this,arguments)})},{key:"setVolume",value:(y=s(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!1);case 1:case"end":return e.stop()}}),e)}))),function(){return y.apply(this,arguments)})},{key:"paused",value:(v=s(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)}))),function(){return v.apply(this,arguments)})},{key:"playbackRate",value:(m=s(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",-1);case 1:case"end":return e.stop()}}),e)}))),function(){return m.apply(this,arguments)})},{key:"setPlaybackRate",value:(g=s(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!1);case 1:case"end":return e.stop()}}),e)}))),function(){return g.apply(this,arguments)})},{key:"getQualities",value:(h=s(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",null);case 1:case"end":return e.stop()}}),e)}))),function(){return h.apply(this,arguments)})},{key:"setQuality",value:(p=s(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!1);case 1:case"end":return e.stop()}}),e)}))),function(){return p.apply(this,arguments)})},{key:"currentQuality",get:function(){return null}},{key:"getDimensions",value:(l=s(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",null);case 1:case"end":return e.stop()}}),e)}))),function(){return l.apply(this,arguments)})},{key:"supportsMultiaudio",value:(a=s(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!1);case 1:case"end":return e.stop()}}),e)}))),function(){return a.apply(this,arguments)})},{key:"getAudioTracks",value:(o=s(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",null);case 1:case"end":return e.stop()}}),e)}))),function(){return o.apply(this,arguments)})},{key:"setCurrentAudioTrack",value:(i=s(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),function(){return i.apply(this,arguments)})},{key:"currentAudioTrack",get:function(){return null}},{key:"loadStreamData",value:(r=s(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!1);case 1:case"end":return e.stop()}}),e)}))),function(e){return r.apply(this,arguments)})},{key:"enable",value:(n=s(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),function(){return n.apply(this,arguments)})},{key:"disable",value:(t=s(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),function(){return t.apply(this,arguments)})}]),T}(r.FZ)},625:(e,t,n)=>{n.d(t,{Z:()=>r});var r=function(){function e(t){var n=t.label,r=t.shortLabel,i=t.isAuto,o=void 0!==i&&i,a=t.index,s=void 0===a?0:a,u=t.src,l=void 0===u?"":u,c=t.width,f=void 0===c?-1:c,p=t.height,d=void 0===p?-1:p,h=t.bitrate,g=void 0===h?-1:h;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._label=n,this._shortLabel=r,this._index=s,this._src=l,this._res={w:f,h:d},this._bitrate=g,this._isAuto=o}var t,n;return t=e,(n=[{key:"label",get:function(){return this._label}},{key:"shortLabel",get:function(){return this._shortLabel}},{key:"index",get:function(){return this._index}},{key:"src",get:function(){return this._src}},{key:"res",get:function(){return this._res}},{key:"bitrate",get:function(){return this._bitrate}},{key:"isAuto",get:function(){return this._isAuto}},{key:"quality",get:function(){return-1!==this._res.w&&-1!==this._res.h?this._res.w*this._res.h:this._bitrate}},{key:"compare",value:function(e){return e.quality-this.quality}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}()},916:(e,t,n)=>{function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e,t){return i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},i(e,t)}function o(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return a(e)}function a(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s(e){return s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},s(e)}function u(e){var t=e.tag,n=void 0===t?"div":t,r=e.attributes,i=void 0===r?{}:r,o=e.children,a=void 0===o?"":o,s=e.innerText,u=void 0===s?"":s,l=e.parent,c=void 0===l?null:l,f=document.createElement(n);for(var p in f.innerText=u,i)f.setAttribute(p,i[p]);return f.innerHTML=a,c&&c.appendChild(f),f}function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=document.createElement("div");n.innerHTML=e;var r=n.children[0];return t&&t.appendChild(r),r}n.d(t,{FZ:()=>c,az:()=>u,jS:()=>l});var c=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&i(e,t)}(f,e);var t,n,r,l,c=(r=f,l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=s(r);if(l){var n=s(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return o(this,e)});function f(e,t){var n,r=t.tag,i=void 0===r?"div":r,o=t.attributes,s=void 0===o?[]:o,l=t.children,p=void 0===l?"":l,d=t.parent,h=void 0===d?null:d;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f),(n=c.call(this,e))._element=u({tag:i,attributes:s,children:p,parent:h}),Object.defineProperty(a(n),i,{get:function(){return n._element}}),n}return t=f,(n=[{key:"element",get:function(){return this._element}},{key:"parent",get:function(){return this._element.parentElement}},{key:"hide",value:function(){this.element.style.display="none"}},{key:"show",value:function(){this.element.style.display="block"}},{key:"isVisible",get:function(){var e=window.getComputedStyle(this.element);return"none"!==e.display&&""!==e.display}},{key:"setAttribute",value:function(e,t){this._element.setAttribute(e,t)}},{key:"removeFromParent",value:function(){var e;null===(e=this._element.parentElement)||void 0===e||e.removeChild(this._element)}},{key:"setParent",value:function(e){this.removeFromParent(),e.appendChild(this._element)}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),f}(n(2624).Z)},1401:(e,t,n)=>{n.r(t),n.d(t,{clearAutoHideTimer:()=>h,getCookie:()=>y,getHashParameter:()=>l,getUrlParameter:()=>u,isAbsoluteUrl:()=>f,joinPath:()=>c,loadStyle:()=>b,loadSvgIcon:()=>s,resolveResourcePath:()=>p,secondsToTime:()=>g,setCookie:()=>v,setupAutoHideUiTimer:()=>d,timeToSeconds:()=>m});var r=n(980),i=n(6911);function o(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function a(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function s(e){o(a,r,i,s,u,"next",e)}function u(e){o(a,r,i,s,u,"throw",e)}s(void 0)}))}}function s(e){return new Promise((function(t,n){fetch(e).then((function(e){return e.text()})).then((function(e){t(e)})).catch((function(e){return n(e)}))}))}function u(e){var t=new URLSearchParams(window.location.search);return t.has(e)?t.get(e):null}function l(e){var t=window.location.hash.replace("#","?"),n=new URLSearchParams(t);return n.has(e)?n.get(e):null}function c(e,t){var n=t||"/";return(e=e.map((function(t,r){return r&&(t=t.replace(new RegExp("^"+n),"")),r!==e.length-1&&(t=t.replace(new RegExp(n+"$"),"")),t}))).join(n)}function f(e){return new RegExp("^([a-z]+://|//)","i").test(e)||/^\//.test(e)}function p(e,t){return f(t)?t:c([e.manifestUrl,t])}function d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"hideUiTime";e.__hideTimer__=null;var n=function(){var r=a(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return e.__hideTimer__&&clearTimeout(e.__hideTimer__),r.next=3,e.showUserInterface();case 3:e.__hideTimer__=setTimeout(a(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.__hideTimer__=null,!i.Z.IsSomePopUpVisible()){t.next=7;break}e.log.debug("UI not hidden because there are visible pop ups"),n(),t.next=9;break;case 7:return t.next=9,e.hideUserInterface();case 9:case"end":return t.stop()}}),t)}))),e[t]);case 4:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}();e.containerElement.addEventListener("mousemove",function(){var e=a(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n();case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),(0,r.GT)(e,r.ZP.PLAY,a(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n();case 1:case"end":return e.stop()}}),e)})))),(0,r.GT)(e,r.ZP.PAUSE,a(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.showUserInterface();case 2:case"end":return t.stop()}}),t)})))),(0,r.GT)(e,r.ZP.ENDED,a(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.showUserInterface();case 2:case"end":return t.stop()}}),t)}))))}function h(e){e.__hideTimer__&&(clearTimeout(e.__hideTimer__),delete e.__hideTimer__)}function g(e){var t=Math.floor(e/60/60),n=Math.floor(e/60)-60*t,r=Math.floor(e%60);return(t>0?t.toString().padStart(2,"0")+":":"")+n.toString().padStart(2,"0")+":"+r.toString().padStart(2,"0")}function m(e){var t=/(?:(\d*):){0,1}(\d*):(\d*)/.exec(e);return t?3600*(void 0!==t[1]?Number(t[1]):0)+60*Number(t[2])+Number(t[3]):null}function v(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:365,r=new Date;r.setTime(r.getTime()+24*n*60*60*1e3);var i="expires=".concat(r.toUTCString());document.cookie="".concat(e,"=").concat(t,";").concat(i,";path=/")}function y(e){for(var t=e+"=",n=decodeURIComponent(document.cookie).split(";"),r=0;r<n.length;++r){for(var i=n[r];" "==i.charAt(0);)i=i.substring(1);if(0==i.indexOf(t))return i.substring(t.length,i.length)}return""}function b(e){return new Promise((function(t){var n=document.createElement("link");n.setAttribute("rel","stylesheet"),n.setAttribute("href",e),n.onload=function(){return t()},document.getElementsByTagName("head")[0].appendChild(n)}))}},99:(e,t,n)=>{n.r(t),n.d(t,{default:()=>c});var r=n(7133),i=n(4147);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){return s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},s(e,t)}function u(e,t){if(t&&("object"===o(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function l(e){return l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},l(e)}var c=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s(e,t)}(f,e);var t,n,r,o,c=(r=f,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=l(r);if(o){var n=l(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return u(this,e)});function f(){return a(this,f),c.apply(this,arguments)}return t=f,(n=[{key:"moduleName",get:function(){return"paella-core default data plugins"}},{key:"moduleVersion",get:function(){return i.version}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),f}(r.Z)},6016:(e,t,n)=>{n.r(t),n.d(t,{default:()=>p});var r=n(1285),i=n(1401);function o(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function a(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function s(e){o(a,r,i,s,u,"next",e)}function u(e){o(a,r,i,s,u,"throw",e)}s(void 0)}))}}function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){return l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},l(e,t)}function c(e,t){if(t&&("object"===s(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}var p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&l(e,t)}(m,e);var t,n,r,o,p,d,h,g=(d=m,h=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=f(d);if(h){var n=f(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return c(this,e)});function m(){return u(this,m),g.apply(this,arguments)}return t=m,n=[{key:"serializeKey",value:function(e,t){return"object"===s(t)&&(t=JSON.stringify(t)),"".concat(e,"|").concat(t)}},{key:"read",value:(p=a(regeneratorRuntime.mark((function e(t,n){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=this.serializeKey(t,n),o=(0,i.getCookie)(r);try{o=unescape(o),o=JSON.parse(o)}catch(e){}return this.player.log.debug("CookieDataPlugin.read: ".concat(r)),e.abrupt("return",o);case 5:case"end":return e.stop()}}),e,this)}))),function(e,t){return p.apply(this,arguments)})},{key:"write",value:(o=a(regeneratorRuntime.mark((function e(t,n,r){var o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=this.serializeKey(t,n),r&&"object"===s(r))try{r=JSON.stringify(r)}catch(e){this.player.log.warn("CookieDataPlugin.write: ".concat(o,": invalid data object.")),r=""}r=escape(r),(0,i.setCookie)(o,r),this.player.log.debug("CookieDataPlugin.write: ".concat(o));case 5:case"end":return e.stop()}}),e,this)}))),function(e,t,n){return o.apply(this,arguments)})},{key:"remove",value:(r=a(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=this.serializeKey(t,n),(0,i.setCookie)(r,""),this.player.log.debug("CookieDataPlugin.remove: ".concat(r));case 3:case"end":return e.stop()}}),e,this)}))),function(e,t){return r.apply(this,arguments)})}],n&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),m}(r.e)},4493:(e,t,n)=>{n.r(t),n.d(t,{default:()=>c});var r=n(7133),i=n(4147);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){return s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},s(e,t)}function u(e,t){if(t&&("object"===o(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function l(e){return l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},l(e)}var c=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s(e,t)}(f,e);var t,n,r,o,c=(r=f,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=l(r);if(o){var n=l(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return u(this,e)});function f(){return a(this,f),c.apply(this,arguments)}return t=f,(n=[{key:"moduleName",get:function(){return"paella-core default video layouts"}},{key:"moduleVersion",get:function(){return i.version}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),f}(r.Z)},7236:(e,t,n)=>{n.r(t),n.d(t,{default:()=>M});var r=n(3063),i=n(1401),o=n(4382),a=n(6300),s=n.n(a),u=n(3725),l=n.n(u),c=n(3973),f=n.n(c),p=n(8221),d=n.n(p),h=n(9724),g=n.n(h),m=n(1042),v=n.n(m),y=n(6208),b=n.n(y),w=n(1550),A=n.n(w),_=n(1835),k=n.n(_);function x(e){return x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},x(e)}function E(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function C(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){E(o,r,i,a,s,"next",e)}function s(e){E(o,r,i,a,s,"throw",e)}a(void 0)}))}}function T(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S(){return S="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=R(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},S.apply(this,arguments)}function R(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=O(e)););return e}function L(e,t){return L=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},L(e,t)}function P(e,t){if(t&&("object"===x(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function O(e){return O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},O(e)}l(),f(),g();var I=0,D=[{id:"side-by-side",videos:[{content:null,rect:[{aspectRatio:"16/9",width:560,height:315,top:218,left:712},{aspectRatio:"16/10",width:560,height:350,top:206,left:712},{aspectRatio:"4/3",width:560,height:420,top:173,left:712},{aspectRatio:"5/3",width:560,height:336,top:206,left:712},{aspectRatio:"5/4",width:560,height:448,top:160,left:712}],visible:!0,layer:1},{content:null,rect:[{aspectRatio:"16/9",width:688,height:387,top:166,left:10},{aspectRatio:"16/10",width:688,height:430,top:148,left:10},{aspectRatio:"4/3",width:688,height:516,top:111,left:10},{aspectRatio:"5/3",width:690,height:414,top:154,left:10},{aspectRatio:"5/4",width:690,height:552,top:96,left:10}],visible:!0,layer:"1"}],buttons:[]},{id:"pip-left",videos:[{content:null,rect:[{aspectRatio:"16/9",left:0,top:0,width:1280,height:720},{aspectRatio:"16/10",left:64,top:0,width:1152,height:720},{aspectRatio:"5/3",left:40,top:0,width:1200,height:720},{aspectRatio:"5/4",left:190,top:0,width:900,height:720},{aspectRatio:"4/3",left:160,top:0,width:960,height:720}],visible:!0,layer:1},{content:null,rect:[{aspectRatio:"16/9",left:50,top:470,width:350,height:197},{aspectRatio:"16/10",left:50,top:448,width:350,height:219},{aspectRatio:"5/3",left:50,top:457,width:350,height:210},{aspectRatio:"5/4",left:50,top:387,width:350,height:280},{aspectRatio:"4/3",left:50,top:404,width:350,height:262}],visible:!0,layer:2}],buttons:[]},{id:"pip-right",videos:[{content:null,rect:[{aspectRatio:"16/9",left:0,top:0,width:1280,height:720},{aspectRatio:"16/10",left:64,top:0,width:1152,height:720},{aspectRatio:"5/3",left:40,top:0,width:1200,height:720},{aspectRatio:"5/4",left:190,top:0,width:900,height:720},{aspectRatio:"4/3",left:160,top:0,width:960,height:720}],visible:!0,layer:1},{content:null,rect:[{aspectRatio:"16/9",left:880,top:470,width:350,height:197},{aspectRatio:"16/10",left:880,top:448,width:350,height:219},{aspectRatio:"5/3",left:880,top:457,width:350,height:210},{aspectRatio:"5/4",left:880,top:387,width:350,height:280},{aspectRatio:"4/3",left:880,top:404,width:350,height:262}],visible:!0,layer:2}],buttons:[]}];function B(e,t){return I=t<D.length?t:I,j(e)}function j(e){var t=JSON.parse(JSON.stringify(D[I]));return t.videos[0].content=e[0],t.videos[1].content=e[1],t}var M=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&L(e,t)}(f,e);var t,n,r,a,u,l,c=(u=f,l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=O(u);if(l){var n=O(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return P(this,e)});function f(){return T(this,f),c.apply(this,arguments)}return t=f,n=[{key:"identifier",get:function(){return"dual-video"}},{key:"load",value:(a=C(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:""!==(t=(0,i.getCookie)("dualVideoLayoutIndex"))&&(I=Number(t)),this.player.log.debug("Dual video layout loaded");case 3:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"getValidStreams",value:function(e){return S(O(f.prototype),"getValidStreams",this).call(this,e).filter((function(e){return 2===e.length}))}},{key:"switchContent",value:function(){var e=this._currentContent[0],t=this._currentContent[1];this._currentContent[0]=t,this._currentContent[1]=e,this.player.videoContainer.updateLayout()}},{key:"switchMinimized",value:function(){var e;e=this._currentContent,I=(I+1)%D.length,j(e),this.player.videoContainer.updateLayout()}},{key:"minimizeVideo",value:function(e){var t=!0;if(e===this._currentContent[0]){var n=this._currentContent[0],r=this._currentContent[1];this._currentContent[0]=r,this._currentContent[1]=n,t=!1}B(this._currentContent,1===I&&t?2:1),this.player.videoContainer.updateLayout()}},{key:"setSideBySide",value:function(){B(this._currentContent,0),this.player.videoContainer.updateLayout()}},{key:"minimizedContent",get:function(){return 0===I?"":this._currentContent[1]}},{key:"closeVideo",value:function(e){var t=this.player.videoContainer.validContentIds.filter((function(e){return-1===e.indexOf("-")})).find((function(t){return t!=e}));this.player.videoContainer.setLayout(t)}},{key:"getVideoCanvasButtons",value:function(e,t,n,r){var i=this;if("side-by-side"===e.id)return[{icon:s(),position:o.iN.LEFT,title:this.player.translate("Swap position of the videos"),ariaLabel:this.player.translate("Swap position of the videos"),click:function(){i.switchContent()}},{icon:A(),position:o.iN.LEFT,title:this.player.translate("Maximize video"),ariaLabel:this.player.translate("Maximize video"),click:function(){i.minimizeVideo(t),i.switchContent()}},{icon:k(),position:o.iN.RIGHT,title:this.player.translate("Close video"),ariaLabel:this.player.translate("Close video"),click:function(){i.closeVideo(t)}}];var a=[];return t===this.minimizedContent?(a.push({icon:A(),position:o.iN.LEFT,title:this.player.translate("Maximize video"),ariaLabel:this.player.translate("Maximize video"),click:function(){i.switchContent()}}),a.push({icon:b(),position:o.iN.LEFT,title:this.player.translate("Place the video on the other side of the screen"),ariaLabel:this.player.translate("Place the video on the other side of the screen"),click:function(){i.minimizeVideo(t)}}),a.push({icon:k(),position:o.iN.RIGHT,title:this.player.translate("Close video"),ariaLabel:this.player.translate("Close video"),click:function(){i.closeVideo(t)}})):(a.push({icon:d(),position:o.iN.LEFT,title:this.player.translate("Minimize video"),ariaLabel:this.player.translate("Minimize video"),click:function(){i.switchContent()}}),a.push({icon:v(),position:o.iN.LEFT,title:this.player.translate("Put the videos side by side"),ariaLabel:this.player.translate("Put the videos side by side"),click:function(){i.setSideBySide()}}),a.push({icon:k(),position:o.iN.RIGHT,title:this.player.translate("Close video"),ariaLabel:this.player.translate("Close video"),click:function(){i.closeVideo(t)}})),a}},{key:"getLayoutStructure",value:function(e,t){if(!this._currentContent||this._currentContentId!==t){var n=this.validContent.find((function(e){return e.id===t})),r=n.content;this._currentContent=r,this._currentContentId=t;var o=(0,i.getCookie)("dualVideoLayoutContent0"),a=(0,i.getCookie)("dualVideoLayoutContent1");""!==o&&""!==a&&-1!==this._currentContent.indexOf(o)&&-1!==this._currentContent.indexOf(a)&&(this._currentContent[0]=o,this._currentContent[1]=a)}var s=j(this._currentContent),u={id:s.id,player:this.player,name:{es:"Dos streams con posición dinámica"},hidden:!1,videos:s.videos,buttons:[]};return(0,i.setCookie)("dualVideoLayoutIndex",I),(0,i.setCookie)("dualVideoLayoutContent0",this._currentContent[0]),(0,i.setCookie)("dualVideoLayoutContent1",this._currentContent[1]),u}},{key:"getDictionaries",value:(r=C(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={es:{"Swap between side by side and minimized video":"Cambiar la disposición de los dos vídeos entre minimizado y del mismo tamaño","Swap the position of the videos":"Intercambiar la posición de los vídeos"}},e.abrupt("return",t);case 2:case"end":return e.stop()}}),e)}))),function(){return r.apply(this,arguments)})}],n&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),f}(r.ZP)},8785:(e,t,n)=>{n.r(t),n.d(t,{default:()=>g});var r=n(4382),i=n(3063),o=n(1042),a=n.n(o);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function u(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(){return c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=f(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},c.apply(this,arguments)}function f(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=h(e)););return e}function p(e,t){return p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},p(e,t)}function d(e,t){if(t&&("object"===s(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}var g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}(m,e);var t,n,i,o,s,f,g=(s=m,f=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=h(s);if(f){var n=h(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return d(this,e)});function m(){return l(this,m),g.apply(this,arguments)}return t=m,n=[{key:"identifier",get:function(){return"single-video"}},{key:"load",value:(i=regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.player.log.debug("Single video layout loaded");case 1:case"end":return e.stop()}}),e,this)})),o=function(){var e=this,t=arguments;return new Promise((function(n,r){var o=i.apply(e,t);function a(e){u(o,n,r,a,s,"next",e)}function s(e){u(o,n,r,a,s,"throw",e)}a(void 0)}))},function(){return o.apply(this,arguments)})},{key:"getValidStreams",value:function(e){return c(h(m.prototype),"getValidStreams",this).call(this,e).filter((function(e){return 1===e.length}))}},{key:"getVideoCanvasButtons",value:function(e,t,n,i){var o=this;return this._multiStream?[{icon:a(),position:r.iN.LEFT,title:this.player.translate("Show second video stream"),ariaLabel:this.player.translate("Show second video stream"),click:function(){o.player.videoContainer.setLayout("presenter-presentation")}}]:[]}},{key:"getLayoutStructure",value:function(e,t){var n=this.validContent.find((function(e){return e.id===t})),r={player:this.player,name:{es:"One stream"},hidden:!1,videos:[{content:n.content[0],rect:[{aspectRatio:"1/1",left:280,top:0,width:720,height:720},{aspectRatio:"6/5",left:208,top:0,width:864,height:720},{aspectRatio:"5/4",left:190,top:0,width:900,height:720},{aspectRatio:"4/3",left:160,top:0,width:960,height:720},{aspectRatio:"11/8",left:145,top:0,width:990,height:720},{aspectRatio:"1.41/1",left:132,top:0,width:1015,height:720},{aspectRatio:"1.43/1",left:125,top:0,width:1029,height:720},{aspectRatio:"3/2",left:100,top:0,width:1080,height:720},{aspectRatio:"16/10",left:64,top:0,width:1152,height:720},{aspectRatio:"5/3",left:40,top:0,width:1200,height:720},{aspectRatio:"16/9",left:0,top:0,width:1280,height:720},{aspectRatio:"1.85/1",left:0,top:14,width:1280,height:692},{aspectRatio:"2.35/1",left:0,top:87,width:1280,height:544},{aspectRatio:"2.41/1",left:0,top:94,width:1280,height:531},{aspectRatio:"2.76/1",left:0,top:128,width:1280,height:463}],visible:!0,layer:1}],background:{content:"slide_professor_paella.jpg",zIndex:5,rect:{left:0,top:0,width:1280,height:720},visible:!0,layer:0},logos:[{content:"paella_logo.png",zIndex:5,rect:{top:10,left:10,width:49,height:42}}],buttons:[],onApply:function(){}};return e.length>1&&(this._multiStream=!0),r}}],n&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),m}(i.ZP)},2128:(e,t,n)=>{n.r(t),n.d(t,{default:()=>m});var r=n(3063),i=n(6300),o=n.n(i);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function s(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){s(o,r,i,a,u,"next",e)}function u(e){s(o,r,i,a,u,"throw",e)}a(void 0)}))}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(){return c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=f(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},c.apply(this,arguments)}function f(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=h(e)););return e}function p(e,t){return p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},p(e,t)}function d(e,t){if(t&&("object"===a(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}var g={videos:[{content:{},rect:[{aspectRatio:"16/9",left:239,top:17,width:803,height:451}],visible:!0,layer:1},{content:{},rect:[{aspectRatio:"16/9",left:44,top:482,width:389,height:218}],visible:!0,layer:1},{content:{},rect:[{aspectRatio:"16/9",left:847,top:482,width:389,height:218}],visible:!0,layer:1}],buttons:[{rect:{left:618,top:495,width:45,height:45},onClick:function(e){this.rotate()},label:"Rotate",icon:"icon_rotate.svg",layer:2}]},m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}(m,e);var t,n,r,i,a,s,f=(a=m,s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=h(a);if(s){var n=h(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return d(this,e)});function m(){return l(this,m),f.apply(this,arguments)}return t=m,n=[{key:"identifier",get:function(){return"triple-video"}},{key:"load",value:(i=u(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.player.log.debug("Triple video layout loaded");case 1:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"getValidStreams",value:function(e){return c(h(m.prototype),"getValidStreams",this).call(this,e).filter((function(e){return 3===e.length}))}},{key:"switchContent",value:function(){var e=this._currentContent[0],t=this._currentContent[1],n=this._currentContent[2];this._currentContent[0]=n,this._currentContent[1]=e,this._currentContent[2]=t,this.player.videoContainer.updateLayout()}},{key:"getLayoutStructure",value:function(e,t){var n=this;if(!this._currentContent||this._currentContentId!==t){this._currentContentId=t;var r=this.validContent.find((function(e){return e.id===t})),i=r.content;this._currentContent=i}var a=function(e){var t=JSON.parse(JSON.stringify(g));return t.videos[0].content=e[0],t.videos[1].content=e[1],t.videos[2].content=e[2],t}(this._currentContent);return{player:this.player,name:{es:"Three streams with dynamic position"},hidden:!1,videos:a.videos,buttons:[{rect:a.buttons[0].rect,onClick:function(){n.switchContent()},label:"Switch",icon:o(),layer:2,ariaLabel:"Swap the position of the videos",title:"Swap the position of the videos"}]}}},{key:"getDictionaries",value:(r=u(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{es:{"Swap between side by side and minimized video":"Cambiar la disposición de los dos vídeos entre minimizado y del mismo tamaño","Swap the position of the videos":"Intercambiar la posición de los vídeos"}});case 1:case"end":return e.stop()}}),e)}))),function(){return r.apply(this,arguments)})}],n&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),m}(r.ZP)},1481:(e,t,n)=>{n.r(t),n.d(t,{default:()=>c});var r=n(7133),i=n(4147);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){return s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},s(e,t)}function u(e,t){if(t&&("object"===o(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function l(e){return l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},l(e)}var c=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s(e,t)}(f,e);var t,n,r,o,c=(r=f,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=l(r);if(o){var n=l(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return u(this,e)});function f(){return a(this,f),c.apply(this,arguments)}return t=f,(n=[{key:"moduleName",get:function(){return"paella-core default plugins"}},{key:"moduleVersion",get:function(){return i.version}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),f}(r.Z)},6384:(e,t,n)=>{n.r(t),n.d(t,{default:()=>f});var r=n(9267);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function o(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function a(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function s(e){o(a,r,i,s,u,"next",e)}function u(e){o(a,r,i,s,u,"throw",e)}s(void 0)}))}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){return u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},u(e,t)}function l(e,t){if(t&&("object"===i(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}var f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u(e,t)}(d,e);var t,n,i,o,f,p=(o=d,f=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=c(o);if(f){var n=c(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return l(this,e)});function d(){return s(this,d),p.apply(this,arguments)}return t=d,n=[{key:"getKeys",value:(i=a(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",[{keyCode:r.mW.KeyM,description:"Collision key shortcut",keyModifiers:{ctrlKey:!1},action:function(){var e=a(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("Test collision shortcut");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]);case 1:case"end":return e.stop()}}),e)}))),function(){return i.apply(this,arguments)})}],n&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),d}(r.ZP)},5026:(e,t,n)=>{n.r(t),n.d(t,{default:()=>p});var r=n(9267),i=n(6911);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function a(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function s(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function s(e){a(o,r,i,s,u,"next",e)}function u(e){a(o,r,i,s,u,"throw",e)}s(void 0)}))}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){return l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},l(e,t)}function c(e,t){if(t&&("object"===o(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}var p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&l(e,t)}(k,e);var t,n,o,a,p,d,h,g,m,v,y,b,w,A,_=(w=k,A=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=f(w);if(A){var n=f(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return c(this,e)});function k(){return u(this,k),_.apply(this,arguments)}return t=k,n=[{key:"toggleCaptions",value:function(){var e,t,n,r=this;if((null===(e=this.player)||void 0===e||null===(t=e.captionsCanvas)||void 0===t||null===(n=t.captions)||void 0===n?void 0:n.length)>0)if(this.player.captionsCanvas.isVisible)this.player.captionsCanvas.disableCaptions();else{var i=null;navigator.languages.some((function(e){return r.player.captionsCanvas.captions.some((function(t,n){return e==t.language&&(i=n,!0)}))})),this.player.captionsCanvas.enableCaptions({index:i||0})}}},{key:"togglePlayPause",value:(b=s(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.player.paused();case 2:if(!e.sent){e.next=8;break}return e.next=6,this.player.play();case 6:e.next=10;break;case 8:return e.next=10,this.player.pause();case 10:case"end":return e.stop()}}),e,this)}))),function(){return b.apply(this,arguments)})},{key:"toggleFullscreen",value:(y=s(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.player.isFullscreen){e.next=5;break}return e.next=3,this.player.exitFullscreen();case 3:e.next=7;break;case 5:return e.next=7,this.player.enterFullscreen();case 7:case"end":return e.stop()}}),e,this)}))),function(){return y.apply(this,arguments)})},{key:"seek",value:(v=s(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.player.videoContainer.streamProvider.currentTime();case 2:return n=e.sent,e.next=5,this.player.videoContainer.streamProvider.setCurrentTime(n+t);case 5:case"end":return e.stop()}}),e,this)}))),function(e){return v.apply(this,arguments)})},{key:"incrementVolume",value:(m=s(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.player.videoContainer.streamProvider.volume();case 2:return n=e.sent,r=Math.min(Math.max(0,n+.01*t),1),e.next=6,this.player.videoContainer.setVolume(r);case 6:case"end":return e.stop()}}),e,this)}))),function(e){return m.apply(this,arguments)})},{key:"closePopUp",value:function(){i.Z.HideAllPopUps(!1)}},{key:"decreaseSpeed",value:(g=s(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.player.videoContainer.playbackRate();case 2:return t=e.sent,n=0,this._validPlaybackRates.some((function(e){if(0===n&&(n=e),!(e<t))return!0;n=e})),e.next=7,this.player.videoContainer.setPlaybackRate(n);case 7:case"end":return e.stop()}}),e,this)}))),function(){return g.apply(this,arguments)})},{key:"increaseSpeed",value:(h=s(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.player.videoContainer.playbackRate();case 2:return t=e.sent,n=0,this._validPlaybackRates.some((function(e){if(e>t)return n=e,!0})),0===n&&this._validPlaybackRates[this._validPlaybackRates.length-1],e.next=8,this.player.videoContainer.setPlaybackRate(n);case 8:case"end":return e.stop()}}),e,this)}))),function(){return h.apply(this,arguments)})},{key:"toggleVolume",value:(d=s(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.player.videoContainer.volume();case 2:if(!((t=e.sent)>0)){e.next=9;break}return this._lastVolume=t,e.next=7,this.player.videoContainer.setVolume(0);case 7:e.next=11;break;case 9:return e.next=11,this.player.videoContainer.setVolume(this._lastVolume||1);case 11:case"end":return e.stop()}}),e,this)}))),function(){return d.apply(this,arguments)})},{key:"load",value:(p=s(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._validPlaybackRates=this.config.validPlaybackRates||[.75,1,1.5,2],this._validPlaybackRates.sort((function(e,t){return e-t}));case 2:case"end":return e.stop()}}),e,this)}))),function(){return p.apply(this,arguments)})},{key:"getKeys",value:(a=s(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",[{keyCode:r.mW.KeyM,description:"Toggle audio mute",keyModifiers:{ctrlKey:!1},action:function(){var e=s(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.toggleVolume();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{keyCode:r.mW.KeyK,description:"Toggle play/pause",action:function(){var e=s(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.togglePlayPause();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{keyCode:r.mW.KeyJ,description:"Rewind 30 seconds",action:function(){var e=s(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.seek(-30);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{keyCode:r.mW.KeyL,description:"Forward 30 seconds",action:function(){var e=s(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.seek(30);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{keyCode:r.mW.Space,description:"Toggle play/pause",action:function(){var e=s(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.togglePlayPause();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{keyCode:r.mW.KeyF,description:"Toggle fullscreen",action:function(){var e=s(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.toggleFullscreen();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{keyCode:r.mW.KeyC,description:"Toggle Captions",action:function(){var e=s(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.toggleCaptions();case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{keyCode:r.mW.ArrowLeft,description:"Rewind 30 seconds",action:function(){var e=s(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.seek(-30);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{keyCode:r.mW.ArrowRight,description:"Forward 30 seconds",action:function(){var e=s(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.seek(30);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{keyCode:r.mW.ArrowUp,description:"Volume up 10%",action:function(){var e=s(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.incrementVolume(10);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{keyCode:r.mW.ArrowDown,description:"Volume down 10%",action:function(){var e=s(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.incrementVolume(-10);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{keyCode:r.mW.Escape,description:"Close Pop Up",action:function(){var e=s(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.closePopUp();case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{keyCode:r.mW.KeyU,description:"Decrease playback speed",action:function(){var e=s(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.decreaseSpeed();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{keyCode:r.mW.KeyO,description:"Increase playback speed",action:function(){var e=s(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.increaseSpeed();case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]);case 1:case"end":return e.stop()}}),e)}))),function(){return a.apply(this,arguments)})},{key:"getDictionaries",value:(o=s(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{es:{"Select the active audio track":"Seleccione la pista de audio activa","Toggle audio mute":"Conmutar el silencio de audio","Toggle play/pause":"Activar la reproducción/pausa","Toggle Captions":"Alternar subtítulos","Rewind 30 seconds":"Rebobinar 30 segundos","Forward 30 seconds":"Avanzar 30 segundos","Volume up 10%":"Aumenta el volumen un 10%.","Volume down 10%":"Reduce el volumen un 10%.","Close Pop Up":"Cerrar Pop Up","Decrease playback speed":"Reducir la velocidad de reproducción","Increase playback speed":"Aumentar la velocidad de reproducción"}});case 1:case"end":return e.stop()}}),e)}))),function(){return o.apply(this,arguments)})}],n&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),k}(r.ZP)},3591:(e,t,n)=>{n.r(t),n.d(t,{default:()=>m});var r=n(1768),i=n(980),o=n(5372),a=n.n(o),s=n(752),u=n.n(s);function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function c(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function f(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){c(o,r,i,a,s,"next",e)}function s(e){c(o,r,i,a,s,"throw",e)}a(void 0)}))}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){return d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},d(e,t)}function h(e,t){if(t&&("object"===l(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function g(e){return g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},g(e)}var m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d(e,t)}(v,e);var t,n,r,o,s,l,c,m=(l=v,c=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=g(l);if(c){var n=g(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return h(this,e)});function v(){return p(this,v),m.apply(this,arguments)}return t=v,n=[{key:"load",value:(s=f(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.icon=a(),(0,i.GT)(this.player,i.ZP.PLAY,(function(){t.icon=u()})),(0,i.GT)(this.player,i.ZP.PAUSE,(function(){t.icon=a()})),(0,i.GT)(this.player,i.ZP.ENDED,(function(){t.icon=a()})),(0,i.GT)(this.player,i.ZP.STOP,(function(){t.icon=a()}));case 5:case"end":return e.stop()}}),e,this)}))),function(){return s.apply(this,arguments)})},{key:"action",value:(o=f(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.player.paused();case 2:if(!e.sent){e.next=7;break}return e.next=5,this.player.videoContainer.play();case 5:e.next=9;break;case 7:return e.next=9,this.player.videoContainer.pause();case 9:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})},{key:"getDictionaries",value:(r=f(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{es:{"Play and pause button":"Reproducir y parar el vídeo"}});case 1:case"end":return e.stop()}}),e)}))),function(){return r.apply(this,arguments)})}],n&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),v}(r.ZP)},7858:(e,t,n)=>{n.r(t),n.d(t,{default:()=>p});var r=n(7488),i=n(9998),o=n.n(i);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function s(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){return l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},l(e,t)}function c(e,t){if(t&&("object"===a(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}var p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&l(e,t)}(h,e);var t,n,r,i,a,p,d=(a=h,p=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=f(a);if(p){var n=f(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return c(this,e)});function h(){return u(this,h),d.apply(this,arguments)}return t=h,n=[{key:"load",value:(r=regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.icon=o();case 1:case"end":return e.stop()}}),e,this)})),i=function(){var e=this,t=arguments;return new Promise((function(n,i){var o=r.apply(e,t);function a(e){s(o,n,i,a,u,"next",e)}function u(e){s(o,n,i,a,u,"throw",e)}a(void 0)}))},function(){return i.apply(this,arguments)})}],n&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),h}(r.Z)},2694:(e,t,n)=>{function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){return o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},o(e,t)}function a(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function s(e){return s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},s(e)}n.r(t),n.d(t,{default:()=>u});var u=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&o(e,t)}(l,e);var t,n,r,u=(n=l,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=s(n);if(r){var i=s(this).constructor;e=Reflect.construct(t,arguments,i)}else e=t.apply(this,arguments);return a(this,e)});function l(){return i(this,l),u.apply(this,arguments)}return t=l,Object.defineProperty(t,"prototype",{writable:!1}),t}(n(8704).Z)},5651:(e,t,n)=>{n.r(t),n.d(t,{default:()=>f});var r=n(8984),i=n(980);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function a(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){return u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},u(e,t)}function l(e,t){if(t&&("object"===o(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}var f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u(e,t)}(h,e);var t,n,r,o,f,p,d=(f=h,p=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=c(f);if(p){var n=c(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return l(this,e)});function h(){return s(this,h),d.apply(this,arguments)}return t=h,n=[{key:"events",get:function(){return[i.ZP.PLAY,i.ZP.PAUSE,i.ZP.TIMEUPDATE,i.ZP.MANIFEST_LOADED,i.ZP.STREAM_LOADED,i.ZP.PLAYER_LOADED]}},{key:"onEvent",value:(r=regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.player.log.verbose(t),this.player.log.verbose(n);case 2:case"end":return e.stop()}}),e,this)})),o=function(){var e=this,t=arguments;return new Promise((function(n,i){var o=r.apply(e,t);function s(e){a(o,n,i,s,u,"next",e)}function u(e){a(o,n,i,s,u,"throw",e)}s(void 0)}))},function(e,t){return o.apply(this,arguments)})}],n&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),h}(r.ZP)},3508:(e,t,n)=>{n.r(t),n.d(t,{default:()=>d});var r=n(1768),i=n(9998),o=n.n(i);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function s(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){s(o,r,i,a,u,"next",e)}function u(e){s(o,r,i,a,u,"throw",e)}a(void 0)}))}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){return c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},c(e,t)}function f(e,t){if(t&&("object"===a(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}var d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&c(e,t)}(g,e);var t,n,r,i,a,s,d,h=(s=g,d=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=p(s);if(d){var n=p(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return f(this,e)});function g(){return l(this,g),h.apply(this,arguments)}return t=g,n=[{key:"foldableContainer",get:function(){return"left"===this.config.side?this.rightArea:this.leftArea}},{key:"load",value:(a=u(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.icon=o(),this.foldableContainer.style.display="none",this.foldableContainer.innerHTML="Foldable Container";case 3:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"mouseOver",value:(i=u(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.foldableContainer.style.display="inline-block";case 1:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})},{key:"mouseOut",value:(r=u(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.foldableContainer.style.display="none";case 1:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})}],n&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),g}(r.ZP)},7924:(e,t,n)=>{n.r(t),n.d(t,{default:()=>h});var r=n(7528),i=n(916),o=n(9998),a=n.n(o);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function u(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function l(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){u(o,r,i,a,s,"next",e)}function s(e){u(o,r,i,a,s,"throw",e)}a(void 0)}))}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){return f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},f(e,t)}function p(e,t){if(t&&("object"===s(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}var h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f(e,t)}(g,e);var t,n,r,o,s,u,h=(s=g,u=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=d(s);if(u){var n=d(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return p(this,e)});function g(){return c(this,g),h.apply(this,arguments)}return t=g,n=[{key:"popUpType",get:function(){return"timeline"}},{key:"getContent",value:(o=l(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=(0,i.jS)("<p>Pop Up Button Plugin Content 2</p>"),e.abrupt("return",t);case 2:case"end":return e.stop()}}),e)}))),function(){return o.apply(this,arguments)})},{key:"load",value:(r=l(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.icon=a(),this.title="2",t=this.player.captionsCanvas,this.player.log.debug(t);case 4:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})}],n&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),g}(r.Z)},9061:(e,t,n)=>{n.r(t),n.d(t,{default:()=>h});var r=n(7528),i=n(916),o=n(9998),a=n.n(o);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function u(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function l(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){u(o,r,i,a,s,"next",e)}function s(e){u(o,r,i,a,s,"throw",e)}a(void 0)}))}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){return f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},f(e,t)}function p(e,t){if(t&&("object"===s(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}var h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f(e,t)}(g,e);var t,n,r,o,s,u,h=(s=g,u=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=d(s);if(u){var n=d(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return p(this,e)});function g(){return c(this,g),h.apply(this,arguments)}return t=g,n=[{key:"popUpType",get:function(){return"timeline"}},{key:"getContent",value:(o=l(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=(0,i.jS)("<p>Pop Up Button Plugin Content 1</p>"),e.abrupt("return",t);case 2:case"end":return e.stop()}}),e)}))),function(){return o.apply(this,arguments)})},{key:"load",value:(r=l(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.icon=a(),this.title="1";case 2:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})}],n&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),g}(r.Z)},8539:(e,t,n)=>{n.r(t),n.d(t,{default:()=>h});var r=n(143),i=n(9998),o=n.n(i);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){return u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},u(e,t)}function l(e,t){if(t&&("object"===a(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}function f(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function p(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){f(o,r,i,a,s,"next",e)}function s(e){f(o,r,i,a,s,"throw",e)}a(void 0)}))}}var d=function(){var e=p(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){setTimeout((function(){t(),e()}),n)})));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u(e,t)}(g,e);var t,n,r,i,a,f,h=(a=g,f=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=c(a);if(f){var n=c(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return l(this,e)});function g(){return s(this,g),h.apply(this,arguments)}return t=g,n=[{key:"load",value:(i=p(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.icon=o(),this.title="tx",this.hide(),d((function(){return t.show()}),1e3);case 4:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"titleSize",get:function(){return"medium"}},{key:"popUpType",get:function(){return"no-modal"}},{key:"getMenu",value:(r=p(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[{id:0,title:"Option 1"},{id:1,title:"Option 2"},{id:2,title:"Option 3"},{id:3,title:"Option 4"},{id:4,title:"Option 5"},{id:0,title:"Option 6"},{id:1,title:"Option 7"},{id:2,title:"Option 8"},{id:3,title:"Option 9"},{id:4,title:"Option 10"}],e.abrupt("return",t);case 2:case"end":return e.stop()}}),e)}))),function(){return r.apply(this,arguments)})},{key:"itemSelected",value:function(e){0===e.id&&(this.refreshContent=!0)}},{key:"buttonType",get:function(){return"check"}}],n&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),g}(r.Z)},6761:(e,t,n)=>{n.r(t),n.d(t,{default:()=>g});var r=n(8704),i=n(1309),o=n(1401);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function s(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){s(o,r,i,a,u,"next",e)}function u(e){s(o,r,i,a,u,"throw",e)}a(void 0)}))}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(){return c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=f(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},c.apply(this,arguments)}function f(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=h(e)););return e}function p(e,t){return p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},p(e,t)}function d(e,t){if(t&&("object"===a(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}var g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}(m,e);var t,n,r,a,s,f,g=(s=m,f=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=h(s);if(f){var n=h(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return d(this,e)});function m(){return l(this,m),g.apply(this,arguments)}return t=m,n=[{key:"isEnabled",value:(a=u(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c(h(m.prototype),"isEnabled",this).call(this);case 2:return t=e.sent,e.abrupt("return",t&&this.player.videoManifest.captions&&this.player.videoManifest.captions.length>0);case 4:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"getCaptions",value:(r=u(regeneratorRuntime.mark((function e(){var t,n,r=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],n=[],this.player.videoManifest.captions.forEach((function(e){n.push(new Promise((function(n){if(/vtt/i.test(e.format)){var a=(0,o.resolveResourcePath)(r.player,e.url);fetch(a).then((function(e){if(e.ok)return e.text();reject()})).then((function(r){var o=new i.Z(r);o.captions.label=e.text,o.captions.language=e.lang,t.push(o.captions),n()}))}})))})),e.next=5,Promise.all(n);case 5:return e.abrupt("return",t);case 6:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})}],n&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),m}(r.Z)},477:(e,t,n)=>{n.r(t),n.d(t,{default:()=>c});var r=n(7133),i=n(4147);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){return s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},s(e,t)}function u(e,t){if(t&&("object"===o(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function l(e){return l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},l(e)}var c=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s(e,t)}(f,e);var t,n,r,o,c=(r=f,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=l(r);if(o){var n=l(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return u(this,e)});function f(){return a(this,f),c.apply(this,arguments)}return t=f,(n=[{key:"moduleName",get:function(){return"paella-core default video formats"}},{key:"moduleVersion",get:function(){return i.version}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),f}(r.Z)},310:(e,t,n)=>{n.r(t),n.d(t,{HlsLiveVideo:()=>E,default:()=>C});var r=n(7631),i=n.n(r),o=n(980),a=n(8069),s=n(646),u=n(625);function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function p(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){f(o,r,i,a,s,"next",e)}function s(e){f(o,r,i,a,s,"throw",e)}a(void 0)}))}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t,n){return t&&h(e.prototype,t),n&&h(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function m(){return m="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=v(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},m.apply(this,arguments)}function v(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_(e)););return e}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b(e,t)}function b(e,t){return b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},b(e,t)}function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_(e);if(t){var i=_(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return A(this,n)}}function A(e,t){if(t&&("object"===l(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function _(e){return _=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},_(e)}var k=(0,a.getHlsSupport)(),x=function(e,t,n,r,a){var s,u;a.withCredentials&&(r.xhrSetup=function(e,t){for(var n in e.withCredentials=a.withCredentials,a.requestHeaders){var r=a.requestHeaders[n];e.setRequestHeader(n,r)}});var l=new(i())(r),c=(null==t||null===(s=t.sources)||void 0===s||null===(u=s.hlsLive)||void 0===u?void 0:u.length)>0&&t.sources.hlsLive[0];return void 0!==r.initialQualityLevel&&r.initialQualityLevel,[l,new Promise((function(t,a){var s=!1;l.on(i().Events.LEVEL_SWITCHED,(function(t,n){(void 0).player.log.debug("HLS: quality level switched to ".concat(n.level)),s||(l.currentLevel=-1,s=!0),(0,o.qe)(e,o.ZP.VIDEO_QUALITY_CHANGED,{})})),l.on(i().Events.ERROR,(function(e,t){if(t.fatal)switch(t.type){case i().ErrorTypes.NETWORK_ERROR:t.details===i().ErrorDetails.MANIFEST_LOAD_ERROR?a(Error("hlsVideoFormatPlugin: unrecoverable error in HLS player. The video is not available")):(console.warn("hlsVideoFormatPlugin: Fatal network error. Try to recover"),l.startLoad());break;case i().ErrorTypes.MEDIA_ERROR:console.warn("hlsVideoFormatPlugin: Fatal media error encountered. Try to recover"),l.recoverMediaError();break;default:l.destroy(),a(Error("hlsVideoFormat: Fatal error. Can not recover"))}})),l.on(i().Events.MANIFEST_PARSED,(function(){r.autoStartLoad||l.autoStartLoad()}));var u=Math.floor(1e11*Math.random()),f=c.src+(/\?/.test(f)?"&cache=".concat(u):"?cache=".concat(u));l.loadSource(f),l.attachMedia(n),l._videoEventListener=function(){t()},n.addEventListener("canplay",l._videoEventListener)}))]},E=function(e){y(r,e);var t,n=w(r);function r(){return d(this,r),n.apply(this,arguments)}return g(r,[{key:"loadStreamData",value:(t=p(regeneratorRuntime.mark((function e(t){var n,i,o,s,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(k!==a.HlsSupport.NATIVE){e.next=5;break}return t.sources.mp4=t.sources.hls,e.abrupt("return",m(_(r.prototype),"loadStreamData",this).call(this,t));case 5:return this.player.log.debug("Loading HLS stream"),n=x(this.player,t,this.video,this._config,this._cors),i=function(e){if(Array.isArray(e))return e}(f=n)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),2!==o.length);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(f)||function(e,t){if(e){if("string"==typeof e)return c(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,2):void 0}}(f)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),o=i[0],s=i[1],this._hls=o,e.next=10,s;case 10:return this._autoQuality=new u.Z({label:"auto",shortLabel:"auto",index:-1,width:1,height:1,isAuto:!0}),this._currentQuality=this._autoQuality,e.next=14,this.getAudioTracks();case 14:l=e.sent,this._currentAudioTrack=l.find((function(e){return e.selected})),this.saveDisabledProperties(this.video);case 17:case"end":return e.stop()}var f}),e,this)}))),function(e){return t.apply(this,arguments)})}]),r}(a.HlsVideo),C=function(e){y(r,e);var t,n=w(r);function r(){return d(this,r),n.apply(this,arguments)}return g(r,[{key:"streamType",get:function(){return"hlsLive"}},{key:"isCompatible",value:function(e){return e.sources.hlsLive&&k}},{key:"getVideoInstance",value:(t=p(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new E(this.player,t,this.config,n));case 1:case"end":return e.stop()}}),e,this)}))),function(e,n){return t.apply(this,arguments)})}]),r}(s.ZP)},8069:(e,t,n)=>{n.r(t),n.d(t,{HlsSupport:()=>T,HlsVideo:()=>P,default:()=>O,defaultHlsConfig:()=>E,getHlsSupport:()=>S});var r=n(2604),i=n(646),o=n(625),a=n(2452),s=n(980),u=n(7631),l=n.n(u);function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function d(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function h(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){d(o,r,i,a,s,"next",e)}function s(e){d(o,r,i,a,s,"throw",e)}a(void 0)}))}}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t,n){return t&&m(e.prototype,t),n&&m(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function y(){return y="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=b(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},y.apply(this,arguments)}function b(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=x(e)););return e}function w(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&A(e,t)}function A(e,t){return A=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},A(e,t)}function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=x(e);if(t){var i=x(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return k(this,n)}}function k(e,t){if(t&&("object"===c(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function x(e){return x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},x(e)}var E={autoStartLoad:!0,startPosition:-1,capLevelToPlayerSize:!0,debug:!1,defaultAudioCodec:void 0,initialLiveManifestSize:1,maxBufferLength:6,maxMaxBufferLength:6,maxBufferSize:6e8,maxBufferHole:.5,lowBufferWatchdogPeriod:.5,highBufferWatchdogPeriod:3,nudgeOffset:.1,nudgeMaxRetry:3,maxFragLookUpTolerance:.2,enableWorker:!0,enableSoftwareAES:!0,manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:500,manifestLoadingMaxRetryTimeout:64e3,startLevel:void 0,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:500,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:500,fragLoadingMaxRetryTimeout:64e3,startFragPrefetch:!1,appendErrorMaxRetry:3,enableWebVTT:!0,enableCEA708Captions:!0,stretchShortVideoTrack:!1,maxAudioFramesDrift:1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:5,abrEwmaSlowLive:9,abrEwmaFastVoD:4,abrEwmaSlowVoD:15,abrEwmaDefaultEstimate:5e5,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,minAutoBitrate:0},C={withCredentials:!0,requestHeaders:{"Access-Control-Allow-Headers":"Content-Type, Accept, X-Requested-With","Access-Control-Allow-Origin":"http://localhost:8000","Access-Control-Allow-Credentials":"true"}},T={UNSUPPORTED:0,MEDIA_SOURCE_EXTENSIONS:1,NATIVE:2};function S(){var e=document.createElement("video");return l().isSupported()?T.MEDIA_SOURCE_EXTENSIONS:e.canPlayType("application/vnd.apple.mpegurl")?T.NATIVE:T.UNSUPPORTED}var R=S(),L=function(e,t,n,r,i){var o,a;i.withCredentials&&(r.xhrSetup=function(e,t){for(var n in e.withCredentials=i.withCredentials,i.requestHeaders){var r=i.requestHeaders[n];e.setRequestHeader(n,r)}});var u=new(l())(r),c=(null==t||null===(o=t.sources)||void 0===o||null===(a=o.hls)||void 0===a?void 0:a.length)>0&&t.sources.hls[0];return[u,new Promise((function(t,i){var o=!1;u.on(l().Events.LEVEL_SWITCHED,(function(t,n){e.log.debug("HLS: quality level switched to ".concat(n.level)),o||(u.currentLevel=-1,o=!0),(0,s.qe)(e,s.ZP.VIDEO_QUALITY_CHANGED,{})})),u.on(l().Events.ERROR,(function(t,n){if(n.fatal)switch(n.type){case l().ErrorTypes.NETWORK_ERROR:n.details===l().ErrorDetails.MANIFEST_LOAD_ERROR?i(Error("hlsVideoFormatPlugin: unrecoverable error in HLS player. The video is not available")):(console.warn("hlsVideoFormatPlugin: Fatal network error. Try to recover"),u.startLoad());break;case l().ErrorTypes.MEDIA_ERROR:console.warn("hlsVideoFormatPlugin: Fatal media error encountered. Try to recover"),u.recoverMediaError();break;default:u.destroy(),i(Error("hlsVideoFormat: Fatal error. Can not recover"))}else e.log.warn("HLS: error"),e.log.warn(n.details)})),u.on(l().Events.MANIFEST_PARSED,(function(){r.autoStartLoad||u.autoStartLoad()}));var a=Math.floor(1e11*Math.random()),f=c.src+(/\?/.test(f)?"&cache=".concat(a):"?cache=".concat(a));u.loadSource(f),u.attachMedia(n),u._videoEventListener=function(){t()},n.addEventListener("canplay",u._videoEventListener)}))]},P=function(e){w(m,e);var t,n,r,i,s,u,l,c,d=_(m);function m(e,t,n,r){var i;for(var o in g(this,m),(i=d.call(this,e,t,r))._config={},E)i._config[o]=E[o];for(var a in n.hlsConfig)i._config[a]=n.hlsConfig[a];for(var s in i._cors={},C)i._cors[s]=C[s];for(var u in n.corsConfig)i._cors[u]=n.corsConfig[u];return i._ready=!1,i._autoQuality=!0,i}return v(m,[{key:"autoQuality",get:function(){return this._autoQuality}},{key:"loadStreamData",value:(c=h(regeneratorRuntime.mark((function e(t){var n,r,i,a,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(R!==T.NATIVE){e.next=5;break}return t.sources.mp4=t.sources.hls,e.abrupt("return",y(x(m.prototype),"loadStreamData",this).call(this,t));case 5:return this.player.log.debug("Loading HLS stream"),n=L(this.player,t,this.video,this._config,this._cors),r=function(e){if(Array.isArray(e))return e}(u=n)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),2!==o.length);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(u)||function(e,t){if(e){if("string"==typeof e)return p(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,2):void 0}}(u)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),i=r[0],a=r[1],this._hls=i,e.next=10,a;case 10:return this.video.pause(),this._autoQuality=new o.Z({label:"auto",shortLabel:"auto",index:-1,width:1,height:1,isAuto:!0}),this._currentQuality=this._autoQuality,e.next=15,this.getAudioTracks();case 15:s=e.sent,this._currentAudioTrack=s.find((function(e){return e.selected})),this.saveDisabledProperties(this.video);case 18:case"end":return e.stop()}var u}),e,this)}))),function(e){return c.apply(this,arguments)})},{key:"waitForLoaded",value:(l=h(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(R!==T.NATIVE){e.next=4;break}return e.abrupt("return",y(x(m.prototype),"waitForLoaded",this).call(this));case 4:return e.next=6,new Promise((function(e,n){!function n(){t.video.readyState>2?(t._ready=!0,e()):setTimeout((function(){return n()}),200)}()}));case 6:case"end":return e.stop()}}),e,this)}))),function(){return l.apply(this,arguments)})},{key:"getQualities",value:(u=h(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=[]).push(this._autoQuality),this._videoEnabled||R===T.MEDIA_SOURCE_EXTENSIONS&&(this._hls.levels.forEach((function(e,n){var r;t.push(new o.Z((f(r={index:e.id,label:"".concat(e.width,"x").concat(e.height),shortLabel:"".concat(e.height,"p")},"index",n),f(r,"width",e.width),f(r,"height",e.height),r)))})),t.sort((function(e,t){return e.res.h-t.res.h}))),e.abrupt("return",t);case 4:case"end":return e.stop()}}),e,this)}))),function(){return u.apply(this,arguments)})},{key:"setQuality",value:(s=h(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._videoEnabled){e.next=2;break}return e.abrupt("return");case 2:if(t instanceof o.Z){e.next=4;break}throw Error("Invalid parameter setting video quality. VideoQualityItem object expected.");case 4:R===T.MEDIA_SOURCE_EXTENSIONS?(this._currentQuality=t,this._hls.currentLevel=t.index):console.warn("Could not set video quality of HLS stream, because the HLS support of this browser is native.");case 5:case"end":return e.stop()}}),e,this)}))),function(e){return s.apply(this,arguments)})},{key:"currentQuality",get:function(){return this._currentQuality}},{key:"supportsMultiaudio",value:(i=h(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.waitForLoaded();case 2:if(R!==T.MEDIA_SOURCE_EXTENSIONS){e.next=6;break}return e.abrupt("return",this._hls.audioTracks.length>1);case 6:if(R!==T.NATIVE){e.next=10;break}return e.abrupt("return",(null===(t=this.video.audioTracks)||void 0===t?void 0:t.length)>1);case 10:return e.abrupt("return",!1);case 11:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"getAudioTracks",value:(r=h(regeneratorRuntime.mark((function e(){var t,n,r=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.waitForLoaded();case 2:if(R!==T.MEDIA_SOURCE_EXTENSIONS){e.next=7;break}return t=this._hls.audioTracks.map((function(e){return new a.Z({id:e.id,name:e.name,language:e.lang,selected:r._hls.audioTrack===e.id})})),e.abrupt("return",t);case 7:if(R!==T.NATIVE){e.next=12;break}return n=Array.from(this.video.audioTracks).map((function(e){return new a.Z({id:e.id,name:e.label,language:e.language,selected:e.enabled})})),e.abrupt("return",n);case 12:return e.abrupt("return",null);case 13:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"setCurrentAudioTrack",value:(n=h(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.waitForLoaded();case 2:return e.next=4,this.getAudioTracks();case 4:return n=e.sent,r=n.find((function(e){return e.id===t.id})),R===T.MEDIA_SOURCE_EXTENSIONS&&r?this._hls.audioTrack=r.id:R===T.NATIVE&&r&&Array.from(this.video.audioTracks).forEach((function(e){e.id===r.id?e.enabled=!0:e.enabled=!1})),this._currentAudioTrack=r,e.abrupt("return",r);case 9:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"currentAudioTrack",get:function(){return this._currentAudioTrack}},{key:"clearStreamData",value:(t=h(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.video.removeEventListener("canplay",this._hls._videoEventListener),this.video.src="",this._hls.destroy(),this._ready=!1;case 4:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}]),m}(r.Mp4Video),O=function(e){w(r,e);var t,n=_(r);function r(){return g(this,r),n.apply(this,arguments)}return v(r,[{key:"streamType",get:function(){return"hls"}},{key:"isCompatible",value:function(e){return e.sources.hls&&R}},{key:"getVideoInstance",value:(t=h(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new P(this.player,t,this.config,n));case 1:case"end":return e.stop()}}),e,this)}))),function(e,n){return t.apply(this,arguments)})}]),r}(i.ZP)},4348:(e,t,n)=>{n.r(t),n.d(t,{ImageVideo:()=>b,default:()=>w});var r=n(646),i=(n(1401),n(625));function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function a(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function s(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function s(e){a(o,r,i,s,u,"next",e)}function u(e){a(o,r,i,s,u,"throw",e)}s(void 0)}))}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}function p(e,t){return p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},p(e,t)}function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g(e);if(t){var i=g(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h(this,n)}}function h(e,t){if(t&&("object"===o(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function g(e){return g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},g(e)}function m(e){var t=this,n=this._currentSource.frames[0];this._currentSource.frames.some((function(e){if(!(e.time<=t._currentTime))return!0;n=e})),this.img.src=n.src}function v(){var e=this;this._startTimestamp=Date.now(),function t(){e._timer=setTimeout(t,250);var n=Date.now(),r=n-e._startTimestamp;e._currentTime+=r/1e3,e._startTimestamp=n,m.apply(e,[e._currentTime])}()}function y(){this._timer&&(clearTimeout(this._timer),this._timer=null)}var b=function(e){f(E,e);var t,n,r,o,a,l,p,h,g,b,w,A,_,k,x=d(E);function E(e,t){var n;return u(this,E),(n=x.call(this,"img",e,t))._currentTime=0,n._startTimesamp=0,n._playbackRate=1,n._timer=null,n.video=n.domElement,n}return c(E,[{key:"play",value:(k=s(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:v.apply(this);case 1:case"end":return e.stop()}}),e,this)}))),function(){return k.apply(this,arguments)})},{key:"pause",value:(_=s(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:y.apply(this);case 1:case"end":return e.stop()}}),e,this)}))),function(){return _.apply(this,arguments)})},{key:"duration",value:(A=s(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._currentSource.duration);case 1:case"end":return e.stop()}}),e,this)}))),function(){return A.apply(this,arguments)})},{key:"currentTimeSync",get:function(){return this._currentTime}},{key:"currentTime",value:(w=s(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._currentTime);case 1:case"end":return e.stop()}}),e,this)}))),function(){return w.apply(this,arguments)})},{key:"setCurrentTime",value:(b=s(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._currentTime=t,m.apply(this,[t]);case 2:case"end":return e.stop()}}),e,this)}))),function(e){return b.apply(this,arguments)})},{key:"volume",value:(g=s(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",0);case 1:case"end":return e.stop()}}),e)}))),function(){return g.apply(this,arguments)})},{key:"setVolume",value:(h=s(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),function(e){return h.apply(this,arguments)})},{key:"paused",value:(p=s(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",null===this._timer);case 1:case"end":return e.stop()}}),e,this)}))),function(){return p.apply(this,arguments)})},{key:"playbackRate",value:(l=s(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._playbackRate);case 1:case"end":return e.stop()}}),e,this)}))),function(){return l.apply(this,arguments)})},{key:"setPlaybackRate",value:(a=s(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._playbackRate=t;case 1:case"end":return e.stop()}}),e,this)}))),function(e){return a.apply(this,arguments)})},{key:"getQualities",value:(o=s(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._qualities);case 1:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})},{key:"setQuality",value:(r=s(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),function(){return r.apply(this,arguments)})},{key:"currentQuality",get:function(){return this._currentQuality}},{key:"getDimensions",value:(n=s(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._currentSource.res);case 1:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"loadStreamData",value:(t=s(regeneratorRuntime.mark((function e(t){var n=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._sources=t.sources.image,this._qualities=this._sources.map((function(e){return new i.Z({src:e.frames[0].src,label:"".concat(e.res.w,"x").concat(e.res.h),shortLabel:"".concat(e.res.h,"p"),width:e.res.w,height:e.res.h})})),this._currentQuality=this._qualities.length-1,this._qualities.forEach((function(e,t){n._qualities[n._currentQuality].compare(e)>0&&(n._currentQuality=t)})),this._currentSource=this._sources[this._currentQuality],this._sources.forEach((function(e){e.frames.sort((function(e,t){return e.time-t.time}))})),e.abrupt("return",!0);case 7:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),E}(r.nk),w=function(e){f(r,e);var t,n=d(r);function r(){return u(this,r),n.apply(this,arguments)}return c(r,[{key:"streamType",get:function(){return"image"}},{key:"isCompatible",value:function(e){return null!=e.sources.image}},{key:"getVideoInstance",value:(t=s(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new b(this.player,t));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),r}(r.ZP)},2604:(e,t,n)=>{n.r(t),n.d(t,{Mp4Video:()=>y,default:()=>b,supportsVideoType:()=>v});var r=n(646),i=n(1401);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function a(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function s(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function s(e){a(o,r,i,s,u,"next",e)}function u(e){a(o,r,i,s,u,"throw",e)}s(void 0)}))}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}function p(e,t){return p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},p(e,t)}function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g(e);if(t){var i=g(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h(this,n)}}function h(e,t){if(t&&("object"===o(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function g(e){return g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},g(e)}var m=null;function v(e){if(!e)return!1;m||(m=document.createElement("video"));var t=m.canPlayType(e);return"maybe"===t||"probably"===t}var y=function(e){f(E,e);var t,n,r,o,a,l,p,h,g,m,v,y,b,w,A,_,k,x=d(E);function E(e,t,n){var r;return u(this,E),(r=x.call(this,"video",e,t)).element.setAttribute("playsinline","true"),r.isMainAudio=n,r.element.setAttribute("autoplay","true"),r.element.autoplay=!0,n||(r.element.muted=!0),r._videoEnabled=!0,r}return c(E,[{key:"play",value:(k=s(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._videoEnabled){e.next=6;break}return e.next=3,this.waitForLoaded();case 3:return e.abrupt("return",this.video.play());case 6:this._disabledProperties.paused=!1;case 7:case"end":return e.stop()}}),e,this)}))),function(){return k.apply(this,arguments)})},{key:"pause",value:(_=s(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._videoEnabled){e.next=6;break}return e.next=3,this.waitForLoaded();case 3:return e.abrupt("return",this.video.pause());case 6:this._disabledProperties.paused=!0;case 7:case"end":return e.stop()}}),e,this)}))),function(){return _.apply(this,arguments)})},{key:"duration",value:(A=s(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._videoEnabled){e.next=6;break}return e.next=3,this.waitForLoaded();case 3:return e.abrupt("return",this.video.duration);case 6:return e.abrupt("return",this._disabledProperties.duration);case 7:case"end":return e.stop()}}),e,this)}))),function(){return A.apply(this,arguments)})},{key:"currentTimeSync",get:function(){return this._videoEnabled?this.ready?this.video.currentTime:-1:this._disabledProperties.currentTime}},{key:"currentTime",value:(w=s(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._videoEnabled){e.next=6;break}return e.next=3,this.waitForLoaded();case 3:return e.abrupt("return",this.currentTimeSync);case 6:return e.abrupt("return",this._disabledProperties.currentTime);case 7:case"end":return e.stop()}}),e,this)}))),function(){return w.apply(this,arguments)})},{key:"setCurrentTime",value:(b=s(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._videoEnabled){e.next=6;break}return e.next=3,this.waitForLoaded();case 3:return e.abrupt("return",this.video.currentTime=t);case 6:return this._disabledProperties.currentTime=t,e.abrupt("return",t);case 8:case"end":return e.stop()}}),e,this)}))),function(e){return b.apply(this,arguments)})},{key:"volume",value:(y=s(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._videoEnabled){e.next=6;break}return e.next=3,this.waitForLoaded();case 3:return e.abrupt("return",this.video.volume);case 6:return e.abrupt("return",this._disabledProperties.volume);case 7:case"end":return e.stop()}}),e,this)}))),function(){return y.apply(this,arguments)})},{key:"setVolume",value:(v=s(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._videoEnabled){e.next=7;break}return e.next=3,this.waitForLoaded();case 3:return 0===t?this.video.setAttribute("muted",!0):this.video.removeAttribute("muted"),e.abrupt("return",this.video.volume=t);case 7:return this._disabledProperties.volume=t,e.abrupt("return",t);case 9:case"end":return e.stop()}}),e,this)}))),function(e){return v.apply(this,arguments)})},{key:"paused",value:(m=s(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._videoEnabled){e.next=6;break}return e.next=3,this.waitForLoaded();case 3:return e.abrupt("return",this.video.paused);case 6:return e.abrupt("return",this._disabledProperties.paused);case 7:case"end":return e.stop()}}),e,this)}))),function(){return m.apply(this,arguments)})},{key:"playbackRate",value:(g=s(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._videoEnabled){e.next=8;break}return e.next=3,this.waitForLoaded();case 3:return e.next=5,this.video.playbackRate;case 5:return e.abrupt("return",e.sent);case 8:return e.abrupt("return",this._disabledProperties.playbackRate);case 9:case"end":return e.stop()}}),e,this)}))),function(){return g.apply(this,arguments)})},{key:"setPlaybackRate",value:(h=s(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._videoEnabled){e.next=6;break}return e.next=3,this.waitForLoaded();case 3:return e.abrupt("return",this.video.playbackRate=t);case 6:return this._disabledProperties.playbackRate=t,e.abrupt("return",t);case 8:case"end":return e.stop()}}),e,this)}))),function(e){return h.apply(this,arguments)})},{key:"getQualities",value:(p=s(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),function(){return p.apply(this,arguments)})},{key:"setQuality",value:(l=s(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),function(){return l.apply(this,arguments)})},{key:"currentQuality",get:function(){}},{key:"getDimensions",value:(a=s(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._videoEnabled){e.next=6;break}return e.next=3,this.waitForLoaded();case 3:return e.abrupt("return",{w:this.video.videoWidth,h:this.video.videoHeight});case 6:return e.abrupt("return",{w:this._disabledProperties.videoWidth,h:this._disabledProperties.videoHeight});case 7:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"saveDisabledProperties",value:function(e){this._disabledProperties={duration:e.duration,volume:e.volume,videoWidth:e.videoWidth,videoHeight:e.videoHeight,playbackRate:e.playbackRate,paused:e.paused,currentTime:e.currentTime}}},{key:"loadStreamData",value:(o=s(regeneratorRuntime.mark((function e(){var t,n=this,r=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:null,this._streamData=this._streamData||t,this.player.log.debug("es.upv.paella.mp4VideoFormat: loadStreamData"),this._sources=null,this._currentQuality=0,this._sources=t.sources.mp4,this._currentQuality=this._sources.length-1,this._currentSource=this._sources[this._currentQuality],this.isMainAudioPlayer||(this.video.muted=!0),this.video.src=(0,i.resolveResourcePath)(this.player,this._currentSource.src),this._endedCallback=this._endedCallback||function(){"function"==typeof n._videoEndedCallback&&n._videoEndedCallback()},this.video.addEventListener("ended",this._endedCallback),e.next=14,this.waitForLoaded();case 14:this.player.log.debug("es.upv.paella.mp4VideoFormat (".concat(this.streamData.content,"): video loaded and ready.")),this.saveDisabledProperties(this.video);case 16:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})},{key:"clearStreamData",value:(r=s(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.video.src="",this.video.removeEventListener("ended",this._endedCallback),this._ready=!1;case 3:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"enable",value:(n=s(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.player.log.debug("video.enable()"),this._timeUpdateTimer&&(clearTimeout(this._timeUpdateTimer),this._timeUpdateTimer=null),this._videoEnabled=!0,e.next=5,this.loadStreamData(this._streamData);case 5:return this.video.currentTime=this._disabledProperties.currentTime,this._disabledProperties.paused?this.video.pause():this.video.play(),e.abrupt("return",this._videoEnabled);case 8:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"disable",value:(t=s(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isMainAudio){e.next=4;break}this.player.log.debug("video.disable() - the video is not disabled because it is the main audio source."),e.next=11;break;case 4:return this.player.log.debug("video.disable()"),this.saveDisabledProperties(this.video),function e(){t._timeUpdateTimer=setTimeout((function(){t._disabledProperties.paused||(t._disabledProperties.currentTime+=.25),e()}),250)}(),this._videoEnabled=!1,e.next=11,this.clearStreamData();case 11:return e.abrupt("return",this._videoEnabled);case 12:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"waitForLoaded",value:function(){var e=this;return new Promise((function(t,n){e.ready?t():function r(){e._waitTimer&&clearTimeout(e._waitTimer),e._waitTimer=null,e.video.error?n(new Error("Error loading video: ".concat(e.video.src,". Code: ").concat(e.video.error.code,": ").concat(e.video.error.message))):e.video.readyState>=2?(e.video.pause(),e._ready=!0,t()):e._waitTimer=setTimeout((function(){return r()}),100)}()}))}}]),E}(r.nk),b=function(e){f(r,e);var t,n=d(r);function r(){return u(this,r),n.apply(this,arguments)}return c(r,[{key:"streamType",get:function(){return"mp4"}},{key:"isCompatible",value:function(e){var t,n=e.sources.mp4;return n&&v(null===(t=n[0])||void 0===t?void 0:t.mimetype)}},{key:"getVideoInstance",value:(t=s(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new y(this.player,t,n));case 1:case"end":return e.stop()}}),e,this)}))),function(e,n){return t.apply(this,arguments)})}]),r}(r.ZP)},372:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(7537),i=n.n(r),o=n(3645),a=n.n(o)()(i());a.push([e.id,".button-group {\n}\n\n.button-group .button-plugin-container {\n    display: inline;\n}\n\n.button-group .button-plugin-wrapper {\n    display: flex;\n    flex-direction: row;\n    align-content: center;\n    align-items: center;\n}\n\n.button-group .button-plugin-container button {\n\twidth: 40px;\n\theight: 40px;\n\tdisplay: block;\n\tbackground: none;\n\tborder: none;\n\tfloat: left;\n}\n\n.button-group button:hover {\n\tbackground-color: var(--secondary-bg-color-hover);\n}\n\n.button-group button:active {\n\tbackground-color: var(--main-bg-color);\n}\n\n.button-group button i {\n\tbackground-size: 50% 50%;\n\twidth: 20px;\n\theight: 20px;\n\tdisplay: block;\n\tbackground-repeat: no-repeat;\n\tbackground-position: 3px 7px;\n\tmargin-left: 5px;\n}\n\n/* Fix default iPad button padding */\n.button-group .button-plugin-container button {\n\tpadding: 2px 6px 3px 6px;\n}\n\n.video-container .button-plugin-container button {\n\tpadding: 2px 6px 3px 6px;\n}\n\n.button-group span.button-title {\n    display: block;\n}\n\n.button-group span.button-title.button-title-small {\n\tmargin-top: -16px;\n    font-size: 8px;\n}\n\n.button-group span.button-title.button-title-medium {\n\tmargin-top: -17px;\n    font-size: 10px;\n}\n\n.button-group span.button-title.button-title-large {\n\tmargin-top: -19px;\n    font-size: 12px;\n}\n\n.button-group span.button-title:empty {\n\tmargin-top: 0 !important;\n}\n\n\n.button-group button i svg {\n\tfill: var(--main-fg-color);\n}\n\n.button-group .button-plugin-wrapper .button-description {\n    font-family: sans-serif;\n    margin-left: 4px;\n\tcursor: pointer;\n\theight: 40px;\n\tline-height: 40px;\n\tpadding-right: 20px;\n\tbox-sizing: border-box;\n\tcolor: var(--main-fg-color);\n\tuser-select: none;\n}\n\n.button-group .button-plugin-wrapper .button-description:hover {\n    color: var(--main-fg-color);\n\ttext-shadow:0px 0px 2px var(--main-fg-color);\n}","",{version:3,sources:["webpack://./src/css/ButtonGroup.css"],names:[],mappings:"AAAA;AACA;;AAEA;IACI,eAAe;AACnB;;AAEA;IACI,aAAa;IACb,mBAAmB;IACnB,qBAAqB;IACrB,mBAAmB;AACvB;;AAEA;CACC,WAAW;CACX,YAAY;CACZ,cAAc;CACd,gBAAgB;CAChB,YAAY;CACZ,WAAW;AACZ;;AAEA;CACC,iDAAiD;AAClD;;AAEA;CACC,sCAAsC;AACvC;;AAEA;CACC,wBAAwB;CACxB,WAAW;CACX,YAAY;CACZ,cAAc;CACd,4BAA4B;CAC5B,4BAA4B;CAC5B,gBAAgB;AACjB;;AAEA,oCAAoC;AACpC;CACC,wBAAwB;AACzB;;AAEA;CACC,wBAAwB;AACzB;;AAEA;IACI,cAAc;AAClB;;AAEA;CACC,iBAAiB;IACd,cAAc;AAClB;;AAEA;CACC,iBAAiB;IACd,eAAe;AACnB;;AAEA;CACC,iBAAiB;IACd,eAAe;AACnB;;AAEA;CACC,wBAAwB;AACzB;;;AAGA;CACC,0BAA0B;AAC3B;;AAEA;IACI,uBAAuB;IACvB,gBAAgB;CACnB,eAAe;CACf,YAAY;CACZ,iBAAiB;CACjB,mBAAmB;CACnB,sBAAsB;CACtB,2BAA2B;CAC3B,iBAAiB;AAClB;;AAEA;IACI,2BAA2B;CAC9B,4CAA4C;AAC7C",sourcesContent:[".button-group {\n}\n\n.button-group .button-plugin-container {\n    display: inline;\n}\n\n.button-group .button-plugin-wrapper {\n    display: flex;\n    flex-direction: row;\n    align-content: center;\n    align-items: center;\n}\n\n.button-group .button-plugin-container button {\n\twidth: 40px;\n\theight: 40px;\n\tdisplay: block;\n\tbackground: none;\n\tborder: none;\n\tfloat: left;\n}\n\n.button-group button:hover {\n\tbackground-color: var(--secondary-bg-color-hover);\n}\n\n.button-group button:active {\n\tbackground-color: var(--main-bg-color);\n}\n\n.button-group button i {\n\tbackground-size: 50% 50%;\n\twidth: 20px;\n\theight: 20px;\n\tdisplay: block;\n\tbackground-repeat: no-repeat;\n\tbackground-position: 3px 7px;\n\tmargin-left: 5px;\n}\n\n/* Fix default iPad button padding */\n.button-group .button-plugin-container button {\n\tpadding: 2px 6px 3px 6px;\n}\n\n.video-container .button-plugin-container button {\n\tpadding: 2px 6px 3px 6px;\n}\n\n.button-group span.button-title {\n    display: block;\n}\n\n.button-group span.button-title.button-title-small {\n\tmargin-top: -16px;\n    font-size: 8px;\n}\n\n.button-group span.button-title.button-title-medium {\n\tmargin-top: -17px;\n    font-size: 10px;\n}\n\n.button-group span.button-title.button-title-large {\n\tmargin-top: -19px;\n    font-size: 12px;\n}\n\n.button-group span.button-title:empty {\n\tmargin-top: 0 !important;\n}\n\n\n.button-group button i svg {\n\tfill: var(--main-fg-color);\n}\n\n.button-group .button-plugin-wrapper .button-description {\n    font-family: sans-serif;\n    margin-left: 4px;\n\tcursor: pointer;\n\theight: 40px;\n\tline-height: 40px;\n\tpadding-right: 20px;\n\tbox-sizing: border-box;\n\tcolor: var(--main-fg-color);\n\tuser-select: none;\n}\n\n.button-group .button-plugin-wrapper .button-description:hover {\n    color: var(--main-fg-color);\n\ttext-shadow:0px 0px 2px var(--main-fg-color);\n}"],sourceRoot:""}]);const s=a},7046:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(7537),i=n.n(r),o=n(3645),a=n.n(o)()(i());a.push([e.id,".captions-canvas {\n    position: absolute;\n    top: 0px;\n    left: 0px;\n    bottom: 0px;\n    width: 100%;\n    height: 100%;\n    z-index: 50;\n    pointer-events: none;\n}\n\n.captions-canvas .captions-container {\n    width: 80%;\n    min-height: 30px;\n    background-color: var(--main-bg-color);\n    border-radius: 5px;\n    color: var(--main-fg-color);\n    position: absolute;\n    bottom: 55px;\n    left: 10%;\n    right: 10%;\n    box-sizing: border-box;\n    padding: 10px;\n    font-size: 11px;\n    text-align: center;\n}\n","",{version:3,sources:["webpack://./src/css/CaptionCanvas.css"],names:[],mappings:"AAAA;IACI,kBAAkB;IAClB,QAAQ;IACR,SAAS;IACT,WAAW;IACX,WAAW;IACX,YAAY;IACZ,WAAW;IACX,oBAAoB;AACxB;;AAEA;IACI,UAAU;IACV,gBAAgB;IAChB,sCAAsC;IACtC,kBAAkB;IAClB,2BAA2B;IAC3B,kBAAkB;IAClB,YAAY;IACZ,SAAS;IACT,UAAU;IACV,sBAAsB;IACtB,aAAa;IACb,eAAe;IACf,kBAAkB;AACtB",sourcesContent:[".captions-canvas {\n    position: absolute;\n    top: 0px;\n    left: 0px;\n    bottom: 0px;\n    width: 100%;\n    height: 100%;\n    z-index: 50;\n    pointer-events: none;\n}\n\n.captions-canvas .captions-container {\n    width: 80%;\n    min-height: 30px;\n    background-color: var(--main-bg-color);\n    border-radius: 5px;\n    color: var(--main-fg-color);\n    position: absolute;\n    bottom: 55px;\n    left: 10%;\n    right: 10%;\n    box-sizing: border-box;\n    padding: 10px;\n    font-size: 11px;\n    text-align: center;\n}\n"],sourceRoot:""}]);const s=a},3189:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(7537),i=n.n(r),o=n(3645),a=n.n(o)()(i());a.push([e.id,"\ndiv.error-container {\n    width: 100%;\n    height: 100%;\n    position: absolute;\n    z-index: 1000;\n    pointer-events: none;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    top: 0px;\n    bottom: 0px;\n}\n\ndiv.error-container div {\n    text-align: center;\n}\n\ndiv.error-container i {\n    width: 350px;\n    height: 350px;\n    display: block;\n    margin-left: auto;\n    margin-right: auto;\n}\n\n@media (max-width: 500px) {\n    div.error-container i {\n        width: 100px;\n        height: 100px;\n    }\n}\n\n@media (max-width: 800px) {\n    div.error-container i {\n        width: 200px;\n        height: 200px;\n    }\n}\n\n","",{version:3,sources:["webpack://./src/css/Error.css"],names:[],mappings:";AACA;IACI,WAAW;IACX,YAAY;IACZ,kBAAkB;IAClB,aAAa;IACb,oBAAoB;IACpB,aAAa;IACb,mBAAmB;IACnB,uBAAuB;IACvB,QAAQ;IACR,WAAW;AACf;;AAEA;IACI,kBAAkB;AACtB;;AAEA;IACI,YAAY;IACZ,aAAa;IACb,cAAc;IACd,iBAAiB;IACjB,kBAAkB;AACtB;;AAEA;IACI;QACI,YAAY;QACZ,aAAa;IACjB;AACJ;;AAEA;IACI;QACI,YAAY;QACZ,aAAa;IACjB;AACJ",sourcesContent:["\ndiv.error-container {\n    width: 100%;\n    height: 100%;\n    position: absolute;\n    z-index: 1000;\n    pointer-events: none;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    top: 0px;\n    bottom: 0px;\n}\n\ndiv.error-container div {\n    text-align: center;\n}\n\ndiv.error-container i {\n    width: 350px;\n    height: 350px;\n    display: block;\n    margin-left: auto;\n    margin-right: auto;\n}\n\n@media (max-width: 500px) {\n    div.error-container i {\n        width: 100px;\n        height: 100px;\n    }\n}\n\n@media (max-width: 800px) {\n    div.error-container i {\n        width: 200px;\n        height: 200px;\n    }\n}\n\n"],sourceRoot:""}]);const s=a},7649:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(7537),i=n.n(r),o=n(3645),a=n.n(o)()(i());a.push([e.id,"\ndiv.loader-container {\n    width: 100%;\n    height: 100%;\n    position: absolute;\n    z-index: 1000;\n    pointer-events: none;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n}\n\ndiv.loader-container i {\n    width: 350px;\n    height: 350px;\n    display: block;\n    animation: spin 1s linear infinite;\n}\n\n@keyframes spin {\n    100% {\n        transform: rotate(360deg);\n    }\n}\n\n@media (max-width: 500px) {\n    div.loader-container i {\n        width: 100px;\n        height: 100px;\n    }\n}\n\n@media (max-width: 800px) {\n    div.loader-container i {\n        width: 200px;\n        height: 200px;\n    }\n}\n\n","",{version:3,sources:["webpack://./src/css/Loader.css"],names:[],mappings:";AACA;IACI,WAAW;IACX,YAAY;IACZ,kBAAkB;IAClB,aAAa;IACb,oBAAoB;IACpB,aAAa;IACb,mBAAmB;IACnB,uBAAuB;AAC3B;;AAEA;IACI,YAAY;IACZ,aAAa;IACb,cAAc;IACd,kCAAkC;AACtC;;AAEA;IACI;QACI,yBAAyB;IAC7B;AACJ;;AAEA;IACI;QACI,YAAY;QACZ,aAAa;IACjB;AACJ;;AAEA;IACI;QACI,YAAY;QACZ,aAAa;IACjB;AACJ",sourcesContent:["\ndiv.loader-container {\n    width: 100%;\n    height: 100%;\n    position: absolute;\n    z-index: 1000;\n    pointer-events: none;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n}\n\ndiv.loader-container i {\n    width: 350px;\n    height: 350px;\n    display: block;\n    animation: spin 1s linear infinite;\n}\n\n@keyframes spin {\n    100% {\n        transform: rotate(360deg);\n    }\n}\n\n@media (max-width: 500px) {\n    div.loader-container i {\n        width: 100px;\n        height: 100px;\n    }\n}\n\n@media (max-width: 800px) {\n    div.loader-container i {\n        width: 200px;\n        height: 200px;\n    }\n}\n\n"],sourceRoot:""}]);const s=a},1872:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(7537),i=n.n(r),o=n(3645),a=n.n(o)()(i());a.push([e.id,"\nul.menu-button-content {\n\tlist-style-type: none;\n\tmargin: 0;\n\tpadding: 0;\n}\n\nul.menu-button-content li.menu-button-item {\n\tmin-width:40px;\n}\n\nul.menu-button-content li.menu-button-item button {\n\tbackground: none;\n\tborder: none;\n\twidth: 100%;\n\tcolor: var(--main-fg-color);\n\tdisplay: flex;\n\tjustify-content: space-around;\n}\n\nul.menu-button-content li.menu-button-item button:hover {\n\tbackground-color: var(--secondary-bg-color);\n}\n\nul.menu-button-content li.menu-button-item button.selected {\n\tbackground-color: var(--secondary-bg-color-hover);\n}\n\nul.menu-button-content li.menu-button-item button i.menu-icon {\n\tpointer-events: none;\n}\n\nul.menu-button-content li.menu-button-item button i.menu-icon svg {\n\tfill: var(--main-fg-color);\n\theight: 40px;\n}\n\nul.menu-button-content li.menu-button-item button span.menu-title {\n\theight: 40px;\n\tline-height: 40px;\n\tpadding-left: 4px;\n\tpadding-right: 4px;\n\tpointer-events: none;\n}","",{version:3,sources:["webpack://./src/css/MenuButton.css"],names:[],mappings:";AACA;CACC,qBAAqB;CACrB,SAAS;CACT,UAAU;AACX;;AAEA;CACC,cAAc;AACf;;AAEA;CACC,gBAAgB;CAChB,YAAY;CACZ,WAAW;CACX,2BAA2B;CAC3B,aAAa;CACb,6BAA6B;AAC9B;;AAEA;CACC,2CAA2C;AAC5C;;AAEA;CACC,iDAAiD;AAClD;;AAEA;CACC,oBAAoB;AACrB;;AAEA;CACC,0BAA0B;CAC1B,YAAY;AACb;;AAEA;CACC,YAAY;CACZ,iBAAiB;CACjB,iBAAiB;CACjB,kBAAkB;CAClB,oBAAoB;AACrB",sourcesContent:["\nul.menu-button-content {\n\tlist-style-type: none;\n\tmargin: 0;\n\tpadding: 0;\n}\n\nul.menu-button-content li.menu-button-item {\n\tmin-width:40px;\n}\n\nul.menu-button-content li.menu-button-item button {\n\tbackground: none;\n\tborder: none;\n\twidth: 100%;\n\tcolor: var(--main-fg-color);\n\tdisplay: flex;\n\tjustify-content: space-around;\n}\n\nul.menu-button-content li.menu-button-item button:hover {\n\tbackground-color: var(--secondary-bg-color);\n}\n\nul.menu-button-content li.menu-button-item button.selected {\n\tbackground-color: var(--secondary-bg-color-hover);\n}\n\nul.menu-button-content li.menu-button-item button i.menu-icon {\n\tpointer-events: none;\n}\n\nul.menu-button-content li.menu-button-item button i.menu-icon svg {\n\tfill: var(--main-fg-color);\n\theight: 40px;\n}\n\nul.menu-button-content li.menu-button-item button span.menu-title {\n\theight: 40px;\n\tline-height: 40px;\n\tpadding-left: 4px;\n\tpadding-right: 4px;\n\tpointer-events: none;\n}"],sourceRoot:""}]);const s=a},9167:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(7537),i=n.n(r),o=n(3645),a=n.n(o)()(i());a.push([e.id,"\n.playback-bar {\n\tposition: absolute;\n\tbottom: 0px;\n\tleft: 0px;\n\tright: 0px;\n\tbackground: var(--secondary-bg-color);\n\tbackground: var(--main-bg-gradient);\n\tz-index: 100;\n}\n\n.playback-bar:hover {\n\tbackground: var(--secondary-bg-color-hover);\n}\n\n.progress-indicator {\n\twidth: 100%;\n\theight: 10px;\n}\n\n.progress-indicator-timer {\n\tposition: absolute;\n\tleft: 0px;\n\ttop: 0px;\n\tcolor: var(--main-fg-color);\n\tfont-size: 10px;\n\tline-height: 11px;\n\tpadding-left: 11px;\n\tpointer-events: none;\n}\n\n.playback-bar .button-plugins {\n\theight: 40px;\n}\n\n.playback-bar .button-plugins.left-side {\n\tfloat: left;\n}\n\n.playback-bar .button-plugins.right-side {\n\tfloat: right;\n}\n\n.playback-bar .button-plugins .button-plugin-container {\n\tdisplay: inline;\n}\n\n.playback-bar .button-plugins .button-plugin-container button {\n\twidth: 40px;\n\theight: 40px;\n\tdisplay: block;\n\tbackground: none;\n\t/*outline: none;*/\n\tborder: none;\n\tfloat: left;\n}\n\n.playback-bar .button-plugins button:hover {\n\tbackground-color: var(--highlight-bg-color-hover);\n}\n\n.playback-bar .button-plugins button:active {\n\tbackground-color: var(--secondary-bg-color-hover);\n}\n\n.playback-bar .button-plugins button i {\n\tbackground-size: 50% 50%;\n\twidth: 20px;\n\theight: 20px;\n\tdisplay: block;\n\tbackground-repeat: no-repeat;\n\tbackground-position: 3px 7px;\n\tmargin-left: 5px;\n}\n\n/* Fix default iPad button padding */\n.playback-bar .button-plugins .button-plugin-container button {\n\tpadding: 2px 6px 3px 6px;\n}\n.video-container .button-plugins .button-plugin-container button {\n\tpadding: 2px 6px 3px 6px;\n}\n\n.button-plugins span.button-title {\n    display: block;\n}\n\n.button-plugins span.button-title.button-title-small {\n\tmargin-top: -16px;\n    font-size: 8px;\n}\n\n.button-plugins span.button-title.button-title-medium {\n\tmargin-top: -17px;\n    font-size: 10px;\n}\n\n.button-plugins span.button-title.button-title-large {\n\tmargin-top: -19px;\n    font-size: 12px;\n}\n\n.button-plugins span.button-title:empty {\n\tmargin-top: 0 !important;\n}\n\n\n.playback-bar .button-plugins button i svg {\n\tfill: var(--main-fg-color);\n}\n\n.playback-bar .button-plugin-side-area {\n\tdisplay: inline;\n\tcolor: var(--main-fg-color);\n\theight: 40px;\n\tline-height: 40px;\n}\n\n.progress-indicator {\n\tposition: relative;\n}\n\n.progress-indicator canvas {\n\tposition: absolute;\n\tleft: 0px;\n\ttop: 0px;\n\tpointer-events: none;\n\topacity: 0.5;\n}\n\n.playback-bar:hover .progress-indicator canvas {\n\topacity: 1;\n}\n\n.progress-indicator .progress-indicator-container {\n\tposition: absolute;\n\tleft: 0px;\n\ttop: 0px;\n\twidth: 100%;\n\theight: 100%;\n\tbackground-color: var(--secondary-bg-color-hover);\n}\n\n.progress-indicator-container .progress-indicator-content {\n\theight: 100%;\n\tbackground-color: var(--highlight-bg-color-hover);\n\topacity: 0.8;\n\tpointer-events: none;\n}\n\n.playback-bar:hover .progress-indicator-container .progress-indicator-content {\n\tbackground-color: var(--highlight-bg-color-hover);\n}\n\n.frame-thumbnail {\n\tbackground-color: var(--secondary-bg-color-hover);\n\tmin-width: 100px;\n\tmin-height: 100px;\n\tbox-shadow: 0px 0px 5px 0px var(--main-bg-color);\n\tz-index: 10000;\n\tpointer-events: none;\n}\n\n.frame-thumbnail .thumbnail-image {\n\tpointer-events: none;\n}\n\n@media (max-width: 500px) {\n\t.frame-thumbnail .thumbnail-image {\n\t\twidth: 130px;\n\t\tpointer-events: none;\n\t}\n}\n\n@media (max-width: 750px) {\n\t.frame-thumbnail .thumbnail-image {\n\t\twidth: 230px;\n\t\tpointer-events: none;\n\t}\n}\n\n@media (min-width: 750px) {\n\t.frame-thumbnail .thumbnail-image {\n\t\twidth: 330px;\n\t\tpointer-events: none;\n\t}\n}\n\n.frame-thumbnail .thumbnail-time {\n\tpointer-events: none;\n\tfont-size: 12px;\n\tline-height: 12px;\n\tdisplay: block;\n\theight: 12px;\n\tcolor: var(--main-fg-color);\n\ttext-align: center;\n\tmargin: 0;\n\tpadding: 1;\n}\n\n","",{version:3,sources:["webpack://./src/css/PlaybackBar.css"],names:[],mappings:";AACA;CACC,kBAAkB;CAClB,WAAW;CACX,SAAS;CACT,UAAU;CACV,qCAAqC;CACrC,mCAAmC;CACnC,YAAY;AACb;;AAEA;CACC,2CAA2C;AAC5C;;AAEA;CACC,WAAW;CACX,YAAY;AACb;;AAEA;CACC,kBAAkB;CAClB,SAAS;CACT,QAAQ;CACR,2BAA2B;CAC3B,eAAe;CACf,iBAAiB;CACjB,kBAAkB;CAClB,oBAAoB;AACrB;;AAEA;CACC,YAAY;AACb;;AAEA;CACC,WAAW;AACZ;;AAEA;CACC,YAAY;AACb;;AAEA;CACC,eAAe;AAChB;;AAEA;CACC,WAAW;CACX,YAAY;CACZ,cAAc;CACd,gBAAgB;CAChB,iBAAiB;CACjB,YAAY;CACZ,WAAW;AACZ;;AAEA;CACC,iDAAiD;AAClD;;AAEA;CACC,iDAAiD;AAClD;;AAEA;CACC,wBAAwB;CACxB,WAAW;CACX,YAAY;CACZ,cAAc;CACd,4BAA4B;CAC5B,4BAA4B;CAC5B,gBAAgB;AACjB;;AAEA,oCAAoC;AACpC;CACC,wBAAwB;AACzB;AACA;CACC,wBAAwB;AACzB;;AAEA;IACI,cAAc;AAClB;;AAEA;CACC,iBAAiB;IACd,cAAc;AAClB;;AAEA;CACC,iBAAiB;IACd,eAAe;AACnB;;AAEA;CACC,iBAAiB;IACd,eAAe;AACnB;;AAEA;CACC,wBAAwB;AACzB;;;AAGA;CACC,0BAA0B;AAC3B;;AAEA;CACC,eAAe;CACf,2BAA2B;CAC3B,YAAY;CACZ,iBAAiB;AAClB;;AAEA;CACC,kBAAkB;AACnB;;AAEA;CACC,kBAAkB;CAClB,SAAS;CACT,QAAQ;CACR,oBAAoB;CACpB,YAAY;AACb;;AAEA;CACC,UAAU;AACX;;AAEA;CACC,kBAAkB;CAClB,SAAS;CACT,QAAQ;CACR,WAAW;CACX,YAAY;CACZ,iDAAiD;AAClD;;AAEA;CACC,YAAY;CACZ,iDAAiD;CACjD,YAAY;CACZ,oBAAoB;AACrB;;AAEA;CACC,iDAAiD;AAClD;;AAEA;CACC,iDAAiD;CACjD,gBAAgB;CAChB,iBAAiB;CACjB,gDAAgD;CAChD,cAAc;CACd,oBAAoB;AACrB;;AAEA;CACC,oBAAoB;AACrB;;AAEA;CACC;EACC,YAAY;EACZ,oBAAoB;CACrB;AACD;;AAEA;CACC;EACC,YAAY;EACZ,oBAAoB;CACrB;AACD;;AAEA;CACC;EACC,YAAY;EACZ,oBAAoB;CACrB;AACD;;AAEA;CACC,oBAAoB;CACpB,eAAe;CACf,iBAAiB;CACjB,cAAc;CACd,YAAY;CACZ,2BAA2B;CAC3B,kBAAkB;CAClB,SAAS;CACT,UAAU;AACX",sourcesContent:["\n.playback-bar {\n\tposition: absolute;\n\tbottom: 0px;\n\tleft: 0px;\n\tright: 0px;\n\tbackground: var(--secondary-bg-color);\n\tbackground: var(--main-bg-gradient);\n\tz-index: 100;\n}\n\n.playback-bar:hover {\n\tbackground: var(--secondary-bg-color-hover);\n}\n\n.progress-indicator {\n\twidth: 100%;\n\theight: 10px;\n}\n\n.progress-indicator-timer {\n\tposition: absolute;\n\tleft: 0px;\n\ttop: 0px;\n\tcolor: var(--main-fg-color);\n\tfont-size: 10px;\n\tline-height: 11px;\n\tpadding-left: 11px;\n\tpointer-events: none;\n}\n\n.playback-bar .button-plugins {\n\theight: 40px;\n}\n\n.playback-bar .button-plugins.left-side {\n\tfloat: left;\n}\n\n.playback-bar .button-plugins.right-side {\n\tfloat: right;\n}\n\n.playback-bar .button-plugins .button-plugin-container {\n\tdisplay: inline;\n}\n\n.playback-bar .button-plugins .button-plugin-container button {\n\twidth: 40px;\n\theight: 40px;\n\tdisplay: block;\n\tbackground: none;\n\t/*outline: none;*/\n\tborder: none;\n\tfloat: left;\n}\n\n.playback-bar .button-plugins button:hover {\n\tbackground-color: var(--highlight-bg-color-hover);\n}\n\n.playback-bar .button-plugins button:active {\n\tbackground-color: var(--secondary-bg-color-hover);\n}\n\n.playback-bar .button-plugins button i {\n\tbackground-size: 50% 50%;\n\twidth: 20px;\n\theight: 20px;\n\tdisplay: block;\n\tbackground-repeat: no-repeat;\n\tbackground-position: 3px 7px;\n\tmargin-left: 5px;\n}\n\n/* Fix default iPad button padding */\n.playback-bar .button-plugins .button-plugin-container button {\n\tpadding: 2px 6px 3px 6px;\n}\n.video-container .button-plugins .button-plugin-container button {\n\tpadding: 2px 6px 3px 6px;\n}\n\n.button-plugins span.button-title {\n    display: block;\n}\n\n.button-plugins span.button-title.button-title-small {\n\tmargin-top: -16px;\n    font-size: 8px;\n}\n\n.button-plugins span.button-title.button-title-medium {\n\tmargin-top: -17px;\n    font-size: 10px;\n}\n\n.button-plugins span.button-title.button-title-large {\n\tmargin-top: -19px;\n    font-size: 12px;\n}\n\n.button-plugins span.button-title:empty {\n\tmargin-top: 0 !important;\n}\n\n\n.playback-bar .button-plugins button i svg {\n\tfill: var(--main-fg-color);\n}\n\n.playback-bar .button-plugin-side-area {\n\tdisplay: inline;\n\tcolor: var(--main-fg-color);\n\theight: 40px;\n\tline-height: 40px;\n}\n\n.progress-indicator {\n\tposition: relative;\n}\n\n.progress-indicator canvas {\n\tposition: absolute;\n\tleft: 0px;\n\ttop: 0px;\n\tpointer-events: none;\n\topacity: 0.5;\n}\n\n.playback-bar:hover .progress-indicator canvas {\n\topacity: 1;\n}\n\n.progress-indicator .progress-indicator-container {\n\tposition: absolute;\n\tleft: 0px;\n\ttop: 0px;\n\twidth: 100%;\n\theight: 100%;\n\tbackground-color: var(--secondary-bg-color-hover);\n}\n\n.progress-indicator-container .progress-indicator-content {\n\theight: 100%;\n\tbackground-color: var(--highlight-bg-color-hover);\n\topacity: 0.8;\n\tpointer-events: none;\n}\n\n.playback-bar:hover .progress-indicator-container .progress-indicator-content {\n\tbackground-color: var(--highlight-bg-color-hover);\n}\n\n.frame-thumbnail {\n\tbackground-color: var(--secondary-bg-color-hover);\n\tmin-width: 100px;\n\tmin-height: 100px;\n\tbox-shadow: 0px 0px 5px 0px var(--main-bg-color);\n\tz-index: 10000;\n\tpointer-events: none;\n}\n\n.frame-thumbnail .thumbnail-image {\n\tpointer-events: none;\n}\n\n@media (max-width: 500px) {\n\t.frame-thumbnail .thumbnail-image {\n\t\twidth: 130px;\n\t\tpointer-events: none;\n\t}\n}\n\n@media (max-width: 750px) {\n\t.frame-thumbnail .thumbnail-image {\n\t\twidth: 230px;\n\t\tpointer-events: none;\n\t}\n}\n\n@media (min-width: 750px) {\n\t.frame-thumbnail .thumbnail-image {\n\t\twidth: 330px;\n\t\tpointer-events: none;\n\t}\n}\n\n.frame-thumbnail .thumbnail-time {\n\tpointer-events: none;\n\tfont-size: 12px;\n\tline-height: 12px;\n\tdisplay: block;\n\theight: 12px;\n\tcolor: var(--main-fg-color);\n\ttext-align: center;\n\tmargin: 0;\n\tpadding: 1;\n}\n\n"],sourceRoot:""}]);const s=a},6777:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(7537),i=n.n(r),o=n(3645),a=n.n(o)()(i());a.push([e.id,".popup-container {\n\tz-index: 1000;\n\tposition: fixed;\n\ttop: 0px;\n\tleft: 0px;\n\theight: 100vh;\n\twidth: 100vw;\n}\n\n.popup-container.no-modal {\n\tpointer-events: none;;\n}\n\n.popup-content {\n\tposition: absolute;\n\tbackground-color: var(--main-bg-color);\n\tcolor: var(--main-fg-color);\n\tbox-shadow: 0px 0px 4px 0px var(--main-bg-color);\n\tborder-radius: 3px;\n\tpadding: 5px 5px 5px 5px;\n}\n\n.popup-container.no-modal .popup-content {\n\tpointer-events: all;\n}","",{version:3,sources:["webpack://./src/css/PopUp.css"],names:[],mappings:"AAAA;CACC,aAAa;CACb,eAAe;CACf,QAAQ;CACR,SAAS;CACT,aAAa;CACb,YAAY;AACb;;AAEA;CACC,oBAAoB;AACrB;;AAEA;CACC,kBAAkB;CAClB,sCAAsC;CACtC,2BAA2B;CAC3B,gDAAgD;CAChD,kBAAkB;CAClB,wBAAwB;AACzB;;AAEA;CACC,mBAAmB;AACpB",sourcesContent:[".popup-container {\n\tz-index: 1000;\n\tposition: fixed;\n\ttop: 0px;\n\tleft: 0px;\n\theight: 100vh;\n\twidth: 100vw;\n}\n\n.popup-container.no-modal {\n\tpointer-events: none;;\n}\n\n.popup-content {\n\tposition: absolute;\n\tbackground-color: var(--main-bg-color);\n\tcolor: var(--main-fg-color);\n\tbox-shadow: 0px 0px 4px 0px var(--main-bg-color);\n\tborder-radius: 3px;\n\tpadding: 5px 5px 5px 5px;\n}\n\n.popup-container.no-modal .popup-content {\n\tpointer-events: all;\n}"],sourceRoot:""}]);const s=a},5352:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(7537),i=n.n(r),o=n(3645),a=n.n(o)()(i());a.push([e.id,".timeline-popup-content {\n    display: block;\n    background-color: var(--main-bg-color);\n    padding-top: 10px;\n    padding-bottom: 10px;\n    position: absolute;\n    border-radius: 4px;\n    left: 2px;\n    right: 2px;\n    bottom: 52px;\n    color: var(--main-fg-color);\n    border-top: 1px solid var(--main-border-color);\n    z-index: 100;\n}\n","",{version:3,sources:["webpack://./src/css/TimeLinePopUp.css"],names:[],mappings:"AAAA;IACI,cAAc;IACd,sCAAsC;IACtC,iBAAiB;IACjB,oBAAoB;IACpB,kBAAkB;IAClB,kBAAkB;IAClB,SAAS;IACT,UAAU;IACV,YAAY;IACZ,2BAA2B;IAC3B,8CAA8C;IAC9C,YAAY;AAChB",sourcesContent:[".timeline-popup-content {\n    display: block;\n    background-color: var(--main-bg-color);\n    padding-top: 10px;\n    padding-bottom: 10px;\n    position: absolute;\n    border-radius: 4px;\n    left: 2px;\n    right: 2px;\n    bottom: 52px;\n    color: var(--main-fg-color);\n    border-top: 1px solid var(--main-border-color);\n    z-index: 100;\n}\n"],sourceRoot:""}]);const s=a},303:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(7537),i=n.n(r),o=n(3645),a=n.n(o)()(i());a.push([e.id,"\n.video-canvas .button-area {\n    position: absolute;\n    top: 0px;\n    left: 0px;\n    right: 0px;\n    pointer-events: none;\n    text-align: center;\n    z-index: 1;\n}\n\n\n.video-canvas .button-area button {\n    pointer-events: all;\n    margin: 2px;\n    width: 40px;\n    opacity: 0.8;\n    background-color: var(--main-bg-color);\n    border: none;\n    border-radius: 5px;\n}\n\n.video-canvas .button-area button:hover {\n    background-color: var(--highlight-bg-color-hover);\n}\n\n.video-canvas .button-area button svg path {\n    fill: var(--main-fg-color);\n}\n\n.video-canvas .button-area button svg rect {\n    fill: var(--main-fg-color);\n}\n\n.video-canvas .button-area button:hover {\n    opacity: 1;\n}\n\n.video-canvas .button-area button.align-left {\n    float: left;\n}\n\n.video-canvas .button-area button.align-right {\n    float: right;\n}\n\n.video-canvas .button-area {\n    padding: 5px;\n}\n\n\n@media (max-width: 600px) {\n    .video-canvas .button-area button {\n        width: 30px;\n    }\n}\n\n\n@media (min-width: 1200px) {\n    .video-canvas .button-area button {\n        width: 50px;\n    }\n}\n\n\n  ","",{version:3,sources:["webpack://./src/css/VideoCanvas.css"],names:[],mappings:";AACA;IACI,kBAAkB;IAClB,QAAQ;IACR,SAAS;IACT,UAAU;IACV,oBAAoB;IACpB,kBAAkB;IAClB,UAAU;AACd;;;AAGA;IACI,mBAAmB;IACnB,WAAW;IACX,WAAW;IACX,YAAY;IACZ,sCAAsC;IACtC,YAAY;IACZ,kBAAkB;AACtB;;AAEA;IACI,iDAAiD;AACrD;;AAEA;IACI,0BAA0B;AAC9B;;AAEA;IACI,0BAA0B;AAC9B;;AAEA;IACI,UAAU;AACd;;AAEA;IACI,WAAW;AACf;;AAEA;IACI,YAAY;AAChB;;AAEA;IACI,YAAY;AAChB;;;AAGA;IACI;QACI,WAAW;IACf;AACJ;;;AAGA;IACI;QACI,WAAW;IACf;AACJ",sourcesContent:["\n.video-canvas .button-area {\n    position: absolute;\n    top: 0px;\n    left: 0px;\n    right: 0px;\n    pointer-events: none;\n    text-align: center;\n    z-index: 1;\n}\n\n\n.video-canvas .button-area button {\n    pointer-events: all;\n    margin: 2px;\n    width: 40px;\n    opacity: 0.8;\n    background-color: var(--main-bg-color);\n    border: none;\n    border-radius: 5px;\n}\n\n.video-canvas .button-area button:hover {\n    background-color: var(--highlight-bg-color-hover);\n}\n\n.video-canvas .button-area button svg path {\n    fill: var(--main-fg-color);\n}\n\n.video-canvas .button-area button svg rect {\n    fill: var(--main-fg-color);\n}\n\n.video-canvas .button-area button:hover {\n    opacity: 1;\n}\n\n.video-canvas .button-area button.align-left {\n    float: left;\n}\n\n.video-canvas .button-area button.align-right {\n    float: right;\n}\n\n.video-canvas .button-area {\n    padding: 5px;\n}\n\n\n@media (max-width: 600px) {\n    .video-canvas .button-area button {\n        width: 30px;\n    }\n}\n\n\n@media (min-width: 1200px) {\n    .video-canvas .button-area button {\n        width: 50px;\n    }\n}\n\n\n  "],sourceRoot:""}]);const s=a},7674:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(7537),i=n.n(r),o=n(3645),a=n.n(o)()(i());a.push([e.id,"\n.video-container {\n    background-color: var(--video-container-background-color);\n    width: 100%;\n    height: 100%;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n\tposition: absolute;\n\ttop: 50%;\n\ttransform: translateY(-50%);\n}\n\n.base-video-rect {\n    background-color: var(--base-video-rect-background-color);\n    position: relative;\n}\n\n.video-container .button-plugins {\n    position: absolute;\n    top: 10px;\n    height: 40px;\n\tz-index: 100;\n}\n\n.video-container .button-plugins.left-side {\n    left: 10px;\n}\n\n.video-container .button-plugins.right-side {\n    right: 10px;\n}\n\n.video-container .user-area {\n\tposition: absolute;\n    width: 100%;\n    height: 100%;\n    top: 0px;\n    left: 0px;\n    pointer-events: none;\n}\n\n.video-container .button-plugins .button-plugin-container {\n\tdisplay: inline;\n}\n\n.video-container .button-plugins .button-plugin-container button {\n\twidth: 40px;\n\theight: 40px;\n\tdisplay: block;\n\tbackground-color: var(--main-bg-color);\n    border-radius: 6px;\n\tborder: none;\n\tfloat: left;\n\tmargin-left: 2px;\n    margin-right: 2px;\n}\n\n.video-container .button-plugins button:hover {\n\tbackground-color: var(--highlight-bg-color-hover);\n}\n\n.video-container .button-plugins button:active {\n\tbackground-color: var(--main-bg-color-hover);\n}\n\n.video-container .button-plugins button i {\n\tbackground-size: 50% 50%;\n\twidth: 20px;\n\theight: 20px;\n\tdisplay: block;\n\tbackground-repeat: no-repeat;\n\tbackground-position: 3px 7px;\n\tmargin-left: 5px;\n}\n\n.video-container .button-plugins button i svg {\n\tfill: var(--main-fg-color);\n}\n\n.video-container .button-plugin-side-area {\n\tdisplay: inline;\n\tcolor: var(--main-fg-color);\n\theight: 40px;\n\tline-height: 40px;\n}","",{version:3,sources:["webpack://./src/css/VideoContainer.css"],names:[],mappings:";AACA;IACI,yDAAyD;IACzD,WAAW;IACX,YAAY;IACZ,aAAa;IACb,mBAAmB;IACnB,uBAAuB;CAC1B,kBAAkB;CAClB,QAAQ;CACR,2BAA2B;AAC5B;;AAEA;IACI,yDAAyD;IACzD,kBAAkB;AACtB;;AAEA;IACI,kBAAkB;IAClB,SAAS;IACT,YAAY;CACf,YAAY;AACb;;AAEA;IACI,UAAU;AACd;;AAEA;IACI,WAAW;AACf;;AAEA;CACC,kBAAkB;IACf,WAAW;IACX,YAAY;IACZ,QAAQ;IACR,SAAS;IACT,oBAAoB;AACxB;;AAEA;CACC,eAAe;AAChB;;AAEA;CACC,WAAW;CACX,YAAY;CACZ,cAAc;CACd,sCAAsC;IACnC,kBAAkB;CACrB,YAAY;CACZ,WAAW;CACX,gBAAgB;IACb,iBAAiB;AACrB;;AAEA;CACC,iDAAiD;AAClD;;AAEA;CACC,4CAA4C;AAC7C;;AAEA;CACC,wBAAwB;CACxB,WAAW;CACX,YAAY;CACZ,cAAc;CACd,4BAA4B;CAC5B,4BAA4B;CAC5B,gBAAgB;AACjB;;AAEA;CACC,0BAA0B;AAC3B;;AAEA;CACC,eAAe;CACf,2BAA2B;CAC3B,YAAY;CACZ,iBAAiB;AAClB",sourcesContent:["\n.video-container {\n    background-color: var(--video-container-background-color);\n    width: 100%;\n    height: 100%;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n\tposition: absolute;\n\ttop: 50%;\n\ttransform: translateY(-50%);\n}\n\n.base-video-rect {\n    background-color: var(--base-video-rect-background-color);\n    position: relative;\n}\n\n.video-container .button-plugins {\n    position: absolute;\n    top: 10px;\n    height: 40px;\n\tz-index: 100;\n}\n\n.video-container .button-plugins.left-side {\n    left: 10px;\n}\n\n.video-container .button-plugins.right-side {\n    right: 10px;\n}\n\n.video-container .user-area {\n\tposition: absolute;\n    width: 100%;\n    height: 100%;\n    top: 0px;\n    left: 0px;\n    pointer-events: none;\n}\n\n.video-container .button-plugins .button-plugin-container {\n\tdisplay: inline;\n}\n\n.video-container .button-plugins .button-plugin-container button {\n\twidth: 40px;\n\theight: 40px;\n\tdisplay: block;\n\tbackground-color: var(--main-bg-color);\n    border-radius: 6px;\n\tborder: none;\n\tfloat: left;\n\tmargin-left: 2px;\n    margin-right: 2px;\n}\n\n.video-container .button-plugins button:hover {\n\tbackground-color: var(--highlight-bg-color-hover);\n}\n\n.video-container .button-plugins button:active {\n\tbackground-color: var(--main-bg-color-hover);\n}\n\n.video-container .button-plugins button i {\n\tbackground-size: 50% 50%;\n\twidth: 20px;\n\theight: 20px;\n\tdisplay: block;\n\tbackground-repeat: no-repeat;\n\tbackground-position: 3px 7px;\n\tmargin-left: 5px;\n}\n\n.video-container .button-plugins button i svg {\n\tfill: var(--main-fg-color);\n}\n\n.video-container .button-plugin-side-area {\n\tdisplay: inline;\n\tcolor: var(--main-fg-color);\n\theight: 40px;\n\tline-height: 40px;\n}"],sourceRoot:""}]);const s=a},2323:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(7537),i=n.n(r),o=n(3645),a=n.n(o)()(i());a.push([e.id,".video-layout-button {\n\tborder: none;\n\tborder-radius: 10%;\n\tbox-shadow: 1px 1px 5px 0px var(rgba(0,0,0,0.8));\n\tbackground-size: 100% 100%;\n\tdisplay: block;\n\tposition: absolute;\n\tbackground-color: var(--main-bg-color-hover);\n\tborder: none;\n\tborder-radius: 5px;\n\tpadding: 0.5%;\n}\n\n.video-layout-button:hover {\n\tbackground-color: var(--highlight-bg-color);\n}\n\n.video-layout-button:active {\n\tbackground-color: var(--highlight-bg-color-hover);\n}\n\n.video-player {\n\tbox-shadow: 2px 2px 4px 0px rgba(90,90,90,0.8);\n}","",{version:3,sources:["webpack://./src/css/VideoLayout.css"],names:[],mappings:"AAAA;CACC,YAAY;CACZ,kBAAkB;CAClB,gDAAgD;CAChD,0BAA0B;CAC1B,cAAc;CACd,kBAAkB;CAClB,4CAA4C;CAC5C,YAAY;CACZ,kBAAkB;CAClB,aAAa;AACd;;AAEA;CACC,2CAA2C;AAC5C;;AAEA;CACC,iDAAiD;AAClD;;AAEA;CACC,8CAA8C;AAC/C",sourcesContent:[".video-layout-button {\n\tborder: none;\n\tborder-radius: 10%;\n\tbox-shadow: 1px 1px 5px 0px var(rgba(0,0,0,0.8));\n\tbackground-size: 100% 100%;\n\tdisplay: block;\n\tposition: absolute;\n\tbackground-color: var(--main-bg-color-hover);\n\tborder: none;\n\tborder-radius: 5px;\n\tpadding: 0.5%;\n}\n\n.video-layout-button:hover {\n\tbackground-color: var(--highlight-bg-color);\n}\n\n.video-layout-button:active {\n\tbackground-color: var(--highlight-bg-color-hover);\n}\n\n.video-player {\n\tbox-shadow: 2px 2px 4px 0px rgba(90,90,90,0.8);\n}"],sourceRoot:""}]);const s=a},7945:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(7537),i=n.n(r),o=n(3645),a=n.n(o)()(i());a.push([e.id,".player-container {\n    position: relative;\n    overflow: hidden;\n}\n\nsvg {\n    pointer-events: none;\n}","",{version:3,sources:["webpack://./src/css/base.css"],names:[],mappings:"AAAA;IACI,kBAAkB;IAClB,gBAAgB;AACpB;;AAEA;IACI,oBAAoB;AACxB",sourcesContent:[".player-container {\n    position: relative;\n    overflow: hidden;\n}\n\nsvg {\n    pointer-events: none;\n}"],sourceRoot:""}]);const s=a},7136:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(7537),i=n.n(r),o=n(3645),a=n.n(o)()(i());a.push([e.id,"\n:root {\n    --main-fg-color: white;\n    --main-bg-color: rgba(0,0,0,0.8);\n    --main-bg-color-hover: rgb(0,0,0);\n    --secondary-bg-color: rgb(32,32,32);\n    --secondary-bg-color-hover: rgba(32,32,32,0.8);\n    --highlight-bg-color: #A00;\n    --highlight-bg-color-hover: red;\n    --main-bg-gradient: linear-gradient(0deg, rgba(32,32,32,1) 0%, rgba(32,32,32,0.49531687675070024) 72%, rgba(32,32,32,0.08355217086834732) 100%);\n    --main-border-color: rgba(125,125,125,0.4);\n    --video-container-background-color: #e4e4e4;\n    --base-video-rect-background-color: #8a8a8a;\n}\n","",{version:3,sources:["webpack://./src/css/colors.css"],names:[],mappings:";AACA;IACI,sBAAsB;IACtB,gCAAgC;IAChC,iCAAiC;IACjC,mCAAmC;IACnC,8CAA8C;IAC9C,0BAA0B;IAC1B,+BAA+B;IAC/B,+IAA+I;IAC/I,0CAA0C;IAC1C,2CAA2C;IAC3C,2CAA2C;AAC/C",sourcesContent:["\n:root {\n    --main-fg-color: white;\n    --main-bg-color: rgba(0,0,0,0.8);\n    --main-bg-color-hover: rgb(0,0,0);\n    --secondary-bg-color: rgb(32,32,32);\n    --secondary-bg-color-hover: rgba(32,32,32,0.8);\n    --highlight-bg-color: #A00;\n    --highlight-bg-color-hover: red;\n    --main-bg-gradient: linear-gradient(0deg, rgba(32,32,32,1) 0%, rgba(32,32,32,0.49531687675070024) 72%, rgba(32,32,32,0.08355217086834732) 100%);\n    --main-border-color: rgba(125,125,125,0.4);\n    --video-container-background-color: #e4e4e4;\n    --base-video-rect-background-color: #8a8a8a;\n}\n"],sourceRoot:""}]);const s=a},3645:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,r,i,o){"string"==typeof e&&(e=[[null,e,void 0]]);var a={};if(r)for(var s=0;s<this.length;s++){var u=this[s][0];null!=u&&(a[u]=!0)}for(var l=0;l<e.length;l++){var c=[].concat(e[l]);r&&a[c[0]]||(void 0!==o&&(void 0===c[5]||(c[1]="@layer".concat(c[5].length>0?" ".concat(c[5]):""," {").concat(c[1],"}")),c[5]=o),n&&(c[2]?(c[1]="@media ".concat(c[2]," {").concat(c[1],"}"),c[2]=n):c[2]=n),i&&(c[4]?(c[1]="@supports (".concat(c[4],") {").concat(c[1],"}"),c[4]=i):c[4]="".concat(i)),t.push(c))}},t}},7537:e=>{e.exports=function(e){var t=e[1],n=e[3];if(!n)return t;if("function"==typeof btoa){var r=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),i="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),o="/*# ".concat(i," */"),a=n.sources.map((function(e){return"/*# sourceURL=".concat(n.sourceRoot||"").concat(e," */")}));return[t].concat(a).concat([o]).join("\n")}return[t].join("\n")}},7631:function(e){var t;"undefined"!=typeof window&&(t=function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist/",n(n.s="./src/hls.ts")}({"./node_modules/eventemitter3/index.js":function(e,t,n){var r=Object.prototype.hasOwnProperty,i="~";function o(){}function a(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function s(e,t,n,r,o){if("function"!=typeof n)throw new TypeError("The listener must be a function");var s=new a(n,r||e,o),u=i?i+t:t;return e._events[u]?e._events[u].fn?e._events[u]=[e._events[u],s]:e._events[u].push(s):(e._events[u]=s,e._eventsCount++),e}function u(e,t){0==--e._eventsCount?e._events=new o:delete e._events[t]}function l(){this._events=new o,this._eventsCount=0}Object.create&&(o.prototype=Object.create(null),(new o).__proto__||(i=!1)),l.prototype.eventNames=function(){var e,t,n=[];if(0===this._eventsCount)return n;for(t in e=this._events)r.call(e,t)&&n.push(i?t.slice(1):t);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(e)):n},l.prototype.listeners=function(e){var t=i?i+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var r=0,o=n.length,a=new Array(o);r<o;r++)a[r]=n[r].fn;return a},l.prototype.listenerCount=function(e){var t=i?i+e:e,n=this._events[t];return n?n.fn?1:n.length:0},l.prototype.emit=function(e,t,n,r,o,a){var s=i?i+e:e;if(!this._events[s])return!1;var u,l,c=this._events[s],f=arguments.length;if(c.fn){switch(c.once&&this.removeListener(e,c.fn,void 0,!0),f){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,t),!0;case 3:return c.fn.call(c.context,t,n),!0;case 4:return c.fn.call(c.context,t,n,r),!0;case 5:return c.fn.call(c.context,t,n,r,o),!0;case 6:return c.fn.call(c.context,t,n,r,o,a),!0}for(l=1,u=new Array(f-1);l<f;l++)u[l-1]=arguments[l];c.fn.apply(c.context,u)}else{var p,d=c.length;for(l=0;l<d;l++)switch(c[l].once&&this.removeListener(e,c[l].fn,void 0,!0),f){case 1:c[l].fn.call(c[l].context);break;case 2:c[l].fn.call(c[l].context,t);break;case 3:c[l].fn.call(c[l].context,t,n);break;case 4:c[l].fn.call(c[l].context,t,n,r);break;default:if(!u)for(p=1,u=new Array(f-1);p<f;p++)u[p-1]=arguments[p];c[l].fn.apply(c[l].context,u)}}return!0},l.prototype.on=function(e,t,n){return s(this,e,t,n,!1)},l.prototype.once=function(e,t,n){return s(this,e,t,n,!0)},l.prototype.removeListener=function(e,t,n,r){var o=i?i+e:e;if(!this._events[o])return this;if(!t)return u(this,o),this;var a=this._events[o];if(a.fn)a.fn!==t||r&&!a.once||n&&a.context!==n||u(this,o);else{for(var s=0,l=[],c=a.length;s<c;s++)(a[s].fn!==t||r&&!a[s].once||n&&a[s].context!==n)&&l.push(a[s]);l.length?this._events[o]=1===l.length?l[0]:l:u(this,o)}return this},l.prototype.removeAllListeners=function(e){var t;return e?(t=i?i+e:e,this._events[t]&&u(this,t)):(this._events=new o,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=i,l.EventEmitter=l,e.exports=l},"./node_modules/url-toolkit/src/url-toolkit.js":function(e,t,n){var r,i,o,a,s;r=/^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/?#]*)?((?:[^\/?#]*\/)*[^;?#]*)?(;[^?#]*)?(\?[^#]*)?(#[^]*)?$/,i=/^([^\/?#]*)([^]*)$/,o=/(?:\/|^)\.(?=\/)/g,a=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,s={buildAbsoluteURL:function(e,t,n){if(n=n||{},e=e.trim(),!(t=t.trim())){if(!n.alwaysNormalize)return e;var r=s.parseURL(e);if(!r)throw new Error("Error trying to parse base URL.");return r.path=s.normalizePath(r.path),s.buildURLFromParts(r)}var o=s.parseURL(t);if(!o)throw new Error("Error trying to parse relative URL.");if(o.scheme)return n.alwaysNormalize?(o.path=s.normalizePath(o.path),s.buildURLFromParts(o)):t;var a=s.parseURL(e);if(!a)throw new Error("Error trying to parse base URL.");if(!a.netLoc&&a.path&&"/"!==a.path[0]){var u=i.exec(a.path);a.netLoc=u[1],a.path=u[2]}a.netLoc&&!a.path&&(a.path="/");var l={scheme:a.scheme,netLoc:o.netLoc,path:null,params:o.params,query:o.query,fragment:o.fragment};if(!o.netLoc&&(l.netLoc=a.netLoc,"/"!==o.path[0]))if(o.path){var c=a.path,f=c.substring(0,c.lastIndexOf("/")+1)+o.path;l.path=s.normalizePath(f)}else l.path=a.path,o.params||(l.params=a.params,o.query||(l.query=a.query));return null===l.path&&(l.path=n.alwaysNormalize?s.normalizePath(o.path):o.path),s.buildURLFromParts(l)},parseURL:function(e){var t=r.exec(e);return t?{scheme:t[1]||"",netLoc:t[2]||"",path:t[3]||"",params:t[4]||"",query:t[5]||"",fragment:t[6]||""}:null},normalizePath:function(e){for(e=e.split("").reverse().join("").replace(o,"");e.length!==(e=e.replace(a,"")).length;);return e.split("").reverse().join("")},buildURLFromParts:function(e){return e.scheme+e.netLoc+e.path+e.params+e.query+e.fragment}},e.exports=s},"./node_modules/webworkify-webpack/index.js":function(e,t,n){function r(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.i=function(e){return e},n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n.oe=function(e){throw console.error(e),e};var r=n(n.s=ENTRY_MODULE);return r.default||r}var i="\\(\\s*(/\\*.*?\\*/)?\\s*.*?([\\.|\\-|\\+|\\w|/|@]+).*?\\)";function o(e){return(e+"").replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}function a(e,t,r){var a={};a[r]=[];var s=t.toString(),u=s.match(/^function\s?\w*\(\w+,\s*\w+,\s*(\w+)\)/);if(!u)return a;for(var l,c=u[1],f=new RegExp("(\\\\n|\\W)"+o(c)+i,"g");l=f.exec(s);)"dll-reference"!==l[3]&&a[r].push(l[3]);for(f=new RegExp("\\("+o(c)+'\\("(dll-reference\\s([\\.|\\-|\\+|\\w|/|@]+))"\\)\\)'+i,"g");l=f.exec(s);)e[l[2]]||(a[r].push(l[1]),e[l[2]]=n(l[1]).m),a[l[2]]=a[l[2]]||[],a[l[2]].push(l[4]);for(var p,d=Object.keys(a),h=0;h<d.length;h++)for(var g=0;g<a[d[h]].length;g++)p=a[d[h]][g],isNaN(1*p)||(a[d[h]][g]=1*a[d[h]][g]);return a}function s(e){return Object.keys(e).reduce((function(t,n){return t||e[n].length>0}),!1)}e.exports=function(e,t){t=t||{};var i={main:n.m},o=t.all?{main:Object.keys(i.main)}:function(e,t){for(var n={main:[t]},r={main:[]},i={main:{}};s(n);)for(var o=Object.keys(n),u=0;u<o.length;u++){var l=o[u],c=n[l].pop();if(i[l]=i[l]||{},!i[l][c]&&e[l][c]){i[l][c]=!0,r[l]=r[l]||[],r[l].push(c);for(var f=a(e,e[l][c],l),p=Object.keys(f),d=0;d<p.length;d++)n[p[d]]=n[p[d]]||[],n[p[d]]=n[p[d]].concat(f[p[d]])}}return r}(i,e),u="";Object.keys(o).filter((function(e){return"main"!==e})).forEach((function(e){for(var t=0;o[e][t];)t++;o[e].push(t),i[e][t]="(function(module, exports, __webpack_require__) { module.exports = __webpack_require__; })",u=u+"var "+e+" = ("+r.toString().replace("ENTRY_MODULE",JSON.stringify(t))+")({"+o[e].map((function(t){return JSON.stringify(t)+": "+i[e][t].toString()})).join(",")+"});\n"})),u=u+"new (("+r.toString().replace("ENTRY_MODULE",JSON.stringify(e))+")({"+o.main.map((function(e){return JSON.stringify(e)+": "+i.main[e].toString()})).join(",")+"}))(self);";var l=new window.Blob([u],{type:"text/javascript"});if(t.bare)return l;var c=(window.URL||window.webkitURL||window.mozURL||window.msURL).createObjectURL(l),f=new window.Worker(c);return f.objectURL=c,f}},"./src/config.ts":function(e,t,n){n.r(t),n.d(t,"hlsDefaultConfig",(function(){return k})),n.d(t,"mergeConfig",(function(){return x})),n.d(t,"enableStreamingMode",(function(){return E}));var r=n("./src/controller/abr-controller.ts"),i=n("./src/controller/audio-stream-controller.ts"),o=n("./src/controller/audio-track-controller.ts"),a=n("./src/controller/subtitle-stream-controller.ts"),s=n("./src/controller/subtitle-track-controller.ts"),u=n("./src/controller/buffer-controller.ts"),l=n("./src/controller/timeline-controller.ts"),c=n("./src/controller/cap-level-controller.ts"),f=n("./src/controller/fps-controller.ts"),p=n("./src/controller/eme-controller.ts"),d=n("./src/controller/cmcd-controller.ts"),h=n("./src/utils/xhr-loader.ts"),g=n("./src/utils/fetch-loader.ts"),m=n("./src/utils/cues.ts"),v=n("./src/utils/mediakeys-helper.ts"),y=n("./src/utils/logger.ts");function b(){return b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},b.apply(this,arguments)}function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var k=A(A({autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,initialLiveManifestSize:1,maxBufferLength:30,backBufferLength:1/0,maxBufferSize:6e7,maxBufferHole:.1,highBufferWatchdogPeriod:2,nudgeOffset:.1,nudgeMaxRetry:3,maxFragLookUpTolerance:.25,liveSyncDurationCount:3,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,maxLiveSyncPlaybackRate:1,liveDurationInfinity:!1,liveBackBufferLength:null,maxMaxBufferLength:600,enableWorker:!0,enableSoftwareAES:!0,manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,startLevel:void 0,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,loader:h.default,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,licenseXhrSetup:void 0,licenseResponseCallback:void 0,abrController:r.default,bufferController:u.default,capLevelController:c.default,fpsController:f.default,stretchShortVideoTrack:!1,maxAudioFramesDrift:1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0,emeEnabled:!1,widevineLicenseUrl:void 0,drmSystemOptions:{},requestMediaKeySystemAccessFunc:v.requestMediaKeySystemAccess,testBandwidth:!0,progressive:!1,lowLatencyMode:!0,cmcd:void 0},{cueHandler:m.default,enableCEA708Captions:!0,enableWebVTT:!0,enableIMSC1:!0,captionsTextTrack1Label:"English",captionsTextTrack1LanguageCode:"en",captionsTextTrack2Label:"Spanish",captionsTextTrack2LanguageCode:"es",captionsTextTrack3Label:"Unknown CC",captionsTextTrack3LanguageCode:"",captionsTextTrack4Label:"Unknown CC",captionsTextTrack4LanguageCode:"",renderTextTracksNatively:!0}),{},{subtitleStreamController:a.SubtitleStreamController,subtitleTrackController:s.default,timelineController:l.TimelineController,audioStreamController:i.default,audioTrackController:o.default,emeController:p.default,cmcdController:d.default});function x(e,t){if((t.liveSyncDurationCount||t.liveMaxLatencyDurationCount)&&(t.liveSyncDuration||t.liveMaxLatencyDuration))throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");if(void 0!==t.liveMaxLatencyDurationCount&&(void 0===t.liveSyncDurationCount||t.liveMaxLatencyDurationCount<=t.liveSyncDurationCount))throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be greater than "liveSyncDurationCount"');if(void 0!==t.liveMaxLatencyDuration&&(void 0===t.liveSyncDuration||t.liveMaxLatencyDuration<=t.liveSyncDuration))throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be greater than "liveSyncDuration"');return b({},e,t)}function E(e){var t=e.loader;t!==g.default&&t!==h.default?(y.logger.log("[config]: Custom loader detected, cannot enable progressive streaming"),e.progressive=!1):Object(g.fetchSupported)()&&(e.loader=g.default,e.progressive=!0,e.enableSoftwareAES=!0,y.logger.log("[config]: Progressive streaming enabled, using FetchLoader"))}},"./src/controller/abr-controller.ts":function(e,t,n){n.r(t);var r=n("./src/polyfills/number.ts"),i=n("./src/utils/ewma-bandwidth-estimator.ts"),o=n("./src/events.ts"),a=n("./src/utils/buffer-helper.ts"),s=n("./src/errors.ts"),u=n("./src/types/loader.ts"),l=n("./src/utils/logger.ts"),c=function(){function e(e){this.hls=void 0,this.lastLoadedFragLevel=0,this._nextAutoLevel=-1,this.timer=void 0,this.onCheck=this._abandonRulesCheck.bind(this),this.fragCurrent=null,this.partCurrent=null,this.bitrateTestDelay=0,this.bwEstimator=void 0,this.hls=e;var t=e.config;this.bwEstimator=new i.default(t.abrEwmaSlowVoD,t.abrEwmaFastVoD,t.abrEwmaDefaultEstimate),this.registerListeners()}var t,n=e.prototype;return n.registerListeners=function(){var e=this.hls;e.on(o.Events.FRAG_LOADING,this.onFragLoading,this),e.on(o.Events.FRAG_LOADED,this.onFragLoaded,this),e.on(o.Events.FRAG_BUFFERED,this.onFragBuffered,this),e.on(o.Events.LEVEL_LOADED,this.onLevelLoaded,this),e.on(o.Events.ERROR,this.onError,this)},n.unregisterListeners=function(){var e=this.hls;e.off(o.Events.FRAG_LOADING,this.onFragLoading,this),e.off(o.Events.FRAG_LOADED,this.onFragLoaded,this),e.off(o.Events.FRAG_BUFFERED,this.onFragBuffered,this),e.off(o.Events.LEVEL_LOADED,this.onLevelLoaded,this),e.off(o.Events.ERROR,this.onError,this)},n.destroy=function(){this.unregisterListeners(),this.clearTimer(),this.hls=this.onCheck=null,this.fragCurrent=this.partCurrent=null},n.onFragLoading=function(e,t){var n,r=t.frag;r.type===u.PlaylistLevelType.MAIN&&(this.timer||(this.fragCurrent=r,this.partCurrent=null!=(n=t.part)?n:null,this.timer=self.setInterval(this.onCheck,100)))},n.onLevelLoaded=function(e,t){var n=this.hls.config;t.details.live?this.bwEstimator.update(n.abrEwmaSlowLive,n.abrEwmaFastLive):this.bwEstimator.update(n.abrEwmaSlowVoD,n.abrEwmaFastVoD)},n._abandonRulesCheck=function(){var e=this.fragCurrent,t=this.partCurrent,n=this.hls,i=n.autoLevelEnabled,s=n.config,u=n.media;if(e&&u){var c=t?t.stats:e.stats,f=t?t.duration:e.duration;if(c.aborted)return l.logger.warn("frag loader destroy or aborted, disarm abandonRules"),this.clearTimer(),void(this._nextAutoLevel=-1);if(i&&!u.paused&&u.playbackRate&&u.readyState){var p=performance.now()-c.loading.start,d=Math.abs(u.playbackRate);if(!(p<=500*f/d)){var h=n.levels,g=n.minAutoLevel,m=h[e.level],v=c.total||Math.max(c.loaded,Math.round(f*m.maxBitrate/8)),y=Math.max(1,c.bwEstimate?c.bwEstimate/8:1e3*c.loaded/p),b=(v-c.loaded)/y,w=u.currentTime,A=(a.BufferHelper.bufferInfo(u,w,s.maxBufferHole).end-w)/d;if(!(A>=2*f/d||b<=A)){var _,k=Number.POSITIVE_INFINITY;for(_=e.level-1;_>g&&!((k=f*h[_].maxBitrate/(6.4*y))<A);_--);if(!(k>=b)){var x=this.bwEstimator.getEstimate();l.logger.warn("Fragment "+e.sn+(t?" part "+t.index:"")+" of level "+e.level+" is loading too slowly and will cause an underbuffer; aborting and switching to level "+_+"\n      Current BW estimate: "+(Object(r.isFiniteNumber)(x)?(x/1024).toFixed(3):"Unknown")+" Kb/s\n      Estimated load time for current fragment: "+b.toFixed(3)+" s\n      Estimated load time for the next fragment: "+k.toFixed(3)+" s\n      Time to underbuffer: "+A.toFixed(3)+" s"),n.nextLoadLevel=_,this.bwEstimator.sample(p,c.loaded),this.clearTimer(),e.loader&&(this.fragCurrent=this.partCurrent=null,e.loader.abort()),n.trigger(o.Events.FRAG_LOAD_EMERGENCY_ABORTED,{frag:e,part:t,stats:c})}}}}}},n.onFragLoaded=function(e,t){var n=t.frag,i=t.part;if(n.type===u.PlaylistLevelType.MAIN&&Object(r.isFiniteNumber)(n.sn)){var a=i?i.stats:n.stats,s=i?i.duration:n.duration;if(this.clearTimer(),this.lastLoadedFragLevel=n.level,this._nextAutoLevel=-1,this.hls.config.abrMaxWithRealBitrate){var l=this.hls.levels[n.level],c=(l.loaded?l.loaded.bytes:0)+a.loaded,f=(l.loaded?l.loaded.duration:0)+s;l.loaded={bytes:c,duration:f},l.realBitrate=Math.round(8*c/f)}if(n.bitrateTest){var p={stats:a,frag:n,part:i,id:n.type};this.onFragBuffered(o.Events.FRAG_BUFFERED,p),n.bitrateTest=!1}}},n.onFragBuffered=function(e,t){var n=t.frag,r=t.part,i=r?r.stats:n.stats;if(!i.aborted&&n.type===u.PlaylistLevelType.MAIN&&"initSegment"!==n.sn){var o=i.parsing.end-i.loading.start;this.bwEstimator.sample(o,i.loaded),i.bwEstimate=this.bwEstimator.getEstimate(),n.bitrateTest?this.bitrateTestDelay=o/1e3:this.bitrateTestDelay=0}},n.onError=function(e,t){switch(t.details){case s.ErrorDetails.FRAG_LOAD_ERROR:case s.ErrorDetails.FRAG_LOAD_TIMEOUT:this.clearTimer()}},n.clearTimer=function(){self.clearInterval(this.timer),this.timer=void 0},n.getNextABRAutoLevel=function(){var e=this.fragCurrent,t=this.partCurrent,n=this.hls,r=n.maxAutoLevel,i=n.config,o=n.minAutoLevel,s=n.media,u=t?t.duration:e?e.duration:0,c=s?s.currentTime:0,f=s&&0!==s.playbackRate?Math.abs(s.playbackRate):1,p=this.bwEstimator?this.bwEstimator.getEstimate():i.abrEwmaDefaultEstimate,d=(a.BufferHelper.bufferInfo(s,c,i.maxBufferHole).end-c)/f,h=this.findBestLevel(p,o,r,d,i.abrBandWidthFactor,i.abrBandWidthUpFactor);if(h>=0)return h;l.logger.trace((d?"rebuffering expected":"buffer is empty")+", finding optimal quality level");var g=u?Math.min(u,i.maxStarvationDelay):i.maxStarvationDelay,m=i.abrBandWidthFactor,v=i.abrBandWidthUpFactor;if(!d){var y=this.bitrateTestDelay;y&&(g=(u?Math.min(u,i.maxLoadingDelay):i.maxLoadingDelay)-y,l.logger.trace("bitrate test took "+Math.round(1e3*y)+"ms, set first fragment max fetchDuration to "+Math.round(1e3*g)+" ms"),m=v=1)}return h=this.findBestLevel(p,o,r,d+g,m,v),Math.max(h,0)},n.findBestLevel=function(e,t,n,r,i,o){for(var a,s=this.fragCurrent,u=this.partCurrent,c=this.lastLoadedFragLevel,f=this.hls.levels,p=f[c],d=!(null==p||null===(a=p.details)||void 0===a||!a.live),h=null==p?void 0:p.codecSet,g=u?u.duration:s?s.duration:0,m=n;m>=t;m--){var v=f[m];if(v&&(!h||v.codecSet===h)){var y,b=v.details,w=(u?null==b?void 0:b.partTarget:null==b?void 0:b.averagetargetduration)||g;y=m<=c?i*e:o*e;var A=f[m].maxBitrate,_=A*w/y;if(l.logger.trace("level/adjustedbw/bitrate/avgDuration/maxFetchDuration/fetchDuration: "+m+"/"+Math.round(y)+"/"+A+"/"+w+"/"+r+"/"+_),y>A&&(!_||d&&!this.bitrateTestDelay||_<r))return m}}return-1},(t=[{key:"nextAutoLevel",get:function(){var e=this._nextAutoLevel,t=this.bwEstimator;if(!(-1===e||t&&t.canEstimate()))return e;var n=this.getNextABRAutoLevel();return-1!==e&&(n=Math.min(e,n)),n},set:function(e){this._nextAutoLevel=e}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}();t.default=c},"./src/controller/audio-stream-controller.ts":function(e,t,n){n.r(t);var r=n("./src/polyfills/number.ts"),i=n("./src/controller/base-stream-controller.ts"),o=n("./src/events.ts"),a=n("./src/utils/buffer-helper.ts"),s=n("./src/controller/fragment-tracker.ts"),u=n("./src/types/level.ts"),l=n("./src/types/loader.ts"),c=n("./src/loader/fragment.ts"),f=n("./src/demux/chunk-cache.ts"),p=n("./src/demux/transmuxer-interface.ts"),d=n("./src/types/transmuxer.ts"),h=n("./src/controller/fragment-finders.ts"),g=n("./src/utils/discontinuities.ts"),m=n("./src/errors.ts"),v=n("./src/utils/logger.ts");function y(){return y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},y.apply(this,arguments)}function b(e,t){return b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},b(e,t)}var w=function(e){var t,n;function w(t,n){var r;return(r=e.call(this,t,n,"[audio-stream-controller]")||this).videoBuffer=null,r.videoTrackCC=-1,r.waitingVideoCC=-1,r.audioSwitch=!1,r.trackId=-1,r.waitingData=null,r.mainDetails=null,r.bufferFlushed=!1,r._registerListeners(),r}n=e,(t=w).prototype=Object.create(n.prototype),t.prototype.constructor=t,b(t,n);var A=w.prototype;return A.onHandlerDestroying=function(){this._unregisterListeners(),this.mainDetails=null},A._registerListeners=function(){var e=this.hls;e.on(o.Events.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(o.Events.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(o.Events.MANIFEST_LOADING,this.onManifestLoading,this),e.on(o.Events.LEVEL_LOADED,this.onLevelLoaded,this),e.on(o.Events.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),e.on(o.Events.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.on(o.Events.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.on(o.Events.ERROR,this.onError,this),e.on(o.Events.BUFFER_RESET,this.onBufferReset,this),e.on(o.Events.BUFFER_CREATED,this.onBufferCreated,this),e.on(o.Events.BUFFER_FLUSHED,this.onBufferFlushed,this),e.on(o.Events.INIT_PTS_FOUND,this.onInitPtsFound,this),e.on(o.Events.FRAG_BUFFERED,this.onFragBuffered,this)},A._unregisterListeners=function(){var e=this.hls;e.off(o.Events.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(o.Events.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(o.Events.MANIFEST_LOADING,this.onManifestLoading,this),e.off(o.Events.LEVEL_LOADED,this.onLevelLoaded,this),e.off(o.Events.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),e.off(o.Events.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.off(o.Events.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.off(o.Events.ERROR,this.onError,this),e.off(o.Events.BUFFER_RESET,this.onBufferReset,this),e.off(o.Events.BUFFER_CREATED,this.onBufferCreated,this),e.off(o.Events.BUFFER_FLUSHED,this.onBufferFlushed,this),e.off(o.Events.INIT_PTS_FOUND,this.onInitPtsFound,this),e.off(o.Events.FRAG_BUFFERED,this.onFragBuffered,this)},A.onInitPtsFound=function(e,t){var n=t.frag,r=t.id,o=t.initPTS;if("main"===r){var a=n.cc;this.initPTS[n.cc]=o,this.log("InitPTS for cc: "+a+" found from main: "+o),this.videoTrackCC=a,this.state===i.State.WAITING_INIT_PTS&&this.tick()}},A.startLoad=function(e){if(!this.levels)return this.startPosition=e,void(this.state=i.State.STOPPED);var t=this.lastCurrentTime;this.stopLoad(),this.setInterval(100),this.fragLoadError=0,t>0&&-1===e?(this.log("Override startPosition with lastCurrentTime @"+t.toFixed(3)),this.state=i.State.IDLE):(this.loadedmetadata=!1,this.state=i.State.WAITING_TRACK),this.nextLoadPosition=this.startPosition=this.lastCurrentTime=e,this.tick()},A.doTick=function(){switch(this.state){case i.State.IDLE:this.doTickIdle();break;case i.State.WAITING_TRACK:var t,n=this.levels,r=this.trackId,o=null==n||null===(t=n[r])||void 0===t?void 0:t.details;if(o){if(this.waitForCdnTuneIn(o))break;this.state=i.State.WAITING_INIT_PTS}break;case i.State.FRAG_LOADING_WAITING_RETRY:var s,u=performance.now(),l=this.retryDate;(!l||u>=l||null!==(s=this.media)&&void 0!==s&&s.seeking)&&(this.log("RetryDate reached, switch back to IDLE state"),this.state=i.State.IDLE);break;case i.State.WAITING_INIT_PTS:var c=this.waitingData;if(c){var f=c.frag,p=c.part,d=c.cache,g=c.complete;if(void 0!==this.initPTS[f.cc]){this.waitingData=null,this.waitingVideoCC=-1,this.state=i.State.FRAG_LOADING;var m={frag:f,part:p,payload:d.flush(),networkDetails:null};this._handleFragmentLoadProgress(m),g&&e.prototype._handleFragmentLoadComplete.call(this,m)}else if(this.videoTrackCC!==this.waitingVideoCC)v.logger.log("Waiting fragment cc ("+f.cc+") cancelled because video is at cc "+this.videoTrackCC),this.clearWaitingFragment();else{var y=this.getLoadPosition(),b=a.BufferHelper.bufferInfo(this.mediaBuffer,y,this.config.maxBufferHole);Object(h.fragmentWithinToleranceTest)(b.end,this.config.maxFragLookUpTolerance,f)<0&&(v.logger.log("Waiting fragment cc ("+f.cc+") @ "+f.start+" cancelled because another fragment at "+b.end+" is needed"),this.clearWaitingFragment())}}else this.state=i.State.IDLE}this.onTickEnd()},A.clearWaitingFragment=function(){var e=this.waitingData;e&&(this.fragmentTracker.removeFragment(e.frag),this.waitingData=null,this.waitingVideoCC=-1,this.state=i.State.IDLE)},A.onTickEnd=function(){var e=this.media;if(e&&e.readyState){var t=(this.mediaBuffer?this.mediaBuffer:e).buffered;!this.loadedmetadata&&t.length&&(this.loadedmetadata=!0),this.lastCurrentTime=e.currentTime}},A.doTickIdle=function(){var e,t,n=this.hls,r=this.levels,a=this.media,s=this.trackId,u=n.config;if(r&&r[s]&&(a||!this.startFragRequested&&u.startFragPrefetch)){var f=r[s].details;if(!f||f.live&&this.levelLastLoaded!==s||this.waitForCdnTuneIn(f))this.state=i.State.WAITING_TRACK;else{this.bufferFlushed&&(this.bufferFlushed=!1,this.afterBufferFlushed(this.mediaBuffer?this.mediaBuffer:this.media,c.ElementaryStreamTypes.AUDIO,l.PlaylistLevelType.AUDIO));var p=this.getFwdBufferInfo(this.mediaBuffer?this.mediaBuffer:this.media,l.PlaylistLevelType.AUDIO);if(null!==p){var d=p.len,h=this.getMaxBufferLength(),g=this.audioSwitch;if(!(d>=h)||g){if(!g&&this._streamEnded(p,f))return n.trigger(o.Events.BUFFER_EOS,{type:"audio"}),void(this.state=i.State.ENDED);var m=f.fragments[0].start,v=p.end;if(g){var y=this.getLoadPosition();v=y,f.PTSKnown&&y<m&&(p.end>m||p.nextStart)&&(this.log("Alt audio track ahead of main track, seek to start of alt audio track"),a.currentTime=m+.05)}var b=this.getNextFragment(v,f);b?"identity"!==(null===(e=b.decryptdata)||void 0===e?void 0:e.keyFormat)||null!==(t=b.decryptdata)&&void 0!==t&&t.key?this.loadFragment(b,f,v):this.loadKey(b,f):this.bufferFlushed=!0}}}}},A.getMaxBufferLength=function(){var t=e.prototype.getMaxBufferLength.call(this),n=this.getFwdBufferInfo(this.videoBuffer?this.videoBuffer:this.media,l.PlaylistLevelType.MAIN);return null===n?t:Math.max(t,n.len)},A.onMediaDetaching=function(){this.videoBuffer=null,e.prototype.onMediaDetaching.call(this)},A.onAudioTracksUpdated=function(e,t){var n=t.audioTracks;this.resetTransmuxer(),this.levels=n.map((function(e){return new u.Level(e)}))},A.onAudioTrackSwitching=function(e,t){var n=!!t.url;this.trackId=t.id;var r=this.fragCurrent;null!=r&&r.loader&&r.loader.abort(),this.fragCurrent=null,this.clearWaitingFragment(),n?this.setInterval(100):this.resetTransmuxer(),n?(this.audioSwitch=!0,this.state=i.State.IDLE):this.state=i.State.STOPPED,this.tick()},A.onManifestLoading=function(){this.mainDetails=null,this.fragmentTracker.removeAllFragments(),this.startPosition=this.lastCurrentTime=0,this.bufferFlushed=!1},A.onLevelLoaded=function(e,t){this.mainDetails=t.details},A.onAudioTrackLoaded=function(e,t){var n,r=this.levels,o=t.details,a=t.id;if(r){this.log("Track "+a+" loaded ["+o.startSN+","+o.endSN+"],duration:"+o.totalduration);var s=r[a],u=0;if(o.live||null!==(n=s.details)&&void 0!==n&&n.live){var l=this.mainDetails;if(o.fragments[0]||(o.deltaUpdateFailed=!0),o.deltaUpdateFailed||!l)return;!s.details&&o.hasProgramDateTime&&l.hasProgramDateTime?(Object(g.alignMediaPlaylistByPDT)(o,l),u=o.fragments[0].start):u=this.alignPlaylists(o,s.details)}s.details=o,this.levelLastLoaded=a,this.startFragRequested||!this.mainDetails&&o.live||this.setStartPosition(s.details,u),this.state!==i.State.WAITING_TRACK||this.waitForCdnTuneIn(o)||(this.state=i.State.IDLE),this.tick()}else this.warn("Audio tracks were reset while loading level "+a)},A._handleFragmentLoadProgress=function(e){var t,n=e.frag,r=e.part,o=e.payload,a=this.config,s=this.trackId,u=this.levels;if(u){var c=u[s];console.assert(c,"Audio track is defined on fragment load progress");var h=c.details;console.assert(h,"Audio track details are defined on fragment load progress");var g=a.defaultAudioCodec||c.audioCodec||"mp4a.40.2",m=this.transmuxer;m||(m=this.transmuxer=new p.default(this.hls,l.PlaylistLevelType.AUDIO,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)));var y=this.initPTS[n.cc],b=null===(t=n.initSegment)||void 0===t?void 0:t.data;if(void 0!==y){var w=r?r.index:-1,A=-1!==w,_=new d.ChunkMetadata(n.level,n.sn,n.stats.chunkCount,o.byteLength,w,A);m.push(o,b,g,"",n,r,h.totalduration,!1,_,y)}else v.logger.log("Unknown video PTS for cc "+n.cc+", waiting for video PTS before demuxing audio frag "+n.sn+" of ["+h.startSN+" ,"+h.endSN+"],track "+s),(this.waitingData=this.waitingData||{frag:n,part:r,cache:new f.default,complete:!1}).cache.push(new Uint8Array(o)),this.waitingVideoCC=this.videoTrackCC,this.state=i.State.WAITING_INIT_PTS}else this.warn("Audio tracks were reset while fragment load was in progress. Fragment "+n.sn+" of level "+n.level+" will not be buffered")},A._handleFragmentLoadComplete=function(t){this.waitingData?this.waitingData.complete=!0:e.prototype._handleFragmentLoadComplete.call(this,t)},A.onBufferReset=function(){this.mediaBuffer=this.videoBuffer=null,this.loadedmetadata=!1},A.onBufferCreated=function(e,t){var n=t.tracks.audio;n&&(this.mediaBuffer=n.buffer),t.tracks.video&&(this.videoBuffer=t.tracks.video.buffer)},A.onFragBuffered=function(e,t){var n=t.frag,r=t.part;n.type===l.PlaylistLevelType.AUDIO&&(this.fragContextChanged(n)?this.warn("Fragment "+n.sn+(r?" p: "+r.index:"")+" of level "+n.level+" finished buffering, but was aborted. state: "+this.state+", audioSwitch: "+this.audioSwitch):("initSegment"!==n.sn&&(this.fragPrevious=n,this.audioSwitch&&(this.audioSwitch=!1,this.hls.trigger(o.Events.AUDIO_TRACK_SWITCHED,{id:this.trackId}))),this.fragBufferedComplete(n,r)))},A.onError=function(t,n){switch(n.details){case m.ErrorDetails.FRAG_LOAD_ERROR:case m.ErrorDetails.FRAG_LOAD_TIMEOUT:case m.ErrorDetails.KEY_LOAD_ERROR:case m.ErrorDetails.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(l.PlaylistLevelType.AUDIO,n);break;case m.ErrorDetails.AUDIO_TRACK_LOAD_ERROR:case m.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT:this.state!==i.State.ERROR&&this.state!==i.State.STOPPED&&(this.state=n.fatal?i.State.ERROR:i.State.IDLE,this.warn(n.details+" while loading frag, switching to "+this.state+" state"));break;case m.ErrorDetails.BUFFER_FULL_ERROR:if("audio"===n.parent&&(this.state===i.State.PARSING||this.state===i.State.PARSED)){var r=!0,o=this.getFwdBufferInfo(this.mediaBuffer,l.PlaylistLevelType.AUDIO);o&&o.len>.5&&(r=!this.reduceMaxBufferLength(o.len)),r&&(this.warn("Buffer full error also media.currentTime is not buffered, flush audio buffer"),this.fragCurrent=null,e.prototype.flushMainBuffer.call(this,0,Number.POSITIVE_INFINITY,"audio")),this.resetLoadingState()}}},A.onBufferFlushed=function(e,t){t.type===c.ElementaryStreamTypes.AUDIO&&(this.bufferFlushed=!0)},A._handleTransmuxComplete=function(e){var t,n="audio",r=this.hls,a=e.remuxResult,s=e.chunkMeta,u=this.getCurrentContext(s);if(!u)return this.warn("The loading context changed while buffering fragment "+s.sn+" of level "+s.level+". This chunk will not be buffered."),void this.resetLiveStartWhenNotLoaded(s.level);var l=u.frag,f=u.part,p=a.audio,d=a.text,h=a.id3,g=a.initSegment;if(!this.fragContextChanged(l)){if(this.state=i.State.PARSING,this.audioSwitch&&p&&this.completeAudioSwitch(),null!=g&&g.tracks&&(this._bufferInitSegment(g.tracks,l,s),r.trigger(o.Events.FRAG_PARSING_INIT_SEGMENT,{frag:l,id:n,tracks:g.tracks})),p){var m=p.startPTS,v=p.endPTS,b=p.startDTS,w=p.endDTS;f&&(f.elementaryStreams[c.ElementaryStreamTypes.AUDIO]={startPTS:m,endPTS:v,startDTS:b,endDTS:w}),l.setElementaryStreamInfo(c.ElementaryStreamTypes.AUDIO,m,v,b,w),this.bufferFragmentData(p,l,f,s)}if(null!=h&&null!==(t=h.samples)&&void 0!==t&&t.length){var A=y({frag:l,id:n},h);r.trigger(o.Events.FRAG_PARSING_METADATA,A)}if(d){var _=y({frag:l,id:n},d);r.trigger(o.Events.FRAG_PARSING_USERDATA,_)}}},A._bufferInitSegment=function(e,t,n){if(this.state===i.State.PARSING){e.video&&delete e.video;var r=e.audio;if(r){r.levelCodec=r.codec,r.id="audio",this.log("Init audio buffer, container:"+r.container+", codecs[parsed]=["+r.codec+"]"),this.hls.trigger(o.Events.BUFFER_CODECS,e);var a=r.initSegment;if(null!=a&&a.byteLength){var s={type:"audio",frag:t,part:null,chunkMeta:n,parent:t.type,data:a};this.hls.trigger(o.Events.BUFFER_APPENDING,s)}this.tick()}}},A.loadFragment=function(t,n,o){var a=this.fragmentTracker.getState(t);this.fragCurrent=t,(this.audioSwitch||a===s.FragmentState.NOT_LOADED||a===s.FragmentState.PARTIAL)&&("initSegment"===t.sn?this._loadInitSegment(t):n.live&&!Object(r.isFiniteNumber)(this.initPTS[t.cc])?(this.log("Waiting for video PTS in continuity counter "+t.cc+" of live stream before loading audio fragment "+t.sn+" of level "+this.trackId),this.state=i.State.WAITING_INIT_PTS):(this.startFragRequested=!0,e.prototype.loadFragment.call(this,t,n,o)))},A.completeAudioSwitch=function(){var t=this.hls,n=this.media,r=this.trackId;n&&(this.log("Switching audio track : flushing all audio"),e.prototype.flushMainBuffer.call(this,0,Number.POSITIVE_INFINITY,"audio")),this.audioSwitch=!1,t.trigger(o.Events.AUDIO_TRACK_SWITCHED,{id:r})},w}(i.default);t.default=w},"./src/controller/audio-track-controller.ts":function(e,t,n){n.r(t);var r=n("./src/events.ts"),i=n("./src/errors.ts"),o=n("./src/controller/base-playlist-controller.ts"),a=n("./src/types/loader.ts");function s(e,t){return s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},s(e,t)}var u=function(e){var t,n;function o(t){var n;return(n=e.call(this,t,"[audio-track-controller]")||this).tracks=[],n.groupId=null,n.tracksInGroup=[],n.trackId=-1,n.trackName="",n.selectDefaultTrack=!0,n.registerListeners(),n}n=e,(t=o).prototype=Object.create(n.prototype),t.prototype.constructor=t,s(t,n);var u,l=o.prototype;return l.registerListeners=function(){var e=this.hls;e.on(r.Events.MANIFEST_LOADING,this.onManifestLoading,this),e.on(r.Events.MANIFEST_PARSED,this.onManifestParsed,this),e.on(r.Events.LEVEL_LOADING,this.onLevelLoading,this),e.on(r.Events.LEVEL_SWITCHING,this.onLevelSwitching,this),e.on(r.Events.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.on(r.Events.ERROR,this.onError,this)},l.unregisterListeners=function(){var e=this.hls;e.off(r.Events.MANIFEST_LOADING,this.onManifestLoading,this),e.off(r.Events.MANIFEST_PARSED,this.onManifestParsed,this),e.off(r.Events.LEVEL_LOADING,this.onLevelLoading,this),e.off(r.Events.LEVEL_SWITCHING,this.onLevelSwitching,this),e.off(r.Events.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.off(r.Events.ERROR,this.onError,this)},l.destroy=function(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,e.prototype.destroy.call(this)},l.onManifestLoading=function(){this.tracks=[],this.groupId=null,this.tracksInGroup=[],this.trackId=-1,this.trackName="",this.selectDefaultTrack=!0},l.onManifestParsed=function(e,t){this.tracks=t.audioTracks||[]},l.onAudioTrackLoaded=function(e,t){var n=t.id,r=t.details,i=this.tracksInGroup[n];if(i){var o=i.details;i.details=t.details,this.log("audioTrack "+n+" loaded ["+r.startSN+"-"+r.endSN+"]"),n===this.trackId&&(this.retryCount=0,this.playlistLoaded(n,t,o))}else this.warn("Invalid audio track id "+n)},l.onLevelLoading=function(e,t){this.switchLevel(t.level)},l.onLevelSwitching=function(e,t){this.switchLevel(t.level)},l.switchLevel=function(e){var t=this.hls.levels[e];if(null!=t&&t.audioGroupIds){var n=t.audioGroupIds[t.urlId];if(this.groupId!==n){this.groupId=n;var i=this.tracks.filter((function(e){return!n||e.groupId===n}));this.selectDefaultTrack&&!i.some((function(e){return e.default}))&&(this.selectDefaultTrack=!1),this.tracksInGroup=i;var o={audioTracks:i};this.log("Updating audio tracks, "+i.length+' track(s) found in "'+n+'" group-id'),this.hls.trigger(r.Events.AUDIO_TRACKS_UPDATED,o),this.selectInitialTrack()}}},l.onError=function(t,n){e.prototype.onError.call(this,t,n),!n.fatal&&n.context&&n.context.type===a.PlaylistContextType.AUDIO_TRACK&&n.context.id===this.trackId&&n.context.groupId===this.groupId&&this.retryLoadingOrFail(n)},l.setAudioTrack=function(e){var t=this.tracksInGroup;if(e<0||e>=t.length)this.warn("Invalid id passed to audio-track controller");else{this.clearTimer();var n=t[this.trackId];this.log("Now switching to audio-track index "+e);var i=t[e],o=i.id,a=i.groupId,s=void 0===a?"":a,u=i.name,l=i.type,c=i.url;if(this.trackId=e,this.trackName=u,this.selectDefaultTrack=!1,this.hls.trigger(r.Events.AUDIO_TRACK_SWITCHING,{id:o,groupId:s,name:u,type:l,url:c}),!i.details||i.details.live){var f=this.switchParams(i.url,null==n?void 0:n.details);this.loadPlaylist(f)}}},l.selectInitialTrack=function(){var e=this.tracksInGroup;console.assert(e.length,"Initial audio track should be selected when tracks are known");var t=this.trackName,n=this.findTrackId(t)||this.findTrackId();-1!==n?this.setAudioTrack(n):(this.warn("No track found for running audio group-ID: "+this.groupId),this.hls.trigger(r.Events.ERROR,{type:i.ErrorTypes.MEDIA_ERROR,details:i.ErrorDetails.AUDIO_TRACK_LOAD_ERROR,fatal:!0}))},l.findTrackId=function(e){for(var t=this.tracksInGroup,n=0;n<t.length;n++){var r=t[n];if((!this.selectDefaultTrack||r.default)&&(!e||e===r.name))return r.id}return-1},l.loadPlaylist=function(e){var t=this.tracksInGroup[this.trackId];if(this.shouldLoadTrack(t)){var n=t.id,i=t.groupId,o=t.url;if(e)try{o=e.addDirectives(o)}catch(e){this.warn("Could not construct new URL with HLS Delivery Directives: "+e)}this.log("loading audio-track playlist for id: "+n),this.clearTimer(),this.hls.trigger(r.Events.AUDIO_TRACK_LOADING,{url:o,id:n,groupId:i,deliveryDirectives:e||null})}},(u=[{key:"audioTracks",get:function(){return this.tracksInGroup}},{key:"audioTrack",get:function(){return this.trackId},set:function(e){this.selectDefaultTrack=!1,this.setAudioTrack(e)}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(o.prototype,u),o}(o.default);t.default=u},"./src/controller/base-playlist-controller.ts":function(e,t,n){n.r(t),n.d(t,"default",(function(){return u}));var r=n("./src/polyfills/number.ts"),i=n("./src/types/level.ts"),o=n("./src/controller/level-helper.ts"),a=n("./src/utils/logger.ts"),s=n("./src/errors.ts"),u=function(){function e(e,t){this.hls=void 0,this.timer=-1,this.canLoad=!1,this.retryCount=0,this.log=void 0,this.warn=void 0,this.log=a.logger.log.bind(a.logger,t+":"),this.warn=a.logger.warn.bind(a.logger,t+":"),this.hls=e}var t=e.prototype;return t.destroy=function(){this.clearTimer(),this.hls=this.log=this.warn=null},t.onError=function(e,t){t.fatal&&t.type===s.ErrorTypes.NETWORK_ERROR&&this.clearTimer()},t.clearTimer=function(){clearTimeout(this.timer),this.timer=-1},t.startLoad=function(){this.canLoad=!0,this.retryCount=0,this.loadPlaylist()},t.stopLoad=function(){this.canLoad=!1,this.clearTimer()},t.switchParams=function(e,t){var n=null==t?void 0:t.renditionReports;if(n)for(var o=0;o<n.length;o++){var a=n[o],s=""+a.URI;if(s===e.substr(-s.length)){var u=parseInt(a["LAST-MSN"]),l=parseInt(a["LAST-PART"]);if(t&&this.hls.config.lowLatencyMode){var c=Math.min(t.age-t.partTarget,t.targetduration);void 0!==l&&c>t.partTarget&&(l+=1)}if(Object(r.isFiniteNumber)(u))return new i.HlsUrlParameters(u,Object(r.isFiniteNumber)(l)?l:void 0,i.HlsSkip.No)}}},t.loadPlaylist=function(e){},t.shouldLoadTrack=function(e){return this.canLoad&&e&&!!e.url&&(!e.details||e.details.live)},t.playlistLoaded=function(e,t,n){var r=this,i=t.details,a=t.stats,s=a.loading.end?Math.max(0,self.performance.now()-a.loading.end):0;if(i.advancedDateTime=Date.now()-s,i.live||null!=n&&n.live){if(i.reloaded(n),n&&this.log("live playlist "+e+" "+(i.advanced?"REFRESHED "+i.lastPartSn+"-"+i.lastPartIndex:"MISSED")),n&&i.fragments.length>0&&Object(o.mergeDetails)(n,i),!this.canLoad||!i.live)return;var u,l=void 0,c=void 0;if(i.canBlockReload&&i.endSN&&i.advanced){var f=this.hls.config.lowLatencyMode,p=i.lastPartSn,d=i.endSN,h=i.lastPartIndex,g=p===d;-1!==h?(l=g?d+1:p,c=g?f?0:h:h+1):l=d+1;var m=i.age,v=m+i.ageHeader,y=Math.min(v-i.partTarget,1.5*i.targetduration);if(y>0){if(n&&y>n.tuneInGoal)this.warn("CDN Tune-in goal increased from: "+n.tuneInGoal+" to: "+y+" with playlist age: "+i.age),y=0;else{var b=Math.floor(y/i.targetduration);l+=b,void 0!==c&&(c+=Math.round(y%i.targetduration/i.partTarget)),this.log("CDN Tune-in age: "+i.ageHeader+"s last advanced "+m.toFixed(2)+"s goal: "+y+" skip sn "+b+" to part "+c)}i.tuneInGoal=y}if(u=this.getDeliveryDirectives(i,t.deliveryDirectives,l,c),f||!g)return void this.loadPlaylist(u)}else u=this.getDeliveryDirectives(i,t.deliveryDirectives,l,c);var w=Object(o.computeReloadInterval)(i,a);void 0!==l&&i.canBlockReload&&(w-=i.partTarget||1),this.log("reload live playlist "+e+" in "+Math.round(w)+" ms"),this.timer=self.setTimeout((function(){return r.loadPlaylist(u)}),w)}else this.clearTimer()},t.getDeliveryDirectives=function(e,t,n,r){var o=Object(i.getSkipValue)(e,n);return null!=t&&t.skip&&e.deltaUpdateFailed&&(n=t.msn,r=t.part,o=i.HlsSkip.No),new i.HlsUrlParameters(n,r,o)},t.retryLoadingOrFail=function(e){var t,n=this,r=this.hls.config,i=this.retryCount<r.levelLoadingMaxRetry;if(i)if(this.retryCount++,e.details.indexOf("LoadTimeOut")>-1&&null!==(t=e.context)&&void 0!==t&&t.deliveryDirectives)this.warn("retry playlist loading #"+this.retryCount+' after "'+e.details+'"'),this.loadPlaylist();else{var o=Math.min(Math.pow(2,this.retryCount)*r.levelLoadingRetryDelay,r.levelLoadingMaxRetryTimeout);this.timer=self.setTimeout((function(){return n.loadPlaylist()}),o),this.warn("retry playlist loading #"+this.retryCount+" in "+o+' ms after "'+e.details+'"')}else this.warn('cannot recover from error "'+e.details+'"'),this.clearTimer(),e.fatal=!0;return i},e}()},"./src/controller/base-stream-controller.ts":function(e,t,n){n.r(t),n.d(t,"State",(function(){return w})),n.d(t,"default",(function(){return A}));var r=n("./src/polyfills/number.ts"),i=n("./src/task-loop.ts"),o=n("./src/controller/fragment-tracker.ts"),a=n("./src/utils/buffer-helper.ts"),s=n("./src/utils/logger.ts"),u=n("./src/events.ts"),l=n("./src/errors.ts"),c=n("./src/types/transmuxer.ts"),f=n("./src/utils/mp4-tools.ts"),p=n("./src/utils/discontinuities.ts"),d=n("./src/controller/fragment-finders.ts"),h=n("./src/controller/level-helper.ts"),g=n("./src/loader/fragment-loader.ts"),m=n("./src/crypt/decrypter.ts"),v=n("./src/utils/time-ranges.ts"),y=n("./src/types/loader.ts");function b(e,t){return b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},b(e,t)}var w={STOPPED:"STOPPED",IDLE:"IDLE",KEY_LOADING:"KEY_LOADING",FRAG_LOADING:"FRAG_LOADING",FRAG_LOADING_WAITING_RETRY:"FRAG_LOADING_WAITING_RETRY",WAITING_TRACK:"WAITING_TRACK",PARSING:"PARSING",PARSED:"PARSED",BACKTRACKING:"BACKTRACKING",ENDED:"ENDED",ERROR:"ERROR",WAITING_INIT_PTS:"WAITING_INIT_PTS",WAITING_LEVEL:"WAITING_LEVEL"},A=function(e){var t,n;function i(t,n,r){var i;return(i=e.call(this)||this).hls=void 0,i.fragPrevious=null,i.fragCurrent=null,i.fragmentTracker=void 0,i.transmuxer=null,i._state=w.STOPPED,i.media=void 0,i.mediaBuffer=void 0,i.config=void 0,i.bitrateTest=!1,i.lastCurrentTime=0,i.nextLoadPosition=0,i.startPosition=0,i.loadedmetadata=!1,i.fragLoadError=0,i.retryDate=0,i.levels=null,i.fragmentLoader=void 0,i.levelLastLoaded=null,i.startFragRequested=!1,i.decrypter=void 0,i.initPTS=[],i.onvseeking=null,i.onvended=null,i.logPrefix="",i.log=void 0,i.warn=void 0,i.logPrefix=r,i.log=s.logger.log.bind(s.logger,r+":"),i.warn=s.logger.warn.bind(s.logger,r+":"),i.hls=t,i.fragmentLoader=new g.default(t.config),i.fragmentTracker=n,i.config=t.config,i.decrypter=new m.default(t,t.config),t.on(u.Events.KEY_LOADED,i.onKeyLoaded,function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(i)),i}n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,b(t,n);var A,_=i.prototype;return _.doTick=function(){this.onTickEnd()},_.onTickEnd=function(){},_.startLoad=function(e){},_.stopLoad=function(){this.fragmentLoader.abort();var e=this.fragCurrent;e&&this.fragmentTracker.removeFragment(e),this.resetTransmuxer(),this.fragCurrent=null,this.fragPrevious=null,this.clearInterval(),this.clearNextTick(),this.state=w.STOPPED},_._streamEnded=function(e,t){var n=this.fragCurrent,r=this.fragmentTracker;if(!t.live&&n&&n.sn>=t.endSN&&!e.nextStart){var i=t.partList;if(null!=i&&i.length){var s=i[i.length-1];return a.BufferHelper.isBuffered(this.media,s.start+s.duration/2)}var u=r.getState(n);return u===o.FragmentState.PARTIAL||u===o.FragmentState.OK}return!1},_.onMediaAttached=function(e,t){var n=this.media=this.mediaBuffer=t.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvended=this.onMediaEnded.bind(this),n.addEventListener("seeking",this.onvseeking),n.addEventListener("ended",this.onvended);var r=this.config;this.levels&&r.autoStartLoad&&this.state===w.STOPPED&&this.startLoad(r.startPosition)},_.onMediaDetaching=function(){var e=this.media;null!=e&&e.ended&&(this.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0),e&&(e.removeEventListener("seeking",this.onvseeking),e.removeEventListener("ended",this.onvended),this.onvseeking=this.onvended=null),this.media=this.mediaBuffer=null,this.loadedmetadata=!1,this.fragmentTracker.removeAllFragments(),this.stopLoad()},_.onMediaSeeking=function(){var e=this.config,t=this.fragCurrent,n=this.media,i=this.mediaBuffer,o=this.state,s=n?n.currentTime:0,u=a.BufferHelper.bufferInfo(i||n,s,e.maxBufferHole);if(this.log("media seeking to "+(Object(r.isFiniteNumber)(s)?s.toFixed(3):s)+", state: "+o),o===w.ENDED)this.resetLoadingState();else if(t&&!u.len){var l=e.maxFragLookUpTolerance,c=t.start-l,f=s>t.start+t.duration+l;(s<c||f)&&(f&&t.loader&&(this.log("seeking outside of buffer while fragment load in progress, cancel fragment load"),t.loader.abort()),this.resetLoadingState())}n&&(this.lastCurrentTime=s),this.loadedmetadata||u.len||(this.nextLoadPosition=this.startPosition=s),this.tickImmediate()},_.onMediaEnded=function(){this.startPosition=this.lastCurrentTime=0},_.onKeyLoaded=function(e,t){if(this.state===w.KEY_LOADING&&t.frag===this.fragCurrent&&this.levels){this.state=w.IDLE;var n=this.levels[t.frag.level].details;n&&this.loadFragment(t.frag,n,t.frag.start)}},_.onHandlerDestroying=function(){this.stopLoad(),e.prototype.onHandlerDestroying.call(this)},_.onHandlerDestroyed=function(){this.state=w.STOPPED,this.hls.off(u.Events.KEY_LOADED,this.onKeyLoaded,this),this.fragmentLoader&&this.fragmentLoader.destroy(),this.decrypter&&this.decrypter.destroy(),this.hls=this.log=this.warn=this.decrypter=this.fragmentLoader=this.fragmentTracker=null,e.prototype.onHandlerDestroyed.call(this)},_.loadKey=function(e,t){this.log("Loading key for "+e.sn+" of ["+t.startSN+"-"+t.endSN+"], "+("[stream-controller]"===this.logPrefix?"level":"track")+" "+e.level),this.state=w.KEY_LOADING,this.fragCurrent=e,this.hls.trigger(u.Events.KEY_LOADING,{frag:e})},_.loadFragment=function(e,t,n){this._loadFragForPlayback(e,t,n)},_._loadFragForPlayback=function(e,t,n){var r=this;this._doFragLoad(e,t,n,(function(t){if(r.fragContextChanged(e))return r.warn("Fragment "+e.sn+(t.part?" p: "+t.part.index:"")+" of level "+e.level+" was dropped during download."),void r.fragmentTracker.removeFragment(e);e.stats.chunkCount++,r._handleFragmentLoadProgress(t)})).then((function(t){if(t){r.fragLoadError=0;var n=r.state;if(!r.fragContextChanged(e))return"payload"in t&&(r.log("Loaded fragment "+e.sn+" of level "+e.level),r.hls.trigger(u.Events.FRAG_LOADED,t),r.state===w.BACKTRACKING)?(r.fragmentTracker.backtrack(e,t),void r.resetFragmentLoading(e)):void r._handleFragmentLoadComplete(t);(n===w.FRAG_LOADING||n===w.BACKTRACKING||!r.fragCurrent&&n===w.PARSING)&&(r.fragmentTracker.removeFragment(e),r.state=w.IDLE)}})).catch((function(t){r.warn(t),r.resetFragmentLoading(e)}))},_.flushMainBuffer=function(e,t,n){if(void 0===n&&(n=null),e-t){var r={startOffset:e,endOffset:t,type:n};this.fragLoadError=0,this.hls.trigger(u.Events.BUFFER_FLUSHING,r)}},_._loadInitSegment=function(e){var t=this;this._doFragLoad(e).then((function(n){if(!n||t.fragContextChanged(e)||!t.levels)throw new Error("init load aborted");return n})).then((function(n){var r=t.hls,i=n.payload,o=e.decryptdata;if(i&&i.byteLength>0&&o&&o.key&&o.iv&&"AES-128"===o.method){var a=self.performance.now();return t.decrypter.webCryptoDecrypt(new Uint8Array(i),o.key.buffer,o.iv.buffer).then((function(t){var i=self.performance.now();return r.trigger(u.Events.FRAG_DECRYPTED,{frag:e,payload:t,stats:{tstart:a,tdecrypt:i}}),n.payload=t,n}))}return n})).then((function(n){var r=t.fragCurrent,i=t.hls,o=t.levels;if(!o)throw new Error("init load aborted, missing levels");var a=o[e.level].details;console.assert(a,"Level details are defined when init segment is loaded");var s=e.stats;t.state=w.IDLE,t.fragLoadError=0,e.data=new Uint8Array(n.payload),s.parsing.start=s.buffering.start=self.performance.now(),s.parsing.end=s.buffering.end=self.performance.now(),n.frag===r&&i.trigger(u.Events.FRAG_BUFFERED,{stats:s,frag:r,part:null,id:e.type}),t.tick()})).catch((function(n){t.warn(n),t.resetFragmentLoading(e)}))},_.fragContextChanged=function(e){var t=this.fragCurrent;return!e||!t||e.level!==t.level||e.sn!==t.sn||e.urlId!==t.urlId},_.fragBufferedComplete=function(e,t){var n=this.mediaBuffer?this.mediaBuffer:this.media;this.log("Buffered "+e.type+" sn: "+e.sn+(t?" part: "+t.index:"")+" of "+("[stream-controller]"===this.logPrefix?"level":"track")+" "+e.level+" "+v.default.toString(a.BufferHelper.getBuffered(n))),this.state=w.IDLE,this.tick()},_._handleFragmentLoadComplete=function(e){var t=this.transmuxer;if(t){var n=e.frag,r=e.part,i=e.partsLoaded,o=!i||0===i.length||i.some((function(e){return!e})),a=new c.ChunkMetadata(n.level,n.sn,n.stats.chunkCount+1,0,r?r.index:-1,!o);t.flush(a)}},_._handleFragmentLoadProgress=function(e){},_._doFragLoad=function(e,t,n,i){var o=this;if(void 0===n&&(n=null),!this.levels)throw new Error("frag load aborted, missing levels");if(n=Math.max(e.start,n||0),this.config.lowLatencyMode&&t){var a=t.partList;if(a&&i){n>e.end&&t.fragmentHint&&(e=t.fragmentHint);var s=this.getNextPart(a,e,n);if(s>-1){var l=a[s];return this.log("Loading part sn: "+e.sn+" p: "+l.index+" cc: "+e.cc+" of playlist ["+t.startSN+"-"+t.endSN+"] parts [0-"+s+"-"+(a.length-1)+"] "+("[stream-controller]"===this.logPrefix?"level":"track")+": "+e.level+", target: "+parseFloat(n.toFixed(3))),this.nextLoadPosition=l.start+l.duration,this.state=w.FRAG_LOADING,this.hls.trigger(u.Events.FRAG_LOADING,{frag:e,part:a[s],targetBufferTime:n}),this.doFragPartsLoad(e,a,s,i).catch((function(e){return o.handleFragLoadError(e)}))}if(!e.url||this.loadedEndOfParts(a,n))return Promise.resolve(null)}}return this.log("Loading fragment "+e.sn+" cc: "+e.cc+" "+(t?"of ["+t.startSN+"-"+t.endSN+"] ":"")+("[stream-controller]"===this.logPrefix?"level":"track")+": "+e.level+", target: "+parseFloat(n.toFixed(3))),Object(r.isFiniteNumber)(e.sn)&&!this.bitrateTest&&(this.nextLoadPosition=e.start+e.duration),this.state=w.FRAG_LOADING,this.hls.trigger(u.Events.FRAG_LOADING,{frag:e,targetBufferTime:n}),this.fragmentLoader.load(e,i).catch((function(e){return o.handleFragLoadError(e)}))},_.doFragPartsLoad=function(e,t,n,r){var i=this;return new Promise((function(o,a){var s=[];!function n(l){var c=t[l];i.fragmentLoader.loadPart(e,c,r).then((function(r){s[c.index]=r;var a=r.part;i.hls.trigger(u.Events.FRAG_LOADED,r);var f=t[l+1];if(!f||f.fragment!==e)return o({frag:e,part:a,partsLoaded:s});n(l+1)})).catch(a)}(n)}))},_.handleFragLoadError=function(e){var t=e.data;return t&&t.details===l.ErrorDetails.INTERNAL_ABORTED?this.handleFragLoadAborted(t.frag,t.part):this.hls.trigger(u.Events.ERROR,t),null},_._handleTransmuxerFlush=function(e){var t=this.getCurrentContext(e);if(t&&this.state===w.PARSING){var n=t.frag,r=t.part,i=t.level,o=self.performance.now();n.stats.parsing.end=o,r&&(r.stats.parsing.end=o),this.updateLevelTiming(n,r,i,e.partial)}else this.fragCurrent||(this.state=w.IDLE)},_.getCurrentContext=function(e){var t=this.levels,n=e.level,r=e.sn,i=e.part;if(!t||!t[n])return this.warn("Levels object was unset while buffering fragment "+r+" of level "+n+". The current chunk will not be buffered."),null;var o=t[n],a=i>-1?Object(h.getPartWith)(o,r,i):null,s=a?a.fragment:Object(h.getFragmentWithSN)(o,r,this.fragCurrent);return s?{frag:s,part:a,level:o}:null},_.bufferFragmentData=function(e,t,n,r){if(e&&this.state===w.PARSING){var i=e.data1,o=e.data2,a=i;if(i&&o&&(a=Object(f.appendUint8Array)(i,o)),a&&a.length){var s={type:e.type,frag:t,part:n,chunkMeta:r,parent:t.type,data:a};this.hls.trigger(u.Events.BUFFER_APPENDING,s),e.dropped&&e.independent&&!n&&this.flushBufferGap(t)}}},_.flushBufferGap=function(e){var t=this.media;if(t)if(a.BufferHelper.isBuffered(t,t.currentTime)){var n=t.currentTime,r=a.BufferHelper.bufferInfo(t,n,0),i=e.duration,o=Math.min(2*this.config.maxFragLookUpTolerance,.25*i),s=Math.max(Math.min(e.start-o,r.end-o),n+o);e.start-s>o&&this.flushMainBuffer(s,e.start)}else this.flushMainBuffer(0,e.start)},_.getFwdBufferInfo=function(e,t){var n=this.config,i=this.getLoadPosition();if(!Object(r.isFiniteNumber)(i))return null;var o=a.BufferHelper.bufferInfo(e,i,n.maxBufferHole);if(0===o.len&&void 0!==o.nextStart){var s=this.fragmentTracker.getBufferedFrag(i,t);if(s&&o.nextStart<s.end)return a.BufferHelper.bufferInfo(e,i,Math.max(o.nextStart,n.maxBufferHole))}return o},_.getMaxBufferLength=function(e){var t,n=this.config;return t=e?Math.max(8*n.maxBufferSize/e,n.maxBufferLength):n.maxBufferLength,Math.min(t,n.maxMaxBufferLength)},_.reduceMaxBufferLength=function(e){var t=this.config,n=e||t.maxBufferLength;return t.maxMaxBufferLength>=n&&(t.maxMaxBufferLength/=2,this.warn("Reduce max buffer length to "+t.maxMaxBufferLength+"s"),!0)},_.getNextFragment=function(e,t){var n,r,i=t.fragments,o=i.length;if(!o)return null;var a,s=this.config,u=i[0].start;if(t.live){var l=s.initialLiveManifestSize;if(o<l)return this.warn("Not enough fragments to start playback (have: "+o+", need: "+l+")"),null;t.PTSKnown||this.startFragRequested||-1!==this.startPosition||(a=this.getInitialLiveFragment(t,i),this.startPosition=a?this.hls.liveSyncPosition||a.start:e)}else e<=u&&(a=i[0]);if(!a){var c=s.lowLatencyMode?t.partEnd:t.fragmentEnd;a=this.getFragmentAtPosition(e,c,t)}return null===(n=a)||void 0===n||!n.initSegment||null!==(r=a)&&void 0!==r&&r.initSegment.data||this.bitrateTest||(a=a.initSegment),a},_.getNextPart=function(e,t,n){for(var r=-1,i=!1,o=!0,a=0,s=e.length;a<s;a++){var u=e[a];if(o=o&&!u.independent,r>-1&&n<u.start)break;var l=u.loaded;!l&&(i||u.independent||o)&&u.fragment===t&&(r=a),i=l}return r},_.loadedEndOfParts=function(e,t){var n=e[e.length-1];return n&&t>n.start&&n.loaded},_.getInitialLiveFragment=function(e,t){var n=this.fragPrevious,r=null;if(n){if(e.hasProgramDateTime&&(this.log("Live playlist, switching playlist, load frag with same PDT: "+n.programDateTime),r=Object(d.findFragmentByPDT)(t,n.endProgramDateTime,this.config.maxFragLookUpTolerance)),!r){var i=n.sn+1;if(i>=e.startSN&&i<=e.endSN){var o=t[i-e.startSN];n.cc===o.cc&&(r=o,this.log("Live playlist, switching playlist, load frag with next SN: "+r.sn))}r||(r=Object(d.findFragWithCC)(t,n.cc))&&this.log("Live playlist, switching playlist, load frag with same CC: "+r.sn)}}else{var a=this.hls.liveSyncPosition;null!==a&&(r=this.getFragmentAtPosition(a,this.bitrateTest?e.fragmentEnd:e.edge,e))}return r},_.getFragmentAtPosition=function(e,t,n){var r,i=this.config,a=this.fragPrevious,s=n.fragments,u=n.endSN,l=n.fragmentHint,c=i.maxFragLookUpTolerance,f=!!(i.lowLatencyMode&&n.partList&&l);if(f&&l&&!this.bitrateTest&&(s=s.concat(l),u=l.sn),e<t){var p=e>t-c?0:c;r=Object(d.findFragmentByPTS)(a,s,e,p)}else r=s[s.length-1];if(r){var h=r.sn-n.startSN,g=a&&r.level===a.level,m=s[h+1];if(this.fragmentTracker.getState(r)===o.FragmentState.BACKTRACKED){r=null;for(var v=h;s[v]&&this.fragmentTracker.getState(s[v])===o.FragmentState.BACKTRACKED;)r=a?s[v--]:s[--v];r||(r=m)}else a&&r.sn===a.sn&&!f&&g&&(r.sn<u&&this.fragmentTracker.getState(m)!==o.FragmentState.OK?(this.log("SN "+r.sn+" just loaded, load next one: "+m.sn),r=m):r=null)}return r},_.synchronizeToLiveEdge=function(e){var t=this.config,n=this.media;if(n){var r=this.hls.liveSyncPosition,i=n.currentTime,o=e.fragments[0].start,a=e.edge,s=i>=o-t.maxFragLookUpTolerance&&i<=a;if(null!==r&&n.duration>r&&(i<r||!s)){var u=void 0!==t.liveMaxLatencyDuration?t.liveMaxLatencyDuration:t.liveMaxLatencyDurationCount*e.targetduration;(!s&&n.readyState<4||i<a-u)&&(this.loadedmetadata||(this.nextLoadPosition=r),n.readyState&&(this.warn("Playback: "+i.toFixed(3)+" is located too far from the end of live sliding playlist: "+a+", reset currentTime to : "+r.toFixed(3)),n.currentTime=r))}}},_.alignPlaylists=function(e,t){var n=this.levels,i=this.levelLastLoaded,o=this.fragPrevious,a=null!==i?n[i]:null,s=e.fragments.length;if(!s)return this.warn("No fragments in live playlist"),0;var u=e.fragments[0].start,l=!t,c=e.alignedSliding&&Object(r.isFiniteNumber)(u);if(l||!c&&!u){Object(p.alignStream)(o,a,e);var f=e.fragments[0].start;return this.log("Live playlist sliding: "+f.toFixed(2)+" start-sn: "+(t?t.startSN:"na")+"->"+e.startSN+" prev-sn: "+(o?o.sn:"na")+" fragments: "+s),f}return u},_.waitForCdnTuneIn=function(e){return e.live&&e.canBlockReload&&e.tuneInGoal>Math.max(e.partHoldBack,3*e.partTarget)},_.setStartPosition=function(e,t){var n=this.startPosition;if(n<t&&(n=-1),-1===n||-1===this.lastCurrentTime){var i=e.startTimeOffset;Object(r.isFiniteNumber)(i)?(n=t+i,i<0&&(n+=e.totalduration),n=Math.min(Math.max(t,n),t+e.totalduration),this.log("Start time offset "+i+" found in playlist, adjust startPosition to "+n),this.startPosition=n):e.live?n=this.hls.liveSyncPosition||t:this.startPosition=n=0,this.lastCurrentTime=n}this.nextLoadPosition=n},_.getLoadPosition=function(){var e=this.media,t=0;return this.loadedmetadata&&e?t=e.currentTime:this.nextLoadPosition&&(t=this.nextLoadPosition),t},_.handleFragLoadAborted=function(e,t){this.transmuxer&&"initSegment"!==e.sn&&e.stats.aborted&&(this.warn("Fragment "+e.sn+(t?" part"+t.index:"")+" of level "+e.level+" was aborted"),this.resetFragmentLoading(e))},_.resetFragmentLoading=function(e){this.fragCurrent&&this.fragContextChanged(e)||(this.state=w.IDLE)},_.onFragmentOrKeyLoadError=function(e,t){if(!t.fatal){var n=t.frag;if(n&&n.type===e){var r=this.fragCurrent;console.assert(r&&n.sn===r.sn&&n.level===r.level&&n.urlId===r.urlId,"Frag load error must match current frag to retry");var i=this.config;if(this.fragLoadError+1<=i.fragLoadingMaxRetry){if(this.resetLiveStartWhenNotLoaded(n.level))return;var o=Math.min(Math.pow(2,this.fragLoadError)*i.fragLoadingRetryDelay,i.fragLoadingMaxRetryTimeout);this.warn("Fragment "+n.sn+" of "+e+" "+n.level+" failed to load, retrying in "+o+"ms"),this.retryDate=self.performance.now()+o,this.fragLoadError++,this.state=w.FRAG_LOADING_WAITING_RETRY}else t.levelRetry?(e===y.PlaylistLevelType.AUDIO&&(this.fragCurrent=null),this.fragLoadError=0,this.state=w.IDLE):(s.logger.error(t.details+" reaches max retry, redispatch as fatal ..."),t.fatal=!0,this.hls.stopLoad(),this.state=w.ERROR)}}},_.afterBufferFlushed=function(e,t,n){if(e){var r=a.BufferHelper.getBuffered(e);this.fragmentTracker.detectEvictedFragments(t,r,n),this.state===w.ENDED&&this.resetLoadingState()}},_.resetLoadingState=function(){this.fragCurrent=null,this.fragPrevious=null,this.state=w.IDLE},_.resetLiveStartWhenNotLoaded=function(e){if(!this.loadedmetadata){this.startFragRequested=!1;var t=this.levels?this.levels[e].details:null;if(null!=t&&t.live)return this.startPosition=-1,this.setStartPosition(t,0),this.resetLoadingState(),!0;this.nextLoadPosition=this.startPosition}return!1},_.updateLevelTiming=function(e,t,n,r){var i=this,o=n.details;console.assert(!!o,"level.details must be defined"),Object.keys(e.elementaryStreams).reduce((function(t,a){var s=e.elementaryStreams[a];if(s){var l=s.endPTS-s.startPTS;if(l<=0)return i.warn("Could not parse fragment "+e.sn+" "+a+" duration reliably ("+l+") resetting transmuxer to fallback to playlist timing"),i.resetTransmuxer(),t||!1;var c=r?0:Object(h.updateFragPTSDTS)(o,e,s.startPTS,s.endPTS,s.startDTS,s.endDTS);return i.hls.trigger(u.Events.LEVEL_PTS_UPDATED,{details:o,level:n,drift:c,type:a,frag:e,start:s.startPTS,end:s.endPTS}),!0}return t}),!1)?(this.state=w.PARSED,this.hls.trigger(u.Events.FRAG_PARSED,{frag:e,part:t})):this.resetLoadingState()},_.resetTransmuxer=function(){this.transmuxer&&(this.transmuxer.destroy(),this.transmuxer=null)},(A=[{key:"state",get:function(){return this._state},set:function(e){var t=this._state;t!==e&&(this._state=e,this.log(t+"->"+e))}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(i.prototype,A),i}(i.default)},"./src/controller/buffer-controller.ts":function(e,t,n){n.r(t),n.d(t,"default",(function(){return d}));var r=n("./src/polyfills/number.ts"),i=n("./src/events.ts"),o=n("./src/utils/logger.ts"),a=n("./src/errors.ts"),s=n("./src/utils/buffer-helper.ts"),u=n("./src/utils/mediasource-helper.ts"),l=n("./src/loader/fragment.ts"),c=n("./src/controller/buffer-operation-queue.ts"),f=Object(u.getMediaSource)(),p=/([ha]vc.)(?:\.[^.,]+)+/,d=function(){function e(e){var t=this;this.details=null,this._objectUrl=null,this.operationQueue=void 0,this.listeners=void 0,this.hls=void 0,this.bufferCodecEventsExpected=0,this._bufferCodecEventsTotal=0,this.media=null,this.mediaSource=null,this.appendError=0,this.tracks={},this.pendingTracks={},this.sourceBuffer=void 0,this._onMediaSourceOpen=function(){var e=t.hls,n=t.media,r=t.mediaSource;o.logger.log("[buffer-controller]: Media source opened"),n&&(t.updateMediaElementDuration(),e.trigger(i.Events.MEDIA_ATTACHED,{media:n})),r&&r.removeEventListener("sourceopen",t._onMediaSourceOpen),t.checkPendingTracks()},this._onMediaSourceClose=function(){o.logger.log("[buffer-controller]: Media source closed")},this._onMediaSourceEnded=function(){o.logger.log("[buffer-controller]: Media source ended")},this.hls=e,this._initSourceBuffer(),this.registerListeners()}var t=e.prototype;return t.hasSourceTypes=function(){return this.getSourceBufferTypes().length>0||Object.keys(this.pendingTracks).length>0},t.destroy=function(){this.unregisterListeners(),this.details=null},t.registerListeners=function(){var e=this.hls;e.on(i.Events.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(i.Events.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(i.Events.MANIFEST_PARSED,this.onManifestParsed,this),e.on(i.Events.BUFFER_RESET,this.onBufferReset,this),e.on(i.Events.BUFFER_APPENDING,this.onBufferAppending,this),e.on(i.Events.BUFFER_CODECS,this.onBufferCodecs,this),e.on(i.Events.BUFFER_EOS,this.onBufferEos,this),e.on(i.Events.BUFFER_FLUSHING,this.onBufferFlushing,this),e.on(i.Events.LEVEL_UPDATED,this.onLevelUpdated,this),e.on(i.Events.FRAG_PARSED,this.onFragParsed,this),e.on(i.Events.FRAG_CHANGED,this.onFragChanged,this)},t.unregisterListeners=function(){var e=this.hls;e.off(i.Events.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(i.Events.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(i.Events.MANIFEST_PARSED,this.onManifestParsed,this),e.off(i.Events.BUFFER_RESET,this.onBufferReset,this),e.off(i.Events.BUFFER_APPENDING,this.onBufferAppending,this),e.off(i.Events.BUFFER_CODECS,this.onBufferCodecs,this),e.off(i.Events.BUFFER_EOS,this.onBufferEos,this),e.off(i.Events.BUFFER_FLUSHING,this.onBufferFlushing,this),e.off(i.Events.LEVEL_UPDATED,this.onLevelUpdated,this),e.off(i.Events.FRAG_PARSED,this.onFragParsed,this),e.off(i.Events.FRAG_CHANGED,this.onFragChanged,this)},t._initSourceBuffer=function(){this.sourceBuffer={},this.operationQueue=new c.default(this.sourceBuffer),this.listeners={audio:[],video:[],audiovideo:[]}},t.onManifestParsed=function(e,t){var n=2;(t.audio&&!t.video||!t.altAudio)&&(n=1),this.bufferCodecEventsExpected=this._bufferCodecEventsTotal=n,this.details=null,o.logger.log(this.bufferCodecEventsExpected+" bufferCodec event(s) expected")},t.onMediaAttaching=function(e,t){var n=this.media=t.media;if(n&&f){var r=this.mediaSource=new f;r.addEventListener("sourceopen",this._onMediaSourceOpen),r.addEventListener("sourceended",this._onMediaSourceEnded),r.addEventListener("sourceclose",this._onMediaSourceClose),n.src=self.URL.createObjectURL(r),this._objectUrl=n.src}},t.onMediaDetaching=function(){var e=this.media,t=this.mediaSource,n=this._objectUrl;if(t){if(o.logger.log("[buffer-controller]: media source detaching"),"open"===t.readyState)try{t.endOfStream()}catch(e){o.logger.warn("[buffer-controller]: onMediaDetaching: "+e.message+" while calling endOfStream")}this.onBufferReset(),t.removeEventListener("sourceopen",this._onMediaSourceOpen),t.removeEventListener("sourceended",this._onMediaSourceEnded),t.removeEventListener("sourceclose",this._onMediaSourceClose),e&&(n&&self.URL.revokeObjectURL(n),e.src===n?(e.removeAttribute("src"),e.load()):o.logger.warn("[buffer-controller]: media.src was changed by a third party - skip cleanup")),this.mediaSource=null,this.media=null,this._objectUrl=null,this.bufferCodecEventsExpected=this._bufferCodecEventsTotal,this.pendingTracks={},this.tracks={}}this.hls.trigger(i.Events.MEDIA_DETACHED,void 0)},t.onBufferReset=function(){var e=this;this.getSourceBufferTypes().forEach((function(t){var n=e.sourceBuffer[t];try{n&&(e.removeBufferListeners(t),e.mediaSource&&e.mediaSource.removeSourceBuffer(n),e.sourceBuffer[t]=void 0)}catch(e){o.logger.warn("[buffer-controller]: Failed to reset the "+t+" buffer",e)}})),this._initSourceBuffer()},t.onBufferCodecs=function(e,t){var n=this,r=this.getSourceBufferTypes().length;Object.keys(t).forEach((function(e){if(r){var i=n.tracks[e];if(i&&"function"==typeof i.buffer.changeType){var o=t[e],a=o.codec,s=o.levelCodec,u=o.container;if((i.levelCodec||i.codec).replace(p,"$1")!==(s||a).replace(p,"$1")){var l=u+";codecs="+(s||a);n.appendChangeType(e,l)}}}else n.pendingTracks[e]=t[e]})),r||(this.bufferCodecEventsExpected=Math.max(this.bufferCodecEventsExpected-1,0),this.mediaSource&&"open"===this.mediaSource.readyState&&this.checkPendingTracks())},t.appendChangeType=function(e,t){var n=this,r=this.operationQueue,i={execute:function(){var i=n.sourceBuffer[e];i&&(o.logger.log("[buffer-controller]: changing "+e+" sourceBuffer type to "+t),i.changeType(t)),r.shiftAndExecuteNext(e)},onStart:function(){},onComplete:function(){},onError:function(t){o.logger.warn("[buffer-controller]: Failed to change "+e+" SourceBuffer type",t)}};r.append(i,e)},t.onBufferAppending=function(e,t){var n=this,r=this.hls,u=this.operationQueue,l=this.tracks,c=t.data,f=t.type,p=t.frag,d=t.part,h=t.chunkMeta,g=h.buffering[f],m=self.performance.now();g.start=m;var v=p.stats.buffering,y=d?d.stats.buffering:null;0===v.start&&(v.start=m),y&&0===y.start&&(y.start=m);var b=l.audio,w="audio"===f&&1===h.id&&"audio/mpeg"===(null==b?void 0:b.container),A={execute:function(){if(g.executeStart=self.performance.now(),w){var e=n.sourceBuffer[f];if(e){var t=p.start-e.timestampOffset;Math.abs(t)>=.1&&(o.logger.log("[buffer-controller]: Updating audio SourceBuffer timestampOffset to "+p.start+" (delta: "+t+") sn: "+p.sn+")"),e.timestampOffset=p.start)}}n.appendExecutor(c,f)},onStart:function(){},onComplete:function(){var e=self.performance.now();g.executeEnd=g.end=e,0===v.first&&(v.first=e),y&&0===y.first&&(y.first=e);var t=n.sourceBuffer,r={};for(var o in t)r[o]=s.BufferHelper.getBuffered(t[o]);n.appendError=0,n.hls.trigger(i.Events.BUFFER_APPENDED,{type:f,frag:p,part:d,chunkMeta:h,parent:p.type,timeRanges:r})},onError:function(e){o.logger.error("[buffer-controller]: Error encountered while trying to append to the "+f+" SourceBuffer",e);var t={type:a.ErrorTypes.MEDIA_ERROR,parent:p.type,details:a.ErrorDetails.BUFFER_APPEND_ERROR,err:e,fatal:!1};e.code===DOMException.QUOTA_EXCEEDED_ERR?t.details=a.ErrorDetails.BUFFER_FULL_ERROR:(n.appendError++,t.details=a.ErrorDetails.BUFFER_APPEND_ERROR,n.appendError>r.config.appendErrorMaxRetry&&(o.logger.error("[buffer-controller]: Failed "+r.config.appendErrorMaxRetry+" times to append segment in sourceBuffer"),t.fatal=!0)),r.trigger(i.Events.ERROR,t)}};u.append(A,f)},t.onBufferFlushing=function(e,t){var n=this,r=this.operationQueue,a=function(e){return{execute:n.removeExecutor.bind(n,e,t.startOffset,t.endOffset),onStart:function(){},onComplete:function(){n.hls.trigger(i.Events.BUFFER_FLUSHED,{type:e})},onError:function(t){o.logger.warn("[buffer-controller]: Failed to remove from "+e+" SourceBuffer",t)}}};t.type?r.append(a(t.type),t.type):this.getSourceBufferTypes().forEach((function(e){r.append(a(e),e)}))},t.onFragParsed=function(e,t){var n=this,r=t.frag,a=t.part,s=[],u=a?a.elementaryStreams:r.elementaryStreams;u[l.ElementaryStreamTypes.AUDIOVIDEO]?s.push("audiovideo"):(u[l.ElementaryStreamTypes.AUDIO]&&s.push("audio"),u[l.ElementaryStreamTypes.VIDEO]&&s.push("video")),0===s.length&&o.logger.warn("Fragments must have at least one ElementaryStreamType set. type: "+r.type+" level: "+r.level+" sn: "+r.sn),this.blockBuffers((function(){var e=self.performance.now();r.stats.buffering.end=e,a&&(a.stats.buffering.end=e);var t=a?a.stats:r.stats;n.hls.trigger(i.Events.FRAG_BUFFERED,{frag:r,part:a,stats:t,id:r.type})}),s)},t.onFragChanged=function(e,t){this.flushBackBuffer()},t.onBufferEos=function(e,t){var n=this;this.getSourceBufferTypes().reduce((function(e,r){var i=n.sourceBuffer[r];return t.type&&t.type!==r||i&&!i.ended&&(i.ended=!0,o.logger.log("[buffer-controller]: "+r+" sourceBuffer now EOS")),e&&!(i&&!i.ended)}),!0)&&this.blockBuffers((function(){var e=n.mediaSource;e&&"open"===e.readyState&&e.endOfStream()}))},t.onLevelUpdated=function(e,t){var n=t.details;n.fragments.length&&(this.details=n,this.getSourceBufferTypes().length?this.blockBuffers(this.updateMediaElementDuration.bind(this)):this.updateMediaElementDuration())},t.flushBackBuffer=function(){var e=this.hls,t=this.details,n=this.media,o=this.sourceBuffer;if(n&&null!==t){var a=this.getSourceBufferTypes();if(a.length){var u=t.live&&null!==e.config.liveBackBufferLength?e.config.liveBackBufferLength:e.config.backBufferLength;if(Object(r.isFiniteNumber)(u)&&!(u<0)){var l=n.currentTime,c=t.levelTargetDuration,f=Math.max(u,c),p=Math.floor(l/c)*c-f;a.forEach((function(n){var r=o[n];if(r){var a=s.BufferHelper.getBuffered(r);a.length>0&&p>a.start(0)&&(e.trigger(i.Events.BACK_BUFFER_REACHED,{bufferEnd:p}),t.live&&e.trigger(i.Events.LIVE_BACK_BUFFER_REACHED,{bufferEnd:p}),e.trigger(i.Events.BUFFER_FLUSHING,{startOffset:0,endOffset:p,type:n}))}}))}}}},t.updateMediaElementDuration=function(){if(this.details&&this.media&&this.mediaSource&&"open"===this.mediaSource.readyState){var e=this.details,t=this.hls,n=this.media,i=this.mediaSource,a=e.fragments[0].start+e.totalduration,s=n.duration,u=Object(r.isFiniteNumber)(i.duration)?i.duration:0;e.live&&t.config.liveDurationInfinity?(o.logger.log("[buffer-controller]: Media Source duration is set to Infinity"),i.duration=1/0,this.updateSeekableRange(e)):(a>u&&a>s||!Object(r.isFiniteNumber)(s))&&(o.logger.log("[buffer-controller]: Updating Media Source duration to "+a.toFixed(3)),i.duration=a)}},t.updateSeekableRange=function(e){var t=this.mediaSource,n=e.fragments;if(n.length&&e.live&&null!=t&&t.setLiveSeekableRange){var r=Math.max(0,n[0].start),i=Math.max(r,r+e.totalduration);t.setLiveSeekableRange(r,i)}},t.checkPendingTracks=function(){var e=this.bufferCodecEventsExpected,t=this.operationQueue,n=this.pendingTracks,r=Object.keys(n).length;if(r&&!e||2===r){this.createSourceBuffers(n),this.pendingTracks={};var o=this.getSourceBufferTypes();if(0===o.length)return void this.hls.trigger(i.Events.ERROR,{type:a.ErrorTypes.MEDIA_ERROR,details:a.ErrorDetails.BUFFER_INCOMPATIBLE_CODECS_ERROR,fatal:!0,reason:"could not create source buffer for media codec(s)"});o.forEach((function(e){t.executeNext(e)}))}},t.createSourceBuffers=function(e){var t=this.sourceBuffer,n=this.mediaSource;if(!n)throw Error("createSourceBuffers called when mediaSource was null");var r=0;for(var s in e)if(!t[s]){var u=e[s];if(!u)throw Error("source buffer exists for track "+s+", however track does not");var l=u.levelCodec||u.codec,c=u.container+";codecs="+l;o.logger.log("[buffer-controller]: creating sourceBuffer("+c+")");try{var f=t[s]=n.addSourceBuffer(c),p=s;this.addBufferListener(p,"updatestart",this._onSBUpdateStart),this.addBufferListener(p,"updateend",this._onSBUpdateEnd),this.addBufferListener(p,"error",this._onSBUpdateError),this.tracks[s]={buffer:f,codec:l,container:u.container,levelCodec:u.levelCodec,id:u.id},r++}catch(e){o.logger.error("[buffer-controller]: error while trying to add sourceBuffer: "+e.message),this.hls.trigger(i.Events.ERROR,{type:a.ErrorTypes.MEDIA_ERROR,details:a.ErrorDetails.BUFFER_ADD_CODEC_ERROR,fatal:!1,error:e,mimeType:c})}}r&&this.hls.trigger(i.Events.BUFFER_CREATED,{tracks:this.tracks})},t._onSBUpdateStart=function(e){this.operationQueue.current(e).onStart()},t._onSBUpdateEnd=function(e){var t=this.operationQueue;t.current(e).onComplete(),t.shiftAndExecuteNext(e)},t._onSBUpdateError=function(e,t){o.logger.error("[buffer-controller]: "+e+" SourceBuffer error",t),this.hls.trigger(i.Events.ERROR,{type:a.ErrorTypes.MEDIA_ERROR,details:a.ErrorDetails.BUFFER_APPENDING_ERROR,fatal:!1});var n=this.operationQueue.current(e);n&&n.onError(t)},t.removeExecutor=function(e,t,n){var i=this.media,a=this.mediaSource,s=this.operationQueue,u=this.sourceBuffer[e];if(!i||!a||!u)return o.logger.warn("[buffer-controller]: Attempting to remove from the "+e+" SourceBuffer, but it does not exist"),void s.shiftAndExecuteNext(e);var l=Object(r.isFiniteNumber)(i.duration)?i.duration:1/0,c=Object(r.isFiniteNumber)(a.duration)?a.duration:1/0,f=Math.max(0,t),p=Math.min(n,l,c);p>f?(o.logger.log("[buffer-controller]: Removing ["+f+","+p+"] from the "+e+" SourceBuffer"),console.assert(!u.updating,e+" sourceBuffer must not be updating"),u.remove(f,p)):s.shiftAndExecuteNext(e)},t.appendExecutor=function(e,t){var n=this.operationQueue,r=this.sourceBuffer[t];if(!r)return o.logger.warn("[buffer-controller]: Attempting to append to the "+t+" SourceBuffer, but it does not exist"),void n.shiftAndExecuteNext(t);r.ended=!1,console.assert(!r.updating,t+" sourceBuffer must not be updating"),r.appendBuffer(e)},t.blockBuffers=function(e,t){var n=this;if(void 0===t&&(t=this.getSourceBufferTypes()),!t.length)return o.logger.log("[buffer-controller]: Blocking operation requested, but no SourceBuffers exist"),void Promise.resolve(e);var r=this.operationQueue,i=t.map((function(e){return r.appendBlocker(e)}));Promise.all(i).then((function(){e(),t.forEach((function(e){var t=n.sourceBuffer[e];t&&t.updating||r.shiftAndExecuteNext(e)}))}))},t.getSourceBufferTypes=function(){return Object.keys(this.sourceBuffer)},t.addBufferListener=function(e,t,n){var r=this.sourceBuffer[e];if(r){var i=n.bind(this,e);this.listeners[e].push({event:t,listener:i}),r.addEventListener(t,i)}},t.removeBufferListeners=function(e){var t=this.sourceBuffer[e];t&&this.listeners[e].forEach((function(e){t.removeEventListener(e.event,e.listener)}))},e}()},"./src/controller/buffer-operation-queue.ts":function(e,t,n){n.r(t),n.d(t,"default",(function(){return i}));var r=n("./src/utils/logger.ts"),i=function(){function e(e){this.buffers=void 0,this.queues={video:[],audio:[],audiovideo:[]},this.buffers=e}var t=e.prototype;return t.append=function(e,t){var n=this.queues[t];n.push(e),1===n.length&&this.buffers[t]&&this.executeNext(t)},t.insertAbort=function(e,t){this.queues[t].unshift(e),this.executeNext(t)},t.appendBlocker=function(e){var t,n=new Promise((function(e){t=e})),r={execute:t,onStart:function(){},onComplete:function(){},onError:function(){}};return this.append(r,e),n},t.executeNext=function(e){var t=this.buffers,n=this.queues,i=t[e],o=n[e];if(o.length){var a=o[0];try{a.execute()}catch(t){r.logger.warn("[buffer-operation-queue]: Unhandled exception executing the current operation"),a.onError(t),i&&i.updating||(o.shift(),this.executeNext(e))}}},t.shiftAndExecuteNext=function(e){this.queues[e].shift(),this.executeNext(e)},t.current=function(e){return this.queues[e][0]},e}()},"./src/controller/cap-level-controller.ts":function(e,t,n){n.r(t);var r=n("./src/events.ts");function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=function(){function e(e){this.autoLevelCapping=void 0,this.firstLevel=void 0,this.media=void 0,this.restrictedLevels=void 0,this.timer=void 0,this.hls=void 0,this.streamController=void 0,this.clientRect=void 0,this.hls=e,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.firstLevel=-1,this.media=null,this.restrictedLevels=[],this.timer=void 0,this.clientRect=null,this.registerListeners()}var t,n,o,a=e.prototype;return a.setStreamController=function(e){this.streamController=e},a.destroy=function(){this.unregisterListener(),this.hls.config.capLevelToPlayerSize&&this.stopCapping(),this.media=null,this.clientRect=null,this.hls=this.streamController=null},a.registerListeners=function(){var e=this.hls;e.on(r.Events.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),e.on(r.Events.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(r.Events.MANIFEST_PARSED,this.onManifestParsed,this),e.on(r.Events.BUFFER_CODECS,this.onBufferCodecs,this),e.on(r.Events.MEDIA_DETACHING,this.onMediaDetaching,this)},a.unregisterListener=function(){var e=this.hls;e.off(r.Events.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),e.off(r.Events.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(r.Events.MANIFEST_PARSED,this.onManifestParsed,this),e.off(r.Events.BUFFER_CODECS,this.onBufferCodecs,this),e.off(r.Events.MEDIA_DETACHING,this.onMediaDetaching,this)},a.onFpsDropLevelCapping=function(t,n){e.isLevelAllowed(n.droppedLevel,this.restrictedLevels)&&this.restrictedLevels.push(n.droppedLevel)},a.onMediaAttaching=function(e,t){this.media=t.media instanceof HTMLVideoElement?t.media:null},a.onManifestParsed=function(e,t){var n=this.hls;this.restrictedLevels=[],this.firstLevel=t.firstLevel,n.config.capLevelToPlayerSize&&t.video&&this.startCapping()},a.onBufferCodecs=function(e,t){this.hls.config.capLevelToPlayerSize&&t.video&&this.startCapping()},a.onMediaDetaching=function(){this.stopCapping()},a.detectPlayerSize=function(){if(this.media&&this.mediaHeight>0&&this.mediaWidth>0){var e=this.hls.levels;if(e.length){var t=this.hls;t.autoLevelCapping=this.getMaxLevel(e.length-1),t.autoLevelCapping>this.autoLevelCapping&&this.streamController&&this.streamController.nextLevelSwitch(),this.autoLevelCapping=t.autoLevelCapping}}},a.getMaxLevel=function(t){var n=this,r=this.hls.levels;if(!r.length)return-1;var i=r.filter((function(r,i){return e.isLevelAllowed(i,n.restrictedLevels)&&i<=t}));return this.clientRect=null,e.getMaxLevelByMediaSize(i,this.mediaWidth,this.mediaHeight)},a.startCapping=function(){this.timer||(this.autoLevelCapping=Number.POSITIVE_INFINITY,this.hls.firstLevel=this.getMaxLevel(this.firstLevel),self.clearInterval(this.timer),this.timer=self.setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())},a.stopCapping=function(){this.restrictedLevels=[],this.firstLevel=-1,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.timer&&(self.clearInterval(this.timer),this.timer=void 0)},a.getDimensions=function(){if(this.clientRect)return this.clientRect;var e=this.media,t={width:0,height:0};if(e){var n=e.getBoundingClientRect();t.width=n.width,t.height=n.height,t.width||t.height||(t.width=n.right-n.left||e.width||0,t.height=n.bottom-n.top||e.height||0)}return this.clientRect=t,t},e.isLevelAllowed=function(e,t){return void 0===t&&(t=[]),-1===t.indexOf(e)},e.getMaxLevelByMediaSize=function(e,t,n){if(!e||!e.length)return-1;for(var r,i,o=e.length-1,a=0;a<e.length;a+=1){var s=e[a];if((s.width>=t||s.height>=n)&&(r=s,!(i=e[a+1])||r.width!==i.width||r.height!==i.height)){o=a;break}}return o},t=e,o=[{key:"contentScaleFactor",get:function(){var e=1;try{e=self.devicePixelRatio}catch(e){}return e}}],(n=[{key:"mediaWidth",get:function(){return this.getDimensions().width*e.contentScaleFactor}},{key:"mediaHeight",get:function(){return this.getDimensions().height*e.contentScaleFactor}}])&&i(t.prototype,n),o&&i(t,o),e}();t.default=o},"./src/controller/cmcd-controller.ts":function(e,t,n){n.r(t),n.d(t,"default",(function(){return p}));var r=n("./src/events.ts"),i=n("./src/types/cmcd.ts"),o=n("./src/utils/buffer-helper.ts"),a=n("./src/utils/logger.ts");function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e}function l(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(){return f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f.apply(this,arguments)}var p=function(){function e(t){var n=this;this.hls=void 0,this.config=void 0,this.media=void 0,this.sid=void 0,this.cid=void 0,this.useHeaders=!1,this.initialized=!1,this.starved=!1,this.buffering=!0,this.audioBuffer=void 0,this.videoBuffer=void 0,this.onWaiting=function(){n.initialized&&(n.starved=!0),n.buffering=!0},this.onPlaying=function(){n.initialized||(n.initialized=!0),n.buffering=!1},this.applyPlaylistData=function(e){try{n.apply(e,{ot:i.CMCDObjectType.MANIFEST,su:!n.initialized})}catch(e){a.logger.warn("Could not generate manifest CMCD data.",e)}},this.applyFragmentData=function(e){try{var t=e.frag,r=n.hls.levels[t.level],o=n.getObjectType(t),s={d:1e3*t.duration,ot:o};o!==i.CMCDObjectType.VIDEO&&o!==i.CMCDObjectType.AUDIO&&o!=i.CMCDObjectType.MUXED||(s.br=r.bitrate/1e3,s.tb=n.getTopBandwidth(o)/1e3,s.bl=n.getBufferLength(o)),n.apply(e,s)}catch(e){a.logger.warn("Could not generate segment CMCD data.",e)}},this.hls=t;var r=this.config=t.config,o=r.cmcd;null!=o&&(r.pLoader=this.createPlaylistLoader(),r.fLoader=this.createFragmentLoader(),this.sid=o.sessionId||e.uuid(),this.cid=o.contentId,this.useHeaders=!0===o.useHeaders,this.registerListeners())}var t=e.prototype;return t.registerListeners=function(){var e=this.hls;e.on(r.Events.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(r.Events.MEDIA_DETACHED,this.onMediaDetached,this),e.on(r.Events.BUFFER_CREATED,this.onBufferCreated,this)},t.unregisterListeners=function(){var e=this.hls;e.off(r.Events.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(r.Events.MEDIA_DETACHED,this.onMediaDetached,this),e.off(r.Events.BUFFER_CREATED,this.onBufferCreated,this),this.onMediaDetached()},t.destroy=function(){this.unregisterListeners(),this.hls=this.config=this.audioBuffer=this.videoBuffer=null},t.onMediaAttached=function(e,t){this.media=t.media,this.media.addEventListener("waiting",this.onWaiting),this.media.addEventListener("playing",this.onPlaying)},t.onMediaDetached=function(){this.media&&(this.media.removeEventListener("waiting",this.onWaiting),this.media.removeEventListener("playing",this.onPlaying),this.media=null)},t.onBufferCreated=function(e,t){var n,r;this.audioBuffer=null===(n=t.tracks.audio)||void 0===n?void 0:n.buffer,this.videoBuffer=null===(r=t.tracks.video)||void 0===r?void 0:r.buffer},t.createData=function(){var e;return{v:i.CMCDVersion,sf:i.CMCDStreamingFormat.HLS,sid:this.sid,cid:this.cid,pr:null===(e=this.media)||void 0===e?void 0:e.playbackRate,mtp:this.hls.bandwidthEstimate/1e3}},t.apply=function(t,n){void 0===n&&(n={}),f(n,this.createData());var r=n.ot===i.CMCDObjectType.INIT||n.ot===i.CMCDObjectType.VIDEO||n.ot===i.CMCDObjectType.MUXED;if(this.starved&&r&&(n.bs=!0,n.su=!0,this.starved=!1),null==n.su&&(n.su=this.buffering),this.useHeaders){var o=e.toHeaders(n);if(!Object.keys(o).length)return;t.headers||(t.headers={}),f(t.headers,o)}else{var a=e.toQuery(n);if(!a)return;t.url=e.appendQueryToUri(t.url,a)}},t.getObjectType=function(e){var t=e.type;return"subtitle"===t?i.CMCDObjectType.TIMED_TEXT:"initSegment"===e.sn?i.CMCDObjectType.INIT:"audio"===t?i.CMCDObjectType.AUDIO:"main"===t?this.hls.audioTracks.length?i.CMCDObjectType.VIDEO:i.CMCDObjectType.MUXED:void 0},t.getTopBandwidth=function(e){var t,n=0,r=this.hls;if(e===i.CMCDObjectType.AUDIO)t=r.audioTracks;else{var o=r.maxAutoLevel,a=o>-1?o+1:r.levels.length;t=r.levels.slice(0,a)}for(var s,u=l(t);!(s=u()).done;){var c=s.value;c.bitrate>n&&(n=c.bitrate)}return n>0?n:NaN},t.getBufferLength=function(e){var t=this.hls.media,n=e===i.CMCDObjectType.AUDIO?this.audioBuffer:this.videoBuffer;return n&&t?1e3*o.BufferHelper.bufferInfo(n,t.currentTime,this.config.maxBufferHole).len:NaN},t.createPlaylistLoader=function(){var e=this.config.pLoader,t=this.applyPlaylistData,n=e||this.config.loader;return function(){function e(e){this.loader=void 0,this.loader=new n(e)}var r=e.prototype;return r.destroy=function(){this.loader.destroy()},r.abort=function(){this.loader.abort()},r.load=function(e,n,r){t(e),this.loader.load(e,n,r)},u(e,[{key:"stats",get:function(){return this.loader.stats}},{key:"context",get:function(){return this.loader.context}}]),e}()},t.createFragmentLoader=function(){var e=this.config.fLoader,t=this.applyFragmentData,n=e||this.config.loader;return function(){function e(e){this.loader=void 0,this.loader=new n(e)}var r=e.prototype;return r.destroy=function(){this.loader.destroy()},r.abort=function(){this.loader.abort()},r.load=function(e,n,r){t(e),this.loader.load(e,n,r)},u(e,[{key:"stats",get:function(){return this.loader.stats}},{key:"context",get:function(){return this.loader.context}}]),e}()},e.uuid=function(){var e=URL.createObjectURL(new Blob),t=e.toString();return URL.revokeObjectURL(e),t.substr(t.lastIndexOf("/")+1)},e.serialize=function(e){for(var t,n=[],r=function(e){return!Number.isNaN(e)&&null!=e&&""!==e&&!1!==e},i=function(e){return Math.round(e)},o=function(e){return 100*i(e/100)},a={br:i,d:i,bl:o,dl:o,mtp:o,nor:function(e){return encodeURIComponent(e)},rtp:o,tb:i},s=l(Object.keys(e||{}).sort());!(t=s()).done;){var u=t.value,c=e[u];if(r(c)&&!("v"===u&&1===c||"pr"==u&&1===c)){var f=a[u];f&&(c=f(c));var p,d=typeof c;p="ot"===u||"sf"===u||"st"===u?u+"="+c:"boolean"===d?u:"number"===d?u+"="+c:u+"="+JSON.stringify(c),n.push(p)}}return n.join(",")},e.toHeaders=function(t){for(var n={},r=["Object","Request","Session","Status"],i=[{},{},{},{}],o={br:0,d:0,ot:0,tb:0,bl:1,dl:1,mtp:1,nor:1,nrr:1,su:1,cid:2,pr:2,sf:2,sid:2,st:2,v:2,bs:3,rtp:3},a=0,s=Object.keys(t);a<s.length;a++){var u=s[a];i[null!=o[u]?o[u]:1][u]=t[u]}for(var l=0;l<i.length;l++){var c=e.serialize(i[l]);c&&(n["CMCD-"+r[l]]=c)}return n},e.toQuery=function(t){return"CMCD="+encodeURIComponent(e.serialize(t))},e.appendQueryToUri=function(e,t){if(!t)return e;var n=e.includes("?")?"&":"?";return""+e+n+t},e}()},"./src/controller/eme-controller.ts":function(e,t,n){n.r(t);var r=n("./src/events.ts"),i=n("./src/errors.ts"),o=n("./src/utils/logger.ts"),a=n("./src/utils/mediakeys-helper.ts"),s=function(){function e(e){this.hls=void 0,this._widevineLicenseUrl=void 0,this._licenseXhrSetup=void 0,this._licenseResponseCallback=void 0,this._emeEnabled=void 0,this._requestMediaKeySystemAccess=void 0,this._drmSystemOptions=void 0,this._config=void 0,this._mediaKeysList=[],this._media=null,this._hasSetMediaKeys=!1,this._requestLicenseFailureCount=0,this.mediaKeysPromise=null,this._onMediaEncrypted=this.onMediaEncrypted.bind(this),this.hls=e,this._config=e.config,this._widevineLicenseUrl=this._config.widevineLicenseUrl,this._licenseXhrSetup=this._config.licenseXhrSetup,this._licenseResponseCallback=this._config.licenseResponseCallback,this._emeEnabled=this._config.emeEnabled,this._requestMediaKeySystemAccess=this._config.requestMediaKeySystemAccessFunc,this._drmSystemOptions=this._config.drmSystemOptions,this._registerListeners()}var t,n=e.prototype;return n.destroy=function(){this._unregisterListeners(),this.hls=this._onMediaEncrypted=null,this._requestMediaKeySystemAccess=null},n._registerListeners=function(){this.hls.on(r.Events.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(r.Events.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.on(r.Events.MANIFEST_PARSED,this.onManifestParsed,this)},n._unregisterListeners=function(){this.hls.off(r.Events.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.off(r.Events.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.off(r.Events.MANIFEST_PARSED,this.onManifestParsed,this)},n.getLicenseServerUrl=function(e){switch(e){case a.KeySystems.WIDEVINE:if(!this._widevineLicenseUrl)break;return this._widevineLicenseUrl}throw new Error('no license server URL configured for key-system "'+e+'"')},n._attemptKeySystemAccess=function(e,t,n){var r=this,i=function(e,t,n,r){if(e===a.KeySystems.WIDEVINE)return function(e,t,n){var r={audioCapabilities:[],videoCapabilities:[]};return e.forEach((function(e){r.audioCapabilities.push({contentType:'audio/mp4; codecs="'+e+'"',robustness:n.audioRobustness||""})})),t.forEach((function(e){r.videoCapabilities.push({contentType:'video/mp4; codecs="'+e+'"',robustness:n.videoRobustness||""})})),[r]}(t,n,r);throw new Error("Unknown key-system: "+e)}(e,t,n,this._drmSystemOptions);o.logger.log("Requesting encrypted media key-system access");var s=this.requestMediaKeySystemAccess(e,i);this.mediaKeysPromise=s.then((function(t){return r._onMediaKeySystemAccessObtained(e,t)})),s.catch((function(t){o.logger.error('Failed to obtain key-system "'+e+'" access:',t)}))},n._onMediaKeySystemAccessObtained=function(e,t){var n=this;o.logger.log('Access for key-system "'+e+'" obtained');var r={mediaKeysSessionInitialized:!1,mediaKeySystemAccess:t,mediaKeySystemDomain:e};this._mediaKeysList.push(r);var i=Promise.resolve().then((function(){return t.createMediaKeys()})).then((function(t){return r.mediaKeys=t,o.logger.log('Media-keys created for key-system "'+e+'"'),n._onMediaKeysCreated(),t}));return i.catch((function(e){o.logger.error("Failed to create media-keys:",e)})),i},n._onMediaKeysCreated=function(){var e=this;this._mediaKeysList.forEach((function(t){t.mediaKeysSession||(t.mediaKeysSession=t.mediaKeys.createSession(),e._onNewMediaKeySession(t.mediaKeysSession))}))},n._onNewMediaKeySession=function(e){var t=this;o.logger.log("New key-system session "+e.sessionId),e.addEventListener("message",(function(n){t._onKeySessionMessage(e,n.message)}),!1)},n._onKeySessionMessage=function(e,t){o.logger.log("Got EME message event, creating license request"),this._requestLicense(t,(function(t){o.logger.log("Received license data (length: "+(t?t.byteLength:t)+"), updating key-session"),e.update(t)}))},n.onMediaEncrypted=function(e){var t=this;if(o.logger.log('Media is encrypted using "'+e.initDataType+'" init data type'),!this.mediaKeysPromise)return o.logger.error("Fatal: Media is encrypted but no CDM access or no keys have been requested"),void this.hls.trigger(r.Events.ERROR,{type:i.ErrorTypes.KEY_SYSTEM_ERROR,details:i.ErrorDetails.KEY_SYSTEM_NO_KEYS,fatal:!0});var n=function(n){t._media&&(t._attemptSetMediaKeys(n),t._generateRequestWithPreferredKeySession(e.initDataType,e.initData))};this.mediaKeysPromise.then(n).catch(n)},n._attemptSetMediaKeys=function(e){if(!this._media)throw new Error("Attempted to set mediaKeys without first attaching a media element");if(!this._hasSetMediaKeys){var t=this._mediaKeysList[0];if(!t||!t.mediaKeys)return o.logger.error("Fatal: Media is encrypted but no CDM access or no keys have been obtained yet"),void this.hls.trigger(r.Events.ERROR,{type:i.ErrorTypes.KEY_SYSTEM_ERROR,details:i.ErrorDetails.KEY_SYSTEM_NO_KEYS,fatal:!0});o.logger.log("Setting keys for encrypted media"),this._media.setMediaKeys(t.mediaKeys),this._hasSetMediaKeys=!0}},n._generateRequestWithPreferredKeySession=function(e,t){var n=this,a=this._mediaKeysList[0];if(!a)return o.logger.error("Fatal: Media is encrypted but not any key-system access has been obtained yet"),void this.hls.trigger(r.Events.ERROR,{type:i.ErrorTypes.KEY_SYSTEM_ERROR,details:i.ErrorDetails.KEY_SYSTEM_NO_ACCESS,fatal:!0});if(a.mediaKeysSessionInitialized)o.logger.warn("Key-Session already initialized but requested again");else{var s=a.mediaKeysSession;if(!s)return o.logger.error("Fatal: Media is encrypted but no key-session existing"),void this.hls.trigger(r.Events.ERROR,{type:i.ErrorTypes.KEY_SYSTEM_ERROR,details:i.ErrorDetails.KEY_SYSTEM_NO_SESSION,fatal:!0});if(!t)return o.logger.warn("Fatal: initData required for generating a key session is null"),void this.hls.trigger(r.Events.ERROR,{type:i.ErrorTypes.KEY_SYSTEM_ERROR,details:i.ErrorDetails.KEY_SYSTEM_NO_INIT_DATA,fatal:!0});o.logger.log('Generating key-session request for "'+e+'" init data type'),a.mediaKeysSessionInitialized=!0,s.generateRequest(e,t).then((function(){o.logger.debug("Key-session generation succeeded")})).catch((function(e){o.logger.error("Error generating key-session request:",e),n.hls.trigger(r.Events.ERROR,{type:i.ErrorTypes.KEY_SYSTEM_ERROR,details:i.ErrorDetails.KEY_SYSTEM_NO_SESSION,fatal:!1})}))}},n._createLicenseXhr=function(e,t,n){var r=new XMLHttpRequest;r.responseType="arraybuffer",r.onreadystatechange=this._onLicenseRequestReadyStageChange.bind(this,r,e,t,n);var i=this._licenseXhrSetup;if(i)try{i.call(this.hls,r,e),i=void 0}catch(e){o.logger.error(e)}try{r.readyState||r.open("POST",e,!0),i&&i.call(this.hls,r,e)}catch(e){throw new Error("issue setting up KeySystem license XHR "+e)}return r},n._onLicenseRequestReadyStageChange=function(e,t,n,a){if(4===e.readyState)if(200===e.status){this._requestLicenseFailureCount=0,o.logger.log("License request succeeded");var s=e.response,u=this._licenseResponseCallback;if(u)try{s=u.call(this.hls,e,t)}catch(e){o.logger.error(e)}a(s)}else{if(o.logger.error("License Request XHR failed ("+t+"). Status: "+e.status+" ("+e.statusText+")"),this._requestLicenseFailureCount++,this._requestLicenseFailureCount>3)return void this.hls.trigger(r.Events.ERROR,{type:i.ErrorTypes.KEY_SYSTEM_ERROR,details:i.ErrorDetails.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0});var l=3-this._requestLicenseFailureCount+1;o.logger.warn("Retrying license request, "+l+" attempts left"),this._requestLicense(n,a)}},n._generateLicenseRequestChallenge=function(e,t){if(e.mediaKeySystemDomain===a.KeySystems.WIDEVINE)return t;throw new Error("unsupported key-system: "+e.mediaKeySystemDomain)},n._requestLicense=function(e,t){o.logger.log("Requesting content license for key-system");var n=this._mediaKeysList[0];if(!n)return o.logger.error("Fatal error: Media is encrypted but no key-system access has been obtained yet"),void this.hls.trigger(r.Events.ERROR,{type:i.ErrorTypes.KEY_SYSTEM_ERROR,details:i.ErrorDetails.KEY_SYSTEM_NO_ACCESS,fatal:!0});try{var a=this.getLicenseServerUrl(n.mediaKeySystemDomain),s=this._createLicenseXhr(a,e,t);o.logger.log("Sending license request to URL: "+a);var u=this._generateLicenseRequestChallenge(n,e);s.send(u)}catch(e){o.logger.error("Failure requesting DRM license: "+e),this.hls.trigger(r.Events.ERROR,{type:i.ErrorTypes.KEY_SYSTEM_ERROR,details:i.ErrorDetails.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0})}},n.onMediaAttached=function(e,t){if(this._emeEnabled){var n=t.media;this._media=n,n.addEventListener("encrypted",this._onMediaEncrypted)}},n.onMediaDetached=function(){var e=this._media,t=this._mediaKeysList;e&&(e.removeEventListener("encrypted",this._onMediaEncrypted),this._media=null,this._mediaKeysList=[],Promise.all(t.map((function(e){if(e.mediaKeysSession)return e.mediaKeysSession.close().catch((function(){}))}))).then((function(){return e.setMediaKeys(null)})).catch((function(){})))},n.onManifestParsed=function(e,t){if(this._emeEnabled){var n=t.levels.map((function(e){return e.audioCodec})).filter((function(e){return!!e})),r=t.levels.map((function(e){return e.videoCodec})).filter((function(e){return!!e}));this._attemptKeySystemAccess(a.KeySystems.WIDEVINE,n,r)}},(t=[{key:"requestMediaKeySystemAccess",get:function(){if(!this._requestMediaKeySystemAccess)throw new Error("No requestMediaKeySystemAccess function configured");return this._requestMediaKeySystemAccess}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}();t.default=s},"./src/controller/fps-controller.ts":function(e,t,n){n.r(t);var r=n("./src/events.ts"),i=n("./src/utils/logger.ts"),o=function(){function e(e){this.hls=void 0,this.isVideoPlaybackQualityAvailable=!1,this.timer=void 0,this.media=null,this.lastTime=void 0,this.lastDroppedFrames=0,this.lastDecodedFrames=0,this.streamController=void 0,this.hls=e,this.registerListeners()}var t=e.prototype;return t.setStreamController=function(e){this.streamController=e},t.registerListeners=function(){this.hls.on(r.Events.MEDIA_ATTACHING,this.onMediaAttaching,this)},t.unregisterListeners=function(){this.hls.off(r.Events.MEDIA_ATTACHING,this.onMediaAttaching)},t.destroy=function(){this.timer&&clearInterval(this.timer),this.unregisterListeners(),this.isVideoPlaybackQualityAvailable=!1,this.media=null},t.onMediaAttaching=function(e,t){var n=this.hls.config;if(n.capLevelOnFPSDrop){var r=t.media instanceof self.HTMLVideoElement?t.media:null;this.media=r,r&&"function"==typeof r.getVideoPlaybackQuality&&(this.isVideoPlaybackQualityAvailable=!0),self.clearInterval(this.timer),this.timer=self.setInterval(this.checkFPSInterval.bind(this),n.fpsDroppedMonitoringPeriod)}},t.checkFPS=function(e,t,n){var o=performance.now();if(t){if(this.lastTime){var a=o-this.lastTime,s=n-this.lastDroppedFrames,u=t-this.lastDecodedFrames,l=1e3*s/a,c=this.hls;if(c.trigger(r.Events.FPS_DROP,{currentDropped:s,currentDecoded:u,totalDroppedFrames:n}),l>0&&s>c.config.fpsDroppedMonitoringThreshold*u){var f=c.currentLevel;i.logger.warn("drop FPS ratio greater than max allowed value for currentLevel: "+f),f>0&&(-1===c.autoLevelCapping||c.autoLevelCapping>=f)&&(f-=1,c.trigger(r.Events.FPS_DROP_LEVEL_CAPPING,{level:f,droppedLevel:c.currentLevel}),c.autoLevelCapping=f,this.streamController.nextLevelSwitch())}}this.lastTime=o,this.lastDroppedFrames=n,this.lastDecodedFrames=t}},t.checkFPSInterval=function(){var e=this.media;if(e)if(this.isVideoPlaybackQualityAvailable){var t=e.getVideoPlaybackQuality();this.checkFPS(e,t.totalVideoFrames,t.droppedVideoFrames)}else this.checkFPS(e,e.webkitDecodedFrameCount,e.webkitDroppedFrameCount)},e}();t.default=o},"./src/controller/fragment-finders.ts":function(e,t,n){n.r(t),n.d(t,"findFragmentByPDT",(function(){return o})),n.d(t,"findFragmentByPTS",(function(){return a})),n.d(t,"fragmentWithinToleranceTest",(function(){return s})),n.d(t,"pdtWithinToleranceTest",(function(){return u})),n.d(t,"findFragWithCC",(function(){return l}));var r=n("./src/polyfills/number.ts"),i=n("./src/utils/binary-search.ts");function o(e,t,n){if(null===t||!Array.isArray(e)||!e.length||!Object(r.isFiniteNumber)(t))return null;if(t<(e[0].programDateTime||0))return null;if(t>=(e[e.length-1].endProgramDateTime||0))return null;n=n||0;for(var i=0;i<e.length;++i){var o=e[i];if(u(t,n,o))return o}return null}function a(e,t,n,r){void 0===n&&(n=0),void 0===r&&(r=0);var o=null;return e?o=t[e.sn-t[0].sn+1]||null:0===n&&0===t[0].start&&(o=t[0]),o&&0===s(n,r,o)?o:i.default.search(t,s.bind(null,n,r))||o}function s(e,t,n){void 0===e&&(e=0),void 0===t&&(t=0);var r=Math.min(t,n.duration+(n.deltaPTS?n.deltaPTS:0));return n.start+n.duration-r<=e?1:n.start-r>e&&n.start?-1:0}function u(e,t,n){var r=1e3*Math.min(t,n.duration+(n.deltaPTS?n.deltaPTS:0));return(n.endProgramDateTime||0)-r>e}function l(e,t){return i.default.search(e,(function(e){return e.cc<t?1:e.cc>t?-1:0}))}},"./src/controller/fragment-tracker.ts":function(e,t,n){n.r(t),n.d(t,"FragmentState",(function(){return r})),n.d(t,"FragmentTracker",(function(){return a}));var r,i=n("./src/events.ts"),o=n("./src/types/loader.ts");!function(e){e.NOT_LOADED="NOT_LOADED",e.BACKTRACKED="BACKTRACKED",e.APPENDING="APPENDING",e.PARTIAL="PARTIAL",e.OK="OK"}(r||(r={}));var a=function(){function e(e){this.activeFragment=null,this.activeParts=null,this.fragments=Object.create(null),this.timeRanges=Object.create(null),this.bufferPadding=.2,this.hls=void 0,this.hls=e,this._registerListeners()}var t=e.prototype;return t._registerListeners=function(){var e=this.hls;e.on(i.Events.BUFFER_APPENDED,this.onBufferAppended,this),e.on(i.Events.FRAG_BUFFERED,this.onFragBuffered,this),e.on(i.Events.FRAG_LOADED,this.onFragLoaded,this)},t._unregisterListeners=function(){var e=this.hls;e.off(i.Events.BUFFER_APPENDED,this.onBufferAppended,this),e.off(i.Events.FRAG_BUFFERED,this.onFragBuffered,this),e.off(i.Events.FRAG_LOADED,this.onFragLoaded,this)},t.destroy=function(){this._unregisterListeners(),this.fragments=this.timeRanges=null},t.getAppendedFrag=function(e,t){if(t===o.PlaylistLevelType.MAIN){var n=this.activeFragment,r=this.activeParts;if(!n)return null;if(r)for(var i=r.length;i--;){var a=r[i],s=a?a.end:n.appendedPTS;if(a.start<=e&&void 0!==s&&e<=s)return i>9&&(this.activeParts=r.slice(i-9)),a}else if(n.start<=e&&void 0!==n.appendedPTS&&e<=n.appendedPTS)return n}return this.getBufferedFrag(e,t)},t.getBufferedFrag=function(e,t){for(var n=this.fragments,r=Object.keys(n),i=r.length;i--;){var o=n[r[i]];if((null==o?void 0:o.body.type)===t&&o.buffered){var a=o.body;if(a.start<=e&&e<=a.end)return a}}return null},t.detectEvictedFragments=function(e,t,n){var r=this;Object.keys(this.fragments).forEach((function(i){var o=r.fragments[i];if(o)if(o.buffered){var a=o.range[e];a&&a.time.some((function(e){var n=!r.isTimeBuffered(e.startPTS,e.endPTS,t);return n&&r.removeFragment(o.body),n}))}else o.body.type===n&&r.removeFragment(o.body)}))},t.detectPartialFragments=function(e){var t=this,n=this.timeRanges,r=e.frag,i=e.part;if(n&&"initSegment"!==r.sn){var o=u(r),a=this.fragments[o];a&&(Object.keys(n).forEach((function(e){var o=r.elementaryStreams[e];if(o){var s=n[e],u=null!==i||!0===o.partial;a.range[e]=t.getBufferedTimes(r,i,u,s)}})),a.backtrack=a.loaded=null,Object.keys(a.range).length?a.buffered=!0:this.removeFragment(a.body))}},t.fragBuffered=function(e){var t=u(e),n=this.fragments[t];n&&(n.backtrack=n.loaded=null,n.buffered=!0)},t.getBufferedTimes=function(e,t,n,r){for(var i={time:[],partial:n},o=t?t.start:e.start,a=t?t.end:e.end,s=e.minEndPTS||a,u=e.maxStartPTS||o,l=0;l<r.length;l++){var c=r.start(l)-this.bufferPadding,f=r.end(l)+this.bufferPadding;if(u>=c&&s<=f){i.time.push({startPTS:Math.max(o,r.start(l)),endPTS:Math.min(a,r.end(l))});break}if(o<f&&a>c)i.partial=!0,i.time.push({startPTS:Math.max(o,r.start(l)),endPTS:Math.min(a,r.end(l))});else if(a<=c)break}return i},t.getPartialFragment=function(e){var t,n,r,i=null,o=0,a=this.bufferPadding,u=this.fragments;return Object.keys(u).forEach((function(l){var c=u[l];c&&s(c)&&(n=c.body.start-a,r=c.body.end+a,e>=n&&e<=r&&(t=Math.min(e-n,r-e),o<=t&&(i=c.body,o=t)))})),i},t.getState=function(e){var t=u(e),n=this.fragments[t];return n?n.buffered?s(n)?r.PARTIAL:r.OK:n.backtrack?r.BACKTRACKED:r.APPENDING:r.NOT_LOADED},t.backtrack=function(e,t){var n=u(e),r=this.fragments[n];if(!r||r.backtrack)return null;var i=r.backtrack=t||r.loaded;return r.loaded=null,i},t.getBacktrackData=function(e){var t=u(e),n=this.fragments[t];if(n){var r,i=n.backtrack;if(null!=i&&null!==(r=i.payload)&&void 0!==r&&r.byteLength)return i;this.removeFragment(e)}return null},t.isTimeBuffered=function(e,t,n){for(var r,i,o=0;o<n.length;o++){if(r=n.start(o)-this.bufferPadding,i=n.end(o)+this.bufferPadding,e>=r&&t<=i)return!0;if(t<=r)return!1}return!1},t.onFragLoaded=function(e,t){var n=t.frag,r=t.part;if("initSegment"!==n.sn&&!n.bitrateTest&&!r){var i=u(n);this.fragments[i]={body:n,loaded:t,backtrack:null,buffered:!1,range:Object.create(null)}}},t.onBufferAppended=function(e,t){var n=this,r=t.frag,i=t.part,a=t.timeRanges;if(r.type===o.PlaylistLevelType.MAIN)if(this.activeFragment=r,i){var s=this.activeParts;s||(this.activeParts=s=[]),s.push(i)}else this.activeParts=null;this.timeRanges=a,Object.keys(a).forEach((function(e){var t=a[e];if(n.detectEvictedFragments(e,t),!i)for(var o=0;o<t.length;o++)r.appendedPTS=Math.max(t.end(o),r.appendedPTS||0)}))},t.onFragBuffered=function(e,t){this.detectPartialFragments(t)},t.hasFragment=function(e){var t=u(e);return!!this.fragments[t]},t.removeFragmentsInRange=function(e,t,n){var r=this;Object.keys(this.fragments).forEach((function(i){var o=r.fragments[i];if(o&&o.buffered){var a=o.body;a.type===n&&a.start<t&&a.end>e&&r.removeFragment(a)}}))},t.removeFragment=function(e){var t=u(e);e.stats.loaded=0,e.clearElementaryStreamInfo(),delete this.fragments[t]},t.removeAllFragments=function(){this.fragments=Object.create(null),this.activeFragment=null,this.activeParts=null},e}();function s(e){var t,n;return e.buffered&&((null===(t=e.range.video)||void 0===t?void 0:t.partial)||(null===(n=e.range.audio)||void 0===n?void 0:n.partial))}function u(e){return e.type+"_"+e.level+"_"+e.urlId+"_"+e.sn}},"./src/controller/gap-controller.ts":function(e,t,n){n.r(t),n.d(t,"STALL_MINIMUM_DURATION_MS",(function(){return s})),n.d(t,"MAX_START_GAP_JUMP",(function(){return u})),n.d(t,"SKIP_BUFFER_HOLE_STEP_SECONDS",(function(){return l})),n.d(t,"SKIP_BUFFER_RANGE_START",(function(){return c})),n.d(t,"default",(function(){return f}));var r=n("./src/utils/buffer-helper.ts"),i=n("./src/errors.ts"),o=n("./src/events.ts"),a=n("./src/utils/logger.ts"),s=250,u=2,l=.1,c=.05,f=function(){function e(e,t,n,r){this.config=void 0,this.media=void 0,this.fragmentTracker=void 0,this.hls=void 0,this.nudgeRetry=0,this.stallReported=!1,this.stalled=null,this.moved=!1,this.seeking=!1,this.config=e,this.media=t,this.fragmentTracker=n,this.hls=r}var t=e.prototype;return t.destroy=function(){this.hls=this.fragmentTracker=this.media=null},t.poll=function(e){var t=this.config,n=this.media,i=this.stalled,o=n.currentTime,l=n.seeking,c=this.seeking&&!l,f=!this.seeking&&l;if(this.seeking=l,o===e){if((f||c)&&(this.stalled=null),!n.paused&&!n.ended&&0!==n.playbackRate&&r.BufferHelper.getBuffered(n).length){var p=r.BufferHelper.bufferInfo(n,o,0),d=p.len>0,h=p.nextStart||0;if(d||h){if(l){var g=p.len>u,m=!h||h-o>u&&!this.fragmentTracker.getPartialFragment(o);if(g||m)return;this.moved=!1}if(!this.moved&&null!==this.stalled){var v,y=Math.max(h,p.start||0)-o,b=this.hls.levels?this.hls.levels[this.hls.currentLevel]:null,w=(null==b||null===(v=b.details)||void 0===v?void 0:v.live)?2*b.details.targetduration:u;if(y>0&&y<=w)return void this._trySkipBufferHole(null)}var A=self.performance.now();if(null!==i){var _=A-i;!l&&_>=s&&this._reportStall(p.len);var k=r.BufferHelper.bufferInfo(n,o,t.maxBufferHole);this._tryFixBufferStall(k,_)}else this.stalled=A}}}else if(this.moved=!0,null!==i){if(this.stallReported){var x=self.performance.now()-i;a.logger.warn("playback not stuck anymore @"+o+", after "+Math.round(x)+"ms"),this.stallReported=!1}this.stalled=null,this.nudgeRetry=0}},t._tryFixBufferStall=function(e,t){var n=this.config,r=this.fragmentTracker,i=this.media.currentTime,o=r.getPartialFragment(i);o&&this._trySkipBufferHole(o)||e.len>n.maxBufferHole&&t>1e3*n.highBufferWatchdogPeriod&&(a.logger.warn("Trying to nudge playhead over buffer-hole"),this.stalled=null,this._tryNudgeBuffer())},t._reportStall=function(e){var t=this.hls,n=this.media;this.stallReported||(this.stallReported=!0,a.logger.warn("Playback stalling at @"+n.currentTime+" due to low buffer (buffer="+e+")"),t.trigger(o.Events.ERROR,{type:i.ErrorTypes.MEDIA_ERROR,details:i.ErrorDetails.BUFFER_STALLED_ERROR,fatal:!1,buffer:e}))},t._trySkipBufferHole=function(e){for(var t=this.config,n=this.hls,s=this.media,u=s.currentTime,f=0,p=r.BufferHelper.getBuffered(s),d=0;d<p.length;d++){var h=p.start(d);if(u+t.maxBufferHole>=f&&u<h){var g=Math.max(h+c,s.currentTime+l);return a.logger.warn("skipping hole, adjusting currentTime from "+u+" to "+g),this.moved=!0,this.stalled=null,s.currentTime=g,e&&n.trigger(o.Events.ERROR,{type:i.ErrorTypes.MEDIA_ERROR,details:i.ErrorDetails.BUFFER_SEEK_OVER_HOLE,fatal:!1,reason:"fragment loaded with buffer holes, seeking from "+u+" to "+g,frag:e}),g}f=p.end(d)}return 0},t._tryNudgeBuffer=function(){var e=this.config,t=this.hls,n=this.media,r=n.currentTime,s=(this.nudgeRetry||0)+1;if(this.nudgeRetry=s,s<e.nudgeMaxRetry){var u=r+s*e.nudgeOffset;a.logger.warn("Nudging 'currentTime' from "+r+" to "+u),n.currentTime=u,t.trigger(o.Events.ERROR,{type:i.ErrorTypes.MEDIA_ERROR,details:i.ErrorDetails.BUFFER_NUDGE_ON_STALL,fatal:!1})}else a.logger.error("Playhead still not moving while enough data buffered @"+r+" after "+e.nudgeMaxRetry+" nudges"),t.trigger(o.Events.ERROR,{type:i.ErrorTypes.MEDIA_ERROR,details:i.ErrorDetails.BUFFER_STALLED_ERROR,fatal:!0})},e}()},"./src/controller/id3-track-controller.ts":function(e,t,n){n.r(t);var r=n("./src/events.ts"),i=n("./src/utils/texttrack-utils.ts"),o=n("./src/demux/id3.ts"),a=function(){function e(e){this.hls=void 0,this.id3Track=null,this.media=null,this.hls=e,this._registerListeners()}var t=e.prototype;return t.destroy=function(){this._unregisterListeners()},t._registerListeners=function(){var e=this.hls;e.on(r.Events.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(r.Events.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(r.Events.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),e.on(r.Events.BUFFER_FLUSHING,this.onBufferFlushing,this)},t._unregisterListeners=function(){var e=this.hls;e.off(r.Events.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(r.Events.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(r.Events.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),e.off(r.Events.BUFFER_FLUSHING,this.onBufferFlushing,this)},t.onMediaAttached=function(e,t){this.media=t.media},t.onMediaDetaching=function(){this.id3Track&&(Object(i.clearCurrentCues)(this.id3Track),this.id3Track=null,this.media=null)},t.getID3Track=function(e){if(this.media){for(var t=0;t<e.length;t++){var n=e[t];if("metadata"===n.kind&&"id3"===n.label)return Object(i.sendAddTrackEvent)(n,this.media),n}return this.media.addTextTrack("metadata","id3")}},t.onFragParsingMetadata=function(e,t){if(this.media){var n=t.frag,r=t.samples;this.id3Track||(this.id3Track=this.getID3Track(this.media.textTracks),this.id3Track.mode="hidden");for(var i=self.WebKitDataCue||self.VTTCue||self.TextTrackCue,a=0;a<r.length;a++){var s=o.getID3Frames(r[a].data);if(s){var u=r[a].pts,l=a<r.length-1?r[a+1].pts:n.end;l-u<=0&&(l=u+.25);for(var c=0;c<s.length;c++){var f=s[c];if(!o.isTimeStampFrame(f)){var p=new i(u,l,"");p.value=f,this.id3Track.addCue(p)}}}}}},t.onBufferFlushing=function(e,t){var n=t.startOffset,r=t.endOffset,o=t.type;if(!o||"audio"===o){var a=this.id3Track;a&&Object(i.removeCuesInRange)(a,n,r)}},e}();t.default=a},"./src/controller/latency-controller.ts":function(e,t,n){n.r(t),n.d(t,"default",(function(){return a}));var r=n("./src/errors.ts"),i=n("./src/events.ts"),o=n("./src/utils/logger.ts"),a=function(){function e(e){var t=this;this.hls=void 0,this.config=void 0,this.media=null,this.levelDetails=null,this.currentTime=0,this.stallCount=0,this._latency=null,this.timeupdateHandler=function(){return t.timeupdate()},this.hls=e,this.config=e.config,this.registerListeners()}var t,n=e.prototype;return n.destroy=function(){this.unregisterListeners(),this.onMediaDetaching(),this.levelDetails=null,this.hls=this.timeupdateHandler=null},n.registerListeners=function(){this.hls.on(i.Events.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(i.Events.MEDIA_DETACHING,this.onMediaDetaching,this),this.hls.on(i.Events.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.on(i.Events.LEVEL_UPDATED,this.onLevelUpdated,this),this.hls.on(i.Events.ERROR,this.onError,this)},n.unregisterListeners=function(){this.hls.off(i.Events.MEDIA_ATTACHED,this.onMediaAttached),this.hls.off(i.Events.MEDIA_DETACHING,this.onMediaDetaching),this.hls.off(i.Events.MANIFEST_LOADING,this.onManifestLoading),this.hls.off(i.Events.LEVEL_UPDATED,this.onLevelUpdated),this.hls.off(i.Events.ERROR,this.onError)},n.onMediaAttached=function(e,t){this.media=t.media,this.media.addEventListener("timeupdate",this.timeupdateHandler)},n.onMediaDetaching=function(){this.media&&(this.media.removeEventListener("timeupdate",this.timeupdateHandler),this.media=null)},n.onManifestLoading=function(){this.levelDetails=null,this._latency=null,this.stallCount=0},n.onLevelUpdated=function(e,t){var n=t.details;this.levelDetails=n,n.advanced&&this.timeupdate(),!n.live&&this.media&&this.media.removeEventListener("timeupdate",this.timeupdateHandler)},n.onError=function(e,t){t.details===r.ErrorDetails.BUFFER_STALLED_ERROR&&(this.stallCount++,o.logger.warn("[playback-rate-controller]: Stall detected, adjusting target latency"))},n.timeupdate=function(){var e=this.media,t=this.levelDetails;if(e&&t){this.currentTime=e.currentTime;var n=this.computeLatency();if(null!==n){this._latency=n;var r=this.config,i=r.lowLatencyMode,o=r.maxLiveSyncPlaybackRate;if(i&&1!==o){var a=this.targetLatency;if(null!==a){var s=n-a,u=s<Math.min(this.maxLatency,a+t.targetduration);if(t.live&&u&&s>.05&&this.forwardBufferLength>1){var l=Math.min(2,Math.max(1,o)),c=Math.round(2/(1+Math.exp(-.75*s-this.edgeStalled))*20)/20;e.playbackRate=Math.min(l,Math.max(1,c))}else 1!==e.playbackRate&&0!==e.playbackRate&&(e.playbackRate=1)}}}}},n.estimateLiveEdge=function(){var e=this.levelDetails;return null===e?null:e.edge+e.age},n.computeLatency=function(){var e=this.estimateLiveEdge();return null===e?null:e-this.currentTime},(t=[{key:"latency",get:function(){return this._latency||0}},{key:"maxLatency",get:function(){var e=this.config,t=this.levelDetails;return void 0!==e.liveMaxLatencyDuration?e.liveMaxLatencyDuration:t?e.liveMaxLatencyDurationCount*t.targetduration:0}},{key:"targetLatency",get:function(){var e=this.levelDetails;if(null===e)return null;var t=e.holdBack,n=e.partHoldBack,r=e.targetduration,i=this.config,o=i.liveSyncDuration,a=i.liveSyncDurationCount,s=i.lowLatencyMode,u=this.hls.userConfig,l=s&&n||t;(u.liveSyncDuration||u.liveSyncDurationCount||0===l)&&(l=void 0!==o?o:a*r);var c=r;return l+Math.min(1*this.stallCount,c)}},{key:"liveSyncPosition",get:function(){var e=this.estimateLiveEdge(),t=this.targetLatency,n=this.levelDetails;if(null===e||null===t||null===n)return null;var r=n.edge,i=e-t-this.edgeStalled,o=r-n.totalduration,a=r-(this.config.lowLatencyMode&&n.partTarget||n.targetduration);return Math.min(Math.max(o,i),a)}},{key:"drift",get:function(){var e=this.levelDetails;return null===e?1:e.drift}},{key:"edgeStalled",get:function(){var e=this.levelDetails;if(null===e)return 0;var t=3*(this.config.lowLatencyMode&&e.partTarget||e.targetduration);return Math.max(e.age-t,0)}},{key:"forwardBufferLength",get:function(){var e=this.media,t=this.levelDetails;if(!e||!t)return 0;var n=e.buffered.length;return n?e.buffered.end(n-1):t.edge-this.currentTime}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}()},"./src/controller/level-controller.ts":function(e,t,n){n.r(t),n.d(t,"default",(function(){return d}));var r=n("./src/types/level.ts"),i=n("./src/events.ts"),o=n("./src/errors.ts"),a=n("./src/utils/codecs.ts"),s=n("./src/controller/level-helper.ts"),u=n("./src/controller/base-playlist-controller.ts"),l=n("./src/types/loader.ts");function c(){return c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}function f(e,t){return f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},f(e,t)}var p=/chrome|firefox/.test(navigator.userAgent.toLowerCase()),d=function(e){var t,n;function u(t){var n;return(n=e.call(this,t,"[level-controller]")||this)._levels=[],n._firstLevel=-1,n._startLevel=void 0,n.currentLevelIndex=-1,n.manualLevelIndex=-1,n.onParsedComplete=void 0,n._registerListeners(),n}n=e,(t=u).prototype=Object.create(n.prototype),t.prototype.constructor=t,f(t,n);var d,h=u.prototype;return h._registerListeners=function(){var e=this.hls;e.on(i.Events.MANIFEST_LOADED,this.onManifestLoaded,this),e.on(i.Events.LEVEL_LOADED,this.onLevelLoaded,this),e.on(i.Events.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),e.on(i.Events.FRAG_LOADED,this.onFragLoaded,this),e.on(i.Events.ERROR,this.onError,this)},h._unregisterListeners=function(){var e=this.hls;e.off(i.Events.MANIFEST_LOADED,this.onManifestLoaded,this),e.off(i.Events.LEVEL_LOADED,this.onLevelLoaded,this),e.off(i.Events.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),e.off(i.Events.FRAG_LOADED,this.onFragLoaded,this),e.off(i.Events.ERROR,this.onError,this)},h.destroy=function(){this._unregisterListeners(),this.manualLevelIndex=-1,this._levels.length=0,e.prototype.destroy.call(this)},h.startLoad=function(){this._levels.forEach((function(e){e.loadError=0})),e.prototype.startLoad.call(this)},h.onManifestLoaded=function(e,t){var n,u,l=[],c=[],f=[],d={},h=!1,g=!1,m=!1;if(t.levels.forEach((function(e){var t=e.attrs;h=h||!(!e.width||!e.height),g=g||!!e.videoCodec,m=m||!!e.audioCodec,p&&e.audioCodec&&-1!==e.audioCodec.indexOf("mp4a.40.34")&&(e.audioCodec=void 0);var n=e.bitrate+"-"+e.attrs.RESOLUTION+"-"+e.attrs.CODECS;(u=d[n])?u.url.push(e.url):(u=new r.Level(e),d[n]=u,l.push(u)),t&&(t.AUDIO&&Object(s.addGroupId)(u,"audio",t.AUDIO),t.SUBTITLES&&Object(s.addGroupId)(u,"text",t.SUBTITLES))})),(h||g)&&m&&(l=l.filter((function(e){var t=e.videoCodec,n=e.width,r=e.height;return!!t||!(!n||!r)}))),l=l.filter((function(e){var t=e.audioCodec,n=e.videoCodec;return(!t||Object(a.isCodecSupportedInMp4)(t,"audio"))&&(!n||Object(a.isCodecSupportedInMp4)(n,"video"))})),t.audioTracks&&(c=t.audioTracks.filter((function(e){return!e.audioCodec||Object(a.isCodecSupportedInMp4)(e.audioCodec,"audio")})),Object(s.assignTrackIdsByGroup)(c)),t.subtitles&&(f=t.subtitles,Object(s.assignTrackIdsByGroup)(f)),l.length>0){n=l[0].bitrate,l.sort((function(e,t){return e.bitrate-t.bitrate})),this._levels=l;for(var v=0;v<l.length;v++)if(l[v].bitrate===n){this._firstLevel=v,this.log("manifest loaded, "+l.length+" level(s) found, first bitrate: "+n);break}var y=m&&!g,b={levels:l,audioTracks:c,subtitleTracks:f,firstLevel:this._firstLevel,stats:t.stats,audio:m,video:g,altAudio:!y&&c.some((function(e){return!!e.url}))};this.hls.trigger(i.Events.MANIFEST_PARSED,b),(this.hls.config.autoStartLoad||this.hls.forceStartLoad)&&this.hls.startLoad(this.hls.config.startPosition)}else this.hls.trigger(i.Events.ERROR,{type:o.ErrorTypes.MEDIA_ERROR,details:o.ErrorDetails.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:t.url,reason:"no level with compatible codecs found in manifest"})},h.onError=function(t,n){if(e.prototype.onError.call(this,t,n),!n.fatal){var r=n.context,i=this._levels[this.currentLevelIndex];if(r&&(r.type===l.PlaylistContextType.AUDIO_TRACK&&i.audioGroupIds&&r.groupId===i.audioGroupIds[i.urlId]||r.type===l.PlaylistContextType.SUBTITLE_TRACK&&i.textGroupIds&&r.groupId===i.textGroupIds[i.urlId]))this.redundantFailover(this.currentLevelIndex);else{var a,s=!1,u=!0;switch(n.details){case o.ErrorDetails.FRAG_LOAD_ERROR:case o.ErrorDetails.FRAG_LOAD_TIMEOUT:case o.ErrorDetails.KEY_LOAD_ERROR:case o.ErrorDetails.KEY_LOAD_TIMEOUT:if(n.frag){var c=this._levels[n.frag.level];c?(c.fragmentError++,c.fragmentError>this.hls.config.fragLoadingMaxRetry&&(a=n.frag.level)):a=n.frag.level}break;case o.ErrorDetails.LEVEL_LOAD_ERROR:case o.ErrorDetails.LEVEL_LOAD_TIMEOUT:r&&(r.deliveryDirectives&&(u=!1),a=r.level),s=!0;break;case o.ErrorDetails.REMUX_ALLOC_ERROR:a=n.level,s=!0}void 0!==a&&this.recoverLevel(n,a,s,u)}}},h.recoverLevel=function(e,t,n,r){var i=e.details,o=this._levels[t];if(o.loadError++,n){if(!this.retryLoadingOrFail(e))return void(this.currentLevelIndex=-1);e.levelRetry=!0}if(r){var a=o.url.length;if(a>1&&o.loadError<a)e.levelRetry=!0,this.redundantFailover(t);else if(-1===this.manualLevelIndex){var s=0===t?this._levels.length-1:t-1;this.currentLevelIndex!==s&&0===this._levels[s].loadError&&(this.warn(i+": switch to "+s),e.levelRetry=!0,this.hls.nextAutoLevel=s)}}},h.redundantFailover=function(e){var t=this._levels[e],n=t.url.length;if(n>1){var r=(t.urlId+1)%n;this.warn("Switching to redundant URL-id "+r),this._levels.forEach((function(e){e.urlId=r})),this.level=e}},h.onFragLoaded=function(e,t){var n=t.frag;if(void 0!==n&&n.type===l.PlaylistLevelType.MAIN){var r=this._levels[n.level];void 0!==r&&(r.fragmentError=0,r.loadError=0)}},h.onLevelLoaded=function(e,t){var n,r,i=t.level,o=t.details,a=this._levels[i];if(!a)return this.warn("Invalid level index "+i),void(null!==(r=t.deliveryDirectives)&&void 0!==r&&r.skip&&(o.deltaUpdateFailed=!0));i===this.currentLevelIndex?(0===a.fragmentError&&(a.loadError=0,this.retryCount=0),this.playlistLoaded(i,t,a.details)):null!==(n=t.deliveryDirectives)&&void 0!==n&&n.skip&&(o.deltaUpdateFailed=!0)},h.onAudioTrackSwitched=function(e,t){var n=this.hls.levels[this.currentLevelIndex];if(n&&n.audioGroupIds){for(var r=-1,i=this.hls.audioTracks[t.id].groupId,o=0;o<n.audioGroupIds.length;o++)if(n.audioGroupIds[o]===i){r=o;break}r!==n.urlId&&(n.urlId=r,this.startLoad())}},h.loadPlaylist=function(e){var t=this.currentLevelIndex,n=this._levels[t];if(this.canLoad&&n&&n.url.length>0){var r=n.urlId,o=n.url[r];if(e)try{o=e.addDirectives(o)}catch(e){this.warn("Could not construct new URL with HLS Delivery Directives: "+e)}this.log("Attempt loading level index "+t+(e?" at sn "+e.msn+" part "+e.part:"")+" with URL-id "+r+" "+o),this.clearTimer(),this.hls.trigger(i.Events.LEVEL_LOADING,{url:o,level:t,id:r,deliveryDirectives:e||null})}},h.removeLevel=function(e,t){var n=function(e,n){return n!==t},r=this._levels.filter((function(r,i){return i!==e||r.url.length>1&&void 0!==t&&(r.url=r.url.filter(n),r.audioGroupIds&&(r.audioGroupIds=r.audioGroupIds.filter(n)),r.textGroupIds&&(r.textGroupIds=r.textGroupIds.filter(n)),r.urlId=0,!0)})).map((function(e,t){var n=e.details;return null!=n&&n.fragments&&n.fragments.forEach((function(e){e.level=t})),e}));this._levels=r,this.hls.trigger(i.Events.LEVELS_UPDATED,{levels:r})},(d=[{key:"levels",get:function(){return 0===this._levels.length?null:this._levels}},{key:"level",get:function(){return this.currentLevelIndex},set:function(e){var t,n=this._levels;if(0!==n.length&&(this.currentLevelIndex!==e||null===(t=n[e])||void 0===t||!t.details)){if(e<0||e>=n.length){var r=e<0;if(this.hls.trigger(i.Events.ERROR,{type:o.ErrorTypes.OTHER_ERROR,details:o.ErrorDetails.LEVEL_SWITCH_ERROR,level:e,fatal:r,reason:"invalid level idx"}),r)return;e=Math.min(e,n.length-1)}this.clearTimer();var a=this.currentLevelIndex,s=n[a],u=n[e];this.log("switching to level "+e+" from "+a),this.currentLevelIndex=e;var l=c({},u,{level:e,maxBitrate:u.maxBitrate,uri:u.uri,urlId:u.urlId});delete l._urlId,this.hls.trigger(i.Events.LEVEL_SWITCHING,l);var f=u.details;if(!f||f.live){var p=this.switchParams(u.uri,null==s?void 0:s.details);this.loadPlaylist(p)}}}},{key:"manualLevel",get:function(){return this.manualLevelIndex},set:function(e){this.manualLevelIndex=e,void 0===this._startLevel&&(this._startLevel=e),-1!==e&&(this.level=e)}},{key:"firstLevel",get:function(){return this._firstLevel},set:function(e){this._firstLevel=e}},{key:"startLevel",get:function(){if(void 0===this._startLevel){var e=this.hls.config.startLevel;return void 0!==e?e:this._firstLevel}return this._startLevel},set:function(e){this._startLevel=e}},{key:"nextLoadLevel",get:function(){return-1!==this.manualLevelIndex?this.manualLevelIndex:this.hls.nextAutoLevel},set:function(e){this.level=e,-1===this.manualLevelIndex&&(this.hls.nextAutoLevel=e)}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(u.prototype,d),u}(u.default)},"./src/controller/level-helper.ts":function(e,t,n){n.r(t),n.d(t,"addGroupId",(function(){return o})),n.d(t,"assignTrackIdsByGroup",(function(){return a})),n.d(t,"updatePTS",(function(){return s})),n.d(t,"updateFragPTSDTS",(function(){return l})),n.d(t,"mergeDetails",(function(){return c})),n.d(t,"mapPartIntersection",(function(){return f})),n.d(t,"mapFragmentIntersection",(function(){return p})),n.d(t,"adjustSliding",(function(){return d})),n.d(t,"addSliding",(function(){return h})),n.d(t,"computeReloadInterval",(function(){return g})),n.d(t,"getFragmentWithSN",(function(){return m})),n.d(t,"getPartWith",(function(){return v}));var r=n("./src/polyfills/number.ts"),i=n("./src/utils/logger.ts");function o(e,t,n){switch(t){case"audio":e.audioGroupIds||(e.audioGroupIds=[]),e.audioGroupIds.push(n);break;case"text":e.textGroupIds||(e.textGroupIds=[]),e.textGroupIds.push(n)}}function a(e){var t={};e.forEach((function(e){var n=e.groupId||"";e.id=t[n]=t[n]||0,t[n]++}))}function s(e,t,n){u(e[t],e[n])}function u(e,t){var n=t.startPTS;if(Object(r.isFiniteNumber)(n)){var i,o=0;t.sn>e.sn?(o=n-e.start,i=e):(o=e.start-n,i=t),i.duration!==o&&(i.duration=o)}else t.sn>e.sn?e.cc===t.cc&&e.minEndPTS?t.start=e.start+(e.minEndPTS-e.start):t.start=e.start+e.duration:t.start=Math.max(e.start-t.duration,0)}function l(e,t,n,o,a,s){o-n<=0&&(i.logger.warn("Fragment should have a positive duration",t),o=n+t.duration,s=a+t.duration);var l=n,c=o,f=t.startPTS,p=t.endPTS;if(Object(r.isFiniteNumber)(f)){var d=Math.abs(f-n);Object(r.isFiniteNumber)(t.deltaPTS)?t.deltaPTS=Math.max(d,t.deltaPTS):t.deltaPTS=d,l=Math.max(n,f),n=Math.min(n,f),a=Math.min(a,t.startDTS),c=Math.min(o,p),o=Math.max(o,p),s=Math.max(s,t.endDTS)}t.duration=o-n;var h=n-t.start;t.appendedPTS=o,t.start=t.startPTS=n,t.maxStartPTS=l,t.startDTS=a,t.endPTS=o,t.minEndPTS=c,t.endDTS=s;var g,m=t.sn;if(!e||m<e.startSN||m>e.endSN)return 0;var v=m-e.startSN,y=e.fragments;for(y[v]=t,g=v;g>0;g--)u(y[g],y[g-1]);for(g=v;g<y.length-1;g++)u(y[g],y[g+1]);return e.fragmentHint&&u(y[y.length-1],e.fragmentHint),e.PTSKnown=e.alignedSliding=!0,h}function c(e,t){for(var n=null,o=e.fragments,a=o.length-1;a>=0;a--){var s=o[a].initSegment;if(s){n=s;break}}e.fragmentHint&&delete e.fragmentHint.endPTS;var u,c=0;if(p(e,t,(function(e,i){e.relurl&&(c=e.cc-i.cc),Object(r.isFiniteNumber)(e.startPTS)&&Object(r.isFiniteNumber)(e.endPTS)&&(i.start=i.startPTS=e.startPTS,i.startDTS=e.startDTS,i.appendedPTS=e.appendedPTS,i.maxStartPTS=e.maxStartPTS,i.endPTS=e.endPTS,i.endDTS=e.endDTS,i.minEndPTS=e.minEndPTS,i.duration=e.endPTS-e.startPTS,i.duration&&(u=i),t.PTSKnown=t.alignedSliding=!0),i.elementaryStreams=e.elementaryStreams,i.loader=e.loader,i.stats=e.stats,i.urlId=e.urlId,e.initSegment&&(i.initSegment=e.initSegment,n=e.initSegment)})),n&&(t.fragmentHint?t.fragments.concat(t.fragmentHint):t.fragments).forEach((function(e){var t;e.initSegment&&e.initSegment.relurl!==(null===(t=n)||void 0===t?void 0:t.relurl)||(e.initSegment=n)})),t.skippedSegments&&(t.deltaUpdateFailed=t.fragments.some((function(e){return!e})),t.deltaUpdateFailed)){i.logger.warn("[level-helper] Previous playlist missing segments skipped in delta playlist");for(var h=t.skippedSegments;h--;)t.fragments.shift();t.startSN=t.fragments[0].sn,t.startCC=t.fragments[0].cc}var g=t.fragments;if(c){i.logger.warn("discontinuity sliding from playlist, take drift into account");for(var m=0;m<g.length;m++)g[m].cc+=c}t.skippedSegments&&(t.startCC=t.fragments[0].cc),f(e.partList,t.partList,(function(e,t){t.elementaryStreams=e.elementaryStreams,t.stats=e.stats})),u?l(t,u,u.startPTS,u.endPTS,u.startDTS,u.endDTS):d(e,t),g.length&&(t.totalduration=t.edge-g[0].start),t.driftStartTime=e.driftStartTime,t.driftStart=e.driftStart;var v=t.advancedDateTime;if(t.advanced&&v){var y=t.edge;t.driftStart||(t.driftStartTime=v,t.driftStart=y),t.driftEndTime=v,t.driftEnd=y}else t.driftEndTime=e.driftEndTime,t.driftEnd=e.driftEnd,t.advancedDateTime=e.advancedDateTime}function f(e,t,n){if(e&&t)for(var r=0,i=0,o=e.length;i<=o;i++){var a=e[i],s=t[i+r];a&&s&&a.index===s.index&&a.fragment.sn===s.fragment.sn?n(a,s):r--}}function p(e,t,n){for(var r=t.skippedSegments,i=Math.max(e.startSN,t.startSN)-t.startSN,o=(e.fragmentHint?1:0)+(r?t.endSN:Math.min(e.endSN,t.endSN))-t.startSN,a=t.startSN-e.startSN,s=t.fragmentHint?t.fragments.concat(t.fragmentHint):t.fragments,u=e.fragmentHint?e.fragments.concat(e.fragmentHint):e.fragments,l=i;l<=o;l++){var c=u[a+l],f=s[l];r&&!f&&l<r&&(f=t.fragments[l]=c),c&&f&&n(c,f)}}function d(e,t){var n=t.startSN+t.skippedSegments-e.startSN,r=e.fragments;n<0||n>=r.length||h(t,r[n].start)}function h(e,t){if(t){for(var n=e.fragments,r=e.skippedSegments;r<n.length;r++)n[r].start+=t;e.fragmentHint&&(e.fragmentHint.start+=t)}}function g(e,t){var n,r=1e3*e.levelTargetDuration,i=r/2,o=e.age,a=o>0&&o<3*r,s=t.loading.end-t.loading.start,u=e.availabilityDelay;if(!1===e.updated)if(a){var l=333*e.misses;n=Math.max(Math.min(i,2*s),l),e.availabilityDelay=(e.availabilityDelay||0)+n}else n=i;else a?(u=Math.min(u||r/2,o),e.availabilityDelay=u,n=u+r-o):n=r-s;return Math.round(n)}function m(e,t,n){if(!e||!e.details)return null;var r=e.details,i=r.fragments[t-r.startSN];return i||((i=r.fragmentHint)&&i.sn===t?i:t<r.startSN&&n&&n.sn===t?n:null)}function v(e,t,n){if(!e||!e.details)return null;var r=e.details.partList;if(r)for(var i=r.length;i--;){var o=r[i];if(o.index===n&&o.fragment.sn===t)return o}return null}},"./src/controller/stream-controller.ts":function(e,t,n){n.r(t),n.d(t,"default",(function(){return v}));var r=n("./src/polyfills/number.ts"),i=n("./src/controller/base-stream-controller.ts"),o=n("./src/is-supported.ts"),a=n("./src/events.ts"),s=n("./src/utils/buffer-helper.ts"),u=n("./src/controller/fragment-tracker.ts"),l=n("./src/types/loader.ts"),c=n("./src/loader/fragment.ts"),f=n("./src/demux/transmuxer-interface.ts"),p=n("./src/types/transmuxer.ts"),d=n("./src/controller/gap-controller.ts"),h=n("./src/errors.ts"),g=n("./src/utils/logger.ts");function m(e,t){return m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},m(e,t)}var v=function(e){var t,n;function v(t,n){var r;return(r=e.call(this,t,n,"[stream-controller]")||this).audioCodecSwap=!1,r.gapController=null,r.level=-1,r._forceStartLoad=!1,r.altAudio=!1,r.audioOnly=!1,r.fragPlaying=null,r.onvplaying=null,r.onvseeked=null,r.fragLastKbps=0,r.stalled=!1,r.couldBacktrack=!1,r.audioCodecSwitch=!1,r.videoBuffer=null,r._registerListeners(),r}n=e,(t=v).prototype=Object.create(n.prototype),t.prototype.constructor=t,m(t,n);var y,b=v.prototype;return b._registerListeners=function(){var e=this.hls;e.on(a.Events.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(a.Events.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(a.Events.MANIFEST_LOADING,this.onManifestLoading,this),e.on(a.Events.MANIFEST_PARSED,this.onManifestParsed,this),e.on(a.Events.LEVEL_LOADING,this.onLevelLoading,this),e.on(a.Events.LEVEL_LOADED,this.onLevelLoaded,this),e.on(a.Events.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),e.on(a.Events.ERROR,this.onError,this),e.on(a.Events.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.on(a.Events.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),e.on(a.Events.BUFFER_CREATED,this.onBufferCreated,this),e.on(a.Events.BUFFER_FLUSHED,this.onBufferFlushed,this),e.on(a.Events.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on(a.Events.FRAG_BUFFERED,this.onFragBuffered,this)},b._unregisterListeners=function(){var e=this.hls;e.off(a.Events.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(a.Events.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(a.Events.MANIFEST_LOADING,this.onManifestLoading,this),e.off(a.Events.MANIFEST_PARSED,this.onManifestParsed,this),e.off(a.Events.LEVEL_LOADED,this.onLevelLoaded,this),e.off(a.Events.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),e.off(a.Events.ERROR,this.onError,this),e.off(a.Events.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.off(a.Events.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),e.off(a.Events.BUFFER_CREATED,this.onBufferCreated,this),e.off(a.Events.BUFFER_FLUSHED,this.onBufferFlushed,this),e.off(a.Events.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off(a.Events.FRAG_BUFFERED,this.onFragBuffered,this)},b.onHandlerDestroying=function(){this._unregisterListeners(),this.onMediaDetaching()},b.startLoad=function(e){if(this.levels){var t=this.lastCurrentTime,n=this.hls;if(this.stopLoad(),this.setInterval(100),this.level=-1,this.fragLoadError=0,!this.startFragRequested){var r=n.startLevel;-1===r&&(n.config.testBandwidth?(r=0,this.bitrateTest=!0):r=n.nextAutoLevel),this.level=n.nextLoadLevel=r,this.loadedmetadata=!1}t>0&&-1===e&&(this.log("Override startPosition with lastCurrentTime @"+t.toFixed(3)),e=t),this.state=i.State.IDLE,this.nextLoadPosition=this.startPosition=this.lastCurrentTime=e,this.tick()}else this._forceStartLoad=!0,this.state=i.State.STOPPED},b.stopLoad=function(){this._forceStartLoad=!1,e.prototype.stopLoad.call(this)},b.doTick=function(){switch(this.state){case i.State.IDLE:this.doTickIdle();break;case i.State.WAITING_LEVEL:var e,t=this.levels,n=this.level,r=null==t||null===(e=t[n])||void 0===e?void 0:e.details;if(r&&(!r.live||this.levelLastLoaded===this.level)){if(this.waitForCdnTuneIn(r))break;this.state=i.State.IDLE;break}break;case i.State.FRAG_LOADING_WAITING_RETRY:var o,a=self.performance.now(),s=this.retryDate;(!s||a>=s||null!==(o=this.media)&&void 0!==o&&o.seeking)&&(this.log("retryDate reached, switch back to IDLE state"),this.state=i.State.IDLE)}this.onTickEnd()},b.onTickEnd=function(){e.prototype.onTickEnd.call(this),this.checkBuffer(),this.checkFragmentChanged()},b.doTickIdle=function(){var e,t,n=this.hls,r=this.levelLastLoaded,o=this.levels,s=this.media,f=n.config,p=n.nextLoadLevel;if(null!==r&&(s||!this.startFragRequested&&f.startFragPrefetch)&&(!this.altAudio||!this.audioOnly)&&o&&o[p]){var d=o[p];this.level=n.nextLoadLevel=p;var h=d.details;if(!h||this.state===i.State.WAITING_LEVEL||h.live&&this.levelLastLoaded!==p)this.state=i.State.WAITING_LEVEL;else{var g=this.getFwdBufferInfo(this.mediaBuffer?this.mediaBuffer:s,l.PlaylistLevelType.MAIN);if(null!==g&&!(g.len>=this.getMaxBufferLength(d.maxBitrate))){if(this._streamEnded(g,h)){var m={};return this.altAudio&&(m.type="video"),this.hls.trigger(a.Events.BUFFER_EOS,m),void(this.state=i.State.ENDED)}var v=g.end,y=this.getNextFragment(v,h);if(this.couldBacktrack&&!this.fragPrevious&&y&&"initSegment"!==y.sn){var b=y.sn-h.startSN;b>1&&(y=h.fragments[b-1],this.fragmentTracker.removeFragment(y))}if(y&&this.fragmentTracker.getState(y)===u.FragmentState.OK&&this.nextLoadPosition>v){var w=this.audioOnly&&!this.altAudio?c.ElementaryStreamTypes.AUDIO:c.ElementaryStreamTypes.VIDEO;this.afterBufferFlushed(s,w,l.PlaylistLevelType.MAIN),y=this.getNextFragment(this.nextLoadPosition,h)}y&&(!y.initSegment||y.initSegment.data||this.bitrateTest||(y=y.initSegment),"identity"!==(null===(e=y.decryptdata)||void 0===e?void 0:e.keyFormat)||null!==(t=y.decryptdata)&&void 0!==t&&t.key?this.loadFragment(y,h,v):this.loadKey(y,h))}}}},b.loadFragment=function(t,n,r){var i,o=this.fragmentTracker.getState(t);if(this.fragCurrent=t,o===u.FragmentState.BACKTRACKED){var a=this.fragmentTracker.getBacktrackData(t);if(a)return this._handleFragmentLoadProgress(a),void this._handleFragmentLoadComplete(a);o=u.FragmentState.NOT_LOADED}o===u.FragmentState.NOT_LOADED||o===u.FragmentState.PARTIAL?"initSegment"===t.sn?this._loadInitSegment(t):this.bitrateTest?(t.bitrateTest=!0,this.log("Fragment "+t.sn+" of level "+t.level+" is being downloaded to test bitrate and will not be buffered"),this._loadBitrateTestFrag(t)):(this.startFragRequested=!0,e.prototype.loadFragment.call(this,t,n,r)):o===u.FragmentState.APPENDING?this.reduceMaxBufferLength(t.duration)&&this.fragmentTracker.removeFragment(t):0===(null===(i=this.media)||void 0===i?void 0:i.buffered.length)&&this.fragmentTracker.removeAllFragments()},b.getAppendedFrag=function(e){var t=this.fragmentTracker.getAppendedFrag(e,l.PlaylistLevelType.MAIN);return t&&"fragment"in t?t.fragment:t},b.getBufferedFrag=function(e){return this.fragmentTracker.getBufferedFrag(e,l.PlaylistLevelType.MAIN)},b.followingBufferedFrag=function(e){return e?this.getBufferedFrag(e.end+.5):null},b.immediateLevelSwitch=function(){this.abortCurrentFrag(),this.flushMainBuffer(0,Number.POSITIVE_INFINITY)},b.nextLevelSwitch=function(){var e=this.levels,t=this.media;if(null!=t&&t.readyState){var n,r=this.getAppendedFrag(t.currentTime);if(r&&r.start>1&&this.flushMainBuffer(0,r.start-1),!t.paused&&e){var i=e[this.hls.nextLoadLevel],o=this.fragLastKbps;n=o&&this.fragCurrent?this.fragCurrent.duration*i.maxBitrate/(1e3*o)+1:0}else n=0;var a=this.getBufferedFrag(t.currentTime+n);if(a){var s=this.followingBufferedFrag(a);if(s){this.abortCurrentFrag();var u=s.maxStartPTS?s.maxStartPTS:s.start,l=s.duration,c=Math.max(a.end,u+Math.min(Math.max(l-this.config.maxFragLookUpTolerance,.5*l),.75*l));this.flushMainBuffer(c,Number.POSITIVE_INFINITY)}}}},b.abortCurrentFrag=function(){var e=this.fragCurrent;this.fragCurrent=null,null!=e&&e.loader&&e.loader.abort(),this.state===i.State.KEY_LOADING&&(this.state=i.State.IDLE),this.nextLoadPosition=this.getLoadPosition()},b.flushMainBuffer=function(t,n){e.prototype.flushMainBuffer.call(this,t,n,this.altAudio?"video":null)},b.onMediaAttached=function(t,n){e.prototype.onMediaAttached.call(this,t,n);var r=n.media;this.onvplaying=this.onMediaPlaying.bind(this),this.onvseeked=this.onMediaSeeked.bind(this),r.addEventListener("playing",this.onvplaying),r.addEventListener("seeked",this.onvseeked),this.gapController=new d.default(this.config,r,this.fragmentTracker,this.hls)},b.onMediaDetaching=function(){var t=this.media;t&&(t.removeEventListener("playing",this.onvplaying),t.removeEventListener("seeked",this.onvseeked),this.onvplaying=this.onvseeked=null,this.videoBuffer=null),this.fragPlaying=null,this.gapController&&(this.gapController.destroy(),this.gapController=null),e.prototype.onMediaDetaching.call(this)},b.onMediaPlaying=function(){this.tick()},b.onMediaSeeked=function(){var e=this.media,t=e?e.currentTime:null;Object(r.isFiniteNumber)(t)&&this.log("Media seeked to "+t.toFixed(3)),this.tick()},b.onManifestLoading=function(){this.log("Trigger BUFFER_RESET"),this.hls.trigger(a.Events.BUFFER_RESET,void 0),this.fragmentTracker.removeAllFragments(),this.couldBacktrack=this.stalled=!1,this.startPosition=this.lastCurrentTime=0,this.fragPlaying=null},b.onManifestParsed=function(e,t){var n,r=!1,i=!1;t.levels.forEach((function(e){(n=e.audioCodec)&&(-1!==n.indexOf("mp4a.40.2")&&(r=!0),-1!==n.indexOf("mp4a.40.5")&&(i=!0))})),this.audioCodecSwitch=r&&i&&!Object(o.changeTypeSupported)(),this.audioCodecSwitch&&this.log("Both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.levels=t.levels,this.startFragRequested=!1},b.onLevelLoading=function(e,t){var n=this.levels;if(n&&this.state===i.State.IDLE){var r=n[t.level];(!r.details||r.details.live&&this.levelLastLoaded!==t.level||this.waitForCdnTuneIn(r.details))&&(this.state=i.State.WAITING_LEVEL)}},b.onLevelLoaded=function(e,t){var n,r=this.levels,o=t.level,s=t.details,u=s.totalduration;if(r){this.log("Level "+o+" loaded ["+s.startSN+","+s.endSN+"], cc ["+s.startCC+", "+s.endCC+"] duration:"+u);var l=this.fragCurrent;!l||this.state!==i.State.FRAG_LOADING&&this.state!==i.State.FRAG_LOADING_WAITING_RETRY||l.level!==t.level&&l.loader&&(this.state=i.State.IDLE,l.loader.abort());var c=r[o],f=0;if(s.live||null!==(n=c.details)&&void 0!==n&&n.live){if(s.fragments[0]||(s.deltaUpdateFailed=!0),s.deltaUpdateFailed)return;f=this.alignPlaylists(s,c.details)}if(c.details=s,this.levelLastLoaded=o,this.hls.trigger(a.Events.LEVEL_UPDATED,{details:s,level:o}),this.state===i.State.WAITING_LEVEL){if(this.waitForCdnTuneIn(s))return;this.state=i.State.IDLE}this.startFragRequested?s.live&&this.synchronizeToLiveEdge(s):this.setStartPosition(s,f),this.tick()}else this.warn("Levels were reset while loading level "+o)},b._handleFragmentLoadProgress=function(e){var t,n=e.frag,r=e.part,i=e.payload,o=this.levels;if(o){var a=o[n.level],s=a.details;if(s){var u=a.videoCodec,c=s.PTSKnown||!s.live,d=null===(t=n.initSegment)||void 0===t?void 0:t.data,h=this._getAudioCodec(a),g=this.transmuxer=this.transmuxer||new f.default(this.hls,l.PlaylistLevelType.MAIN,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)),m=r?r.index:-1,v=-1!==m,y=new p.ChunkMetadata(n.level,n.sn,n.stats.chunkCount,i.byteLength,m,v),b=this.initPTS[n.cc];g.push(i,d,h,u,n,r,s.totalduration,c,y,b)}else this.warn("Dropping fragment "+n.sn+" of level "+n.level+" after level details were reset")}else this.warn("Levels were reset while fragment load was in progress. Fragment "+n.sn+" of level "+n.level+" will not be buffered")},b.onAudioTrackSwitching=function(e,t){var n=this.altAudio,r=!!t.url,i=t.id;if(!r){if(this.mediaBuffer!==this.media){this.log("Switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media;var o=this.fragCurrent;null!=o&&o.loader&&(this.log("Switching to main audio track, cancel main fragment load"),o.loader.abort()),this.resetTransmuxer(),this.resetLoadingState()}else this.audioOnly&&this.resetTransmuxer();var s=this.hls;n&&s.trigger(a.Events.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:"audio"}),s.trigger(a.Events.AUDIO_TRACK_SWITCHED,{id:i})}},b.onAudioTrackSwitched=function(e,t){var n=t.id,r=!!this.hls.audioTracks[n].url;if(r){var i=this.videoBuffer;i&&this.mediaBuffer!==i&&(this.log("Switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=i)}this.altAudio=r,this.tick()},b.onBufferCreated=function(e,t){var n,r,i=t.tracks,o=!1;for(var a in i){var s=i[a];if("main"===s.id){if(r=a,n=s,"video"===a){var u=i[a];u&&(this.videoBuffer=u.buffer)}}else o=!0}o&&n?(this.log("Alternate track found, use "+r+".buffered to schedule main fragment loading"),this.mediaBuffer=n.buffer):this.mediaBuffer=this.media},b.onFragBuffered=function(e,t){var n=t.frag,r=t.part;if(!n||n.type===l.PlaylistLevelType.MAIN){if(this.fragContextChanged(n))return this.warn("Fragment "+n.sn+(r?" p: "+r.index:"")+" of level "+n.level+" finished buffering, but was aborted. state: "+this.state),void(this.state===i.State.PARSED&&(this.state=i.State.IDLE));var o=r?r.stats:n.stats;this.fragLastKbps=Math.round(8*o.total/(o.buffering.end-o.loading.first)),"initSegment"!==n.sn&&(this.fragPrevious=n),this.fragBufferedComplete(n,r)}},b.onError=function(e,t){switch(t.details){case h.ErrorDetails.FRAG_LOAD_ERROR:case h.ErrorDetails.FRAG_LOAD_TIMEOUT:case h.ErrorDetails.KEY_LOAD_ERROR:case h.ErrorDetails.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(l.PlaylistLevelType.MAIN,t);break;case h.ErrorDetails.LEVEL_LOAD_ERROR:case h.ErrorDetails.LEVEL_LOAD_TIMEOUT:this.state!==i.State.ERROR&&(t.fatal?(this.warn(""+t.details),this.state=i.State.ERROR):t.levelRetry||this.state!==i.State.WAITING_LEVEL||(this.state=i.State.IDLE));break;case h.ErrorDetails.BUFFER_FULL_ERROR:if("main"===t.parent&&(this.state===i.State.PARSING||this.state===i.State.PARSED)){var n=!0,r=this.getFwdBufferInfo(this.media,l.PlaylistLevelType.MAIN);r&&r.len>.5&&(n=!this.reduceMaxBufferLength(r.len)),n&&(this.warn("buffer full error also media.currentTime is not buffered, flush main"),this.immediateLevelSwitch()),this.resetLoadingState()}}},b.checkBuffer=function(){var e=this.media,t=this.gapController;if(e&&t&&e.readyState){var n=s.BufferHelper.getBuffered(e);!this.loadedmetadata&&n.length?(this.loadedmetadata=!0,this.seekToStartPos()):t.poll(this.lastCurrentTime),this.lastCurrentTime=e.currentTime}},b.onFragLoadEmergencyAborted=function(){this.state=i.State.IDLE,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.tickImmediate()},b.onBufferFlushed=function(e,t){var n=t.type;if(n!==c.ElementaryStreamTypes.AUDIO||this.audioOnly&&!this.altAudio){var r=(n===c.ElementaryStreamTypes.VIDEO?this.videoBuffer:this.mediaBuffer)||this.media;this.afterBufferFlushed(r,n,l.PlaylistLevelType.MAIN)}},b.onLevelsUpdated=function(e,t){this.levels=t.levels},b.swapAudioCodec=function(){this.audioCodecSwap=!this.audioCodecSwap},b.seekToStartPos=function(){var e=this.media,t=e.currentTime,n=this.startPosition;if(n>=0&&t<n){if(e.seeking)return void g.logger.log("could not seek to "+n+", already seeking at "+t);var r=s.BufferHelper.getBuffered(e),i=(r.length?r.start(0):0)-n;i>0&&(i<this.config.maxBufferHole||i<this.config.maxFragLookUpTolerance)&&(g.logger.log("adjusting start position by "+i+" to match buffer start"),n+=i,this.startPosition=n),this.log("seek to target start position "+n+" from current time "+t),e.currentTime=n}},b._getAudioCodec=function(e){var t=this.config.defaultAudioCodec||e.audioCodec;return this.audioCodecSwap&&t&&(this.log("Swapping audio codec"),t=-1!==t.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5"),t},b._loadBitrateTestFrag=function(e){var t=this;this._doFragLoad(e).then((function(n){var r=t.hls;if(n&&!r.nextLoadLevel&&!t.fragContextChanged(e)){t.fragLoadError=0,t.state=i.State.IDLE,t.startFragRequested=!1,t.bitrateTest=!1;var o=e.stats;o.parsing.start=o.parsing.end=o.buffering.start=o.buffering.end=self.performance.now(),r.trigger(a.Events.FRAG_LOADED,n)}}))},b._handleTransmuxComplete=function(e){var t,n="main",o=this.hls,s=e.remuxResult,u=e.chunkMeta,l=this.getCurrentContext(u);if(!l)return this.warn("The loading context changed while buffering fragment "+u.sn+" of level "+u.level+". This chunk will not be buffered."),void this.resetLiveStartWhenNotLoaded(u.level);var f=l.frag,p=l.part,d=l.level,h=s.video,g=s.text,m=s.id3,v=s.initSegment,y=this.altAudio?void 0:s.audio;if(!this.fragContextChanged(f)){if(this.state=i.State.PARSING,v){v.tracks&&(this._bufferInitSegment(d,v.tracks,f,u),o.trigger(a.Events.FRAG_PARSING_INIT_SEGMENT,{frag:f,id:n,tracks:v.tracks}));var b=v.initPTS,w=v.timescale;Object(r.isFiniteNumber)(b)&&(this.initPTS[f.cc]=b,o.trigger(a.Events.INIT_PTS_FOUND,{frag:f,id:n,initPTS:b,timescale:w}))}if(h&&!1!==s.independent){if(d.details){var A=h.startPTS,_=h.endPTS,k=h.startDTS,x=h.endDTS;if(p)p.elementaryStreams[h.type]={startPTS:A,endPTS:_,startDTS:k,endDTS:x};else if(h.firstKeyFrame&&h.independent&&(this.couldBacktrack=!0),h.dropped&&h.independent){if(this.getLoadPosition()+this.config.maxBufferHole<A)return void this.backtrack(f);f.setElementaryStreamInfo(h.type,f.start,_,f.start,x,!0)}f.setElementaryStreamInfo(h.type,A,_,k,x),this.bufferFragmentData(h,f,p,u)}}else if(!1===s.independent)return void this.backtrack(f);if(y){var E=y.startPTS,C=y.endPTS,T=y.startDTS,S=y.endDTS;p&&(p.elementaryStreams[c.ElementaryStreamTypes.AUDIO]={startPTS:E,endPTS:C,startDTS:T,endDTS:S}),f.setElementaryStreamInfo(c.ElementaryStreamTypes.AUDIO,E,C,T,S),this.bufferFragmentData(y,f,p,u)}if(null!=m&&null!==(t=m.samples)&&void 0!==t&&t.length){var R={frag:f,id:n,samples:m.samples};o.trigger(a.Events.FRAG_PARSING_METADATA,R)}if(g){var L={frag:f,id:n,samples:g.samples};o.trigger(a.Events.FRAG_PARSING_USERDATA,L)}}},b._bufferInitSegment=function(e,t,n,r){var o=this;if(this.state===i.State.PARSING){this.audioOnly=!!t.audio&&!t.video,this.altAudio&&!this.audioOnly&&delete t.audio;var s=t.audio,u=t.video,l=t.audiovideo;if(s){var c=e.audioCodec,f=navigator.userAgent.toLowerCase();this.audioCodecSwitch&&(c&&(c=-1!==c.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5"),1!==s.metadata.channelCount&&-1===f.indexOf("firefox")&&(c="mp4a.40.5")),-1!==f.indexOf("android")&&"audio/mpeg"!==s.container&&(c="mp4a.40.2",this.log("Android: force audio codec to "+c)),e.audioCodec&&e.audioCodec!==c&&this.log('Swapping manifest audio codec "'+e.audioCodec+'" for "'+c+'"'),s.levelCodec=c,s.id="main",this.log("Init audio buffer, container:"+s.container+", codecs[selected/level/parsed]=["+(c||"")+"/"+(e.audioCodec||"")+"/"+s.codec+"]")}u&&(u.levelCodec=e.videoCodec,u.id="main",this.log("Init video buffer, container:"+u.container+", codecs[level/parsed]=["+(e.videoCodec||"")+"/"+u.codec+"]")),l&&this.log("Init audiovideo buffer, container:"+l.container+", codecs[level/parsed]=["+(e.attrs.CODECS||"")+"/"+l.codec+"]"),this.hls.trigger(a.Events.BUFFER_CODECS,t),Object.keys(t).forEach((function(e){var i=t[e].initSegment;null!=i&&i.byteLength&&o.hls.trigger(a.Events.BUFFER_APPENDING,{type:e,data:i,frag:n,part:null,chunkMeta:r,parent:n.type})})),this.tick()}},b.backtrack=function(e){this.couldBacktrack=!0,this.resetTransmuxer(),this.flushBufferGap(e);var t=this.fragmentTracker.backtrack(e);this.fragPrevious=null,this.nextLoadPosition=e.start,t?this.resetFragmentLoading(e):this.state=i.State.BACKTRACKING},b.checkFragmentChanged=function(){var e=this.media,t=null;if(e&&e.readyState>1&&!1===e.seeking){var n=e.currentTime;if(s.BufferHelper.isBuffered(e,n)?t=this.getAppendedFrag(n):s.BufferHelper.isBuffered(e,n+.1)&&(t=this.getAppendedFrag(n+.1)),t){var r=this.fragPlaying,i=t.level;r&&t.sn===r.sn&&r.level===i&&t.urlId===r.urlId||(this.hls.trigger(a.Events.FRAG_CHANGED,{frag:t}),r&&r.level===i||this.hls.trigger(a.Events.LEVEL_SWITCHED,{level:i}),this.fragPlaying=t)}}},(y=[{key:"nextLevel",get:function(){var e=this.nextBufferedFrag;return e?e.level:-1}},{key:"currentLevel",get:function(){var e=this.media;if(e){var t=this.getAppendedFrag(e.currentTime);if(t)return t.level}return-1}},{key:"nextBufferedFrag",get:function(){var e=this.media;if(e){var t=this.getAppendedFrag(e.currentTime);return this.followingBufferedFrag(t)}return null}},{key:"forceStartLoad",get:function(){return this._forceStartLoad}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(v.prototype,y),v}(i.default)},"./src/controller/subtitle-stream-controller.ts":function(e,t,n){n.r(t),n.d(t,"SubtitleStreamController",(function(){return d}));var r=n("./src/events.ts"),i=n("./src/utils/buffer-helper.ts"),o=n("./src/controller/fragment-finders.ts"),a=n("./src/utils/discontinuities.ts"),s=n("./src/controller/level-helper.ts"),u=n("./src/controller/fragment-tracker.ts"),l=n("./src/controller/base-stream-controller.ts"),c=n("./src/types/loader.ts"),f=n("./src/types/level.ts");function p(e,t){return p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},p(e,t)}var d=function(e){var t,n;function d(t,n){var r;return(r=e.call(this,t,n,"[subtitle-stream-controller]")||this).levels=[],r.currentTrackId=-1,r.tracksBuffered=[],r.mainDetails=null,r._registerListeners(),r}n=e,(t=d).prototype=Object.create(n.prototype),t.prototype.constructor=t,p(t,n);var h,g=d.prototype;return g.onHandlerDestroying=function(){this._unregisterListeners(),this.mainDetails=null},g._registerListeners=function(){var e=this.hls;e.on(r.Events.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(r.Events.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(r.Events.MANIFEST_LOADING,this.onManifestLoading,this),e.on(r.Events.LEVEL_LOADED,this.onLevelLoaded,this),e.on(r.Events.ERROR,this.onError,this),e.on(r.Events.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.on(r.Events.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),e.on(r.Events.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.on(r.Events.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),e.on(r.Events.BUFFER_FLUSHING,this.onBufferFlushing,this)},g._unregisterListeners=function(){var e=this.hls;e.off(r.Events.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(r.Events.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(r.Events.MANIFEST_LOADING,this.onManifestLoading,this),e.off(r.Events.LEVEL_LOADED,this.onLevelLoaded,this),e.off(r.Events.ERROR,this.onError,this),e.off(r.Events.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.off(r.Events.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),e.off(r.Events.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.off(r.Events.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),e.off(r.Events.BUFFER_FLUSHING,this.onBufferFlushing,this)},g.startLoad=function(){this.stopLoad(),this.state=l.State.IDLE,this.setInterval(500),this.tick()},g.onManifestLoading=function(){this.mainDetails=null,this.fragmentTracker.removeAllFragments()},g.onLevelLoaded=function(e,t){this.mainDetails=t.details},g.onSubtitleFragProcessed=function(e,t){var n=t.frag,r=t.success;if(this.fragPrevious=n,this.state=l.State.IDLE,r){var i=this.tracksBuffered[this.currentTrackId];if(i){for(var o,a=n.start,s=0;s<i.length;s++)if(a>=i[s].start&&a<=i[s].end){o=i[s];break}var u=n.start+n.duration;o?o.end=u:(o={start:a,end:u},i.push(o)),this.fragmentTracker.fragBuffered(n)}}},g.onBufferFlushing=function(e,t){var n=t.startOffset,r=t.endOffset;if(0===n&&r!==Number.POSITIVE_INFINITY){var i=this.currentTrackId,o=this.levels;if(!o.length||!o[i]||!o[i].details)return;var a=r-o[i].details.targetduration;if(a<=0)return;t.endOffsetSubtitles=Math.max(0,a),this.tracksBuffered.forEach((function(e){for(var t=0;t<e.length;)if(e[t].end<=a)e.shift();else{if(!(e[t].start<a))break;e[t].start=a,t++}})),this.fragmentTracker.removeFragmentsInRange(n,a,c.PlaylistLevelType.SUBTITLE)}},g.onError=function(e,t){var n,r=t.frag;r&&r.type===c.PlaylistLevelType.SUBTITLE&&(null!==(n=this.fragCurrent)&&void 0!==n&&n.loader&&this.fragCurrent.loader.abort(),this.state=l.State.IDLE)},g.onSubtitleTracksUpdated=function(e,t){var n=this,r=t.subtitleTracks;this.tracksBuffered=[],this.levels=r.map((function(e){return new f.Level(e)})),this.fragmentTracker.removeAllFragments(),this.fragPrevious=null,this.levels.forEach((function(e){n.tracksBuffered[e.id]=[]})),this.mediaBuffer=null},g.onSubtitleTrackSwitch=function(e,t){if(this.currentTrackId=t.id,this.levels.length&&-1!==this.currentTrackId){var n=this.levels[this.currentTrackId];null!=n&&n.details?this.mediaBuffer=this.mediaBufferTimeRanges:this.mediaBuffer=null,n&&this.setInterval(500)}else this.clearInterval()},g.onSubtitleTrackLoaded=function(e,t){var n,r=t.details,i=t.id,u=this.currentTrackId,c=this.levels;if(c.length){var f=c[u];if(!(i>=c.length||i!==u)&&f){if(this.mediaBuffer=this.mediaBufferTimeRanges,r.live||null!==(n=f.details)&&void 0!==n&&n.live){var p=this.mainDetails;if(r.deltaUpdateFailed||!p)return;var d=p.fragments[0];f.details?0===this.alignPlaylists(r,f.details)&&d&&Object(s.addSliding)(r,d.start):r.hasProgramDateTime&&p.hasProgramDateTime?Object(a.alignMediaPlaylistByPDT)(r,p):d&&Object(s.addSliding)(r,d.start)}f.details=r,this.levelLastLoaded=i,this.tick(),r.live&&!this.fragCurrent&&this.media&&this.state===l.State.IDLE&&(Object(o.findFragmentByPTS)(null,r.fragments,this.media.currentTime,0)||(this.warn("Subtitle playlist not aligned with playback"),f.details=void 0))}}},g._handleFragmentLoadComplete=function(e){var t=e.frag,n=e.payload,i=t.decryptdata,o=this.hls;if(!this.fragContextChanged(t)&&n&&n.byteLength>0&&i&&i.key&&i.iv&&"AES-128"===i.method){var a=performance.now();this.decrypter.webCryptoDecrypt(new Uint8Array(n),i.key.buffer,i.iv.buffer).then((function(e){var n=performance.now();o.trigger(r.Events.FRAG_DECRYPTED,{frag:t,payload:e,stats:{tstart:a,tdecrypt:n}})}))}},g.doTick=function(){if(this.media){if(this.state===l.State.IDLE){var e,t=this.currentTrackId,n=this.levels;if(!n.length||!n[t]||!n[t].details)return;var r=n[t].details,a=r.targetduration,s=this.config,c=this.media,f=i.BufferHelper.bufferedInfo(this.mediaBufferTimeRanges,c.currentTime-a,s.maxBufferHole),p=f.end;if(f.len>this.getMaxBufferLength()+a)return;console.assert(r,"Subtitle track details are defined on idle subtitle stream controller tick");var d,h=r.fragments,g=h.length,m=r.edge,v=this.fragPrevious;if(p<m){var y=s.maxFragLookUpTolerance;!(d=Object(o.findFragmentByPTS)(v,h,p,y))&&v&&v.start<h[0].start&&(d=h[0])}else d=h[g-1];null!==(e=d)&&void 0!==e&&e.encrypted?this.loadKey(d,r):d&&this.fragmentTracker.getState(d)===u.FragmentState.NOT_LOADED&&this.loadFragment(d,r,p)}}else this.state=l.State.IDLE},g.loadFragment=function(t,n,r){this.fragCurrent=t,e.prototype.loadFragment.call(this,t,n,r)},(h=[{key:"mediaBufferTimeRanges",get:function(){return this.tracksBuffered[this.currentTrackId]||[]}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(d.prototype,h),d}(l.default)},"./src/controller/subtitle-track-controller.ts":function(e,t,n){n.r(t);var r=n("./src/events.ts"),i=n("./src/utils/texttrack-utils.ts"),o=n("./src/controller/base-playlist-controller.ts"),a=n("./src/types/loader.ts");function s(e,t){return s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},s(e,t)}var u=function(e){var t,n;function o(t){var n;return(n=e.call(this,t,"[subtitle-track-controller]")||this).media=null,n.tracks=[],n.groupId=null,n.tracksInGroup=[],n.trackId=-1,n.selectDefaultTrack=!0,n.queuedDefaultTrack=-1,n.trackChangeListener=function(){return n.onTextTracksChanged()},n.asyncPollTrackChange=function(){return n.pollTrackChange(0)},n.useTextTrackPolling=!1,n.subtitlePollingInterval=-1,n.subtitleDisplay=!0,n.registerListeners(),n}n=e,(t=o).prototype=Object.create(n.prototype),t.prototype.constructor=t,s(t,n);var u,c=o.prototype;return c.destroy=function(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.trackChangeListener=this.asyncPollTrackChange=null,e.prototype.destroy.call(this)},c.registerListeners=function(){var e=this.hls;e.on(r.Events.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(r.Events.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(r.Events.MANIFEST_LOADING,this.onManifestLoading,this),e.on(r.Events.MANIFEST_PARSED,this.onManifestParsed,this),e.on(r.Events.LEVEL_LOADING,this.onLevelLoading,this),e.on(r.Events.LEVEL_SWITCHING,this.onLevelSwitching,this),e.on(r.Events.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.on(r.Events.ERROR,this.onError,this)},c.unregisterListeners=function(){var e=this.hls;e.off(r.Events.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(r.Events.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(r.Events.MANIFEST_LOADING,this.onManifestLoading,this),e.off(r.Events.MANIFEST_PARSED,this.onManifestParsed,this),e.off(r.Events.LEVEL_LOADING,this.onLevelLoading,this),e.off(r.Events.LEVEL_SWITCHING,this.onLevelSwitching,this),e.off(r.Events.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.off(r.Events.ERROR,this.onError,this)},c.onMediaAttached=function(e,t){this.media=t.media,this.media&&(this.queuedDefaultTrack>-1&&(this.subtitleTrack=this.queuedDefaultTrack,this.queuedDefaultTrack=-1),this.useTextTrackPolling=!(this.media.textTracks&&"onchange"in this.media.textTracks),this.useTextTrackPolling?this.pollTrackChange(500):this.media.textTracks.addEventListener("change",this.asyncPollTrackChange))},c.pollTrackChange=function(e){self.clearInterval(this.subtitlePollingInterval),this.subtitlePollingInterval=self.setInterval(this.trackChangeListener,e)},c.onMediaDetaching=function(){this.media&&(self.clearInterval(this.subtitlePollingInterval),this.useTextTrackPolling||this.media.textTracks.removeEventListener("change",this.asyncPollTrackChange),this.trackId>-1&&(this.queuedDefaultTrack=this.trackId),l(this.media.textTracks).forEach((function(e){Object(i.clearCurrentCues)(e)})),this.subtitleTrack=-1,this.media=null)},c.onManifestLoading=function(){this.tracks=[],this.groupId=null,this.tracksInGroup=[],this.trackId=-1,this.selectDefaultTrack=!0},c.onManifestParsed=function(e,t){this.tracks=t.subtitleTracks},c.onSubtitleTrackLoaded=function(e,t){var n=t.id,r=t.details,i=this.trackId,o=this.tracksInGroup[i];if(o){var a=o.details;o.details=t.details,this.log("subtitle track "+n+" loaded ["+r.startSN+"-"+r.endSN+"]"),n===this.trackId&&(this.retryCount=0,this.playlistLoaded(n,t,a))}else this.warn("Invalid subtitle track id "+n)},c.onLevelLoading=function(e,t){this.switchLevel(t.level)},c.onLevelSwitching=function(e,t){this.switchLevel(t.level)},c.switchLevel=function(e){var t=this.hls.levels[e];if(null!=t&&t.textGroupIds){var n=t.textGroupIds[t.urlId];if(this.groupId!==n){var i=this.tracksInGroup?this.tracksInGroup[this.trackId]:void 0,o=this.tracks.filter((function(e){return!n||e.groupId===n}));this.tracksInGroup=o;var a=this.findTrackId(null==i?void 0:i.name)||this.findTrackId();this.groupId=n;var s={subtitleTracks:o};this.log("Updating subtitle tracks, "+o.length+' track(s) found in "'+n+'" group-id'),this.hls.trigger(r.Events.SUBTITLE_TRACKS_UPDATED,s),-1!==a&&this.setSubtitleTrack(a,i)}}},c.findTrackId=function(e){for(var t=this.tracksInGroup,n=0;n<t.length;n++){var r=t[n];if((!this.selectDefaultTrack||r.default)&&(!e||e===r.name))return r.id}return-1},c.onError=function(t,n){e.prototype.onError.call(this,t,n),!n.fatal&&n.context&&n.context.type===a.PlaylistContextType.SUBTITLE_TRACK&&n.context.id===this.trackId&&n.context.groupId===this.groupId&&this.retryLoadingOrFail(n)},c.loadPlaylist=function(e){var t=this.tracksInGroup[this.trackId];if(this.shouldLoadTrack(t)){var n=t.id,i=t.groupId,o=t.url;if(e)try{o=e.addDirectives(o)}catch(e){this.warn("Could not construct new URL with HLS Delivery Directives: "+e)}this.log("Loading subtitle playlist for id "+n),this.hls.trigger(r.Events.SUBTITLE_TRACK_LOADING,{url:o,id:n,groupId:i,deliveryDirectives:e||null})}},c.toggleTrackModes=function(e){var t=this,n=this.media,r=this.subtitleDisplay,i=this.trackId;if(n){var o=l(n.textTracks),a=o.filter((function(e){return e.groupId===t.groupId}));if(-1===e)[].slice.call(o).forEach((function(e){e.mode="disabled"}));else{var s=a[i];s&&(s.mode="disabled")}var u=a[e];u&&(u.mode=r?"showing":"hidden")}},c.setSubtitleTrack=function(e,t){var n,i=this.tracksInGroup;if(this.media){if(this.trackId!==e&&this.toggleTrackModes(e),!(this.trackId===e&&(-1===e||null!==(n=i[e])&&void 0!==n&&n.details)||e<-1||e>=i.length)){this.clearTimer();var o=i[e];if(this.log("Switching to subtitle track "+e),this.trackId=e,o){var a=o.id,s=o.groupId,u=void 0===s?"":s,l=o.name,c=o.type,f=o.url;this.hls.trigger(r.Events.SUBTITLE_TRACK_SWITCH,{id:a,groupId:u,name:l,type:c,url:f});var p=this.switchParams(o.url,null==t?void 0:t.details);this.loadPlaylist(p)}else this.hls.trigger(r.Events.SUBTITLE_TRACK_SWITCH,{id:e})}}else this.queuedDefaultTrack=e},c.onTextTracksChanged=function(){if(this.useTextTrackPolling||self.clearInterval(this.subtitlePollingInterval),this.media&&this.hls.config.renderTextTracksNatively){for(var e=-1,t=l(this.media.textTracks),n=0;n<t.length;n++)if("hidden"===t[n].mode)e=n;else if("showing"===t[n].mode){e=n;break}this.subtitleTrack!==e&&(this.subtitleTrack=e)}},(u=[{key:"subtitleTracks",get:function(){return this.tracksInGroup}},{key:"subtitleTrack",get:function(){return this.trackId},set:function(e){this.selectDefaultTrack=!1;var t=this.tracksInGroup?this.tracksInGroup[this.trackId]:void 0;this.setSubtitleTrack(e,t)}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(o.prototype,u),o}(o.default);function l(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];"subtitles"===r.kind&&r.label&&t.push(e[n])}return t}t.default=u},"./src/controller/timeline-controller.ts":function(e,t,n){n.r(t),n.d(t,"TimelineController",(function(){return p}));var r=n("./src/polyfills/number.ts"),i=n("./src/events.ts"),o=n("./src/utils/cea-608-parser.ts"),a=n("./src/utils/output-filter.ts"),s=n("./src/utils/webvtt-parser.ts"),u=n("./src/utils/texttrack-utils.ts"),l=n("./src/utils/imsc1-ttml-parser.ts"),c=n("./src/types/loader.ts"),f=n("./src/utils/logger.ts"),p=function(){function e(e){if(this.hls=void 0,this.media=null,this.config=void 0,this.enabled=!0,this.Cues=void 0,this.textTracks=[],this.tracks=[],this.initPTS=[],this.timescale=[],this.unparsedVttFrags=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.cea608Parser1=void 0,this.cea608Parser2=void 0,this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs={ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!1}},this.captionsProperties=void 0,this.hls=e,this.config=e.config,this.Cues=e.config.cueHandler,this.captionsProperties={textTrack1:{label:this.config.captionsTextTrack1Label,languageCode:this.config.captionsTextTrack1LanguageCode},textTrack2:{label:this.config.captionsTextTrack2Label,languageCode:this.config.captionsTextTrack2LanguageCode},textTrack3:{label:this.config.captionsTextTrack3Label,languageCode:this.config.captionsTextTrack3LanguageCode},textTrack4:{label:this.config.captionsTextTrack4Label,languageCode:this.config.captionsTextTrack4LanguageCode}},this.config.enableCEA708Captions){var t=new a.default(this,"textTrack1"),n=new a.default(this,"textTrack2"),r=new a.default(this,"textTrack3"),s=new a.default(this,"textTrack4");this.cea608Parser1=new o.default(1,t,n),this.cea608Parser2=new o.default(3,r,s)}e.on(i.Events.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(i.Events.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(i.Events.MANIFEST_LOADING,this.onManifestLoading,this),e.on(i.Events.MANIFEST_LOADED,this.onManifestLoaded,this),e.on(i.Events.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.on(i.Events.FRAG_LOADING,this.onFragLoading,this),e.on(i.Events.FRAG_LOADED,this.onFragLoaded,this),e.on(i.Events.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),e.on(i.Events.FRAG_DECRYPTED,this.onFragDecrypted,this),e.on(i.Events.INIT_PTS_FOUND,this.onInitPtsFound,this),e.on(i.Events.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),e.on(i.Events.BUFFER_FLUSHING,this.onBufferFlushing,this)}var t=e.prototype;return t.destroy=function(){var e=this.hls;e.off(i.Events.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(i.Events.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(i.Events.MANIFEST_LOADING,this.onManifestLoading,this),e.off(i.Events.MANIFEST_LOADED,this.onManifestLoaded,this),e.off(i.Events.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.off(i.Events.FRAG_LOADING,this.onFragLoading,this),e.off(i.Events.FRAG_LOADED,this.onFragLoaded,this),e.off(i.Events.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),e.off(i.Events.FRAG_DECRYPTED,this.onFragDecrypted,this),e.off(i.Events.INIT_PTS_FOUND,this.onInitPtsFound,this),e.off(i.Events.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),e.off(i.Events.BUFFER_FLUSHING,this.onBufferFlushing,this),this.hls=this.config=this.cea608Parser1=this.cea608Parser2=null},t.addCues=function(e,t,n,r,o){for(var a,s,u,l,c=!1,f=o.length;f--;){var p=o[f],d=(a=p[0],s=p[1],u=t,l=n,Math.min(s,l)-Math.max(a,u));if(d>=0&&(p[0]=Math.min(p[0],t),p[1]=Math.max(p[1],n),c=!0,d/(n-t)>.5))return}if(c||o.push([t,n]),this.config.renderTextTracksNatively){var h=this.captionsTracks[e];this.Cues.newCue(h,t,n,r)}else{var g=this.Cues.newCue(null,t,n,r);this.hls.trigger(i.Events.CUES_PARSED,{type:"captions",cues:g,track:e})}},t.onInitPtsFound=function(e,t){var n=this,r=t.frag,o=t.id,a=t.initPTS,s=t.timescale,u=this.unparsedVttFrags;"main"===o&&(this.initPTS[r.cc]=a,this.timescale[r.cc]=s),u.length&&(this.unparsedVttFrags=[],u.forEach((function(e){n.onFragLoaded(i.Events.FRAG_LOADED,e)})))},t.getExistingTrack=function(e){var t=this.media;if(t)for(var n=0;n<t.textTracks.length;n++){var r=t.textTracks[n];if(r[e])return r}return null},t.createCaptionsTrack=function(e){this.config.renderTextTracksNatively?this.createNativeTrack(e):this.createNonNativeTrack(e)},t.createNativeTrack=function(e){if(!this.captionsTracks[e]){var t=this.captionsProperties,n=this.captionsTracks,r=this.media,i=t[e],o=i.label,a=i.languageCode,s=this.getExistingTrack(e);if(s)n[e]=s,Object(u.clearCurrentCues)(n[e]),Object(u.sendAddTrackEvent)(n[e],r);else{var l=this.createTextTrack("captions",o,a);l&&(l[e]=!0,n[e]=l)}}},t.createNonNativeTrack=function(e){if(!this.nonNativeCaptionsTracks[e]){var t=this.captionsProperties[e];if(t){var n={_id:e,label:t.label,kind:"captions",default:!!t.media&&!!t.media.default,closedCaptions:t.media};this.nonNativeCaptionsTracks[e]=n,this.hls.trigger(i.Events.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:[n]})}}},t.createTextTrack=function(e,t,n){var r=this.media;if(r)return r.addTextTrack(e,t,n)},t.onMediaAttaching=function(e,t){this.media=t.media,this._cleanTracks()},t.onMediaDetaching=function(){var e=this.captionsTracks;Object.keys(e).forEach((function(t){Object(u.clearCurrentCues)(e[t]),delete e[t]})),this.nonNativeCaptionsTracks={}},t.onManifestLoading=function(){this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs={ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!1}},this._cleanTracks(),this.tracks=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.textTracks=[],this.unparsedVttFrags=this.unparsedVttFrags||[],this.initPTS=[],this.timescale=[],this.cea608Parser1&&this.cea608Parser2&&(this.cea608Parser1.reset(),this.cea608Parser2.reset())},t._cleanTracks=function(){var e=this.media;if(e){var t=e.textTracks;if(t)for(var n=0;n<t.length;n++)Object(u.clearCurrentCues)(t[n])}},t.onSubtitleTracksUpdated=function(e,t){var n=this;this.textTracks=[];var r=t.subtitleTracks||[],o=r.some((function(e){return e.textCodec===l.IMSC1_CODEC}));if(this.config.enableWebVTT||o&&this.config.enableIMSC1){var a=this.tracks&&r&&this.tracks.length===r.length;if(this.tracks=r||[],this.config.renderTextTracksNatively){var s=this.media?this.media.textTracks:[];this.tracks.forEach((function(e,t){var r;if(t<s.length){for(var i=null,o=0;o<s.length;o++)if(d(s[o],e)){i=s[o];break}i&&(r=i)}r?Object(u.clearCurrentCues)(r):(r=n.createTextTrack("subtitles",e.name,e.lang))&&(r.mode="disabled"),r&&(r.groupId=e.groupId,n.textTracks.push(r))}))}else if(!a&&this.tracks&&this.tracks.length){var c=this.tracks.map((function(e){return{label:e.name,kind:e.type.toLowerCase(),default:e.default,subtitleTrack:e}}));this.hls.trigger(i.Events.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:c})}}},t.onManifestLoaded=function(e,t){var n=this;this.config.enableCEA708Captions&&t.captions&&t.captions.forEach((function(e){var t=/(?:CC|SERVICE)([1-4])/.exec(e.instreamId);if(t){var r="textTrack"+t[1],i=n.captionsProperties[r];i&&(i.label=e.name,e.lang&&(i.languageCode=e.lang),i.media=e)}}))},t.onFragLoading=function(e,t){var n=this.cea608Parser1,r=this.cea608Parser2,i=this.lastSn,o=this.lastPartIndex;if(this.enabled&&n&&r&&t.frag.type===c.PlaylistLevelType.MAIN){var a,s,u=t.frag.sn,l=null!=(a=null==t||null===(s=t.part)||void 0===s?void 0:s.index)?a:-1;u===i+1||u===i&&l===o+1||(n.reset(),r.reset()),this.lastSn=u,this.lastPartIndex=l}},t.onFragLoaded=function(e,t){var n=t.frag,o=t.payload,a=this.initPTS,s=this.unparsedVttFrags;if(n.type===c.PlaylistLevelType.SUBTITLE)if(o.byteLength){if(!Object(r.isFiniteNumber)(a[n.cc]))return s.push(t),void(a.length&&this.hls.trigger(i.Events.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:n,error:new Error("Missing initial subtitle PTS")}));var u=n.decryptdata,f="stats"in t;if(null==u||null==u.key||"AES-128"!==u.method||f){var p=this.tracks[n.level],d=this.vttCCs;d[n.cc]||(d[n.cc]={start:n.start,prevCC:this.prevCC,new:!0},this.prevCC=n.cc),p&&p.textCodec===l.IMSC1_CODEC?this._parseIMSC1(n,o):this._parseVTTs(n,o,d)}}else this.hls.trigger(i.Events.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:n,error:new Error("Empty subtitle payload")})},t._parseIMSC1=function(e,t){var n=this,r=this.hls;Object(l.parseIMSC1)(t,this.initPTS[e.cc],this.timescale[e.cc],(function(t){n._appendCues(t,e.level),r.trigger(i.Events.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:e})}),(function(t){f.logger.log("Failed to parse IMSC1: "+t),r.trigger(i.Events.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:e,error:t})}))},t._parseVTTs=function(e,t,n){var r=this,o=this.hls;Object(s.parseWebVTT)(t,this.initPTS[e.cc],this.timescale[e.cc],n,e.cc,e.start,(function(t){r._appendCues(t,e.level),o.trigger(i.Events.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:e})}),(function(n){r._fallbackToIMSC1(e,t),f.logger.log("Failed to parse VTT cue: "+n),o.trigger(i.Events.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:e,error:n})}))},t._fallbackToIMSC1=function(e,t){var n=this,r=this.tracks[e.level];r.textCodec||Object(l.parseIMSC1)(t,this.initPTS[e.cc],this.timescale[e.cc],(function(){r.textCodec=l.IMSC1_CODEC,n._parseIMSC1(e,t)}),(function(){r.textCodec="wvtt"}))},t._appendCues=function(e,t){var n=this.hls;if(this.config.renderTextTracksNatively){var r=this.textTracks[t];if("disabled"===r.mode)return;e.forEach((function(e){return Object(u.addCueToTrack)(r,e)}))}else{var o=this.tracks[t].default?"default":"subtitles"+t;n.trigger(i.Events.CUES_PARSED,{type:"subtitles",cues:e,track:o})}},t.onFragDecrypted=function(e,t){var n=t.frag;if(n.type===c.PlaylistLevelType.SUBTITLE){if(!Object(r.isFiniteNumber)(this.initPTS[n.cc]))return void this.unparsedVttFrags.push(t);this.onFragLoaded(i.Events.FRAG_LOADED,t)}},t.onSubtitleTracksCleared=function(){this.tracks=[],this.captionsTracks={}},t.onFragParsingUserdata=function(e,t){var n=this.cea608Parser1,r=this.cea608Parser2;if(this.enabled&&n&&r)for(var i=0;i<t.samples.length;i++){var o=t.samples[i].bytes;if(o){var a=this.extractCea608Data(o);n.addData(t.samples[i].pts,a[0]),r.addData(t.samples[i].pts,a[1])}}},t.onBufferFlushing=function(e,t){var n=t.startOffset,r=t.endOffset,i=t.endOffsetSubtitles,o=t.type,a=this.media;if(a&&!(a.currentTime<r)){if(!o||"video"===o){var s=this.captionsTracks;Object.keys(s).forEach((function(e){return Object(u.removeCuesInRange)(s[e],n,r)}))}if(this.config.renderTextTracksNatively&&0===n&&void 0!==i){var l=this.textTracks;Object.keys(l).forEach((function(e){return Object(u.removeCuesInRange)(l[e],n,i)}))}}},t.extractCea608Data=function(e){for(var t=31&e[0],n=2,r=[[],[]],i=0;i<t;i++){var o=e[n++],a=127&e[n++],s=127&e[n++],u=3&o;0===a&&0===s||0!=(4&o)&&(0!==u&&1!==u||(r[u].push(a),r[u].push(s)))}return r},e}();function d(e,t){return e&&e.label===t.name&&!(e.textTrack1||e.textTrack2)}},"./src/crypt/aes-crypto.ts":function(e,t,n){n.r(t),n.d(t,"default",(function(){return r}));var r=function(){function e(e,t){this.subtle=void 0,this.aesIV=void 0,this.subtle=e,this.aesIV=t}return e.prototype.decrypt=function(e,t){return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},t,e)},e}()},"./src/crypt/aes-decryptor.ts":function(e,t,n){n.r(t),n.d(t,"removePadding",(function(){return i})),n.d(t,"default",(function(){return o}));var r=n("./src/utils/typed-array.ts");function i(e){var t=e.byteLength,n=t&&new DataView(e.buffer).getUint8(t-1);return n?Object(r.sliceUint8)(e,0,t-n):e}var o=function(){function e(){this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.ksRows=0,this.keySize=0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.initTable()}var t=e.prototype;return t.uint8ArrayToUint32Array_=function(e){for(var t=new DataView(e),n=new Uint32Array(4),r=0;r<4;r++)n[r]=t.getUint32(4*r);return n},t.initTable=function(){var e=this.sBox,t=this.invSBox,n=this.subMix,r=n[0],i=n[1],o=n[2],a=n[3],s=this.invSubMix,u=s[0],l=s[1],c=s[2],f=s[3],p=new Uint32Array(256),d=0,h=0,g=0;for(g=0;g<256;g++)p[g]=g<128?g<<1:g<<1^283;for(g=0;g<256;g++){var m=h^h<<1^h<<2^h<<3^h<<4;m=m>>>8^255&m^99,e[d]=m,t[m]=d;var v=p[d],y=p[v],b=p[y],w=257*p[m]^16843008*m;r[d]=w<<24|w>>>8,i[d]=w<<16|w>>>16,o[d]=w<<8|w>>>24,a[d]=w,w=16843009*b^65537*y^257*v^16843008*d,u[m]=w<<24|w>>>8,l[m]=w<<16|w>>>16,c[m]=w<<8|w>>>24,f[m]=w,d?(d=v^p[p[p[b^v]]],h^=p[p[h]]):d=h=1}},t.expandKey=function(e){for(var t=this.uint8ArrayToUint32Array_(e),n=!0,r=0;r<t.length&&n;)n=t[r]===this.key[r],r++;if(!n){this.key=t;var i=this.keySize=t.length;if(4!==i&&6!==i&&8!==i)throw new Error("Invalid aes key size="+i);var o,a,s,u,l=this.ksRows=4*(i+6+1),c=this.keySchedule=new Uint32Array(l),f=this.invKeySchedule=new Uint32Array(l),p=this.sBox,d=this.rcon,h=this.invSubMix,g=h[0],m=h[1],v=h[2],y=h[3];for(o=0;o<l;o++)o<i?s=c[o]=t[o]:(u=s,o%i==0?(u=p[(u=u<<8|u>>>24)>>>24]<<24|p[u>>>16&255]<<16|p[u>>>8&255]<<8|p[255&u],u^=d[o/i|0]<<24):i>6&&o%i==4&&(u=p[u>>>24]<<24|p[u>>>16&255]<<16|p[u>>>8&255]<<8|p[255&u]),c[o]=s=(c[o-i]^u)>>>0);for(a=0;a<l;a++)o=l-a,u=3&a?c[o]:c[o-4],f[a]=a<4||o<=4?u:g[p[u>>>24]]^m[p[u>>>16&255]]^v[p[u>>>8&255]]^y[p[255&u]],f[a]=f[a]>>>0}},t.networkToHostOrderSwap=function(e){return e<<24|(65280&e)<<8|(16711680&e)>>8|e>>>24},t.decrypt=function(e,t,n){for(var r,i,o,a,s,u,l,c,f,p,d,h,g,m,v=this.keySize+6,y=this.invKeySchedule,b=this.invSBox,w=this.invSubMix,A=w[0],_=w[1],k=w[2],x=w[3],E=this.uint8ArrayToUint32Array_(n),C=E[0],T=E[1],S=E[2],R=E[3],L=new Int32Array(e),P=new Int32Array(L.length),O=this.networkToHostOrderSwap;t<L.length;){for(f=O(L[t]),p=O(L[t+1]),d=O(L[t+2]),h=O(L[t+3]),s=f^y[0],u=h^y[1],l=d^y[2],c=p^y[3],g=4,m=1;m<v;m++)r=A[s>>>24]^_[u>>16&255]^k[l>>8&255]^x[255&c]^y[g],i=A[u>>>24]^_[l>>16&255]^k[c>>8&255]^x[255&s]^y[g+1],o=A[l>>>24]^_[c>>16&255]^k[s>>8&255]^x[255&u]^y[g+2],a=A[c>>>24]^_[s>>16&255]^k[u>>8&255]^x[255&l]^y[g+3],s=r,u=i,l=o,c=a,g+=4;r=b[s>>>24]<<24^b[u>>16&255]<<16^b[l>>8&255]<<8^b[255&c]^y[g],i=b[u>>>24]<<24^b[l>>16&255]<<16^b[c>>8&255]<<8^b[255&s]^y[g+1],o=b[l>>>24]<<24^b[c>>16&255]<<16^b[s>>8&255]<<8^b[255&u]^y[g+2],a=b[c>>>24]<<24^b[s>>16&255]<<16^b[u>>8&255]<<8^b[255&l]^y[g+3],P[t]=O(r^C),P[t+1]=O(a^T),P[t+2]=O(o^S),P[t+3]=O(i^R),C=f,T=p,S=d,R=h,t+=4}return P.buffer},e}()},"./src/crypt/decrypter.ts":function(e,t,n){n.r(t),n.d(t,"default",(function(){return l}));var r=n("./src/crypt/aes-crypto.ts"),i=n("./src/crypt/fast-aes-key.ts"),o=n("./src/crypt/aes-decryptor.ts"),a=n("./src/utils/logger.ts"),s=n("./src/utils/mp4-tools.ts"),u=n("./src/utils/typed-array.ts"),l=function(){function e(e,t,n){var r=(void 0===n?{}:n).removePKCS7Padding,i=void 0===r||r;if(this.logEnabled=!0,this.observer=void 0,this.config=void 0,this.removePKCS7Padding=void 0,this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null,this.observer=e,this.config=t,this.removePKCS7Padding=i,i)try{var o=self.crypto;o&&(this.subtle=o.subtle||o.webkitSubtle)}catch(e){}null===this.subtle&&(this.config.enableSoftwareAES=!0)}var t=e.prototype;return t.destroy=function(){this.observer=null},t.isSync=function(){return this.config.enableSoftwareAES},t.flush=function(){var e=this.currentResult;if(e){var t=new Uint8Array(e);return this.reset(),this.removePKCS7Padding?Object(o.removePadding)(t):t}this.reset()},t.reset=function(){this.currentResult=null,this.currentIV=null,this.remainderData=null,this.softwareDecrypter&&(this.softwareDecrypter=null)},t.decrypt=function(e,t,n,r){if(this.config.enableSoftwareAES){this.softwareDecrypt(new Uint8Array(e),t,n);var i=this.flush();i&&r(i.buffer)}else this.webCryptoDecrypt(new Uint8Array(e),t,n).then(r)},t.softwareDecrypt=function(e,t,n){var r=this.currentIV,i=this.currentResult,a=this.remainderData;this.logOnce("JS AES decrypt"),a&&(e=Object(s.appendUint8Array)(a,e),this.remainderData=null);var l=this.getValidChunk(e);if(!l.length)return null;r&&(n=r);var c=this.softwareDecrypter;c||(c=this.softwareDecrypter=new o.default),c.expandKey(t);var f=i;return this.currentResult=c.decrypt(l.buffer,0,n),this.currentIV=Object(u.sliceUint8)(l,-16).buffer,f||null},t.webCryptoDecrypt=function(e,t,n){var o=this,a=this.subtle;return this.key===t&&this.fastAesKey||(this.key=t,this.fastAesKey=new i.default(a,t)),this.fastAesKey.expandKey().then((function(t){return a?new r.default(a,n).decrypt(e.buffer,t):Promise.reject(new Error("web crypto not initialized"))})).catch((function(r){return o.onWebCryptoError(r,e,t,n)}))},t.onWebCryptoError=function(e,t,n,r){return a.logger.warn("[decrypter.ts]: WebCrypto Error, disable WebCrypto API:",e),this.config.enableSoftwareAES=!0,this.logEnabled=!0,this.softwareDecrypt(t,n,r)},t.getValidChunk=function(e){var t=e,n=e.length-e.length%16;return n!==e.length&&(t=Object(u.sliceUint8)(e,0,n),this.remainderData=Object(u.sliceUint8)(e,n)),t},t.logOnce=function(e){this.logEnabled&&(a.logger.log("[decrypter.ts]: "+e),this.logEnabled=!1)},e}()},"./src/crypt/fast-aes-key.ts":function(e,t,n){n.r(t),n.d(t,"default",(function(){return r}));var r=function(){function e(e,t){this.subtle=void 0,this.key=void 0,this.subtle=e,this.key=t}return e.prototype.expandKey=function(){return this.subtle.importKey("raw",this.key,{name:"AES-CBC"},!1,["encrypt","decrypt"])},e}()},"./src/demux/aacdemuxer.ts":function(e,t,n){n.r(t);var r=n("./src/demux/base-audio-demuxer.ts"),i=n("./src/demux/adts.ts"),o=n("./src/utils/logger.ts"),a=n("./src/demux/id3.ts");function s(e,t){return s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},s(e,t)}var u=function(e){var t,n;function r(t,n){var r;return(r=e.call(this)||this).observer=void 0,r.config=void 0,r.observer=t,r.config=n,r}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,s(t,n);var u=r.prototype;return u.resetInitSegment=function(t,n,r){e.prototype.resetInitSegment.call(this,t,n,r),this._audioTrack={container:"audio/adts",type:"audio",id:2,pid:-1,sequenceNumber:0,isAAC:!0,samples:[],manifestCodec:t,duration:r,inputTimeScale:9e4,dropped:0}},r.probe=function(e){if(!e)return!1;for(var t=(a.getID3Data(e,0)||[]).length,n=e.length;t<n;t++)if(i.probe(e,t))return o.logger.log("ADTS sync word found !"),!0;return!1},u.canParse=function(e,t){return i.canParse(e,t)},u.appendFrame=function(e,t,n){i.initTrackConfig(e,this.observer,t,n,e.manifestCodec);var r=i.appendFrame(e,t,n,this.initPTS,this.frameIndex);if(r&&0===r.missing)return r},r}(r.default);u.minProbeByteLength=9,t.default=u},"./src/demux/adts.ts":function(e,t,n){n.r(t),n.d(t,"getAudioConfig",(function(){return a})),n.d(t,"isHeaderPattern",(function(){return s})),n.d(t,"getHeaderLength",(function(){return u})),n.d(t,"getFullFrameLength",(function(){return l})),n.d(t,"canGetFrameLength",(function(){return c})),n.d(t,"isHeader",(function(){return f})),n.d(t,"canParse",(function(){return p})),n.d(t,"probe",(function(){return d})),n.d(t,"initTrackConfig",(function(){return h})),n.d(t,"getFrameDuration",(function(){return g})),n.d(t,"parseFrameHeader",(function(){return m})),n.d(t,"appendFrame",(function(){return v}));var r=n("./src/utils/logger.ts"),i=n("./src/errors.ts"),o=n("./src/events.ts");function a(e,t,n,a){var s,u,l,c,f=navigator.userAgent.toLowerCase(),p=a,d=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];s=1+((192&t[n+2])>>>6);var h=(60&t[n+2])>>>2;if(!(h>d.length-1))return l=(1&t[n+2])<<2,l|=(192&t[n+3])>>>6,r.logger.log("manifest codec:"+a+", ADTS type:"+s+", samplingIndex:"+h),/firefox/i.test(f)?h>=6?(s=5,c=new Array(4),u=h-3):(s=2,c=new Array(2),u=h):-1!==f.indexOf("android")?(s=2,c=new Array(2),u=h):(s=5,c=new Array(4),a&&(-1!==a.indexOf("mp4a.40.29")||-1!==a.indexOf("mp4a.40.5"))||!a&&h>=6?u=h-3:((a&&-1!==a.indexOf("mp4a.40.2")&&(h>=6&&1===l||/vivaldi/i.test(f))||!a&&1===l)&&(s=2,c=new Array(2)),u=h)),c[0]=s<<3,c[0]|=(14&h)>>1,c[1]|=(1&h)<<7,c[1]|=l<<3,5===s&&(c[1]|=(14&u)>>1,c[2]=(1&u)<<7,c[2]|=8,c[3]=0),{config:c,samplerate:d[h],channelCount:l,codec:"mp4a.40."+s,manifestCodec:p};e.trigger(o.Events.ERROR,{type:i.ErrorTypes.MEDIA_ERROR,details:i.ErrorDetails.FRAG_PARSING_ERROR,fatal:!0,reason:"invalid ADTS sampling index:"+h})}function s(e,t){return 255===e[t]&&240==(246&e[t+1])}function u(e,t){return 1&e[t+1]?7:9}function l(e,t){return(3&e[t+3])<<11|e[t+4]<<3|(224&e[t+5])>>>5}function c(e,t){return t+5<e.length}function f(e,t){return t+1<e.length&&s(e,t)}function p(e,t){return c(e,t)&&s(e,t)&&l(e,t)<=e.length-t}function d(e,t){if(f(e,t)){var n=u(e,t);if(t+n>=e.length)return!1;var r=l(e,t);if(r<=n)return!1;var i=t+r;return i===e.length||f(e,i)}return!1}function h(e,t,n,i,o){if(!e.samplerate){var s=a(t,n,i,o);if(!s)return;e.config=s.config,e.samplerate=s.samplerate,e.channelCount=s.channelCount,e.codec=s.codec,e.manifestCodec=s.manifestCodec,r.logger.log("parsed codec:"+e.codec+", rate:"+s.samplerate+", channels:"+s.channelCount)}}function g(e){return 9216e4/e}function m(e,t,n,r,i){var o=u(e,t),a=l(e,t);if((a-=o)>0)return{headerLength:o,frameLength:a,stamp:n+r*i}}function v(e,t,n,r,i){var o=m(t,n,r,i,g(e.samplerate));if(o){var a,s=o.frameLength,u=o.headerLength,l=o.stamp,c=u+s,f=Math.max(0,n+c-t.length);f?(a=new Uint8Array(c-u)).set(t.subarray(n+u,t.length),0):a=t.subarray(n+u,n+c);var p={unit:a,pts:l};return f||e.samples.push(p),{sample:p,length:c,missing:f}}}},"./src/demux/base-audio-demuxer.ts":function(e,t,n){n.r(t),n.d(t,"initPTSFn",(function(){return l}));var r=n("./src/polyfills/number.ts"),i=n("./src/demux/id3.ts"),o=n("./src/demux/dummy-demuxed-track.ts"),a=n("./src/utils/mp4-tools.ts"),s=n("./src/utils/typed-array.ts"),u=function(){function e(){this._audioTrack=void 0,this._id3Track=void 0,this.frameIndex=0,this.cachedData=null,this.initPTS=null}var t=e.prototype;return t.resetInitSegment=function(e,t,n){this._id3Track={type:"id3",id:3,pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0}},t.resetTimeStamp=function(){},t.resetContiguity=function(){},t.canParse=function(e,t){return!1},t.appendFrame=function(e,t,n){},t.demux=function(e,t){this.cachedData&&(e=Object(a.appendUint8Array)(this.cachedData,e),this.cachedData=null);var n,r,u=i.getID3Data(e,0),c=u?u.length:0,f=this._audioTrack,p=this._id3Track,d=u?i.getTimeStamp(u):void 0,h=e.length;for(0!==this.frameIndex&&null!==this.initPTS||(this.initPTS=l(d,t)),u&&u.length>0&&p.samples.push({pts:this.initPTS,dts:this.initPTS,data:u}),r=this.initPTS;c<h;){if(this.canParse(e,c)){var g=this.appendFrame(f,e,c);g?(this.frameIndex++,r=g.sample.pts,n=c+=g.length):c=h}else i.canParse(e,c)?(u=i.getID3Data(e,c),p.samples.push({pts:r,dts:r,data:u}),n=c+=u.length):c++;if(c===h&&n!==h){var m=Object(s.sliceUint8)(e,n);this.cachedData?this.cachedData=Object(a.appendUint8Array)(this.cachedData,m):this.cachedData=m}}return{audioTrack:f,avcTrack:Object(o.dummyTrack)(),id3Track:p,textTrack:Object(o.dummyTrack)()}},t.demuxSampleAes=function(e,t,n){return Promise.reject(new Error("["+this+"] This demuxer does not support Sample-AES decryption"))},t.flush=function(e){var t=this.cachedData;return t&&(this.cachedData=null,this.demux(t,0)),this.frameIndex=0,{audioTrack:this._audioTrack,avcTrack:Object(o.dummyTrack)(),id3Track:this._id3Track,textTrack:Object(o.dummyTrack)()}},t.destroy=function(){},e}(),l=function(e,t){return Object(r.isFiniteNumber)(e)?90*e:9e4*t};t.default=u},"./src/demux/chunk-cache.ts":function(e,t,n){n.r(t),n.d(t,"default",(function(){return r}));var r=function(){function e(){this.chunks=[],this.dataLength=0}var t=e.prototype;return t.push=function(e){this.chunks.push(e),this.dataLength+=e.length},t.flush=function(){var e,t=this.chunks,n=this.dataLength;return t.length?(e=1===t.length?t[0]:function(e,t){for(var n=new Uint8Array(t),r=0,i=0;i<e.length;i++){var o=e[i];n.set(o,r),r+=o.length}return n}(t,n),this.reset(),e):new Uint8Array(0)},t.reset=function(){this.chunks.length=0,this.dataLength=0},e}()},"./src/demux/dummy-demuxed-track.ts":function(e,t,n){function r(){return{type:"",id:-1,pid:-1,inputTimeScale:9e4,sequenceNumber:-1,samples:[],dropped:0}}n.r(t),n.d(t,"dummyTrack",(function(){return r}))},"./src/demux/exp-golomb.ts":function(e,t,n){n.r(t);var r=n("./src/utils/logger.ts"),i=function(){function e(e){this.data=void 0,this.bytesAvailable=void 0,this.word=void 0,this.bitsAvailable=void 0,this.data=e,this.bytesAvailable=e.byteLength,this.word=0,this.bitsAvailable=0}var t=e.prototype;return t.loadWord=function(){var e=this.data,t=this.bytesAvailable,n=e.byteLength-t,r=new Uint8Array(4),i=Math.min(4,t);if(0===i)throw new Error("no bytes available");r.set(e.subarray(n,n+i)),this.word=new DataView(r.buffer).getUint32(0),this.bitsAvailable=8*i,this.bytesAvailable-=i},t.skipBits=function(e){var t;this.bitsAvailable>e?(this.word<<=e,this.bitsAvailable-=e):(e-=this.bitsAvailable,e-=(t=e>>3)>>3,this.bytesAvailable-=t,this.loadWord(),this.word<<=e,this.bitsAvailable-=e)},t.readBits=function(e){var t=Math.min(this.bitsAvailable,e),n=this.word>>>32-t;return e>32&&r.logger.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=t,this.bitsAvailable>0?this.word<<=t:this.bytesAvailable>0&&this.loadWord(),(t=e-t)>0&&this.bitsAvailable?n<<t|this.readBits(t):n},t.skipLZ=function(){var e;for(e=0;e<this.bitsAvailable;++e)if(0!=(this.word&2147483648>>>e))return this.word<<=e,this.bitsAvailable-=e,e;return this.loadWord(),e+this.skipLZ()},t.skipUEG=function(){this.skipBits(1+this.skipLZ())},t.skipEG=function(){this.skipBits(1+this.skipLZ())},t.readUEG=function(){var e=this.skipLZ();return this.readBits(e+1)-1},t.readEG=function(){var e=this.readUEG();return 1&e?1+e>>>1:-1*(e>>>1)},t.readBoolean=function(){return 1===this.readBits(1)},t.readUByte=function(){return this.readBits(8)},t.readUShort=function(){return this.readBits(16)},t.readUInt=function(){return this.readBits(32)},t.skipScalingList=function(e){for(var t=8,n=8,r=0;r<e;r++)0!==n&&(n=(t+this.readEG()+256)%256),t=0===n?t:n},t.readSPS=function(){var e,t,n,r=0,i=0,o=0,a=0,s=this.readUByte.bind(this),u=this.readBits.bind(this),l=this.readUEG.bind(this),c=this.readBoolean.bind(this),f=this.skipBits.bind(this),p=this.skipEG.bind(this),d=this.skipUEG.bind(this),h=this.skipScalingList.bind(this);s();var g=s();if(u(5),f(3),s(),d(),100===g||110===g||122===g||244===g||44===g||83===g||86===g||118===g||128===g){var m=l();if(3===m&&f(1),d(),d(),f(1),c())for(t=3!==m?8:12,n=0;n<t;n++)c()&&h(n<6?16:64)}d();var v=l();if(0===v)l();else if(1===v)for(f(1),p(),p(),e=l(),n=0;n<e;n++)p();d(),f(1);var y=l(),b=l(),w=u(1);0===w&&f(1),f(1),c()&&(r=l(),i=l(),o=l(),a=l());var A=[1,1];if(c()&&c())switch(s()){case 1:A=[1,1];break;case 2:A=[12,11];break;case 3:A=[10,11];break;case 4:A=[16,11];break;case 5:A=[40,33];break;case 6:A=[24,11];break;case 7:A=[20,11];break;case 8:A=[32,11];break;case 9:A=[80,33];break;case 10:A=[18,11];break;case 11:A=[15,11];break;case 12:A=[64,33];break;case 13:A=[160,99];break;case 14:A=[4,3];break;case 15:A=[3,2];break;case 16:A=[2,1];break;case 255:A=[s()<<8|s(),s()<<8|s()]}return{width:Math.ceil(16*(y+1)-2*r-2*i),height:(2-w)*(b+1)*16-(w?2:4)*(o+a),pixelRatio:A}},t.readSliceType=function(){return this.readUByte(),this.readUEG(),this.readUEG()},e}();t.default=i},"./src/demux/id3.ts":function(e,t,n){n.r(t),n.d(t,"isHeader",(function(){return i})),n.d(t,"isFooter",(function(){return o})),n.d(t,"getID3Data",(function(){return a})),n.d(t,"canParse",(function(){return u})),n.d(t,"getTimeStamp",(function(){return l})),n.d(t,"isTimeStampFrame",(function(){return c})),n.d(t,"getID3Frames",(function(){return p})),n.d(t,"decodeFrame",(function(){return d})),n.d(t,"utf8ArrayToStr",(function(){return y})),n.d(t,"testables",(function(){return b}));var r,i=function(e,t){return t+10<=e.length&&73===e[t]&&68===e[t+1]&&51===e[t+2]&&e[t+3]<255&&e[t+4]<255&&e[t+6]<128&&e[t+7]<128&&e[t+8]<128&&e[t+9]<128},o=function(e,t){return t+10<=e.length&&51===e[t]&&68===e[t+1]&&73===e[t+2]&&e[t+3]<255&&e[t+4]<255&&e[t+6]<128&&e[t+7]<128&&e[t+8]<128&&e[t+9]<128},a=function(e,t){for(var n=t,r=0;i(e,t);)r+=10,r+=s(e,t+6),o(e,t+10)&&(r+=10),t+=r;if(r>0)return e.subarray(n,n+r)},s=function(e,t){var n=0;return n=(127&e[t])<<21,n|=(127&e[t+1])<<14,(n|=(127&e[t+2])<<7)|127&e[t+3]},u=function(e,t){return i(e,t)&&s(e,t+6)+10<=e.length-t},l=function(e){for(var t=p(e),n=0;n<t.length;n++){var r=t[n];if(c(r))return v(r)}},c=function(e){return e&&"PRIV"===e.key&&"com.apple.streaming.transportStreamTimestamp"===e.info},f=function(e){var t=String.fromCharCode(e[0],e[1],e[2],e[3]),n=s(e,4);return{type:t,size:n,data:e.subarray(10,10+n)}},p=function(e){for(var t=0,n=[];i(e,t);){for(var r=s(e,t+6),a=(t+=10)+r;t+8<a;){var u=f(e.subarray(t)),l=d(u);l&&n.push(l),t+=u.size+10}o(e,t)&&(t+=10)}return n},d=function(e){return"PRIV"===e.type?h(e):"W"===e.type[0]?m(e):g(e)},h=function(e){if(!(e.size<2)){var t=y(e.data,!0),n=new Uint8Array(e.data.subarray(t.length+1));return{key:e.type,info:t,data:n.buffer}}},g=function(e){if(!(e.size<2)){if("TXXX"===e.type){var t=1,n=y(e.data.subarray(t),!0);t+=n.length+1;var r=y(e.data.subarray(t));return{key:e.type,info:n,data:r}}var i=y(e.data.subarray(1));return{key:e.type,data:i}}},m=function(e){if("WXXX"===e.type){if(e.size<2)return;var t=1,n=y(e.data.subarray(t),!0);t+=n.length+1;var r=y(e.data.subarray(t));return{key:e.type,info:n,data:r}}var i=y(e.data);return{key:e.type,data:i}},v=function(e){if(8===e.data.byteLength){var t=new Uint8Array(e.data),n=1&t[3],r=(t[4]<<23)+(t[5]<<15)+(t[6]<<7)+t[7];return r/=45,n&&(r+=47721858.84),Math.round(r)}},y=function(e,t){void 0===t&&(t=!1);var n=w();if(n){var r=n.decode(e);if(t){var i=r.indexOf("\0");return-1!==i?r.substring(0,i):r}return r.replace(/\0/g,"")}for(var o,a,s,u=e.length,l="",c=0;c<u;){if(0===(o=e[c++])&&t)return l;if(0!==o&&3!==o)switch(o>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:l+=String.fromCharCode(o);break;case 12:case 13:a=e[c++],l+=String.fromCharCode((31&o)<<6|63&a);break;case 14:a=e[c++],s=e[c++],l+=String.fromCharCode((15&o)<<12|(63&a)<<6|(63&s)<<0)}}return l},b={decodeTextFrame:g};function w(){return r||void 0===self.TextDecoder||(r=new self.TextDecoder("utf-8")),r}},"./src/demux/mp3demuxer.ts":function(e,t,n){n.r(t);var r=n("./src/demux/base-audio-demuxer.ts"),i=n("./src/demux/id3.ts"),o=n("./src/utils/logger.ts"),a=n("./src/demux/mpegaudio.ts");function s(e,t){return s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},s(e,t)}var u=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,s(t,n);var u=r.prototype;return u.resetInitSegment=function(t,n,r){e.prototype.resetInitSegment.call(this,t,n,r),this._audioTrack={container:"audio/mpeg",type:"audio",id:2,pid:-1,sequenceNumber:0,isAAC:!1,samples:[],manifestCodec:t,duration:r,inputTimeScale:9e4,dropped:0}},r.probe=function(e){if(!e)return!1;for(var t=(i.getID3Data(e,0)||[]).length,n=e.length;t<n;t++)if(a.probe(e,t))return o.logger.log("MPEG Audio sync word found !"),!0;return!1},u.canParse=function(e,t){return a.canParse(e,t)},u.appendFrame=function(e,t,n){if(null!==this.initPTS)return a.appendFrame(e,t,n,this.initPTS,this.frameIndex)},r}(r.default);u.minProbeByteLength=4,t.default=u},"./src/demux/mp4demuxer.ts":function(e,t,n){n.r(t);var r=n("./src/utils/mp4-tools.ts"),i=n("./src/demux/dummy-demuxed-track.ts"),o=function(){function e(e,t){this.remainderData=null,this.config=void 0,this.config=t}var t=e.prototype;return t.resetTimeStamp=function(){},t.resetInitSegment=function(){},t.resetContiguity=function(){},e.probe=function(e){return Object(r.findBox)({data:e,start:0,end:Math.min(e.length,16384)},["moof"]).length>0},t.demux=function(e){var t=e,n=Object(i.dummyTrack)();if(this.config.progressive){this.remainderData&&(t=Object(r.appendUint8Array)(this.remainderData,e));var o=Object(r.segmentValidRange)(t);this.remainderData=o.remainder,n.samples=o.valid||new Uint8Array}else n.samples=t;return{audioTrack:Object(i.dummyTrack)(),avcTrack:n,id3Track:Object(i.dummyTrack)(),textTrack:Object(i.dummyTrack)()}},t.flush=function(){var e=Object(i.dummyTrack)();return e.samples=this.remainderData||new Uint8Array,this.remainderData=null,{audioTrack:Object(i.dummyTrack)(),avcTrack:e,id3Track:Object(i.dummyTrack)(),textTrack:Object(i.dummyTrack)()}},t.demuxSampleAes=function(e,t,n){return Promise.reject(new Error("The MP4 demuxer does not support SAMPLE-AES decryption"))},t.destroy=function(){},e}();o.minProbeByteLength=1024,t.default=o},"./src/demux/mpegaudio.ts":function(e,t,n){n.r(t),n.d(t,"appendFrame",(function(){return u})),n.d(t,"parseHeader",(function(){return l})),n.d(t,"isHeaderPattern",(function(){return c})),n.d(t,"isHeader",(function(){return f})),n.d(t,"canParse",(function(){return p})),n.d(t,"probe",(function(){return d}));var r=null,i=[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],o=[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],a=[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],s=[0,1,1,4];function u(e,t,n,r,i){if(!(n+24>t.length)){var o=l(t,n);if(o&&n+o.frameLength<=t.length){var a=r+i*(9e4*o.samplesPerFrame/o.sampleRate),s={unit:t.subarray(n,n+o.frameLength),pts:a,dts:a};return e.config=[],e.channelCount=o.channelCount,e.samplerate=o.sampleRate,e.samples.push(s),{sample:s,length:o.frameLength,missing:0}}}}function l(e,t){var n=e[t+1]>>3&3,u=e[t+1]>>1&3,l=e[t+2]>>4&15,c=e[t+2]>>2&3;if(1!==n&&0!==l&&15!==l&&3!==c){var f=e[t+2]>>1&1,p=e[t+3]>>6,d=1e3*i[14*(3===n?3-u:3===u?3:4)+l-1],h=o[3*(3===n?0:2===n?1:2)+c],g=3===p?1:2,m=a[n][u],v=s[u],y=8*m*v,b=Math.floor(m*d/h+f)*v;if(null===r){var w=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);r=w?parseInt(w[1]):0}return!!r&&r<=87&&2===u&&d>=224e3&&0===p&&(e[t+3]=128|e[t+3]),{sampleRate:h,channelCount:g,frameLength:b,samplesPerFrame:y}}}function c(e,t){return 255===e[t]&&224==(224&e[t+1])&&0!=(6&e[t+1])}function f(e,t){return t+1<e.length&&c(e,t)}function p(e,t){return c(e,t)&&4<=e.length-t}function d(e,t){if(t+1<e.length&&c(e,t)){var n=l(e,t),r=4;null!=n&&n.frameLength&&(r=n.frameLength);var i=t+r;return i===e.length||f(e,i)}return!1}},"./src/demux/sample-aes.ts":function(e,t,n){n.r(t);var r=n("./src/crypt/decrypter.ts"),i=n("./src/demux/tsdemuxer.ts"),o=function(){function e(e,t,n){this.keyData=void 0,this.decrypter=void 0,this.keyData=n,this.decrypter=new r.default(e,t,{removePKCS7Padding:!1})}var t=e.prototype;return t.decryptBuffer=function(e,t){this.decrypter.decrypt(e,this.keyData.key.buffer,this.keyData.iv.buffer,t)},t.decryptAacSample=function(e,t,n,r){var i=e[t].unit,o=i.subarray(16,i.length-i.length%16),a=o.buffer.slice(o.byteOffset,o.byteOffset+o.length),s=this;this.decryptBuffer(a,(function(o){var a=new Uint8Array(o);i.set(a,16),r||s.decryptAacSamples(e,t+1,n)}))},t.decryptAacSamples=function(e,t,n){for(;;t++){if(t>=e.length)return void n();if(!(e[t].unit.length<32)){var r=this.decrypter.isSync();if(this.decryptAacSample(e,t,n,r),!r)return}}},t.getAvcEncryptedData=function(e){for(var t=16*Math.floor((e.length-48)/160)+16,n=new Int8Array(t),r=0,i=32;i<e.length-16;i+=160,r+=16)n.set(e.subarray(i,i+16),r);return n},t.getAvcDecryptedUnit=function(e,t){for(var n=new Uint8Array(t),r=0,i=32;i<e.length-16;i+=160,r+=16)e.set(n.subarray(r,r+16),i);return e},t.decryptAvcSample=function(e,t,n,r,o,a){var s=Object(i.discardEPB)(o.data),u=this.getAvcEncryptedData(s),l=this;this.decryptBuffer(u.buffer,(function(i){o.data=l.getAvcDecryptedUnit(s,i),a||l.decryptAvcSamples(e,t,n+1,r)}))},t.decryptAvcSamples=function(e,t,n,r){if(e instanceof Uint8Array)throw new Error("Cannot decrypt samples of type Uint8Array");for(;;t++,n=0){if(t>=e.length)return void r();for(var i=e[t].units;!(n>=i.length);n++){var o=i[n];if(!(o.data.length<=48||1!==o.type&&5!==o.type)){var a=this.decrypter.isSync();if(this.decryptAvcSample(e,t,n,r,o,a),!a)return}}}},e}();t.default=o},"./src/demux/transmuxer-interface.ts":function(e,t,n){n.r(t),n.d(t,"default",(function(){return f}));var r=n("./node_modules/webworkify-webpack/index.js"),i=n("./src/events.ts"),o=n("./src/demux/transmuxer.ts"),a=n("./src/utils/logger.ts"),s=n("./src/errors.ts"),u=n("./src/utils/mediasource-helper.ts"),l=n("./node_modules/eventemitter3/index.js"),c=Object(u.getMediaSource)()||{isTypeSupported:function(){return!1}},f=function(){function e(e,t,n,u){var f=this;this.hls=void 0,this.id=void 0,this.observer=void 0,this.frag=null,this.part=null,this.worker=void 0,this.onwmsg=void 0,this.transmuxer=null,this.onTransmuxComplete=void 0,this.onFlush=void 0,this.hls=e,this.id=t,this.onTransmuxComplete=n,this.onFlush=u;var p=e.config,d=function(t,n){(n=n||{}).frag=f.frag,n.id=f.id,e.trigger(t,n)};this.observer=new l.EventEmitter,this.observer.on(i.Events.FRAG_DECRYPTED,d),this.observer.on(i.Events.ERROR,d);var h={mp4:c.isTypeSupported("video/mp4"),mpeg:c.isTypeSupported("audio/mpeg"),mp3:c.isTypeSupported('audio/mp4; codecs="mp3"')},g=navigator.vendor;if(p.enableWorker&&"undefined"!=typeof Worker){var m;a.logger.log("demuxing in webworker");try{m=this.worker=r("./src/demux/transmuxer-worker.ts"),this.onwmsg=this.onWorkerMessage.bind(this),m.addEventListener("message",this.onwmsg),m.onerror=function(t){e.trigger(i.Events.ERROR,{type:s.ErrorTypes.OTHER_ERROR,details:s.ErrorDetails.INTERNAL_EXCEPTION,fatal:!0,event:"demuxerWorker",error:new Error(t.message+"  ("+t.filename+":"+t.lineno+")")})},m.postMessage({cmd:"init",typeSupported:h,vendor:g,id:t,config:JSON.stringify(p)})}catch(e){a.logger.warn("Error in worker:",e),a.logger.error("Error while initializing DemuxerWorker, fallback to inline"),m&&self.URL.revokeObjectURL(m.objectURL),this.transmuxer=new o.default(this.observer,h,p,g,t),this.worker=null}}else this.transmuxer=new o.default(this.observer,h,p,g,t)}var t=e.prototype;return t.destroy=function(){var e=this.worker;if(e)e.removeEventListener("message",this.onwmsg),e.terminate(),this.worker=null;else{var t=this.transmuxer;t&&(t.destroy(),this.transmuxer=null)}var n=this.observer;n&&n.removeAllListeners(),this.observer=null},t.push=function(e,t,n,r,i,s,u,l,c,f){var p,d,h=this;c.transmuxing.start=self.performance.now();var g=this.transmuxer,m=this.worker,v=s?s.start:i.start,y=i.decryptdata,b=this.frag,w=!(b&&i.cc===b.cc),A=!(b&&c.level===b.level),_=b?c.sn-b.sn:-1,k=this.part?c.part-this.part.index:1,x=!A&&(1===_||0===_&&1===k),E=self.performance.now();(A||_||0===i.stats.parsing.start)&&(i.stats.parsing.start=E),!s||!k&&x||(s.stats.parsing.start=E);var C=!(b&&(null===(p=i.initSegment)||void 0===p?void 0:p.url)===(null===(d=b.initSegment)||void 0===d?void 0:d.url)),T=new o.TransmuxState(w,x,l,A,v,C);if(!x||w||C){a.logger.log("[transmuxer-interface, "+i.type+"]: Starting new transmux session for sn: "+c.sn+" p: "+c.part+" level: "+c.level+" id: "+c.id+"\n        discontinuity: "+w+"\n        trackSwitch: "+A+"\n        contiguous: "+x+"\n        accurateTimeOffset: "+l+"\n        timeOffset: "+v+"\n        initSegmentChange: "+C);var S=new o.TransmuxConfig(n,r,t,u,f);this.configureTransmuxer(S)}if(this.frag=i,this.part=s,m)m.postMessage({cmd:"demux",data:e,decryptdata:y,chunkMeta:c,state:T},e instanceof ArrayBuffer?[e]:[]);else if(g){var R=g.push(e,y,c,T);Object(o.isPromise)(R)?R.then((function(e){h.handleTransmuxComplete(e)})):this.handleTransmuxComplete(R)}},t.flush=function(e){var t=this;e.transmuxing.start=self.performance.now();var n=this.transmuxer,r=this.worker;if(r)r.postMessage({cmd:"flush",chunkMeta:e});else if(n){var i=n.flush(e);Object(o.isPromise)(i)?i.then((function(n){t.handleFlushResult(n,e)})):this.handleFlushResult(i,e)}},t.handleFlushResult=function(e,t){var n=this;e.forEach((function(e){n.handleTransmuxComplete(e)})),this.onFlush(t)},t.onWorkerMessage=function(e){var t=e.data,n=this.hls;switch(t.event){case"init":self.URL.revokeObjectURL(this.worker.objectURL);break;case"transmuxComplete":this.handleTransmuxComplete(t.data);break;case"flush":this.onFlush(t.data);break;default:t.data=t.data||{},t.data.frag=this.frag,t.data.id=this.id,n.trigger(t.event,t.data)}},t.configureTransmuxer=function(e){var t=this.worker,n=this.transmuxer;t?t.postMessage({cmd:"configure",config:e}):n&&n.configure(e)},t.handleTransmuxComplete=function(e){e.chunkMeta.transmuxing.end=self.performance.now(),this.onTransmuxComplete(e)},e}()},"./src/demux/transmuxer-worker.ts":function(e,t,n){n.r(t),n.d(t,"default",(function(){return s}));var r=n("./src/demux/transmuxer.ts"),i=n("./src/events.ts"),o=n("./src/utils/logger.ts"),a=n("./node_modules/eventemitter3/index.js");function s(e){var t=new a.EventEmitter,n=function(t,n){e.postMessage({event:t,data:n})};t.on(i.Events.FRAG_DECRYPTED,n),t.on(i.Events.ERROR,n),e.addEventListener("message",(function(i){var a=i.data;switch(a.cmd){case"init":var s=JSON.parse(a.config);e.transmuxer=new r.default(t,a.typeSupported,s,a.vendor,a.id),Object(o.enableLogs)(s.debug),n("init",null);break;case"configure":e.transmuxer.configure(a.config);break;case"demux":var l=e.transmuxer.push(a.data,a.decryptdata,a.chunkMeta,a.state);Object(r.isPromise)(l)?l.then((function(t){u(e,t)})):u(e,l);break;case"flush":var f=a.chunkMeta,p=e.transmuxer.flush(f);Object(r.isPromise)(p)?p.then((function(t){c(e,t,f)})):c(e,p,f)}}))}function u(e,t){if((n=t.remuxResult).audio||n.video||n.text||n.id3||n.initSegment){var n,r=[],i=t.remuxResult,o=i.audio,a=i.video;o&&l(r,o),a&&l(r,a),e.postMessage({event:"transmuxComplete",data:t},r)}}function l(e,t){t.data1&&e.push(t.data1.buffer),t.data2&&e.push(t.data2.buffer)}function c(e,t,n){t.forEach((function(t){u(e,t)})),e.postMessage({event:"flush",data:n})}},"./src/demux/transmuxer.ts":function(e,t,n){n.r(t),n.d(t,"default",(function(){return y})),n.d(t,"isPromise",(function(){return w})),n.d(t,"TransmuxConfig",(function(){return A})),n.d(t,"TransmuxState",(function(){return _}));var r,i=n("./src/events.ts"),o=n("./src/errors.ts"),a=n("./src/crypt/decrypter.ts"),s=n("./src/demux/aacdemuxer.ts"),u=n("./src/demux/mp4demuxer.ts"),l=n("./src/demux/tsdemuxer.ts"),c=n("./src/demux/mp3demuxer.ts"),f=n("./src/remux/mp4-remuxer.ts"),p=n("./src/remux/passthrough-remuxer.ts"),d=n("./src/demux/chunk-cache.ts"),h=n("./src/utils/mp4-tools.ts"),g=n("./src/utils/logger.ts");try{r=self.performance.now.bind(self.performance)}catch(e){g.logger.debug("Unable to use Performance API on this environment"),r=self.Date.now}var m=[{demux:l.default,remux:f.default},{demux:u.default,remux:p.default},{demux:s.default,remux:f.default},{demux:c.default,remux:f.default}],v=1024;m.forEach((function(e){var t=e.demux;v=Math.max(v,t.minProbeByteLength)}));var y=function(){function e(e,t,n,r,i){this.observer=void 0,this.typeSupported=void 0,this.config=void 0,this.vendor=void 0,this.id=void 0,this.demuxer=void 0,this.remuxer=void 0,this.decrypter=void 0,this.probe=void 0,this.decryptionPromise=null,this.transmuxConfig=void 0,this.currentTransmuxState=void 0,this.cache=new d.default,this.observer=e,this.typeSupported=t,this.config=n,this.vendor=r,this.id=i}var t=e.prototype;return t.configure=function(e){this.transmuxConfig=e,this.decrypter&&this.decrypter.reset()},t.push=function(e,t,n,i){var o=this,a=n.transmuxing;a.executeStart=r();var s=new Uint8Array(e),u=this.cache,l=this.config,c=this.currentTransmuxState,f=this.transmuxConfig;i&&(this.currentTransmuxState=i);var p=function(e,t){var n=null;return e.byteLength>0&&null!=t&&null!=t.key&&null!==t.iv&&null!=t.method&&(n=t),n}(s,t);if(p&&"AES-128"===p.method){var d=this.getDecrypter();if(!l.enableSoftwareAES)return this.decryptionPromise=d.webCryptoDecrypt(s,p.key.buffer,p.iv.buffer).then((function(e){var t=o.push(e,null,n);return o.decryptionPromise=null,t})),this.decryptionPromise;var g=d.softwareDecrypt(s,p.key.buffer,p.iv.buffer);if(!g)return a.executeEnd=r(),b(n);s=new Uint8Array(g)}var m=i||c,v=m.contiguous,y=m.discontinuity,w=m.trackSwitch,A=m.accurateTimeOffset,_=m.timeOffset,k=m.initSegmentChange,x=f.audioCodec,E=f.videoCodec,C=f.defaultInitPts,T=f.duration,S=f.initSegmentData;if((y||w||k)&&this.resetInitSegment(S,x,E,T),(y||k)&&this.resetInitialTimestamp(C),v||this.resetContiguity(),this.needsProbing(s,y,w)){if(u.dataLength){var R=u.flush();s=Object(h.appendUint8Array)(R,s)}this.configureTransmuxer(s,f)}var L=this.transmux(s,p,_,A,n),P=this.currentTransmuxState;return P.contiguous=!0,P.discontinuity=!1,P.trackSwitch=!1,a.executeEnd=r(),L},t.flush=function(e){var t=this,n=e.transmuxing;n.executeStart=r();var a=this.decrypter,s=this.cache,u=this.currentTransmuxState,l=this.decryptionPromise;if(l)return l.then((function(){return t.flush(e)}));var c=[],f=u.timeOffset;if(a){var p=a.flush();p&&c.push(this.push(p,null,e))}var d=s.dataLength;s.reset();var h=this.demuxer,g=this.remuxer;if(!h||!g)return d>=v&&this.observer.emit(i.Events.ERROR,i.Events.ERROR,{type:o.ErrorTypes.MEDIA_ERROR,details:o.ErrorDetails.FRAG_PARSING_ERROR,fatal:!0,reason:"no demux matching with content found"}),n.executeEnd=r(),[b(e)];var m=h.flush(f);return w(m)?m.then((function(n){return t.flushRemux(c,n,e),c})):(this.flushRemux(c,m,e),c)},t.flushRemux=function(e,t,n){var i=t.audioTrack,o=t.avcTrack,a=t.id3Track,s=t.textTrack,u=this.currentTransmuxState,l=u.accurateTimeOffset,c=u.timeOffset;g.logger.log("[transmuxer.ts]: Flushed fragment "+n.sn+(n.part>-1?" p: "+n.part:"")+" of level "+n.level);var f=this.remuxer.remux(i,o,a,s,c,l,!0,this.id);e.push({remuxResult:f,chunkMeta:n}),n.transmuxing.executeEnd=r()},t.resetInitialTimestamp=function(e){var t=this.demuxer,n=this.remuxer;t&&n&&(t.resetTimeStamp(e),n.resetTimeStamp(e))},t.resetContiguity=function(){var e=this.demuxer,t=this.remuxer;e&&t&&(e.resetContiguity(),t.resetNextTimestamp())},t.resetInitSegment=function(e,t,n,r){var i=this.demuxer,o=this.remuxer;i&&o&&(i.resetInitSegment(t,n,r),o.resetInitSegment(e,t,n))},t.destroy=function(){this.demuxer&&(this.demuxer.destroy(),this.demuxer=void 0),this.remuxer&&(this.remuxer.destroy(),this.remuxer=void 0)},t.transmux=function(e,t,n,r,i){return t&&"SAMPLE-AES"===t.method?this.transmuxSampleAes(e,t,n,r,i):this.transmuxUnencrypted(e,n,r,i)},t.transmuxUnencrypted=function(e,t,n,r){var i=this.demuxer.demux(e,t,!1,!this.config.progressive),o=i.audioTrack,a=i.avcTrack,s=i.id3Track,u=i.textTrack;return{remuxResult:this.remuxer.remux(o,a,s,u,t,n,!1,this.id),chunkMeta:r}},t.transmuxSampleAes=function(e,t,n,r,i){var o=this;return this.demuxer.demuxSampleAes(e,t,n).then((function(e){return{remuxResult:o.remuxer.remux(e.audioTrack,e.avcTrack,e.id3Track,e.textTrack,n,r,!1,o.id),chunkMeta:i}}))},t.configureTransmuxer=function(e,t){for(var n,r=this.config,i=this.observer,o=this.typeSupported,a=this.vendor,s=t.audioCodec,l=t.defaultInitPts,c=t.duration,f=t.initSegmentData,d=t.videoCodec,h=0,v=m.length;h<v;h++)if(m[h].demux.probe(e)){n=m[h];break}n||(g.logger.warn("Failed to find demuxer by probing frag, treating as mp4 passthrough"),n={demux:u.default,remux:p.default});var y=this.demuxer,b=this.remuxer,w=n.remux,A=n.demux;b&&b instanceof w||(this.remuxer=new w(i,r,o,a)),y&&y instanceof A||(this.demuxer=new A(i,r,o),this.probe=A.probe),this.resetInitSegment(f,s,d,c),this.resetInitialTimestamp(l)},t.needsProbing=function(e,t,n){return!this.demuxer||!this.remuxer||t||n},t.getDecrypter=function(){var e=this.decrypter;return e||(e=this.decrypter=new a.default(this.observer,this.config)),e},e}(),b=function(e){return{remuxResult:{},chunkMeta:e}};function w(e){return"then"in e&&e.then instanceof Function}var A=function(e,t,n,r,i){this.audioCodec=void 0,this.videoCodec=void 0,this.initSegmentData=void 0,this.duration=void 0,this.defaultInitPts=void 0,this.audioCodec=e,this.videoCodec=t,this.initSegmentData=n,this.duration=r,this.defaultInitPts=i},_=function(e,t,n,r,i,o){this.discontinuity=void 0,this.contiguous=void 0,this.accurateTimeOffset=void 0,this.trackSwitch=void 0,this.timeOffset=void 0,this.initSegmentChange=void 0,this.discontinuity=e,this.contiguous=t,this.accurateTimeOffset=n,this.trackSwitch=r,this.timeOffset=i,this.initSegmentChange=o}},"./src/demux/tsdemuxer.ts":function(e,t,n){n.r(t),n.d(t,"discardEPB",(function(){return w}));var r=n("./src/demux/adts.ts"),i=n("./src/demux/mpegaudio.ts"),o=n("./src/demux/exp-golomb.ts"),a=n("./src/demux/id3.ts"),s=n("./src/demux/sample-aes.ts"),u=n("./src/events.ts"),l=n("./src/utils/mp4-tools.ts"),c=n("./src/utils/logger.ts"),f=n("./src/errors.ts"),p={video:1,audio:2,id3:3,text:4},d=function(){function e(e,t,n){this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.sampleAes=null,this.pmtParsed=!1,this.audioCodec=void 0,this.videoCodec=void 0,this._duration=0,this.aacLastPTS=null,this._initPTS=null,this._initDTS=null,this._pmtId=-1,this._avcTrack=void 0,this._audioTrack=void 0,this._id3Track=void 0,this._txtTrack=void 0,this.aacOverFlow=null,this.avcSample=null,this.remainderData=null,this.observer=e,this.config=t,this.typeSupported=n}e.probe=function(t){var n=e.syncOffset(t);return!(n<0||(n&&c.logger.warn("MPEG2-TS detected but first sync word found @ offset "+n+", junk ahead ?"),0))},e.syncOffset=function(e){for(var t=Math.min(1e3,e.length-564),n=0;n<t;){if(71===e[n]&&71===e[n+188]&&71===e[n+376])return n;n++}return-1},e.createTrack=function(e,t){return{container:"video"===e||"audio"===e?"video/mp2t":void 0,type:e,id:p[e],pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0,duration:"audio"===e?t:void 0}};var t=e.prototype;return t.resetInitSegment=function(t,n,r){this.pmtParsed=!1,this._pmtId=-1,this._avcTrack=e.createTrack("video",r),this._audioTrack=e.createTrack("audio",r),this._id3Track=e.createTrack("id3",r),this._txtTrack=e.createTrack("text",r),this._audioTrack.isAAC=!0,this.aacOverFlow=null,this.aacLastPTS=null,this.avcSample=null,this.audioCodec=t,this.videoCodec=n,this._duration=r},t.resetTimeStamp=function(){},t.resetContiguity=function(){var e=this._audioTrack,t=this._avcTrack,n=this._id3Track;e&&(e.pesData=null),t&&(t.pesData=null),n&&(n.pesData=null),this.aacOverFlow=null,this.aacLastPTS=null},t.demux=function(t,n,r,i){var o;void 0===r&&(r=!1),void 0===i&&(i=!1),r||(this.sampleAes=null);var a=this._avcTrack,s=this._audioTrack,p=this._id3Track,d=a.pid,h=a.pesData,y=s.pid,b=p.pid,w=s.pesData,A=p.pesData,_=!1,k=this.pmtParsed,x=this._pmtId,E=t.length;if(this.remainderData&&(E=(t=Object(l.appendUint8Array)(this.remainderData,t)).length,this.remainderData=null),E<188&&!i)return this.remainderData=t,{audioTrack:s,avcTrack:a,id3Track:p,textTrack:this._txtTrack};var C=Math.max(0,e.syncOffset(t));(E-=(E+C)%188)<t.byteLength&&!i&&(this.remainderData=new Uint8Array(t.buffer,E,t.buffer.byteLength-E));for(var T=0,S=C;S<E;S+=188)if(71===t[S]){var R=!!(64&t[S+1]),L=((31&t[S+1])<<8)+t[S+2],P=void 0;if((48&t[S+3])>>4>1){if((P=S+5+t[S+4])===S+188)continue}else P=S+4;switch(L){case d:R&&(h&&(o=v(h))&&this.parseAVCPES(o,!1),h={data:[],size:0}),h&&(h.data.push(t.subarray(P,S+188)),h.size+=S+188-P);break;case y:R&&(w&&(o=v(w))&&(s.isAAC?this.parseAACPES(o):this.parseMPEGPES(o)),w={data:[],size:0}),w&&(w.data.push(t.subarray(P,S+188)),w.size+=S+188-P);break;case b:R&&(A&&(o=v(A))&&this.parseID3PES(o),A={data:[],size:0}),A&&(A.data.push(t.subarray(P,S+188)),A.size+=S+188-P);break;case 0:R&&(P+=t[P]+1),x=this._pmtId=g(t,P);break;case x:R&&(P+=t[P]+1);var O=m(t,P,!0===this.typeSupported.mpeg||!0===this.typeSupported.mp3,r);(d=O.avc)>0&&(a.pid=d),(y=O.audio)>0&&(s.pid=y,s.isAAC=O.isAAC),(b=O.id3)>0&&(p.pid=b),_&&!k&&(c.logger.log("reparse from beginning"),_=!1,S=C-188),k=this.pmtParsed=!0;break;case 17:case 8191:break;default:_=!0}}else T++;T>0&&this.observer.emit(u.Events.ERROR,u.Events.ERROR,{type:f.ErrorTypes.MEDIA_ERROR,details:f.ErrorDetails.FRAG_PARSING_ERROR,fatal:!1,reason:"Found "+T+" TS packet/s that do not start with 0x47"}),a.pesData=h,s.pesData=w,p.pesData=A;var I={audioTrack:s,avcTrack:a,id3Track:p,textTrack:this._txtTrack};return i&&this.extractRemainingSamples(I),I},t.flush=function(){var e,t=this.remainderData;return this.remainderData=null,e=t?this.demux(t,-1,!1,!0):{audioTrack:this._audioTrack,avcTrack:this._avcTrack,textTrack:this._txtTrack,id3Track:this._id3Track},this.extractRemainingSamples(e),this.sampleAes?this.decrypt(e,this.sampleAes):e},t.extractRemainingSamples=function(e){var t,n=e.audioTrack,r=e.avcTrack,i=e.id3Track,o=r.pesData,a=n.pesData,s=i.pesData;o&&(t=v(o))?(this.parseAVCPES(t,!0),r.pesData=null):r.pesData=o,a&&(t=v(a))?(n.isAAC?this.parseAACPES(t):this.parseMPEGPES(t),n.pesData=null):(null!=a&&a.size&&c.logger.log("last AAC PES packet truncated,might overlap between fragments"),n.pesData=a),s&&(t=v(s))?(this.parseID3PES(t),i.pesData=null):i.pesData=s},t.demuxSampleAes=function(e,t,n){var r=this.demux(e,n,!0,!this.config.progressive),i=this.sampleAes=new s.default(this.observer,this.config,t);return this.decrypt(r,i)},t.decrypt=function(e,t){return new Promise((function(n){var r=e.audioTrack,i=e.avcTrack;r.samples&&r.isAAC?t.decryptAacSamples(r.samples,0,(function(){i.samples?t.decryptAvcSamples(i.samples,0,0,(function(){n(e)})):n(e)})):i.samples&&t.decryptAvcSamples(i.samples,0,0,(function(){n(e)}))}))},t.destroy=function(){this._initPTS=this._initDTS=null,this._duration=0},t.parseAVCPES=function(e,t){var n,r=this,i=this._avcTrack,s=this.parseAVCNALu(e.data),u=this.avcSample,l=!1;e.data=null,u&&s.length&&!i.audFound&&(y(u,i),u=this.avcSample=h(!1,e.pts,e.dts,"")),s.forEach((function(t){switch(t.type){case 1:n=!0,u||(u=r.avcSample=h(!0,e.pts,e.dts,"")),u.frame=!0;var s=t.data;if(l&&s.length>4){var c=new o.default(s).readSliceType();2!==c&&4!==c&&7!==c&&9!==c||(u.key=!0)}break;case 5:n=!0,u||(u=r.avcSample=h(!0,e.pts,e.dts,"")),u.key=!0,u.frame=!0;break;case 6:n=!0;var f=new o.default(w(t.data));f.readUByte();for(var p=0,d=0,g=!1,m=0;!g&&f.bytesAvailable>1;){p=0;do{p+=m=f.readUByte()}while(255===m);d=0;do{d+=m=f.readUByte()}while(255===m);if(4===p&&0!==f.bytesAvailable){if(g=!0,181===f.readUByte()&&49===f.readUShort()&&1195456820===f.readUInt()&&3===f.readUByte()){for(var v=f.readUByte(),A=31&v,_=[v,f.readUByte()],k=0;k<A;k++)_.push(f.readUByte()),_.push(f.readUByte()),_.push(f.readUByte());b(r._txtTrack.samples,{type:3,pts:e.pts,bytes:_})}}else if(5===p&&0!==f.bytesAvailable){if(g=!0,d>16){for(var x=[],E=0;E<16;E++)x.push(f.readUByte().toString(16)),3!==E&&5!==E&&7!==E&&9!==E||x.push("-");for(var C=d-16,T=new Uint8Array(C),S=0;S<C;S++)T[S]=f.readUByte();b(r._txtTrack.samples,{pts:e.pts,payloadType:p,uuid:x.join(""),userData:Object(a.utf8ArrayToStr)(T),userDataBytes:T})}}else if(d<f.bytesAvailable)for(var R=0;R<d;R++)f.readUByte()}break;case 7:if(n=!0,l=!0,!i.sps){var L=new o.default(t.data).readSPS();i.width=L.width,i.height=L.height,i.pixelRatio=L.pixelRatio,i.sps=[t.data],i.duration=r._duration;for(var P=t.data.subarray(1,4),O="avc1.",I=0;I<3;I++){var D=P[I].toString(16);D.length<2&&(D="0"+D),O+=D}i.codec=O}break;case 8:n=!0,i.pps||(i.pps=[t.data]);break;case 9:n=!1,i.audFound=!0,u&&y(u,i),u=r.avcSample=h(!1,e.pts,e.dts,"");break;case 12:n=!1;break;default:n=!1,u&&(u.debug+="unknown NAL "+t.type+" ")}u&&n&&u.units.push(t)})),t&&u&&(y(u,i),this.avcSample=null)},t.getLastNalUnit=function(){var e,t,n=this.avcSample;if(!n||0===n.units.length){var r=this._avcTrack.samples;n=r[r.length-1]}if(null!==(e=n)&&void 0!==e&&e.units){var i=n.units;t=i[i.length-1]}return t},t.parseAVCNALu=function(e){var t,n,r=e.byteLength,i=this._avcTrack,o=i.naluState||0,a=o,s=[],u=0,l=-1,c=0;for(-1===o&&(l=0,c=31&e[0],o=0,u=1);u<r;)if(t=e[u++],o)if(1!==o)if(t)if(1===t){if(l>=0){var f={data:e.subarray(l,u-o-1),type:c};s.push(f)}else{var p=this.getLastNalUnit();if(p&&(a&&u<=4-a&&p.state&&(p.data=p.data.subarray(0,p.data.byteLength-a)),(n=u-o-1)>0)){var d=new Uint8Array(p.data.byteLength+n);d.set(p.data,0),d.set(e.subarray(0,n),p.data.byteLength),p.data=d,p.state=0}}u<r?(l=u,c=31&e[u],o=0):o=-1}else o=0;else o=3;else o=t?0:2;else o=t?0:1;if(l>=0&&o>=0){var h={data:e.subarray(l,r),type:c,state:o};s.push(h)}if(0===s.length){var g=this.getLastNalUnit();if(g){var m=new Uint8Array(g.data.byteLength+e.byteLength);m.set(g.data,0),m.set(e,g.data.byteLength),g.data=m}}return i.naluState=o,s},t.parseAACPES=function(e){var t,n,i,o,a,s=0,l=this._audioTrack,p=this.aacOverFlow,d=e.data;if(p){this.aacOverFlow=null;var h=p.sample.unit.byteLength,g=Math.min(p.missing,h),m=h-g;p.sample.unit.set(d.subarray(0,g),m),l.samples.push(p.sample),s=p.missing}for(t=s,n=d.length;t<n-1&&!r.isHeader(d,t);t++);if(t===s||(t<n-1?(i="AAC PES did not start with ADTS header,offset:"+t,o=!1):(i="no ADTS header found in AAC PES",o=!0),c.logger.warn("parsing error:"+i),this.observer.emit(u.Events.ERROR,u.Events.ERROR,{type:f.ErrorTypes.MEDIA_ERROR,details:f.ErrorDetails.FRAG_PARSING_ERROR,fatal:o,reason:i}),!o)){if(r.initTrackConfig(l,this.observer,d,t,this.audioCodec),void 0!==e.pts)a=e.pts;else{if(!p)return void c.logger.warn("[tsdemuxer]: AAC PES unknown PTS");var v=r.getFrameDuration(l.samplerate);a=p.sample.pts+v}for(var y=0;t<n;){if(r.isHeader(d,t)){if(t+5<n){var b=r.appendFrame(l,d,t,a,y);if(b){if(!b.missing){t+=b.length,y++;continue}this.aacOverFlow=b}}break}t++}}},t.parseMPEGPES=function(e){var t=e.data,n=t.length,r=0,o=0,a=e.pts;if(void 0!==a)for(;o<n;)if(i.isHeader(t,o)){var s=i.appendFrame(this._audioTrack,t,o,a,r);if(!s)break;o+=s.length,r++}else o++;else c.logger.warn("[tsdemuxer]: MPEG PES unknown PTS")},t.parseID3PES=function(e){void 0!==e.pts?this._id3Track.samples.push(e):c.logger.warn("[tsdemuxer]: ID3 PES unknown PTS")},e}();function h(e,t,n,r){return{key:e,frame:!1,pts:t,dts:n,units:[],debug:r,length:0}}function g(e,t){return(31&e[t+10])<<8|e[t+11]}function m(e,t,n,r){var i={audio:-1,avc:-1,id3:-1,isAAC:!0},o=t+3+((15&e[t+1])<<8|e[t+2])-4;for(t+=12+((15&e[t+10])<<8|e[t+11]);t<o;){var a=(31&e[t+1])<<8|e[t+2];switch(e[t]){case 207:if(!r){c.logger.log("ADTS AAC with AES-128-CBC frame encryption found in unencrypted stream");break}case 15:-1===i.audio&&(i.audio=a);break;case 21:-1===i.id3&&(i.id3=a);break;case 219:if(!r){c.logger.log("H.264 with AES-128-CBC slice encryption found in unencrypted stream");break}case 27:-1===i.avc&&(i.avc=a);break;case 3:case 4:n?-1===i.audio&&(i.audio=a,i.isAAC=!1):c.logger.log("MPEG audio found, not supported in this browser");break;case 36:c.logger.warn("Unsupported HEVC stream type found")}t+=5+((15&e[t+3])<<8|e[t+4])}return i}function v(e){var t,n,r,i,o,a=0,s=e.data;if(!e||0===e.size)return null;for(;s[0].length<19&&s.length>1;){var u=new Uint8Array(s[0].length+s[1].length);u.set(s[0]),u.set(s[1],s[0].length),s[0]=u,s.splice(1,1)}if(1===((t=s[0])[0]<<16)+(t[1]<<8)+t[2]){if((n=(t[4]<<8)+t[5])&&n>e.size-6)return null;var l=t[7];192&l&&(i=536870912*(14&t[9])+4194304*(255&t[10])+16384*(254&t[11])+128*(255&t[12])+(254&t[13])/2,64&l?i-(o=536870912*(14&t[14])+4194304*(255&t[15])+16384*(254&t[16])+128*(255&t[17])+(254&t[18])/2)>54e5&&(c.logger.warn(Math.round((i-o)/9e4)+"s delta between PTS and DTS, align them"),i=o):o=i);var f=(r=t[8])+9;if(e.size<=f)return null;e.size-=f;for(var p=new Uint8Array(e.size),d=0,h=s.length;d<h;d++){var g=(t=s[d]).byteLength;if(f){if(f>g){f-=g;continue}t=t.subarray(f),g-=f,f=0}p.set(t,a),a+=g}return n&&(n-=r+3),{data:p,pts:i,dts:o,len:n}}return null}function y(e,t){if(e.units.length&&e.frame){if(void 0===e.pts){var n=t.samples,r=n.length;if(!r)return void t.dropped++;var i=n[r-1];e.pts=i.pts,e.dts=i.dts}t.samples.push(e)}e.debug.length&&c.logger.log(e.pts+"/"+e.dts+":"+e.debug)}function b(e,t){var n=e.length;if(n>0){if(t.pts>=e[n-1].pts)e.push(t);else for(var r=n-1;r>=0;r--)if(t.pts<e[r].pts){e.splice(r,0,t);break}}else e.push(t)}function w(e){for(var t=e.byteLength,n=[],r=1;r<t-2;)0===e[r]&&0===e[r+1]&&3===e[r+2]?(n.push(r+2),r+=2):r++;if(0===n.length)return e;var i=t-n.length,o=new Uint8Array(i),a=0;for(r=0;r<i;a++,r++)a===n[0]&&(a++,n.shift()),o[r]=e[a];return o}d.minProbeByteLength=188,t.default=d},"./src/errors.ts":function(e,t,n){var r,i;n.r(t),n.d(t,"ErrorTypes",(function(){return r})),n.d(t,"ErrorDetails",(function(){return i})),function(e){e.NETWORK_ERROR="networkError",e.MEDIA_ERROR="mediaError",e.KEY_SYSTEM_ERROR="keySystemError",e.MUX_ERROR="muxError",e.OTHER_ERROR="otherError"}(r||(r={})),function(e){e.KEY_SYSTEM_NO_KEYS="keySystemNoKeys",e.KEY_SYSTEM_NO_ACCESS="keySystemNoAccess",e.KEY_SYSTEM_NO_SESSION="keySystemNoSession",e.KEY_SYSTEM_LICENSE_REQUEST_FAILED="keySystemLicenseRequestFailed",e.KEY_SYSTEM_NO_INIT_DATA="keySystemNoInitData",e.MANIFEST_LOAD_ERROR="manifestLoadError",e.MANIFEST_LOAD_TIMEOUT="manifestLoadTimeOut",e.MANIFEST_PARSING_ERROR="manifestParsingError",e.MANIFEST_INCOMPATIBLE_CODECS_ERROR="manifestIncompatibleCodecsError",e.LEVEL_EMPTY_ERROR="levelEmptyError",e.LEVEL_LOAD_ERROR="levelLoadError",e.LEVEL_LOAD_TIMEOUT="levelLoadTimeOut",e.LEVEL_SWITCH_ERROR="levelSwitchError",e.AUDIO_TRACK_LOAD_ERROR="audioTrackLoadError",e.AUDIO_TRACK_LOAD_TIMEOUT="audioTrackLoadTimeOut",e.SUBTITLE_LOAD_ERROR="subtitleTrackLoadError",e.SUBTITLE_TRACK_LOAD_TIMEOUT="subtitleTrackLoadTimeOut",e.FRAG_LOAD_ERROR="fragLoadError",e.FRAG_LOAD_TIMEOUT="fragLoadTimeOut",e.FRAG_DECRYPT_ERROR="fragDecryptError",e.FRAG_PARSING_ERROR="fragParsingError",e.REMUX_ALLOC_ERROR="remuxAllocError",e.KEY_LOAD_ERROR="keyLoadError",e.KEY_LOAD_TIMEOUT="keyLoadTimeOut",e.BUFFER_ADD_CODEC_ERROR="bufferAddCodecError",e.BUFFER_INCOMPATIBLE_CODECS_ERROR="bufferIncompatibleCodecsError",e.BUFFER_APPEND_ERROR="bufferAppendError",e.BUFFER_APPENDING_ERROR="bufferAppendingError",e.BUFFER_STALLED_ERROR="bufferStalledError",e.BUFFER_FULL_ERROR="bufferFullError",e.BUFFER_SEEK_OVER_HOLE="bufferSeekOverHole",e.BUFFER_NUDGE_ON_STALL="bufferNudgeOnStall",e.INTERNAL_EXCEPTION="internalException",e.INTERNAL_ABORTED="aborted",e.UNKNOWN="unknown"}(i||(i={}))},"./src/events.ts":function(e,t,n){var r;n.r(t),n.d(t,"Events",(function(){return r})),function(e){e.MEDIA_ATTACHING="hlsMediaAttaching",e.MEDIA_ATTACHED="hlsMediaAttached",e.MEDIA_DETACHING="hlsMediaDetaching",e.MEDIA_DETACHED="hlsMediaDetached",e.BUFFER_RESET="hlsBufferReset",e.BUFFER_CODECS="hlsBufferCodecs",e.BUFFER_CREATED="hlsBufferCreated",e.BUFFER_APPENDING="hlsBufferAppending",e.BUFFER_APPENDED="hlsBufferAppended",e.BUFFER_EOS="hlsBufferEos",e.BUFFER_FLUSHING="hlsBufferFlushing",e.BUFFER_FLUSHED="hlsBufferFlushed",e.MANIFEST_LOADING="hlsManifestLoading",e.MANIFEST_LOADED="hlsManifestLoaded",e.MANIFEST_PARSED="hlsManifestParsed",e.LEVEL_SWITCHING="hlsLevelSwitching",e.LEVEL_SWITCHED="hlsLevelSwitched",e.LEVEL_LOADING="hlsLevelLoading",e.LEVEL_LOADED="hlsLevelLoaded",e.LEVEL_UPDATED="hlsLevelUpdated",e.LEVEL_PTS_UPDATED="hlsLevelPtsUpdated",e.LEVELS_UPDATED="hlsLevelsUpdated",e.AUDIO_TRACKS_UPDATED="hlsAudioTracksUpdated",e.AUDIO_TRACK_SWITCHING="hlsAudioTrackSwitching",e.AUDIO_TRACK_SWITCHED="hlsAudioTrackSwitched",e.AUDIO_TRACK_LOADING="hlsAudioTrackLoading",e.AUDIO_TRACK_LOADED="hlsAudioTrackLoaded",e.SUBTITLE_TRACKS_UPDATED="hlsSubtitleTracksUpdated",e.SUBTITLE_TRACKS_CLEARED="hlsSubtitleTracksCleared",e.SUBTITLE_TRACK_SWITCH="hlsSubtitleTrackSwitch",e.SUBTITLE_TRACK_LOADING="hlsSubtitleTrackLoading",e.SUBTITLE_TRACK_LOADED="hlsSubtitleTrackLoaded",e.SUBTITLE_FRAG_PROCESSED="hlsSubtitleFragProcessed",e.CUES_PARSED="hlsCuesParsed",e.NON_NATIVE_TEXT_TRACKS_FOUND="hlsNonNativeTextTracksFound",e.INIT_PTS_FOUND="hlsInitPtsFound",e.FRAG_LOADING="hlsFragLoading",e.FRAG_LOAD_EMERGENCY_ABORTED="hlsFragLoadEmergencyAborted",e.FRAG_LOADED="hlsFragLoaded",e.FRAG_DECRYPTED="hlsFragDecrypted",e.FRAG_PARSING_INIT_SEGMENT="hlsFragParsingInitSegment",e.FRAG_PARSING_USERDATA="hlsFragParsingUserdata",e.FRAG_PARSING_METADATA="hlsFragParsingMetadata",e.FRAG_PARSED="hlsFragParsed",e.FRAG_BUFFERED="hlsFragBuffered",e.FRAG_CHANGED="hlsFragChanged",e.FPS_DROP="hlsFpsDrop",e.FPS_DROP_LEVEL_CAPPING="hlsFpsDropLevelCapping",e.ERROR="hlsError",e.DESTROYING="hlsDestroying",e.KEY_LOADING="hlsKeyLoading",e.KEY_LOADED="hlsKeyLoaded",e.LIVE_BACK_BUFFER_REACHED="hlsLiveBackBufferReached",e.BACK_BUFFER_REACHED="hlsBackBufferReached"}(r||(r={}))},"./src/hls.ts":function(e,t,n){n.r(t),n.d(t,"default",(function(){return y}));var r=n("./node_modules/url-toolkit/src/url-toolkit.js"),i=n("./src/loader/playlist-loader.ts"),o=n("./src/loader/key-loader.ts"),a=n("./src/controller/id3-track-controller.ts"),s=n("./src/controller/latency-controller.ts"),u=n("./src/controller/level-controller.ts"),l=n("./src/controller/fragment-tracker.ts"),c=n("./src/controller/stream-controller.ts"),f=n("./src/is-supported.ts"),p=n("./src/utils/logger.ts"),d=n("./src/config.ts"),h=n("./node_modules/eventemitter3/index.js"),g=n("./src/events.ts"),m=n("./src/errors.ts");function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var y=function(){function e(t){void 0===t&&(t={}),this.config=void 0,this.userConfig=void 0,this.coreComponents=void 0,this.networkControllers=void 0,this._emitter=new h.EventEmitter,this._autoLevelCapping=void 0,this.abrController=void 0,this.bufferController=void 0,this.capLevelController=void 0,this.latencyController=void 0,this.levelController=void 0,this.streamController=void 0,this.audioTrackController=void 0,this.subtitleTrackController=void 0,this.emeController=void 0,this.cmcdController=void 0,this._media=null,this.url=null;var n=this.config=Object(d.mergeConfig)(e.DefaultConfig,t);this.userConfig=t,Object(p.enableLogs)(n.debug),this._autoLevelCapping=-1,n.progressive&&Object(d.enableStreamingMode)(n);var r=n.abrController,f=n.bufferController,g=n.capLevelController,m=n.fpsController,v=this.abrController=new r(this),y=this.bufferController=new f(this),b=this.capLevelController=new g(this),w=new m(this),A=new i.default(this),_=new o.default(this),k=new a.default(this),x=this.levelController=new u.default(this),E=new l.FragmentTracker(this),C=this.streamController=new c.default(this,E);b.setStreamController(C),w.setStreamController(C);var T=[x,C];this.networkControllers=T;var S=[A,_,v,y,b,w,k,E];this.audioTrackController=this.createController(n.audioTrackController,null,T),this.createController(n.audioStreamController,E,T),this.subtitleTrackController=this.createController(n.subtitleTrackController,null,T),this.createController(n.subtitleStreamController,E,T),this.createController(n.timelineController,null,S),this.emeController=this.createController(n.emeController,null,S),this.cmcdController=this.createController(n.cmcdController,null,S),this.latencyController=this.createController(s.default,null,S),this.coreComponents=S}e.isSupported=function(){return Object(f.isSupported)()};var t,n,y,b=e.prototype;return b.createController=function(e,t,n){if(e){var r=t?new e(this,t):new e(this);return n&&n.push(r),r}return null},b.on=function(e,t,n){void 0===n&&(n=this),this._emitter.on(e,t,n)},b.once=function(e,t,n){void 0===n&&(n=this),this._emitter.once(e,t,n)},b.removeAllListeners=function(e){this._emitter.removeAllListeners(e)},b.off=function(e,t,n,r){void 0===n&&(n=this),this._emitter.off(e,t,n,r)},b.listeners=function(e){return this._emitter.listeners(e)},b.emit=function(e,t,n){return this._emitter.emit(e,t,n)},b.trigger=function(e,t){if(this.config.debug)return this.emit(e,e,t);try{return this.emit(e,e,t)}catch(t){p.logger.error("An internal error happened while handling event "+e+'. Error message: "'+t.message+'". Here is a stacktrace:',t),this.trigger(g.Events.ERROR,{type:m.ErrorTypes.OTHER_ERROR,details:m.ErrorDetails.INTERNAL_EXCEPTION,fatal:!1,event:e,error:t})}return!1},b.listenerCount=function(e){return this._emitter.listenerCount(e)},b.destroy=function(){p.logger.log("destroy"),this.trigger(g.Events.DESTROYING,void 0),this.detachMedia(),this.removeAllListeners(),this._autoLevelCapping=-1,this.url=null,this.networkControllers.forEach((function(e){return e.destroy()})),this.networkControllers.length=0,this.coreComponents.forEach((function(e){return e.destroy()})),this.coreComponents.length=0},b.attachMedia=function(e){p.logger.log("attachMedia"),this._media=e,this.trigger(g.Events.MEDIA_ATTACHING,{media:e})},b.detachMedia=function(){p.logger.log("detachMedia"),this.trigger(g.Events.MEDIA_DETACHING,void 0),this._media=null},b.loadSource=function(e){this.stopLoad();var t=this.media,n=this.url,i=this.url=r.buildAbsoluteURL(self.location.href,e,{alwaysNormalize:!0});p.logger.log("loadSource:"+i),t&&n&&n!==i&&this.bufferController.hasSourceTypes()&&(this.detachMedia(),this.attachMedia(t)),this.trigger(g.Events.MANIFEST_LOADING,{url:e})},b.startLoad=function(e){void 0===e&&(e=-1),p.logger.log("startLoad("+e+")"),this.networkControllers.forEach((function(t){t.startLoad(e)}))},b.stopLoad=function(){p.logger.log("stopLoad"),this.networkControllers.forEach((function(e){e.stopLoad()}))},b.swapAudioCodec=function(){p.logger.log("swapAudioCodec"),this.streamController.swapAudioCodec()},b.recoverMediaError=function(){p.logger.log("recoverMediaError");var e=this._media;this.detachMedia(),e&&this.attachMedia(e)},b.removeLevel=function(e,t){void 0===t&&(t=0),this.levelController.removeLevel(e,t)},t=e,y=[{key:"version",get:function(){return"1.1.5"}},{key:"Events",get:function(){return g.Events}},{key:"ErrorTypes",get:function(){return m.ErrorTypes}},{key:"ErrorDetails",get:function(){return m.ErrorDetails}},{key:"DefaultConfig",get:function(){return e.defaultConfig?e.defaultConfig:d.hlsDefaultConfig},set:function(t){e.defaultConfig=t}}],(n=[{key:"levels",get:function(){return this.levelController.levels||[]}},{key:"currentLevel",get:function(){return this.streamController.currentLevel},set:function(e){p.logger.log("set currentLevel:"+e),this.loadLevel=e,this.abrController.clearTimer(),this.streamController.immediateLevelSwitch()}},{key:"nextLevel",get:function(){return this.streamController.nextLevel},set:function(e){p.logger.log("set nextLevel:"+e),this.levelController.manualLevel=e,this.streamController.nextLevelSwitch()}},{key:"loadLevel",get:function(){return this.levelController.level},set:function(e){p.logger.log("set loadLevel:"+e),this.levelController.manualLevel=e}},{key:"nextLoadLevel",get:function(){return this.levelController.nextLoadLevel},set:function(e){this.levelController.nextLoadLevel=e}},{key:"firstLevel",get:function(){return Math.max(this.levelController.firstLevel,this.minAutoLevel)},set:function(e){p.logger.log("set firstLevel:"+e),this.levelController.firstLevel=e}},{key:"startLevel",get:function(){return this.levelController.startLevel},set:function(e){p.logger.log("set startLevel:"+e),-1!==e&&(e=Math.max(e,this.minAutoLevel)),this.levelController.startLevel=e}},{key:"capLevelToPlayerSize",get:function(){return this.config.capLevelToPlayerSize},set:function(e){var t=!!e;t!==this.config.capLevelToPlayerSize&&(t?this.capLevelController.startCapping():(this.capLevelController.stopCapping(),this.autoLevelCapping=-1,this.streamController.nextLevelSwitch()),this.config.capLevelToPlayerSize=t)}},{key:"autoLevelCapping",get:function(){return this._autoLevelCapping},set:function(e){this._autoLevelCapping!==e&&(p.logger.log("set autoLevelCapping:"+e),this._autoLevelCapping=e)}},{key:"bandwidthEstimate",get:function(){var e=this.abrController.bwEstimator;return e?e.getEstimate():NaN}},{key:"autoLevelEnabled",get:function(){return-1===this.levelController.manualLevel}},{key:"manualLevel",get:function(){return this.levelController.manualLevel}},{key:"minAutoLevel",get:function(){var e=this.levels,t=this.config.minAutoBitrate;if(!e)return 0;for(var n=e.length,r=0;r<n;r++)if(e[r].maxBitrate>t)return r;return 0}},{key:"maxAutoLevel",get:function(){var e=this.levels,t=this.autoLevelCapping;return-1===t&&e&&e.length?e.length-1:t}},{key:"nextAutoLevel",get:function(){return Math.min(Math.max(this.abrController.nextAutoLevel,this.minAutoLevel),this.maxAutoLevel)},set:function(e){this.abrController.nextAutoLevel=Math.max(this.minAutoLevel,e)}},{key:"audioTracks",get:function(){var e=this.audioTrackController;return e?e.audioTracks:[]}},{key:"audioTrack",get:function(){var e=this.audioTrackController;return e?e.audioTrack:-1},set:function(e){var t=this.audioTrackController;t&&(t.audioTrack=e)}},{key:"subtitleTracks",get:function(){var e=this.subtitleTrackController;return e?e.subtitleTracks:[]}},{key:"subtitleTrack",get:function(){var e=this.subtitleTrackController;return e?e.subtitleTrack:-1},set:function(e){var t=this.subtitleTrackController;t&&(t.subtitleTrack=e)}},{key:"media",get:function(){return this._media}},{key:"subtitleDisplay",get:function(){var e=this.subtitleTrackController;return!!e&&e.subtitleDisplay},set:function(e){var t=this.subtitleTrackController;t&&(t.subtitleDisplay=e)}},{key:"lowLatencyMode",get:function(){return this.config.lowLatencyMode},set:function(e){this.config.lowLatencyMode=e}},{key:"liveSyncPosition",get:function(){return this.latencyController.liveSyncPosition}},{key:"latency",get:function(){return this.latencyController.latency}},{key:"maxLatency",get:function(){return this.latencyController.maxLatency}},{key:"targetLatency",get:function(){return this.latencyController.targetLatency}},{key:"drift",get:function(){return this.latencyController.drift}},{key:"forceStartLoad",get:function(){return this.streamController.forceStartLoad}}])&&v(t.prototype,n),y&&v(t,y),e}();y.defaultConfig=void 0},"./src/is-supported.ts":function(e,t,n){n.r(t),n.d(t,"isSupported",(function(){return o})),n.d(t,"changeTypeSupported",(function(){return a}));var r=n("./src/utils/mediasource-helper.ts");function i(){return self.SourceBuffer||self.WebKitSourceBuffer}function o(){var e=Object(r.getMediaSource)();if(!e)return!1;var t=i(),n=e&&"function"==typeof e.isTypeSupported&&e.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),o=!t||t.prototype&&"function"==typeof t.prototype.appendBuffer&&"function"==typeof t.prototype.remove;return!!n&&!!o}function a(){var e,t=i();return"function"==typeof(null==t||null===(e=t.prototype)||void 0===e?void 0:e.changeType)}},"./src/loader/fragment-loader.ts":function(e,t,n){n.r(t),n.d(t,"default",(function(){return f})),n.d(t,"LoadError",(function(){return d}));var r=n("./src/polyfills/number.ts"),i=n("./src/errors.ts");function o(e){var t="function"==typeof Map?new Map:void 0;return o=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return a(e,arguments,l(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),u(r,e)},o(e)}function a(e,t,n){return a=s()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&u(i,n.prototype),i},a.apply(null,arguments)}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function u(e,t){return u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},u(e,t)}function l(e){return l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},l(e)}var c=Math.pow(2,17),f=function(){function e(e){this.config=void 0,this.loader=null,this.partLoadTimeout=-1,this.config=e}var t=e.prototype;return t.destroy=function(){this.loader&&(this.loader.destroy(),this.loader=null)},t.abort=function(){this.loader&&this.loader.abort()},t.load=function(e,t){var n=this,r=e.url;if(!r)return Promise.reject(new d({type:i.ErrorTypes.NETWORK_ERROR,details:i.ErrorDetails.FRAG_LOAD_ERROR,fatal:!1,frag:e,networkDetails:null},"Fragment does not have a "+(r?"part list":"url")));this.abort();var o=this.config,a=o.fLoader,s=o.loader;return new Promise((function(r,u){n.loader&&n.loader.destroy();var l=n.loader=e.loader=a?new a(o):new s(o),f=p(e),h={timeout:o.fragLoadingTimeOut,maxRetry:0,retryDelay:0,maxRetryDelay:o.fragLoadingMaxRetryTimeout,highWaterMark:c};e.stats=l.stats,l.load(f,h,{onSuccess:function(t,i,o,a){n.resetLoader(e,l),r({frag:e,part:null,payload:t.data,networkDetails:a})},onError:function(t,r,o){n.resetLoader(e,l),u(new d({type:i.ErrorTypes.NETWORK_ERROR,details:i.ErrorDetails.FRAG_LOAD_ERROR,fatal:!1,frag:e,response:t,networkDetails:o}))},onAbort:function(t,r,o){n.resetLoader(e,l),u(new d({type:i.ErrorTypes.NETWORK_ERROR,details:i.ErrorDetails.INTERNAL_ABORTED,fatal:!1,frag:e,networkDetails:o}))},onTimeout:function(t,r,o){n.resetLoader(e,l),u(new d({type:i.ErrorTypes.NETWORK_ERROR,details:i.ErrorDetails.FRAG_LOAD_TIMEOUT,fatal:!1,frag:e,networkDetails:o}))},onProgress:function(n,r,i,o){t&&t({frag:e,part:null,payload:i,networkDetails:o})}})}))},t.loadPart=function(e,t,n){var r=this;this.abort();var o=this.config,a=o.fLoader,s=o.loader;return new Promise((function(u,l){r.loader&&r.loader.destroy();var f=r.loader=e.loader=a?new a(o):new s(o),h=p(e,t),g={timeout:o.fragLoadingTimeOut,maxRetry:0,retryDelay:0,maxRetryDelay:o.fragLoadingMaxRetryTimeout,highWaterMark:c};t.stats=f.stats,f.load(h,g,{onSuccess:function(i,o,a,s){r.resetLoader(e,f),r.updateStatsFromPart(e,t);var l={frag:e,part:t,payload:i.data,networkDetails:s};n(l),u(l)},onError:function(n,o,a){r.resetLoader(e,f),l(new d({type:i.ErrorTypes.NETWORK_ERROR,details:i.ErrorDetails.FRAG_LOAD_ERROR,fatal:!1,frag:e,part:t,response:n,networkDetails:a}))},onAbort:function(n,o,a){e.stats.aborted=t.stats.aborted,r.resetLoader(e,f),l(new d({type:i.ErrorTypes.NETWORK_ERROR,details:i.ErrorDetails.INTERNAL_ABORTED,fatal:!1,frag:e,part:t,networkDetails:a}))},onTimeout:function(n,o,a){r.resetLoader(e,f),l(new d({type:i.ErrorTypes.NETWORK_ERROR,details:i.ErrorDetails.FRAG_LOAD_TIMEOUT,fatal:!1,frag:e,part:t,networkDetails:a}))}})}))},t.updateStatsFromPart=function(e,t){var n=e.stats,r=t.stats,i=r.total;if(n.loaded+=r.loaded,i){var o=Math.round(e.duration/t.duration),a=Math.min(Math.round(n.loaded/i),o),s=(o-a)*Math.round(n.loaded/a);n.total=n.loaded+s}else n.total=Math.max(n.loaded,n.total);var u=n.loading,l=r.loading;u.start?u.first+=l.first-l.start:(u.start=l.start,u.first=l.first),u.end=l.end},t.resetLoader=function(e,t){e.loader=null,this.loader===t&&(self.clearTimeout(this.partLoadTimeout),this.loader=null),t.destroy()},e}();function p(e,t){void 0===t&&(t=null);var n=t||e,i={frag:e,part:t,responseType:"arraybuffer",url:n.url,headers:{},rangeStart:0,rangeEnd:0},o=n.byteRangeStartOffset,a=n.byteRangeEndOffset;return Object(r.isFiniteNumber)(o)&&Object(r.isFiniteNumber)(a)&&(i.rangeStart=o,i.rangeEnd=a),i}var d=function(e){var t,n;function r(t){for(var n,r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return(n=e.call.apply(e,[this].concat(i))||this).data=void 0,n.data=t,n}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,u(t,n),r}(o(Error))},"./src/loader/fragment.ts":function(e,t,n){n.r(t),n.d(t,"ElementaryStreamTypes",(function(){return r})),n.d(t,"BaseSegment",(function(){return d})),n.d(t,"Fragment",(function(){return h})),n.d(t,"Part",(function(){return g}));var r,i=n("./src/polyfills/number.ts"),o=n("./node_modules/url-toolkit/src/url-toolkit.js"),a=n("./src/utils/logger.ts"),s=n("./src/loader/level-key.ts"),u=n("./src/loader/load-stats.ts");function l(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,c(e,t)}function c(e,t){return c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},c(e,t)}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t,n){return t&&f(e.prototype,t),n&&f(e,n),e}!function(e){e.AUDIO="audio",e.VIDEO="video",e.AUDIOVIDEO="audiovideo"}(r||(r={}));var d=function(){function e(e){var t;this._byteRange=null,this._url=null,this.baseurl=void 0,this.relurl=void 0,this.elementaryStreams=((t={})[r.AUDIO]=null,t[r.VIDEO]=null,t[r.AUDIOVIDEO]=null,t),this.baseurl=e}return e.prototype.setByteRange=function(e,t){var n=e.split("@",2),r=[];1===n.length?r[0]=t?t.byteRangeEndOffset:0:r[0]=parseInt(n[1]),r[1]=parseInt(n[0])+r[0],this._byteRange=r},p(e,[{key:"byteRange",get:function(){return this._byteRange?this._byteRange:[]}},{key:"byteRangeStartOffset",get:function(){return this.byteRange[0]}},{key:"byteRangeEndOffset",get:function(){return this.byteRange[1]}},{key:"url",get:function(){return!this._url&&this.baseurl&&this.relurl&&(this._url=Object(o.buildAbsoluteURL)(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url||""},set:function(e){this._url=e}}]),e}(),h=function(e){function t(t,n){var r;return(r=e.call(this,n)||this)._decryptdata=null,r.rawProgramDateTime=null,r.programDateTime=null,r.tagList=[],r.duration=0,r.sn=0,r.levelkey=void 0,r.type=void 0,r.loader=null,r.level=-1,r.cc=0,r.startPTS=void 0,r.endPTS=void 0,r.appendedPTS=void 0,r.startDTS=void 0,r.endDTS=void 0,r.start=0,r.deltaPTS=void 0,r.maxStartPTS=void 0,r.minEndPTS=void 0,r.stats=new u.LoadStats,r.urlId=0,r.data=void 0,r.bitrateTest=!1,r.title=null,r.initSegment=null,r.type=t,r}l(t,e);var n=t.prototype;return n.createInitializationVector=function(e){for(var t=new Uint8Array(16),n=12;n<16;n++)t[n]=e>>8*(15-n)&255;return t},n.setDecryptDataFromLevelKey=function(e,t){var n=e;return"AES-128"===(null==e?void 0:e.method)&&e.uri&&!e.iv&&((n=s.LevelKey.fromURI(e.uri)).method=e.method,n.iv=this.createInitializationVector(t),n.keyFormat="identity"),n},n.setElementaryStreamInfo=function(e,t,n,r,i,o){void 0===o&&(o=!1);var a=this.elementaryStreams,s=a[e];s?(s.startPTS=Math.min(s.startPTS,t),s.endPTS=Math.max(s.endPTS,n),s.startDTS=Math.min(s.startDTS,r),s.endDTS=Math.max(s.endDTS,i)):a[e]={startPTS:t,endPTS:n,startDTS:r,endDTS:i,partial:o}},n.clearElementaryStreamInfo=function(){var e=this.elementaryStreams;e[r.AUDIO]=null,e[r.VIDEO]=null,e[r.AUDIOVIDEO]=null},p(t,[{key:"decryptdata",get:function(){if(!this.levelkey&&!this._decryptdata)return null;if(!this._decryptdata&&this.levelkey){var e=this.sn;"number"!=typeof e&&(this.levelkey&&"AES-128"===this.levelkey.method&&!this.levelkey.iv&&a.logger.warn('missing IV for initialization segment with method="'+this.levelkey.method+'" - compliance issue'),e=0),this._decryptdata=this.setDecryptDataFromLevelKey(this.levelkey,e)}return this._decryptdata}},{key:"end",get:function(){return this.start+this.duration}},{key:"endProgramDateTime",get:function(){if(null===this.programDateTime)return null;if(!Object(i.isFiniteNumber)(this.programDateTime))return null;var e=Object(i.isFiniteNumber)(this.duration)?this.duration:0;return this.programDateTime+1e3*e}},{key:"encrypted",get:function(){var e;return!(null===(e=this.decryptdata)||void 0===e||!e.keyFormat||!this.decryptdata.uri)}}]),t}(d),g=function(e){function t(t,n,r,i,o){var a;(a=e.call(this,r)||this).fragOffset=0,a.duration=0,a.gap=!1,a.independent=!1,a.relurl=void 0,a.fragment=void 0,a.index=void 0,a.stats=new u.LoadStats,a.duration=t.decimalFloatingPoint("DURATION"),a.gap=t.bool("GAP"),a.independent=t.bool("INDEPENDENT"),a.relurl=t.enumeratedString("URI"),a.fragment=n,a.index=i;var s=t.enumeratedString("BYTERANGE");return s&&a.setByteRange(s,o),o&&(a.fragOffset=o.fragOffset+o.duration),a}return l(t,e),p(t,[{key:"start",get:function(){return this.fragment.start+this.fragOffset}},{key:"end",get:function(){return this.start+this.duration}},{key:"loaded",get:function(){var e=this.elementaryStreams;return!!(e.audio||e.video||e.audiovideo)}}]),t}(d)},"./src/loader/key-loader.ts":function(e,t,n){n.r(t),n.d(t,"default",(function(){return a}));var r=n("./src/events.ts"),i=n("./src/errors.ts"),o=n("./src/utils/logger.ts"),a=function(){function e(e){this.hls=void 0,this.loaders={},this.decryptkey=null,this.decrypturl=null,this.hls=e,this._registerListeners()}var t=e.prototype;return t._registerListeners=function(){this.hls.on(r.Events.KEY_LOADING,this.onKeyLoading,this)},t._unregisterListeners=function(){this.hls.off(r.Events.KEY_LOADING,this.onKeyLoading)},t.destroy=function(){for(var e in this._unregisterListeners(),this.loaders){var t=this.loaders[e];t&&t.destroy()}this.loaders={}},t.onKeyLoading=function(e,t){var n=t.frag,i=n.type,a=this.loaders[i];if(n.decryptdata){var s=n.decryptdata.uri;if(s!==this.decrypturl||null===this.decryptkey){var u=this.hls.config;if(a&&(o.logger.warn("abort previous key loader for type:"+i),a.abort()),!s)return void o.logger.warn("key uri is falsy");var l=u.loader,c=n.loader=this.loaders[i]=new l(u);this.decrypturl=s,this.decryptkey=null;var f={url:s,frag:n,responseType:"arraybuffer"},p={timeout:u.fragLoadingTimeOut,maxRetry:0,retryDelay:u.fragLoadingRetryDelay,maxRetryDelay:u.fragLoadingMaxRetryTimeout,highWaterMark:0},d={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)};c.load(f,p,d)}else this.decryptkey&&(n.decryptdata.key=this.decryptkey,this.hls.trigger(r.Events.KEY_LOADED,{frag:n}))}else o.logger.warn("Missing decryption data on fragment in onKeyLoading")},t.loadsuccess=function(e,t,n){var i=n.frag;i.decryptdata?(this.decryptkey=i.decryptdata.key=new Uint8Array(e.data),i.loader=null,delete this.loaders[i.type],this.hls.trigger(r.Events.KEY_LOADED,{frag:i})):o.logger.error("after key load, decryptdata unset")},t.loaderror=function(e,t){var n=t.frag,o=n.loader;o&&o.abort(),delete this.loaders[n.type],this.hls.trigger(r.Events.ERROR,{type:i.ErrorTypes.NETWORK_ERROR,details:i.ErrorDetails.KEY_LOAD_ERROR,fatal:!1,frag:n,response:e})},t.loadtimeout=function(e,t){var n=t.frag,o=n.loader;o&&o.abort(),delete this.loaders[n.type],this.hls.trigger(r.Events.ERROR,{type:i.ErrorTypes.NETWORK_ERROR,details:i.ErrorDetails.KEY_LOAD_TIMEOUT,fatal:!1,frag:n})},e}()},"./src/loader/level-details.ts":function(e,t,n){n.r(t),n.d(t,"LevelDetails",(function(){return i}));var r=n("./src/polyfills/number.ts"),i=function(){function e(e){this.PTSKnown=!1,this.alignedSliding=!1,this.averagetargetduration=void 0,this.endCC=0,this.endSN=0,this.fragments=void 0,this.fragmentHint=void 0,this.partList=null,this.live=!0,this.ageHeader=0,this.advancedDateTime=void 0,this.updated=!0,this.advanced=!0,this.availabilityDelay=void 0,this.misses=0,this.needSidxRanges=!1,this.startCC=0,this.startSN=0,this.startTimeOffset=null,this.targetduration=0,this.totalduration=0,this.type=null,this.url=void 0,this.m3u8="",this.version=null,this.canBlockReload=!1,this.canSkipUntil=0,this.canSkipDateRanges=!1,this.skippedSegments=0,this.recentlyRemovedDateranges=void 0,this.partHoldBack=0,this.holdBack=0,this.partTarget=0,this.preloadHint=void 0,this.renditionReports=void 0,this.tuneInGoal=0,this.deltaUpdateFailed=void 0,this.driftStartTime=0,this.driftEndTime=0,this.driftStart=0,this.driftEnd=0,this.fragments=[],this.url=e}var t;return e.prototype.reloaded=function(e){if(!e)return this.advanced=!0,void(this.updated=!0);var t=this.lastPartSn-e.lastPartSn,n=this.lastPartIndex-e.lastPartIndex;this.updated=this.endSN!==e.endSN||!!n||!!t,this.advanced=this.endSN>e.endSN||t>0||0===t&&n>0,this.updated||this.advanced?this.misses=Math.floor(.6*e.misses):this.misses=e.misses+1,this.availabilityDelay=e.availabilityDelay},(t=[{key:"hasProgramDateTime",get:function(){return!!this.fragments.length&&Object(r.isFiniteNumber)(this.fragments[this.fragments.length-1].programDateTime)}},{key:"levelTargetDuration",get:function(){return this.averagetargetduration||this.targetduration||10}},{key:"drift",get:function(){var e=this.driftEndTime-this.driftStartTime;return e>0?1e3*(this.driftEnd-this.driftStart)/e:1}},{key:"edge",get:function(){return this.partEnd||this.fragmentEnd}},{key:"partEnd",get:function(){var e;return null!==(e=this.partList)&&void 0!==e&&e.length?this.partList[this.partList.length-1].end:this.fragmentEnd}},{key:"fragmentEnd",get:function(){var e;return null!==(e=this.fragments)&&void 0!==e&&e.length?this.fragments[this.fragments.length-1].end:0}},{key:"age",get:function(){return this.advancedDateTime?Math.max(Date.now()-this.advancedDateTime,0)/1e3:0}},{key:"lastPartIndex",get:function(){var e;return null!==(e=this.partList)&&void 0!==e&&e.length?this.partList[this.partList.length-1].index:-1}},{key:"lastPartSn",get:function(){var e;return null!==(e=this.partList)&&void 0!==e&&e.length?this.partList[this.partList.length-1].fragment.sn:this.endSN}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}()},"./src/loader/level-key.ts":function(e,t,n){n.r(t),n.d(t,"LevelKey",(function(){return i}));var r=n("./node_modules/url-toolkit/src/url-toolkit.js"),i=function(){function e(e,t){this._uri=null,this.method=null,this.keyFormat=null,this.keyFormatVersions=null,this.keyID=null,this.key=null,this.iv=null,this._uri=t?Object(r.buildAbsoluteURL)(e,t,{alwaysNormalize:!0}):e}var t;return e.fromURL=function(t,n){return new e(t,n)},e.fromURI=function(t){return new e(t)},(t=[{key:"uri",get:function(){return this._uri}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}()},"./src/loader/load-stats.ts":function(e,t,n){n.r(t),n.d(t,"LoadStats",(function(){return r}));var r=function(){this.aborted=!1,this.loaded=0,this.retry=0,this.total=0,this.chunkCount=0,this.bwEstimate=0,this.loading={start:0,first:0,end:0},this.parsing={start:0,end:0},this.buffering={start:0,first:0,end:0}}},"./src/loader/m3u8-parser.ts":function(e,t,n){n.r(t),n.d(t,"default",(function(){return m}));var r=n("./src/polyfills/number.ts"),i=n("./node_modules/url-toolkit/src/url-toolkit.js"),o=n("./src/loader/fragment.ts"),a=n("./src/loader/level-details.ts"),s=n("./src/loader/level-key.ts"),u=n("./src/utils/attr-list.ts"),l=n("./src/utils/logger.ts"),c=n("./src/utils/codecs.ts"),f=/#EXT-X-STREAM-INF:([^\r\n]*)(?:[\r\n](?:#[^\r\n]*)?)*([^\r\n]+)|#EXT-X-SESSION-DATA:([^\r\n]*)[\r\n]+/g,p=/#EXT-X-MEDIA:(.*)/g,d=new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/(?!#) *(\S[\S ]*)/.source,/#EXT-X-BYTERANGE:*(.+)/.source,/#EXT-X-PROGRAM-DATE-TIME:(.+)/.source,/#.*/.source].join("|"),"g"),h=new RegExp([/#(EXTM3U)/.source,/#EXT-X-(PLAYLIST-TYPE):(.+)/.source,/#EXT-X-(MEDIA-SEQUENCE): *(\d+)/.source,/#EXT-X-(SKIP):(.+)/.source,/#EXT-X-(TARGETDURATION): *(\d+)/.source,/#EXT-X-(KEY):(.+)/.source,/#EXT-X-(START):(.+)/.source,/#EXT-X-(ENDLIST)/.source,/#EXT-X-(DISCONTINUITY-SEQ)UENCE: *(\d+)/.source,/#EXT-X-(DIS)CONTINUITY/.source,/#EXT-X-(VERSION):(\d+)/.source,/#EXT-X-(MAP):(.+)/.source,/#EXT-X-(SERVER-CONTROL):(.+)/.source,/#EXT-X-(PART-INF):(.+)/.source,/#EXT-X-(GAP)/.source,/#EXT-X-(BITRATE):\s*(\d+)/.source,/#EXT-X-(PART):(.+)/.source,/#EXT-X-(PRELOAD-HINT):(.+)/.source,/#EXT-X-(RENDITION-REPORT):(.+)/.source,/(#)([^:]*):(.*)/.source,/(#)(.*)(?:.*)\r?\n?/.source].join("|")),g=/\.(mp4|m4s|m4v|m4a)$/i,m=function(){function e(){}return e.findGroup=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.id===t)return r}},e.convertAVC1ToAVCOTI=function(e){var t=e.split(".");if(t.length>2){var n=t.shift()+".";return(n+=parseInt(t.shift()).toString(16))+("000"+parseInt(t.shift()).toString(16)).substr(-4)}return e},e.resolve=function(e,t){return i.buildAbsoluteURL(t,e,{alwaysNormalize:!0})},e.parseMasterPlaylist=function(t,n){var r,i=[],o={},a=!1;for(f.lastIndex=0;null!=(r=f.exec(t));)if(r[1]){var s=new u.AttrList(r[1]),l={attrs:s,bitrate:s.decimalInteger("AVERAGE-BANDWIDTH")||s.decimalInteger("BANDWIDTH"),name:s.NAME,url:e.resolve(r[2],n)},c=s.decimalResolution("RESOLUTION");c&&(l.width=c.width,l.height=c.height),v((s.CODECS||"").split(/[ ,]+/).filter((function(e){return e})),l),l.videoCodec&&-1!==l.videoCodec.indexOf("avc1")&&(l.videoCodec=e.convertAVC1ToAVCOTI(l.videoCodec)),i.push(l)}else if(r[3]){var p=new u.AttrList(r[3]);p["DATA-ID"]&&(a=!0,o[p["DATA-ID"]]=p)}return{levels:i,sessionData:a?o:null}},e.parseMasterPlaylistMedia=function(t,n,r,i){var o;void 0===i&&(i=[]);var a=[],s=0;for(p.lastIndex=0;null!==(o=p.exec(t));){var l=new u.AttrList(o[1]);if(l.TYPE===r){var c={attrs:l,bitrate:0,id:s++,groupId:l["GROUP-ID"],instreamId:l["INSTREAM-ID"],name:l.NAME||l.LANGUAGE||"",type:r,default:l.bool("DEFAULT"),autoselect:l.bool("AUTOSELECT"),forced:l.bool("FORCED"),lang:l.LANGUAGE,url:l.URI?e.resolve(l.URI,n):""};if(i.length){var f=e.findGroup(i,c.groupId)||i[0];y(c,f,"audioCodec"),y(c,f,"textCodec")}a.push(c)}}return a},e.parseLevelPlaylist=function(e,t,n,c,f){var p,m,v,y=new a.LevelDetails(t),w=y.fragments,A=null,_=0,k=0,x=0,E=0,C=null,T=new o.Fragment(c,t),S=-1,R=!1;for(d.lastIndex=0,y.m3u8=e;null!==(p=d.exec(e));){R&&(R=!1,(T=new o.Fragment(c,t)).start=x,T.sn=_,T.cc=E,T.level=n,A&&(T.initSegment=A,T.rawProgramDateTime=A.rawProgramDateTime));var L=p[1];if(L){T.duration=parseFloat(L);var P=(" "+p[2]).slice(1);T.title=P||null,T.tagList.push(P?["INF",L,P]:["INF",L])}else if(p[3])Object(r.isFiniteNumber)(T.duration)&&(T.start=x,v&&(T.levelkey=v),T.sn=_,T.level=n,T.cc=E,T.urlId=f,w.push(T),T.relurl=(" "+p[3]).slice(1),b(T,C),C=T,x+=T.duration,_++,k=0,R=!0);else if(p[4]){var O=(" "+p[4]).slice(1);C?T.setByteRange(O,C):T.setByteRange(O)}else if(p[5])T.rawProgramDateTime=(" "+p[5]).slice(1),T.tagList.push(["PROGRAM-DATE-TIME",T.rawProgramDateTime]),-1===S&&(S=w.length);else{if(!(p=p[0].match(h))){l.logger.warn("No matches on slow regex match for level playlist!");continue}for(m=1;m<p.length&&void 0===p[m];m++);var I=(" "+p[m]).slice(1),D=(" "+p[m+1]).slice(1),B=p[m+2]?(" "+p[m+2]).slice(1):"";switch(I){case"PLAYLIST-TYPE":y.type=D.toUpperCase();break;case"MEDIA-SEQUENCE":_=y.startSN=parseInt(D);break;case"SKIP":var j=new u.AttrList(D),M=j.decimalInteger("SKIPPED-SEGMENTS");if(Object(r.isFiniteNumber)(M)){y.skippedSegments=M;for(var F=M;F--;)w.unshift(null);_+=M}var N=j.enumeratedString("RECENTLY-REMOVED-DATERANGES");N&&(y.recentlyRemovedDateranges=N.split("\t"));break;case"TARGETDURATION":y.targetduration=parseFloat(D);break;case"VERSION":y.version=parseInt(D);break;case"EXTM3U":break;case"ENDLIST":y.live=!1;break;case"#":(D||B)&&T.tagList.push(B?[D,B]:[D]);break;case"DIS":E++;case"GAP":T.tagList.push([I]);break;case"BITRATE":T.tagList.push([I,D]);break;case"DISCONTINUITY-SEQ":E=parseInt(D);break;case"KEY":var U,$=new u.AttrList(D),H=$.enumeratedString("METHOD"),G=$.URI,z=$.hexadecimalInteger("IV"),V=$.enumeratedString("KEYFORMATVERSIONS"),K=$.enumeratedString("KEYID"),Z=null!=(U=$.enumeratedString("KEYFORMAT"))?U:"identity";if(["com.apple.streamingkeydelivery","com.microsoft.playready","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","com.widevine"].indexOf(Z)>-1){l.logger.warn("Keyformat "+Z+" is not supported from the manifest");continue}if("identity"!==Z)continue;H&&(v=s.LevelKey.fromURL(t,G),G&&["AES-128","SAMPLE-AES","SAMPLE-AES-CENC"].indexOf(H)>=0&&(v.method=H,v.keyFormat=Z,K&&(v.keyID=K),V&&(v.keyFormatVersions=V),v.iv=z));break;case"START":var W=new u.AttrList(D).decimalFloatingPoint("TIME-OFFSET");Object(r.isFiniteNumber)(W)&&(y.startTimeOffset=W);break;case"MAP":var Y=new u.AttrList(D);T.relurl=Y.URI,Y.BYTERANGE&&T.setByteRange(Y.BYTERANGE),T.level=n,T.sn="initSegment",v&&(T.levelkey=v),T.initSegment=null,A=T,R=!0;break;case"SERVER-CONTROL":var q=new u.AttrList(D);y.canBlockReload=q.bool("CAN-BLOCK-RELOAD"),y.canSkipUntil=q.optionalFloat("CAN-SKIP-UNTIL",0),y.canSkipDateRanges=y.canSkipUntil>0&&q.bool("CAN-SKIP-DATERANGES"),y.partHoldBack=q.optionalFloat("PART-HOLD-BACK",0),y.holdBack=q.optionalFloat("HOLD-BACK",0);break;case"PART-INF":var X=new u.AttrList(D);y.partTarget=X.decimalFloatingPoint("PART-TARGET");break;case"PART":var Q=y.partList;Q||(Q=y.partList=[]);var J=k>0?Q[Q.length-1]:void 0,ee=k++,te=new o.Part(new u.AttrList(D),T,t,ee,J);Q.push(te),T.duration+=te.duration;break;case"PRELOAD-HINT":var ne=new u.AttrList(D);y.preloadHint=ne;break;case"RENDITION-REPORT":var re=new u.AttrList(D);y.renditionReports=y.renditionReports||[],y.renditionReports.push(re);break;default:l.logger.warn("line parsed but not handled: "+p)}}}C&&!C.relurl?(w.pop(),x-=C.duration,y.partList&&(y.fragmentHint=C)):y.partList&&(b(T,C),T.cc=E,y.fragmentHint=T);var ie=w.length,oe=w[0],ae=w[ie-1];if((x+=y.skippedSegments*y.targetduration)>0&&ie&&ae){y.averagetargetduration=x/ie;var se=ae.sn;y.endSN="initSegment"!==se?se:0,oe&&(y.startCC=oe.cc,oe.initSegment||y.fragments.every((function(e){return e.relurl&&(t=e.relurl,g.test(null!=(n=null===(r=i.parseURL(t))||void 0===r?void 0:r.path)?n:""));var t,n,r}))&&(l.logger.warn("MP4 fragments found but no init segment (probably no MAP, incomplete M3U8), trying to fetch SIDX"),(T=new o.Fragment(c,t)).relurl=ae.relurl,T.level=n,T.sn="initSegment",oe.initSegment=T,y.needSidxRanges=!0))}else y.endSN=0,y.startCC=0;return y.fragmentHint&&(x+=y.fragmentHint.duration),y.totalduration=x,y.endCC=E,S>0&&function(e,t){for(var n=e[t],r=t;r--;){var i=e[r];if(!i)return;i.programDateTime=n.programDateTime-1e3*i.duration,n=i}}(w,S),y},e}();function v(e,t){["video","audio","text"].forEach((function(n){var r=e.filter((function(e){return Object(c.isCodecType)(e,n)}));if(r.length){var i=r.filter((function(e){return 0===e.lastIndexOf("avc1",0)||0===e.lastIndexOf("mp4a",0)}));t[n+"Codec"]=i.length>0?i[0]:r[0],e=e.filter((function(e){return-1===r.indexOf(e)}))}})),t.unknownCodecs=e}function y(e,t,n){var r=t[n];r&&(e[n]=r)}function b(e,t){e.rawProgramDateTime?e.programDateTime=Date.parse(e.rawProgramDateTime):null!=t&&t.programDateTime&&(e.programDateTime=t.endProgramDateTime),Object(r.isFiniteNumber)(e.programDateTime)||(e.programDateTime=null,e.rawProgramDateTime=null)}},"./src/loader/playlist-loader.ts":function(e,t,n){n.r(t);var r=n("./src/polyfills/number.ts"),i=n("./src/events.ts"),o=n("./src/errors.ts"),a=n("./src/utils/logger.ts"),s=n("./src/utils/mp4-tools.ts"),u=n("./src/loader/m3u8-parser.ts"),l=n("./src/types/loader.ts"),c=n("./src/utils/attr-list.ts");function f(e,t){var n=e.url;return void 0!==n&&0!==n.indexOf("data:")||(n=t.url),n}var p=function(){function e(e){this.hls=void 0,this.loaders=Object.create(null),this.hls=e,this.registerListeners()}var t=e.prototype;return t.registerListeners=function(){var e=this.hls;e.on(i.Events.MANIFEST_LOADING,this.onManifestLoading,this),e.on(i.Events.LEVEL_LOADING,this.onLevelLoading,this),e.on(i.Events.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),e.on(i.Events.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)},t.unregisterListeners=function(){var e=this.hls;e.off(i.Events.MANIFEST_LOADING,this.onManifestLoading,this),e.off(i.Events.LEVEL_LOADING,this.onLevelLoading,this),e.off(i.Events.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),e.off(i.Events.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)},t.createInternalLoader=function(e){var t=this.hls.config,n=t.pLoader,r=t.loader,i=new(n||r)(t);return e.loader=i,this.loaders[e.type]=i,i},t.getInternalLoader=function(e){return this.loaders[e.type]},t.resetInternalLoader=function(e){this.loaders[e]&&delete this.loaders[e]},t.destroyInternalLoaders=function(){for(var e in this.loaders){var t=this.loaders[e];t&&t.destroy(),this.resetInternalLoader(e)}},t.destroy=function(){this.unregisterListeners(),this.destroyInternalLoaders()},t.onManifestLoading=function(e,t){var n=t.url;this.load({id:null,groupId:null,level:0,responseType:"text",type:l.PlaylistContextType.MANIFEST,url:n,deliveryDirectives:null})},t.onLevelLoading=function(e,t){var n=t.id,r=t.level,i=t.url,o=t.deliveryDirectives;this.load({id:n,groupId:null,level:r,responseType:"text",type:l.PlaylistContextType.LEVEL,url:i,deliveryDirectives:o})},t.onAudioTrackLoading=function(e,t){var n=t.id,r=t.groupId,i=t.url,o=t.deliveryDirectives;this.load({id:n,groupId:r,level:null,responseType:"text",type:l.PlaylistContextType.AUDIO_TRACK,url:i,deliveryDirectives:o})},t.onSubtitleTrackLoading=function(e,t){var n=t.id,r=t.groupId,i=t.url,o=t.deliveryDirectives;this.load({id:n,groupId:r,level:null,responseType:"text",type:l.PlaylistContextType.SUBTITLE_TRACK,url:i,deliveryDirectives:o})},t.load=function(e){var t,n,r,i,o,s,u=this.hls.config,c=this.getInternalLoader(e);if(c){var f=c.context;if(f&&f.url===e.url)return void a.logger.trace("[playlist-loader]: playlist request ongoing");a.logger.log("[playlist-loader]: aborting previous loader for type: "+e.type),c.abort()}switch(e.type){case l.PlaylistContextType.MANIFEST:n=u.manifestLoadingMaxRetry,r=u.manifestLoadingTimeOut,i=u.manifestLoadingRetryDelay,o=u.manifestLoadingMaxRetryTimeout;break;case l.PlaylistContextType.LEVEL:case l.PlaylistContextType.AUDIO_TRACK:case l.PlaylistContextType.SUBTITLE_TRACK:n=0,r=u.levelLoadingTimeOut;break;default:n=u.levelLoadingMaxRetry,r=u.levelLoadingTimeOut,i=u.levelLoadingRetryDelay,o=u.levelLoadingMaxRetryTimeout}if(c=this.createInternalLoader(e),null!==(t=e.deliveryDirectives)&&void 0!==t&&t.part&&(e.type===l.PlaylistContextType.LEVEL&&null!==e.level?s=this.hls.levels[e.level].details:e.type===l.PlaylistContextType.AUDIO_TRACK&&null!==e.id?s=this.hls.audioTracks[e.id].details:e.type===l.PlaylistContextType.SUBTITLE_TRACK&&null!==e.id&&(s=this.hls.subtitleTracks[e.id].details),s)){var p=s.partTarget,d=s.targetduration;p&&d&&(r=Math.min(1e3*Math.max(3*p,.8*d),r))}var h={timeout:r,maxRetry:n,retryDelay:i,maxRetryDelay:o,highWaterMark:0},g={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)};c.load(e,h,g)},t.loadsuccess=function(e,t,n,r){if(void 0===r&&(r=null),n.isSidxRequest)return this.handleSidxRequest(e,n),void this.handlePlaylistLoaded(e,t,n,r);this.resetInternalLoader(n.type);var i=e.data;0===i.indexOf("#EXTM3U")?(t.parsing.start=performance.now(),i.indexOf("#EXTINF:")>0||i.indexOf("#EXT-X-TARGETDURATION:")>0?this.handleTrackOrLevelPlaylist(e,t,n,r):this.handleMasterPlaylist(e,t,n,r)):this.handleManifestParsingError(e,n,"no EXTM3U delimiter",r)},t.loaderror=function(e,t,n){void 0===n&&(n=null),this.handleNetworkError(t,n,!1,e)},t.loadtimeout=function(e,t,n){void 0===n&&(n=null),this.handleNetworkError(t,n,!0)},t.handleMasterPlaylist=function(e,t,n,r){var o=this.hls,s=e.data,l=f(e,n),p=u.default.parseMasterPlaylist(s,l),d=p.levels,h=p.sessionData;if(d.length){var g=d.map((function(e){return{id:e.attrs.AUDIO,audioCodec:e.audioCodec}})),m=d.map((function(e){return{id:e.attrs.SUBTITLES,textCodec:e.textCodec}})),v=u.default.parseMasterPlaylistMedia(s,l,"AUDIO",g),y=u.default.parseMasterPlaylistMedia(s,l,"SUBTITLES",m),b=u.default.parseMasterPlaylistMedia(s,l,"CLOSED-CAPTIONS");v.length&&(v.some((function(e){return!e.url}))||!d[0].audioCodec||d[0].attrs.AUDIO||(a.logger.log("[playlist-loader]: audio codec signaled in quality level, but no embedded audio track signaled, create one"),v.unshift({type:"main",name:"main",default:!1,autoselect:!1,forced:!1,id:-1,attrs:new c.AttrList({}),bitrate:0,url:""}))),o.trigger(i.Events.MANIFEST_LOADED,{levels:d,audioTracks:v,subtitles:y,captions:b,url:l,stats:t,networkDetails:r,sessionData:h})}else this.handleManifestParsingError(e,n,"no level found in manifest",r)},t.handleTrackOrLevelPlaylist=function(e,t,n,a){var s=this.hls,p=n.id,d=n.level,h=n.type,g=f(e,n),m=Object(r.isFiniteNumber)(p)?p:0,v=Object(r.isFiniteNumber)(d)?d:m,y=function(e){switch(e.type){case l.PlaylistContextType.AUDIO_TRACK:return l.PlaylistLevelType.AUDIO;case l.PlaylistContextType.SUBTITLE_TRACK:return l.PlaylistLevelType.SUBTITLE;default:return l.PlaylistLevelType.MAIN}}(n),b=u.default.parseLevelPlaylist(e.data,g,v,y,m);if(b.fragments.length){if(h===l.PlaylistContextType.MANIFEST){var w={attrs:new c.AttrList({}),bitrate:0,details:b,name:"",url:g};s.trigger(i.Events.MANIFEST_LOADED,{levels:[w],audioTracks:[],url:g,stats:t,networkDetails:a,sessionData:null})}if(t.parsing.end=performance.now(),b.needSidxRanges){var A,_=null===(A=b.fragments[0].initSegment)||void 0===A?void 0:A.url;this.load({url:_,isSidxRequest:!0,type:h,level:d,levelDetails:b,id:p,groupId:null,rangeStart:0,rangeEnd:2048,responseType:"arraybuffer",deliveryDirectives:null})}else n.levelDetails=b,this.handlePlaylistLoaded(e,t,n,a)}else s.trigger(i.Events.ERROR,{type:o.ErrorTypes.NETWORK_ERROR,details:o.ErrorDetails.LEVEL_EMPTY_ERROR,fatal:!1,url:g,reason:"no fragments found in level",level:"number"==typeof n.level?n.level:void 0})},t.handleSidxRequest=function(e,t){var n=Object(s.parseSegmentIndex)(new Uint8Array(e.data));if(n){var r=n.references,i=t.levelDetails;r.forEach((function(e,t){var r=e.info,o=i.fragments[t];0===o.byteRange.length&&o.setByteRange(String(1+r.end-r.start)+"@"+String(r.start)),o.initSegment&&o.initSegment.setByteRange(String(n.moovEndOffset)+"@0")}))}},t.handleManifestParsingError=function(e,t,n,r){this.hls.trigger(i.Events.ERROR,{type:o.ErrorTypes.NETWORK_ERROR,details:o.ErrorDetails.MANIFEST_PARSING_ERROR,fatal:t.type===l.PlaylistContextType.MANIFEST,url:e.url,reason:n,response:e,context:t,networkDetails:r})},t.handleNetworkError=function(e,t,n,r){void 0===n&&(n=!1),a.logger.warn("[playlist-loader]: A network "+(n?"timeout":"error")+" occurred while loading "+e.type+" level: "+e.level+" id: "+e.id+' group-id: "'+e.groupId+'"');var s=o.ErrorDetails.UNKNOWN,u=!1,c=this.getInternalLoader(e);switch(e.type){case l.PlaylistContextType.MANIFEST:s=n?o.ErrorDetails.MANIFEST_LOAD_TIMEOUT:o.ErrorDetails.MANIFEST_LOAD_ERROR,u=!0;break;case l.PlaylistContextType.LEVEL:s=n?o.ErrorDetails.LEVEL_LOAD_TIMEOUT:o.ErrorDetails.LEVEL_LOAD_ERROR,u=!1;break;case l.PlaylistContextType.AUDIO_TRACK:s=n?o.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT:o.ErrorDetails.AUDIO_TRACK_LOAD_ERROR,u=!1;break;case l.PlaylistContextType.SUBTITLE_TRACK:s=n?o.ErrorDetails.SUBTITLE_TRACK_LOAD_TIMEOUT:o.ErrorDetails.SUBTITLE_LOAD_ERROR,u=!1}c&&this.resetInternalLoader(e.type);var f={type:o.ErrorTypes.NETWORK_ERROR,details:s,fatal:u,url:e.url,loader:c,context:e,networkDetails:t};r&&(f.response=r),this.hls.trigger(i.Events.ERROR,f)},t.handlePlaylistLoaded=function(e,t,n,r){var o=n.type,a=n.level,s=n.id,u=n.groupId,c=n.loader,f=n.levelDetails,p=n.deliveryDirectives;if(null!=f&&f.targetduration){if(c)switch(f.live&&(c.getCacheAge&&(f.ageHeader=c.getCacheAge()||0),c.getCacheAge&&!isNaN(f.ageHeader)||(f.ageHeader=0)),o){case l.PlaylistContextType.MANIFEST:case l.PlaylistContextType.LEVEL:this.hls.trigger(i.Events.LEVEL_LOADED,{details:f,level:a||0,id:s||0,stats:t,networkDetails:r,deliveryDirectives:p});break;case l.PlaylistContextType.AUDIO_TRACK:this.hls.trigger(i.Events.AUDIO_TRACK_LOADED,{details:f,id:s||0,groupId:u||"",stats:t,networkDetails:r,deliveryDirectives:p});break;case l.PlaylistContextType.SUBTITLE_TRACK:this.hls.trigger(i.Events.SUBTITLE_TRACK_LOADED,{details:f,id:s||0,groupId:u||"",stats:t,networkDetails:r,deliveryDirectives:p})}}else this.handleManifestParsingError(e,n,"invalid target duration",r)},e}();t.default=p},"./src/polyfills/number.ts":function(e,t,n){n.r(t),n.d(t,"isFiniteNumber",(function(){return r})),n.d(t,"MAX_SAFE_INTEGER",(function(){return i}));var r=Number.isFinite||function(e){return"number"==typeof e&&isFinite(e)},i=Number.MAX_SAFE_INTEGER||9007199254740991},"./src/remux/aac-helper.ts":function(e,t,n){n.r(t);var r=function(){function e(){}return e.getSilentFrame=function(e,t){if("mp4a.40.2"===e){if(1===t)return new Uint8Array([0,200,0,128,35,128]);if(2===t)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(3===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(4===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(5===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(6===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224])}else{if(1===t)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(2===t)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(3===t)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}},e}();t.default=r},"./src/remux/mp4-generator.ts":function(e,t,n){n.r(t);var r=Math.pow(2,32)-1,i=function(){function e(){}return e.init=function(){var t;for(t in e.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]},e.types)e.types.hasOwnProperty(t)&&(e.types[t]=[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3)]);var n=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),r=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);e.HDLR_TYPES={video:n,audio:r};var i=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),o=new Uint8Array([0,0,0,0,0,0,0,0]);e.STTS=e.STSC=e.STCO=o,e.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),e.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),e.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),e.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);var a=new Uint8Array([105,115,111,109]),s=new Uint8Array([97,118,99,49]),u=new Uint8Array([0,0,0,1]);e.FTYP=e.box(e.types.ftyp,a,u,a,s),e.DINF=e.box(e.types.dinf,e.box(e.types.dref,i))},e.box=function(e){for(var t=8,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var o=r.length,a=o;o--;)t+=r[o].byteLength;var s=new Uint8Array(t);for(s[0]=t>>24&255,s[1]=t>>16&255,s[2]=t>>8&255,s[3]=255&t,s.set(e,4),o=0,t=8;o<a;o++)s.set(r[o],t),t+=r[o].byteLength;return s},e.hdlr=function(t){return e.box(e.types.hdlr,e.HDLR_TYPES[t])},e.mdat=function(t){return e.box(e.types.mdat,t)},e.mdhd=function(t,n){n*=t;var i=Math.floor(n/(r+1)),o=Math.floor(n%(r+1));return e.box(e.types.mdhd,new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,t>>24&255,t>>16&255,t>>8&255,255&t,i>>24,i>>16&255,i>>8&255,255&i,o>>24,o>>16&255,o>>8&255,255&o,85,196,0,0]))},e.mdia=function(t){return e.box(e.types.mdia,e.mdhd(t.timescale,t.duration),e.hdlr(t.type),e.minf(t))},e.mfhd=function(t){return e.box(e.types.mfhd,new Uint8Array([0,0,0,0,t>>24,t>>16&255,t>>8&255,255&t]))},e.minf=function(t){return"audio"===t.type?e.box(e.types.minf,e.box(e.types.smhd,e.SMHD),e.DINF,e.stbl(t)):e.box(e.types.minf,e.box(e.types.vmhd,e.VMHD),e.DINF,e.stbl(t))},e.moof=function(t,n,r){return e.box(e.types.moof,e.mfhd(t),e.traf(r,n))},e.moov=function(t){for(var n=t.length,r=[];n--;)r[n]=e.trak(t[n]);return e.box.apply(null,[e.types.moov,e.mvhd(t[0].timescale,t[0].duration)].concat(r).concat(e.mvex(t)))},e.mvex=function(t){for(var n=t.length,r=[];n--;)r[n]=e.trex(t[n]);return e.box.apply(null,[e.types.mvex].concat(r))},e.mvhd=function(t,n){n*=t;var i=Math.floor(n/(r+1)),o=Math.floor(n%(r+1)),a=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,t>>24&255,t>>16&255,t>>8&255,255&t,i>>24,i>>16&255,i>>8&255,255&i,o>>24,o>>16&255,o>>8&255,255&o,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return e.box(e.types.mvhd,a)},e.sdtp=function(t){var n,r,i=t.samples||[],o=new Uint8Array(4+i.length);for(n=0;n<i.length;n++)r=i[n].flags,o[n+4]=r.dependsOn<<4|r.isDependedOn<<2|r.hasRedundancy;return e.box(e.types.sdtp,o)},e.stbl=function(t){return e.box(e.types.stbl,e.stsd(t),e.box(e.types.stts,e.STTS),e.box(e.types.stsc,e.STSC),e.box(e.types.stsz,e.STSZ),e.box(e.types.stco,e.STCO))},e.avc1=function(t){var n,r,i,o=[],a=[];for(n=0;n<t.sps.length;n++)i=(r=t.sps[n]).byteLength,o.push(i>>>8&255),o.push(255&i),o=o.concat(Array.prototype.slice.call(r));for(n=0;n<t.pps.length;n++)i=(r=t.pps[n]).byteLength,a.push(i>>>8&255),a.push(255&i),a=a.concat(Array.prototype.slice.call(r));var s=e.box(e.types.avcC,new Uint8Array([1,o[3],o[4],o[5],255,224|t.sps.length].concat(o).concat([t.pps.length]).concat(a))),u=t.width,l=t.height,c=t.pixelRatio[0],f=t.pixelRatio[1];return e.box(e.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,u>>8&255,255&u,l>>8&255,255&l,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),s,e.box(e.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),e.box(e.types.pasp,new Uint8Array([c>>24,c>>16&255,c>>8&255,255&c,f>>24,f>>16&255,f>>8&255,255&f])))},e.esds=function(e){var t=e.config.length;return new Uint8Array([0,0,0,0,3,23+t,0,1,0,4,15+t,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([t]).concat(e.config).concat([6,1,2]))},e.mp4a=function(t){var n=t.samplerate;return e.box(e.types.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,t.channelCount,0,16,0,0,0,0,n>>8&255,255&n,0,0]),e.box(e.types.esds,e.esds(t)))},e.mp3=function(t){var n=t.samplerate;return e.box(e.types[".mp3"],new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,t.channelCount,0,16,0,0,0,0,n>>8&255,255&n,0,0]))},e.stsd=function(t){return"audio"===t.type?t.isAAC||"mp3"!==t.codec?e.box(e.types.stsd,e.STSD,e.mp4a(t)):e.box(e.types.stsd,e.STSD,e.mp3(t)):e.box(e.types.stsd,e.STSD,e.avc1(t))},e.tkhd=function(t){var n=t.id,i=t.duration*t.timescale,o=t.width,a=t.height,s=Math.floor(i/(r+1)),u=Math.floor(i%(r+1));return e.box(e.types.tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,n>>24&255,n>>16&255,n>>8&255,255&n,0,0,0,0,s>>24,s>>16&255,s>>8&255,255&s,u>>24,u>>16&255,u>>8&255,255&u,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,o>>8&255,255&o,0,0,a>>8&255,255&a,0,0]))},e.traf=function(t,n){var i=e.sdtp(t),o=t.id,a=Math.floor(n/(r+1)),s=Math.floor(n%(r+1));return e.box(e.types.traf,e.box(e.types.tfhd,new Uint8Array([0,0,0,0,o>>24,o>>16&255,o>>8&255,255&o])),e.box(e.types.tfdt,new Uint8Array([1,0,0,0,a>>24,a>>16&255,a>>8&255,255&a,s>>24,s>>16&255,s>>8&255,255&s])),e.trun(t,i.length+16+20+8+16+8+8),i)},e.trak=function(t){return t.duration=t.duration||4294967295,e.box(e.types.trak,e.tkhd(t),e.mdia(t))},e.trex=function(t){var n=t.id;return e.box(e.types.trex,new Uint8Array([0,0,0,0,n>>24,n>>16&255,n>>8&255,255&n,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))},e.trun=function(t,n){var r,i,o,a,s,u,l=t.samples||[],c=l.length,f=12+16*c,p=new Uint8Array(f);for(n+=8+f,p.set([0,0,15,1,c>>>24&255,c>>>16&255,c>>>8&255,255&c,n>>>24&255,n>>>16&255,n>>>8&255,255&n],0),r=0;r<c;r++)o=(i=l[r]).duration,a=i.size,s=i.flags,u=i.cts,p.set([o>>>24&255,o>>>16&255,o>>>8&255,255&o,a>>>24&255,a>>>16&255,a>>>8&255,255&a,s.isLeading<<2|s.dependsOn,s.isDependedOn<<6|s.hasRedundancy<<4|s.paddingValue<<1|s.isNonSync,61440&s.degradPrio,15&s.degradPrio,u>>>24&255,u>>>16&255,u>>>8&255,255&u],12+16*r);return e.box(e.types.trun,p)},e.initSegment=function(t){e.types||e.init();var n=e.moov(t),r=new Uint8Array(e.FTYP.byteLength+n.byteLength);return r.set(e.FTYP),r.set(n,e.FTYP.byteLength),r},e}();i.types=void 0,i.HDLR_TYPES=void 0,i.STTS=void 0,i.STSC=void 0,i.STCO=void 0,i.STSZ=void 0,i.VMHD=void 0,i.SMHD=void 0,i.STSD=void 0,i.FTYP=void 0,i.DINF=void 0,t.default=i},"./src/remux/mp4-remuxer.ts":function(e,t,n){n.r(t),n.d(t,"default",(function(){return g})),n.d(t,"normalizePts",(function(){return m}));var r=n("./src/polyfills/number.ts"),i=n("./src/remux/aac-helper.ts"),o=n("./src/remux/mp4-generator.ts"),a=n("./src/events.ts"),s=n("./src/errors.ts"),u=n("./src/utils/logger.ts"),l=n("./src/types/loader.ts"),c=n("./src/utils/timescale-conversion.ts");function f(){return f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f.apply(this,arguments)}var p=null,d=null,h=!1,g=function(){function e(e,t,n,r){if(this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.ISGenerated=!1,this._initPTS=void 0,this._initDTS=void 0,this.nextAvcDts=null,this.nextAudioPts=null,this.isAudioContiguous=!1,this.isVideoContiguous=!1,this.observer=e,this.config=t,this.typeSupported=n,this.ISGenerated=!1,null===p){var i=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);p=i?parseInt(i[1]):0}if(null===d){var o=navigator.userAgent.match(/Safari\/(\d+)/i);d=o?parseInt(o[1]):0}h=!!p&&p<75||!!d&&d<600}var t=e.prototype;return t.destroy=function(){},t.resetTimeStamp=function(e){u.logger.log("[mp4-remuxer]: initPTS & initDTS reset"),this._initPTS=this._initDTS=e},t.resetNextTimestamp=function(){u.logger.log("[mp4-remuxer]: reset next timestamp"),this.isVideoContiguous=!1,this.isAudioContiguous=!1},t.resetInitSegment=function(){u.logger.log("[mp4-remuxer]: ISGenerated flag reset"),this.ISGenerated=!1},t.getVideoStartPts=function(e){var t=!1,n=e.reduce((function(e,n){var r=n.pts-e;return r<-4294967296?(t=!0,m(e,n.pts)):r>0?e:n.pts}),e[0].pts);return t&&u.logger.debug("PTS rollover detected"),n},t.remux=function(e,t,n,r,i,o,a,s){var c,f,p,d,h,g,v=i,y=i,b=e.pid>-1,w=t.pid>-1,A=t.samples.length,_=e.samples.length>0,k=A>1;if((!b||_)&&(!w||k)||this.ISGenerated||a){this.ISGenerated||(p=this.generateIS(e,t,i));var x=this.isVideoContiguous,E=-1;if(k&&(E=function(e){for(var t=0;t<e.length;t++)if(e[t].key)return t;return-1}(t.samples),!x&&this.config.forceKeyFrameOnDiscontinuity))if(g=!0,E>0){u.logger.warn("[mp4-remuxer]: Dropped "+E+" out of "+A+" video samples due to a missing keyframe");var C=this.getVideoStartPts(t.samples);t.samples=t.samples.slice(E),t.dropped+=E,y+=(t.samples[0].pts-C)/(t.timescale||9e4)}else-1===E&&(u.logger.warn("[mp4-remuxer]: No keyframe found out of "+A+" video samples"),g=!1);if(this.ISGenerated){if(_&&k){var T=this.getVideoStartPts(t.samples),S=(m(e.samples[0].pts,T)-T)/t.inputTimeScale;v+=Math.max(0,S),y+=Math.max(0,-S)}if(_){if(e.samplerate||(u.logger.warn("[mp4-remuxer]: regenerate InitSegment as audio detected"),p=this.generateIS(e,t,i)),f=this.remuxAudio(e,v,this.isAudioContiguous,o,w||k||s===l.PlaylistLevelType.AUDIO?y:void 0),k){var R=f?f.endPTS-f.startPTS:0;t.inputTimeScale||(u.logger.warn("[mp4-remuxer]: regenerate InitSegment as video detected"),p=this.generateIS(e,t,i)),c=this.remuxVideo(t,y,x,R)}}else k&&(c=this.remuxVideo(t,y,x,0));c&&(c.firstKeyFrame=E,c.independent=-1!==E)}}return this.ISGenerated&&(n.samples.length&&(h=this.remuxID3(n,i)),r.samples.length&&(d=this.remuxText(r,i))),{audio:f,video:c,initSegment:p,independent:g,text:d,id3:h}},t.generateIS=function(e,t,n){var i,a,s,u=e.samples,l=t.samples,c=this.typeSupported,f={},p=!Object(r.isFiniteNumber)(this._initPTS),d="audio/mp4";if(p&&(i=a=1/0),e.config&&u.length&&(e.timescale=e.samplerate,e.isAAC||(c.mpeg?(d="audio/mpeg",e.codec=""):c.mp3&&(e.codec="mp3")),f.audio={id:"audio",container:d,codec:e.codec,initSegment:!e.isAAC&&c.mpeg?new Uint8Array(0):o.default.initSegment([e]),metadata:{channelCount:e.channelCount}},p&&(s=e.inputTimeScale,i=a=u[0].pts-Math.round(s*n))),t.sps&&t.pps&&l.length&&(t.timescale=t.inputTimeScale,f.video={id:"main",container:"video/mp4",codec:t.codec,initSegment:o.default.initSegment([t]),metadata:{width:t.width,height:t.height}},p)){s=t.inputTimeScale;var h=this.getVideoStartPts(l),g=Math.round(s*n);a=Math.min(a,m(l[0].dts,h)-g),i=Math.min(i,h-g)}if(Object.keys(f).length)return this.ISGenerated=!0,p&&(this._initPTS=i,this._initDTS=a),{tracks:f,initPTS:i,timescale:s}},t.remuxVideo=function(e,t,n,r){var i,l,d,g=e.inputTimeScale,y=e.samples,b=[],w=y.length,A=this._initPTS,_=this.nextAvcDts,k=8,x=Number.POSITIVE_INFINITY,E=Number.NEGATIVE_INFINITY,C=0,T=!1;n&&null!==_||(_=t*g-(y[0].pts-m(y[0].dts,y[0].pts)));for(var S=0;S<w;S++){var R=y[S];R.pts=m(R.pts-A,_),R.dts=m(R.dts-A,_),R.dts>R.pts&&(C=Math.max(Math.min(C,R.pts-R.dts),-18e3)),R.dts<y[S>0?S-1:S].dts&&(T=!0)}T&&y.sort((function(e,t){var n=e.dts-t.dts,r=e.pts-t.pts;return n||r})),l=y[0].dts,d=y[y.length-1].dts;var L=Math.round((d-l)/(w-1));if(C<0){if(C<-2*L){u.logger.warn("PTS < DTS detected in video samples, offsetting DTS from PTS by "+Object(c.toMsFromMpegTsClock)(-L,!0)+" ms");for(var P=C,O=0;O<w;O++)y[O].dts=P=Math.max(P,y[O].pts-L),y[O].pts=Math.max(P,y[O].pts)}else{u.logger.warn("PTS < DTS detected in video samples, shifting DTS by "+Object(c.toMsFromMpegTsClock)(C,!0)+" ms to overcome this issue");for(var I=0;I<w;I++)y[I].dts=y[I].dts+C}l=y[0].dts}if(n){var D=l-_,B=D>L;if(B||D<-1){B?u.logger.warn("AVC: "+Object(c.toMsFromMpegTsClock)(D,!0)+" ms ("+D+"dts) hole between fragments detected, filling it"):u.logger.warn("AVC: "+Object(c.toMsFromMpegTsClock)(-D,!0)+" ms ("+D+"dts) overlapping between fragments detected"),l=_;var j=y[0].pts-D;y[0].dts=l,y[0].pts=j,u.logger.log("Video: First PTS/DTS adjusted: "+Object(c.toMsFromMpegTsClock)(j,!0)+"/"+Object(c.toMsFromMpegTsClock)(l,!0)+", delta: "+Object(c.toMsFromMpegTsClock)(D,!0)+" ms")}}h&&(l=Math.max(0,l));for(var M=0,F=0,N=0;N<w;N++){for(var U=y[N],$=U.units,H=$.length,G=0,z=0;z<H;z++)G+=$[z].data.length;F+=G,M+=H,U.length=G,U.dts=Math.max(U.dts,l),U.pts=Math.max(U.pts,U.dts,0),x=Math.min(U.pts,x),E=Math.max(U.pts,E)}d=y[w-1].dts;var V,K=F+4*M+8;try{V=new Uint8Array(K)}catch(e){return void this.observer.emit(a.Events.ERROR,a.Events.ERROR,{type:s.ErrorTypes.MUX_ERROR,details:s.ErrorDetails.REMUX_ALLOC_ERROR,fatal:!1,bytes:K,reason:"fail allocating video mdat "+K})}var Z=new DataView(V.buffer);Z.setUint32(0,K),V.set(o.default.types.mdat,4);for(var W=0;W<w;W++){for(var Y=y[W],q=Y.units,X=0,Q=0,J=q.length;Q<J;Q++){var ee=q[Q],te=ee.data,ne=ee.data.byteLength;Z.setUint32(k,ne),k+=4,V.set(te,k),k+=ne,X+=4+ne}if(W<w-1)i=y[W+1].dts-Y.dts;else{var re=this.config,ie=Y.dts-y[W>0?W-1:W].dts;if(re.stretchShortVideoTrack&&null!==this.nextAudioPts){var oe=Math.floor(re.maxBufferHole*g),ae=(r?x+r*g:this.nextAudioPts)-Y.pts;ae>oe?((i=ae-ie)<0&&(i=ie),u.logger.log("[mp4-remuxer]: It is approximately "+ae/90+" ms to the next segment; using duration "+i/90+" ms for the last video frame.")):i=ie}else i=ie}var se=Math.round(Y.pts-Y.dts);b.push(new v(Y.key,i,X,se))}if(b.length&&p&&p<70){var ue=b[0].flags;ue.dependsOn=2,ue.isNonSync=0}console.assert(void 0!==i,"mp4SampleDuration must be computed"),this.nextAvcDts=_=d+i,this.isVideoContiguous=!0;var le={data1:o.default.moof(e.sequenceNumber++,l,f({},e,{samples:b})),data2:V,startPTS:x/g,endPTS:(E+i)/g,startDTS:l/g,endDTS:_/g,type:"video",hasAudio:!1,hasVideo:!0,nb:b.length,dropped:e.dropped};return e.samples=[],e.dropped=0,console.assert(V.length,"MDAT length must not be zero"),le},t.remuxAudio=function(e,t,n,r,l){var c=e.inputTimeScale,p=c/(e.samplerate?e.samplerate:c),d=e.isAAC?1024:1152,h=d*p,g=this._initPTS,y=!e.isAAC&&this.typeSupported.mpeg,b=[],w=e.samples,A=y?0:8,_=this.nextAudioPts||-1,k=t*c;if(this.isAudioContiguous=n=n||w.length&&_>0&&(r&&Math.abs(k-_)<9e3||Math.abs(m(w[0].pts-g,k)-_)<20*h),w.forEach((function(e){e.pts=m(e.pts-g,k)})),!n||_<0){if(w=w.filter((function(e){return e.pts>=0})),!w.length)return;_=0===l?0:r?Math.max(0,k):w[0].pts}if(e.isAAC)for(var x=void 0!==l,E=this.config.maxAudioFramesDrift,C=0,T=_;C<w.length;C++){var S=w[C],R=S.pts,L=R-T,P=Math.abs(1e3*L/c);if(L<=-E*h&&x)0===C&&(u.logger.warn("Audio frame @ "+(R/c).toFixed(3)+"s overlaps nextAudioPts by "+Math.round(1e3*L/c)+" ms."),this.nextAudioPts=_=T=R);else if(L>=E*h&&P<1e4&&x){var O=Math.round(L/h);(T=R-O*h)<0&&(O--,T+=h),0===C&&(this.nextAudioPts=_=T),u.logger.warn("[mp4-remuxer]: Injecting "+O+" audio frame @ "+(T/c).toFixed(3)+"s due to "+Math.round(1e3*L/c)+" ms gap.");for(var I=0;I<O;I++){var D=Math.max(T,0),B=i.default.getSilentFrame(e.manifestCodec||e.codec,e.channelCount);B||(u.logger.log("[mp4-remuxer]: Unable to get silent frame for given audio codec; duplicating last frame instead."),B=S.unit.subarray()),w.splice(C,0,{unit:B,pts:D}),T+=h,C++}}S.pts=T,T+=h}for(var j,M=null,F=null,N=0,U=w.length;U--;)N+=w[U].unit.byteLength;for(var $=0,H=w.length;$<H;$++){var G=w[$],z=G.unit,V=G.pts;if(null!==F)b[$-1].duration=Math.round((V-F)/p);else{if(n&&e.isAAC&&(V=_),M=V,!(N>0))return;N+=A;try{j=new Uint8Array(N)}catch(e){return void this.observer.emit(a.Events.ERROR,a.Events.ERROR,{type:s.ErrorTypes.MUX_ERROR,details:s.ErrorDetails.REMUX_ALLOC_ERROR,fatal:!1,bytes:N,reason:"fail allocating audio mdat "+N})}y||(new DataView(j.buffer).setUint32(0,N),j.set(o.default.types.mdat,4))}j.set(z,A);var K=z.byteLength;A+=K,b.push(new v(!0,d,K,0)),F=V}var Z=b.length;if(Z){var W=b[b.length-1];this.nextAudioPts=_=F+p*W.duration;var Y=y?new Uint8Array(0):o.default.moof(e.sequenceNumber++,M/p,f({},e,{samples:b}));e.samples=[];var q=M/c,X=_/c,Q={data1:Y,data2:j,startPTS:q,endPTS:X,startDTS:q,endDTS:X,type:"audio",hasAudio:!0,hasVideo:!1,nb:Z};return this.isAudioContiguous=!0,console.assert(j.length,"MDAT length must not be zero"),Q}},t.remuxEmptyAudio=function(e,t,n,r){var o=e.inputTimeScale,a=o/(e.samplerate?e.samplerate:o),s=this.nextAudioPts,l=(null!==s?s:r.startDTS*o)+this._initDTS,c=r.endDTS*o+this._initDTS,f=1024*a,p=Math.ceil((c-l)/f),d=i.default.getSilentFrame(e.manifestCodec||e.codec,e.channelCount);if(u.logger.warn("[mp4-remuxer]: remux empty Audio"),d){for(var h=[],g=0;g<p;g++){var m=l+g*f;h.push({unit:d,pts:m,dts:m})}return e.samples=h,this.remuxAudio(e,t,n,!1)}u.logger.trace("[mp4-remuxer]: Unable to remuxEmptyAudio since we were unable to get a silent frame for given audio codec")},t.remuxID3=function(e,t){var n=e.samples.length;if(n){for(var r=e.inputTimeScale,i=this._initPTS,o=this._initDTS,a=0;a<n;a++){var s=e.samples[a];s.pts=m(s.pts-i,t*r)/r,s.dts=m(s.dts-o,t*r)/r}var u=e.samples;return e.samples=[],{samples:u}}},t.remuxText=function(e,t){var n=e.samples.length;if(n){for(var r=e.inputTimeScale,i=this._initPTS,o=0;o<n;o++){var a=e.samples[o];a.pts=m(a.pts-i,t*r)/r}e.samples.sort((function(e,t){return e.pts-t.pts}));var s=e.samples;return e.samples=[],{samples:s}}},e}();function m(e,t){var n;if(null===t)return e;for(n=t<e?-8589934592:8589934592;Math.abs(e-t)>4294967296;)e+=n;return e}var v=function(e,t,n,r){this.size=void 0,this.duration=void 0,this.cts=void 0,this.flags=void 0,this.duration=t,this.size=n,this.cts=r,this.flags=new y(e)},y=function(e){this.isLeading=0,this.isDependedOn=0,this.hasRedundancy=0,this.degradPrio=0,this.dependsOn=1,this.isNonSync=1,this.dependsOn=e?2:1,this.isNonSync=e?0:1}},"./src/remux/passthrough-remuxer.ts":function(e,t,n){n.r(t);var r=n("./src/polyfills/number.ts"),i=n("./src/utils/mp4-tools.ts"),o=n("./src/loader/fragment.ts"),a=n("./src/utils/logger.ts"),s=function(){function e(){this.emitInitSegment=!1,this.audioCodec=void 0,this.videoCodec=void 0,this.initData=void 0,this.initPTS=void 0,this.initTracks=void 0,this.lastEndDTS=null}var t=e.prototype;return t.destroy=function(){},t.resetTimeStamp=function(e){this.initPTS=e,this.lastEndDTS=null},t.resetNextTimestamp=function(){this.lastEndDTS=null},t.resetInitSegment=function(e,t,n){this.audioCodec=t,this.videoCodec=n,this.generateInitSegment(e),this.emitInitSegment=!0},t.generateInitSegment=function(e){var t=this.audioCodec,n=this.videoCodec;if(!e||!e.byteLength)return this.initTracks=void 0,void(this.initData=void 0);var r=this.initData=Object(i.parseInitSegment)(e);t||(t=l(r.audio,o.ElementaryStreamTypes.AUDIO)),n||(n=l(r.video,o.ElementaryStreamTypes.VIDEO));var s={};r.audio&&r.video?s.audiovideo={container:"video/mp4",codec:t+","+n,initSegment:e,id:"main"}:r.audio?s.audio={container:"audio/mp4",codec:t,initSegment:e,id:"audio"}:r.video?s.video={container:"video/mp4",codec:n,initSegment:e,id:"main"}:a.logger.warn("[passthrough-remuxer.ts]: initSegment does not contain moov or trak boxes."),this.initTracks=s},t.remux=function(e,t,n,o,s){var l=this.initPTS,c=this.lastEndDTS,f={audio:void 0,video:void 0,text:o,id3:n,initSegment:void 0};Object(r.isFiniteNumber)(c)||(c=this.lastEndDTS=s||0);var p=t.samples;if(!p||!p.length)return f;var d={initPTS:void 0,timescale:1},h=this.initData;if(h&&h.length||(this.generateInitSegment(p),h=this.initData),!h||!h.length)return a.logger.warn("[passthrough-remuxer.ts]: Failed to generate initSegment."),f;this.emitInitSegment&&(d.tracks=this.initTracks,this.emitInitSegment=!1),Object(r.isFiniteNumber)(l)||(this.initPTS=d.initPTS=l=u(h,p,c));var g=Object(i.getDuration)(p,h),m=c,v=g+m;Object(i.offsetStartDTS)(h,p,l),g>0?this.lastEndDTS=v:(a.logger.warn("Duration parsed from mp4 should be greater than zero"),this.resetNextTimestamp());var y=!!h.audio,b=!!h.video,w="";y&&(w+="audio"),b&&(w+="video");var A={data1:p,startPTS:m,startDTS:m,endPTS:v,endDTS:v,type:w,hasAudio:y,hasVideo:b,nb:1,dropped:0};return f.audio="audio"===A.type?A:void 0,f.video="audio"!==A.type?A:void 0,f.text=o,f.id3=n,f.initSegment=d,f},e}(),u=function(e,t,n){return Object(i.getStartDTS)(e,t)-n};function l(e,t){var n=null==e?void 0:e.codec;return n&&n.length>4?n:"hvc1"===n?"hvc1.1.c.L120.90":"av01"===n?"av01.0.04M.08":"avc1"===n||t===o.ElementaryStreamTypes.VIDEO?"avc1.42e01e":"mp4a.40.5"}t.default=s},"./src/task-loop.ts":function(e,t,n){n.r(t),n.d(t,"default",(function(){return r}));var r=function(){function e(){this._boundTick=void 0,this._tickTimer=null,this._tickInterval=null,this._tickCallCount=0,this._boundTick=this.tick.bind(this)}var t=e.prototype;return t.destroy=function(){this.onHandlerDestroying(),this.onHandlerDestroyed()},t.onHandlerDestroying=function(){this.clearNextTick(),this.clearInterval()},t.onHandlerDestroyed=function(){},t.hasInterval=function(){return!!this._tickInterval},t.hasNextTick=function(){return!!this._tickTimer},t.setInterval=function(e){return!this._tickInterval&&(this._tickInterval=self.setInterval(this._boundTick,e),!0)},t.clearInterval=function(){return!!this._tickInterval&&(self.clearInterval(this._tickInterval),this._tickInterval=null,!0)},t.clearNextTick=function(){return!!this._tickTimer&&(self.clearTimeout(this._tickTimer),this._tickTimer=null,!0)},t.tick=function(){this._tickCallCount++,1===this._tickCallCount&&(this.doTick(),this._tickCallCount>1&&this.tickImmediate(),this._tickCallCount=0)},t.tickImmediate=function(){this.clearNextTick(),this._tickTimer=self.setTimeout(this._boundTick,0)},t.doTick=function(){},e}()},"./src/types/cmcd.ts":function(e,t,n){n.r(t),n.d(t,"CMCDVersion",(function(){return a})),n.d(t,"CMCDObjectType",(function(){return r})),n.d(t,"CMCDStreamingFormat",(function(){return i})),n.d(t,"CMCDStreamType",(function(){return o}));var r,i,o,a=1;!function(e){e.MANIFEST="m",e.AUDIO="a",e.VIDEO="v",e.MUXED="av",e.INIT="i",e.CAPTION="c",e.TIMED_TEXT="tt",e.KEY="k",e.OTHER="o"}(r||(r={})),function(e){e.DASH="d",e.HLS="h",e.SMOOTH="s",e.OTHER="o"}(i||(i={})),function(e){e.VOD="v",e.LIVE="l"}(o||(o={}))},"./src/types/level.ts":function(e,t,n){var r;function i(e,t){var n=e.canSkipUntil,i=e.canSkipDateRanges,o=e.endSN;return n&&(void 0!==t?t-o:0)<n?i?r.v2:r.Yes:r.No}n.r(t),n.d(t,"HlsSkip",(function(){return r})),n.d(t,"getSkipValue",(function(){return i})),n.d(t,"HlsUrlParameters",(function(){return o})),n.d(t,"Level",(function(){return a})),function(e){e.No="",e.Yes="YES",e.v2="v2"}(r||(r={}));var o=function(){function e(e,t,n){this.msn=void 0,this.part=void 0,this.skip=void 0,this.msn=e,this.part=t,this.skip=n}return e.prototype.addDirectives=function(e){var t=new self.URL(e);return void 0!==this.msn&&t.searchParams.set("_HLS_msn",this.msn.toString()),void 0!==this.part&&t.searchParams.set("_HLS_part",this.part.toString()),this.skip&&t.searchParams.set("_HLS_skip",this.skip),t.toString()},e}(),a=function(){function e(e){this.attrs=void 0,this.audioCodec=void 0,this.bitrate=void 0,this.codecSet=void 0,this.height=void 0,this.id=void 0,this.name=void 0,this.videoCodec=void 0,this.width=void 0,this.unknownCodecs=void 0,this.audioGroupIds=void 0,this.details=void 0,this.fragmentError=0,this.loadError=0,this.loaded=void 0,this.realBitrate=0,this.textGroupIds=void 0,this.url=void 0,this._urlId=0,this.url=[e.url],this.attrs=e.attrs,this.bitrate=e.bitrate,e.details&&(this.details=e.details),this.id=e.id||0,this.name=e.name,this.width=e.width||0,this.height=e.height||0,this.audioCodec=e.audioCodec,this.videoCodec=e.videoCodec,this.unknownCodecs=e.unknownCodecs,this.codecSet=[e.videoCodec,e.audioCodec].filter((function(e){return e})).join(",").replace(/\.[^.,]+/g,"")}var t;return(t=[{key:"maxBitrate",get:function(){return Math.max(this.realBitrate,this.bitrate)}},{key:"uri",get:function(){return this.url[this._urlId]||""}},{key:"urlId",get:function(){return this._urlId},set:function(e){var t=e%this.url.length;this._urlId!==t&&(this.details=void 0,this._urlId=t)}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}()},"./src/types/loader.ts":function(e,t,n){var r,i;n.r(t),n.d(t,"PlaylistContextType",(function(){return r})),n.d(t,"PlaylistLevelType",(function(){return i})),function(e){e.MANIFEST="manifest",e.LEVEL="level",e.AUDIO_TRACK="audioTrack",e.SUBTITLE_TRACK="subtitleTrack"}(r||(r={})),function(e){e.MAIN="main",e.AUDIO="audio",e.SUBTITLE="subtitle"}(i||(i={}))},"./src/types/transmuxer.ts":function(e,t,n){n.r(t),n.d(t,"ChunkMetadata",(function(){return r}));var r=function(e,t,n,r,i,o){void 0===r&&(r=0),void 0===i&&(i=-1),void 0===o&&(o=!1),this.level=void 0,this.sn=void 0,this.part=void 0,this.id=void 0,this.size=void 0,this.partial=void 0,this.transmuxing={start:0,executeStart:0,executeEnd:0,end:0},this.buffering={audio:{start:0,executeStart:0,executeEnd:0,end:0},video:{start:0,executeStart:0,executeEnd:0,end:0},audiovideo:{start:0,executeStart:0,executeEnd:0,end:0}},this.level=e,this.sn=t,this.id=n,this.size=r,this.part=i,this.partial=o}},"./src/utils/attr-list.ts":function(e,t,n){n.r(t),n.d(t,"AttrList",(function(){return o}));var r=/^(\d+)x(\d+)$/,i=/\s*(.+?)\s*=((?:\".*?\")|.*?)(?:,|$)/g,o=function(){function e(t){for(var n in"string"==typeof t&&(t=e.parseAttrList(t)),t)t.hasOwnProperty(n)&&(this[n]=t[n])}var t=e.prototype;return t.decimalInteger=function(e){var t=parseInt(this[e],10);return t>Number.MAX_SAFE_INTEGER?1/0:t},t.hexadecimalInteger=function(e){if(this[e]){var t=(this[e]||"0x").slice(2);t=(1&t.length?"0":"")+t;for(var n=new Uint8Array(t.length/2),r=0;r<t.length/2;r++)n[r]=parseInt(t.slice(2*r,2*r+2),16);return n}return null},t.hexadecimalIntegerAsNumber=function(e){var t=parseInt(this[e],16);return t>Number.MAX_SAFE_INTEGER?1/0:t},t.decimalFloatingPoint=function(e){return parseFloat(this[e])},t.optionalFloat=function(e,t){var n=this[e];return n?parseFloat(n):t},t.enumeratedString=function(e){return this[e]},t.bool=function(e){return"YES"===this[e]},t.decimalResolution=function(e){var t=r.exec(this[e]);if(null!==t)return{width:parseInt(t[1],10),height:parseInt(t[2],10)}},e.parseAttrList=function(e){var t,n={};for(i.lastIndex=0;null!==(t=i.exec(e));){var r=t[2];0===r.indexOf('"')&&r.lastIndexOf('"')===r.length-1&&(r=r.slice(1,-1)),n[t[1]]=r}return n},e}()},"./src/utils/binary-search.ts":function(e,t,n){n.r(t),t.default={search:function(e,t){for(var n=0,r=e.length-1,i=null,o=null;n<=r;){var a=t(o=e[i=(n+r)/2|0]);if(a>0)n=i+1;else{if(!(a<0))return o;r=i-1}}return null}}},"./src/utils/buffer-helper.ts":function(e,t,n){n.r(t),n.d(t,"BufferHelper",(function(){return o}));var r=n("./src/utils/logger.ts"),i={length:0,start:function(){return 0},end:function(){return 0}},o=function(){function e(){}return e.isBuffered=function(t,n){try{if(t)for(var r=e.getBuffered(t),i=0;i<r.length;i++)if(n>=r.start(i)&&n<=r.end(i))return!0}catch(e){}return!1},e.bufferInfo=function(t,n,r){try{if(t){var i,o=e.getBuffered(t),a=[];for(i=0;i<o.length;i++)a.push({start:o.start(i),end:o.end(i)});return this.bufferedInfo(a,n,r)}}catch(e){}return{len:0,start:n,end:n,nextStart:void 0}},e.bufferedInfo=function(e,t,n){t=Math.max(0,t),e.sort((function(e,t){return e.start-t.start||t.end-e.end}));var r=[];if(n)for(var i=0;i<e.length;i++){var o=r.length;if(o){var a=r[o-1].end;e[i].start-a<n?e[i].end>a&&(r[o-1].end=e[i].end):r.push(e[i])}else r.push(e[i])}else r=e;for(var s,u=0,l=t,c=t,f=0;f<r.length;f++){var p=r[f].start,d=r[f].end;if(t+n>=p&&t<d)l=p,u=(c=d)-t;else if(t+n<p){s=p;break}}return{len:u,start:l||0,end:c||0,nextStart:s}},e.getBuffered=function(e){try{return e.buffered}catch(e){return r.logger.log("failed to get media.buffered",e),i}},e}()},"./src/utils/cea-608-parser.ts":function(e,t,n){n.r(t),n.d(t,"Row",(function(){return y})),n.d(t,"CaptionScreen",(function(){return b}));var r,i=n("./src/utils/logger.ts"),o={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},a=function(e){var t=e;return o.hasOwnProperty(e)&&(t=o[e]),String.fromCharCode(t)},s=15,u=100,l={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},c={17:2,18:4,21:6,22:8,23:10,19:13,20:15},f={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},p={25:2,26:4,29:6,30:8,31:10,27:13,28:15},d=["white","green","blue","cyan","red","yellow","magenta","black","transparent"];!function(e){e[e.ERROR=0]="ERROR",e[e.TEXT=1]="TEXT",e[e.WARNING=2]="WARNING",e[e.INFO=2]="INFO",e[e.DEBUG=3]="DEBUG",e[e.DATA=3]="DATA"}(r||(r={}));var h=function(){function e(){this.time=null,this.verboseLevel=r.ERROR}return e.prototype.log=function(e,t){this.verboseLevel>=e&&i.logger.log(this.time+" ["+e+"] "+t)},e}(),g=function(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n].toString(16));return t},m=function(){function e(e,t,n,r,i){this.foreground=void 0,this.underline=void 0,this.italics=void 0,this.background=void 0,this.flash=void 0,this.foreground=e||"white",this.underline=t||!1,this.italics=n||!1,this.background=r||"black",this.flash=i||!1}var t=e.prototype;return t.reset=function(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1},t.setStyles=function(e){for(var t=["foreground","underline","italics","background","flash"],n=0;n<t.length;n++){var r=t[n];e.hasOwnProperty(r)&&(this[r]=e[r])}},t.isDefault=function(){return"white"===this.foreground&&!this.underline&&!this.italics&&"black"===this.background&&!this.flash},t.equals=function(e){return this.foreground===e.foreground&&this.underline===e.underline&&this.italics===e.italics&&this.background===e.background&&this.flash===e.flash},t.copy=function(e){this.foreground=e.foreground,this.underline=e.underline,this.italics=e.italics,this.background=e.background,this.flash=e.flash},t.toString=function(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash},e}(),v=function(){function e(e,t,n,r,i,o){this.uchar=void 0,this.penState=void 0,this.uchar=e||" ",this.penState=new m(t,n,r,i,o)}var t=e.prototype;return t.reset=function(){this.uchar=" ",this.penState.reset()},t.setChar=function(e,t){this.uchar=e,this.penState.copy(t)},t.setPenState=function(e){this.penState.copy(e)},t.equals=function(e){return this.uchar===e.uchar&&this.penState.equals(e.penState)},t.copy=function(e){this.uchar=e.uchar,this.penState.copy(e.penState)},t.isEmpty=function(){return" "===this.uchar&&this.penState.isDefault()},e}(),y=function(){function e(e){this.chars=void 0,this.pos=void 0,this.currPenState=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chars=[];for(var t=0;t<u;t++)this.chars.push(new v);this.logger=e,this.pos=0,this.currPenState=new m}var t=e.prototype;return t.equals=function(e){for(var t=!0,n=0;n<u;n++)if(!this.chars[n].equals(e.chars[n])){t=!1;break}return t},t.copy=function(e){for(var t=0;t<u;t++)this.chars[t].copy(e.chars[t])},t.isEmpty=function(){for(var e=!0,t=0;t<u;t++)if(!this.chars[t].isEmpty()){e=!1;break}return e},t.setCursor=function(e){this.pos!==e&&(this.pos=e),this.pos<0?(this.logger.log(r.DEBUG,"Negative cursor position "+this.pos),this.pos=0):this.pos>u&&(this.logger.log(r.DEBUG,"Too large cursor position "+this.pos),this.pos=u)},t.moveCursor=function(e){var t=this.pos+e;if(e>1)for(var n=this.pos+1;n<t+1;n++)this.chars[n].setPenState(this.currPenState);this.setCursor(t)},t.backSpace=function(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)},t.insertChar=function(e){e>=144&&this.backSpace();var t=a(e);this.pos>=u?this.logger.log(r.ERROR,"Cannot insert "+e.toString(16)+" ("+t+") at position "+this.pos+". Skipping it!"):(this.chars[this.pos].setChar(t,this.currPenState),this.moveCursor(1))},t.clearFromPos=function(e){var t;for(t=e;t<u;t++)this.chars[t].reset()},t.clear=function(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()},t.clearToEndOfRow=function(){this.clearFromPos(this.pos)},t.getTextString=function(){for(var e=[],t=!0,n=0;n<u;n++){var r=this.chars[n].uchar;" "!==r&&(t=!1),e.push(r)}return t?"":e.join("")},t.setPenStyles=function(e){this.currPenState.setStyles(e),this.chars[this.pos].setPenState(this.currPenState)},e}(),b=function(){function e(e){this.rows=void 0,this.currRow=void 0,this.nrRollUpRows=void 0,this.lastOutputScreen=void 0,this.logger=void 0,this.rows=[];for(var t=0;t<s;t++)this.rows.push(new y(e));this.logger=e,this.currRow=14,this.nrRollUpRows=null,this.lastOutputScreen=null,this.reset()}var t=e.prototype;return t.reset=function(){for(var e=0;e<s;e++)this.rows[e].clear();this.currRow=14},t.equals=function(e){for(var t=!0,n=0;n<s;n++)if(!this.rows[n].equals(e.rows[n])){t=!1;break}return t},t.copy=function(e){for(var t=0;t<s;t++)this.rows[t].copy(e.rows[t])},t.isEmpty=function(){for(var e=!0,t=0;t<s;t++)if(!this.rows[t].isEmpty()){e=!1;break}return e},t.backSpace=function(){this.rows[this.currRow].backSpace()},t.clearToEndOfRow=function(){this.rows[this.currRow].clearToEndOfRow()},t.insertChar=function(e){this.rows[this.currRow].insertChar(e)},t.setPen=function(e){this.rows[this.currRow].setPenStyles(e)},t.moveCursor=function(e){this.rows[this.currRow].moveCursor(e)},t.setCursor=function(e){this.logger.log(r.INFO,"setCursor: "+e),this.rows[this.currRow].setCursor(e)},t.setPAC=function(e){this.logger.log(r.INFO,"pacData = "+JSON.stringify(e));var t=e.row-1;if(this.nrRollUpRows&&t<this.nrRollUpRows-1&&(t=this.nrRollUpRows-1),this.nrRollUpRows&&this.currRow!==t){for(var n=0;n<s;n++)this.rows[n].clear();var i=this.currRow+1-this.nrRollUpRows,o=this.lastOutputScreen;if(o){var a=o.rows[i].cueStartTime,u=this.logger.time;if(a&&null!==u&&a<u)for(var l=0;l<this.nrRollUpRows;l++)this.rows[t-this.nrRollUpRows+l+1].copy(o.rows[i+l])}}this.currRow=t;var c=this.rows[this.currRow];if(null!==e.indent){var f=e.indent,p=Math.max(f-1,0);c.setCursor(e.indent),e.color=c.chars[p].penState.foreground}var d={foreground:e.color,underline:e.underline,italics:e.italics,background:"black",flash:!1};this.setPen(d)},t.setBkgData=function(e){this.logger.log(r.INFO,"bkgData = "+JSON.stringify(e)),this.backSpace(),this.setPen(e),this.insertChar(32)},t.setRollUpRows=function(e){this.nrRollUpRows=e},t.rollUp=function(){if(null!==this.nrRollUpRows){this.logger.log(r.TEXT,this.getDisplayText());var e=this.currRow+1-this.nrRollUpRows,t=this.rows.splice(e,1)[0];t.clear(),this.rows.splice(this.currRow,0,t),this.logger.log(r.INFO,"Rolling up")}else this.logger.log(r.DEBUG,"roll_up but nrRollUpRows not set yet")},t.getDisplayText=function(e){e=e||!1;for(var t=[],n="",r=-1,i=0;i<s;i++){var o=this.rows[i].getTextString();o&&(r=i+1,e?t.push("Row "+r+": '"+o+"'"):t.push(o.trim()))}return t.length>0&&(n=e?"["+t.join(" | ")+"]":t.join("\n")),n},t.getTextAndFormat=function(){return this.rows},e}(),w=function(){function e(e,t,n){this.chNr=void 0,this.outputFilter=void 0,this.mode=void 0,this.verbose=void 0,this.displayedMemory=void 0,this.nonDisplayedMemory=void 0,this.lastOutputScreen=void 0,this.currRollUpRow=void 0,this.writeScreen=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chNr=e,this.outputFilter=t,this.mode=null,this.verbose=0,this.displayedMemory=new b(n),this.nonDisplayedMemory=new b(n),this.lastOutputScreen=new b(n),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.logger=n}var t=e.prototype;return t.reset=function(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.outputFilter.reset(),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null},t.getHandler=function(){return this.outputFilter},t.setHandler=function(e){this.outputFilter=e},t.setPAC=function(e){this.writeScreen.setPAC(e)},t.setBkgData=function(e){this.writeScreen.setBkgData(e)},t.setMode=function(e){e!==this.mode&&(this.mode=e,this.logger.log(r.INFO,"MODE="+e),"MODE_POP-ON"===this.mode?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),"MODE_ROLL-UP"!==this.mode&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=e)},t.insertChars=function(e){for(var t=0;t<e.length;t++)this.writeScreen.insertChar(e[t]);var n=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";this.logger.log(r.INFO,n+": "+this.writeScreen.getDisplayText(!0)),"MODE_PAINT-ON"!==this.mode&&"MODE_ROLL-UP"!==this.mode||(this.logger.log(r.TEXT,"DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())},t.ccRCL=function(){this.logger.log(r.INFO,"RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")},t.ccBS=function(){this.logger.log(r.INFO,"BS - BackSpace"),"MODE_TEXT"!==this.mode&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())},t.ccAOF=function(){},t.ccAON=function(){},t.ccDER=function(){this.logger.log(r.INFO,"DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()},t.ccRU=function(e){this.logger.log(r.INFO,"RU("+e+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(e)},t.ccFON=function(){this.logger.log(r.INFO,"FON - Flash On"),this.writeScreen.setPen({flash:!0})},t.ccRDC=function(){this.logger.log(r.INFO,"RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")},t.ccTR=function(){this.logger.log(r.INFO,"TR"),this.setMode("MODE_TEXT")},t.ccRTD=function(){this.logger.log(r.INFO,"RTD"),this.setMode("MODE_TEXT")},t.ccEDM=function(){this.logger.log(r.INFO,"EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate(!0)},t.ccCR=function(){this.logger.log(r.INFO,"CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate(!0)},t.ccENM=function(){this.logger.log(r.INFO,"ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()},t.ccEOC=function(){if(this.logger.log(r.INFO,"EOC - End Of Caption"),"MODE_POP-ON"===this.mode){var e=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=e,this.writeScreen=this.nonDisplayedMemory,this.logger.log(r.TEXT,"DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate(!0)},t.ccTO=function(e){this.logger.log(r.INFO,"TO("+e+") - Tab Offset"),this.writeScreen.moveCursor(e)},t.ccMIDROW=function(e){var t={flash:!1};if(t.underline=e%2==1,t.italics=e>=46,t.italics)t.foreground="white";else{var n=Math.floor(e/2)-16;t.foreground=["white","green","blue","cyan","red","yellow","magenta"][n]}this.logger.log(r.INFO,"MIDROW: "+JSON.stringify(t)),this.writeScreen.setPen(t)},t.outputDataUpdate=function(e){void 0===e&&(e=!1);var t=this.logger.time;null!==t&&this.outputFilter&&(null!==this.cueStartTime||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue(this.cueStartTime,t,this.lastOutputScreen),e&&this.outputFilter.dispatchCue&&this.outputFilter.dispatchCue(),this.cueStartTime=this.displayedMemory.isEmpty()?null:t):this.cueStartTime=t,this.lastOutputScreen.copy(this.displayedMemory))},t.cueSplitAtTime=function(e){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,e,this.displayedMemory),this.cueStartTime=e))},e}(),A=function(){function e(e,t,n){this.channels=void 0,this.currentChannel=0,this.cmdHistory=void 0,this.logger=void 0;var r=new h;this.channels=[null,new w(e,t,r),new w(e+1,n,r)],this.cmdHistory={a:null,b:null},this.logger=r}var t=e.prototype;return t.getHandler=function(e){return this.channels[e].getHandler()},t.setHandler=function(e,t){this.channels[e].setHandler(t)},t.addData=function(e,t){var n,i,o,a=!1;this.logger.time=e;for(var s=0;s<t.length;s+=2)if(i=127&t[s],o=127&t[s+1],0!==i||0!==o){if(this.logger.log(r.DATA,"["+g([t[s],t[s+1]])+"] -> ("+g([i,o])+")"),(n=this.parseCmd(i,o))||(n=this.parseMidrow(i,o)),n||(n=this.parsePAC(i,o)),n||(n=this.parseBackgroundAttributes(i,o)),!n&&(a=this.parseChars(i,o))){var u=this.currentChannel;u&&u>0?this.channels[u].insertChars(a):this.logger.log(r.WARNING,"No channel found yet. TEXT-MODE?")}n||a||this.logger.log(r.WARNING,"Couldn't parse cleaned data "+g([i,o])+" orig: "+g([t[s],t[s+1]]))}},t.parseCmd=function(e,t){var n=this.cmdHistory;if(!((20===e||28===e||21===e||29===e)&&t>=32&&t<=47||(23===e||31===e)&&t>=33&&t<=35))return!1;if(k(e,t,n))return _(null,null,n),this.logger.log(r.DEBUG,"Repeated command ("+g([e,t])+") is dropped"),!0;var i=20===e||21===e||23===e?1:2,o=this.channels[i];return 20===e||21===e||28===e||29===e?32===t?o.ccRCL():33===t?o.ccBS():34===t?o.ccAOF():35===t?o.ccAON():36===t?o.ccDER():37===t?o.ccRU(2):38===t?o.ccRU(3):39===t?o.ccRU(4):40===t?o.ccFON():41===t?o.ccRDC():42===t?o.ccTR():43===t?o.ccRTD():44===t?o.ccEDM():45===t?o.ccCR():46===t?o.ccENM():47===t&&o.ccEOC():o.ccTO(t-32),_(e,t,n),this.currentChannel=i,!0},t.parseMidrow=function(e,t){var n=0;if((17===e||25===e)&&t>=32&&t<=47){if((n=17===e?1:2)!==this.currentChannel)return this.logger.log(r.ERROR,"Mismatch channel in midrow parsing"),!1;var i=this.channels[n];return!!i&&(i.ccMIDROW(t),this.logger.log(r.DEBUG,"MIDROW ("+g([e,t])+")"),!0)}return!1},t.parsePAC=function(e,t){var n,r=this.cmdHistory;if(!((e>=17&&e<=23||e>=25&&e<=31)&&t>=64&&t<=127||(16===e||24===e)&&t>=64&&t<=95))return!1;if(k(e,t,r))return _(null,null,r),!0;var i=e<=23?1:2;n=t>=64&&t<=95?1===i?l[e]:f[e]:1===i?c[e]:p[e];var o=this.channels[i];return!!o&&(o.setPAC(this.interpretPAC(n,t)),_(e,t,r),this.currentChannel=i,!0)},t.interpretPAC=function(e,t){var n,r={color:null,italics:!1,indent:null,underline:!1,row:e};return n=t>95?t-96:t-64,r.underline=1==(1&n),n<=13?r.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(n/2)]:n<=15?(r.italics=!0,r.color="white"):r.indent=4*Math.floor((n-16)/2),r},t.parseChars=function(e,t){var n,i,o=null,s=null;if(e>=25?(n=2,s=e-8):(n=1,s=e),s>=17&&s<=19?(i=17===s?t+80:18===s?t+112:t+144,this.logger.log(r.INFO,"Special char '"+a(i)+"' in channel "+n),o=[i]):e>=32&&e<=127&&(o=0===t?[e]:[e,t]),o){var u=g(o);this.logger.log(r.DEBUG,"Char codes =  "+u.join(",")),_(e,t,this.cmdHistory)}return o},t.parseBackgroundAttributes=function(e,t){var n;if(!((16===e||24===e)&&t>=32&&t<=47||(23===e||31===e)&&t>=45&&t<=47))return!1;var r={};16===e||24===e?(n=Math.floor((t-32)/2),r.background=d[n],t%2==1&&(r.background=r.background+"_semi")):45===t?r.background="transparent":(r.foreground="black",47===t&&(r.underline=!0));var i=e<=23?1:2;return this.channels[i].setBkgData(r),_(e,t,this.cmdHistory),!0},t.reset=function(){for(var e=0;e<Object.keys(this.channels).length;e++){var t=this.channels[e];t&&t.reset()}this.cmdHistory={a:null,b:null}},t.cueSplitAtTime=function(e){for(var t=0;t<this.channels.length;t++){var n=this.channels[t];n&&n.cueSplitAtTime(e)}},e}();function _(e,t,n){n.a=e,n.b=t}function k(e,t,n){return n.a===e&&n.b===t}t.default=A},"./src/utils/codecs.ts":function(e,t,n){n.r(t),n.d(t,"isCodecType",(function(){return i})),n.d(t,"isCodecSupportedInMp4",(function(){return o}));var r={audio:{a3ds:!0,"ac-3":!0,"ac-4":!0,alac:!0,alaw:!0,dra1:!0,"dts+":!0,"dts-":!0,dtsc:!0,dtse:!0,dtsh:!0,"ec-3":!0,enca:!0,g719:!0,g726:!0,m4ae:!0,mha1:!0,mha2:!0,mhm1:!0,mhm2:!0,mlpa:!0,mp4a:!0,"raw ":!0,Opus:!0,samr:!0,sawb:!0,sawp:!0,sevc:!0,sqcp:!0,ssmv:!0,twos:!0,ulaw:!0},video:{avc1:!0,avc2:!0,avc3:!0,avc4:!0,avcp:!0,av01:!0,drac:!0,dvav:!0,dvhe:!0,encv:!0,hev1:!0,hvc1:!0,mjp2:!0,mp4v:!0,mvc1:!0,mvc2:!0,mvc3:!0,mvc4:!0,resv:!0,rv60:!0,s263:!0,svc1:!0,svc2:!0,"vc-1":!0,vp08:!0,vp09:!0},text:{stpp:!0,wvtt:!0}};function i(e,t){var n=r[t];return!!n&&!0===n[e.slice(0,4)]}function o(e,t){return MediaSource.isTypeSupported((t||"video")+'/mp4;codecs="'+e+'"')}},"./src/utils/cues.ts":function(e,t,n){n.r(t);var r=n("./src/utils/vttparser.ts"),i=n("./src/utils/webvtt-parser.ts"),o=n("./src/utils/texttrack-utils.ts"),a=/\s/,s={newCue:function(e,t,n,s){for(var u,l,c,f,p,d=[],h=self.VTTCue||self.TextTrackCue,g=0;g<s.rows.length;g++)if(c=!0,f=0,p="",!(u=s.rows[g]).isEmpty()){for(var m=0;m<u.chars.length;m++)a.test(u.chars[m].uchar)&&c?f++:(p+=u.chars[m].uchar,c=!1);u.cueStartTime=t,t===n&&(n+=1e-4),f>=16?f--:f++;var v=Object(r.fixLineBreaks)(p.trim()),y=Object(i.generateCueId)(t,n,v);e&&e.cues&&e.cues.getCueById(y)||((l=new h(t,n,v)).id=y,l.line=g+1,l.align="left",l.position=10+Math.min(80,10*Math.floor(8*f/32)),d.push(l))}return e&&d.length&&(d.sort((function(e,t){return"auto"===e.line||"auto"===t.line?0:e.line>8&&t.line>8?t.line-e.line:e.line-t.line})),d.forEach((function(t){return Object(o.addCueToTrack)(e,t)}))),d}};t.default=s},"./src/utils/discontinuities.ts":function(e,t,n){n.r(t),n.d(t,"findFirstFragWithCC",(function(){return a})),n.d(t,"shouldAlignOnDiscontinuities",(function(){return s})),n.d(t,"findDiscontinuousReferenceFrag",(function(){return u})),n.d(t,"adjustSlidingStart",(function(){return c})),n.d(t,"alignStream",(function(){return f})),n.d(t,"alignPDT",(function(){return p})),n.d(t,"alignFragmentByPDTDelta",(function(){return d})),n.d(t,"alignMediaPlaylistByPDT",(function(){return h}));var r=n("./src/polyfills/number.ts"),i=n("./src/utils/logger.ts"),o=n("./src/controller/level-helper.ts");function a(e,t){for(var n=null,r=0,i=e.length;r<i;r++){var o=e[r];if(o&&o.cc===t){n=o;break}}return n}function s(e,t,n){return!(!t.details||!(n.endCC>n.startCC||e&&e.cc<n.startCC))}function u(e,t){var n=e.fragments,r=t.fragments;if(r.length&&n.length){var o=a(n,r[0].cc);if(o&&(!o||o.startPTS))return o;i.logger.log("No frag in previous level to align on")}else i.logger.log("No fragments to align")}function l(e,t){if(e){var n=e.start+t;e.start=e.startPTS=n,e.endPTS=n+e.duration}}function c(e,t){for(var n=t.fragments,r=0,i=n.length;r<i;r++)l(n[r],e);t.fragmentHint&&l(t.fragmentHint,e),t.alignedSliding=!0}function f(e,t,n){t&&(function(e,t,n){if(s(e,n,t)){var o=u(n.details,t);o&&Object(r.isFiniteNumber)(o.start)&&(i.logger.log("Adjusting PTS using last level due to CC increase within current level "+t.url),c(o.start,t))}}(e,n,t),!n.alignedSliding&&t.details&&p(n,t.details),n.alignedSliding||!t.details||n.skippedSegments||Object(o.adjustSliding)(t.details,n))}function p(e,t){if(t.fragments.length&&e.hasProgramDateTime&&t.hasProgramDateTime){var n=t.fragments[0].programDateTime,o=e.fragments[0].programDateTime,a=(o-n)/1e3+t.fragments[0].start;a&&Object(r.isFiniteNumber)(a)&&(i.logger.log("Adjusting PTS using programDateTime delta "+(o-n)+"ms, sliding:"+a.toFixed(3)+" "+e.url+" "),c(a,e))}}function d(e,t){var n=e.programDateTime;if(n){var r=(n-t)/1e3;e.start=e.startPTS=r,e.endPTS=r+e.duration}}function h(e,t){if(t.fragments.length&&e.hasProgramDateTime&&t.hasProgramDateTime){var n=t.fragments[0].programDateTime-1e3*t.fragments[0].start;e.fragments.forEach((function(e){d(e,n)})),e.fragmentHint&&d(e.fragmentHint,n),e.alignedSliding=!0}}},"./src/utils/ewma-bandwidth-estimator.ts":function(e,t,n){n.r(t);var r=n("./src/utils/ewma.ts"),i=function(){function e(e,t,n){this.defaultEstimate_=void 0,this.minWeight_=void 0,this.minDelayMs_=void 0,this.slow_=void 0,this.fast_=void 0,this.defaultEstimate_=n,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new r.default(e),this.fast_=new r.default(t)}var t=e.prototype;return t.update=function(e,t){var n=this.slow_,i=this.fast_;this.slow_.halfLife!==e&&(this.slow_=new r.default(e,n.getEstimate(),n.getTotalWeight())),this.fast_.halfLife!==t&&(this.fast_=new r.default(t,i.getEstimate(),i.getTotalWeight()))},t.sample=function(e,t){var n=(e=Math.max(e,this.minDelayMs_))/1e3,r=8*t/n;this.fast_.sample(n,r),this.slow_.sample(n,r)},t.canEstimate=function(){var e=this.fast_;return e&&e.getTotalWeight()>=this.minWeight_},t.getEstimate=function(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_},t.destroy=function(){},e}();t.default=i},"./src/utils/ewma.ts":function(e,t,n){n.r(t);var r=function(){function e(e,t,n){void 0===t&&(t=0),void 0===n&&(n=0),this.halfLife=void 0,this.alpha_=void 0,this.estimate_=void 0,this.totalWeight_=void 0,this.halfLife=e,this.alpha_=e?Math.exp(Math.log(.5)/e):0,this.estimate_=t,this.totalWeight_=n}var t=e.prototype;return t.sample=function(e,t){var n=Math.pow(this.alpha_,e);this.estimate_=t*(1-n)+n*this.estimate_,this.totalWeight_+=e},t.getTotalWeight=function(){return this.totalWeight_},t.getEstimate=function(){if(this.alpha_){var e=1-Math.pow(this.alpha_,this.totalWeight_);if(e)return this.estimate_/e}return this.estimate_},e}();t.default=r},"./src/utils/fetch-loader.ts":function(e,t,n){n.r(t),n.d(t,"fetchSupported",(function(){return p}));var r=n("./src/polyfills/number.ts"),i=n("./src/loader/load-stats.ts"),o=n("./src/demux/chunk-cache.ts");function a(e){var t="function"==typeof Map?new Map:void 0;return a=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return s(e,arguments,c(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),l(r,e)},a(e)}function s(e,t,n){return s=u()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&l(i,n.prototype),i},s.apply(null,arguments)}function u(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function l(e,t){return l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},l(e,t)}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}function f(){return f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f.apply(this,arguments)}function p(){if(self.fetch&&self.AbortController&&self.ReadableStream&&self.Request)try{return new self.ReadableStream({}),!0}catch(e){}return!1}var d=function(){function e(e){this.fetchSetup=void 0,this.requestTimeout=void 0,this.request=void 0,this.response=void 0,this.controller=void 0,this.context=void 0,this.config=null,this.callbacks=null,this.stats=void 0,this.loader=null,this.fetchSetup=e.fetchSetup||h,this.controller=new self.AbortController,this.stats=new i.LoadStats}var t=e.prototype;return t.destroy=function(){this.loader=this.callbacks=null,this.abortInternal()},t.abortInternal=function(){var e=this.response;e&&e.ok||(this.stats.aborted=!0,this.controller.abort())},t.abort=function(){var e;this.abortInternal(),null!==(e=this.callbacks)&&void 0!==e&&e.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.response)},t.load=function(e,t,n){var i=this,o=this.stats;if(o.loading.start)throw new Error("Loader can only be used once.");o.loading.start=self.performance.now();var a=function(e,t){var n={method:"GET",mode:"cors",credentials:"same-origin",signal:t,headers:new self.Headers(f({},e.headers))};return e.rangeEnd&&n.headers.set("Range","bytes="+e.rangeStart+"-"+String(e.rangeEnd-1)),n}(e,this.controller.signal),s=n.onProgress,u="arraybuffer"===e.responseType,l=u?"byteLength":"length";this.context=e,this.config=t,this.callbacks=n,this.request=this.fetchSetup(e,a),self.clearTimeout(this.requestTimeout),this.requestTimeout=self.setTimeout((function(){i.abortInternal(),n.onTimeout(o,e,i.response)}),t.timeout),self.fetch(this.request).then((function(n){if(i.response=i.loader=n,!n.ok){var a=n.status,l=n.statusText;throw new g(l||"fetch, bad network response",a,n)}return o.loading.first=Math.max(self.performance.now(),o.loading.start),o.total=parseInt(n.headers.get("Content-Length")||"0"),s&&Object(r.isFiniteNumber)(t.highWaterMark)?i.loadProgressively(n,o,e,t.highWaterMark,s):u?n.arrayBuffer():n.text()})).then((function(a){var u=i.response;self.clearTimeout(i.requestTimeout),o.loading.end=Math.max(self.performance.now(),o.loading.first),o.loaded=o.total=a[l];var c={url:u.url,data:a};s&&!Object(r.isFiniteNumber)(t.highWaterMark)&&s(o,e,a,u),n.onSuccess(c,o,e,u)})).catch((function(t){if(self.clearTimeout(i.requestTimeout),!o.aborted){var r=t.code||0;n.onError({code:r,text:t.message},e,t.details)}}))},t.getCacheAge=function(){var e=null;if(this.response){var t=this.response.headers.get("age");e=t?parseFloat(t):null}return e},t.loadProgressively=function(e,t,n,r,i){void 0===r&&(r=0);var a=new o.default,s=e.body.getReader();return function o(){return s.read().then((function(s){if(s.done)return a.dataLength&&i(t,n,a.flush(),e),Promise.resolve(new ArrayBuffer(0));var u=s.value,l=u.length;return t.loaded+=l,l<r||a.dataLength?(a.push(u),a.dataLength>=r&&i(t,n,a.flush(),e)):i(t,n,u,e),o()})).catch((function(){return Promise.reject()}))}()},e}();function h(e,t){return new self.Request(e.url,t)}var g=function(e){var t,n;function r(t,n,r){var i;return(i=e.call(this,t)||this).code=void 0,i.details=void 0,i.code=n,i.details=r,i}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,l(t,n),r}(a(Error));t.default=d},"./src/utils/imsc1-ttml-parser.ts":function(e,t,n){n.r(t),n.d(t,"IMSC1_CODEC",(function(){return c})),n.d(t,"parseIMSC1",(function(){return h}));var r=n("./src/utils/mp4-tools.ts"),i=n("./src/utils/vttparser.ts"),o=n("./src/utils/vttcue.ts"),a=n("./src/demux/id3.ts"),s=n("./src/utils/timescale-conversion.ts"),u=n("./src/utils/webvtt-parser.ts");function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}var c="stpp.ttml.im1t",f=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,p=/^(\d*(?:\.\d*)?)(h|m|s|ms|f|t)$/,d={left:"start",center:"center",right:"end",start:"start",end:"end"};function h(e,t,n,i,c){var f=Object(r.findBox)(new Uint8Array(e),["mdat"]);if(0!==f.length){var p=f[0],h=Object(a.utf8ArrayToStr)(new Uint8Array(e,p.start,p.end-p.start)),A=Object(s.toTimescaleFromScale)(t,1,n);try{i(function(e,t){var n=(new DOMParser).parseFromString(e,"text/xml").getElementsByTagName("tt")[0];if(!n)throw new Error("Invalid ttml");var r={frameRate:30,subFrameRate:1,frameRateMultiplier:0,tickRate:0},i=Object.keys(r).reduce((function(e,t){return e[t]=n.getAttribute("ttp:"+t)||r[t],e}),{}),a="preserve"!==n.getAttribute("xml:space"),s=m(g(n,"styling","style")),c=m(g(n,"layout","region")),f=g(n,"body","[begin]");return[].map.call(f,(function(e){var n=v(e,a);if(!n||!e.hasAttribute("begin"))return null;var r=w(e.getAttribute("begin"),i),f=w(e.getAttribute("dur"),i),p=w(e.getAttribute("end"),i);if(null===r)throw b(e);if(null===p){if(null===f)throw b(e);p=r+f}var h=new o.default(r-t,p-t,n);h.id=Object(u.generateCueId)(h.startTime,h.endTime,h.text);var g=c[e.getAttribute("region")],m=s[e.getAttribute("style")];h.position=10,h.size=80;var A=function(e,t){var n="http://www.w3.org/ns/ttml#styling";return["displayAlign","textAlign","color","backgroundColor","fontSize","fontFamily"].reduce((function(r,i){var o=y(t,n,i)||y(e,n,i);return o&&(r[i]=o),r}),{})}(g,m),_=A.textAlign;if(_){var k=d[_];k&&(h.lineAlign=k),h.align=_}return l(h,A),h})).filter((function(e){return null!==e}))}(h,A))}catch(e){c(e)}}else c(new Error("Could not parse IMSC1 mdat"))}function g(e,t,n){var r=e.getElementsByTagName(t)[0];return r?[].slice.call(r.querySelectorAll(n)):[]}function m(e){return e.reduce((function(e,t){var n=t.getAttribute("xml:id");return n&&(e[n]=t),e}),{})}function v(e,t){return[].slice.call(e.childNodes).reduce((function(e,n,r){var i;return"br"===n.nodeName&&r?e+"\n":null!==(i=n.childNodes)&&void 0!==i&&i.length?v(n,t):t?e+n.textContent.trim().replace(/\s+/g," "):e+n.textContent}),"")}function y(e,t,n){return e.hasAttributeNS(t,n)?e.getAttributeNS(t,n):null}function b(e){return new Error("Could not parse ttml timestamp "+e)}function w(e,t){if(!e)return null;var n=Object(i.parseTimeStamp)(e);return null===n&&(f.test(e)?n=function(e,t){var n=f.exec(e),r=(0|n[4])+(0|n[5])/t.subFrameRate;return 3600*(0|n[1])+60*(0|n[2])+(0|n[3])+r/t.frameRate}(e,t):p.test(e)&&(n=function(e,t){var n=p.exec(e),r=Number(n[1]);switch(n[2]){case"h":return 3600*r;case"m":return 60*r;case"ms":return 1e3*r;case"f":return r/t.frameRate;case"t":return r/t.tickRate}return r}(e,t))),n}},"./src/utils/logger.ts":function(e,t,n){n.r(t),n.d(t,"enableLogs",(function(){return s})),n.d(t,"logger",(function(){return u}));var r=function(){},i={trace:r,debug:r,log:r,warn:r,info:r,error:r},o=i;function a(e){var t=self.console[e];return t?t.bind(self.console,"["+e+"] >"):r}function s(e){if(self.console&&!0===e||"object"==typeof e){!function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];n.forEach((function(t){o[t]=e[t]?e[t].bind(e):a(t)}))}(e,"debug","log","info","warn","error");try{o.log()}catch(e){o=i}}else o=i}var u=i},"./src/utils/mediakeys-helper.ts":function(e,t,n){var r;n.r(t),n.d(t,"KeySystems",(function(){return r})),n.d(t,"requestMediaKeySystemAccess",(function(){return i})),function(e){e.WIDEVINE="com.widevine.alpha",e.PLAYREADY="com.microsoft.playready"}(r||(r={}));var i="undefined"!=typeof self&&self.navigator&&self.navigator.requestMediaKeySystemAccess?self.navigator.requestMediaKeySystemAccess.bind(self.navigator):null},"./src/utils/mediasource-helper.ts":function(e,t,n){function r(){return self.MediaSource||self.WebKitMediaSource}n.r(t),n.d(t,"getMediaSource",(function(){return r}))},"./src/utils/mp4-tools.ts":function(e,t,n){n.r(t),n.d(t,"bin2str",(function(){return s})),n.d(t,"readUint16",(function(){return u})),n.d(t,"readUint32",(function(){return l})),n.d(t,"writeUint32",(function(){return c})),n.d(t,"findBox",(function(){return f})),n.d(t,"parseSegmentIndex",(function(){return p})),n.d(t,"parseInitSegment",(function(){return d})),n.d(t,"getStartDTS",(function(){return h})),n.d(t,"getDuration",(function(){return g})),n.d(t,"computeRawDurationFromSamples",(function(){return m})),n.d(t,"offsetStartDTS",(function(){return v})),n.d(t,"segmentValidRange",(function(){return y})),n.d(t,"appendUint8Array",(function(){return b}));var r=n("./src/utils/typed-array.ts"),i=n("./src/loader/fragment.ts"),o=Math.pow(2,32)-1,a=[].push;function s(e){return String.fromCharCode.apply(null,e)}function u(e,t){"data"in e&&(t+=e.start,e=e.data);var n=e[t]<<8|e[t+1];return n<0?65536+n:n}function l(e,t){"data"in e&&(t+=e.start,e=e.data);var n=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3];return n<0?4294967296+n:n}function c(e,t,n){"data"in e&&(t+=e.start,e=e.data),e[t]=n>>24,e[t+1]=n>>16&255,e[t+2]=n>>8&255,e[t+3]=255&n}function f(e,t){var n,r,i,o=[];if(!t.length)return o;"data"in e?(n=e.data,r=e.start,i=e.end):(r=0,i=(n=e).byteLength);for(var u=r;u<i;){var c=l(n,u),p=c>1?u+c:i;if(s(n.subarray(u+4,u+8))===t[0])if(1===t.length)o.push({data:n,start:u+8,end:p});else{var d=f({data:n,start:u+8,end:p},t.slice(1));d.length&&a.apply(o,d)}u=p}return o}function p(e){var t=f(e,["moov"])[0],n=t?t.end:null,r=f(e,["sidx"]);if(!r||!r[0])return null;var i=[],o=r[0],a=o.data[0],s=0===a?8:16,c=l(o,s);s+=4,s+=0===a?8:16,s+=2;var p=o.end+0,d=u(o,s);s+=2;for(var h=0;h<d;h++){var g=s,m=l(o,g);g+=4;var v=2147483647&m;if(1==(2147483648&m)>>>31)return console.warn("SIDX has hierarchical references (not supported)"),null;var y=l(o,g);g+=4,i.push({referenceSize:v,subsegmentDuration:y,info:{duration:y/c,start:p,end:p+v-1}}),p+=v,s=g+=4}return{earliestPresentationTime:0,timescale:c,version:a,referencesCount:d,references:i,moovEndOffset:n}}function d(e){for(var t=[],n=f(e,["moov","trak"]),r=0;r<n.length;r++){var o=n[r],a=f(o,["tkhd"])[0];if(a){var u=a.data[a.start],c=0===u?12:20,p=l(a,c),d=f(o,["mdia","mdhd"])[0];if(d){var h=l(d,c=0===(u=d.data[d.start])?12:20),g=f(o,["mdia","hdlr"])[0];if(g){var m=s(g.data.subarray(g.start+8,g.start+12)),v={soun:i.ElementaryStreamTypes.AUDIO,vide:i.ElementaryStreamTypes.VIDEO}[m];if(v){var y=f(o,["mdia","minf","stbl","stsd"])[0],b=void 0;y&&(b=s(y.data.subarray(y.start+12,y.start+16))),t[p]={timescale:h,type:v},t[v]={timescale:h,id:p,codec:b}}}}}}return f(e,["moov","mvex","trex"]).forEach((function(e){var n=l(e,4),r=t[n];r&&(r.default={duration:l(e,12),flags:l(e,20)})})),t}function h(e,t){return f(t,["moof","traf"]).reduce((function(t,n){var r=f(n,["tfdt"])[0],i=r.data[r.start],o=f(n,["tfhd"]).reduce((function(t,n){var o=l(n,4),a=e[o];if(a){var s=l(r,4);1===i&&(s*=Math.pow(2,32),s+=l(r,8));var u=s/(a.timescale||9e4);if(isFinite(u)&&(null===t||u<t))return u}return t}),null);return null!==o&&isFinite(o)&&(null===t||o<t)?o:t}),null)||0}function g(e,t){for(var n=0,r=0,o=0,a=f(e,["moof","traf"]),s=0;s<a.length;s++){var u=a[s],c=f(u,["tfhd"])[0],d=t[l(c,4)];if(d){var h=d.default,g=l(c,0)|(null==h?void 0:h.flags),v=null==h?void 0:h.duration;8&g&&(v=l(c,2&g?12:8));for(var y=d.timescale||9e4,b=f(u,["trun"]),w=0;w<b.length;w++)!(n=m(b[w]))&&v&&(n=v*l(b[w],4)),d.type===i.ElementaryStreamTypes.VIDEO?r+=n/y:d.type===i.ElementaryStreamTypes.AUDIO&&(o+=n/y)}}if(0===r&&0===o){var A=p(e);if(null!=A&&A.references)return A.references.reduce((function(e,t){return e+t.info.duration||0}),0)}return r||o}function m(e){var t=l(e,0),n=8;1&t&&(n+=4),4&t&&(n+=4);for(var r=0,i=l(e,4),o=0;o<i;o++)256&t&&(r+=l(e,n),n+=4),512&t&&(n+=4),1024&t&&(n+=4),2048&t&&(n+=4);return r}function v(e,t,n){f(t,["moof","traf"]).forEach((function(t){f(t,["tfhd"]).forEach((function(r){var i=l(r,4),a=e[i];if(a){var s=a.timescale||9e4;f(t,["tfdt"]).forEach((function(e){var t=e.data[e.start],r=l(e,4);if(0===t)c(e,4,r-n*s);else{r*=Math.pow(2,32),r+=l(e,8),r-=n*s,r=Math.max(r,0);var i=Math.floor(r/(o+1)),a=Math.floor(r%(o+1));c(e,4,i),c(e,8,a)}}))}}))}))}function y(e){var t={valid:null,remainder:null},n=f(e,["moof"]);if(!n)return t;if(n.length<2)return t.remainder=e,t;var i=n[n.length-1];return t.valid=Object(r.sliceUint8)(e,0,i.start-8),t.remainder=Object(r.sliceUint8)(e,i.start-8),t}function b(e,t){var n=new Uint8Array(e.length+t.length);return n.set(e),n.set(t,e.length),n}},"./src/utils/output-filter.ts":function(e,t,n){n.r(t),n.d(t,"default",(function(){return r}));var r=function(){function e(e,t){this.timelineController=void 0,this.cueRanges=[],this.trackName=void 0,this.startTime=null,this.endTime=null,this.screen=null,this.timelineController=e,this.trackName=t}var t=e.prototype;return t.dispatchCue=function(){null!==this.startTime&&(this.timelineController.addCues(this.trackName,this.startTime,this.endTime,this.screen,this.cueRanges),this.startTime=null)},t.newCue=function(e,t,n){(null===this.startTime||this.startTime>e)&&(this.startTime=e),this.endTime=t,this.screen=n,this.timelineController.createCaptionsTrack(this.trackName)},t.reset=function(){this.cueRanges=[],this.startTime=null},e}()},"./src/utils/texttrack-utils.ts":function(e,t,n){n.r(t),n.d(t,"sendAddTrackEvent",(function(){return i})),n.d(t,"addCueToTrack",(function(){return o})),n.d(t,"clearCurrentCues",(function(){return a})),n.d(t,"removeCuesInRange",(function(){return s})),n.d(t,"getCuesInRange",(function(){return u}));var r=n("./src/utils/logger.ts");function i(e,t){var n;try{n=new Event("addtrack")}catch(e){(n=document.createEvent("Event")).initEvent("addtrack",!1,!1)}n.track=e,t.dispatchEvent(n)}function o(e,t){var n=e.mode;if("disabled"===n&&(e.mode="hidden"),e.cues&&!e.cues.getCueById(t.id))try{if(e.addCue(t),!e.cues.getCueById(t.id))throw new Error("addCue is failed for: "+t)}catch(n){r.logger.debug("[texttrack-utils]: "+n);var i=new self.TextTrackCue(t.startTime,t.endTime,t.text);i.id=t.id,e.addCue(i)}"disabled"===n&&(e.mode=n)}function a(e){var t=e.mode;if("disabled"===t&&(e.mode="hidden"),e.cues)for(var n=e.cues.length;n--;)e.removeCue(e.cues[n]);"disabled"===t&&(e.mode=t)}function s(e,t,n){var r=e.mode;if("disabled"===r&&(e.mode="hidden"),e.cues&&e.cues.length>0)for(var i=u(e.cues,t,n),o=0;o<i.length;o++)e.removeCue(i[o]);"disabled"===r&&(e.mode=r)}function u(e,t,n){var r=[],i=function(e,t){if(t<e[0].startTime)return 0;var n=e.length-1;if(t>e[n].endTime)return-1;for(var r=0,i=n;r<=i;){var o=Math.floor((i+r)/2);if(t<e[o].startTime)i=o-1;else{if(!(t>e[o].startTime&&r<n))return o;r=o+1}}return e[r].startTime-t<t-e[i].startTime?r:i}(e,t);if(i>-1)for(var o=i,a=e.length;o<a;o++){var s=e[o];if(s.startTime>=t&&s.endTime<=n)r.push(s);else if(s.startTime>n)return r}return r}},"./src/utils/time-ranges.ts":function(e,t,n){n.r(t),t.default={toString:function(e){for(var t="",n=e.length,r=0;r<n;r++)t+="["+e.start(r).toFixed(3)+","+e.end(r).toFixed(3)+"]";return t}}},"./src/utils/timescale-conversion.ts":function(e,t,n){function r(e,t,n,r){void 0===n&&(n=1),void 0===r&&(r=!1);var i=e*t*n;return r?Math.round(i):i}function i(e,t,n,i){return void 0===n&&(n=1),void 0===i&&(i=!1),r(e,t,1/n,i)}function o(e,t){return void 0===t&&(t=!1),r(e,1e3,1/9e4,t)}function a(e,t){return void 0===t&&(t=1),r(e,9e4,1/t)}n.r(t),n.d(t,"toTimescaleFromBase",(function(){return r})),n.d(t,"toTimescaleFromScale",(function(){return i})),n.d(t,"toMsFromMpegTsClock",(function(){return o})),n.d(t,"toMpegTsClockFromTimescale",(function(){return a}))},"./src/utils/typed-array.ts":function(e,t,n){function r(e,t,n){return Uint8Array.prototype.slice?e.slice(t,n):new Uint8Array(Array.prototype.slice.call(e,t,n))}n.r(t),n.d(t,"sliceUint8",(function(){return r}))},"./src/utils/vttcue.ts":function(e,t,n){n.r(t),t.default=function(){if("undefined"!=typeof self&&self.VTTCue)return self.VTTCue;var e=["","lr","rl"],t=["start","middle","end","left","right"];function n(e,t){if("string"!=typeof t)return!1;if(!Array.isArray(e))return!1;var n=t.toLowerCase();return!!~e.indexOf(n)&&n}function r(e){return n(t,e)}function i(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var a in o)e[a]=o[a]}return e}function o(t,o,a){var s=this,u={enumerable:!0};s.hasBeenReset=!1;var l="",c=!1,f=t,p=o,d=a,h=null,g="",m=!0,v="auto",y="start",b=50,w="middle",A=50,_="middle";Object.defineProperty(s,"id",i({},u,{get:function(){return l},set:function(e){l=""+e}})),Object.defineProperty(s,"pauseOnExit",i({},u,{get:function(){return c},set:function(e){c=!!e}})),Object.defineProperty(s,"startTime",i({},u,{get:function(){return f},set:function(e){if("number"!=typeof e)throw new TypeError("Start time must be set to a number.");f=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"endTime",i({},u,{get:function(){return p},set:function(e){if("number"!=typeof e)throw new TypeError("End time must be set to a number.");p=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"text",i({},u,{get:function(){return d},set:function(e){d=""+e,this.hasBeenReset=!0}})),Object.defineProperty(s,"region",i({},u,{get:function(){return h},set:function(e){h=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"vertical",i({},u,{get:function(){return g},set:function(t){var r=function(t){return n(e,t)}(t);if(!1===r)throw new SyntaxError("An invalid or illegal string was specified.");g=r,this.hasBeenReset=!0}})),Object.defineProperty(s,"snapToLines",i({},u,{get:function(){return m},set:function(e){m=!!e,this.hasBeenReset=!0}})),Object.defineProperty(s,"line",i({},u,{get:function(){return v},set:function(e){if("number"!=typeof e&&"auto"!==e)throw new SyntaxError("An invalid number or illegal string was specified.");v=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"lineAlign",i({},u,{get:function(){return y},set:function(e){var t=r(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");y=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"position",i({},u,{get:function(){return b},set:function(e){if(e<0||e>100)throw new Error("Position must be between 0 and 100.");b=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"positionAlign",i({},u,{get:function(){return w},set:function(e){var t=r(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");w=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"size",i({},u,{get:function(){return A},set:function(e){if(e<0||e>100)throw new Error("Size must be between 0 and 100.");A=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"align",i({},u,{get:function(){return _},set:function(e){var t=r(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");_=t,this.hasBeenReset=!0}})),s.displayState=void 0}return o.prototype.getCueAsHTML=function(){return self.WebVTT.convertCueToDOMTree(self,this.text)},o}()},"./src/utils/vttparser.ts":function(e,t,n){n.r(t),n.d(t,"parseTimeStamp",(function(){return o})),n.d(t,"fixLineBreaks",(function(){return f})),n.d(t,"VTTParser",(function(){return p}));var r=n("./src/utils/vttcue.ts"),i=function(){function e(){}return e.prototype.decode=function(e,t){if(!e)return"";if("string"!=typeof e)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(e))},e}();function o(e){function t(e,t,n,r){return 3600*(0|e)+60*(0|t)+(0|n)+parseFloat(r||0)}var n=e.match(/^(?:(\d+):)?(\d{2}):(\d{2})(\.\d+)?/);return n?parseFloat(n[2])>59?t(n[2],n[3],0,n[4]):t(n[1],n[2],n[3],n[4]):null}var a=function(){function e(){this.values=Object.create(null)}var t=e.prototype;return t.set=function(e,t){this.get(e)||""===t||(this.values[e]=t)},t.get=function(e,t,n){return n?this.has(e)?this.values[e]:t[n]:this.has(e)?this.values[e]:t},t.has=function(e){return e in this.values},t.alt=function(e,t,n){for(var r=0;r<n.length;++r)if(t===n[r]){this.set(e,t);break}},t.integer=function(e,t){/^-?\d+$/.test(t)&&this.set(e,parseInt(t,10))},t.percent=function(e,t){if(/^([\d]{1,3})(\.[\d]*)?%$/.test(t)){var n=parseFloat(t);if(n>=0&&n<=100)return this.set(e,n),!0}return!1},e}();function s(e,t,n,r){var i=r?e.split(r):[e];for(var o in i)if("string"==typeof i[o]){var a=i[o].split(n);2===a.length&&t(a[0],a[1])}}var u=new r.default(0,0,""),l="middle"===u.align?"middle":"center";function c(e,t,n){var r=e;function i(){var t=o(e);if(null===t)throw new Error("Malformed timestamp: "+r);return e=e.replace(/^[^\sa-zA-Z-]+/,""),t}function c(){e=e.replace(/^\s+/,"")}if(c(),t.startTime=i(),c(),"--\x3e"!==e.substr(0,3))throw new Error("Malformed time stamp (time stamps must be separated by '--\x3e'): "+r);e=e.substr(3),c(),t.endTime=i(),c(),function(e,t){var r=new a;s(e,(function(e,t){var i;switch(e){case"region":for(var o=n.length-1;o>=0;o--)if(n[o].id===t){r.set(e,n[o].region);break}break;case"vertical":r.alt(e,t,["rl","lr"]);break;case"line":i=t.split(","),r.integer(e,i[0]),r.percent(e,i[0])&&r.set("snapToLines",!1),r.alt(e,i[0],["auto"]),2===i.length&&r.alt("lineAlign",i[1],["start",l,"end"]);break;case"position":i=t.split(","),r.percent(e,i[0]),2===i.length&&r.alt("positionAlign",i[1],["start",l,"end","line-left","line-right","auto"]);break;case"size":r.percent(e,t);break;case"align":r.alt(e,t,["start",l,"end","left","right"])}}),/:/,/\s/),t.region=r.get("region",null),t.vertical=r.get("vertical","");var i=r.get("line","auto");"auto"===i&&-1===u.line&&(i=-1),t.line=i,t.lineAlign=r.get("lineAlign","start"),t.snapToLines=r.get("snapToLines",!0),t.size=r.get("size",100),t.align=r.get("align",l);var o=r.get("position","auto");"auto"===o&&50===u.position&&(o="start"===t.align||"left"===t.align?0:"end"===t.align||"right"===t.align?100:50),t.position=o}(e,t)}function f(e){return e.replace(/<br(?: \/)?>/gi,"\n")}var p=function(){function e(){this.state="INITIAL",this.buffer="",this.decoder=new i,this.regionList=[],this.cue=null,this.oncue=void 0,this.onparsingerror=void 0,this.onflush=void 0}var t=e.prototype;return t.parse=function(e){var t=this;function n(){var e=t.buffer,n=0;for(e=f(e);n<e.length&&"\r"!==e[n]&&"\n"!==e[n];)++n;var r=e.substr(0,n);return"\r"===e[n]&&++n,"\n"===e[n]&&++n,t.buffer=e.substr(n),r}e&&(t.buffer+=t.decoder.decode(e,{stream:!0}));try{var i="";if("INITIAL"===t.state){if(!/\r\n|\n/.test(t.buffer))return this;var o=(i=n()).match(/^(ï»¿)?WEBVTT([ \t].*)?$/);if(!o||!o[0])throw new Error("Malformed WebVTT signature.");t.state="HEADER"}for(var a=!1;t.buffer;){if(!/\r\n|\n/.test(t.buffer))return this;switch(a?a=!1:i=n(),t.state){case"HEADER":/:/.test(i)?s(i,(function(e,t){}),/:/):i||(t.state="ID");continue;case"NOTE":i||(t.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(i)){t.state="NOTE";break}if(!i)continue;if(t.cue=new r.default(0,0,""),t.state="CUE",-1===i.indexOf("--\x3e")){t.cue.id=i;continue}case"CUE":if(!t.cue){t.state="BADCUE";continue}try{c(i,t.cue,t.regionList)}catch(e){t.cue=null,t.state="BADCUE";continue}t.state="CUETEXT";continue;case"CUETEXT":var u=-1!==i.indexOf("--\x3e");if(!i||u&&(a=!0)){t.oncue&&t.cue&&t.oncue(t.cue),t.cue=null,t.state="ID";continue}if(null===t.cue)continue;t.cue.text&&(t.cue.text+="\n"),t.cue.text+=i;continue;case"BADCUE":i||(t.state="ID")}}}catch(e){"CUETEXT"===t.state&&t.cue&&t.oncue&&t.oncue(t.cue),t.cue=null,t.state="INITIAL"===t.state?"BADWEBVTT":"BADCUE"}return this},t.flush=function(){var e=this;try{if((e.cue||"HEADER"===e.state)&&(e.buffer+="\n\n",e.parse()),"INITIAL"===e.state||"BADWEBVTT"===e.state)throw new Error("Malformed WebVTT signature.")}catch(t){e.onparsingerror&&e.onparsingerror(t)}return e.onflush&&e.onflush(),this},e}()},"./src/utils/webvtt-parser.ts":function(e,t,n){n.r(t),n.d(t,"generateCueId",(function(){return f})),n.d(t,"parseWebVTT",(function(){return p}));var r=n("./src/polyfills/number.ts"),i=n("./src/utils/vttparser.ts"),o=n("./src/demux/id3.ts"),a=n("./src/utils/timescale-conversion.ts"),s=n("./src/remux/mp4-remuxer.ts"),u=/\r\n|\n\r|\n|\r/g,l=function(e,t,n){return void 0===n&&(n=0),e.substr(n,t.length)===t},c=function(e){for(var t=5381,n=e.length;n;)t=33*t^e.charCodeAt(--n);return(t>>>0).toString()};function f(e,t,n){return c(e.toString())+c(t.toString())+c(n)}function p(e,t,n,c,p,d,h,g){var m,v=new i.VTTParser,y=Object(o.utf8ArrayToStr)(new Uint8Array(e)).trim().replace(u,"\n").split("\n"),b=[],w=Object(a.toMpegTsClockFromTimescale)(t,n),A="00:00.000",_=0,k=0,x=!0,E=!1;v.oncue=function(e){var t=c[p],n=c.ccOffset,r=(_-w)/9e4;if(null!=t&&t.new&&(void 0!==k?n=c.ccOffset=t.start:function(e,t,n){var r=e[t],i=e[r.prevCC];if(!i||!i.new&&r.new)return e.ccOffset=e.presentationOffset=r.start,void(r.new=!1);for(;null!==(o=i)&&void 0!==o&&o.new;){var o;e.ccOffset+=r.start-i.start,r.new=!1,i=e[(r=i).prevCC]}e.presentationOffset=n}(c,p,r)),r&&(n=r-c.presentationOffset),E){var i=e.endTime-e.startTime,o=Object(s.normalizePts)(9e4*(e.startTime+n-k),9e4*d)/9e4;e.startTime=o,e.endTime=o+i}var a=e.text.trim();e.text=decodeURIComponent(encodeURIComponent(a)),e.id||(e.id=f(e.startTime,e.endTime,a)),e.endTime>0&&b.push(e)},v.onparsingerror=function(e){m=e},v.onflush=function(){m?g(m):h(b)},y.forEach((function(e){if(x){if(l(e,"X-TIMESTAMP-MAP=")){x=!1,E=!0,e.substr(16).split(",").forEach((function(e){l(e,"LOCAL:")?A=e.substr(6):l(e,"MPEGTS:")&&(_=parseInt(e.substr(7)))}));try{k=function(e){var t=parseInt(e.substr(-3)),n=parseInt(e.substr(-6,2)),i=parseInt(e.substr(-9,2)),o=e.length>9?parseInt(e.substr(0,e.indexOf(":"))):0;if(!(Object(r.isFiniteNumber)(t)&&Object(r.isFiniteNumber)(n)&&Object(r.isFiniteNumber)(i)&&Object(r.isFiniteNumber)(o)))throw Error("Malformed X-TIMESTAMP-MAP: Local:"+e);return t+=1e3*n,(t+=6e4*i)+36e5*o}(A)/1e3}catch(e){E=!1,m=e}return}""===e&&(x=!1)}v.parse(e+"\n")})),v.flush()}},"./src/utils/xhr-loader.ts":function(e,t,n){n.r(t);var r=n("./src/utils/logger.ts"),i=n("./src/loader/load-stats.ts"),o=/^age:\s*[\d.]+\s*$/m,a=function(){function e(e){this.xhrSetup=void 0,this.requestTimeout=void 0,this.retryTimeout=void 0,this.retryDelay=void 0,this.config=null,this.callbacks=null,this.context=void 0,this.loader=null,this.stats=void 0,this.xhrSetup=e?e.xhrSetup:null,this.stats=new i.LoadStats,this.retryDelay=0}var t=e.prototype;return t.destroy=function(){this.callbacks=null,this.abortInternal(),this.loader=null,this.config=null},t.abortInternal=function(){var e=this.loader;self.clearTimeout(this.requestTimeout),self.clearTimeout(this.retryTimeout),e&&(e.onreadystatechange=null,e.onprogress=null,4!==e.readyState&&(this.stats.aborted=!0,e.abort()))},t.abort=function(){var e;this.abortInternal(),null!==(e=this.callbacks)&&void 0!==e&&e.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.loader)},t.load=function(e,t,n){if(this.stats.loading.start)throw new Error("Loader can only be used once.");this.stats.loading.start=self.performance.now(),this.context=e,this.config=t,this.callbacks=n,this.retryDelay=t.retryDelay,this.loadInternal()},t.loadInternal=function(){var e=this.config,t=this.context;if(e){var n=this.loader=new self.XMLHttpRequest,r=this.stats;r.loading.first=0,r.loaded=0;var i=this.xhrSetup;try{if(i)try{i(n,t.url)}catch(e){n.open("GET",t.url,!0),i(n,t.url)}n.readyState||n.open("GET",t.url,!0);var o=this.context.headers;if(o)for(var a in o)n.setRequestHeader(a,o[a])}catch(e){return void this.callbacks.onError({code:n.status,text:e.message},t,n)}t.rangeEnd&&n.setRequestHeader("Range","bytes="+t.rangeStart+"-"+(t.rangeEnd-1)),n.onreadystatechange=this.readystatechange.bind(this),n.onprogress=this.loadprogress.bind(this),n.responseType=t.responseType,self.clearTimeout(this.requestTimeout),this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),e.timeout),n.send()}},t.readystatechange=function(){var e=this.context,t=this.loader,n=this.stats;if(e&&t){var i=t.readyState,o=this.config;if(!n.aborted&&i>=2)if(self.clearTimeout(this.requestTimeout),0===n.loading.first&&(n.loading.first=Math.max(self.performance.now(),n.loading.start)),4===i){t.onreadystatechange=null,t.onprogress=null;var a=t.status;if(a>=200&&a<300){var s,u;if(n.loading.end=Math.max(self.performance.now(),n.loading.first),u="arraybuffer"===e.responseType?(s=t.response).byteLength:(s=t.responseText).length,n.loaded=n.total=u,!this.callbacks)return;var l=this.callbacks.onProgress;if(l&&l(n,e,s,t),!this.callbacks)return;var c={url:t.responseURL,data:s};this.callbacks.onSuccess(c,n,e,t)}else n.retry>=o.maxRetry||a>=400&&a<499?(r.logger.error(a+" while loading "+e.url),this.callbacks.onError({code:a,text:t.statusText},e,t)):(r.logger.warn(a+" while loading "+e.url+", retrying in "+this.retryDelay+"..."),this.abortInternal(),this.loader=null,self.clearTimeout(this.retryTimeout),this.retryTimeout=self.setTimeout(this.loadInternal.bind(this),this.retryDelay),this.retryDelay=Math.min(2*this.retryDelay,o.maxRetryDelay),n.retry++)}else self.clearTimeout(this.requestTimeout),this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),o.timeout)}},t.loadtimeout=function(){r.logger.warn("timeout while loading "+this.context.url);var e=this.callbacks;e&&(this.abortInternal(),e.onTimeout(this.stats,this.context,this.loader))},t.loadprogress=function(e){var t=this.stats;t.loaded=e.loaded,e.lengthComputable&&(t.total=e.total)},t.getCacheAge=function(){var e=null;if(this.loader&&o.test(this.loader.getAllResponseHeaders())){var t=this.loader.getResponseHeader("age");e=t?parseFloat(t):null}return e},e}();t.default=a}}).default},e.exports=t())},5666:e=>{var t=function(e){var t,n=Object.prototype,r=n.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var i=t&&t.prototype instanceof m?t:m,o=Object.create(i.prototype),a=new S(r||[]);return o._invoke=function(e,t,n){var r=f;return function(i,o){if(r===d)throw new Error("Generator is already running");if(r===h){if("throw"===i)throw o;return L()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=E(a,n);if(s){if(s===g)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var u=c(e,t,n);if("normal"===u.type){if(r=n.done?h:p,u.arg===g)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=h,n.method="throw",n.arg=u.arg)}}}(e,n,a),o}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var f="suspendedStart",p="suspendedYield",d="executing",h="completed",g={};function m(){}function v(){}function y(){}var b={};u(b,o,(function(){return this}));var w=Object.getPrototypeOf,A=w&&w(w(R([])));A&&A!==n&&r.call(A,o)&&(b=A);var _=y.prototype=m.prototype=Object.create(b);function k(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function n(i,o,a,s){var u=c(e[i],e,o);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(f).then((function(e){l.value=e,a(l)}),(function(e){return n("throw",e,a,s)}))}s(u.arg)}var i;this._invoke=function(e,r){function o(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(o,o):o()}}function E(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,E(e,n),"throw"===n.method))return g;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return g}var i=c(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,g;var o=i.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,g):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function R(e){if(e){var n=e[o];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}return{next:L}}function L(){return{value:t,done:!0}}return v.prototype=y,u(_,"constructor",y),u(y,"constructor",v),v.displayName=u(y,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,u(e,s,"GeneratorFunction")),e.prototype=Object.create(_),e},e.awrap=function(e){return{__await:e}},k(x.prototype),u(x.prototype,a,(function(){return this})),e.AsyncIterator=x,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new x(l(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},k(_),u(_,s,"Generator"),u(_,o,(function(){return this})),u(_,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=R,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(T),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var u=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(u&&l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:R(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),g}},e}(e.exports);try{regeneratorRuntime=t}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},3379:e=>{var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var o={},a=[],s=0;s<e.length;s++){var u=e[s],l=r.base?u[0]+r.base:u[0],c=o[l]||0,f="".concat(l," ").concat(c);o[l]=c+1;var p=n(f),d={css:u[1],media:u[2],sourceMap:u[3],supports:u[4],layer:u[5]};if(-1!==p)t[p].references++,t[p].updater(d);else{var h=i(d,r);r.byIndex=s,t.splice(s,0,{identifier:f,updater:h,references:1})}a.push(f)}return a}function i(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,i){var o=r(e=e||[],i=i||{});return function(e){e=e||[];for(var a=0;a<o.length;a++){var s=n(o[a]);t[s].references--}for(var u=r(e,i),l=0;l<o.length;l++){var c=n(o[l]);0===t[c].references&&(t[c].updater(),t.splice(c,1))}o=u}}},569:e=>{var t={};e.exports=function(e,n){var r=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},9216:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},3565:(e,t,n)=>{e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},7795:e=>{e.exports=function(e){var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var i=void 0!==n.layer;i&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,i&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var o=n.sourceMap;o&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},4589:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},1835:e=>{e.exports='<svg viewBox="0 0 40 40" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;"><g transform="matrix(0.707107,0.707107,-0.707107,0.707107,20,-8.28427)"><path d="M23,17L23,2L17,2L17,17L2,17L2,23L17,23L17,38L23,38L23,23L38,23L38,17L23,17Z"></path></g></svg>'},9724:e=>{e.exports='<svg viewBox="0 0 40 40" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;"><g transform="matrix(-0.620305,0,0,0.839332,25.2077,0.462208)"><rect x="1.94" y="9" width="37.06" height="25"></rect></g><g transform="matrix(-0.636035,0,0,0.866362,39.6365,-5.1715)"><rect x="1" y="21" width="22" height="15"></rect></g></svg>'},3280:e=>{e.exports='<svg viewBox="0 0 256 256" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;"><g id="Cancel" transform="matrix(5.54545,6.8353e-32,6.8353e-32,5.54545,-2567.37,-10735.5)"><path d="M486.05,1937C498.192,1937 508.05,1946.86 508.05,1959C508.05,1971.14 498.192,1981 486.05,1981C473.908,1981 464.05,1971.14 464.05,1959C464.05,1946.86 473.908,1937 486.05,1937ZM478.979,1950.52L477.565,1951.93L484.636,1959L477.565,1966.07L478.979,1967.49L486.05,1960.41L493.121,1967.49L494.535,1966.07L487.464,1959L494.535,1951.93L493.121,1950.52L486.05,1957.59L478.979,1950.52Z" style="fill:rgb(210,0,0);"></path></g></svg>'},6300:e=>{e.exports='<svg viewBox="0 0 40 40" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;"><g transform="matrix(-0.620305,0,0,0.839332,25.2077,0.462208)"><g transform="matrix(-1.50139,0,0,1.10483,39.8625,1.72153)"><path d="M22.034,28.802C22.58,28.752 23.089,28.64 23.626,28.496C28.793,27.112 31.864,21.792 30.48,16.625C30.189,15.54 29.715,14.525 29.088,13.619L31.915,8.722C33.663,10.535 34.942,12.776 35.606,15.251C37.748,23.248 32.996,31.48 24.999,33.622C24.011,33.887 23.04,34.063 22.034,34.123L22.034,40.015L13,31.5L22.034,23.015L22.034,28.802Z"></path></g><g transform="matrix(1.50139,1.35303e-16,1.83867e-16,-1.10483,-24.8768,44.5033)"><path d="M22.161,28.786C22.706,28.736 23.089,28.64 23.626,28.496C28.793,27.112 31.864,21.792 30.48,16.625C30.189,15.54 29.715,14.525 29.088,13.619L31.915,8.722C33.663,10.535 34.942,12.776 35.606,15.251C37.748,23.248 32.996,31.48 24.999,33.622C24.011,33.887 23.167,34.048 22.161,34.107L22.161,40L13,31.5L22.161,23L22.161,28.786Z"></path></g></g></svg>'},1042:e=>{e.exports='<svg viewBox="0 0 40 40" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;"><g transform="matrix(-0.620305,0,0,0.839332,25.2077,0.462208)"><g transform="matrix(-1.61211,0,0,1.26151,40.6376,-0.0600993)"><path d="M18,11.916C18,11.408 17.786,10.921 17.406,10.561C17.025,10.202 16.509,10 15.971,10C12.7,10 6.3,10 3.029,10C2.491,10 1.975,10.202 1.594,10.561C1.214,10.921 1,11.408 1,11.916C1,15.188 1,21.812 1,25.084C1,25.592 1.214,26.079 1.594,26.439C1.975,26.798 2.491,27 3.029,27C6.3,27 12.7,27 15.971,27C16.509,27 17.025,26.798 17.406,26.439C17.786,26.079 18,25.592 18,25.084C18,21.812 18,15.188 18,11.916ZM39,11.916C39,11.408 38.786,10.921 38.406,10.561C38.025,10.202 37.509,10 36.971,10C33.7,10 27.3,10 24.029,10C23.491,10 22.975,10.202 22.594,10.561C22.214,10.921 22,11.408 22,11.916C22,15.188 22,21.812 22,25.084C22,25.592 22.214,26.079 22.594,26.439C22.975,26.798 23.491,27 24.029,27C27.3,27 33.7,27 36.971,27C37.509,27 38.025,26.798 38.406,26.439C38.786,26.079 39,25.592 39,25.084C39,21.812 39,15.188 39,11.916Z"></path></g><g transform="matrix(-1.61211,0,0,1.23908,40.6376,0.354796)"><rect x="19" y="6" width="2" height="25"></rect></g></g></svg>'},6208:e=>{e.exports='<svg viewBox="0 0 40 40" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;"><g><path d="M30,16L30,8.5L39,20L30,31.5L30,24L10,24L10,31.5L1,20L10,8.5L10,16L30,16Z"></path></g></svg>'},1550:e=>{e.exports='<svg viewBox="0 0 40 40" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;"><g transform="matrix(-0.620305,0,0,0.839332,25.2077,0.462208)"><path d="M-20.625,8.591C-20.625,6.174 -17.975,4.215 -14.704,4.215L31.492,4.215C34.763,4.215 37.413,6.174 37.413,8.591L37.413,35.582C37.413,37.998 34.763,39.957 31.492,39.957L-14.704,39.957C-17.975,39.957 -20.625,37.998 -20.625,35.582L-20.625,8.591ZM1.285,12.825L8.1,7.789L-15.786,7.789L-15.786,25.442L-8.972,20.406L6.737,32.016L16.994,24.435L1.285,12.825Z"></path></g></svg>'},3973:e=>{e.exports='<svg viewBox="0 0 40 40" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;"><g transform="matrix(-1,0,0,1,40,0)"><path d="M39,34L24,34L24,20L2,20L2,9L39,9L39,34Z"></path></g><g transform="matrix(-1,0,0,1,40,0)"><rect x="1" y="21" width="22" height="15"></rect></g></svg>'},8221:e=>{e.exports='<svg viewBox="0 0 40 40" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;"><g transform="matrix(-0.620305,0,0,0.839332,25.2077,0.462208)"><g transform="matrix(-1.61211,0,0,1.25099,40.6376,0.938594)"><path d="M26,18.498C26,16.566 24.356,15 22.327,15C17.811,15 10.189,15 5.673,15C3.644,15 2,16.566 2,18.498C2,22.151 2,27.849 2,31.502C2,33.434 3.644,35 5.673,35C10.189,35 17.811,35 22.327,35C24.356,35 26,33.434 26,31.502C26,27.849 26,22.151 26,18.498Z"></path></g><path d="M-2.889,42.341L-16.002,42.341C-17.664,42.341 -19.01,41.345 -19.01,40.117L-19.01,11.346L-15.787,13.728L-15.787,36.879C-15.787,37.695 -15.348,38.478 -14.567,39.056C-13.785,39.633 -12.726,39.958 -11.621,39.958L-2.889,39.958L-2.889,42.341ZM30.962,18.512L30.962,8.485C30.962,7.669 30.523,6.886 29.741,6.308C28.96,5.731 27.9,5.406 26.795,5.406L-4.721,5.406L-7.945,3.024L31.181,3.024C32.842,3.024 34.189,4.019 34.189,5.247L34.189,18.512L30.962,18.512Z"></path><g transform="matrix(-0.595969,-0.440448,-1.13993,0.842464,17.4661,11.4472)"><path d="M18.389,14.006L18.389,18L5,11L18.389,4L18.389,7.994L36,7.994L36,14.006L18.389,14.006Z"></path></g></g></svg>'},3725:e=>{e.exports='<svg viewBox="0 0 40 40" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421;"><path d="M39,34l-15,0l0,-14l-22,0l0,-11l37,0l0,25Z" style="fill:#6a6a6a;"></path><rect x="1" y="21" width="22" height="15" style="fill:#6a6a6a;"></rect></svg>'},752:e=>{e.exports='<svg viewBox="0 0 24 22" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421;"><g id="pause" transform="matrix(1,0,0,0.956522,-48,-7.65217)"><path d="M64,8L72,8L72,31L64,31L64,8ZM48,8L56,8L56,31L48,31L48,8Z"></path></g></svg>'},5372:e=>{e.exports='<svg viewBox="0 0 23 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421;"><g id="play" transform="matrix(1.36051e-16,0.480277,-0.550439,1.55927e-16,74.9184,-144.269)"><path d="M325.373,94.327L350.358,136.107L300.387,136.107L325.373,94.327Z"></path></g></svg>'},6304:e=>{e.exports='<svg viewBox="0 0 300 300" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;"><rect id="Play" x="0" y="0" width="300" height="300" style="fill:none;"></rect><g id="Play1" serif:id="Play"><g transform="matrix(1.21457,0,0,1.21457,-55.8704,-35.2227)"><circle cx="169.5" cy="152.5" r="123.5" style="fill:rgb(128,128,128);"></circle><path d="M169.5,29C237.662,29 293,84.338 293,152.5C293,220.662 237.662,276 169.5,276C101.338,276 46,220.662 46,152.5C46,84.338 101.338,29 169.5,29ZM169.5,37.233C233.117,37.233 284.767,88.883 284.767,152.5C284.767,216.117 233.117,267.767 169.5,267.767C105.883,267.767 54.233,216.117 54.233,152.5C54.233,88.883 105.883,37.233 169.5,37.233Z" style="fill:rgb(235,235,235);"></path></g><g transform="matrix(6.12323e-17,1,-1,6.12323e-17,347,-59)"><path d="M209,82L317,253L101,253L209,82Z" style="fill:rgb(235,235,235);"></path></g></g></svg>'},9598:e=>{e.exports='<svg viewBox="0 0 256 256" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;"><g transform="matrix(1,0,0,1,3,-3.88857)"><path d="M128,35.819C65.633,35.819 14.999,86.453 14.999,148.82C14.999,163.127 17.663,176.817 22.549,189.403L22.475,189.447C11.612,170.791 5.889,149.588 5.889,128C5.889,60.56 60.56,5.889 128,5.889L128,35.819Z" style="fill:url(#_Linear1);"></path></g><g transform="matrix(-1,1.22465e-16,-1.22465e-16,-1,258,251.914)"><path d="M128,35.819C65.633,35.819 14.999,86.453 14.999,148.82C14.999,163.127 17.663,176.817 22.549,189.403L22.475,189.447C11.612,170.791 5.889,149.588 5.889,128C5.889,60.56 60.56,5.889 128,5.889L128,35.819Z" style="fill:url(#_Linear2);"></path></g><defs><linearGradient id="_Linear1" x1="0" y1="0" x2="1" y2="0" gradientUnits="userSpaceOnUse" gradientTransform="matrix(-89.3028,140.734,-140.734,-89.3028,144.417,48.7125)"><stop offset="0" style="stop-color:rgb(13,13,13);stop-opacity:1"></stop><stop offset="1" style="stop-color:rgb(175,175,175);stop-opacity:0.5"></stop></linearGradient><linearGradient id="_Linear2" x1="0" y1="0" x2="1" y2="0" gradientUnits="userSpaceOnUse" gradientTransform="matrix(-89.3028,140.734,-140.734,-89.3028,144.417,48.7125)"><stop offset="0" style="stop-color:rgb(13,13,13);stop-opacity:1"></stop><stop offset="1" style="stop-color:rgb(175,175,175);stop-opacity:0.5"></stop></linearGradient></defs></svg>'},9998:e=>{e.exports='<svg viewBox="0 0 39 32" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421;"><g transform="matrix(1.43396,0,0,1.57895,-350.104,-74)"><path d="M271,50.995C271,49.065 269.277,47.5 267.152,47.5C267.152,47.5 260.884,46.867 257.75,46.867C254.616,46.867 248.348,47.5 248.348,47.5C246.223,47.5 244.5,49.065 244.5,50.995C244.5,50.995 244.151,55.036 244.151,56.842C244.151,58.843 244.5,63.005 244.5,63.005C244.5,64.935 246.223,66.5 248.348,66.5C248.348,66.5 254.965,67.133 258.099,67.133C261.124,67.133 267.152,66.5 267.152,66.5C269.277,66.5 271,64.935 271,63.005C271,63.005 271.349,59.002 271.349,57C271.349,54.998 271,50.995 271,50.995Z"></path></g></svg>'},3855:(e,t,n)=>{var r={"./es.upv.paella.testVideoCanvas.js":1425,"./es.upv.paella.videoCanvas.js":6280};function i(e){var t=o(e);return n(t)}function o(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}i.keys=function(){return Object.keys(r)},i.resolve=o,e.exports=i,i.id=3855},9802:(e,t,n)=>{var r={"./PaellaCoreDataPlugins.js":99,"./es.upv.paella.cookieDataPlugin.js":6016};function i(e){var t=o(e);return n(t)}function o(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}i.keys=function(){return Object.keys(r)},i.resolve=o,e.exports=i,i.id=9802},4803:(e,t,n)=>{var r={"./PaellaCoreLayouts.js":4493,"./es.upv.paella.dualVideo.js":7236,"./es.upv.paella.singleVideo.js":8785,"./es.upv.paella.tripleVideo.js":2128};function i(e){var t=o(e);return n(t)}function o(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}i.keys=function(){return Object.keys(r)},i.resolve=o,e.exports=i,i.id=4803},591:(e,t,n)=>{var r={"./PaellaCorePlugins.js":1481,"./es.upv.paella.collisionTestShortucts.js":6384,"./es.upv.paella.defaultShortcuts.js":5026,"./es.upv.paella.playPauseButton.js":3591,"./es.upv.paella.testButtonGroupPlugin.js":7858,"./es.upv.paella.testCaptionsPlugin.js":2694,"./es.upv.paella.testEventLogPlugin.js":5651,"./es.upv.paella.testFoldableButton.js":3508,"./es.upv.paella.testPopUp2Button.js":7924,"./es.upv.paella.testPopUpButton.js":9061,"./es.upv.paella.testVideoContainerButton.js":8539,"./es.upv.paella.vttManifestCaptionsPlugin.js":6761};function i(e){var t=o(e);return n(t)}function o(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}i.keys=function(){return Object.keys(r)},i.resolve=o,e.exports=i,i.id=591},6189:(e,t,n)=>{var r={"./PaellaCoreVideoFormats.js":477,"./es.upv.paella.hlsLiveVideoFormat.js":310,"./es.upv.paella.hlsVideoFormat.js":8069,"./es.upv.paella.imageVideoFormat.js":4348,"./es.upv.paella.mp4VideoFormat.js":2604};function i(e){var t=o(e);return n(t)}function o(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}i.keys=function(){return Object.keys(r)},i.resolve=o,e.exports=i,i.id=6189},4147:e=>{e.exports=JSON.parse('{"name":"paella-core","version":"1.0.44","description":"Multistream HTML video player","main":"src/index.js","module":"dist/paella-core.js","scripts":{"build":"webpack --mode production","dev":"webpack serve --mode development --config webpack.debug.js --host 0.0.0.0","captions":"webpack serve --mode development --config webpack.captions.js"},"repository":{"type":"git","url":"git+https://github.com/polimediaupv/paella-core.git"},"keywords":["html","player","video","hls"],"author":"Fernando Serrano Carpena <ferserc1@gmail.com>","license":"SEE LICENSE IN license.txt","bugs":{"url":"https://github.com/polimediaupv/paella-core/issues"},"homepage":"https://github.com/polimediaupv/paella-core#readme","devDependencies":{"@babel/core":"^7.12.10","@babel/preset-env":"^7.12.11","babel-loader":"^8.2.2","copy-webpack-plugin":"^10.2.4","css-loader":"^6.6.0","file-loader":"^6.2.0","html-webpack-plugin":"^5.5.0","source-map-loader":"^3.0.1","style-loader":"^3.3.1","svg-inline-loader":"^0.8.2","webpack":"^5.66.0","webpack-cli":"^4.9.1","webpack-dev-server":"^4.7.3"},"dependencies":{"core-js":"^3.8.2","hls.js":"^1.0.4"}}')}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={id:r,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};return(()=>{n.r(r),n.d(r,{AudioTrackData:()=>Dt.Z,ButtonGroupPlugin:()=>Bt.Z,ButtonPlugin:()=>ce.ZP,Canvas:()=>J.Xz,CanvasButtonPosition:()=>J.iN,CanvasPlugin:()=>J.ZP,Captions:()=>Ft.Z,CaptionsPlugin:()=>Je.Z,Data:()=>Qe.Z,DataPlugin:()=>Qe.e,DomClass:()=>R.FZ,EventLogPlugin:()=>ut.ZP,Events:()=>ee.ZP,HlsSupport:()=>Nt.HlsSupport,HlsVideo:()=>Nt.HlsVideo,ImageVideo:()=>$t.ImageVideo,KeyCodes:()=>lt.mW,KeyShortcutPlugin:()=>lt.ZP,LOG_LEVEL:()=>dt,Log:()=>bt,MenuButtonPlugin:()=>Ot.Z,Mp4Video:()=>Ut.Mp4Video,Paella:()=>Rt,PlayerResource:()=>X.Z,PlayerState:()=>Ct,PlayerStateNames:()=>Tt,Plugin:()=>Y.ZP,PluginModule:()=>jt.Z,PopUp:()=>Xe.Z,PopUpButtonPlugin:()=>Pt.Z,UserInterfacePlugin:()=>Lt.Z,VideoLayout:()=>q.ZP,VideoPlugin:()=>Q.ZP,VideoQualityItem:()=>It.Z,WebVTTParser:()=>Mt.Z,addDictionary:()=>fe.BF,bindEvent:()=>ee.GT,createElement:()=>R.az,createElementWithHtmlText:()=>R.jS,defaultAddDictionaryFunction:()=>fe.Xx,defaultGetLanguageFunction:()=>fe.cN,defaultGetManifestFileUrlFunction:()=>E,defaultGetManifestUrlFunction:()=>k,defaultGetVideoIdFunction:()=>A,defaultHlsConfig:()=>Nt.defaultHlsConfig,defaultLoadConfigFunction:()=>b,defaultLoadVideoManifestFunction:()=>T,defaultSetLanguageFunction:()=>fe.D$,defaultTranslateFunction:()=>fe.Pb,getHlsSupport:()=>Nt.getHlsSupport,getLanguage:()=>fe.G3,getPluginsOfType:()=>Y.FN,getShortcuts:()=>lt.gg,importPlugins:()=>Y.gQ,loadPluginsOfType:()=>Y.FP,log:()=>yt,parseWebVTT:()=>Mt.n,setLanguage:()=>fe.m0,translate:()=>fe.Iu,triggerEvent:()=>ee.qe,utils:()=>m});var e=n(3379),t=n.n(e),i=n(7795),o=n.n(i),a=n(569),s=n.n(a),u=n(3565),l=n.n(u),c=n(9216),f=n.n(c),p=n(4589),d=n.n(p),h=n(7945),g={};g.styleTagTransform=d(),g.setAttributes=l(),g.insert=s().bind(null,"head"),g.domAPI=o(),g.insertStyleElement=f(),t()(h.Z,g),h.Z&&h.Z.locals&&h.Z.locals,n(5666);var m=n(1401);function v(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function y(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){v(o,r,i,a,s,"next",e)}function s(e){v(o,r,i,a,s,"throw",e)}a(void 0)}))}}function b(e,t){return w.apply(this,arguments)}function w(){return(w=y(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.log.debug("Using default configuration loading function."),e.next=3,fetch(t);case 3:return r=e.sent,e.abrupt("return",r.json());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(e,t){return _.apply(this,arguments)}function _(){return(_=y(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.log.debug("Using default getVideoId function"),e.abrupt("return",(0,m.getHashParameter)("id")||(0,m.getUrlParameter)("id"));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(e,t,n,r){return x.apply(this,arguments)}function x(){return(x=y(regeneratorRuntime.mark((function e(t,n,r,i){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i.log.debug("Using default getManifestUrl function"),e.abrupt("return",(0,m.joinPath)([t,n]));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(e,t,n,r){return C.apply(this,arguments)}function C(){return(C=y(regeneratorRuntime.mark((function e(t,n,r,i){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i.log.debug("Using default getManifestFileUrl function"),e.abrupt("return",(0,m.joinPath)([t,n]));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(e,t,n){return S.apply(this,arguments)}function S(){return(S=y(regeneratorRuntime.mark((function e(t,n,r){var i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.log.debug("Using default loadVideoManifest function"),e.next=3,fetch(t);case 3:if(!(i=e.sent).ok){e.next=10;break}return e.next=7,i.json();case 7:return e.abrupt("return",e.sent);case 10:throw new Error("Error loading video manifest: ".concat(i.status," ").concat(i.statusText));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var R=n(916),L=n(9598),P=n.n(L),O=n(7649),I={};function D(e){return D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},D(e)}function B(e,t){return B=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},B(e,t)}function j(e,t){if(t&&("object"===D(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function M(e){return M=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},M(e)}I.styleTagTransform=d(),I.setAttributes=l(),I.insert=s().bind(null,"head"),I.domAPI=o(),I.insertStyleElement=f(),t()(O.Z,I),O.Z&&O.Z.locals&&O.Z.locals;var F=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&B(e,t)}(o,e);var t,n,r,i=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=M(n);if(r){var i=M(this).constructor;e=Reflect.construct(t,arguments,i)}else e=t.apply(this,arguments);return j(this,e)});function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=i.call(this,e,{parent:e.containerElement})).element.className="loader-container",(0,R.jS)("\n        <i>".concat(P(),"</i>"),t.element),t}return t=o,Object.defineProperty(t,"prototype",{writable:!1}),t}(R.FZ),N=n(3280),U=n.n(N),$=n(3189),H={};function G(e){return G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},G(e)}function z(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function V(e,t){return V=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},V(e,t)}function K(e,t){if(t&&("object"===G(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Z(e){return Z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Z(e)}H.styleTagTransform=d(),H.setAttributes=l(),H.insert=s().bind(null,"head"),H.domAPI=o(),H.insertStyleElement=f(),t()($.Z,H),$.Z&&$.Z.locals&&$.Z.locals;var W=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&V(e,t)}(o,e);var t,n,r,i=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Z(n);if(r){var i=Z(this).constructor;e=Reflect.construct(t,arguments,i)}else e=t.apply(this,arguments);return K(this,e)});function o(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return z(this,o),(t=i.call(this,e,{parent:e.containerElement})).element.className="error-container",(0,R.jS)("\n            <div>\n                <i>".concat(U(),"</i>\n                <p>").concat(n,"</p>\n            </div>"),t.element),t}return t=o,Object.defineProperty(t,"prototype",{writable:!1}),t}(R.FZ),Y=n(2650),q=n(3063),X=n(2624),Q=n(646),J=n(4382),ee=n(980);function te(e){return te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},te(e)}function ne(e){return function(e){if(Array.isArray(e))return re(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return re(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?re(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function re(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ie(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function oe(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){ie(o,r,i,a,s,"next",e)}function s(e){ie(o,r,i,a,s,"throw",e)}a(void 0)}))}}function ae(e,t){return ae=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ae(e,t)}function se(e,t){if(t&&("object"===te(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function ue(e){return ue=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ue(e)}var le=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ae(e,t)}(R,e);var t,n,r,i,o,a,s,u,l,c,f,p,d,h,g,m,v,y,b,w,A,_,k,x,E,C,T,S=(C=R,T=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ue(C);if(T){var n=ue(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return se(this,e)});function R(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,R),(n=S.call(this,e,t))._videoContainer=t,n._streamData=null,n._streams=null,n._players=[],n._mainAudioPlayer=null,n._streamSyncTimer=null,n._trimming={enabled:!1,start:100,end:200},n}return t=R,n=[{key:"load",value:(E=oe(regeneratorRuntime.mark((function e(t){var n,r,i,o,a=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._streamData=t,this._streams={},n=this.player.config.defaultAudioStream||"presenter",t.some((function(e){if("mainAudio"===e.role)return n=e.content,!0})),this.player.log.debug("Finding compatible video plugins"),e.next=7,(0,J.yJ)(this.player);case 7:this._streamData.forEach((function(e){var t=(0,J.in)(a.player,e);if(!t)throw Error("Canvas plugin not found: ".concat(e.canvas));var r=e.content===n,i=(0,Q.ti)(a.player,e);if(!i)throw Error("Incompatible stream type: ".concat(e.content));a._streams[e.content]={stream:e,isMainAudio:r,videoPlugin:i,canvasPlugin:t}})),r=null,e.t0=regeneratorRuntime.keys(this._streams);case 10:if((e.t1=e.t0()).done){e.next=28;break}return i=e.t1.value,o=this._streams[i],e.next=15,o.canvasPlugin.getCanvasInstance(this._videoContainer);case 15:return o.canvas=e.sent,e.next=18,o.videoPlugin.getVideoInstance(o.canvas.element,o.isMainAudio);case 18:return o.player=e.sent,n===i?(this._mainAudioPlayer=o.player,o.player.setVolume(1)):o.player.setVolume(0),e.next=22,o.player.load(o.stream,this);case 22:return e.next=24,o.canvas.loadCanvas(o.player);case 24:o.player.onVideoEnded((function(){null===r&&((0,ee.Ss)(a.player,ee.ZP.ENDED),r=setTimeout((function(){r=null}),2e3))})),this._players.push(o.player),e.next=10;break;case 28:case"end":return e.stop()}}),e,this)}))),function(e){return E.apply(this,arguments)})},{key:"unload",value:(x=oe(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.stopStreamSync(),e.next=3,(0,J.Ke)(this.player);case 3:case"end":return e.stop()}}),e,this)}))),function(){return x.apply(this,arguments)})},{key:"players",get:function(){return this._players}},{key:"streamData",get:function(){return this._streamData}},{key:"streams",get:function(){return this._streams}},{key:"mainAudioPlayer",get:function(){return this._mainAudioPlayer}},{key:"isTrimEnabled",get:function(){var e,t,n;return(null===(e=this._trimming)||void 0===e?void 0:e.enabled)&&(null===(t=this._trimming)||void 0===t?void 0:t.end)>(null===(n=this._trimming)||void 0===n?void 0:n.start)}},{key:"trimStart",get:function(){var e;return null===(e=this._trimming)||void 0===e?void 0:e.start}},{key:"trimEnd",get:function(){var e;return null===(e=this._trimming)||void 0===e?void 0:e.end}},{key:"setTrimming",value:(k=oe(regeneratorRuntime.mark((function e(t){var n,r,i,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.enabled,r=t.start,i=t.end,!(r>=i)){e.next=3;break}throw Error("Error setting trimming: start time (".concat(r,") must be lower than end time ").concat(i));case 3:return this._trimming={enabled:n,start:r,end:i},e.next=6,this.currentTime();case 6:o=e.sent,(0,ee.Ss)(this.player,ee.ZP.TIMEUPDATE,{currentTime:n?r+o:o});case 8:case"end":return e.stop()}}),e,this)}))),function(e){return k.apply(this,arguments)})},{key:"startStreamSync",value:function(){var e=this;this._timeSync=!0;var t=function(){var n=oe(regeneratorRuntime.mark((function n(){var r,i;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e._players.length){n.next=3;break}return e.player.log.warn("Player not yet loaded. Waiting for video sync."),n.abrupt("return");case 3:if(e.player.log.debug("players:"),e.player.log.debug(e.mainAudioPlayer),r=e.mainAudioPlayer.currentTimeSync,!e.isTrimEnabled){n.next=28;break}if(i=r-e.trimStart,!(e.trimEnd<=r)){n.next=19;break}return n.next=11,e.executeAction("pause");case 11:return n.next=13,e.setCurrentTime(0);case 13:return e.stopStreamSync(),r=0,(0,ee.Ss)(e.player,ee.ZP.ENDED,{}),n.abrupt("return");case 19:if(!(r<e.trimStart)){n.next=24;break}return n.next=22,e.setCurrentTime(0);case 22:r=e.trimStart,i=0;case 24:(0,ee.Ss)(e.player,ee.ZP.TIMEUPDATE,{currentTime:i}),e._timeupdateTimer=setTimeout((function(){e._timeSync&&t()}),250),n.next=29;break;case 28:e._timeSync&&((0,ee.Ss)(e.player,ee.ZP.TIMEUPDATE,{currentTime:r}),e._timeupdateTimer=setTimeout((function(){t()}),250));case 29:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();t()}},{key:"stopStreamSync",value:function(){this._timeSync=!1,this._timeupdateTimer&&clearTimeout(this._timeupdateTimer)}},{key:"executeAction",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Array.isArray(n)||(n=[n]),new Promise((function(r){var i=[],o=[];t.players.forEach((function(t){o.push(new Promise((function(r){t[e].apply(t,ne(n)).then((function(e){i.push(e),r()}))})))})),Promise.all(o).then((function(){return r(i)}))}))}},{key:"play",value:(_=oe(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.startStreamSync(),e.next=3,this.executeAction("play");case 3:return t=e.sent,e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)}))),function(){return _.apply(this,arguments)})},{key:"pause",value:(A=oe(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.stopStreamSync(),e.next=3,this.executeAction("pause");case 3:return t=e.sent,e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)}))),function(){return A.apply(this,arguments)})},{key:"stop",value:(w=oe(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.stopStreamSync(),e.next=3,this.executeAction("pause");case 3:return e.next=5,this.executeAction("setCurrentTime",0);case 5:case"end":return e.stop()}}),e,this)}))),function(){return w.apply(this,arguments)})},{key:"paused",value:(b=oe(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.executeAction("paused");case 2:return e.abrupt("return",e.sent[0]);case 3:case"end":return e.stop()}}),e,this)}))),function(){return b.apply(this,arguments)})},{key:"setCurrentTime",value:(y=oe(regeneratorRuntime.mark((function e(t){var n,r,i,o,a,s,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.executeAction("currentTime");case 2:if(n=e.sent[0],r=null,!this.isTrimEnabled){e.next=16;break}return t=(t+=this.trimStart)>=this.trimEnd?this.trimEnd:t,e.next=9,this.executeAction("setCurrentTime",[t]);case 9:return i=e.sent[0],e.next=12,this.executeAction("currentTime");case 12:o=e.sent[0],r={result:i,prevTime:n-this.trimStart,newTime:o-this.trimStart},e.next=23;break;case 16:return e.next=18,this.executeAction("setCurrentTime",[t]);case 18:return a=e.sent[0],e.next=21,this.executeAction("currentTime");case 21:s=e.sent[0],r={result:a,prevTime:n,newTime:s};case 23:return e.next=25,this.currentTime();case 25:return u=e.sent,(0,ee.Ss)(this.player,ee.ZP.TIMEUPDATE,{currentTime:u}),e.abrupt("return",r);case 28:case"end":return e.stop()}}),e,this)}))),function(e){return y.apply(this,arguments)})},{key:"currentTime",value:(v=oe(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.mainAudioPlayer.currentTime();case 2:if(t=e.sent,!this.isTrimEnabled){e.next=7;break}return e.abrupt("return",t-this.trimStart);case 7:return e.abrupt("return",t);case 8:case"end":return e.stop()}}),e,this)}))),function(){return v.apply(this,arguments)})},{key:"currentTimeIgnoringTrimming",value:(m=oe(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.mainAudioPlayer.currentTime();case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e,this)}))),function(){return m.apply(this,arguments)})},{key:"volume",value:(g=oe(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.mainAudioPlayer){e.next=6;break}return e.next=3,this.mainAudioPlayer.volume();case 3:return e.abrupt("return",e.sent);case 6:return e.next=8,this.executeAction("volume");case 8:return e.abrupt("return",e.sent[0]);case 9:case"end":return e.stop()}}),e,this)}))),function(){return g.apply(this,arguments)})},{key:"setVolume",value:(h=oe(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.mainAudioPlayer){e.next=6;break}return e.next=3,this.mainAudioPlayer.setVolume(t);case 3:return e.abrupt("return",e.sent);case 6:return e.next=8,this.executeAction("setVolume",[t]);case 8:return e.abrupt("return",e.sent[0]);case 9:case"end":return e.stop()}}),e,this)}))),function(e){return h.apply(this,arguments)})},{key:"duration",value:(d=oe(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isTrimEnabled){e.next=4;break}return e.abrupt("return",this.trimEnd-this.trimStart);case 4:return e.next=6,this.executeAction("duration");case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)}))),function(){return d.apply(this,arguments)})},{key:"durationIgnoringTrimming",value:(p=oe(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.executeAction("duration");case 2:return e.abrupt("return",e.sent[0]);case 3:case"end":return e.stop()}}),e,this)}))),function(){return p.apply(this,arguments)})},{key:"playbackRate",value:(f=oe(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.executeAction("playbackRate");case 2:return e.abrupt("return",e.sent[0]);case 3:case"end":return e.stop()}}),e,this)}))),function(){return f.apply(this,arguments)})},{key:"setPlaybackRate",value:(c=oe(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.executeAction("setPlaybackRate",[t]);case 2:return e.abrupt("return",e.sent[0]);case 3:case"end":return e.stop()}}),e,this)}))),function(e){return c.apply(this,arguments)})},{key:"getQualityReferencePlayer",value:(l=oe(regeneratorRuntime.mark((function e(){var t,n,r,i,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=null,n=null,!(Object.keys(this.streams).length>0)){e.next=13;break}e.t0=regeneratorRuntime.keys(this.streams);case 4:if((e.t1=e.t0()).done){e.next=13;break}return r=e.t1.value,i=this.streams[r],e.next=9,i.player.getQualities();case 9:o=e.sent,(!t||n&&o.length>n.length)&&(n=o,t=i.player),e.next=4;break;case 13:return e.abrupt("return",t);case 14:case"end":return e.stop()}}),e,this)}))),function(){return l.apply(this,arguments)})},{key:"getCurrentQuality",value:(u=oe(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getQualityReferencePlayer();case 2:return e.abrupt("return",e.sent.currentQuality);case 3:case"end":return e.stop()}}),e,this)}))),function(){return u.apply(this,arguments)})},{key:"getQualities",value:(s=oe(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getQualityReferencePlayer();case 2:return t=e.sent,e.next=5,t.getQualities();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)}))),function(){return s.apply(this,arguments)})},{key:"setQuality",value:(a=oe(regeneratorRuntime.mark((function e(t){var n,r,i,o,a,s,u,l,c,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getQualityReferencePlayer();case 2:return n=e.sent,e.next=5,n.getQualities();case 5:if(r=e.sent,i=r.length,o=-1,r.some((function(e,n){return t.index===e.index&&(o=n),-1!==o})),!(o>=0)){e.next=26;break}a=o/i,e.t0=regeneratorRuntime.keys(this.streams);case 12:if((e.t1=e.t0()).done){e.next=26;break}return s=e.t1.value,u=this.streams[s],e.next=17,u.player.getQualities();case 17:if(l=e.sent,this.player.log.debug(l),!(l.length>1)){e.next=24;break}return c=Math.round(l.length*a),f=l[c],e.next=24,u.player.setQuality(f);case 24:e.next=12;break;case 26:case"end":return e.stop()}}),e,this)}))),function(e){return a.apply(this,arguments)})},{key:"supportsMultiaudio",value:(o=oe(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.mainAudioPlayer.supportsMultiaudio());case 1:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})},{key:"getAudioTracks",value:(i=oe(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.mainAudioPlayer.getAudioTracks());case 1:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"setCurrentAudioTrack",value:(r=oe(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.mainAudioPlayer.setCurrentAudioTrack(t));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"currentAudioTrack",get:function(){return this.mainAudioPlayer.currentAudioTrack}}],n&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),R}(X.Z),ce=n(1768),fe=n(629),pe=n(7674),de={};de.styleTagTransform=d(),de.setAttributes=l(),de.insert=s().bind(null,"head"),de.domAPI=o(),de.insertStyleElement=f(),t()(pe.Z,de),pe.Z&&pe.Z.locals&&pe.Z.locals;var he=n(2323),ge={};function me(e){return me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},me(e)}function ve(e,t){return ve=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ve(e,t)}function ye(e,t){if(t&&("object"===me(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function be(e){return be=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},be(e)}function we(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function Ae(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){we(o,r,i,a,s,"next",e)}function s(e){we(o,r,i,a,s,"throw",e)}a(void 0)}))}}function _e(e){return ke.apply(this,arguments)}function ke(){return(ke=Ae(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{w:1280,h:720});case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}ge.styleTagTransform=d(),ge.setAttributes=l(),ge.insert=s().bind(null,"head"),ge.domAPI=o(),ge.insertStyleElement=f(),t()(he.Z,ge),he.Z&&he.Z.locals&&he.Z.locals;var xe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ve(e,t)}(_,e);var t,n,r,i,o,a,s,u,l,c,f,p,d,h,g,m,v,y,b,w,A=(b=_,w=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=be(b);if(w){var n=be(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return ye(this,e)});function _(e,t){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,_);var r="base-video-rect",i='\n            <div class="'.concat(r,'">\n            </div>\n        ');return(n=A.call(this,e,{attributes:{class:"video-container"},children:i,parent:t}))._baseVideoRect=n.element.getElementsByClassName(r)[0],n.element.addEventListener("click",Ae(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.paused();case 2:if(!e.sent){e.next=7;break}return e.next=5,n.play();case 5:e.next=9;break;case 7:return e.next=9,n.pause();case 9:case"end":return e.stop()}}),e)})))),n._ready=!1,n._layoutId=window.localStorage.getItem("videoLayout")||e.config.defaultLayout,n._players=[],n._streamProvider=new le(n.player,n.baseVideoRect),n}return t=_,n=[{key:"layoutId",get:function(){return this._layoutId}},{key:"setLayout",value:(y=Ae(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(-1!==this.validContentIds.indexOf(t)){e.next=4;break}return e.abrupt("return",!1);case 4:window.localStorage.setItem("videoLayout",t),this._layoutId=t,this.updateLayout();case 7:case"end":return e.stop()}}),e,this)}))),function(e){return y.apply(this,arguments)})},{key:"validContentIds",get:function(){return this._validContentIds}},{key:"validContentSettings",get:function(){return this._validContentSettings}},{key:"validLayouts",get:function(){return(0,q.tk)(this.player,this.streamData)}},{key:"streamData",get:function(){return this._streamData}},{key:"baseVideoRect",get:function(){return this._baseVideoRect}},{key:"streamProvider",get:function(){return this._streamProvider}},{key:"load",value:(v=Ae(regeneratorRuntime.mark((function e(t){var n,r,i=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._streamData=t,this._baseVideoRect.style.display="none",e.next=4,(0,Y.FP)(this.player,"layout");case 4:return e.next=6,(0,Q.zE)(this.player);case 6:return e.next=8,this.streamProvider.load(t);case 8:return this._validContentIds=(0,q.Vc)(this.player,t),this._validContentSettings=(0,q.OU)(this.player,t),e.next=12,this.updateLayout();case 12:return n=(0,R.jS)('<div class="button-plugins left-side"></div>',this.element),r=(0,R.jS)('<div class="button-plugins right-side"></div>',this.element),this._buttonPlugins=[n,r],this.player.log.debug("Loading videoContainer button plugins"),e.next=18,(0,Y.FP)(this.player,"button",function(){var e=Ae(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i.player.log.debug(" Button plugin: ".concat(t.name)),"left"!==t.side){e.next=6;break}return e.next=4,(0,ce.k1)(t,n);case 4:e.next=9;break;case 6:if("right"!==t.side){e.next=9;break}return e.next=9,(0,ce.k1)(t,r);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),function(){var e=Ae(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("videoContainer"!==t.parentContainer){e.next=6;break}return e.next=3,t.isEnabled();case 3:return e.abrupt("return",e.sent);case 6:return e.abrupt("return",!1);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 18:this._baseVideoRect.style.display="",this._ready=!0;case 20:case"end":return e.stop()}}),e,this)}))),function(e){return v.apply(this,arguments)})},{key:"unload",value:(m=Ae(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.removeFromParent(),e.next=3,(0,Y.Dd)(this.player,"layout");case 3:return e.next=5,(0,Q.m7)(this.player);case 5:return e.next=7,this.streamProvider.unload();case 7:case"end":return e.stop()}}),e,this)}))),function(){return m.apply(this,arguments)})},{key:"updateLayout",value:(g=Ae(regeneratorRuntime.mark((function e(){var t,n,r,i,o,a,s,u,l,c,f,p,d,h,g,m=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=!0,this._layoutButtons=[],this._layoutId&&-1!==this._validContentIds.indexOf(this._layoutId)||(this._layoutId=this.player.config.defaultLayout,-1===this._validContentIds.indexOf(this._layoutId)&&(this._layoutId=this._validContentIds[0]),r=!1),i=(0,q.yl)(this.player,this.streamProvider.streamData,this._layoutId),o=regeneratorRuntime.mark((function e(t){var n,r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=null!=(null==i||null===(n=i.videos)||void 0===n?void 0:n.find((function(e){return e.content===t}))),void 0===(o=m.streamProvider.streams[t]).isEnabled&&(o.isEnabled=!0),!r||o.isEnabled){e.next=9;break}return e.next=6,o.player.enable();case 6:o.isEnabled=e.sent,e.next=13;break;case 9:if(r||!o.isEnabled){e.next=13;break}return e.next=12,o.player.disable();case 12:o.isEnabled=e.sent;case 13:case"end":return e.stop()}}),e)})),e.t0=regeneratorRuntime.keys(this.streamProvider.streams);case 6:if((e.t1=e.t0()).done){e.next=11;break}return a=e.t1.value,e.delegateYield(o(a),"t2",9);case 9:e.next=6;break;case 11:for(s in this.streamProvider.streams)this.streamProvider.streams[s].canvas.element.style.display="none";return e.next=14,_e(this.player);case 14:return u=e.sent,l=this.player.containerSize,c=100/u.w,f=100/u.h,p=l.w/l.h,d=u.w/u.h,h=p>d?{w:l.h*d,h:l.h}:{w:l.w,h:l.w/d},this.baseVideoRect.style.width=h.w+"px",this.baseVideoRect.style.height=h.h+"px",e.next=25,null==i||null===(t=i.videos)||void 0===t?void 0:t.forEach(function(){var e=Ae(regeneratorRuntime.mark((function e(t){var n,r,o,a,s,u,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=m.streamProvider.streams[t.content]).stream,r=n.player,o=n.canvas,e.next=4,r.getDimensions();case 4:a=e.sent,s=a.w/a.h,u=Number.MAX_VALUE,l=null,o.buttonsArea.innerHTML="",(0,J.RM)(i,o,t),t.rect.forEach((function(e){var t=/^(\d+.?\d*)\/(\d+.?\d*)$/.exec(e.aspectRatio),n=t?Number(t[1])/Number(t[2]):1,r=Math.abs(s-n);r<u&&(l=e,u=r)})),o.element.style.display="block",o.element.style.position="absolute",o.element.style.left="".concat(l.left*c,"%"),o.element.style.top="".concat(l.top*f,"%"),o.element.style.width="".concat(l.width*c,"%"),o.element.style.height="".concat(l.height*f,"%"),o.element.style.zIndex=t.layer;case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 25:return g=this.baseVideoRect.getElementsByClassName("video-layout-button"),Array.from(g).forEach((function(e){return m.baseVideoRect.removeChild(e)})),null==i||null===(n=i.buttons)||void 0===n||n.forEach((function(e){var t=(0,R.az)({tag:"button",attributes:{class:"video-layout-button","aria-label":(0,fe.Iu)(e.ariaLabel),title:(0,fe.Iu)(e.title),style:"\n                        left: ".concat(e.rect.left*c,"%;\n                        top: ").concat(e.rect.top*f,"%;\n                        width: ").concat(e.rect.width*c,"%;\n                        height: ").concat(e.rect.height*f,"%;\n                        z-index: ").concat(e.layer,";\n                    ")},parent:m.baseVideoRect,children:e.icon});t.layout=i,t.buttonAction=e.onClick,t.addEventListener("click",(function(e){(0,ee.qe)(m.player,ee.ZP.BUTTON_PRESS,{plugin:i.plugin,layoutStructure:i}),e.target.buttonAction.apply(e.target.layout),e.stopPropagation()})),m._layoutButtons.push(t)})),(0,ee.qe)(this.player,ee.ZP.LAYOUT_CHANGED),e.abrupt("return",r);case 30:case"end":return e.stop()}}),e,this)}))),function(){return g.apply(this,arguments)})},{key:"hideUserInterface",value:function(){if(this._layoutButtons&&this._buttonPlugins){this.player.log.debug("Hide video container user interface");var e=function(e){e._prevDisplay=e.style.display,e.style.display="none"};for(var t in this._layoutButtons.forEach(e),this._buttonPlugins.forEach(e),this.streamProvider.streams)this.streamProvider.streams[t].canvas.hideButtons()}}},{key:"showUserInterface",value:function(){if(this._layoutButtons&&this._buttonPlugins){var e=function(e){return e.style.display=e._prevDisplay||"block"};for(var t in this._layoutButtons.forEach(e),this._buttonPlugins.forEach(e),this.streamProvider.streams)this.streamProvider.streams[t].canvas.showButtons()}}},{key:"ready",get:function(){return this._ready}},{key:"play",value:(h=Ae(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.streamProvider.play();case 2:return t=e.sent,(0,ee.qe)(this.player,ee.ZP.PLAY),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)}))),function(){return h.apply(this,arguments)})},{key:"pause",value:(d=Ae(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.streamProvider.pause();case 2:return t=e.sent,(0,ee.qe)(this.player,ee.ZP.PAUSE),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)}))),function(){return d.apply(this,arguments)})},{key:"stop",value:(p=Ae(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.streamProvider.stop(),(0,ee.qe)(this.player,ee.ZP.STOP);case 2:case"end":return e.stop()}}),e,this)}))),function(){return p.apply(this,arguments)})},{key:"paused",value:(f=Ae(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.streamProvider.paused());case 1:case"end":return e.stop()}}),e,this)}))),function(){return f.apply(this,arguments)})},{key:"setCurrentTime",value:(c=Ae(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.streamProvider.setCurrentTime(t);case 2:return n=e.sent,(0,ee.qe)(this.player,ee.ZP.SEEK,{prevTime:n.prevTime,newTime:n.newTime}),e.abrupt("return",n.result);case 5:case"end":return e.stop()}}),e,this)}))),function(e){return c.apply(this,arguments)})},{key:"currentTime",value:(l=Ae(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.streamProvider.currentTime());case 1:case"end":return e.stop()}}),e,this)}))),function(){return l.apply(this,arguments)})},{key:"volume",value:(u=Ae(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.streamProvider.volume());case 1:case"end":return e.stop()}}),e,this)}))),function(){return u.apply(this,arguments)})},{key:"setVolume",value:(s=Ae(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.streamProvider.setVolume(t);case 2:return n=e.sent,(0,ee.qe)(this.player,ee.ZP.VOLUME_CHANGED,{volume:t}),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)}))),function(e){return s.apply(this,arguments)})},{key:"duration",value:(a=Ae(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.streamProvider.duration();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"playbackRate",value:(o=Ae(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.streamProvider.playbackRate();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})},{key:"setPlaybackRate",value:(i=Ae(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.streamProvider.setPlaybackRate(t);case 2:return n=e.sent,(0,ee.qe)(this.player,ee.ZP.PLAYBACK_RATE_CHANGED,{newPlaybackRate:t}),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})},{key:"isTrimEnabled",get:function(){return this.streamProvider.isTrimEnabled}},{key:"trimStart",get:function(){return this.streamProvider.trimStart}},{key:"trimEnd",get:function(){return this.streamProvider.trimEnd}},{key:"setTrimming",value:(r=Ae(regeneratorRuntime.mark((function e(t){var n,r,i,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.enabled,r=t.start,i=t.end,e.next=3,this.streamProvider.setTrimming({enabled:n,start:r,end:i});case 3:return o=e.sent,(0,ee.qe)(this.player,ee.ZP.TRIMMING_CHANGED,{enabled:n,start:r,end:i}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"getVideoRect",value:function(){var e,t,n,r,i,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=this.baseVideoRect;return"string"==typeof o&&(a=null===(i=this.streamProvider.streams[o])||void 0===i?void 0:i.canvas.element),{x:null===(e=a)||void 0===e?void 0:e.offsetLeft,y:null===(t=a)||void 0===t?void 0:t.offsetTop,width:null===(n=a)||void 0===n?void 0:n.offsetWidth,height:null===(r=a)||void 0===r?void 0:r.offsetHeight,element:a}}},{key:"appendChild",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(t){var r=this.getVideoRect(),i=r.width,o=r.height;t.x=100*t.x/i,t.width=100*t.width/i,t.y=100*t.y/o,t.height=100*t.height/o,e.style.position="absolute",e.style.left="".concat(t.x,"%"),e.style.top="".concat(t.y,"%"),e.style.width="".concat(t.width,"%"),e.style.height="".concat(t.height,"%"),null!==n&&(e.style.zIndex=n)}return this.baseVideoRect.appendChild(e),e}},{key:"removeChild",value:function(e){this.baseVideoRect.removeChild(e)}}],n&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),_}(R.FZ),Ee=n(6304),Ce=n.n(Ee);function Te(e){return Te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Te(e)}function Se(e,t){return Se=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Se(e,t)}function Re(e,t){if(t&&("object"===Te(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Le(e){return Le=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Le(e)}var Pe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Se(e,t)}(a,e);var t,n,r,i,o=(r=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Le(r);if(i){var n=Le(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Re(this,e)});function a(e,t,n){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(r=o.call(this,e,{attributes:{class:"preview-container",style:"\n    background-color: #e4e4e4;\n    width: 100%;\n    height: 100%;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    cursor: pointer;\n    position: absolute;\n    top: 50%;\n    transform: translateY(-50%); \n"},parent:t}))._img=(0,R.jS)('\n        <div>\n            <img style="'.concat("\n    width: 100%;\n",'" src="').concat(n,'" alt=""/>\n            <div style="').concat("\n    position: absolute; \n    top: 0px; \n    left: 0px; \n    right: 0px; \n    bottom: 0px; \n    display: flex;\n    align-content: center;\n    justify-content: center;\n    align-items: center;\n",'">\n                <i class="preview-play-icon" style="').concat("\n    pointer-events: none;\n    width: 20%;\n    max-width: 400px;\n    min-width: 100px;\n    opacity: 0.6;\n",'">').concat(Ce(),"</i>\n            </div>\n        </div>\n        "),r.element),r.element.addEventListener("click",(function(t){e.play()})),r}return t=a,(n=[{key:"loadBackgroundImage",value:function(e){this._img.setAttribute("src",e)}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(R.FZ);function Oe(e){return Oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oe(e)}function Ie(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function De(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){Ie(o,r,i,a,s,"next",e)}function s(e){Ie(o,r,i,a,s,"throw",e)}a(void 0)}))}}function Be(e,t){return Be=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Be(e,t)}function je(e,t){if(t&&("object"===Oe(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Me(e)}function Me(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Fe(e){return Fe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Fe(e)}function Ne(e,t){var n=function(e,t){if(!e||0===e.length)return null;var n=e[0],r=n.time;return e.forEach((function(e){e.time>r&&e.time<Math.floor(t)&&(r=(n=e).time)})),n}(this.frameList,t);if(n){this._frameThumbnail.style.display="block";var r=this._frameThumbnail.getBoundingClientRect().width,i=this.playbackBar.getBoundingClientRect(),o=(i.top,i.left,i.bottom,i.width),a=i.height,s=o/2;this.frameThumbnail.style.bottom="".concat(a,"px"),this.frameThumbnail.style.left="".concat(s>e?e:e-r,"px");var u=(0,m.resolveResourcePath)(this.player,n.url),l=this.frameThumbnail.getElementsByClassName("thumbnail-image")[0],c=this.frameThumbnail.getElementsByClassName("thumbnail-time")[0];u!==this._prevFrameImage&&(l.src=u,l.alt=n.id,this._prevFrameImage=u),c.innerHTML=(0,m.secondsToTime)(t)}}var Ue=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Be(e,t)}(a,e);var t,n,r,i,o=(r=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Fe(r);if(i){var n=Fe(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return je(this,e)});function a(e,t){var n,r,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(i=o.call(this,e,{attributes:{class:"progress-indicator"},children:'\n\t\t<canvas class="progress-canvas canvas-layer-0"></canvas>\n\t\t<div class="progress-indicator-container">\n\t\t\t<div class="progress-indicator-content"></div>\n\t\t</div>\n\t\t<canvas class="progress-canvas canvas-layer-1"></canvas>\n\t\t<div class="progress-indicator-timer">00:00</div>\n\t\t',parent:t}))._frameThumbnail=(0,R.jS)('\n\t\t\t<div class="frame-thumbnail">\n\t\t\t\t<img src="" alt="" class="thumbnail-image" />\n\t\t\t\t<p class="thumbnail-time">00:00</p>\n\t\t\t</div>',e.containerElement),i._frameThumbnail.style.display="none",i._frameThumbnail.style.position="absolute",i._canvas=[i.element.getElementsByClassName("progress-canvas")[0],i.element.getElementsByClassName("progress-canvas")[1]],i._progressContainer=i.element.getElementsByClassName("progress-indicator-container")[0],i._progressIndicator=i.element.getElementsByClassName("progress-indicator-content")[0],i._progressTimer=i.element.getElementsByClassName("progress-indicator-timer")[0],i._frameList=null===(n=e.videoManifest)||void 0===n?void 0:n.frameList,null===(r=i._frameList)||void 0===r||r.sort((function(e,t){return e.time-t.time})),i.onResize();var s=!1,u=function(){var t=De(regeneratorRuntime.mark((function t(n){var r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.videoContainer.duration();case 2:r=t.sent,o=100*n/r,i.progressIndicator.style.width="".concat(o,"%");case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),l=function(){var t=De(regeneratorRuntime.mark((function t(n){var r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=i.element.offsetWidth,t.next=3,e.videoContainer.duration();case 3:return o=t.sent,t.abrupt("return",n*o/r);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return(0,ee.GT)(i.player,ee.ZP.TIMEUPDATE,function(){var e=De(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.currentTime,s){e.next=6;break}return e.next=4,u(n);case 4:r=(0,m.secondsToTime)(n),i.progressTimer.innerHTML=r;case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),(0,ee.GT)(i.player,ee.ZP.SEEK,function(){var e=De(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.prevTime,n=t.newTime,s){e.next=6;break}return e.next=4,u(n);case 4:r=(0,m.secondsToTime)(n),i.progressTimer.innerHTML=r;case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),(0,ee.GT)(i.player,ee.ZP.STOP,De(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u(0);case 2:t=(0,m.secondsToTime)(0),i.progressTimer.innerHTML=t;case 4:case"end":return e.stop()}}),e)})))),i.progressContainer.addEventListener("mousedown",function(){var e=De(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=!0,e.next=3,l(t.offsetX);case 3:return n=e.sent,e.next=6,u(n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),i.progressContainer._progressIndicator=Me(i),i.progressContainer.addEventListener("mousemove",function(){var e=De(regeneratorRuntime.mark((function e(t){var n,r,o,a,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.player.videoContainer,r=n.isTrimEnabled,o=n.trimStart,a=r?o:0,e.next=4,l(t.offsetX);case 4:if(c=e.sent,!s){e.next=8;break}return e.next=8,u(c);case 8:Ne.apply(Me(i),[t.offsetX,c+a]);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),i.progressContainer.addEventListener("mouseup",function(){var t=De(regeneratorRuntime.mark((function t(n){var r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l(n.offsetX);case 2:return r=t.sent,t.next=5,u(r);case 5:return t.next=7,e.videoContainer.setCurrentTime(r);case 7:o=(0,m.secondsToTime)(r),i.progressTimer.innerHTML=o,s=!1;case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),i.progressContainer.addEventListener("mouseleave",function(){var t=De(regeneratorRuntime.mark((function t(n){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!s){t.next=7;break}return t.next=3,l(n.offsetX);case 3:return r=t.sent,t.next=6,e.videoContainer.setCurrentTime(r);case 6:s=!1;case 7:i.frameThumbnail.style.display="none";case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),i}return t=a,(n=[{key:"playbackBar",get:function(){return this.element.parentElement}},{key:"canvasLayer0",get:function(){return this._canvas[0]}},{key:"canvasLayer1",get:function(){return this._canvas[1]}},{key:"progressIndicator",get:function(){return this._progressIndicator}},{key:"progressTimer",get:function(){return this._progressTimer}},{key:"progressContainer",get:function(){return this._progressContainer}},{key:"frameThumbnail",get:function(){return this._frameThumbnail}},{key:"frameList",get:function(){return this._frameList}},{key:"onResize",value:function(){var e={w:this.element.offsetWidth,h:this.element.offsetHeight};this._canvas.forEach((function(t){t.width=e.w,t.height=e.h}))}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(R.FZ),$e=n(9167),He={};function Ge(e){return Ge="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ge(e)}function ze(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function Ve(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){ze(o,r,i,a,s,"next",e)}function s(e){ze(o,r,i,a,s,"throw",e)}a(void 0)}))}}function Ke(e,t){return Ke=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ke(e,t)}function Ze(e,t){if(t&&("object"===Ge(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function We(e){return We=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},We(e)}He.styleTagTransform=d(),He.setAttributes=l(),He.insert=s().bind(null,"head"),He.domAPI=o(),He.insertStyleElement=f(),t()($e.Z,He),$e.Z&&$e.Z.locals&&$e.Z.locals;var Ye=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ke(e,t)}(u,e);var t,n,r,i,o,a,s=(o=u,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=We(o);if(a){var n=We(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Ze(this,e)});function u(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(n=s.call(this,e,{attributes:{class:"playback-bar"},parent:t}))._progressIndicator=new Ue(e,n.element),n._buttonPluginsLeft=(0,R.jS)('<div class="button-plugins left-side"></div>',n.element),n._buttonPluginsRight=(0,R.jS)('<div class="button-plugins right-side"></div>',n.element),n}return t=u,n=[{key:"load",value:(i=Ve(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._frameList=this.player.videoManifest,this.player.log.debug("Loading button plugins"),e.next=4,(0,Y.FP)(this.player,"button",function(){var e=Ve(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.player.log.debug(" Button plugin: ".concat(n.name)),"left"!==n.side){e.next=6;break}return e.next=4,(0,ce.k1)(n,t.buttonPluginsLeft);case 4:e.next=9;break;case 6:if("right"!==n.side){e.next=9;break}return e.next=9,(0,ce.k1)(n,t.buttonPluginsRight);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),function(){var e=Ve(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("playbackBar"!==t.parentContainer){e.next=6;break}return e.next=3,t.isEnabled();case 3:return e.abrupt("return",e.sent);case 6:return e.abrupt("return",!1);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 4:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"unload",value:(r=Ve(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.removeFromParent(),e.next=3,(0,Y.Dd)(this.player,"button");case 3:this._buttonPluginsLeft.innerHTML="",this._buttonPluginsRight.innerHTML="";case 5:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"hideUserInterface",value:function(){this.player.log.debug("Hide playback bar user interface"),this.hide()}},{key:"showUserInterface",value:function(){this.show()}},{key:"buttonPluginsRight",get:function(){return this._buttonPluginsRight}},{key:"buttonPluginsLeft",get:function(){return this._buttonPluginsLeft}},{key:"progressIndicator",get:function(){return this._progressIndicator}},{key:"onResize",value:function(){this.progressIndicator.onResize()}}],n&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),u}(R.FZ),qe=n(230),Xe=n(6911),Qe=n(1285),Je=n(8704),et=n(7046),tt={};function nt(e){return nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nt(e)}function rt(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function it(e,t){return it=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},it(e,t)}function ot(e,t){if(t&&("object"===nt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function at(e){return at=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},at(e)}tt.styleTagTransform=d(),tt.setAttributes=l(),tt.insert=s().bind(null,"head"),tt.domAPI=o(),tt.insertStyleElement=f(),t()(et.Z,tt),et.Z&&et.Z.locals&&et.Z.locals;var st=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&it(e,t)}(u,e);var t,n,r,i,o,a,s=(o=u,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=at(o);if(a){var n=at(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return ot(this,e)});function u(e,t){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(n=s.call(this,e,{tag:"div",attributes:{class:"captions-canvas"},parent:t}))._captionsContainer=(0,R.jS)('\n            <div class="captions-container"></div>',n.element),n._captions=[],n.hide(),n._currentCaptions=null;var r=function(e){var t=e.currentTime||e.newTime||0;if(n._currentCaptions){var r=n._currentCaptions.getCue(t);n._captionsContainer.innerHTML="",r&&r.captions.forEach((function(e){n._captionsContainer.innerHTML+=e,n._captionsContainer.innerHTML+="<br/>"})),n._captionsContainer.style.display=r?null:"none"}};return(0,ee.GT)(n.player,ee.ZP.TIMEUPDATE,r),(0,ee.GT)(n.player,ee.ZP.SEEK,r),n}return t=u,n=[{key:"load",value:(r=regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,Je.N)(this.player);case 2:case"end":return e.stop()}}),e,this)})),i=function(){var e=this,t=arguments;return new Promise((function(n,i){var o=r.apply(e,t);function a(e){rt(o,n,i,a,s,"next",e)}function s(e){rt(o,n,i,a,s,"throw",e)}a(void 0)}))},function(){return i.apply(this,arguments)})},{key:"unload",value:function(){}},{key:"addCaptions",value:function(e){this._captions.push(e),(0,ee.qe)(this.player,ee.ZP.CAPTIONS_CHANGED,{captions:this._captions})}},{key:"captions",get:function(){return this._captions}},{key:"currentCaptions",get:function(){return this._currentCaptions}},{key:"getCaptions",value:function(e){var t=e.label,n=e.index,r=e.lang;if(void 0===t&&void 0===n&&void 0===r)throw Error("Could not find captions: you must specify the label, the index or the language");return void 0!==n?this._captions[n]:this._captions.find((function(e){return void 0!==t?e.label===t:void 0!==r?e.language===r:void 0}))}},{key:"enableCaptions",value:function(e){this._currentCaptions=this.getCaptions(e),this.show()}},{key:"disableCaptions",value:function(){this._currentCaptions=null,this.hide()}}],n&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),u}(R.FZ),ut=n(8984),lt=n(9267),ct=n(7136),ft={};function pt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}ft.styleTagTransform=d(),ft.setAttributes=l(),ft.insert=s().bind(null,"head"),ft.domAPI=o(),ft.insertStyleElement=f(),t()(ct.Z,ft),ct.Z&&ct.Z.locals&&ct.Z.locals;var dt={DISABLED:0,ERROR:1,WARN:2,INFO:3,DEBUG:4,VERBOSE:5},ht=dt.INFO,gt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n="string"==typeof e?dt[e]:e;if(n<dt.DISABLED||n>dt.VERBOSE)throw Error("setLogLevel: invalid log level ".concat(n));t?(t.__logSettings=t.__logSettings||{},t.__logSettings.logLevel=n):ht=n},mt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return e?e.__logSettings.logLevel:ht},vt=function(e){var t=e.msg,n=e.level,r=void 0===n?dt.INFO:n,i=e.player,o=void 0===i?null:i,a=e.context,s=void 0===a?"paella-core":a;o&&!o.__logSettings&&gt(o,dt.INFO);var u=mt(o);if(r<dt.DISABLED)throw Error("printMessage: invalid log level ".concat(r));if(r<=u)switch(r){case dt.ERROR:console.error("".concat(s," - Error: ").concat(t));break;case dt.WARN:console.warn("".concat(s,"  - Warning: ").concat(t));break;case dt.INFO:console.log("".concat(s," - Info: ").concat(t));break;case dt.DEBUG:console.log("".concat(s," - Debug: ").concat(t));break;case dt.VERBOSE:console.log("".concat(s," - Verbose: ").concat(t))}},yt={setLevel:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;gt(e,t)},currentLevel:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return mt(e)},error:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"paella-core";vt({msg:e,level:dt.ERROR,player:t,context:n})},warn:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"paella-core";vt({msg:e,level:dt.WARN,player:t,context:n})},info:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"paella-core";vt({msg:e,level:dt.INFO,player:t,context:n})},debug:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"paella-core";vt({msg:e,level:dt.DEBUG,player:t,context:n})},verbose:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"paella-core";vt({msg:e,level:dt.VERBOSE,player:t,context:n})}},bt=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"paella-core";pt(this,e),this._player=t,this._context=n}var t,n;return t=e,n=[{key:"context",get:function(){return this._context}},{key:"player",get:function(){return this._player}},{key:"setLevel",value:function(e){yt.setLevel(e,this._player)}},{key:"currentLevel",value:function(){yt.currentLevel(this._player)}},{key:"error",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;yt.error(e,this._player,t||this._context)}},{key:"warn",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;yt.warn(e,this._player,t||this._context)}},{key:"info",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;yt.info(e,this._player,t||this._context)}},{key:"debug",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;yt.debug(e,this._player,t||this._context)}},{key:"verbose",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;yt.verbose(e,this._player,t||this._context)}}],n&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),wt={es:{"May the force be with you":"Que la fuerza te acompañe",Digit1:"1",Digit2:"2",Digit3:"3",Digit4:"4",Digit5:"5",Digit6:"6",Digit7:"7",Digit8:"8",Digit9:"9",Digit0:"0",KeyA:"A",KeyB:"B",KeyC:"C",KeyD:"D",KeyE:"E",KeyF:"F",KeyG:"G",KeyH:"H",KeyI:"I",KeyJ:"J",KeyK:"K",KeyL:"L",KeyM:"M",KeyN:"N",KeyO:"O",KeyP:"P",KeyQ:"Q",KeyR:"R",KeyS:"S",KeyT:"T",KeyU:"U",KeyV:"V",KeyW:"W",KeyX:"X",KeyY:"Y",KeyZ:"Z",Comma:",",Period:".",Semicolon:";",Quote:"'",BracketLeft:"[",BracketRight:"]",Backquote:"`",Backslash:"\\",Minus:"-",Equal:"=",AltLeft:"Alt",AltRight:"Alt",CapsLock:"Bloqueo May.",ControlLeft:"Ctrl",ControlRight:"Ctrl",OSLeft:"OSLeft",OSRight:"OSRight",ShiftLeft:"Mayúsculas",ShiftRight:"Mayúsculas",ContextMenu:"ContextMenu",Enter:"Intro",Space:"Espacio",Tab:"Tabulador",Delete:"Borrar",End:"Fin",Help:"Ayuda",Home:"Inicio",Insert:"Insertar",PageDown:"Re. Pag",PageUp:"Av. Pag",ArrowDown:"Flecha abajo",ArrowLeft:"Flecha izq.",ArrowRight:"Flecha der.",ArrowUp:"Flecha Arriba",Escape:"Escape",PrintScreen:"PrintScreen",ScrollLock:"ScrollLock",Pause:"Pausa","Put the videos side by side":"Colocar los vídeos uno junto al otro","Minimize video":"Minimizar vídeo","Place the video on the other side of the screen":"Colocar el vídeo al otro lado de la pantalla","Maximize video":"Maximizar vídeo","Swap position of the videos":"Intercambiar posición de los vídeos"}};wt["es-ES"]=wt.es;const At=wt;var _t=n(4147);function kt(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function xt(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){kt(o,r,i,a,s,"next",e)}function s(e){kt(o,r,i,a,s,"throw",e)}a(void 0)}))}}function Et(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var Ct={UNLOADED:0,LOADING_MANIFEST:1,MANIFEST:2,LOADING_PLAYER:3,LOADED:4,UNLOADING_MANIFEST:5,UNLOADING_PLAYER:6,ERROR:7},Tt=["UNLOADED","LOADING_MANIFEST","MANIFEST","LOADING_PLAYER","LOADED","UNLOADING_MANIFEST","UNLOADING_PLAYER","ERROR"];function St(){var e,t,n=(0,m.resolveResourcePath)(this,null===(e=this.videoManifest)||void 0===e||null===(t=e.metadata)||void 0===t?void 0:t.preview);this._previewContainer=new Pe(this,this._containerElement,n)}var Rt=function(){function e(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Et(this,e),this._log=new bt(this),this._packageData=_t,this._log.setLevel(dt.VERBOSE),window.__paella_instances__=window.__paella_instances__||[],window.__paella_instances__.push(this),this.log.debug("New paella player instance"),"string"==typeof t&&(t=document.getElementById(t)),t.classList.add("player-container"),this._containerElement=t,this._initParams=r,this._initParams.manifestFileName=this._initParams.manifestFileName||"data.json",this._initParams.loadConfig=this._initParams.loadConfig||b,this._initParams.getVideoId=this._initParams.getVideoId||A,this._initParams.getManifestUrl=this._initParams.getManifestUrl||k,this._initParams.getManifestFileUrl=this._initParams.getManifestFileUrl||E,this._initParams.loadVideoManifest=this._initParams.loadVideoManifest||T,this._initParams.customPluginContext=this._initParams.customPluginContext||[],this._initParams.translateFunction=this._initParams.translateFunction||fe.Pb,this._initParams.getLanguageFunction=this._initParams.getLanguageFunction||fe.cN,this._initParams.setLanguageFunction=this._initParams.setLanguageFunction||fe.D$,this._initParams.addDictionaryFunction=this._initParams.addDictionaryFunction||fe.Xx,this._initParams.loadDictionaries=this._initParams.loadDictionaries||function(){var e=xt(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(0,fe.BF)("en",{Hello:"Hello",World:"World"}),(0,fe.BF)("es",{Hello:"Hola",World:"Mundo"}),(0,fe.m0)(navigator.language.substring(0,2));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(0,fe.Gj)(this._initParams.translateFunction),(0,fe.n1)(this._initParams.setLanguageFunction),(0,fe.Ji)(this._initParams.getLanguageFunction),(0,fe.fe)(this._initParams.addDictionaryFunction),this._config=null,this._videoId=null,this._manifestUrl=null,this._manifestFileUrl=null,this._manifestData=null,this._videoManifest=null,this._playerLoaded=!1;var i=function(){n.resize()};window.addEventListener("resize",i),this.containerElement.addEventListener("fullscreenchange",(function(){(0,ee.qe)(n,ee.ZP.FULLSCREEN_CHANGED,{status:n.isFullscreen})})),this._playerState=Ct.UNLOADED}var t,n,r,i,o,a,s,u,l,c,f,p,d,h,g,v,y,w,_;return t=e,n=[{key:"version",get:function(){return this._packageData.version}},{key:"pluginModules",get:function(){return this.__pluginModules}},{key:"log",get:function(){return this._log}},{key:"ready",get:function(){return this._playerState===Ct.LOADED}},{key:"state",get:function(){return this._playerState}},{key:"stateText",get:function(){return Tt[this.state]}},{key:"Events",get:function(){return ee.ZP}},{key:"translate",value:function(e){return(0,fe.Iu)(e)}},{key:"setLanguage",value:function(e){(0,fe.m0)(e)}},{key:"getLanguage",value:function(){return(0,fe.G3)()}},{key:"addDictionary",value:function(e,t){(0,fe.BF)(e,t)}},{key:"bindEvent",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];(0,ee.GT)(this,e,(function(e){return t(e)}),n)}},{key:"getShortcuts",value:function(){return(0,lt.gg)(this)}},{key:"getPlugin",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!t){var n={};for(var r in this.__pluginData__.pluginInstances){var i=this.__pluginData__.pluginInstances[r],o=i.find((function(t){if(t.name===e)return t}));o&&(n[r]=o)}return n}var a=this.__pluginData__.pluginInstances[t];if(a)return a.find((function(t){if(t.name===e)return t}))}},{key:"hideUiTime",get:function(){return this._hideUiTime},set:function(e){this._hideUiTime=e}},{key:"containerSize",get:function(){return{w:this._containerElement.offsetWidth,h:this._containerElement.offsetHeight}}},{key:"containerElement",get:function(){return this._containerElement}},{key:"initParams",get:function(){return this._initParams}},{key:"configLoaded",get:function(){return null!==this.configUrl}},{key:"videoManifestLoaded",get:function(){return null!==this.videoManifest}},{key:"videoLoaded",get:function(){var e;return(null===(e=this.videoContainer)||void 0===e?void 0:e.ready)||!1}},{key:"playerLoaded",get:function(){return this._playerLoaded}},{key:"configResourcesUrl",get:function(){var e;return(null===(e=this._initParams)||void 0===e?void 0:e.configResourcesUrl)||"config/"}},{key:"configUrl",get:function(){var e;return(null===(e=this._initParams)||void 0===e?void 0:e.configUrl)||"config/config.json"}},{key:"config",get:function(){return this._config}},{key:"videoId",get:function(){return this._videoId}},{key:"repositoryUrl",get:function(){var e,t;return(null===(e=this._initParams)||void 0===e?void 0:e.repositoryUrl)||(null===(t=this.config)||void 0===t?void 0:t.repositoryUrl)||""}},{key:"manifestUrl",get:function(){return this._manifestUrl}},{key:"manifestFileName",get:function(){var e,t;return(null===(e=this.config)||void 0===e?void 0:e.manifestFileName)||(null===(t=this._initParams)||void 0===t?void 0:t.manifestFileName)||""}},{key:"manifestFileUrl",get:function(){return this._manifestFileUrl}},{key:"videoManifest",get:function(){return this._videoManifest}},{key:"previewContainer",get:function(){return this._previewContainer}},{key:"videoContainer",get:function(){return this._videoContainer}},{key:"playbackBar",get:function(){return this._playbackBar}},{key:"captionsCanvas",get:function(){return this._captionsCanvas}},{key:"data",get:function(){return this._data}},{key:"loadManifest",value:(_=xt(regeneratorRuntime.mark((function e(){var t,n,r,i,o,a,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._playerState===Ct.UNLOADED){e.next=2;break}throw new Error("loadManifest(): Invalid current player state: ".concat(Tt[this._playerState]));case 2:if(!this._manifestLoaded){e.next=4;break}return e.abrupt("return");case 4:return e.prev=4,this._playerState=Ct.LOADING_MANIFEST,this._manifestLoaded=!0,this.log.debug("Loading paella player"),e.next=10,this.initParams.loadConfig(this.configUrl,this);case 10:return this._config=e.sent,r=new URLSearchParams(window.location.search),i=r.get("logLevel"),o=-1!==Array.from(Object.keys(dt)).indexOf(i)?i:this._config.logLevel||"INFO",this._log.setLevel(o),e.next=17,this._initParams.loadDictionaries(this);case 17:return(0,Y.zb)(this),e.next=20,(0,ut.$_)(this);case 20:return e.next=22,(0,lt.L)(this);case 22:return e.next=24,this.initParams.getVideoId(this._config,this);case 24:return this._videoId=e.sent,e.next=27,this.initParams.getManifestUrl(this.repositoryUrl,this.videoId,this._config,this);case 27:return this._manifestUrl=e.sent,e.next=30,this.initParams.getManifestFileUrl(this._manifestUrl,this.manifestFileName,this._config,this);case 30:return this._manifestFileUrl=e.sent,this.log.debug("Loading video with identifier '".concat(this.videoId,"' from URL '").concat(this.manifestFileUrl,"'")),e.next=34,this.initParams.loadVideoManifest(this.manifestFileUrl,this._config,this);case 34:for(a in this._videoManifest=e.sent,this.log.debug("Video manifest loaded:"),this.log.debug(this.videoManifest),this._data=new Qe.Z(this),At)s=At[a],(0,fe.BF)(a,s);if(this._playerState=Ct.MANIFEST,(0,ee.qe)(this,ee.ZP.MANIFEST_LOADED),null!==(t=this.videoManifest)&&void 0!==t&&null!==(n=t.metadata)&&void 0!==n&&n.preview){e.next=46;break}return e.next=44,this.loadPlayer();case 44:e.next=47;break;case 46:St.apply(this);case 47:e.next=55;break;case 49:throw e.prev=49,e.t0=e.catch(4),this._playerState=Ct.ERROR,console.log(e.t0),this._errorContainer=new W(this,e.t0.message),e.t0;case 55:case"end":return e.stop()}}),e,this,[[4,49]])}))),function(){return _.apply(this,arguments)})},{key:"loadPlayer",value:(w=xt(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,this._captionsCanvas=new st(this,this._containerElement),this._playerState===Ct.MANIFEST){e.next=4;break}throw new Error("loadPlayer(): Invalid current player state: ".concat(Tt[this._playerState]));case 4:return this._playerState=Ct.LOADING_PLAYER,null===(t=this._previewContainer)||void 0===t||t.removeFromParent(),this._loader=new F(this),this._videoContainer=new xe(this,this._containerElement),e.next=10,this.videoContainer.load(null===(n=this.videoManifest)||void 0===n?void 0:n.streams);case 10:return(0,ee.qe)(this,ee.ZP.STREAM_LOADED),this._playbackBar=new Ye(this,this.containerElement),e.next=14,this._playbackBar.load();case 14:this._hideUiTime=5e3,(0,m.setupAutoHideUiTimer)(this),this._captionsCanvas.load(),this._playerState=Ct.LOADED,(0,ee.qe)(this,ee.ZP.PLAYER_LOADED),this._loader.removeFromParent(),this._loader=null,e.next=29;break;case 23:throw e.prev=23,e.t0=e.catch(0),this._playerState=Ct.ERROR,this._loader&&(this._loader.removeFromParent(),this._loader=null),this._errorContainer=new W(this,e.t0.message),e.t0;case 29:case"end":return e.stop()}}),e,this,[[0,23]])}))),function(){return w.apply(this,arguments)})},{key:"load",value:(y=xt(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.state,e.next=e.t0===Ct.UNLOADED?3:e.t0===Ct.MANIFEST?8:e.t0===Ct.LOADED?11:12;break;case 3:return e.next=5,this.loadManifest();case 5:return e.next=7,this.loadPlayer();case 7:case 10:case 11:return e.abrupt("break",13);case 8:return e.next=10,this.loadPlayer();case 12:throw new Error("Could not load player: state transition in progress: ".concat(Tt[this.state]));case 13:case"end":return e.stop()}}),e,this)}))),function(){return y.apply(this,arguments)})},{key:"unload",value:(v=xt(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.state,e.next=e.t0===Ct.UNLOADED?3:e.t0===Ct.MANIFEST?4:e.t0===Ct.LOADED||e.t0===Ct.ERROR?7:12;break;case 3:case 6:case 11:return e.abrupt("break",13);case 4:return e.next=6,this.unloadManifest();case 7:return e.next=9,this.unloadPlayer();case 9:return e.next=11,this.unloadManifest();case 12:throw new Error("Could not unload player: state transition in progress: ".concat(Tt[this.state]));case 13:case"end":return e.stop()}}),e,this)}))),function(){return v.apply(this,arguments)})},{key:"unloadManifest",value:(g=xt(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._playerState===Ct.MANIFEST||this._playerState===Ct.ERROR){e.next=2;break}throw new Error("unloadManifest(): Invalid current player state: ".concat(Tt[this._playerState]));case 2:return this._errorContainer&&(this._errorContainer.removeFromParent(),this._errorContainer=null),this._playerState=Ct.UNLOADING_MANIFEST,this.log.debug("Unloading paella player"),e.next=7,(0,ut.v$)(this);case 7:return e.next=9,(0,lt.CZ)(this);case 9:return e.next=11,(0,Y.W)(this);case 11:this._manifestLoaded=!1,null===(t=this._previewContainer)||void 0===t||t.removeFromParent(),this._playerState=Ct.UNLOADED;case 14:case"end":return e.stop()}}),e,this)}))),function(){return g.apply(this,arguments)})},{key:"unloadPlayer",value:(h=xt(regeneratorRuntime.mark((function e(){var t,n,r,i,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._playerState===Ct.LOADED||this._playerState===Ct.ERROR){e.next=2;break}throw new Error("unloadManifest(): Invalid current player state: ".concat(Tt[this._playerState]));case 2:return this._errorContainer&&(this._errorContainer.removeFromParent(),this._errorContainer=null),this._playerState=Ct.UNLOADING_PLAYER,e.next=6,null===(t=this._videoContainer)||void 0===t?void 0:t.unload();case 6:return this._videoContainer=null,e.next=9,null===(n=this._playbackBar)||void 0===n?void 0:n.unload();case 9:this._playbackBar=null,null===(r=this._captionsCanvas)||void 0===r||r.unload(),this._captionsCanvas=null,(0,m.clearAutoHideTimer)(this),(0,ee.qe)(this,ee.ZP.PLAYER_UNLOADED),Xe.Z.Unload(),qe.Z.Unload(this),null!==(i=this.videoManifest)&&void 0!==i&&null!==(o=i.metadata)&&void 0!==o&&o.preview&&St.apply(this),(0,ee.Ii)(this),this._playerState=Ct.MANIFEST;case 19:case"end":return e.stop()}}),e,this)}))),function(){return h.apply(this,arguments)})},{key:"reload",value:(d=xt(regeneratorRuntime.mark((function e(){var t,n=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=n.length>0&&void 0!==n[0]?n[0]:null,e.t0=this.state,e.next=e.t0===Ct.UNLOADED?4:e.t0===Ct.MANIFEST?5:e.t0===Ct.LOADED?8:11;break;case 4:case 7:case 10:return e.abrupt("break",11);case 5:return e.next=7,this.unloadManifest();case 8:return e.next=10,this.unload();case 11:if("function"!=typeof t){e.next=14;break}return e.next=14,t();case 14:return e.next=16,this.load();case 16:case"end":return e.stop()}}),e,this)}))),function(){return d.apply(this,arguments)})},{key:"resize",value:(p=xt(regeneratorRuntime.mark((function e(){var t,n,r,i=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null===(t=this.videoContainer)||void 0===t||t.updateLayout(),null===(n=this.playbackBar)||void 0===n||n.onResize(),this.videoContainer&&(r=function(){return{w:i.videoContainer.element.offsetWidth,h:i.videoContainer.element.offsetHeight}},(0,ee.qe)(this,ee.ZP.RESIZE,{size:r()}),this._resizeEndTimer&&clearTimeout(this._resizeEndTimer),this._resizeEndTimer=setTimeout((function(){(0,ee.qe)(i,ee.ZP.RESIZE_END,{size:r()})}),1e3));case 3:case"end":return e.stop()}}),e,this)}))),function(){return p.apply(this,arguments)})},{key:"hideUserInterface",value:(f=xt(regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(t=this.videoContainer)||void 0===t?void 0:t.paused();case 2:if(e.sent){e.next=8;break}this._uiHidden=!0,null===(n=this.videoContainer)||void 0===n||n.hideUserInterface(),null===(r=this.playbackBar)||void 0===r||r.hideUserInterface(),qe.Z.HideUserInterface(this),(0,ee.qe)(this,ee.ZP.HIDE_UI);case 8:case"end":return e.stop()}}),e,this)}))),function(){return f.apply(this,arguments)})},{key:"showUserInterface",value:(c=xt(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null===(t=this.videoContainer)||void 0===t||t.showUserInterface(),null===(n=this.playbackBar)||void 0===n||n.showUserInterface(),qe.Z.ShowUserInterface(this),this._uiHidden&&(0,ee.qe)(this,ee.ZP.SHOW_UI),this._uiHidden=!1;case 5:case"end":return e.stop()}}),e,this)}))),function(){return c.apply(this,arguments)})},{key:"play",value:(l=xt(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.videoContainer){e.next=3;break}return e.next=3,this.loadPlayer();case 3:return e.next=5,this.videoContainer.play();case 5:case"end":return e.stop()}}),e,this)}))),function(){return l.apply(this,arguments)})},{key:"pause",value:(u=xt(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(t=this.videoContainer)||void 0===t?void 0:t.pause();case 2:case"end":return e.stop()}}),e,this)}))),function(){return u.apply(this,arguments)})},{key:"paused",value:(s=xt(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.videoContainer){e.next=4;break}return e.abrupt("return",!0);case 4:return e.abrupt("return",this.videoContainer.paused());case 5:case"end":return e.stop()}}),e,this)}))),function(){return s.apply(this,arguments)})},{key:"stop",value:(a=xt(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(t=this.videoContainer)||void 0===t?void 0:t.stop();case 2:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"isFullScreenSupported",value:(o=xt(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",null!==this.containerElement.requestFullscreen);case 1:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})},{key:"enterFullscreen",value:(i=xt(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.containerElement.requestFullscreen){e.next=2;break}return e.abrupt("return",this.containerElement.requestFullscreen());case 2:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"exitFullscreen",value:(r=xt(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!document.exitFullscreen||!this.isFullscreen){e.next=2;break}return e.abrupt("return",document.exitFullscreen());case 2:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"isFullscreen",get:function(){return document.fullscreenElement===this.containerElement}}],n&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),Lt=n(1547),Pt=n(7528),Ot=n(143),It=n(625),Dt=n(2452),Bt=n(7488),jt=n(7133),Mt=n(1309),Ft=n(7096),Nt=n(8069),Ut=n(2604),$t=n(4348)})(),r})(),e.exports=n()})),On=Ln((function(e,t){var n;self,e.exports=(n=Pn,(()=>{var e={775:(e,t,n)=>{function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t){return a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},a(e,t)}function s(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},u(e)}n.r(t),n.d(t,{default:()=>l});var l=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(c,e);var t,n,r,l=(n=c,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=u(n);if(r){var i=u(this).constructor;e=Reflect.construct(t,arguments,i)}else e=t.apply(this,arguments);return s(this,e)});function c(){return i(this,c),l.apply(this,arguments)}return(t=[{key:"moduleName",get:function(){return"paella-basic-plugins"}},{key:"moduleVersion",get:function(){return"1.0.13"}}])&&o(c.prototype,t),c}(n(995).PluginModule)},252:(e,t,n)=>{n.r(t),n.d(t,{default:()=>g});var r=n(995),i=n(998),o=n.n(i);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function s(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){s(o,r,i,a,u,"next",e)}function u(e){s(o,r,i,a,u,"throw",e)}a(void 0)}))}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t,n){return f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=h(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}},f(e,t,n||e)}function p(e,t){return p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},p(e,t)}function d(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}var g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(w,e);var t,n,r,i,a,s,g,m,v,y,b=(v=w,y=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=h(v);if(y){var n=h(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return d(this,e)});function w(){return l(this,w),b.apply(this,arguments)}return t=w,n=[{key:"getAriaLabel",value:function(){return"Select the active audio track"}},{key:"getDescription",value:function(){return this.getAriaLabel()}},{key:"isEnabled",value:(m=u(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(h(w.prototype),"isEnabled",this).call(this);case 2:if(e.sent){e.next=4;break}return e.abrupt("return",!1);case 4:return e.next=6,this.player.videoContainer.streamProvider.getAudioTracks();case 6:return t=e.sent,e.abrupt("return",(null==t?void 0:t.length)>1);case 8:case"end":return e.stop()}}),e,this)}))),function(){return m.apply(this,arguments)})},{key:"load",value:(g=u(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.icon=o(),e.next=3,this.player.videoContainer.streamProvider.getAudioTracks();case 3:return this._audioTracks=e.sent,e.next=6,this.updateAudioLabel();case 6:case"end":return e.stop()}}),e,this)}))),function(){return g.apply(this,arguments)})},{key:"getMenu",value:(s=u(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.player.videoContainer.streamProvider.currentAudioTrack,n=this._audioTracks.map((function(e){return{id:e.id,title:e.name||e.language,data:e,selected:e===t}})),e.abrupt("return",n);case 3:case"end":return e.stop()}}),e,this)}))),function(){return s.apply(this,arguments)})},{key:"updateAudioLabel",value:(a=u(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.player.videoContainer.streamProvider.currentAudioTrack,this.title=t.language;case 2:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"itemSelected",value:(i=u(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.player.videoContainer.streamProvider.setCurrentAudioTrack(t.data);case 2:this.updateAudioLabel();case 3:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})},{key:"getDictionaries",value:(r=u(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{es:{"Select the active audio track":"Seleccionar la pista de audio activa"}});case 1:case"end":return e.stop()}}),e)}))),function(){return r.apply(this,arguments)})}],n&&c(t.prototype,n),w}(r.MenuButtonPlugin)},925:(e,t,n)=>{n.r(t),n.d(t,{default:()=>h});var r=n(995),i=n(842),o=n.n(i);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function s(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){s(o,r,i,a,u,"next",e)}function u(e){s(o,r,i,a,u,"throw",e)}a(void 0)}))}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},f(e,t)}function p(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}var h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(m,e);var t,n,r,i,a,s,h,g=(s=m,h=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=d(s);if(h){var n=d(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return p(this,e)});function m(){return l(this,m),g.apply(this,arguments)}return t=m,n=[{key:"getAriaLabel",value:function(){return"Backward 30 seconds"}},{key:"getDescription",value:function(){return this.getAriaLabel()}},{key:"getDictionaries",value:(a=u(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{es:{"Backward 30 seconds":"Volver hacia atrás 30 segundos"}});case 1:case"end":return e.stop()}}),e)}))),function(){return a.apply(this,arguments)})},{key:"load",value:(i=u(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.icon=o();case 1:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"action",value:(r=u(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.player.videoContainer.currentTime();case 2:t=e.sent,this.player.videoContainer.setCurrentTime(t-30);case 4:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})}],n&&c(t.prototype,n),m}(r.ButtonPlugin)},460:(e,t,n)=>{n.r(t),n.d(t,{default:()=>h});var r=n(995),i=n(380),o=n.n(i);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function s(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){s(o,r,i,a,u,"next",e)}function u(e){s(o,r,i,a,u,"throw",e)}a(void 0)}))}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},f(e,t)}function p(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}var h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(v,e);var t,n,i,a,s,h,g,m=(h=v,g=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=d(h);if(g){var n=d(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return p(this,e)});function v(){return l(this,v),m.apply(this,arguments)}return t=v,n=[{key:"getAriaLabel",value:function(){return"Select captions"}},{key:"getDescription",value:function(){return this.getAriaLabel()}},{key:"getDictionaries",value:(s=u(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{es:{"Select captions":"Seleccionar subtítulos"}});case 1:case"end":return e.stop()}}),e)}))),function(){return s.apply(this,arguments)})},{key:"load",value:(a=u(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.icon=o(),this._captionsCanvas=this.player.captionsCanvas,0==this._captionsCanvas.captions.length&&this.hide(),(0,r.bindEvent)(this.player,r.Events.CAPTIONS_CHANGED,(function(){t._captionsCanvas.captions.length>0&&t.show()}));case 4:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"getMenu",value:(i=u(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[{id:-1,title:"Disabled",index:-1}],this._captionsCanvas.captions.forEach((function(e,n){t.push({id:e.language,title:e.label,index:n})})),e.abrupt("return",t);case 3:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"buttonType",get:function(){return"radio"}},{key:"itemSelected",value:function(e){-1===e.index?this._captionsCanvas.disableCaptions():this._captionsCanvas.enableCaptions({index:e.index})}}],n&&c(t.prototype,n),v}(r.MenuButtonPlugin)},61:(e,t,n)=>{n.r(t),n.d(t,{default:()=>v});var r=n(995),i=n(379),o=n.n(i),a=n(538);o()(a.Z,{insert:"head",singleton:!1}),a.Z.locals;var s=n(549),u=n.n(s);function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function c(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function f(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){c(o,r,i,a,s,"next",e)}function s(e){c(o,r,i,a,s,"throw",e)}a(void 0)}))}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t){return h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},h(e,t)}function g(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}var v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(c,e);var t,n,i,o,a,s,l=(a=c,s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=m(a);if(s){var n=m(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return g(this,e)});function c(){return p(this,c),l.apply(this,arguments)}return t=c,n=[{key:"load",value:(o=f(regeneratorRuntime.mark((function e(){var t,n=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.icon=u(),t=this.player.videoManifest.streams,this._downloads={},t.forEach((function(e){var t=[],r=e.sources.mp4;r&&r.forEach((function(n){t.push({id:"".concat(e.content,"_").concat(n.res.w,"_").concat(n.res.h),src:n.src,res:n.res,mimetype:n.mimetype})})),t.length>0&&(n._downloads[e.content]=t)}));case 4:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})},{key:"getContent",value:(i=f(regeneratorRuntime.mark((function e(){var t,n=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=(0,r.createElementWithHtmlText)('\n          <div class="downloads-plugin">\n              <h4>'.concat((0,r.translate)("Available downloads"),"</h4>\n          </div>")),Object.keys(this._downloads).forEach((function(e){var i=(0,r.createElementWithHtmlText)('\n          <div class="downloadStream">\n            <div class="title">'.concat(e,"</div>\n          </div>"),t),o=(0,r.createElementWithHtmlText)("<ul></ul>",i);n._downloads[e].forEach((function(e){var t="".concat(e.res.w,"x").concat(e.res.h);(0,r.createElementWithHtmlText)('\n                  <li>\n                    <a href="'.concat(e.src,'" target="_blank">\n                      <span class="mimetype">[').concat(e.mimetype,']</span><span class="res">').concat(t,"</span>\n                    </a>\n                  </li>\n              "),o)}))})),e.abrupt("return",t);case 4:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})}],n&&d(t.prototype,n),c}(r.PopUpButtonPlugin)},800:(e,t,n)=>{n.r(t),n.d(t,{default:()=>d});var r=n(995),i=n(770),o=n.n(i);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function s(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},c(e,t)}function f(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}var d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(g,e);var t,n,r,i,a,d,h=(a=g,d=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=p(a);if(d){var n=p(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return f(this,e)});function g(){return u(this,g),h.apply(this,arguments)}return t=g,n=[{key:"icon",get:function(){return o()}},{key:"action",value:(r=regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:alert("Test external plugin");case 1:case"end":return e.stop()}}),e)})),i=function(){var e=this,t=arguments;return new Promise((function(n,i){var o=r.apply(e,t);function a(e){s(o,n,i,a,u,"next",e)}function u(e){s(o,n,i,a,u,"throw",e)}a(void 0)}))},function(){return i.apply(this,arguments)})}],n&&l(t.prototype,n),g}(r.ButtonPlugin)},108:(e,t,n)=>{n.r(t),n.d(t,{default:()=>h});var r=n(995),i=n(271),o=n.n(i);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function s(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){s(o,r,i,a,u,"next",e)}function u(e){s(o,r,i,a,u,"throw",e)}a(void 0)}))}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},f(e,t)}function p(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}var h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(m,e);var t,n,r,i,a,s,h,g=(s=m,h=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=d(s);if(h){var n=d(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return p(this,e)});function m(){return l(this,m),g.apply(this,arguments)}return t=m,n=[{key:"getAriaLabel",value:function(){return"Forward 30 seconds"}},{key:"getDescription",value:function(){return this.getAriaLabel()}},{key:"getDictionaries",value:(a=u(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{es:{"Forward 30 seconds":"Ir hacia adelante 30 segundos"}});case 1:case"end":return e.stop()}}),e)}))),function(){return a.apply(this,arguments)})},{key:"load",value:(i=u(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.icon=o();case 1:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"action",value:(r=u(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.player.videoContainer.currentTime();case 2:t=e.sent,this.player.videoContainer.setCurrentTime(t+30);case 4:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})}],n&&c(t.prototype,n),m}(r.ButtonPlugin)},440:(e,t,n)=>{n.r(t),n.d(t,{default:()=>v});var r=n(995),i=n(643),o=n.n(i),a=n(887),s=n.n(a);function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function l(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function c(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){l(o,r,i,a,s,"next",e)}function s(e){l(o,r,i,a,s,"throw",e)}a(void 0)}))}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t,n){return d="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=m(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}},d(e,t,n||e)}function h(e,t){return h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},h(e,t)}function g(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}var v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(w,e);var t,n,i,a,u,l,v,y,b=(v=w,y=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=m(v);if(y){var n=m(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return g(this,e)});function w(){return f(this,w),b.apply(this,arguments)}return t=w,n=[{key:"getAriaLabel",value:function(){return"Toggle fullscreen"}},{key:"getDescription",value:function(){return this.getAriaLabel()}},{key:"getDictionaries",value:(l=c(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{es:{"Toggle fullscreen":"Cambiar modo de pantalla completa"}});case 1:case"end":return e.stop()}}),e)}))),function(){return l.apply(this,arguments)})},{key:"isEnabled",value:(u=c(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d(m(w.prototype),"isEnabled",this).call(this);case 2:return t=e.sent,e.abrupt("return",t&&this.player.isFullScreenSupported());case 4:case"end":return e.stop()}}),e,this)}))),function(){return u.apply(this,arguments)})},{key:"load",value:(a=c(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.icon=o(),(0,r.bindEvent)(this.player,r.Events.FULLSCREEN_CHANGED,(function(e){e.status?t.icon=s():t.icon=o()}));case 2:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"action",value:(i=c(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.player.isFullscreen){e.next=5;break}return e.next=3,this.player.exitFullscreen();case 3:e.next=7;break;case 5:return e.next=7,this.player.enterFullscreen();case 7:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})}],n&&p(t.prototype,n),w}(r.ButtonPlugin)},234:(e,t,n)=>{n.r(t),n.d(t,{default:()=>y});var r=n(995),i=n(812),o=n.n(i),a=n(379),s=n.n(a),u=n(754);function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function c(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function f(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){c(o,r,i,a,s,"next",e)}function s(e){c(o,r,i,a,s,"throw",e)}a(void 0)}))}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t,n){return h="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=v(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}},h(e,t,n||e)}function g(e,t){return g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},g(e,t)}function m(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}s()(u.Z,{insert:"head",singleton:!1}),u.Z.locals;var y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(y,e);var t,n,i,a,s,u,l,c=(u=y,l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=v(u);if(l){var n=v(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m(this,e)});function y(){return p(this,y),c.apply(this,arguments)}return t=y,n=[{key:"isEnabled",value:(s=f(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h(v(y.prototype),"isEnabled",this).call(this);case 2:return t=e.sent,e.abrupt("return",t&&this.player.getShortcuts().length>0);case 4:case"end":return e.stop()}}),e,this)}))),function(){return s.apply(this,arguments)})},{key:"load",value:(a=f(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.icon=o();case 1:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"popUpType",get:function(){return"no-modal"}},{key:"getKeyText",value:function(e){var t=this.player.translate(e.keyCode);return e.keyModifiers.altKey&&(t+=" + Alt"),e.keyModifiers.ctrlKey&&(t+=" + Ctrl"),e.keyModifiers.shiftKey&&(t+=" + Shift"),t}},{key:"getContent",value:(i=f(regeneratorRuntime.mark((function e(){var t,n,i,o,a=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o in t=(0,r.createElementWithHtmlText)('\n          <div class="keyboardshortcutshelp-plugin">\n            \n          </div>\n        '),n={},this.player.getShortcuts().forEach((function(e){var t=a.player.translate(e.description);n[t]?n[t].push(e):n[t]=[e]})),i=function(e){var i=n[e],o="";i.forEach((function(e){""!==o&&(o+=" / "),o+=a.player.translate(a.getKeyText(e))}));var s=(0,r.createElementWithHtmlText)('\n\t\t\t<div class="row">\n\t\t\t\t<div class="description"> '.concat(e,' </div>\n\t\t\t\t<div class="key"> ').concat(o,"</div>\n            </div>\n\t\t\t"));t.appendChild(s)},n)i(o);return e.abrupt("return",t);case 6:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})}],n&&d(t.prototype,n),y}(r.PopUpButtonPlugin)},239:(e,t,n)=>{n.r(t),n.d(t,{default:()=>g});var r=n(995),i=n(291),o=n.n(i);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function s(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){s(o,r,i,a,u,"next",e)}function u(e){s(o,r,i,a,u,"throw",e)}a(void 0)}))}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t,n){return f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=h(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}},f(e,t,n||e)}function p(e,t){return p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},p(e,t)}function d(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}var g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(b,e);var t,n,i,a,s,g,m,v,y=(m=b,v=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=h(m);if(v){var n=h(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return d(this,e)});function b(){return l(this,b),y.apply(this,arguments)}return t=b,n=[{key:"getAriaLabel",value:function(){return"Switch the video layout"}},{key:"getDescription",value:function(){return this.getAriaLabel()}},{key:"getDictionaries",value:(g=u(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{es:{"Switch the video layout":"Cambiar la disposición de los vídeos"}});case 1:case"end":return e.stop()}}),e)}))),function(){return g.apply(this,arguments)})},{key:"isEnabled",value:(s=u(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(h(b.prototype),"isEnabled",this).call(this);case 2:if(e.sent){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",this.player.videoContainer.validContentSettings.length>1);case 5:case"end":return e.stop()}}),e,this)}))),function(){return s.apply(this,arguments)})},{key:"load",value:(a=u(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.icon=o();case 1:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"getMenu",value:(i=u(regeneratorRuntime.mark((function e(){var t,n=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.player.videoContainer.validContentSettings,e.t0=Promise,e.next=4,t.map(function(){var e=u(regeneratorRuntime.mark((function e(t){var i,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=r.utils.joinPath([n.player.configResourcesUrl,t.icon]),e.next=3,r.utils.loadSvgIcon(i);case 3:return o=e.sent,e.abrupt("return",{id:t.id,title:t.title,icon:o,selected:n.player.videoContainer.layoutId===t.id});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 4:return e.t1=e.sent,e.abrupt("return",e.t0.all.call(e.t0,e.t1));case 6:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"showTitles",get:function(){return!1}},{key:"buttonType",get:function(){return"radio"}},{key:"itemSelected",value:function(e){this.player.videoContainer.setLayout(e.id)}}],n&&c(t.prototype,n),b}(r.MenuButtonPlugin)},540:(e,t,n)=>{n.r(t),n.d(t,{default:()=>v});var r=n(995),i=n(998),o=n.n(i),a=n(379),s=n.n(a),u=n(473);function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function c(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function f(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){c(o,r,i,a,s,"next",e)}function s(e){c(o,r,i,a,s,"throw",e)}a(void 0)}))}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t){return h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},h(e,t)}function g(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}s()(u.Z,{insert:"head",singleton:!1}),u.Z.locals;var v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(y,e);var t,n,i,a,s,u,l,c,v=(l=y,c=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=m(l);if(c){var n=m(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return g(this,e)});function y(){return p(this,y),v.apply(this,arguments)}return t=y,n=[{key:"getAriaLabel",value:function(){return"Switch the playback speed"}},{key:"getDescription",value:function(){return this.getAriaLabel()}},{key:"getDictionaries",value:(u=f(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{es:{"Switch the playback speed":"Cambiar la velocidad de reproducción"}});case 1:case"end":return e.stop()}}),e)}))),function(){return u.apply(this,arguments)})},{key:"load",value:(s=f(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.icon=o(),this.title="1x",this._rates=this.config.rates||[.5,.75,1,1.25,1.5,2],this.player.bindEvent(r.Events.PLAYBACK_RATE_CHANGED,(function(e){t.title=e.newPlaybackRate+"x"}));case 4:case"end":return e.stop()}}),e,this)}))),function(){return s.apply(this,arguments)})},{key:"getMenu",value:(a=f(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.player.videoContainer.playbackRate();case 2:return t=e.sent,n=function(e){return{id:e,title:"".concat(e,"x"),selected:e==t}},e.abrupt("return",this._rates.map((function(e){return n(e)})));case 5:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"titleSize",get:function(){return"small"}},{key:"itemSelected",value:(i=f(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.player.videoContainer.setPlaybackRate(t.id);case 2:this.title=t.title;case 3:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})},{key:"buttonType",get:function(){return"radio"}}],n&&d(t.prototype,n),y}(r.MenuButtonPlugin)},135:(e,t,n)=>{n.r(t),n.d(t,{default:()=>g});var r=n(995),i=n(998),o=n.n(i);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function s(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){s(o,r,i,a,u,"next",e)}function u(e){s(o,r,i,a,u,"throw",e)}a(void 0)}))}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t,n){return f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=h(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}},f(e,t,n||e)}function p(e,t){return p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},p(e,t)}function d(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}var g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(w,e);var t,n,r,i,a,s,g,m,v,y,b=(v=w,y=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=h(v);if(y){var n=h(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return d(this,e)});function w(){return l(this,w),b.apply(this,arguments)}return t=w,n=[{key:"getAriaLabel",value:function(){return"Select video quality"}},{key:"getDescription",value:function(){return this.getAriaLabel()}},{key:"getDictionaries",value:(m=u(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{es:{"Select video quality":"Seleccionar la calidad de reproducción del vídeo"}});case 1:case"end":return e.stop()}}),e)}))),function(){return m.apply(this,arguments)})},{key:"isEnabled",value:(g=u(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(h(w.prototype),"isEnabled",this).call(this);case 2:if(e.sent){e.next=4;break}return e.abrupt("return",!1);case 4:return e.next=6,this.player.videoContainer.streamProvider.getQualities();case 6:return this._qualities=e.sent,e.abrupt("return",this._qualities&&this._qualities.length>1);case 8:case"end":return e.stop()}}),e,this)}))),function(){return g.apply(this,arguments)})},{key:"load",value:(s=u(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.icon=o(),e.next=3,this.updateQualityLabel();case 3:case"end":return e.stop()}}),e,this)}))),function(){return s.apply(this,arguments)})},{key:"getMenu",value:(a=u(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.player.videoContainer.streamProvider.getCurrentQuality();case 2:return t=e.sent,n=this._qualities.map((function(e){var n=e.index===t.index;return{id:e.index,title:e.label,width:e.res.w,height:e.res.h,data:e,selected:n}})),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"updateQualityLabel",value:(i=u(regeneratorRuntime.mark((function e(){var t,n=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=function(){var e=u(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.player.videoContainer.streamProvider.getCurrentQuality();case 2:(r=e.sent)?n.title=r.shortLabel:setTimeout((function(){return t()}),500);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),t();case 2:case"end":return e.stop()}}),e)}))),function(){return i.apply(this,arguments)})},{key:"itemSelected",value:(r=u(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.player.videoContainer.streamProvider.setQuality(t.data);case 2:this.updateQualityLabel();case 3:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"titleSize",get:function(){return"small"}},{key:"buttonType",get:function(){return"radio"}}],n&&c(t.prototype,n),w}(r.MenuButtonPlugin)},459:(e,t,n)=>{n.r(t),n.d(t,{default:()=>x});var r=n(995),i=n(506),o=n.n(i),a=n(978),s=n.n(a),u=n(704),l=n.n(u),c=n(928),f=n.n(c),p=n(379),d=n.n(p),h=n(405);function g(e){return g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g(e)}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t){return y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},y(e,t)}function b(e,t){return!t||"object"!==g(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function w(e){return w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},w(e)}function A(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function _(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){A(o,r,i,a,s,"next",e)}function s(e){A(o,r,i,a,s,"throw",e)}a(void 0)}))}}function k(){var e=this;this.sliderContainer.innerHTML="";var t=(0,r.createElementWithHtmlText)('\n        <div class="volume-slider">\n            <div class="volume-slider-button"></div>\n        </div>',this.sliderContainer),n=!1,i=t.getElementsByClassName("volume-slider-button")[0];i.style.left="".concat(100*this._prevVolume,"%"),this._sliderButton=i;var o=function(){var t=_(regeneratorRuntime.mark((function t(n){var r,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.sliderContainer.offsetWidth,(i=100*n/r)<10&&(i=0),i>90&&(i=100),i/=100,t.next=8,e.player.videoContainer.setVolume(i);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();this.sliderContainer.addEventListener("mousedown",function(){var e=_(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=!0,e.next=3,o(t.offsetX);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.sliderContainer.addEventListener("mousemove",function(){var e=_(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=3;break}return e.next=3,o(t.offsetX);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.sliderContainer.addEventListener("mouseleave",(function(){n=!1})),this.sliderContainer.addEventListener("mouseup",(function(){n=!1})),this.sliderContainer.style.display="none",(0,r.bindEvent)(this.player,r.Events.VOLUME_CHANGED,(function(t){var n=t.volume;e.updateIcon(n)}))}d()(h.Z,{insert:"head",singleton:!1}),h.Z.locals;var x=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(A,e);var t,n,r,i,a,u,c,p,d,h,g=(d=A,h=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=w(d);if(h){var n=w(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return b(this,e)});function A(){return m(this,A),g.apply(this,arguments)}return t=A,n=[{key:"getAriaLabel",value:function(){return"Change volume"}},{key:"getDescription",value:function(){return this.getAriaLabel()}},{key:"getDictionaries",value:(p=_(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{es:{"Change volume":"Cambiar el volumen del audio"}});case 1:case"end":return e.stop()}}),e)}))),function(){return p.apply(this,arguments)})},{key:"className",get:function(){return"volume-button"}},{key:"updateIcon",value:(c=_(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=!0,e.next=e.t0===(0===t)?3:e.t0===(t>0&&t<=.3)?5:e.t0===(t>.3&&t<=.6)?7:e.t0===t>.6?9:11;break;case 3:return this.icon=f(),e.abrupt("break",12);case 5:return this.icon=s(),e.abrupt("break",12);case 7:return this.icon=l(),e.abrupt("break",12);case 9:return this.icon=o(),e.abrupt("break",12);case 11:this.icon=o();case 12:this._sliderButton&&(this._sliderButton.style.left="".concat(100*t,"%"));case 13:case"end":return e.stop()}}),e,this)}))),function(e){return c.apply(this,arguments)})},{key:"sliderContainer",get:function(){return"left"===this.config.side?this.rightArea:this.leftArea}},{key:"load",value:(u=_(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.player.videoContainer.volume();case 2:this._prevVolume=e.sent,this.updateIcon(this._prevVolume),k.apply(this);case 5:case"end":return e.stop()}}),e,this)}))),function(){return u.apply(this,arguments)})},{key:"mouseOver",value:(a=_(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t===this.container&&(this.sliderContainer.style.display="inline-block");case 1:case"end":return e.stop()}}),e,this)}))),function(e){return a.apply(this,arguments)})},{key:"mouseOut",value:(i=_(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t===this.container&&(this.sliderContainer.style.display="none");case 1:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})},{key:"action",value:(r=_(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.player.videoContainer.volume();case 2:return t=e.sent,n=0===t&&0===this._prevVolume?1:0===t&&this._prevVolume>0?this._prevVolume:0,e.next=7,this.player.videoContainer.setVolume(n);case 7:this._prevVolume=t;case 8:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})}],n&&v(t.prototype,n),A}(r.ButtonPlugin)},538:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(15),i=n.n(r),o=n(645),a=n.n(o)()(i());a.push([e.id,"\n.downloads-plugin {\n    font-family: sans-serif;\n    min-width: 300px;\n}\n\n.downloads-plugin h4 {\n    margin: 0 0 10px 0;\n    border-bottom: 1px lightgrey solid;\n}\n\n.downloads-plugin .downloadStream {    \n    margin-left: 5px;\n}\n\n.downloads-plugin .downloadStream ul {\n    list-style: none;\n    max-height: 500px;\n    overflow: auto;\n    padding: 0px;\n    margin: 0 0 10px 10px;\n}\n\n.downloads-plugin .downloadStream .mimetype {\n    color: lightcoral;\n    margin-right: 10px;\n}\n\n.downloads-plugin .downloadStream .res {\n    color: lightsalmon;\n}\n\n\n.downloads-plugin a {\n    color: lightsalmon;\n}\n\n.downloads-plugin a:hover {\n    color: salmon;\n}\n\n","",{version:3,sources:["webpack://./src/css/DownloadsPlugin.css"],names:[],mappings:";AACA;IACI,uBAAuB;IACvB,gBAAgB;AACpB;;AAEA;IACI,kBAAkB;IAClB,kCAAkC;AACtC;;AAEA;IACI,gBAAgB;AACpB;;AAEA;IACI,gBAAgB;IAChB,iBAAiB;IACjB,cAAc;IACd,YAAY;IACZ,qBAAqB;AACzB;;AAEA;IACI,iBAAiB;IACjB,kBAAkB;AACtB;;AAEA;IACI,kBAAkB;AACtB;;;AAGA;IACI,kBAAkB;AACtB;;AAEA;IACI,aAAa;AACjB",sourcesContent:["\n.downloads-plugin {\n    font-family: sans-serif;\n    min-width: 300px;\n}\n\n.downloads-plugin h4 {\n    margin: 0 0 10px 0;\n    border-bottom: 1px lightgrey solid;\n}\n\n.downloads-plugin .downloadStream {    \n    margin-left: 5px;\n}\n\n.downloads-plugin .downloadStream ul {\n    list-style: none;\n    max-height: 500px;\n    overflow: auto;\n    padding: 0px;\n    margin: 0 0 10px 10px;\n}\n\n.downloads-plugin .downloadStream .mimetype {\n    color: lightcoral;\n    margin-right: 10px;\n}\n\n.downloads-plugin .downloadStream .res {\n    color: lightsalmon;\n}\n\n\n.downloads-plugin a {\n    color: lightsalmon;\n}\n\n.downloads-plugin a:hover {\n    color: salmon;\n}\n\n"],sourceRoot:""}]);const s=a},754:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(15),i=n.n(r),o=n(645),a=n.n(o)()(i());a.push([e.id,"\n.keyboardshortcutshelp-plugin {\n    font-family: Helvetica, Arial, sans-serif;\n    padding: 1px;\n    color: #f0f0f0;\n    min-width: 430px;\n}\n\n.keyboardshortcutshelp-plugin .row {\n    display: flex;\n    min-width: 100px;\n    padding-top: 1px;\n    padding-bottom: 1px;\n    border-bottom: 1px #d3a84c dotted;\n}\n\n.keyboardshortcutshelp-plugin .row .description {\n    max-width: 80%;\n}\n\n.keyboardshortcutshelp-plugin .row .key {\n    margin-left: auto;\n}\n","",{version:3,sources:["webpack://./src/css/KeyboardShortcutsHelp.css"],names:[],mappings:";AACA;IACI,yCAAyC;IACzC,YAAY;IACZ,cAAc;IACd,gBAAgB;AACpB;;AAEA;IACI,aAAa;IACb,gBAAgB;IAChB,gBAAgB;IAChB,mBAAmB;IACnB,iCAAiC;AACrC;;AAEA;IACI,cAAc;AAClB;;AAEA;IACI,iBAAiB;AACrB",sourcesContent:["\n.keyboardshortcutshelp-plugin {\n    font-family: Helvetica, Arial, sans-serif;\n    padding: 1px;\n    color: #f0f0f0;\n    min-width: 430px;\n}\n\n.keyboardshortcutshelp-plugin .row {\n    display: flex;\n    min-width: 100px;\n    padding-top: 1px;\n    padding-bottom: 1px;\n    border-bottom: 1px #d3a84c dotted;\n}\n\n.keyboardshortcutshelp-plugin .row .description {\n    max-width: 80%;\n}\n\n.keyboardshortcutshelp-plugin .row .key {\n    margin-left: auto;\n}\n"],sourceRoot:""}]);const s=a},473:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(15),i=n.n(r),o=n(645),a=n.n(o)()(i());a.push([e.id,"span.button-title {\n    margin-top: -16px;\n    display: block;\n    font-size: 8px;\n}\n","",{version:3,sources:["webpack://./src/css/playbackRate.css"],names:[],mappings:"AAAA;IACI,iBAAiB;IACjB,cAAc;IACd,cAAc;AAClB",sourcesContent:["span.button-title {\n    margin-top: -16px;\n    display: block;\n    font-size: 8px;\n}\n"],sourceRoot:""}]);const s=a},405:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(15),i=n.n(r),o=n(645),a=n.n(o)()(i());a.push([e.id,"\n.button-plugin-side-area.volume-button {\n    height: 40px;\n    display: inline-block;\n    vertical-align: middle;\n}\n\n.button-plugin-container {\n    height: 40px;\n}\n\n.volume-slider {\n    width: 100px;\n    height: 4px;\n    background-color: white;\n    display: inline-block;\n    margin-left: 10px;\n    margin-right: 10px;\n    position: relative;\n    border-radius: 8px;\n    margin-bottom: 6px;\n    pointer-events: none;\n}\n\n.volume-slider .volume-slider-button {\n    position: absolute;\n    width: 20px;\n    height: 20px;\n    border-radius: 10px;\n    background-color: white;\n    box-shadow: 0px 0px 5px 0px rgba(0, 0, 0,0.6);\n    top: -8px;\n}","",{version:3,sources:["webpack://./src/css/slider.css"],names:[],mappings:";AACA;IACI,YAAY;IACZ,qBAAqB;IACrB,sBAAsB;AAC1B;;AAEA;IACI,YAAY;AAChB;;AAEA;IACI,YAAY;IACZ,WAAW;IACX,uBAAuB;IACvB,qBAAqB;IACrB,iBAAiB;IACjB,kBAAkB;IAClB,kBAAkB;IAClB,kBAAkB;IAClB,kBAAkB;IAClB,oBAAoB;AACxB;;AAEA;IACI,kBAAkB;IAClB,WAAW;IACX,YAAY;IACZ,mBAAmB;IACnB,uBAAuB;IACvB,6CAA6C;IAC7C,SAAS;AACb",sourcesContent:["\n.button-plugin-side-area.volume-button {\n    height: 40px;\n    display: inline-block;\n    vertical-align: middle;\n}\n\n.button-plugin-container {\n    height: 40px;\n}\n\n.volume-slider {\n    width: 100px;\n    height: 4px;\n    background-color: white;\n    display: inline-block;\n    margin-left: 10px;\n    margin-right: 10px;\n    position: relative;\n    border-radius: 8px;\n    margin-bottom: 6px;\n    pointer-events: none;\n}\n\n.volume-slider .volume-slider-button {\n    position: absolute;\n    width: 20px;\n    height: 20px;\n    border-radius: 10px;\n    background-color: white;\n    box-shadow: 0px 0px 5px 0px rgba(0, 0, 0,0.6);\n    top: -8px;\n}"],sourceRoot:""}]);const s=a},645:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=e(t);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,r){"string"==typeof e&&(e=[[null,e,""]]);var i={};if(r)for(var o=0;o<this.length;o++){var a=this[o][0];null!=a&&(i[a]=!0)}for(var s=0;s<e.length;s++){var u=[].concat(e[s]);r&&i[u[0]]||(n&&(u[2]?u[2]="".concat(n," and ").concat(u[2]):u[2]=n),t.push(u))}},t}},15:e=>{function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}e.exports=function(e){var n,r,i=(r=4,function(e){if(Array.isArray(e))return e}(n=e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}(n,r)||function(e,n){if(e){if("string"==typeof e)return t(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?t(e,n):void 0}}(n,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=i[1],a=i[3];if("function"==typeof btoa){var s=btoa(unescape(encodeURIComponent(JSON.stringify(a)))),u="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(s),l="/*# ".concat(u," */"),c=a.sources.map((function(e){return"/*# sourceURL=".concat(a.sourceRoot||"").concat(e," */")}));return[o].concat(c).concat([l]).join("\n")}return[o].join("\n")}},379:(e,t,n)=>{var r,i=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),o=[];function a(e){for(var t=-1,n=0;n<o.length;n++)if(o[n].identifier===e){t=n;break}return t}function s(e,t){for(var n={},r=[],i=0;i<e.length;i++){var s=e[i],u=t.base?s[0]+t.base:s[0],l=n[u]||0,c="".concat(u," ").concat(l);n[u]=l+1;var f=a(c),p={css:s[1],media:s[2],sourceMap:s[3]};-1!==f?(o[f].references++,o[f].updater(p)):o.push({identifier:c,updater:g(p,t),references:1}),r.push(c)}return r}function u(e){var t=document.createElement("style"),r=e.attributes||{};if(void 0===r.nonce){var o=n.nc;o&&(r.nonce=o)}if(Object.keys(r).forEach((function(e){t.setAttribute(e,r[e])})),"function"==typeof e.insert)e.insert(t);else{var a=i(e.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(t)}return t}var l,c=(l=[],function(e,t){return l[e]=t,l.filter(Boolean).join("\n")});function f(e,t,n,r){var i=n?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(e.styleSheet)e.styleSheet.cssText=c(t,i);else{var o=document.createTextNode(i),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(o,a[t]):e.appendChild(o)}}function p(e,t,n){var r=n.css,i=n.media,o=n.sourceMap;if(i?e.setAttribute("media",i):e.removeAttribute("media"),o&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}var d=null,h=0;function g(e,t){var n,r,i;if(t.singleton){var o=h++;n=d||(d=u(t)),r=f.bind(null,n,o,!1),i=f.bind(null,n,o,!0)}else n=u(t),r=p.bind(null,n,t),i=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else i()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=(void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r));var n=s(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var r=0;r<n.length;r++){var i=a(n[r]);o[i].references--}for(var u=s(e,t),l=0;l<n.length;l++){var c=a(n[l]);0===o[c].references&&(o[c].updater(),o.splice(c,1))}n=u}}}},842:e=>{e.exports='<svg viewBox="0 0 27 31" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:1.41421;"><g id="repeat" transform="matrix(1,0,0,1,-132.5,-2)"><g transform="matrix(1,0,0,1,132.5,2)"><path d="M7.364,6.48C9.179,5.515 11.255,4.967 13.461,4.967C20.569,4.967 26.331,10.651 26.331,17.664C26.331,24.676 20.569,30.36 13.461,30.36C8.436,30.36 4.083,27.518 1.964,23.375L1.973,23.34L3.716,22.554C5.531,26.101 9.257,28.534 13.56,28.534C19.645,28.534 24.579,23.667 24.579,17.664C24.579,11.66 19.645,6.793 13.56,6.793C11.624,6.793 9.804,7.286 8.223,8.151L12.5,12L0,12L6.5,0L7.364,6.48Z" style="stroke:black;stroke-width:0.07px;"></path></g><g transform="matrix(1.10748,0,0,1.05518,-14.2059,-1.08359)"><g><path d="M132.929,20.884L133.826,20.764C133.929,21.273 134.104,21.639 134.352,21.864C134.6,22.088 134.901,22.2 135.257,22.2C135.679,22.2 136.035,22.054 136.326,21.762C136.617,21.469 136.762,21.107 136.762,20.675C136.762,20.263 136.628,19.923 136.359,19.655C136.089,19.388 135.747,19.254 135.332,19.254C135.162,19.254 134.951,19.287 134.699,19.354L134.798,18.566C134.858,18.573 134.906,18.576 134.943,18.576C135.325,18.576 135.669,18.476 135.975,18.277C136.281,18.077 136.433,17.77 136.433,17.355C136.433,17.025 136.322,16.753 136.099,16.537C135.877,16.321 135.589,16.213 135.237,16.213C134.888,16.213 134.597,16.323 134.364,16.542C134.132,16.761 133.982,17.09 133.916,17.529L133.018,17.369C133.128,16.768 133.377,16.302 133.766,15.971C134.155,15.64 134.639,15.475 135.217,15.475C135.616,15.475 135.983,15.561 136.319,15.732C136.654,15.903 136.911,16.136 137.089,16.432C137.267,16.728 137.356,17.042 137.356,17.374C137.356,17.69 137.271,17.978 137.101,18.237C136.932,18.496 136.681,18.702 136.349,18.855C136.781,18.955 137.116,19.162 137.356,19.476C137.595,19.79 137.715,20.183 137.715,20.655C137.715,21.293 137.482,21.834 137.017,22.277C136.551,22.721 135.963,22.943 135.252,22.943C134.61,22.943 134.078,22.752 133.654,22.37C133.23,21.988 132.989,21.492 132.929,20.884Z" style="fill-rule:nonzero;"></path><path d="M138.602,19.209C138.602,18.345 138.691,17.649 138.869,17.123C139.047,16.596 139.311,16.19 139.661,15.904C140.012,15.618 140.453,15.475 140.985,15.475C141.377,15.475 141.721,15.554 142.017,15.712C142.313,15.87 142.557,16.097 142.75,16.395C142.943,16.692 143.094,17.055 143.203,17.482C143.313,17.909 143.368,18.485 143.368,19.209C143.368,20.067 143.28,20.759 143.104,21.285C142.928,21.812 142.664,22.219 142.314,22.507C141.963,22.794 141.52,22.938 140.985,22.938C140.28,22.938 139.727,22.685 139.325,22.18C138.843,21.572 138.602,20.582 138.602,19.209ZM139.524,19.209C139.524,20.409 139.665,21.207 139.946,21.604C140.226,22.002 140.573,22.2 140.985,22.2C141.397,22.2 141.744,22.001 142.024,21.602C142.305,21.203 142.446,20.406 142.446,19.209C142.446,18.006 142.305,17.207 142.024,16.811C141.744,16.416 141.394,16.218 140.975,16.218C140.563,16.218 140.234,16.392 139.988,16.741C139.679,17.187 139.524,18.009 139.524,19.209Z" style="fill-rule:nonzero;"></path><path d="M144.171,21.233L145.058,21.093C145.108,21.449 145.247,21.722 145.474,21.911C145.702,22.101 146.02,22.195 146.429,22.195C146.841,22.195 147.147,22.111 147.346,21.943C147.546,21.776 147.645,21.579 147.645,21.353C147.645,21.15 147.557,20.99 147.381,20.874C147.258,20.794 146.952,20.693 146.464,20.57C145.806,20.404 145.35,20.26 145.095,20.139C144.841,20.017 144.648,19.85 144.517,19.635C144.386,19.421 144.32,19.184 144.32,18.925C144.32,18.689 144.374,18.47 144.482,18.269C144.59,18.068 144.737,17.901 144.923,17.768C145.063,17.665 145.253,17.578 145.494,17.507C145.735,17.435 145.993,17.399 146.269,17.399C146.685,17.399 147.05,17.459 147.364,17.579C147.678,17.699 147.91,17.861 148.059,18.065C148.209,18.269 148.312,18.543 148.368,18.885L147.491,19.005C147.451,18.732 147.335,18.519 147.144,18.367C146.953,18.214 146.683,18.137 146.334,18.137C145.922,18.137 145.628,18.205 145.452,18.342C145.276,18.478 145.188,18.637 145.188,18.82C145.188,18.937 145.224,19.041 145.297,19.134C145.37,19.231 145.485,19.31 145.641,19.374C145.731,19.407 145.995,19.483 146.434,19.603C147.069,19.772 147.512,19.911 147.762,20.019C148.013,20.127 148.21,20.284 148.353,20.49C148.496,20.696 148.568,20.952 148.568,21.258C148.568,21.557 148.48,21.839 148.306,22.103C148.131,22.367 147.88,22.572 147.551,22.716C147.222,22.861 146.849,22.933 146.434,22.933C145.746,22.933 145.222,22.79 144.861,22.504C144.5,22.218 144.27,21.795 144.171,21.233Z" style="fill-rule:nonzero;"></path></g></g></g></svg>'},380:e=>{e.exports='<svg viewBox="0 0 39 32" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421;"><path d="M16.741,26.183C12.023,25.971 6.017,25.452 6.017,25.452C2.97,25.452 0.499,23.423 0.499,20.921C0.499,20.921 -0.001,15.526 -0.001,12.932C-0.001,10.59 0.499,5.352 0.499,5.352C0.499,2.85 2.97,0.821 6.017,0.821C6.017,0.821 15.005,0.001 19.499,0.001C21.254,0.001 23.696,0.125 26.019,0.278C29.643,0.516 32.981,0.821 32.981,0.821C36.028,0.821 38.499,2.85 38.499,5.352C38.499,5.352 39,10.541 39,13.136C39,15.732 38.499,20.921 38.499,20.921C38.499,23.423 36.028,25.452 32.981,25.452C32.981,25.452 26.774,26.041 22.24,26.221L19.5,31.465L16.741,26.183ZM34.346,20.087L4.021,20.087L4.021,23.325L34.346,23.325L34.346,20.087ZM34.346,15.805L4.021,15.805L4.021,19.044L34.346,19.044L34.346,15.805ZM34.346,11.523L4.021,11.523L4.021,14.762L34.346,14.762L34.346,11.523ZM34.346,7.241L4.021,7.241L4.021,10.48L34.346,10.48L34.346,7.241ZM34.346,2.959L4.021,2.959L4.021,6.198L34.346,6.198L34.346,2.959Z"></path></svg>'},549:e=>{e.exports='<svg viewBox="0 0 66 66" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;"><g transform="matrix(1,0,0,1,1.5,-3.84252)"><path d="M35.5,52.843L41.5,52.843L30.5,64.843L19.5,52.843L25.5,52.843L25.5,27.843L35.5,27.843L35.5,52.843ZM13.285,23.741C15.874,15.594 23.502,9.685 32.5,9.685C39.674,9.685 45.979,13.44 49.549,19.09C56.483,20.701 61.657,26.922 61.657,34.343C61.657,42.951 54.196,49.788 45.601,49.842L41.5,49.843L41.5,44.843L45.567,44.842C51.245,44.806 56.343,40.028 56.343,34.343C56.343,29.141 52.495,24.83 47.492,24.107L46.176,23.917L45.539,22.75C43.021,18.135 38.124,15 32.5,15C25.315,15 19.315,20.115 17.949,26.901L17.484,29.213L15.132,29.025C14.924,29.008 14.713,29 14.5,29C10.172,29 6.657,32.514 6.657,36.843C6.657,41.171 9.672,44.842 14,44.843L18.5,44.843L18.5,49.843L14,49.843C6.738,49.843 1.343,44.104 1.343,36.843C1.343,29.99 6.592,24.354 13.285,23.741Z"></path></g></svg>'},271:e=>{e.exports='<svg viewBox="0 0 27 31" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:1.41421;"><g id="repeat" transform="matrix(1,0,0,1,-132.5,-2)"><g transform="matrix(-1,0,-0,1,158.831,2)"><path d="M7.364,6.48C9.179,5.515 11.255,4.967 13.461,4.967C20.569,4.967 26.331,10.651 26.331,17.664C26.331,24.676 20.569,30.36 13.461,30.36C8.436,30.36 4.083,27.518 1.964,23.375L1.973,23.34L3.716,22.554C5.531,26.101 9.257,28.534 13.56,28.534C19.645,28.534 24.579,23.667 24.579,17.664C24.579,11.66 19.645,6.793 13.56,6.793C11.624,6.793 9.804,7.286 8.223,8.151L12.5,12L0,12L6.5,0L7.364,6.48Z" style="stroke:black;stroke-width:0.07px;"></path></g><g transform="matrix(1.10748,0,0,1.05518,-5.70486,-1.08359)"><g><path d="M132.929,20.884L133.826,20.764C133.929,21.273 134.104,21.639 134.352,21.864C134.6,22.088 134.901,22.2 135.257,22.2C135.679,22.2 136.035,22.054 136.326,21.762C136.617,21.469 136.762,21.107 136.762,20.675C136.762,20.263 136.628,19.923 136.359,19.655C136.089,19.388 135.747,19.254 135.332,19.254C135.162,19.254 134.951,19.287 134.699,19.354L134.798,18.566C134.858,18.573 134.906,18.576 134.943,18.576C135.325,18.576 135.669,18.476 135.975,18.277C136.281,18.077 136.433,17.77 136.433,17.355C136.433,17.025 136.322,16.753 136.099,16.537C135.877,16.321 135.589,16.213 135.237,16.213C134.888,16.213 134.597,16.323 134.364,16.542C134.132,16.761 133.982,17.09 133.916,17.529L133.018,17.369C133.128,16.768 133.377,16.302 133.766,15.971C134.155,15.64 134.639,15.475 135.217,15.475C135.616,15.475 135.983,15.561 136.319,15.732C136.654,15.903 136.911,16.136 137.089,16.432C137.267,16.728 137.356,17.042 137.356,17.374C137.356,17.69 137.271,17.978 137.101,18.237C136.932,18.496 136.681,18.702 136.349,18.855C136.781,18.955 137.116,19.162 137.356,19.476C137.595,19.79 137.715,20.183 137.715,20.655C137.715,21.293 137.482,21.834 137.017,22.277C136.551,22.721 135.963,22.943 135.252,22.943C134.61,22.943 134.078,22.752 133.654,22.37C133.23,21.988 132.989,21.492 132.929,20.884Z" style="fill-rule:nonzero;"></path><path d="M138.602,19.209C138.602,18.345 138.691,17.649 138.869,17.123C139.047,16.596 139.311,16.19 139.661,15.904C140.012,15.618 140.453,15.475 140.985,15.475C141.377,15.475 141.721,15.554 142.017,15.712C142.313,15.87 142.557,16.097 142.75,16.395C142.943,16.692 143.094,17.055 143.203,17.482C143.313,17.909 143.368,18.485 143.368,19.209C143.368,20.067 143.28,20.759 143.104,21.285C142.928,21.812 142.664,22.219 142.314,22.507C141.963,22.794 141.52,22.938 140.985,22.938C140.28,22.938 139.727,22.685 139.325,22.18C138.843,21.572 138.602,20.582 138.602,19.209ZM139.524,19.209C139.524,20.409 139.665,21.207 139.946,21.604C140.226,22.002 140.573,22.2 140.985,22.2C141.397,22.2 141.744,22.001 142.024,21.602C142.305,21.203 142.446,20.406 142.446,19.209C142.446,18.006 142.305,17.207 142.024,16.811C141.744,16.416 141.394,16.218 140.975,16.218C140.563,16.218 140.234,16.392 139.988,16.741C139.679,17.187 139.524,18.009 139.524,19.209Z" style="fill-rule:nonzero;"></path><path d="M144.171,21.233L145.058,21.093C145.108,21.449 145.247,21.722 145.474,21.911C145.702,22.101 146.02,22.195 146.429,22.195C146.841,22.195 147.147,22.111 147.346,21.943C147.546,21.776 147.645,21.579 147.645,21.353C147.645,21.15 147.557,20.99 147.381,20.874C147.258,20.794 146.952,20.693 146.464,20.57C145.806,20.404 145.35,20.26 145.095,20.139C144.841,20.017 144.648,19.85 144.517,19.635C144.386,19.421 144.32,19.184 144.32,18.925C144.32,18.689 144.374,18.47 144.482,18.269C144.59,18.068 144.737,17.901 144.923,17.768C145.063,17.665 145.253,17.578 145.494,17.507C145.735,17.435 145.993,17.399 146.269,17.399C146.685,17.399 147.05,17.459 147.364,17.579C147.678,17.699 147.91,17.861 148.059,18.065C148.209,18.269 148.312,18.543 148.368,18.885L147.491,19.005C147.451,18.732 147.335,18.519 147.144,18.367C146.953,18.214 146.683,18.137 146.334,18.137C145.922,18.137 145.628,18.205 145.452,18.342C145.276,18.478 145.188,18.637 145.188,18.82C145.188,18.937 145.224,19.041 145.297,19.134C145.37,19.231 145.485,19.31 145.641,19.374C145.731,19.407 145.995,19.483 146.434,19.603C147.069,19.772 147.512,19.911 147.762,20.019C148.013,20.127 148.21,20.284 148.353,20.49C148.496,20.696 148.568,20.952 148.568,21.258C148.568,21.557 148.48,21.839 148.306,22.103C148.131,22.367 147.88,22.572 147.551,22.716C147.222,22.861 146.849,22.933 146.434,22.933C145.746,22.933 145.222,22.79 144.861,22.504C144.5,22.218 144.27,21.795 144.171,21.233Z" style="fill-rule:nonzero;"></path></g></g></g></svg>'},643:e=>{e.exports='<svg viewBox="0 0 34 28" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421;"><g id="FullScreen" transform="matrix(1,0,0,1,-363,-6)"><g><g><g transform="matrix(1,0,0,1,-2,2.84217e-14)"><path d="M368.492,8.078L371.207,10.793L369.793,12.207L367.078,9.492L365,11.57L365.014,7.428L365,7.414L365.014,7.4L365.019,6.019L366.4,6.014L366.414,6L366.428,6.014L370.57,6L368.492,8.078Z"></path></g><g transform="matrix(1,0,0,-1,-2,40)"><path d="M368.492,8.078L371.207,10.793L369.793,12.207L367.078,9.492L365,11.57L365.014,7.428L365,7.414L365.014,7.4L365.019,6.019L366.4,6.014L366.414,6L366.428,6.014L370.57,6L368.492,8.078Z"></path></g><g transform="matrix(-1,0,0,1,762,2.84217e-14)"><path d="M368.492,8.078L371.207,10.793L369.793,12.207L367.078,9.492L365,11.57L365.014,7.428L365,7.414L365.014,7.4L365.019,6.019L366.4,6.014L366.414,6L366.428,6.014L370.57,6L368.492,8.078Z"></path></g><g transform="matrix(-1,0,0,-1,762,40)"><path d="M368.492,8.078L371.207,10.793L369.793,12.207L367.078,9.492L365,11.57L365.014,7.428L365,7.414L365.014,7.4L365.019,6.019L366.4,6.014L366.414,6L366.428,6.014L370.57,6L368.492,8.078Z"></path></g><g transform="matrix(1,0,0,0.886475,0,2.17871)"><rect x="369" y="12.207" width="22" height="15.793"></rect></g><g transform="matrix(1,0,0,1,-0.0588586,-0.780796)"></g></g></g></g></svg>'},812:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" viewBox="0 0 24 24"><path d="M19,10H17V8H19M19,13H17V11H19M16,10H14V8H16M16,13H14V11H16M16,17H8V15H16M7,10H5V8H7M7,13H5V11H7M8,11H10V13H8M8,8H10V10H8M11,11H13V13H11M11,8H13V10H11M20,5H4C2.89,5 2,5.89 2,7V17A2,2 0 0,0 4,19H20A2,2 0 0,0 22,17V7C22,5.89 21.1,5 20,5Z"></path></svg>'},291:e=>{e.exports='<svg viewBox="0 0 39 33" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421;"><path d="M38.02,33L20.02,33L20.02,16L38.02,16L38.02,33ZM18.1,31.479L17.261,28.744C17.261,28.744 15.373,29.986 14.365,29.504C13.356,29.022 13.141,28.161 13.141,28.161L15.089,26L10.02,26L10.02,31.317L12.04,29.194C12.04,29.194 12.571,31.145 13.809,31.959C15.732,33.224 18.1,31.479 18.1,31.479ZM35.846,31C35.844,30.985 35.419,26.773 34.821,25.622C34.222,24.47 31.242,24.429 31.242,24.429C31.242,24.429 30.557,27.413 30.373,27.982C30.189,28.55 30.15,28.681 30.15,28.681C30.15,28.681 29.686,25.798 29.604,25.505C29.543,25.285 29.143,25.271 29.058,25.271C28.973,25.271 28.573,25.297 28.512,25.516C28.431,25.809 28.097,28.617 28.097,28.617C28.097,28.617 27.995,28.55 27.811,27.982C27.627,27.413 26.874,24.429 26.874,24.429C26.874,24.429 23.894,24.47 23.295,25.622C22.696,26.775 22.27,31 22.27,31L35.846,31ZM30.15,24.429C30.209,24.682 29.406,25.228 29.406,25.228L28.763,25.212C28.763,25.212 27.907,24.682 27.966,24.429C28.02,24.196 28.753,24.222 29.058,24.219C29.365,24.222 30.096,24.196 30.15,24.429ZM25.02,15L22.02,15L22.02,3L23.02,3L23.02,2L2.02,2L2.02,3L3.02,3L3.02,17L11.79,17L8.396,21.381C8.078,21.995 8.205,22.353 8.367,22.49C8.531,22.629 8.944,22.69 9.341,22.282L12.926,18.594L16.429,22.282C16.589,22.542 16.931,22.561 17.322,22.405C17.601,22.293 17.521,21.746 17.374,21.381L13.875,17L19.02,17L19.02,24L0,24L0,0L25.02,0L25.02,15ZM29.058,17.067C30.719,17.067 32.068,18.527 32.068,20.326C32.068,22.125 30.719,23.586 29.058,23.586C27.397,23.586 26.048,22.125 26.048,20.326C26.048,18.527 27.397,17.067 29.058,17.067ZM21.02,15L21.02,3L4.02,3L4.02,16L19.02,16L19.02,15L21.02,15ZM35.1,14L30.032,14L31.98,11.839C31.98,11.839 31.765,10.978 30.756,10.496C29.747,10.014 27.86,11.256 27.86,11.256L27.02,8.521C27.02,8.521 29.389,6.776 31.312,8.041C32.55,8.855 33.081,10.806 33.081,10.806L35.1,8.683L35.1,14ZM10.744,7.462L6.356,13.008L5.922,12.61L10.727,6.537L13.847,9.959L18.147,5.333L18.55,5.767L13.846,10.826L10.744,7.462Z"></path></svg>'},998:e=>{e.exports='<svg viewBox="0 0 39 32" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421;"><g transform="matrix(1.43396,0,0,1.57895,-350.104,-74)"><path d="M271,50.995C271,49.065 269.277,47.5 267.152,47.5C267.152,47.5 260.884,46.867 257.75,46.867C254.616,46.867 248.348,47.5 248.348,47.5C246.223,47.5 244.5,49.065 244.5,50.995C244.5,50.995 244.151,55.036 244.151,56.842C244.151,58.843 244.5,63.005 244.5,63.005C244.5,64.935 246.223,66.5 248.348,66.5C248.348,66.5 254.965,67.133 258.099,67.133C261.124,67.133 267.152,66.5 267.152,66.5C269.277,66.5 271,64.935 271,63.005C271,63.005 271.349,59.002 271.349,57C271.349,54.998 271,50.995 271,50.995Z"></path></g></svg>'},770:e=>{e.exports='<svg viewBox="0 0 521 601" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421;"><g transform="matrix(5.20833,0,0,5.20833,0,0)"><g id="User" transform="matrix(3.84615,1.8963e-31,0,3.84615,-1564.99,-323.92)"><g transform="matrix(1.05882,0,0,1.05882,-23.2206,-3.66315)"><circle cx="418.5" cy="91.5" r="8.5"></circle></g><g transform="matrix(0.996622,0,0,0.785714,1.3158,23.0763)"><path d="M406.956,116C408.994,107.809 414.069,102 420,102C425.931,102 431.006,107.809 433.044,116L406.956,116Z"></path></g></g></g></svg>'},506:e=>{e.exports='<svg viewBox="0 0 34 30" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421;"><g transform="matrix(1,0,0,1,-164.25,-6)"><path d="M184.233,14.077C188.981,14.489 191.571,24.435 184.954,27.208C183.497,27.819 181.723,25.826 183.988,24.902C187.22,23.511 187.697,17.939 183.734,16.5C183.734,16.5 181.944,14.012 184.233,14.077Z" style="fill-rule:nonzero;"></path></g><g transform="matrix(1.79727,0,0,1.79727,-310.137,-22.5434)"><path d="M184.236,14.634C184.819,14.72 184.834,14.837 185.078,14.956C188.213,16.489 189.629,20.834 187.848,23.947C187.088,25.275 185.842,26.312 184.395,26.83C184.395,26.83 184.071,26.925 183.815,26.778C183.217,26.436 183.496,25.849 184.723,25.159C187.985,23.325 187.943,17.417 183.927,15.98C183.927,15.98 182.939,14.544 184.236,14.634Z" style="fill-rule:nonzero;"></path></g><g transform="matrix(2.44245,0,0,2.44245,-427.303,-35.9308)"><path d="M184.199,14.815C184.625,14.866 186.828,16.03 187.775,17.801C189.443,20.92 187.935,25.329 184.388,26.637C184.388,26.637 183.459,26.646 183.677,26.009C183.808,25.624 184.344,25.578 184.77,25.344C187.184,24.016 188.202,20.604 186.8,18.153C186.181,17.07 185.166,16.228 183.988,15.807C183.988,15.807 183.242,14.787 184.199,14.815Z" style="fill-rule:nonzero;"></path></g><g transform="matrix(1,0,0,1,-125,-5)"><path d="M131.499,14L139.68,5C140.961,5 142,6.039 142,7.32L142,31.68C142,32.961 140.961,34 139.68,34L131.499,25L127.375,25C126.063,25 125,23.937 125,22.625L125,16.375C125,15.063 126.063,14 127.375,14L131.499,14Z"></path></g></svg>'},978:e=>{e.exports='<svg viewBox="0 0 25 29" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421;"><g id="volume-low" serif:id="volume low" transform="matrix(1,0,0,1,-165,-5)"><g><g transform="matrix(1,0,0,1,0.75,-1)"><path d="M184.233,14.077C188.981,14.489 191.571,24.435 184.954,27.208C183.497,27.819 181.723,25.826 183.988,24.902C187.22,23.511 187.697,17.939 183.734,16.5C183.734,16.5 181.944,14.012 184.233,14.077Z" style="fill-rule:nonzero;"></path></g><g transform="matrix(1,0,0,1,40,0)"><path d="M131.499,14L139.68,5C140.961,5 142,6.039 142,7.32L142,31.68C142,32.961 140.961,34 139.68,34L131.499,25L127.375,25C126.063,25 125,23.937 125,22.625L125,16.375C125,15.063 126.063,14 127.375,14L131.499,14Z"></path></g></g></g></svg>'},704:e=>{e.exports='<svg viewBox="0 0 29 29" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421;"><g id="volume-mid" serif:id="volume mid" transform="matrix(1,0,0,1,-165,-5)"><g><g transform="matrix(1,0,0,1,0.75,-1)"><path d="M184.233,14.077C188.981,14.489 191.571,24.435 184.954,27.208C183.497,27.819 181.723,25.826 183.988,24.902C187.22,23.511 187.697,17.939 183.734,16.5C183.734,16.5 181.944,14.012 184.233,14.077Z" style="fill-rule:nonzero;"></path></g><g transform="matrix(1.79727,0,0,1.79727,-145.137,-17.5434)"><path d="M184.236,14.634C184.819,14.72 184.834,14.837 185.078,14.956C188.213,16.489 189.629,20.834 187.848,23.947C187.088,25.275 185.842,26.312 184.395,26.83C184.395,26.83 184.071,26.925 183.815,26.778C183.217,26.436 183.496,25.849 184.723,25.159C187.985,23.325 187.943,17.417 183.927,15.98C183.927,15.98 182.939,14.544 184.236,14.634Z" style="fill-rule:nonzero;"></path></g><g transform="matrix(1,0,0,1,40,0)"><path d="M131.499,14L139.68,5C140.961,5 142,6.039 142,7.32L142,31.68C142,32.961 140.961,34 139.68,34L131.499,25L127.375,25C126.063,25 125,23.937 125,22.625L125,16.375C125,15.063 126.063,14 127.375,14L131.499,14Z"></path></g></g></g></svg>'},928:e=>{e.exports='<svg viewBox="0 0 31 31" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421;"><g id="volume-mute" serif:id="volume mute" transform="matrix(1,0,0,1,-123,-4.71142)"><path d="M142,28.522L142,31.68C142,32.961 140.961,34 139.68,34L131.499,25L127.375,25C126.063,25 125,23.937 125,22.625L125,16.375C125,15.063 126.063,14 127.375,14L127.478,14L142,28.522ZM151.228,34.983L123,6.756L125.044,4.711L132.848,12.516L139.68,5C140.961,5 142,6.039 142,7.32L142,21.667L153.272,32.939L151.228,34.983Z"></path></g></svg>'},887:e=>{e.exports='<svg viewBox="0 0 37 29" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421;"><g id="Exit-FullScreen" serif:id="Exit FullScreen" transform="matrix(1,0,0,1,-361.793,-5.79289)"><g><g transform="matrix(1,0,0,-1,27,18)"><path d="M368.492,8.078L371.207,10.793L369.793,12.207L367.078,9.492L365,11.57L365.014,7.428L365,7.414L365.014,7.4L365.019,6.019L366.4,6.014L366.414,6L366.428,6.014L370.57,6L368.492,8.078Z"></path></g><g transform="matrix(-1,0,0,1,733,22)"><path d="M368.492,8.078L371.207,10.793L369.793,12.207L367.078,9.492L365,11.57L365.014,7.428L365,7.414L365.014,7.4L365.019,6.019L366.4,6.014L366.414,6L366.428,6.014L370.57,6L368.492,8.078Z"></path></g><g transform="matrix(-1,0,0,-1,733,18)"><path d="M368.492,8.078L371.207,10.793L369.793,12.207L367.078,9.492L365,11.57L365.014,7.428L365,7.414L365.014,7.4L365.019,6.019L366.4,6.014L366.414,6L366.428,6.014L370.57,6L368.492,8.078Z"></path></g><g transform="matrix(1,0,0,1,27,22)"><path d="M368.492,8.078L371.207,10.793L369.793,12.207L367.078,9.492L365,11.57L365.014,7.428L365,7.414L365.014,7.4L365.019,6.019L366.4,6.014L366.414,6L366.428,6.014L370.57,6L368.492,8.078Z"></path></g><g transform="matrix(1,0,0,0.886475,0,2.17871)"><rect x="369" y="12.207" width="22" height="15.793"></rect></g></g></g></svg>'},757:(e,t,n)=>{var r={"./BasicPluginsModule.js":775,"./es.upv.paella.audioSelector.js":252,"./es.upv.paella.backwardButtonPlugin.js":925,"./es.upv.paella.captionsSelectorPlugin.js":460,"./es.upv.paella.downloadsPlugin.js":61,"./es.upv.paella.externalPluginTest.js":800,"./es.upv.paella.forwardButtonPlugin.js":108,"./es.upv.paella.fullscreenButton.js":440,"./es.upv.paella.keyboardShortcutsHelp.js":234,"./es.upv.paella.layoutSelector.js":239,"./es.upv.paella.playbackRateButton.js":540,"./es.upv.paella.qualitySelector.js":135,"./es.upv.paella.volumeButtonPlugin.js":459};function i(e){var t=o(e);return n(t)}function o(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}i.keys=function(){return Object.keys(r)},i.resolve=o,e.exports=i,i.id=757},995:e=>{e.exports=n}},t={};function r(n){var i=t[n];if(void 0!==i)return i.exports;var o=t[n]={id:n,exports:{}};return e[n](o,o.exports,r),o.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var i={};return(()=>{function e(){return r(757)}r.r(i),r.d(i,{basicPluginsDict:()=>t,default:()=>e});var t={es:{"Select the active audio track":"Seleccione la pista de audio activa","Toggle audio mute":"Conmutar el silencio de audio","Toggle play/pause":"Activar la reproducción/pausa","Toggle Captions":"Alternar subtítulos","Rewind 30 seconds":"Rebobinar 30 segundos","Volume up 10%":"Aumenta el volumen un 10%.","Volume down 10%":"Reduce el volumen un 10%.","Close Pop Up":"Cerrar Pop Up","Decrease playback speed":"Reducir la velocidad de reproducción","Increase playback speed":"Aumentar la velocidad de reproducción"}}})(),i})())})),In=Rn(On),Dn=Ln((function(e,t){var n;self,e.exports=(n=Pn,(()=>{var e={882:(e,t,n)=>{function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t){return a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},a(e,t)}function s(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},u(e)}n.r(t),n.d(t,{default:()=>l});var l=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(c,e);var t,n,r,l=(n=c,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=u(n);if(r){var i=u(this).constructor;e=Reflect.construct(t,arguments,i)}else e=t.apply(this,arguments);return s(this,e)});function c(){return i(this,c),l.apply(this,arguments)}return(t=[{key:"moduleName",get:function(){return"paella-slide-plugins"}},{key:"moduleVersion",get:function(){return"1.0.10"}}])&&o(c.prototype,t),c}(n(995).PluginModule)},516:(e,t,n)=>{n.r(t),n.d(t,{default:()=>k});var r=n(995),i=n(379),o=n.n(i),a=n(35);o()(a.Z,{insert:"head",singleton:!1}),a.Z.locals;var s=n(259),u=n.n(s),l=n(722),c=n.n(l);function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t){return h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},h(e,t)}function g(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}function v(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function y(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){v(o,r,i,a,s,"next",e)}function s(e){v(o,r,i,a,s,"throw",e)}a(void 0)}))}}function b(){return w.apply(this,arguments)}function w(){return(w=y(regeneratorRuntime.mark((function e(){var t,n,r,i,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.player.videoContainer,n=t.isTrimEnabled?t.trimStart:0,e.t0=n,e.t1=Math,e.next=6,t.duration();case 6:return e.t2=e.sent,e.t3=e.t1.trunc.call(e.t1,e.t2),r=e.t0+e.t3,e.t4=n,e.t5=Math,e.next=13,t.currentTime();case 13:if(e.t6=e.sent,e.t7=e.t5.trunc.call(e.t5,e.t6),i=e.t4+e.t7,o=null,this.frames.some((function(e){return e.time>i&&e.time<r&&(o=e),null!==o})),!o){e.next=21;break}return e.next=21,this.player.videoContainer.setCurrentTime(o.time-n);case 21:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function A(){return _.apply(this,arguments)}function _(){return(_=y(regeneratorRuntime.mark((function e(){var t,n,r,i,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.player.videoContainer,n=t.isTrimEnabled?t.trimStart:0,e.t0=Math,e.next=5,t.currentTime();case 5:if(e.t1=e.sent,e.t2=e.t0.trunc.call(e.t0,e.t1),e.t3=n,r=e.t2+e.t3,i=null,this.frames.some((function(e){return e.time<r&&(i=e),e.time>=r})),!i){e.next=15;break}return o=i.time<n?n:i.time,e.next=15,this.player.videoContainer.setCurrentTime(o-n);case 15:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}var k=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(l,e);var t,n,i,o,a,s=(o=l,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=m(o);if(a){var n=m(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return g(this,e)});function l(){return p(this,l),s.apply(this,arguments)}return t=l,n=[{key:"events",get:function(){return[r.Events.PLAYER_LOADED]}},{key:"onEvent",value:(i=y(regeneratorRuntime.mark((function e(t){var n,i,o,a,s,l,f,p,d=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.debug("Loading arrow slides navigation plugin"),a=Array.isArray(this.config.target)?this.config.target:[this.config.target],s=this.player.videoContainer.streamProvider.streams,l=a.find((function(e){return null!==s[e]})),f=s[l],this.frames=null===(n=this.player.videoManifest)||void 0===n?void 0:n.frameList,null===(i=this.frames)||void 0===i||i.sort((function(e,t){return e.time-t.time})),f&&null!==(o=this.frames)&&void 0!==o&&o.length?(p=(0,r.createElementWithHtmlText)('<div class="arrow-slides-navigator"></div>',f.canvas.userArea),(0,r.createElementWithHtmlText)('\n            <button class="button-prev"><i>'.concat(u(),"</i></button>\n            "),p).addEventListener("click",function(){var e=y(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.stopPropagation(),e.next=3,A.apply(d);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),(0,r.createElementWithHtmlText)('\n            <button class="button-next"><i>'.concat(c(),"</i></button>\n            "),p).addEventListener("click",function(){var e=y(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.stopPropagation(),e.next=3,b.apply(d);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())):console.warn("No matching stream content or frames found for arrow slides navigator plugin");case 8:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})}],n&&d(t.prototype,n),l}(r.EventLogPlugin)},588:(e,t,n)=>{n.r(t),n.d(t,{default:()=>k});var r=n(995),i=n(741),o=n.n(i),a=n(259),s=n.n(a),u=n(722),l=n.n(u),c=n(379),f=n.n(c),p=n(895);function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function h(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function g(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){h(o,r,i,a,s,"next",e)}function s(e){h(o,r,i,a,s,"throw",e)}a(void 0)}))}}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t,n){return y="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=A(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}},y(e,t,n||e)}function b(e,t){return b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},b(e,t)}function w(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function A(e){return A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},A(e)}function _(e,t){null==t||t.forEach((function(e){return e.classList.remove("selected")})),e.classList.add("selected")}f()(p.Z,{insert:"head",singleton:!1}),p.Z.locals;var k=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(h,e);var t,n,i,a,u,c,f,p,d=(f=h,p=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=A(f);if(p){var n=A(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return w(this,e)});function h(){return m(this,h),d.apply(this,arguments)}return t=h,n=[{key:"getAriaLabel",value:function(){return"Show video slides"}},{key:"getDescription",value:function(){return this.getAriaLabel()}},{key:"popUpType",get:function(){return"timeline"}},{key:"isEnabled",value:(c=g(regeneratorRuntime.mark((function e(){var t,n,r,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y(A(h.prototype),"isEnabled",this).call(this);case 2:return i=e.sent,this.frames=null===(t=this.player.videoManifest)||void 0===t?void 0:t.frameList,null===(n=this.frames)||void 0===n||n.sort((function(e,t){return e.time-t.time})),e.abrupt("return",i&&(null===(r=this.frames)||void 0===r?void 0:r.length));case 6:case"end":return e.stop()}}),e,this)}))),function(){return c.apply(this,arguments)})},{key:"getContent",value:(u=g(regeneratorRuntime.mark((function e(){var t,n,i,o,a,u,c,f,p,d,h,m=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.config.targetContent||"presentation",n=(0,r.createElementWithHtmlText)('<div class="frame-control-plugin-container"></div>'),i=(0,r.createElementWithHtmlText)('<div class="image-list"></div>',n),o=(0,r.createElementWithHtmlText)('<button class="btn-left"><i class="button-icon">'.concat(s(),"</i></button>"),n),a=(0,r.createElementWithHtmlText)('<button class="btn-right"><i class="button-icon">'.concat(l(),"</i></button>"),n),u=this.player.videoContainer,e.next=8,u.duration();case 8:return c=e.sent,f=u.isTrimEnabled?u.trimStart:0,p=u.isTrimEnabled?u.trimEnd:c,d=function(e){return e=m.player.videoContainer.isTrimEnabled?e-m.player.videoContainer.trimStart:e,r.utils.secondsToTime(e<0?0:e)},this.frameElements=this.frames.filter((function(e,t){var n=m.frames[t+1];return((null==n?void 0:n.time)>=f||e.time>=f)&&e.time<=p})).map((function(e){var n="".concat(m.player.translate("go to")," ").concat(d(e.time)),o=(0,r.createElementWithHtmlText)('\n                <button id="frame_'.concat(e.id,'" aria-label="').concat(n,'" title="').concat(n,'"><img src="').concat(e.thumb,'" alt="').concat(e.id,'"/></button>\n                '),i);return o.__data=e,o.addEventListener("click",function(){var e=g(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.currentTarget.__data.time-f,e.next=3,m.player.videoContainer.setCurrentTime(n>=0?n:0);case 3:_(t.currentTarget,m.frameElements);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),o.addEventListener("mouseover",function(){var n=g(regeneratorRuntime.mark((function n(r){var i,o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:m._currentFrame&&m.player.videoContainer.removeChild(m._currentFrame),(i=document.createElement("img")).className="frame-control-preview",i.src=e.url,o=m.player.videoContainer.getVideoRect(t),m._currentFrame=m.player.videoContainer.appendChild(i,o);case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()),o.addEventListener("mouseout",function(){var e=g(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:m._currentFrame&&(m.player.videoContainer.removeChild(m._currentFrame),m._currentFrame=null);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),o})),h=function(){return 20*i.offsetWidth/100},o.addEventListener("click",(function(){i.scrollLeft-=h()})),a.addEventListener("click",(function(){i.scrollLeft+=h()})),setTimeout((function(){return m.frameElements[0]&&m.frameElements[0].focus()}),50),e.abrupt("return",n);case 18:case"end":return e.stop()}}),e,this)}))),function(){return u.apply(this,arguments)})},{key:"load",value:(a=g(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.icon=o(),(0,r.bindEvent)(this.player,r.Events.TIMEUPDATE,function(){var e=g(regeneratorRuntime.mark((function e(n){var r,i,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=t.player.videoContainer.isTrimEnabled?t.player.videoContainer.trimStart:0,o=t.frameElements&&t.frameElements[0],null===(r=t.frameElements)||void 0===r||r.some((function(e){if(e.__data.time>Math.floor(n.currentTime+i+3))return!0;o=e})),o&&_(o,t.frameElements);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),(0,r.bindEvent)(this.player,r.Events.TRIMMING_CHANGED,(function(e){t.refreshContent=!0}));case 4:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"getDictionaries",value:(i=g(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{es:{"Show video slides":"Mostrar diapositivas del vídeo","go to":"ir a"}});case 1:case"end":return e.stop()}}),e)}))),function(){return i.apply(this,arguments)})}],n&&v(t.prototype,n),h}(r.PopUpButtonPlugin)},35:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(15),i=n.n(r),o=n(645),a=n.n(o)()(i());a.push([e.id,"\n.arrow-slides-navigator {\n    pointer-events: all;\n    display: flex;\n    justify-content: space-between;\n    height: 100%;\n}\n\n.arrow-slides-navigator button.button-prev:hover {\n    background: linear-gradient(-90deg, rgba(-1,0,0,0) 0%, rgba(0,0,0,0.1) 100%)\n}\n\n.arrow-slides-navigator button.button-next:hover {\n    background: linear-gradient(90deg, rgba(-1,0,0,0) 0%, rgba(0,0,0,0.1) 100%)\n}\n\n.arrow-slides-navigator button {\n    background: none;\n    border: none;\n    outline: none;\n}\n\n.arrow-slides-navigator button i {\n    width: 20px;\n    height: 20px;\n    display: block;\n}\n\n.arrow-slides-navigator button i svg {\n    fill: black;\n    stroke: white;\n    stroke-width: 4px;\n}","",{version:3,sources:["webpack://./src/styles/arrowSlidesNavigator.css"],names:[],mappings:";AACA;IACI,mBAAmB;IACnB,aAAa;IACb,8BAA8B;IAC9B,YAAY;AAChB;;AAEA;IACI;AACJ;;AAEA;IACI;AACJ;;AAEA;IACI,gBAAgB;IAChB,YAAY;IACZ,aAAa;AACjB;;AAEA;IACI,WAAW;IACX,YAAY;IACZ,cAAc;AAClB;;AAEA;IACI,WAAW;IACX,aAAa;IACb,iBAAiB;AACrB",sourcesContent:["\n.arrow-slides-navigator {\n    pointer-events: all;\n    display: flex;\n    justify-content: space-between;\n    height: 100%;\n}\n\n.arrow-slides-navigator button.button-prev:hover {\n    background: linear-gradient(-90deg, rgba(-1,0,0,0) 0%, rgba(0,0,0,0.1) 100%)\n}\n\n.arrow-slides-navigator button.button-next:hover {\n    background: linear-gradient(90deg, rgba(-1,0,0,0) 0%, rgba(0,0,0,0.1) 100%)\n}\n\n.arrow-slides-navigator button {\n    background: none;\n    border: none;\n    outline: none;\n}\n\n.arrow-slides-navigator button i {\n    width: 20px;\n    height: 20px;\n    display: block;\n}\n\n.arrow-slides-navigator button i svg {\n    fill: black;\n    stroke: white;\n    stroke-width: 4px;\n}"],sourceRoot:""}]);const s=a},895:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(15),i=n.n(r),o=n(645),a=n.n(o)()(i());a.push([e.id,"\n.frame-control-plugin-container {\n    position: relative;\n    height: 100px;\n}\n\n.frame-control-plugin-container .btn-left {\n    position: absolute;\n    left: 0px;\n    top: -10px;\n    bottom: -10px;\n    background: linear-gradient(\n        90deg\n        , rgba(65,65,65,1) 0%, rgba(0,0,0,0) 100%);\n    border-radius: 6px;\n}\n\n.frame-control-plugin-container .image-list {\n    display: flex;\n    flex-wrap: nowrap;\n    overflow-y: hidden;\n    overflow-x: hidden;\n    padding-left: 30px;\n    position: absolute;\n    left: 0px;\n    right: 0px;\n    top: 0px;\n    bottom: 0px;\n}\n\n.frame-control-plugin-container .btn-right {\n    position: absolute;\n    right: 0px;\n    top: -11px;\n    bottom: -10px;\n    background: linear-gradient(\n        270deg\n        , rgba(65,65,65,1) 0%, rgba(0,0,0,0) 100%);\n    border-radius: 6px;\n}\n\n.frame-control-plugin-container .image-list a {\n    margin: 3px;\n    min-width: 160px;\n}\n\n.frame-control-plugin-container .image-list a:last-child {\n    border-right: 110px solid transparent;\n}\n\n.frame-control-plugin-container .image-list img {\n    pointer-events: none;\n}\n\n.frame-control-plugin-container .image-list a {\n    opacity: 0.5;\n    overflow: hidden;\n}\n\n.frame-control-plugin-container .image-list a:hover {\n    opacity: 1;\n    cursor: pointer;\n}\n\n.frame-control-plugin-container button {\n    background-color: transparent;\n    border: 0px;\n}\n\n.frame-control-plugin-container .button-icon {\n    display: block;\n    width: 15px;\n}\n\n.frame-control-plugin-container .button-icon svg {\n    fill: white;\n}\n\n.frame-control-plugin-container .image-list a.selected {\n    border: 2px solid red;\n    opacity: 0.8;\n}\n\n.frame-control-plugin-container .image-list a.selected:hover {\n    border: 2px solid red;\n    opacity: 1;\n}","",{version:3,sources:["webpack://./src/styles/frameControlButton.css"],names:[],mappings:";AACA;IACI,kBAAkB;IAClB,aAAa;AACjB;;AAEA;IACI,kBAAkB;IAClB,SAAS;IACT,UAAU;IACV,aAAa;IACb;;kDAE8C;IAC9C,kBAAkB;AACtB;;AAEA;IACI,aAAa;IACb,iBAAiB;IACjB,kBAAkB;IAClB,kBAAkB;IAClB,kBAAkB;IAClB,kBAAkB;IAClB,SAAS;IACT,UAAU;IACV,QAAQ;IACR,WAAW;AACf;;AAEA;IACI,kBAAkB;IAClB,UAAU;IACV,UAAU;IACV,aAAa;IACb;;kDAE8C;IAC9C,kBAAkB;AACtB;;AAEA;IACI,WAAW;IACX,gBAAgB;AACpB;;AAEA;IACI,qCAAqC;AACzC;;AAEA;IACI,oBAAoB;AACxB;;AAEA;IACI,YAAY;IACZ,gBAAgB;AACpB;;AAEA;IACI,UAAU;IACV,eAAe;AACnB;;AAEA;IACI,6BAA6B;IAC7B,WAAW;AACf;;AAEA;IACI,cAAc;IACd,WAAW;AACf;;AAEA;IACI,WAAW;AACf;;AAEA;IACI,qBAAqB;IACrB,YAAY;AAChB;;AAEA;IACI,qBAAqB;IACrB,UAAU;AACd",sourcesContent:["\n.frame-control-plugin-container {\n    position: relative;\n    height: 100px;\n}\n\n.frame-control-plugin-container .btn-left {\n    position: absolute;\n    left: 0px;\n    top: -10px;\n    bottom: -10px;\n    background: linear-gradient(\n        90deg\n        , rgba(65,65,65,1) 0%, rgba(0,0,0,0) 100%);\n    border-radius: 6px;\n}\n\n.frame-control-plugin-container .image-list {\n    display: flex;\n    flex-wrap: nowrap;\n    overflow-y: hidden;\n    overflow-x: hidden;\n    padding-left: 30px;\n    position: absolute;\n    left: 0px;\n    right: 0px;\n    top: 0px;\n    bottom: 0px;\n}\n\n.frame-control-plugin-container .btn-right {\n    position: absolute;\n    right: 0px;\n    top: -11px;\n    bottom: -10px;\n    background: linear-gradient(\n        270deg\n        , rgba(65,65,65,1) 0%, rgba(0,0,0,0) 100%);\n    border-radius: 6px;\n}\n\n.frame-control-plugin-container .image-list a {\n    margin: 3px;\n    min-width: 160px;\n}\n\n.frame-control-plugin-container .image-list a:last-child {\n    border-right: 110px solid transparent;\n}\n\n.frame-control-plugin-container .image-list img {\n    pointer-events: none;\n}\n\n.frame-control-plugin-container .image-list a {\n    opacity: 0.5;\n    overflow: hidden;\n}\n\n.frame-control-plugin-container .image-list a:hover {\n    opacity: 1;\n    cursor: pointer;\n}\n\n.frame-control-plugin-container button {\n    background-color: transparent;\n    border: 0px;\n}\n\n.frame-control-plugin-container .button-icon {\n    display: block;\n    width: 15px;\n}\n\n.frame-control-plugin-container .button-icon svg {\n    fill: white;\n}\n\n.frame-control-plugin-container .image-list a.selected {\n    border: 2px solid red;\n    opacity: 0.8;\n}\n\n.frame-control-plugin-container .image-list a.selected:hover {\n    border: 2px solid red;\n    opacity: 1;\n}"],sourceRoot:""}]);const s=a},645:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=e(t);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,r){"string"==typeof e&&(e=[[null,e,""]]);var i={};if(r)for(var o=0;o<this.length;o++){var a=this[o][0];null!=a&&(i[a]=!0)}for(var s=0;s<e.length;s++){var u=[].concat(e[s]);r&&i[u[0]]||(n&&(u[2]?u[2]="".concat(n," and ").concat(u[2]):u[2]=n),t.push(u))}},t}},15:e=>{function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}e.exports=function(e){var n,r,i=(r=4,function(e){if(Array.isArray(e))return e}(n=e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}(n,r)||function(e,n){if(e){if("string"==typeof e)return t(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?t(e,n):void 0}}(n,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=i[1],a=i[3];if("function"==typeof btoa){var s=btoa(unescape(encodeURIComponent(JSON.stringify(a)))),u="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(s),l="/*# ".concat(u," */"),c=a.sources.map((function(e){return"/*# sourceURL=".concat(a.sourceRoot||"").concat(e," */")}));return[o].concat(c).concat([l]).join("\n")}return[o].join("\n")}},379:(e,t,n)=>{var r,i=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),o=[];function a(e){for(var t=-1,n=0;n<o.length;n++)if(o[n].identifier===e){t=n;break}return t}function s(e,t){for(var n={},r=[],i=0;i<e.length;i++){var s=e[i],u=t.base?s[0]+t.base:s[0],l=n[u]||0,c="".concat(u," ").concat(l);n[u]=l+1;var f=a(c),p={css:s[1],media:s[2],sourceMap:s[3]};-1!==f?(o[f].references++,o[f].updater(p)):o.push({identifier:c,updater:g(p,t),references:1}),r.push(c)}return r}function u(e){var t=document.createElement("style"),r=e.attributes||{};if(void 0===r.nonce){var o=n.nc;o&&(r.nonce=o)}if(Object.keys(r).forEach((function(e){t.setAttribute(e,r[e])})),"function"==typeof e.insert)e.insert(t);else{var a=i(e.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(t)}return t}var l,c=(l=[],function(e,t){return l[e]=t,l.filter(Boolean).join("\n")});function f(e,t,n,r){var i=n?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(e.styleSheet)e.styleSheet.cssText=c(t,i);else{var o=document.createTextNode(i),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(o,a[t]):e.appendChild(o)}}function p(e,t,n){var r=n.css,i=n.media,o=n.sourceMap;if(i?e.setAttribute("media",i):e.removeAttribute("media"),o&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}var d=null,h=0;function g(e,t){var n,r,i;if(t.singleton){var o=h++;n=d||(d=u(t)),r=f.bind(null,n,o,!1),i=f.bind(null,n,o,!0)}else n=u(t),r=p.bind(null,n,t),i=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else i()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=(void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r));var n=s(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var r=0;r<n.length;r++){var i=a(n[r]);o[i].references--}for(var u=s(e,t),l=0;l<n.length;l++){var c=a(n[l]);0===o[c].references&&(o[c].updater(),o.splice(c,1))}n=u}}}},259:e=>{e.exports='<svg viewBox="0 0 30 40" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421;"><g id="arrow-right" serif:id="arrow right" transform="matrix(3.83476e-17,1,0.740741,-2.84056e-17,0.37037,-680)"><path d="M700,-0.5L720,40L680,40L700,-0.5Z"></path></g></svg>'},722:e=>{e.exports='<svg viewBox="0 0 30 40" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421;"><g id="arrow-right" serif:id="arrow right" transform="matrix(-1.60812e-16,-1,-0.740741,1.1912e-16,29.6296,720)"><path d="M700,-0.5L720,40L680,40L700,-0.5Z"></path></g></svg>'},741:e=>{e.exports='<svg viewBox="0 0 33 30" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421;"><path d="M23,29.888L0,29.888L0,7.888L23,7.888L23,29.888ZM11,6.888L8.903,6.888L10.5,0L33,5.817L27,27.888L24,27.388L23.994,20.288L27,20.888L30.519,7.199L11.933,2.394L11,6.888ZM21,9.888L1.969,9.888L1.969,23.888L21,23.888L21,9.888ZM7.912,19.349L10.236,15.813L12.561,18.017L15.757,13.49L19,21.888L3.939,21.888L6.169,17.726L7.912,19.349ZM6.473,15.608C5.647,15.608 4.977,14.966 4.977,14.173C4.977,13.381 5.647,12.739 6.473,12.739C7.299,12.739 7.969,13.381 7.969,14.173C7.969,14.966 7.299,15.608 6.473,15.608Z"></path></svg>'},757:(e,t,n)=>{var r={"./SlidePluginsModule.js":882,"./es.upv.paella.arrowSlidesNavigator.js":516,"./es.upv.paella.frameControlButtonPlugin.js":588};function i(e){var t=o(e);return n(t)}function o(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}i.keys=function(){return Object.keys(r)},i.resolve=o,e.exports=i,i.id=757},995:e=>{e.exports=n}},t={};function r(n){var i=t[n];if(void 0!==i)return i.exports;var o=t[n]={id:n,exports:{}};return e[n](o,o.exports,r),o.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var i={};return(()=>{function e(){return r(757)}r.r(i),r.d(i,{default:()=>e})})(),i})())})),Bn=Rn(Dn),jn=Ln((function(e,t){var n;self,e.exports=(n=Pn,(()=>{var e={459:(e,t,n)=>{function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t){return a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},a(e,t)}function s(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},u(e)}n.r(t),n.d(t,{default:()=>l});var l=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(c,e);var t,n,r,l=(n=c,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=u(n);if(r){var i=u(this).constructor;e=Reflect.construct(t,arguments,i)}else e=t.apply(this,arguments);return s(this,e)});function c(){return i(this,c),l.apply(this,arguments)}return(t=[{key:"moduleName",get:function(){return"paella-zoom-plugins"}},{key:"moduleVersion",get:function(){return"1.0.10"}}])&&o(c.prototype,t),c}(n(995).PluginModule)},392:(e,t,n)=>{n.r(t),n.d(t,{default:()=>m});var r=n(995),i=n(629),o=n(288),a=n.n(o);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function u(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function l(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){u(o,r,i,a,s,"next",e)}function s(e){u(o,r,i,a,s,"throw",e)}a(void 0)}))}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t,n){return p="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=g(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}},p(e,t,n||e)}function d(e,t){return d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},d(e,t)}function h(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function g(e){return g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},g(e)}var m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(b,e);var t,n,r,o,s,u,m,v,y=(m=b,v=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=g(m);if(v){var n=g(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return h(this,e)});function b(){return c(this,b),y.apply(this,arguments)}return t=b,n=[{key:"getAriaLabel",value:function(){return"Zoom in"}},{key:"getDescription",value:function(){return this.getAriaLabel()}},{key:"getDictionaries",value:(u=l(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{es:{"Zoom in":"Ampliar zoom del vídeo"}});case 1:case"end":return e.stop()}}),e)}))),function(){return u.apply(this,arguments)})},{key:"isEnabled",value:(s=l(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p(g(b.prototype),"isEnabled",this).call(this);case 2:if(e.sent){e.next=4;break}return e.abrupt("return",!1);case 4:return this.target=this.config.target,this._canvas=this.player.videoContainer.streamProvider.streams[this.target].canvas,e.abrupt("return",this._canvas instanceof i.ZoomCanvas);case 7:case"end":return e.stop()}}),e,this)}))),function(){return s.apply(this,arguments)})},{key:"load",value:(o=l(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.icon=a();case 1:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})},{key:"action",value:(r=l(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._canvas.zoomIn();case 1:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})}],n&&f(t.prototype,n),b}(r.ButtonPlugin)},410:(e,t,n)=>{n.r(t),n.d(t,{default:()=>y});var r=n(995),i=n(629),o=n(288),a=n.n(o),s=n(716),u=n.n(s);function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function c(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function f(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){c(o,r,i,a,s,"next",e)}function s(e){c(o,r,i,a,s,"throw",e)}a(void 0)}))}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t,n){return h="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=v(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}},h(e,t,n||e)}function g(e,t){return g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},g(e,t)}function m(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}var y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(w,e);var t,n,r,o,s,l,c,y,b=(c=w,y=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=v(c);if(y){var n=v(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m(this,e)});function w(){return p(this,w),b.apply(this,arguments)}return t=w,n=[{key:"getAriaLabel",value:function(){return"Show video zoom options"}},{key:"getDescription",value:function(){return this.getAriaLabel()}},{key:"getDictionaries",value:(l=f(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{es:{"Show video zoom options":"Mostrar opciones de zoom de vídeo"}});case 1:case"end":return e.stop()}}),e)}))),function(){return l.apply(this,arguments)})},{key:"isEnabled",value:(s=f(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h(v(w.prototype),"isEnabled",this).call(this);case 2:if(e.sent){e.next=4;break}return e.abrupt("return",!1);case 4:return this._target=this.config.target||"presenter",this._canvas=this.player.videoContainer.streamProvider.streams[this._target].canvas,e.abrupt("return",this._canvas instanceof i.ZoomCanvas);case 7:case"end":return e.stop()}}),e,this)}))),function(){return s.apply(this,arguments)})},{key:"load",value:(o=f(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.icon=a();case 1:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})},{key:"getMenu",value:(r=f(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",[{id:"in",title:"Zoom in",icon:a()},{id:"out",title:"Zoom out",icon:u()}]);case 1:case"end":return e.stop()}}),e)}))),function(){return r.apply(this,arguments)})},{key:"buttonType",get:function(){return"button"}},{key:"showTitles",get:function(){return!1}},{key:"itemSelected",value:function(e){switch(e.id){case"in":this._canvas.zoomIn();break;case"out":this._canvas.zoomOut()}}}],n&&d(t.prototype,n),w}(r.MenuButtonPlugin)},426:(e,t,n)=>{n.r(t),n.d(t,{default:()=>m});var r=n(995),i=n(629),o=n(716),a=n.n(o);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function u(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function l(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){u(o,r,i,a,s,"next",e)}function s(e){u(o,r,i,a,s,"throw",e)}a(void 0)}))}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t,n){return p="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=g(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}},p(e,t,n||e)}function d(e,t){return d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},d(e,t)}function h(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function g(e){return g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},g(e)}var m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(b,e);var t,n,r,o,s,u,m,v,y=(m=b,v=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=g(m);if(v){var n=g(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return h(this,e)});function b(){return c(this,b),y.apply(this,arguments)}return t=b,n=[{key:"getAriaLabel",value:function(){return"Zoom out"}},{key:"getDescription",value:function(){return this.getAriaLabel()}},{key:"getDictionaries",value:(u=l(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{es:{"Zoom out":"Reducir zoom de vídeo"}});case 1:case"end":return e.stop()}}),e)}))),function(){return u.apply(this,arguments)})},{key:"isEnabled",value:(s=l(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p(g(b.prototype),"isEnabled",this).call(this);case 2:if(e.sent){e.next=4;break}return e.abrupt("return",!1);case 4:return this.target=this.config.target,this._canvas=this.player.videoContainer.streamProvider.streams[this.target].canvas,e.abrupt("return",this._canvas instanceof i.ZoomCanvas);case 7:case"end":return e.stop()}}),e,this)}))),function(){return s.apply(this,arguments)})},{key:"load",value:(o=l(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.icon=a();case 1:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})},{key:"action",value:(r=l(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._canvas.zoomOut();case 1:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})}],n&&f(t.prototype,n),b}(r.ButtonPlugin)},629:(e,t,n)=>{n.r(t),n.d(t,{ZoomCanvas:()=>w,default:()=>A});var r=n(995),i=n(379),o=n.n(i),a=n(547);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function u(e,t,n){return u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=v(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}},u(e,t,n||e)}function l(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t,n){return t&&f(e.prototype,t),n&&f(e,n),e}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}function h(e,t){return h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},h(e,t)}function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v(e);if(t){var i=v(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return m(this,n)}}function m(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}function y(e,t,n){var r={left:e.offsetWidth/2,top:e.offsetHeight/2};t.style.width="".concat(100*n,"%"),t.style.height="".concat(100*n,"%"),t.offsetLeft,t.offsetTop;var i=t.offsetWidth,o=t.offsetHeight,a={left:i/2-r.left,top:o/2-r.top};return 1==n?(t.style.left="0px",t.style.top="0px",a.left=r.left,a.top=r.top):(t.style.left="-".concat(a.left,"px"),t.style.top="-".concat(a.top,"px")),a}function b(e,t,n){var r={left:t.left+n.left,top:t.top+n.top},i=e.parentElement;return e.style.top="-".concat(r.top,"px"),e.offsetHeight+e.offsetTop-i.offsetHeight<0&&(r.top=t.top),e.style.left="-".concat(r.left,"px"),e.offsetWidth+e.offsetLeft-i.offsetWidth<0&&(r.left=t.left),r}o()(a.Z,{insert:"head",singleton:!1}),a.Z.locals,n(288),n(716);var w=function(e){d(o,e);var t,n,i=g(o);function o(e,t,n){var r;return c(this,o),(r=i.call(this,"div",e,t)).config=n,r._maxZoom=r.config.maxZoom||4,r._showButtons=void 0===r.config.showButtons||r.config.showButtons,r}return p(o,[{key:"loadCanvas",value:(t=regeneratorRuntime.mark((function e(t){var n,i,o,a,s,u,l,c,f=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.currentZoom=1,this._videoPlayer=t,t.element.style.width="100%",t.element.style.height="100%",t.element.style.position="absolute",t.element.style.top="0",t.element.style.left="0",this.element.style.overflow="hidden",this.element.style.position="relative",n=function(e){if(e.stopPropagation(),e.altKey){f.hideAltKeyMessage();var t=void 0!==e.deltaY?.1*e.deltaY:4*e.detail,n=f.currentZoom+-.01*t;n>1&&n<=f._maxZoom?(f.currentZoom=n,f._playerCenter=y(f.element,f._videoPlayer.element,f.currentZoom)):n<=1&&(f.currentZoom=1,f._playerCenter=y(f.element,f._videoPlayer.element,f.currentZoom)),e.preventDefault()}else f.showAltKeyMessage()},this.element.addEventListener("DOMMouseScroll",n),this.element.addEventListener("mousewheel",n),i=!1,o=!1,a=null,s=function(){return i=!0},u=function(){return i=!1},l=function(e){o&&(e.stopPropagation(),e.preventDefault())},this.element.addEventListener("mousedown",s),this.element.addEventListener("mouseleave",u),this.element.addEventListener("mouseup",u),this.element.addEventListener("click",l),this.element.addEventListener("mouseup",l),this.element.addEventListener("mousemove",(function(e){if(i&&f._playerCenter){null===a&&(a={left:e.clientX,top:e.clientY}),o=!0;var t={left:a.left-e.clientX,top:a.top-e.clientY};f._playerCenter=b(f._videoPlayer.element,f._playerCenter,t),a={left:e.clientX,top:e.clientY}}else o=!1,a=null})),c=this.player.translate("Press ALT to zoom"),this._zoomMessage=(0,r.createElementWithHtmlText)('\n            <div class="zoom-message">'.concat(c,"</div>\n        "),this.element),this._zoomMessage.style.display="none";case 27:case"end":return e.stop()}}),e,this)})),n=function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(e){l(o,r,i,a,s,"next",e)}function s(e){l(o,r,i,a,s,"throw",e)}a(void 0)}))},function(e){return n.apply(this,arguments)})},{key:"showAltKeyMessage",value:function(){var e=this;this._hideTimeout&&clearTimeout(this._hideTimeout),this._zoomMessage.style.display="",this._hideTimeout=setTimeout((function(){e.hideAltKeyMessage()}),2e3)}},{key:"hideAltKeyMessage",value:function(){this._zoomMessage.style.display="none",this._hideTimeout=null}},{key:"zoomIn",value:function(){var e=1.1*this.currentZoom;e<this._maxZoom&&(this.currentZoom=e,this._playerCenter=y(this.element,this._videoPlayer.element,this.currentZoom))}},{key:"zoomOut",value:function(){var e=.9*this.currentZoom;e>=1&&(this.currentZoom=e,this._playerCenter=y(this.element,this._videoPlayer.element,this.currentZoom))}}]),o}(r.Canvas),A=function(e){d(n,e);var t=g(n);function n(){return c(this,n),t.apply(this,arguments)}return p(n,[{key:"canvasType",get:function(){return"video"}},{key:"isCompatible",value:function(e){return!Array.isArray(e.canvas)||0===e.canvas.length||u(v(n.prototype),"isCompatible",this).call(this,e)}},{key:"getCanvasInstance",value:function(e){return new w(this.player,e,this.config)}}]),n}(r.CanvasPlugin)},547:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(15),i=n.n(r),o=n(645),a=n.n(o)()(i());a.push([e.id,".zoom-message {\n    position: absolute;\n    top: 0px;\n    left: 0px;\n    right: 0px;\n    bottom: 0px;\n    background-color: rgba(0, 0, 0, 0.5);\n    pointer-events: none;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    color: white;\n}\n\n.zoom-buttons {\n    position: absolute;\n    top: 2px;\n    left: 0px;\n    right: 0px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n}\n\n.zoom-buttons button {\n    margin: 2px;\n    opacity: 0.4;\n    padding: 0;\n    width: 20px;\n    height: 20px;\n    display: block;\n}\n\n.zoom-buttons button:hover {\n    opacity: 1;\n}","",{version:3,sources:["webpack://./src/styles/zoom.css"],names:[],mappings:"AAAA;IACI,kBAAkB;IAClB,QAAQ;IACR,SAAS;IACT,UAAU;IACV,WAAW;IACX,oCAAoC;IACpC,oBAAoB;IACpB,aAAa;IACb,uBAAuB;IACvB,mBAAmB;IACnB,YAAY;AAChB;;AAEA;IACI,kBAAkB;IAClB,QAAQ;IACR,SAAS;IACT,UAAU;IACV,aAAa;IACb,mBAAmB;IACnB,uBAAuB;AAC3B;;AAEA;IACI,WAAW;IACX,YAAY;IACZ,UAAU;IACV,WAAW;IACX,YAAY;IACZ,cAAc;AAClB;;AAEA;IACI,UAAU;AACd",sourcesContent:[".zoom-message {\n    position: absolute;\n    top: 0px;\n    left: 0px;\n    right: 0px;\n    bottom: 0px;\n    background-color: rgba(0, 0, 0, 0.5);\n    pointer-events: none;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    color: white;\n}\n\n.zoom-buttons {\n    position: absolute;\n    top: 2px;\n    left: 0px;\n    right: 0px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n}\n\n.zoom-buttons button {\n    margin: 2px;\n    opacity: 0.4;\n    padding: 0;\n    width: 20px;\n    height: 20px;\n    display: block;\n}\n\n.zoom-buttons button:hover {\n    opacity: 1;\n}"],sourceRoot:""}]);const s=a},645:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=e(t);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,r){"string"==typeof e&&(e=[[null,e,""]]);var i={};if(r)for(var o=0;o<this.length;o++){var a=this[o][0];null!=a&&(i[a]=!0)}for(var s=0;s<e.length;s++){var u=[].concat(e[s]);r&&i[u[0]]||(n&&(u[2]?u[2]="".concat(n," and ").concat(u[2]):u[2]=n),t.push(u))}},t}},15:e=>{function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}e.exports=function(e){var n,r,i=(r=4,function(e){if(Array.isArray(e))return e}(n=e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}(n,r)||function(e,n){if(e){if("string"==typeof e)return t(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?t(e,n):void 0}}(n,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=i[1],a=i[3];if("function"==typeof btoa){var s=btoa(unescape(encodeURIComponent(JSON.stringify(a)))),u="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(s),l="/*# ".concat(u," */"),c=a.sources.map((function(e){return"/*# sourceURL=".concat(a.sourceRoot||"").concat(e," */")}));return[o].concat(c).concat([l]).join("\n")}return[o].join("\n")}},379:(e,t,n)=>{var r,i=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),o=[];function a(e){for(var t=-1,n=0;n<o.length;n++)if(o[n].identifier===e){t=n;break}return t}function s(e,t){for(var n={},r=[],i=0;i<e.length;i++){var s=e[i],u=t.base?s[0]+t.base:s[0],l=n[u]||0,c="".concat(u," ").concat(l);n[u]=l+1;var f=a(c),p={css:s[1],media:s[2],sourceMap:s[3]};-1!==f?(o[f].references++,o[f].updater(p)):o.push({identifier:c,updater:g(p,t),references:1}),r.push(c)}return r}function u(e){var t=document.createElement("style"),r=e.attributes||{};if(void 0===r.nonce){var o=n.nc;o&&(r.nonce=o)}if(Object.keys(r).forEach((function(e){t.setAttribute(e,r[e])})),"function"==typeof e.insert)e.insert(t);else{var a=i(e.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(t)}return t}var l,c=(l=[],function(e,t){return l[e]=t,l.filter(Boolean).join("\n")});function f(e,t,n,r){var i=n?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(e.styleSheet)e.styleSheet.cssText=c(t,i);else{var o=document.createTextNode(i),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(o,a[t]):e.appendChild(o)}}function p(e,t,n){var r=n.css,i=n.media,o=n.sourceMap;if(i?e.setAttribute("media",i):e.removeAttribute("media"),o&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}var d=null,h=0;function g(e,t){var n,r,i;if(t.singleton){var o=h++;n=d||(d=u(t)),r=f.bind(null,n,o,!1),i=f.bind(null,n,o,!0)}else n=u(t),r=p.bind(null,n,t),i=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else i()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=(void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r));var n=s(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var r=0;r<n.length;r++){var i=a(n[r]);o[i].references--}for(var u=s(e,t),l=0;l<n.length;l++){var c=a(n[l]);0===o[c].references&&(o[c].updater(),o.splice(c,1))}n=u}}}},288:e=>{e.exports='<svg viewBox="0 0 32 32" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421;"><path d="M17.094,18.048C15.976,18.956 14.551,19.5 13,19.5C9.413,19.5 6.5,16.587 6.5,13C6.5,9.413 9.413,6.5 13,6.5C16.587,6.5 19.5,9.413 19.5,13C19.5,14.522 18.976,15.923 18.098,17.031L19.553,18.487C20.094,17.958 20.962,17.962 21.498,18.498L25.522,22.522C26.062,23.062 26.062,23.938 25.522,24.478L24.519,25.481C23.98,26.02 23.103,26.02 22.563,25.481L18.539,21.457C18,20.917 18,20.041 18.539,19.501L18.543,19.497L17.094,18.048ZM13,8C15.76,8 18,10.24 18,13C18,15.76 15.76,18 13,18C10.24,18 8,15.76 8,13C8,10.24 10.24,8 13,8ZM13.927,11.886L15.927,11.886L15.927,13.886L13.927,13.886L13.927,15.886L11.927,15.886L11.927,13.886L9.927,13.886L9.927,11.886L11.927,11.886L11.927,9.886L13.927,9.886L13.927,11.886Z"></path></svg>'},716:e=>{e.exports='<svg viewBox="0 0 32 32" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421;"><path d="M17.094,18.048C15.976,18.956 14.551,19.5 13,19.5C9.413,19.5 6.5,16.587 6.5,13C6.5,9.413 9.413,6.5 13,6.5C16.587,6.5 19.5,9.413 19.5,13C19.5,14.522 18.976,15.923 18.098,17.031L19.553,18.487C20.094,17.958 20.962,17.962 21.498,18.498L25.522,22.522C26.062,23.062 26.062,23.938 25.522,24.478L24.519,25.481C23.98,26.02 23.103,26.02 22.563,25.481L18.539,21.457C18,20.917 18,20.041 18.539,19.501L18.543,19.497L17.094,18.048ZM13,8C15.76,8 18,10.24 18,13C18,15.76 15.76,18 13,18C10.24,18 8,15.76 8,13C8,10.24 10.24,8 13,8ZM9.927,11.886L15.927,11.886L15.927,13.886L9.927,13.886L9.927,11.886Z"></path></svg>'},757:(e,t,n)=>{var r={"./ZoomPluginsModule.js":459,"./es.upv.paella.zoomInButtonPlugin.js":392,"./es.upv.paella.zoomMenuButtonPlugin.js":410,"./es.upv.paella.zoomOutButtonPlugin.js":426,"./es.upv.paella.zoomPlugin.js":629};function i(e){var t=o(e);return n(t)}function o(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}i.keys=function(){return Object.keys(r)},i.resolve=o,e.exports=i,i.id=757},995:e=>{e.exports=n}},t={};function r(n){var i=t[n];if(void 0!==i)return i.exports;var o=t[n]={id:n,exports:{}};return e[n](o,o.exports,r),o.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var i={};return(()=>{function e(){return r(757)}r.r(i),r.d(i,{default:()=>e})})(),i})())})),Mn=Rn(jn),Fn=Ln((function(e,t){var n;self,e.exports=(n=Pn,(()=>{var e={263:(e,t,n)=>{function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t){return a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},a(e,t)}function s(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function u(e){return u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},u(e)}n.r(t),n.d(t,{default:()=>l});var l=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(c,e);var t,n,r,l=(n=c,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=u(n);if(r){var i=u(this).constructor;e=Reflect.construct(t,arguments,i)}else e=t.apply(this,arguments);return s(this,e)});function c(){return i(this,c),l.apply(this,arguments)}return(t=[{key:"moduleName",get:function(){return"paella-user-tracking"}},{key:"moduleVersion",get:function(){return"1.0.12"}}])&&o(c.prototype,t),c}(n(995).PluginModule)},561:(e,t,n)=>{function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function o(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function s(e){i(a,r,o,s,u,"next",e)}function u(e){i(a,r,o,s,u,"throw",e)}s(void 0)}))}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},u(e,t)}function l(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}n.r(t),n.d(t,{default:()=>f});var f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(h,e);var t,n,r,i,f,p,d=(f=h,p=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=c(f);if(p){var n=c(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return l(this,e)});function h(){return a(this,h),d.apply(this,arguments)}return t=h,n=[{key:"load",value:(i=o(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.config.trackingId,n=this.config.domain||"auto",t?(this.player.log.debug("Google Analytics Enabled"),function(e,t,n,r,i,o,a){e.GoogleAnalyticsObject=i,e[i]=e[i]||function(){(e[i].q=e[i].q||[]).push(arguments)},e[i].l=1*new Date,o=t.createElement(n),a=t.getElementsByTagName(n)[0],o.async=1,o.src="//www.google-analytics.com/analytics.js",a.parentNode.insertBefore(o,a)}(window,document,"script",0,"__gaTracker"),__gaTracker("create",t,n),__gaTracker("send","pageview")):this.player.log.debug("No Google Tracking ID found in config file. Disabling Google Analytics");case 3:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"write",value:(r=o(regeneratorRuntime.mark((function e(t,n,r){var i,o,a,s,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=n.id,void 0===this.config.category||!0===this.config.category){o=this.config.category||"PaellaPlayer",a=r.event,s={videoId:i,plugin:r.plugin};try{JSON.stringify(r.params),s.params=r.params}catch(e){}u=JSON.stringify(s),__gaTracker(" send","event",o,a,u)}case 2:case"end":return e.stop()}}),e,this)}))),function(e,t,n){return r.apply(this,arguments)})}],n&&s(t.prototype,n),h}(n(995).DataPlugin)},931:(e,t,n)=>{function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},s(e,t)}function u(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function l(e){return l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},l(e)}n.r(t),n.d(t,{default:()=>c});var c=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(h,e);var t,n,r,c,f,p,d=(f=h,p=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=l(f);if(p){var n=l(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return u(this,e)});function h(){return o(this,h),d.apply(this,arguments)}return t=h,n=[{key:"write",value:(r=regeneratorRuntime.mark((function e(t,n,r){var i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=n.id,console.log("id: ".concat(i),t,r);case 2:case"end":return e.stop()}}),e)})),c=function(){var e=this,t=arguments;return new Promise((function(n,o){var a=r.apply(e,t);function s(e){i(a,n,o,s,u,"next",e)}function u(e){i(a,n,o,s,u,"throw",e)}s(void 0)}))},function(e,t,n){return c.apply(this,arguments)})}],n&&a(t.prototype,n),h}(n(995).DataPlugin)},11:(e,t,n)=>{n.r(t),n.d(t,{default:()=>f});var r=n(995);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function o(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},u(e,t)}function l(e,t){if(t&&("object"===i(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}var f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(g,e);var t,n,i,f,p,d,h=(p=g,d=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=c(p);if(d){var n=c(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return l(this,e)});function g(){return a(this,g),h.apply(this,arguments)}return t=g,n=[{key:"events",get:function(){return[r.Events.PLAY,r.Events.PAUSE,r.Events.SEEK,r.Events.STOP,r.Events.ENDED,r.Events.FULLSCREEN_CHANGED,r.Events.VOLUME_CHANGED,r.Events.BUTTON_PRESS,r.Events.SHOW_POPUP,r.Events.HIDE_POPUP,r.Events.RESIZE_END]}},{key:"onEvent",value:(i=regeneratorRuntime.mark((function e(t,n){var i,o,a,s,u,l,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:switch(o=this.player.videoId,n.plugin&&(a=n.plugin,s=a.name,u=a.config,n.plugin={name:s,config:u}),l={event:t,params:n},t){case r.Events.SHOW_POPUP:case r.Events.HIDE_POPUP:case r.Events.BUTTON_PRESS:l.plugin=(null===(i=n.plugin)||void 0===i?void 0:i.name)||null}return c=this.config.context||"userTracking",e.next=7,this.player.data.write(c,{id:o},l);case 7:case"end":return e.stop()}}),e,this)})),f=function(){var e=this,t=arguments;return new Promise((function(n,r){var a=i.apply(e,t);function s(e){o(a,n,r,s,u,"next",e)}function u(e){o(a,n,r,s,u,"throw",e)}s(void 0)}))},function(e,t){return f.apply(this,arguments)})}],n&&s(t.prototype,n),g}(r.EventLogPlugin)},757:(e,t,n)=>{var r={"./UserTrackingPlugins.js":263,"./es.upv.paella.analytics.userTrackingDataPlugin.js":561,"./es.upv.paella.debug.userTrackingDataPlugin.js":931,"./es.upv.paella.userEventTracker.js":11};function i(e){var t=o(e);return n(t)}function o(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}i.keys=function(){return Object.keys(r)},i.resolve=o,e.exports=i,i.id=757},995:e=>{e.exports=n}},t={};function r(n){var i=t[n];if(void 0!==i)return i.exports;var o=t[n]={exports:{}};return e[n](o,o.exports,r),o.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var i={};return(()=>{function e(){return r(757)}r.r(i),r.d(i,{default:()=>e})})(),i})())})),Nn=Rn(Fn);function Un(t){let n;return{c(){n=A("div"),T(n,"id",t[0]),T(n,"class","player-container svelte-zojlxz")},m(e,t){y(e,n,t)},p(e,[t]){1&t&&T(n,"id",e[0])},i:e,o:e,d(e){e&&b(n)}}}function $n(e,t,n){let{videoId:r}=t,{containerId:i="player-container"}=t,{onVideoIdChanged:o}=t,{onPlay:a}=t;let s=null;return O((async()=>{const e={customPluginContext:[In(),Bn(),Mn(),Nn()],configResourcesUrl:"player-config/",configUrl:"player-config/config.json",getVideoId:(e,t)=>{const i=le("nextVideo");return""!==i?(n(1,r=i),o&&o(r),i):(r||n(1,r=Pn.getUrlParameter("id")),r)}};s=new Pn.Paella(i,e),s.loadManifest().then((()=>console.log("Done"))).catch((e=>console.error(e))),s.bindEvent(Pn.Events.PLAY,(()=>{"function"==typeof a&&a(s)}))})),I((async()=>{ue("nextVideo",""),s&&s.state===Pn.PlayerState.ERROR&&await s.unload(),!s||s.state!==Pn.PlayerState.LOADED&&s.state!=Pn.PlayerState.MANIFEST?s&&s.state===Pn.PlayerState.UNLOADED&&await s.load():(await s.unload(),await s.loadManifest())})),e.$$set=e=>{"videoId"in e&&n(1,r=e.videoId),"containerId"in e&&n(0,i=e.containerId),"onVideoIdChanged"in e&&n(2,o=e.onVideoIdChanged),"onPlay"in e&&n(3,a=e.onPlay)},[i,r,o,a,e=>{!s||s.state!==Pn.PlayerState.LOADING_MANIFEST&&s.state!==Pn.PlayerState.LOADING_PLAYER||(ue("nextVideo",e),location.reload())}]}class Hn extends se{constructor(e){super(),ae(this,e,$n,Un,a,{videoId:1,containerId:0,onVideoIdChanged:2,onPlay:3,cancelLoad:4})}get cancelLoad(){return this.$$.ctx[4]}}var Gn=Ln((function(e){(function(){function t(e){var t={omitExtraWLInCodeBlocks:{defaultValue:!1,describe:"Omit the default extra whiteline added to code blocks",type:"boolean"},noHeaderId:{defaultValue:!1,describe:"Turn on/off generated header id",type:"boolean"},prefixHeaderId:{defaultValue:!1,describe:"Add a prefix to the generated header ids. Passing a string will prefix that string to the header id. Setting to true will add a generic 'section-' prefix",type:"string"},rawPrefixHeaderId:{defaultValue:!1,describe:'Setting this option to true will prevent showdown from modifying the prefix. This might result in malformed IDs (if, for instance, the " char is used in the prefix)',type:"boolean"},ghCompatibleHeaderId:{defaultValue:!1,describe:"Generate header ids compatible with github style (spaces are replaced with dashes, a bunch of non alphanumeric chars are removed)",type:"boolean"},rawHeaderId:{defaultValue:!1,describe:"Remove only spaces, ' and \" from generated header ids (including prefixes), replacing them with dashes (-). WARNING: This might result in malformed ids",type:"boolean"},headerLevelStart:{defaultValue:!1,describe:"The header blocks level start",type:"integer"},parseImgDimensions:{defaultValue:!1,describe:"Turn on/off image dimension parsing",type:"boolean"},simplifiedAutoLink:{defaultValue:!1,describe:"Turn on/off GFM autolink style",type:"boolean"},excludeTrailingPunctuationFromURLs:{defaultValue:!1,describe:"Excludes trailing punctuation from links generated with autoLinking",type:"boolean"},literalMidWordUnderscores:{defaultValue:!1,describe:"Parse midword underscores as literal underscores",type:"boolean"},literalMidWordAsterisks:{defaultValue:!1,describe:"Parse midword asterisks as literal asterisks",type:"boolean"},strikethrough:{defaultValue:!1,describe:"Turn on/off strikethrough support",type:"boolean"},tables:{defaultValue:!1,describe:"Turn on/off tables support",type:"boolean"},tablesHeaderId:{defaultValue:!1,describe:"Add an id to table headers",type:"boolean"},ghCodeBlocks:{defaultValue:!0,describe:"Turn on/off GFM fenced code blocks support",type:"boolean"},tasklists:{defaultValue:!1,describe:"Turn on/off GFM tasklist support",type:"boolean"},smoothLivePreview:{defaultValue:!1,describe:"Prevents weird effects in live previews due to incomplete input",type:"boolean"},smartIndentationFix:{defaultValue:!1,describe:"Tries to smartly fix indentation in es6 strings",type:"boolean"},disableForced4SpacesIndentedSublists:{defaultValue:!1,describe:"Disables the requirement of indenting nested sublists by 4 spaces",type:"boolean"},simpleLineBreaks:{defaultValue:!1,describe:"Parses simple line breaks as <br> (GFM Style)",type:"boolean"},requireSpaceBeforeHeadingText:{defaultValue:!1,describe:"Makes adding a space between `#` and the header text mandatory (GFM Style)",type:"boolean"},ghMentions:{defaultValue:!1,describe:"Enables github @mentions",type:"boolean"},ghMentionsLink:{defaultValue:"https://github.com/{u}",describe:"Changes the link generated by @mentions. Only applies if ghMentions option is enabled.",type:"string"},encodeEmails:{defaultValue:!0,describe:"Encode e-mail addresses through the use of Character Entities, transforming ASCII e-mail addresses into its equivalent decimal entities",type:"boolean"},openLinksInNewWindow:{defaultValue:!1,describe:"Open all links in new windows",type:"boolean"},backslashEscapesHTMLTags:{defaultValue:!1,describe:"Support for HTML Tag escaping. ex: <div>foo</div>",type:"boolean"},emoji:{defaultValue:!1,describe:"Enable emoji support. Ex: `this is a :smile: emoji`",type:"boolean"},underline:{defaultValue:!1,describe:"Enable support for underline. Syntax is double or triple underscores: `__underline word__`. With this option enabled, underscores no longer parses into `<em>` and `<strong>`",type:"boolean"},ellipsis:{defaultValue:!0,describe:"Replaces three dots with the ellipsis unicode character",type:"boolean"},completeHTMLDocument:{defaultValue:!1,describe:"Outputs a complete html document, including `<html>`, `<head>` and `<body>` tags",type:"boolean"},metadata:{defaultValue:!1,describe:"Enable support for document metadata (defined at the top of the document between `«««` and `»»»` or between `---` and `---`).",type:"boolean"},splitAdjacentBlockquotes:{defaultValue:!1,describe:"Split adjacent blockquote blocks",type:"boolean"}};if(!1===e)return JSON.parse(JSON.stringify(t));var n={};for(var r in t)t.hasOwnProperty(r)&&(n[r]=t[r].defaultValue);return n}var n={},r={},i={},o=t(!0),a="vanilla",s={github:{omitExtraWLInCodeBlocks:!0,simplifiedAutoLink:!0,excludeTrailingPunctuationFromURLs:!0,literalMidWordUnderscores:!0,strikethrough:!0,tables:!0,tablesHeaderId:!0,ghCodeBlocks:!0,tasklists:!0,disableForced4SpacesIndentedSublists:!0,simpleLineBreaks:!0,requireSpaceBeforeHeadingText:!0,ghCompatibleHeaderId:!0,ghMentions:!0,backslashEscapesHTMLTags:!0,emoji:!0,splitAdjacentBlockquotes:!0},original:{noHeaderId:!0,ghCodeBlocks:!1},ghost:{omitExtraWLInCodeBlocks:!0,parseImgDimensions:!0,simplifiedAutoLink:!0,excludeTrailingPunctuationFromURLs:!0,literalMidWordUnderscores:!0,strikethrough:!0,tables:!0,tablesHeaderId:!0,ghCodeBlocks:!0,tasklists:!0,smoothLivePreview:!0,simpleLineBreaks:!0,requireSpaceBeforeHeadingText:!0,ghMentions:!1,encodeEmails:!0},vanilla:t(!0),allOn:function(){var e=t(!0),n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=!0);return n}()};function u(e,t){var r=t?"Error in "+t+" extension->":"Error in unnamed extension",i={valid:!0,error:""};n.helper.isArray(e)||(e=[e]);for(var o=0;o<e.length;++o){var a=r+" sub-extension "+o+": ",s=e[o];if("object"!=typeof s)return i.valid=!1,i.error=a+"must be an object, but "+typeof s+" given",i;if(!n.helper.isString(s.type))return i.valid=!1,i.error=a+'property "type" must be a string, but '+typeof s.type+" given",i;var u=s.type=s.type.toLowerCase();if("language"===u&&(u=s.type="lang"),"html"===u&&(u=s.type="output"),"lang"!==u&&"output"!==u&&"listener"!==u)return i.valid=!1,i.error=a+"type "+u+' is not recognized. Valid values: "lang/language", "output/html" or "listener"',i;if("listener"===u){if(n.helper.isUndefined(s.listeners))return i.valid=!1,i.error=a+'. Extensions of type "listener" must have a property called "listeners"',i}else if(n.helper.isUndefined(s.filter)&&n.helper.isUndefined(s.regex))return i.valid=!1,i.error=a+u+' extensions must define either a "regex" property or a "filter" method',i;if(s.listeners){if("object"!=typeof s.listeners)return i.valid=!1,i.error=a+'"listeners" property must be an object but '+typeof s.listeners+" given",i;for(var l in s.listeners)if(s.listeners.hasOwnProperty(l)&&"function"!=typeof s.listeners[l])return i.valid=!1,i.error=a+'"listeners" property must be an hash of [event name]: [callback]. listeners.'+l+" must be a function but "+typeof s.listeners[l]+" given",i}if(s.filter){if("function"!=typeof s.filter)return i.valid=!1,i.error=a+'"filter" must be a function, but '+typeof s.filter+" given",i}else if(s.regex){if(n.helper.isString(s.regex)&&(s.regex=new RegExp(s.regex,"g")),!(s.regex instanceof RegExp))return i.valid=!1,i.error=a+'"regex" property must either be a string or a RegExp object, but '+typeof s.regex+" given",i;if(n.helper.isUndefined(s.replace))return i.valid=!1,i.error=a+'"regex" extensions must implement a replace string or function',i}}return i}function l(e,t){return"¨E"+t.charCodeAt(0)+"E"}n.helper={},n.extensions={},n.setOption=function(e,t){return o[e]=t,this},n.getOption=function(e){return o[e]},n.getOptions=function(){return o},n.resetOptions=function(){o=t(!0)},n.setFlavor=function(e){if(!s.hasOwnProperty(e))throw Error(e+" flavor was not found");n.resetOptions();var t=s[e];for(var r in a=e,t)t.hasOwnProperty(r)&&(o[r]=t[r])},n.getFlavor=function(){return a},n.getFlavorOptions=function(e){if(s.hasOwnProperty(e))return s[e]},n.getDefaultOptions=function(e){return t(e)},n.subParser=function(e,t){if(n.helper.isString(e)){if(void 0===t){if(r.hasOwnProperty(e))return r[e];throw Error("SubParser named "+e+" not registered!")}r[e]=t}},n.extension=function(e,t){if(!n.helper.isString(e))throw Error("Extension 'name' must be a string");if(e=n.helper.stdExtName(e),n.helper.isUndefined(t)){if(!i.hasOwnProperty(e))throw Error("Extension named "+e+" is not registered!");return i[e]}"function"==typeof t&&(t=t()),n.helper.isArray(t)||(t=[t]);var r=u(t,e);if(!r.valid)throw Error(r.error);i[e]=t},n.getAllExtensions=function(){return i},n.removeExtension=function(e){delete i[e]},n.resetExtensions=function(){i={}},n.validateExtension=function(e){var t=u(e,null);return!!t.valid||(console.warn(t.error),!1)},n.hasOwnProperty("helper")||(n.helper={}),n.helper.isString=function(e){return"string"==typeof e||e instanceof String},n.helper.isFunction=function(e){return e&&"[object Function]"==={}.toString.call(e)},n.helper.isArray=function(e){return Array.isArray(e)},n.helper.isUndefined=function(e){return void 0===e},n.helper.forEach=function(e,t){if(n.helper.isUndefined(e))throw new Error("obj param is required");if(n.helper.isUndefined(t))throw new Error("callback param is required");if(!n.helper.isFunction(t))throw new Error("callback param must be a function/closure");if("function"==typeof e.forEach)e.forEach(t);else if(n.helper.isArray(e))for(var r=0;r<e.length;r++)t(e[r],r,e);else{if("object"!=typeof e)throw new Error("obj does not seem to be an array or an iterable object");for(var i in e)e.hasOwnProperty(i)&&t(e[i],i,e)}},n.helper.stdExtName=function(e){return e.replace(/[_?*+\/\\.^-]/g,"").replace(/\s/g,"").toLowerCase()},n.helper.escapeCharactersCallback=l,n.helper.escapeCharacters=function(e,t,n){var r="(["+t.replace(/([\[\]\\])/g,"\\$1")+"])";n&&(r="\\\\"+r);var i=new RegExp(r,"g");return e=e.replace(i,l)},n.helper.unescapeHTMLEntities=function(e){return e.replace(/&quot;/g,'"').replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")};var c=function(e,t,n,r){var i,o,a,s,u,l=r||"",c=l.indexOf("g")>-1,f=new RegExp(t+"|"+n,"g"+l.replace(/g/g,"")),p=new RegExp(t,l.replace(/g/g,"")),d=[];do{for(i=0;a=f.exec(e);)if(p.test(a[0]))i++||(s=(o=f.lastIndex)-a[0].length);else if(i&&!--i){u=a.index+a[0].length;var h={left:{start:s,end:o},match:{start:o,end:a.index},right:{start:a.index,end:u},wholeMatch:{start:s,end:u}};if(d.push(h),!c)return d}}while(i&&(f.lastIndex=o));return d};n.helper.matchRecursiveRegExp=function(e,t,n,r){for(var i=c(e,t,n,r),o=[],a=0;a<i.length;++a)o.push([e.slice(i[a].wholeMatch.start,i[a].wholeMatch.end),e.slice(i[a].match.start,i[a].match.end),e.slice(i[a].left.start,i[a].left.end),e.slice(i[a].right.start,i[a].right.end)]);return o},n.helper.replaceRecursiveRegExp=function(e,t,r,i,o){if(!n.helper.isFunction(t)){var a=t;t=function(){return a}}var s=c(e,r,i,o),u=e,l=s.length;if(l>0){var f=[];0!==s[0].wholeMatch.start&&f.push(e.slice(0,s[0].wholeMatch.start));for(var p=0;p<l;++p)f.push(t(e.slice(s[p].wholeMatch.start,s[p].wholeMatch.end),e.slice(s[p].match.start,s[p].match.end),e.slice(s[p].left.start,s[p].left.end),e.slice(s[p].right.start,s[p].right.end))),p<l-1&&f.push(e.slice(s[p].wholeMatch.end,s[p+1].wholeMatch.start));s[l-1].wholeMatch.end<e.length&&f.push(e.slice(s[l-1].wholeMatch.end)),u=f.join("")}return u},n.helper.regexIndexOf=function(e,t,r){if(!n.helper.isString(e))throw"InvalidArgumentError: first parameter of showdown.helper.regexIndexOf function must be a string";if(t instanceof RegExp==!1)throw"InvalidArgumentError: second parameter of showdown.helper.regexIndexOf function must be an instance of RegExp";var i=e.substring(r||0).search(t);return i>=0?i+(r||0):i},n.helper.splitAtIndex=function(e,t){if(!n.helper.isString(e))throw"InvalidArgumentError: first parameter of showdown.helper.regexIndexOf function must be a string";return[e.substring(0,t),e.substring(t)]},n.helper.encodeEmailAddress=function(e){var t=[function(e){return"&#"+e.charCodeAt(0)+";"},function(e){return"&#x"+e.charCodeAt(0).toString(16)+";"},function(e){return e}];return e=e.replace(/./g,(function(e){if("@"===e)e=t[Math.floor(2*Math.random())](e);else{var n=Math.random();e=n>.9?t[2](e):n>.45?t[1](e):t[0](e)}return e}))},n.helper.padEnd=function(e,t,n){return t>>=0,n=String(n||" "),e.length>t?String(e):((t-=e.length)>n.length&&(n+=n.repeat(t/n.length)),String(e)+n.slice(0,t))},"undefined"==typeof console&&(console={warn:function(e){alert(e)},log:function(e){alert(e)},error:function(e){throw e}}),n.helper.regexes={asteriskDashAndColon:/([*_:~])/g},n.helper.emojis={"+1":"👍","-1":"👎",100:"💯",1234:"🔢","1st_place_medal":"🥇","2nd_place_medal":"🥈","3rd_place_medal":"🥉","8ball":"🎱",a:"🅰️",ab:"🆎",abc:"🔤",abcd:"🔡",accept:"🉑",aerial_tramway:"🚡",airplane:"✈️",alarm_clock:"⏰",alembic:"⚗️",alien:"👽",ambulance:"🚑",amphora:"🏺",anchor:"⚓️",angel:"👼",anger:"💢",angry:"😠",anguished:"😧",ant:"🐜",apple:"🍎",aquarius:"♒️",aries:"♈️",arrow_backward:"◀️",arrow_double_down:"⏬",arrow_double_up:"⏫",arrow_down:"⬇️",arrow_down_small:"🔽",arrow_forward:"▶️",arrow_heading_down:"⤵️",arrow_heading_up:"⤴️",arrow_left:"⬅️",arrow_lower_left:"↙️",arrow_lower_right:"↘️",arrow_right:"➡️",arrow_right_hook:"↪️",arrow_up:"⬆️",arrow_up_down:"↕️",arrow_up_small:"🔼",arrow_upper_left:"↖️",arrow_upper_right:"↗️",arrows_clockwise:"🔃",arrows_counterclockwise:"🔄",art:"🎨",articulated_lorry:"🚛",artificial_satellite:"🛰",astonished:"😲",athletic_shoe:"👟",atm:"🏧",atom_symbol:"⚛️",avocado:"🥑",b:"🅱️",baby:"👶",baby_bottle:"🍼",baby_chick:"🐤",baby_symbol:"🚼",back:"🔙",bacon:"🥓",badminton:"🏸",baggage_claim:"🛄",baguette_bread:"🥖",balance_scale:"⚖️",balloon:"🎈",ballot_box:"🗳",ballot_box_with_check:"☑️",bamboo:"🎍",banana:"🍌",bangbang:"‼️",bank:"🏦",bar_chart:"📊",barber:"💈",baseball:"⚾️",basketball:"🏀",basketball_man:"⛹️",basketball_woman:"⛹️&zwj;♀️",bat:"🦇",bath:"🛀",bathtub:"🛁",battery:"🔋",beach_umbrella:"🏖",bear:"🐻",bed:"🛏",bee:"🐝",beer:"🍺",beers:"🍻",beetle:"🐞",beginner:"🔰",bell:"🔔",bellhop_bell:"🛎",bento:"🍱",biking_man:"🚴",bike:"🚲",biking_woman:"🚴&zwj;♀️",bikini:"👙",biohazard:"☣️",bird:"🐦",birthday:"🎂",black_circle:"⚫️",black_flag:"🏴",black_heart:"🖤",black_joker:"🃏",black_large_square:"⬛️",black_medium_small_square:"◾️",black_medium_square:"◼️",black_nib:"✒️",black_small_square:"▪️",black_square_button:"🔲",blonde_man:"👱",blonde_woman:"👱&zwj;♀️",blossom:"🌼",blowfish:"🐡",blue_book:"📘",blue_car:"🚙",blue_heart:"💙",blush:"😊",boar:"🐗",boat:"⛵️",bomb:"💣",book:"📖",bookmark:"🔖",bookmark_tabs:"📑",books:"📚",boom:"💥",boot:"👢",bouquet:"💐",bowing_man:"🙇",bow_and_arrow:"🏹",bowing_woman:"🙇&zwj;♀️",bowling:"🎳",boxing_glove:"🥊",boy:"👦",bread:"🍞",bride_with_veil:"👰",bridge_at_night:"🌉",briefcase:"💼",broken_heart:"💔",bug:"🐛",building_construction:"🏗",bulb:"💡",bullettrain_front:"🚅",bullettrain_side:"🚄",burrito:"🌯",bus:"🚌",business_suit_levitating:"🕴",busstop:"🚏",bust_in_silhouette:"👤",busts_in_silhouette:"👥",butterfly:"🦋",cactus:"🌵",cake:"🍰",calendar:"📆",call_me_hand:"🤙",calling:"📲",camel:"🐫",camera:"📷",camera_flash:"📸",camping:"🏕",cancer:"♋️",candle:"🕯",candy:"🍬",canoe:"🛶",capital_abcd:"🔠",capricorn:"♑️",car:"🚗",card_file_box:"🗃",card_index:"📇",card_index_dividers:"🗂",carousel_horse:"🎠",carrot:"🥕",cat:"🐱",cat2:"🐈",cd:"💿",chains:"⛓",champagne:"🍾",chart:"💹",chart_with_downwards_trend:"📉",chart_with_upwards_trend:"📈",checkered_flag:"🏁",cheese:"🧀",cherries:"🍒",cherry_blossom:"🌸",chestnut:"🌰",chicken:"🐔",children_crossing:"🚸",chipmunk:"🐿",chocolate_bar:"🍫",christmas_tree:"🎄",church:"⛪️",cinema:"🎦",circus_tent:"🎪",city_sunrise:"🌇",city_sunset:"🌆",cityscape:"🏙",cl:"🆑",clamp:"🗜",clap:"👏",clapper:"🎬",classical_building:"🏛",clinking_glasses:"🥂",clipboard:"📋",clock1:"🕐",clock10:"🕙",clock1030:"🕥",clock11:"🕚",clock1130:"🕦",clock12:"🕛",clock1230:"🕧",clock130:"🕜",clock2:"🕑",clock230:"🕝",clock3:"🕒",clock330:"🕞",clock4:"🕓",clock430:"🕟",clock5:"🕔",clock530:"🕠",clock6:"🕕",clock630:"🕡",clock7:"🕖",clock730:"🕢",clock8:"🕗",clock830:"🕣",clock9:"🕘",clock930:"🕤",closed_book:"📕",closed_lock_with_key:"🔐",closed_umbrella:"🌂",cloud:"☁️",cloud_with_lightning:"🌩",cloud_with_lightning_and_rain:"⛈",cloud_with_rain:"🌧",cloud_with_snow:"🌨",clown_face:"🤡",clubs:"♣️",cocktail:"🍸",coffee:"☕️",coffin:"⚰️",cold_sweat:"😰",comet:"☄️",computer:"💻",computer_mouse:"🖱",confetti_ball:"🎊",confounded:"😖",confused:"😕",congratulations:"㊗️",construction:"🚧",construction_worker_man:"👷",construction_worker_woman:"👷&zwj;♀️",control_knobs:"🎛",convenience_store:"🏪",cookie:"🍪",cool:"🆒",policeman:"👮",copyright:"©️",corn:"🌽",couch_and_lamp:"🛋",couple:"👫",couple_with_heart_woman_man:"💑",couple_with_heart_man_man:"👨&zwj;❤️&zwj;👨",couple_with_heart_woman_woman:"👩&zwj;❤️&zwj;👩",couplekiss_man_man:"👨&zwj;❤️&zwj;💋&zwj;👨",couplekiss_man_woman:"💏",couplekiss_woman_woman:"👩&zwj;❤️&zwj;💋&zwj;👩",cow:"🐮",cow2:"🐄",cowboy_hat_face:"🤠",crab:"🦀",crayon:"🖍",credit_card:"💳",crescent_moon:"🌙",cricket:"🏏",crocodile:"🐊",croissant:"🥐",crossed_fingers:"🤞",crossed_flags:"🎌",crossed_swords:"⚔️",crown:"👑",cry:"😢",crying_cat_face:"😿",crystal_ball:"🔮",cucumber:"🥒",cupid:"💘",curly_loop:"➰",currency_exchange:"💱",curry:"🍛",custard:"🍮",customs:"🛃",cyclone:"🌀",dagger:"🗡",dancer:"💃",dancing_women:"👯",dancing_men:"👯&zwj;♂️",dango:"🍡",dark_sunglasses:"🕶",dart:"🎯",dash:"💨",date:"📅",deciduous_tree:"🌳",deer:"🦌",department_store:"🏬",derelict_house:"🏚",desert:"🏜",desert_island:"🏝",desktop_computer:"🖥",male_detective:"🕵️",diamond_shape_with_a_dot_inside:"💠",diamonds:"♦️",disappointed:"😞",disappointed_relieved:"😥",dizzy:"💫",dizzy_face:"😵",do_not_litter:"🚯",dog:"🐶",dog2:"🐕",dollar:"💵",dolls:"🎎",dolphin:"🐬",door:"🚪",doughnut:"🍩",dove:"🕊",dragon:"🐉",dragon_face:"🐲",dress:"👗",dromedary_camel:"🐪",drooling_face:"🤤",droplet:"💧",drum:"🥁",duck:"🦆",dvd:"📀","e-mail":"📧",eagle:"🦅",ear:"👂",ear_of_rice:"🌾",earth_africa:"🌍",earth_americas:"🌎",earth_asia:"🌏",egg:"🥚",eggplant:"🍆",eight_pointed_black_star:"✴️",eight_spoked_asterisk:"✳️",electric_plug:"🔌",elephant:"🐘",email:"✉️",end:"🔚",envelope_with_arrow:"📩",euro:"💶",european_castle:"🏰",european_post_office:"🏤",evergreen_tree:"🌲",exclamation:"❗️",expressionless:"😑",eye:"👁",eye_speech_bubble:"👁&zwj;🗨",eyeglasses:"👓",eyes:"👀",face_with_head_bandage:"🤕",face_with_thermometer:"🤒",fist_oncoming:"👊",factory:"🏭",fallen_leaf:"🍂",family_man_woman_boy:"👪",family_man_boy:"👨&zwj;👦",family_man_boy_boy:"👨&zwj;👦&zwj;👦",family_man_girl:"👨&zwj;👧",family_man_girl_boy:"👨&zwj;👧&zwj;👦",family_man_girl_girl:"👨&zwj;👧&zwj;👧",family_man_man_boy:"👨&zwj;👨&zwj;👦",family_man_man_boy_boy:"👨&zwj;👨&zwj;👦&zwj;👦",family_man_man_girl:"👨&zwj;👨&zwj;👧",family_man_man_girl_boy:"👨&zwj;👨&zwj;👧&zwj;👦",family_man_man_girl_girl:"👨&zwj;👨&zwj;👧&zwj;👧",family_man_woman_boy_boy:"👨&zwj;👩&zwj;👦&zwj;👦",family_man_woman_girl:"👨&zwj;👩&zwj;👧",family_man_woman_girl_boy:"👨&zwj;👩&zwj;👧&zwj;👦",family_man_woman_girl_girl:"👨&zwj;👩&zwj;👧&zwj;👧",family_woman_boy:"👩&zwj;👦",family_woman_boy_boy:"👩&zwj;👦&zwj;👦",family_woman_girl:"👩&zwj;👧",family_woman_girl_boy:"👩&zwj;👧&zwj;👦",family_woman_girl_girl:"👩&zwj;👧&zwj;👧",family_woman_woman_boy:"👩&zwj;👩&zwj;👦",family_woman_woman_boy_boy:"👩&zwj;👩&zwj;👦&zwj;👦",family_woman_woman_girl:"👩&zwj;👩&zwj;👧",family_woman_woman_girl_boy:"👩&zwj;👩&zwj;👧&zwj;👦",family_woman_woman_girl_girl:"👩&zwj;👩&zwj;👧&zwj;👧",fast_forward:"⏩",fax:"📠",fearful:"😨",feet:"🐾",female_detective:"🕵️&zwj;♀️",ferris_wheel:"🎡",ferry:"⛴",field_hockey:"🏑",file_cabinet:"🗄",file_folder:"📁",film_projector:"📽",film_strip:"🎞",fire:"🔥",fire_engine:"🚒",fireworks:"🎆",first_quarter_moon:"🌓",first_quarter_moon_with_face:"🌛",fish:"🐟",fish_cake:"🍥",fishing_pole_and_fish:"🎣",fist_raised:"✊",fist_left:"🤛",fist_right:"🤜",flags:"🎏",flashlight:"🔦",fleur_de_lis:"⚜️",flight_arrival:"🛬",flight_departure:"🛫",floppy_disk:"💾",flower_playing_cards:"🎴",flushed:"😳",fog:"🌫",foggy:"🌁",football:"🏈",footprints:"👣",fork_and_knife:"🍴",fountain:"⛲️",fountain_pen:"🖋",four_leaf_clover:"🍀",fox_face:"🦊",framed_picture:"🖼",free:"🆓",fried_egg:"🍳",fried_shrimp:"🍤",fries:"🍟",frog:"🐸",frowning:"😦",frowning_face:"☹️",frowning_man:"🙍&zwj;♂️",frowning_woman:"🙍",middle_finger:"🖕",fuelpump:"⛽️",full_moon:"🌕",full_moon_with_face:"🌝",funeral_urn:"⚱️",game_die:"🎲",gear:"⚙️",gem:"💎",gemini:"♊️",ghost:"👻",gift:"🎁",gift_heart:"💝",girl:"👧",globe_with_meridians:"🌐",goal_net:"🥅",goat:"🐐",golf:"⛳️",golfing_man:"🏌️",golfing_woman:"🏌️&zwj;♀️",gorilla:"🦍",grapes:"🍇",green_apple:"🍏",green_book:"📗",green_heart:"💚",green_salad:"🥗",grey_exclamation:"❕",grey_question:"❔",grimacing:"😬",grin:"😁",grinning:"😀",guardsman:"💂",guardswoman:"💂&zwj;♀️",guitar:"🎸",gun:"🔫",haircut_woman:"💇",haircut_man:"💇&zwj;♂️",hamburger:"🍔",hammer:"🔨",hammer_and_pick:"⚒",hammer_and_wrench:"🛠",hamster:"🐹",hand:"✋",handbag:"👜",handshake:"🤝",hankey:"💩",hatched_chick:"🐥",hatching_chick:"🐣",headphones:"🎧",hear_no_evil:"🙉",heart:"❤️",heart_decoration:"💟",heart_eyes:"😍",heart_eyes_cat:"😻",heartbeat:"💓",heartpulse:"💗",hearts:"♥️",heavy_check_mark:"✔️",heavy_division_sign:"➗",heavy_dollar_sign:"💲",heavy_heart_exclamation:"❣️",heavy_minus_sign:"➖",heavy_multiplication_x:"✖️",heavy_plus_sign:"➕",helicopter:"🚁",herb:"🌿",hibiscus:"🌺",high_brightness:"🔆",high_heel:"👠",hocho:"🔪",hole:"🕳",honey_pot:"🍯",horse:"🐴",horse_racing:"🏇",hospital:"🏥",hot_pepper:"🌶",hotdog:"🌭",hotel:"🏨",hotsprings:"♨️",hourglass:"⌛️",hourglass_flowing_sand:"⏳",house:"🏠",house_with_garden:"🏡",houses:"🏘",hugs:"🤗",hushed:"😯",ice_cream:"🍨",ice_hockey:"🏒",ice_skate:"⛸",icecream:"🍦",id:"🆔",ideograph_advantage:"🉐",imp:"👿",inbox_tray:"📥",incoming_envelope:"📨",tipping_hand_woman:"💁",information_source:"ℹ️",innocent:"😇",interrobang:"⁉️",iphone:"📱",izakaya_lantern:"🏮",jack_o_lantern:"🎃",japan:"🗾",japanese_castle:"🏯",japanese_goblin:"👺",japanese_ogre:"👹",jeans:"👖",joy:"😂",joy_cat:"😹",joystick:"🕹",kaaba:"🕋",key:"🔑",keyboard:"⌨️",keycap_ten:"🔟",kick_scooter:"🛴",kimono:"👘",kiss:"💋",kissing:"😗",kissing_cat:"😽",kissing_closed_eyes:"😚",kissing_heart:"😘",kissing_smiling_eyes:"😙",kiwi_fruit:"🥝",koala:"🐨",koko:"🈁",label:"🏷",large_blue_circle:"🔵",large_blue_diamond:"🔷",large_orange_diamond:"🔶",last_quarter_moon:"🌗",last_quarter_moon_with_face:"🌜",latin_cross:"✝️",laughing:"😆",leaves:"🍃",ledger:"📒",left_luggage:"🛅",left_right_arrow:"↔️",leftwards_arrow_with_hook:"↩️",lemon:"🍋",leo:"♌️",leopard:"🐆",level_slider:"🎚",libra:"♎️",light_rail:"🚈",link:"🔗",lion:"🦁",lips:"👄",lipstick:"💄",lizard:"🦎",lock:"🔒",lock_with_ink_pen:"🔏",lollipop:"🍭",loop:"➿",loud_sound:"🔊",loudspeaker:"📢",love_hotel:"🏩",love_letter:"💌",low_brightness:"🔅",lying_face:"🤥",m:"Ⓜ️",mag:"🔍",mag_right:"🔎",mahjong:"🀄️",mailbox:"📫",mailbox_closed:"📪",mailbox_with_mail:"📬",mailbox_with_no_mail:"📭",man:"👨",man_artist:"👨&zwj;🎨",man_astronaut:"👨&zwj;🚀",man_cartwheeling:"🤸&zwj;♂️",man_cook:"👨&zwj;🍳",man_dancing:"🕺",man_facepalming:"🤦&zwj;♂️",man_factory_worker:"👨&zwj;🏭",man_farmer:"👨&zwj;🌾",man_firefighter:"👨&zwj;🚒",man_health_worker:"👨&zwj;⚕️",man_in_tuxedo:"🤵",man_judge:"👨&zwj;⚖️",man_juggling:"🤹&zwj;♂️",man_mechanic:"👨&zwj;🔧",man_office_worker:"👨&zwj;💼",man_pilot:"👨&zwj;✈️",man_playing_handball:"🤾&zwj;♂️",man_playing_water_polo:"🤽&zwj;♂️",man_scientist:"👨&zwj;🔬",man_shrugging:"🤷&zwj;♂️",man_singer:"👨&zwj;🎤",man_student:"👨&zwj;🎓",man_teacher:"👨&zwj;🏫",man_technologist:"👨&zwj;💻",man_with_gua_pi_mao:"👲",man_with_turban:"👳",tangerine:"🍊",mans_shoe:"👞",mantelpiece_clock:"🕰",maple_leaf:"🍁",martial_arts_uniform:"🥋",mask:"😷",massage_woman:"💆",massage_man:"💆&zwj;♂️",meat_on_bone:"🍖",medal_military:"🎖",medal_sports:"🏅",mega:"📣",melon:"🍈",memo:"📝",men_wrestling:"🤼&zwj;♂️",menorah:"🕎",mens:"🚹",metal:"🤘",metro:"🚇",microphone:"🎤",microscope:"🔬",milk_glass:"🥛",milky_way:"🌌",minibus:"🚐",minidisc:"💽",mobile_phone_off:"📴",money_mouth_face:"🤑",money_with_wings:"💸",moneybag:"💰",monkey:"🐒",monkey_face:"🐵",monorail:"🚝",moon:"🌔",mortar_board:"🎓",mosque:"🕌",motor_boat:"🛥",motor_scooter:"🛵",motorcycle:"🏍",motorway:"🛣",mount_fuji:"🗻",mountain:"⛰",mountain_biking_man:"🚵",mountain_biking_woman:"🚵&zwj;♀️",mountain_cableway:"🚠",mountain_railway:"🚞",mountain_snow:"🏔",mouse:"🐭",mouse2:"🐁",movie_camera:"🎥",moyai:"🗿",mrs_claus:"🤶",muscle:"💪",mushroom:"🍄",musical_keyboard:"🎹",musical_note:"🎵",musical_score:"🎼",mute:"🔇",nail_care:"💅",name_badge:"📛",national_park:"🏞",nauseated_face:"🤢",necktie:"👔",negative_squared_cross_mark:"❎",nerd_face:"🤓",neutral_face:"😐",new:"🆕",new_moon:"🌑",new_moon_with_face:"🌚",newspaper:"📰",newspaper_roll:"🗞",next_track_button:"⏭",ng:"🆖",no_good_man:"🙅&zwj;♂️",no_good_woman:"🙅",night_with_stars:"🌃",no_bell:"🔕",no_bicycles:"🚳",no_entry:"⛔️",no_entry_sign:"🚫",no_mobile_phones:"📵",no_mouth:"😶",no_pedestrians:"🚷",no_smoking:"🚭","non-potable_water":"🚱",nose:"👃",notebook:"📓",notebook_with_decorative_cover:"📔",notes:"🎶",nut_and_bolt:"🔩",o:"⭕️",o2:"🅾️",ocean:"🌊",octopus:"🐙",oden:"🍢",office:"🏢",oil_drum:"🛢",ok:"🆗",ok_hand:"👌",ok_man:"🙆&zwj;♂️",ok_woman:"🙆",old_key:"🗝",older_man:"👴",older_woman:"👵",om:"🕉",on:"🔛",oncoming_automobile:"🚘",oncoming_bus:"🚍",oncoming_police_car:"🚔",oncoming_taxi:"🚖",open_file_folder:"📂",open_hands:"👐",open_mouth:"😮",open_umbrella:"☂️",ophiuchus:"⛎",orange_book:"📙",orthodox_cross:"☦️",outbox_tray:"📤",owl:"🦉",ox:"🐂",package:"📦",page_facing_up:"📄",page_with_curl:"📃",pager:"📟",paintbrush:"🖌",palm_tree:"🌴",pancakes:"🥞",panda_face:"🐼",paperclip:"📎",paperclips:"🖇",parasol_on_ground:"⛱",parking:"🅿️",part_alternation_mark:"〽️",partly_sunny:"⛅️",passenger_ship:"🛳",passport_control:"🛂",pause_button:"⏸",peace_symbol:"☮️",peach:"🍑",peanuts:"🥜",pear:"🍐",pen:"🖊",pencil2:"✏️",penguin:"🐧",pensive:"😔",performing_arts:"🎭",persevere:"😣",person_fencing:"🤺",pouting_woman:"🙎",phone:"☎️",pick:"⛏",pig:"🐷",pig2:"🐖",pig_nose:"🐽",pill:"💊",pineapple:"🍍",ping_pong:"🏓",pisces:"♓️",pizza:"🍕",place_of_worship:"🛐",plate_with_cutlery:"🍽",play_or_pause_button:"⏯",point_down:"👇",point_left:"👈",point_right:"👉",point_up:"☝️",point_up_2:"👆",police_car:"🚓",policewoman:"👮&zwj;♀️",poodle:"🐩",popcorn:"🍿",post_office:"🏣",postal_horn:"📯",postbox:"📮",potable_water:"🚰",potato:"🥔",pouch:"👝",poultry_leg:"🍗",pound:"💷",rage:"😡",pouting_cat:"😾",pouting_man:"🙎&zwj;♂️",pray:"🙏",prayer_beads:"📿",pregnant_woman:"🤰",previous_track_button:"⏮",prince:"🤴",princess:"👸",printer:"🖨",purple_heart:"💜",purse:"👛",pushpin:"📌",put_litter_in_its_place:"🚮",question:"❓",rabbit:"🐰",rabbit2:"🐇",racehorse:"🐎",racing_car:"🏎",radio:"📻",radio_button:"🔘",radioactive:"☢️",railway_car:"🚃",railway_track:"🛤",rainbow:"🌈",rainbow_flag:"🏳️&zwj;🌈",raised_back_of_hand:"🤚",raised_hand_with_fingers_splayed:"🖐",raised_hands:"🙌",raising_hand_woman:"🙋",raising_hand_man:"🙋&zwj;♂️",ram:"🐏",ramen:"🍜",rat:"🐀",record_button:"⏺",recycle:"♻️",red_circle:"🔴",registered:"®️",relaxed:"☺️",relieved:"😌",reminder_ribbon:"🎗",repeat:"🔁",repeat_one:"🔂",rescue_worker_helmet:"⛑",restroom:"🚻",revolving_hearts:"💞",rewind:"⏪",rhinoceros:"🦏",ribbon:"🎀",rice:"🍚",rice_ball:"🍙",rice_cracker:"🍘",rice_scene:"🎑",right_anger_bubble:"🗯",ring:"💍",robot:"🤖",rocket:"🚀",rofl:"🤣",roll_eyes:"🙄",roller_coaster:"🎢",rooster:"🐓",rose:"🌹",rosette:"🏵",rotating_light:"🚨",round_pushpin:"📍",rowing_man:"🚣",rowing_woman:"🚣&zwj;♀️",rugby_football:"🏉",running_man:"🏃",running_shirt_with_sash:"🎽",running_woman:"🏃&zwj;♀️",sa:"🈂️",sagittarius:"♐️",sake:"🍶",sandal:"👡",santa:"🎅",satellite:"📡",saxophone:"🎷",school:"🏫",school_satchel:"🎒",scissors:"✂️",scorpion:"🦂",scorpius:"♏️",scream:"😱",scream_cat:"🙀",scroll:"📜",seat:"💺",secret:"㊙️",see_no_evil:"🙈",seedling:"🌱",selfie:"🤳",shallow_pan_of_food:"🥘",shamrock:"☘️",shark:"🦈",shaved_ice:"🍧",sheep:"🐑",shell:"🐚",shield:"🛡",shinto_shrine:"⛩",ship:"🚢",shirt:"👕",shopping:"🛍",shopping_cart:"🛒",shower:"🚿",shrimp:"🦐",signal_strength:"📶",six_pointed_star:"🔯",ski:"🎿",skier:"⛷",skull:"💀",skull_and_crossbones:"☠️",sleeping:"😴",sleeping_bed:"🛌",sleepy:"😪",slightly_frowning_face:"🙁",slightly_smiling_face:"🙂",slot_machine:"🎰",small_airplane:"🛩",small_blue_diamond:"🔹",small_orange_diamond:"🔸",small_red_triangle:"🔺",small_red_triangle_down:"🔻",smile:"😄",smile_cat:"😸",smiley:"😃",smiley_cat:"😺",smiling_imp:"😈",smirk:"😏",smirk_cat:"😼",smoking:"🚬",snail:"🐌",snake:"🐍",sneezing_face:"🤧",snowboarder:"🏂",snowflake:"❄️",snowman:"⛄️",snowman_with_snow:"☃️",sob:"😭",soccer:"⚽️",soon:"🔜",sos:"🆘",sound:"🔉",space_invader:"👾",spades:"♠️",spaghetti:"🍝",sparkle:"❇️",sparkler:"🎇",sparkles:"✨",sparkling_heart:"💖",speak_no_evil:"🙊",speaker:"🔈",speaking_head:"🗣",speech_balloon:"💬",speedboat:"🚤",spider:"🕷",spider_web:"🕸",spiral_calendar:"🗓",spiral_notepad:"🗒",spoon:"🥄",squid:"🦑",stadium:"🏟",star:"⭐️",star2:"🌟",star_and_crescent:"☪️",star_of_david:"✡️",stars:"🌠",station:"🚉",statue_of_liberty:"🗽",steam_locomotive:"🚂",stew:"🍲",stop_button:"⏹",stop_sign:"🛑",stopwatch:"⏱",straight_ruler:"📏",strawberry:"🍓",stuck_out_tongue:"😛",stuck_out_tongue_closed_eyes:"😝",stuck_out_tongue_winking_eye:"😜",studio_microphone:"🎙",stuffed_flatbread:"🥙",sun_behind_large_cloud:"🌥",sun_behind_rain_cloud:"🌦",sun_behind_small_cloud:"🌤",sun_with_face:"🌞",sunflower:"🌻",sunglasses:"😎",sunny:"☀️",sunrise:"🌅",sunrise_over_mountains:"🌄",surfing_man:"🏄",surfing_woman:"🏄&zwj;♀️",sushi:"🍣",suspension_railway:"🚟",sweat:"😓",sweat_drops:"💦",sweat_smile:"😅",sweet_potato:"🍠",swimming_man:"🏊",swimming_woman:"🏊&zwj;♀️",symbols:"🔣",synagogue:"🕍",syringe:"💉",taco:"🌮",tada:"🎉",tanabata_tree:"🎋",taurus:"♉️",taxi:"🚕",tea:"🍵",telephone_receiver:"📞",telescope:"🔭",tennis:"🎾",tent:"⛺️",thermometer:"🌡",thinking:"🤔",thought_balloon:"💭",ticket:"🎫",tickets:"🎟",tiger:"🐯",tiger2:"🐅",timer_clock:"⏲",tipping_hand_man:"💁&zwj;♂️",tired_face:"😫",tm:"™️",toilet:"🚽",tokyo_tower:"🗼",tomato:"🍅",tongue:"👅",top:"🔝",tophat:"🎩",tornado:"🌪",trackball:"🖲",tractor:"🚜",traffic_light:"🚥",train:"🚋",train2:"🚆",tram:"🚊",triangular_flag_on_post:"🚩",triangular_ruler:"📐",trident:"🔱",triumph:"😤",trolleybus:"🚎",trophy:"🏆",tropical_drink:"🍹",tropical_fish:"🐠",truck:"🚚",trumpet:"🎺",tulip:"🌷",tumbler_glass:"🥃",turkey:"🦃",turtle:"🐢",tv:"📺",twisted_rightwards_arrows:"🔀",two_hearts:"💕",two_men_holding_hands:"👬",two_women_holding_hands:"👭",u5272:"🈹",u5408:"🈴",u55b6:"🈺",u6307:"🈯️",u6708:"🈷️",u6709:"🈶",u6e80:"🈵",u7121:"🈚️",u7533:"🈸",u7981:"🈲",u7a7a:"🈳",umbrella:"☔️",unamused:"😒",underage:"🔞",unicorn:"🦄",unlock:"🔓",up:"🆙",upside_down_face:"🙃",v:"✌️",vertical_traffic_light:"🚦",vhs:"📼",vibration_mode:"📳",video_camera:"📹",video_game:"🎮",violin:"🎻",virgo:"♍️",volcano:"🌋",volleyball:"🏐",vs:"🆚",vulcan_salute:"🖖",walking_man:"🚶",walking_woman:"🚶&zwj;♀️",waning_crescent_moon:"🌘",waning_gibbous_moon:"🌖",warning:"⚠️",wastebasket:"🗑",watch:"⌚️",water_buffalo:"🐃",watermelon:"🍉",wave:"👋",wavy_dash:"〰️",waxing_crescent_moon:"🌒",wc:"🚾",weary:"😩",wedding:"💒",weight_lifting_man:"🏋️",weight_lifting_woman:"🏋️&zwj;♀️",whale:"🐳",whale2:"🐋",wheel_of_dharma:"☸️",wheelchair:"♿️",white_check_mark:"✅",white_circle:"⚪️",white_flag:"🏳️",white_flower:"💮",white_large_square:"⬜️",white_medium_small_square:"◽️",white_medium_square:"◻️",white_small_square:"▫️",white_square_button:"🔳",wilted_flower:"🥀",wind_chime:"🎐",wind_face:"🌬",wine_glass:"🍷",wink:"😉",wolf:"🐺",woman:"👩",woman_artist:"👩&zwj;🎨",woman_astronaut:"👩&zwj;🚀",woman_cartwheeling:"🤸&zwj;♀️",woman_cook:"👩&zwj;🍳",woman_facepalming:"🤦&zwj;♀️",woman_factory_worker:"👩&zwj;🏭",woman_farmer:"👩&zwj;🌾",woman_firefighter:"👩&zwj;🚒",woman_health_worker:"👩&zwj;⚕️",woman_judge:"👩&zwj;⚖️",woman_juggling:"🤹&zwj;♀️",woman_mechanic:"👩&zwj;🔧",woman_office_worker:"👩&zwj;💼",woman_pilot:"👩&zwj;✈️",woman_playing_handball:"🤾&zwj;♀️",woman_playing_water_polo:"🤽&zwj;♀️",woman_scientist:"👩&zwj;🔬",woman_shrugging:"🤷&zwj;♀️",woman_singer:"👩&zwj;🎤",woman_student:"👩&zwj;🎓",woman_teacher:"👩&zwj;🏫",woman_technologist:"👩&zwj;💻",woman_with_turban:"👳&zwj;♀️",womans_clothes:"👚",womans_hat:"👒",women_wrestling:"🤼&zwj;♀️",womens:"🚺",world_map:"🗺",worried:"😟",wrench:"🔧",writing_hand:"✍️",x:"❌",yellow_heart:"💛",yen:"💴",yin_yang:"☯️",yum:"😋",zap:"⚡️",zipper_mouth_face:"🤐",zzz:"💤",octocat:'<img alt=":octocat:" height="20" width="20" align="absmiddle" src="https://assets-cdn.github.com/images/icons/emoji/octocat.png">',showdown:"<span style=\"font-family: 'Anonymous Pro', monospace; text-decoration: underline; text-decoration-style: dashed; text-decoration-color: #3e8b8a;text-underline-position: under;\">S</span>"},n.Converter=function(e){var t={},r=[],l=[],c={},f=a,p={parsed:{},raw:"",format:""};function d(e,t){if(t=t||null,n.helper.isString(e)){if(t=e=n.helper.stdExtName(e),n.extensions[e])return console.warn("DEPRECATION WARNING: "+e+" is an old extension that uses a deprecated loading method.Please inform the developer that the extension should be updated!"),void function(e,t){"function"==typeof e&&(e=e(new n.Converter));n.helper.isArray(e)||(e=[e]);var i=u(e,t);if(!i.valid)throw Error(i.error);for(var o=0;o<e.length;++o)switch(e[o].type){case"lang":r.push(e[o]);break;case"output":l.push(e[o]);break;default:throw Error("Extension loader error: Type unrecognized!!!")}}(n.extensions[e],e);if(n.helper.isUndefined(i[e]))throw Error('Extension "'+e+'" could not be loaded. It was either not found or is not a valid extension.');e=i[e]}"function"==typeof e&&(e=e()),n.helper.isArray(e)||(e=[e]);var o=u(e,t);if(!o.valid)throw Error(o.error);for(var a=0;a<e.length;++a){switch(e[a].type){case"lang":r.push(e[a]);break;case"output":l.push(e[a])}if(e[a].hasOwnProperty("listeners"))for(var s in e[a].listeners)e[a].listeners.hasOwnProperty(s)&&h(s,e[a].listeners[s])}}function h(e,t){if(!n.helper.isString(e))throw Error("Invalid argument in converter.listen() method: name must be a string, but "+typeof e+" given");if("function"!=typeof t)throw Error("Invalid argument in converter.listen() method: callback must be a function, but "+typeof t+" given");c.hasOwnProperty(e)||(c[e]=[]),c[e].push(t)}!function(){for(var r in e=e||{},o)o.hasOwnProperty(r)&&(t[r]=o[r]);if("object"!=typeof e)throw Error("Converter expects the passed parameter to be an object, but "+typeof e+" was passed instead.");for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.extensions&&n.helper.forEach(t.extensions,d)}(),this._dispatch=function(e,t,n,r){if(c.hasOwnProperty(e))for(var i=0;i<c[e].length;++i){var o=c[e][i](e,t,this,n,r);o&&void 0!==o&&(t=o)}return t},this.listen=function(e,t){return h(e,t),this},this.makeHtml=function(e){if(!e)return e;var i={gHtmlBlocks:[],gHtmlMdBlocks:[],gHtmlSpans:[],gUrls:{},gTitles:{},gDimensions:{},gListLevel:0,hashLinkCounts:{},langExtensions:r,outputModifiers:l,converter:this,ghCodeBlocks:[],metadata:{parsed:{},raw:"",format:""}};return e=(e=(e=(e=(e=e.replace(/¨/g,"¨T")).replace(/\$/g,"¨D")).replace(/\r\n/g,"\n")).replace(/\r/g,"\n")).replace(/\u00A0/g,"&nbsp;"),t.smartIndentationFix&&(e=function(e){var t=e.match(/^\s*/)[0].length,n=new RegExp("^\\s{0,"+t+"}","gm");return e.replace(n,"")}(e)),e="\n\n"+e+"\n\n",e=(e=n.subParser("detab")(e,t,i)).replace(/^[ \t]+$/gm,""),n.helper.forEach(r,(function(r){e=n.subParser("runExtension")(r,e,t,i)})),e=n.subParser("metadata")(e,t,i),e=n.subParser("hashPreCodeTags")(e,t,i),e=n.subParser("githubCodeBlocks")(e,t,i),e=n.subParser("hashHTMLBlocks")(e,t,i),e=n.subParser("hashCodeTags")(e,t,i),e=n.subParser("stripLinkDefinitions")(e,t,i),e=n.subParser("blockGamut")(e,t,i),e=n.subParser("unhashHTMLSpans")(e,t,i),e=(e=(e=n.subParser("unescapeSpecialChars")(e,t,i)).replace(/¨D/g,"$$")).replace(/¨T/g,"¨"),e=n.subParser("completeHTMLDocument")(e,t,i),n.helper.forEach(l,(function(r){e=n.subParser("runExtension")(r,e,t,i)})),p=i.metadata,e},this.makeMarkdown=this.makeMd=function(e,t){if(e=(e=(e=e.replace(/\r\n/g,"\n")).replace(/\r/g,"\n")).replace(/>[ \t]+</,">¨NBSP;<"),!t){if(!window||!window.document)throw new Error("HTMLParser is undefined. If in a webworker or nodejs environment, you need to provide a WHATWG DOM and HTML such as JSDOM");t=window.document}var r=t.createElement("div");r.innerHTML=e;var i={preList:function(e){for(var t=e.querySelectorAll("pre"),r=[],i=0;i<t.length;++i)if(1===t[i].childElementCount&&"code"===t[i].firstChild.tagName.toLowerCase()){var o=t[i].firstChild.innerHTML.trim(),a=t[i].firstChild.getAttribute("data-language")||"";if(""===a)for(var s=t[i].firstChild.className.split(" "),u=0;u<s.length;++u){var l=s[u].match(/^language-(.+)$/);if(null!==l){a=l[1];break}}o=n.helper.unescapeHTMLEntities(o),r.push(o),t[i].outerHTML='<precode language="'+a+'" precodenum="'+i.toString()+'"></precode>'}else r.push(t[i].innerHTML),t[i].innerHTML="",t[i].setAttribute("prenum",i.toString());return r}(r)};!function e(t){for(var n=0;n<t.childNodes.length;++n){var r=t.childNodes[n];3===r.nodeType?/\S/.test(r.nodeValue)||/^[ ]+$/.test(r.nodeValue)?(r.nodeValue=r.nodeValue.split("\n").join(" "),r.nodeValue=r.nodeValue.replace(/(\s)+/g,"$1")):(t.removeChild(r),--n):1===r.nodeType&&e(r)}}(r);for(var o=r.childNodes,a="",s=0;s<o.length;s++)a+=n.subParser("makeMarkdown.node")(o[s],i);return a},this.setOption=function(e,n){t[e]=n},this.getOption=function(e){return t[e]},this.getOptions=function(){return t},this.addExtension=function(e,t){d(e,t=t||null)},this.useExtension=function(e){d(e)},this.setFlavor=function(e){if(!s.hasOwnProperty(e))throw Error(e+" flavor was not found");var n=s[e];for(var r in f=e,n)n.hasOwnProperty(r)&&(t[r]=n[r])},this.getFlavor=function(){return f},this.removeExtension=function(e){n.helper.isArray(e)||(e=[e]);for(var t=0;t<e.length;++t){for(var i=e[t],o=0;o<r.length;++o)r[o]===i&&r.splice(o,1);for(var a=0;a<l.length;++a)l[a]===i&&l.splice(a,1)}},this.getAllExtensions=function(){return{language:r,output:l}},this.getMetadata=function(e){return e?p.raw:p.parsed},this.getMetadataFormat=function(){return p.format},this._setMetadataPair=function(e,t){p.parsed[e]=t},this._setMetadataFormat=function(e){p.format=e},this._setMetadataRaw=function(e){p.raw=e}},n.subParser("anchors",(function(e,t,r){var i=function(e,i,o,a,s,u,l){if(n.helper.isUndefined(l)&&(l=""),o=o.toLowerCase(),e.search(/\(<?\s*>? ?(['"].*['"])?\)$/m)>-1)a="";else if(!a){if(o||(o=i.toLowerCase().replace(/ ?\n/g," ")),a="#"+o,n.helper.isUndefined(r.gUrls[o]))return e;a=r.gUrls[o],n.helper.isUndefined(r.gTitles[o])||(l=r.gTitles[o])}var c='<a href="'+(a=a.replace(n.helper.regexes.asteriskDashAndColon,n.helper.escapeCharactersCallback))+'"';return""!==l&&null!==l&&(c+=' title="'+(l=(l=l.replace(/"/g,"&quot;")).replace(n.helper.regexes.asteriskDashAndColon,n.helper.escapeCharactersCallback))+'"'),t.openLinksInNewWindow&&!/^#/.test(a)&&(c+=' rel="noopener noreferrer" target="¨E95Eblank"'),c+=">"+i+"</a>"};return e=(e=(e=(e=(e=r.converter._dispatch("anchors.before",e,t,r)).replace(/\[((?:\[[^\]]*]|[^\[\]])*)] ?(?:\n *)?\[(.*?)]()()()()/g,i)).replace(/\[((?:\[[^\]]*]|[^\[\]])*)]()[ \t]*\([ \t]?<([^>]*)>(?:[ \t]*((["'])([^"]*?)\5))?[ \t]?\)/g,i)).replace(/\[((?:\[[^\]]*]|[^\[\]])*)]()[ \t]*\([ \t]?<?([\S]+?(?:\([\S]*?\)[\S]*?)?)>?(?:[ \t]*((["'])([^"]*?)\5))?[ \t]?\)/g,i)).replace(/\[([^\[\]]+)]()()()()()/g,i),t.ghMentions&&(e=e.replace(/(^|\s)(\\)?(@([a-z\d]+(?:[a-z\d.-]+?[a-z\d]+)*))/gim,(function(e,r,i,o,a){if("\\"===i)return r+o;if(!n.helper.isString(t.ghMentionsLink))throw new Error("ghMentionsLink option must be a string");var s=t.ghMentionsLink.replace(/\{u}/g,a),u="";return t.openLinksInNewWindow&&(u=' rel="noopener noreferrer" target="¨E95Eblank"'),r+'<a href="'+s+'"'+u+">"+o+"</a>"}))),e=r.converter._dispatch("anchors.after",e,t,r)}));var f=/([*~_]+|\b)(((https?|ftp|dict):\/\/|www\.)[^'">\s]+?\.[^'">\s]+?)()(\1)?(?=\s|$)(?!["<>])/gi,p=/([*~_]+|\b)(((https?|ftp|dict):\/\/|www\.)[^'">\s]+\.[^'">\s]+?)([.!?,()\[\]])?(\1)?(?=\s|$)(?!["<>])/gi,d=/()<(((https?|ftp|dict):\/\/|www\.)[^'">\s]+)()>()/gi,h=/(^|\s)(?:mailto:)?([A-Za-z0-9!#$%&'*+-/=?^_`{|}~.]+@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)(?=$|\s)/gim,g=/<()(?:mailto:)?([-.\w]+@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)>/gi,m=function(e){return function(t,r,i,o,a,s,u){var l=i=i.replace(n.helper.regexes.asteriskDashAndColon,n.helper.escapeCharactersCallback),c="",f="",p=r||"",d=u||"";return/^www\./i.test(i)&&(i=i.replace(/^www\./i,"http://www.")),e.excludeTrailingPunctuationFromURLs&&s&&(c=s),e.openLinksInNewWindow&&(f=' rel="noopener noreferrer" target="¨E95Eblank"'),p+'<a href="'+i+'"'+f+">"+l+"</a>"+c+d}},v=function(e,t){return function(r,i,o){var a="mailto:";return i=i||"",o=n.subParser("unescapeSpecialChars")(o,e,t),e.encodeEmails?(a=n.helper.encodeEmailAddress(a+o),o=n.helper.encodeEmailAddress(o)):a+=o,i+'<a href="'+a+'">'+o+"</a>"}};n.subParser("autoLinks",(function(e,t,n){return e=(e=(e=n.converter._dispatch("autoLinks.before",e,t,n)).replace(d,m(t))).replace(g,v(t,n)),e=n.converter._dispatch("autoLinks.after",e,t,n)})),n.subParser("simplifiedAutoLinks",(function(e,t,n){return t.simplifiedAutoLink?(e=n.converter._dispatch("simplifiedAutoLinks.before",e,t,n),e=(e=t.excludeTrailingPunctuationFromURLs?e.replace(p,m(t)):e.replace(f,m(t))).replace(h,v(t,n)),e=n.converter._dispatch("simplifiedAutoLinks.after",e,t,n)):e})),n.subParser("blockGamut",(function(e,t,r){return e=r.converter._dispatch("blockGamut.before",e,t,r),e=n.subParser("blockQuotes")(e,t,r),e=n.subParser("headers")(e,t,r),e=n.subParser("horizontalRule")(e,t,r),e=n.subParser("lists")(e,t,r),e=n.subParser("codeBlocks")(e,t,r),e=n.subParser("tables")(e,t,r),e=n.subParser("hashHTMLBlocks")(e,t,r),e=n.subParser("paragraphs")(e,t,r),e=r.converter._dispatch("blockGamut.after",e,t,r)})),n.subParser("blockQuotes",(function(e,t,r){e=r.converter._dispatch("blockQuotes.before",e,t,r),e+="\n\n";var i=/(^ {0,3}>[ \t]?.+\n(.+\n)*\n*)+/gm;return t.splitAdjacentBlockquotes&&(i=/^ {0,3}>[\s\S]*?(?:\n\n)/gm),e=e.replace(i,(function(e){return e=(e=(e=e.replace(/^[ \t]*>[ \t]?/gm,"")).replace(/¨0/g,"")).replace(/^[ \t]+$/gm,""),e=n.subParser("githubCodeBlocks")(e,t,r),e=(e=(e=n.subParser("blockGamut")(e,t,r)).replace(/(^|\n)/g,"$1  ")).replace(/(\s*<pre>[^\r]+?<\/pre>)/gm,(function(e,t){var n=t;return n=(n=n.replace(/^  /gm,"¨0")).replace(/¨0/g,"")})),n.subParser("hashBlock")("<blockquote>\n"+e+"\n</blockquote>",t,r)})),e=r.converter._dispatch("blockQuotes.after",e,t,r)})),n.subParser("codeBlocks",(function(e,t,r){e=r.converter._dispatch("codeBlocks.before",e,t,r);return e=(e=(e+="¨0").replace(/(?:\n\n|^)((?:(?:[ ]{4}|\t).*\n+)+)(\n*[ ]{0,3}[^ \t\n]|(?=¨0))/g,(function(e,i,o){var a=i,s=o,u="\n";return a=n.subParser("outdent")(a,t,r),a=n.subParser("encodeCode")(a,t,r),a=(a=(a=n.subParser("detab")(a,t,r)).replace(/^\n+/g,"")).replace(/\n+$/g,""),t.omitExtraWLInCodeBlocks&&(u=""),a="<pre><code>"+a+u+"</code></pre>",n.subParser("hashBlock")(a,t,r)+s}))).replace(/¨0/,""),e=r.converter._dispatch("codeBlocks.after",e,t,r)})),n.subParser("codeSpans",(function(e,t,r){return void 0===(e=r.converter._dispatch("codeSpans.before",e,t,r))&&(e=""),e=e.replace(/(^|[^\\])(`+)([^\r]*?[^`])\2(?!`)/gm,(function(e,i,o,a){var s=a;return s=(s=s.replace(/^([ \t]*)/g,"")).replace(/[ \t]*$/g,""),s=i+"<code>"+(s=n.subParser("encodeCode")(s,t,r))+"</code>",s=n.subParser("hashHTMLSpans")(s,t,r)})),e=r.converter._dispatch("codeSpans.after",e,t,r)})),n.subParser("completeHTMLDocument",(function(e,t,n){if(!t.completeHTMLDocument)return e;e=n.converter._dispatch("completeHTMLDocument.before",e,t,n);var r="html",i="<!DOCTYPE HTML>\n",o="",a='<meta charset="utf-8">\n',s="",u="";for(var l in void 0!==n.metadata.parsed.doctype&&(i="<!DOCTYPE "+n.metadata.parsed.doctype+">\n","html"!==(r=n.metadata.parsed.doctype.toString().toLowerCase())&&"html5"!==r||(a='<meta charset="utf-8">')),n.metadata.parsed)if(n.metadata.parsed.hasOwnProperty(l))switch(l.toLowerCase()){case"doctype":break;case"title":o="<title>"+n.metadata.parsed.title+"</title>\n";break;case"charset":a="html"===r||"html5"===r?'<meta charset="'+n.metadata.parsed.charset+'">\n':'<meta name="charset" content="'+n.metadata.parsed.charset+'">\n';break;case"language":case"lang":s=' lang="'+n.metadata.parsed[l]+'"',u+='<meta name="'+l+'" content="'+n.metadata.parsed[l]+'">\n';break;default:u+='<meta name="'+l+'" content="'+n.metadata.parsed[l]+'">\n'}return e=i+"<html"+s+">\n<head>\n"+o+a+u+"</head>\n<body>\n"+e.trim()+"\n</body>\n</html>",e=n.converter._dispatch("completeHTMLDocument.after",e,t,n)})),n.subParser("detab",(function(e,t,n){return e=(e=(e=(e=(e=(e=n.converter._dispatch("detab.before",e,t,n)).replace(/\t(?=\t)/g,"    ")).replace(/\t/g,"¨A¨B")).replace(/¨B(.+?)¨A/g,(function(e,t){for(var n=t,r=4-n.length%4,i=0;i<r;i++)n+=" ";return n}))).replace(/¨A/g,"    ")).replace(/¨B/g,""),e=n.converter._dispatch("detab.after",e,t,n)})),n.subParser("ellipsis",(function(e,t,n){return t.ellipsis?(e=(e=n.converter._dispatch("ellipsis.before",e,t,n)).replace(/\.\.\./g,"…"),e=n.converter._dispatch("ellipsis.after",e,t,n)):e})),n.subParser("emoji",(function(e,t,r){if(!t.emoji)return e;return e=(e=r.converter._dispatch("emoji.before",e,t,r)).replace(/:([\S]+?):/g,(function(e,t){return n.helper.emojis.hasOwnProperty(t)?n.helper.emojis[t]:e})),e=r.converter._dispatch("emoji.after",e,t,r)})),n.subParser("encodeAmpsAndAngles",(function(e,t,n){return e=(e=(e=(e=(e=n.converter._dispatch("encodeAmpsAndAngles.before",e,t,n)).replace(/&(?!#?[xX]?(?:[0-9a-fA-F]+|\w+);)/g,"&amp;")).replace(/<(?![a-z\/?$!])/gi,"&lt;")).replace(/</g,"&lt;")).replace(/>/g,"&gt;"),e=n.converter._dispatch("encodeAmpsAndAngles.after",e,t,n)})),n.subParser("encodeBackslashEscapes",(function(e,t,r){return e=(e=(e=r.converter._dispatch("encodeBackslashEscapes.before",e,t,r)).replace(/\\(\\)/g,n.helper.escapeCharactersCallback)).replace(/\\([`*_{}\[\]()>#+.!~=|:-])/g,n.helper.escapeCharactersCallback),e=r.converter._dispatch("encodeBackslashEscapes.after",e,t,r)})),n.subParser("encodeCode",(function(e,t,r){return e=(e=r.converter._dispatch("encodeCode.before",e,t,r)).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/([*_{}\[\]\\=~-])/g,n.helper.escapeCharactersCallback),e=r.converter._dispatch("encodeCode.after",e,t,r)})),n.subParser("escapeSpecialCharsWithinTagAttributes",(function(e,t,r){return e=(e=(e=r.converter._dispatch("escapeSpecialCharsWithinTagAttributes.before",e,t,r)).replace(/<\/?[a-z\d_:-]+(?:[\s]+[\s\S]+?)?>/gi,(function(e){return e.replace(/(.)<\/?code>(?=.)/g,"$1`").replace(/([\\`*_~=|])/g,n.helper.escapeCharactersCallback)}))).replace(/<!(--(?:(?:[^>-]|-[^>])(?:[^-]|-[^-])*)--)>/gi,(function(e){return e.replace(/([\\`*_~=|])/g,n.helper.escapeCharactersCallback)})),e=r.converter._dispatch("escapeSpecialCharsWithinTagAttributes.after",e,t,r)})),n.subParser("githubCodeBlocks",(function(e,t,r){return t.ghCodeBlocks?(e=r.converter._dispatch("githubCodeBlocks.before",e,t,r),e=(e=(e+="¨0").replace(/(?:^|\n)(?: {0,3})(```+|~~~+)(?: *)([^\s`~]*)\n([\s\S]*?)\n(?: {0,3})\1/g,(function(e,i,o,a){var s=t.omitExtraWLInCodeBlocks?"":"\n";return a=n.subParser("encodeCode")(a,t,r),a="<pre><code"+(o?' class="'+o+" language-"+o+'"':"")+">"+(a=(a=(a=n.subParser("detab")(a,t,r)).replace(/^\n+/g,"")).replace(/\n+$/g,""))+s+"</code></pre>",a=n.subParser("hashBlock")(a,t,r),"\n\n¨G"+(r.ghCodeBlocks.push({text:e,codeblock:a})-1)+"G\n\n"}))).replace(/¨0/,""),r.converter._dispatch("githubCodeBlocks.after",e,t,r)):e})),n.subParser("hashBlock",(function(e,t,n){return e=(e=n.converter._dispatch("hashBlock.before",e,t,n)).replace(/(^\n+|\n+$)/g,""),e="\n\n¨K"+(n.gHtmlBlocks.push(e)-1)+"K\n\n",e=n.converter._dispatch("hashBlock.after",e,t,n)})),n.subParser("hashCodeTags",(function(e,t,r){e=r.converter._dispatch("hashCodeTags.before",e,t,r);return e=n.helper.replaceRecursiveRegExp(e,(function(e,i,o,a){var s=o+n.subParser("encodeCode")(i,t,r)+a;return"¨C"+(r.gHtmlSpans.push(s)-1)+"C"}),"<code\\b[^>]*>","</code>","gim"),e=r.converter._dispatch("hashCodeTags.after",e,t,r)})),n.subParser("hashElement",(function(e,t,n){return function(e,t){var r=t;return r=(r=(r=r.replace(/\n\n/g,"\n")).replace(/^\n/,"")).replace(/\n+$/g,""),r="\n\n¨K"+(n.gHtmlBlocks.push(r)-1)+"K\n\n"}})),n.subParser("hashHTMLBlocks",(function(e,t,r){e=r.converter._dispatch("hashHTMLBlocks.before",e,t,r);var i=["pre","div","h1","h2","h3","h4","h5","h6","blockquote","table","dl","ol","ul","script","noscript","form","fieldset","iframe","math","style","section","header","footer","nav","article","aside","address","audio","canvas","figure","hgroup","output","video","p"],o=function(e,t,n,i){var o=e;return-1!==n.search(/\bmarkdown\b/)&&(o=n+r.converter.makeHtml(t)+i),"\n\n¨K"+(r.gHtmlBlocks.push(o)-1)+"K\n\n"};t.backslashEscapesHTMLTags&&(e=e.replace(/\\<(\/?[^>]+?)>/g,(function(e,t){return"&lt;"+t+"&gt;"})));for(var a=0;a<i.length;++a)for(var s,u=new RegExp("^ {0,3}(<"+i[a]+"\\b[^>]*>)","im"),l="<"+i[a]+"\\b[^>]*>",c="</"+i[a]+">";-1!==(s=n.helper.regexIndexOf(e,u));){var f=n.helper.splitAtIndex(e,s),p=n.helper.replaceRecursiveRegExp(f[1],o,l,c,"im");if(p===f[1])break;e=f[0].concat(p)}return e=e.replace(/(\n {0,3}(<(hr)\b([^<>])*?\/?>)[ \t]*(?=\n{2,}))/g,n.subParser("hashElement")(e,t,r)),e=(e=n.helper.replaceRecursiveRegExp(e,(function(e){return"\n\n¨K"+(r.gHtmlBlocks.push(e)-1)+"K\n\n"}),"^ {0,3}\x3c!--","--\x3e","gm")).replace(/(?:\n\n)( {0,3}(?:<([?%])[^\r]*?\2>)[ \t]*(?=\n{2,}))/g,n.subParser("hashElement")(e,t,r)),e=r.converter._dispatch("hashHTMLBlocks.after",e,t,r)})),n.subParser("hashHTMLSpans",(function(e,t,n){function r(e){return"¨C"+(n.gHtmlSpans.push(e)-1)+"C"}return e=(e=(e=(e=(e=n.converter._dispatch("hashHTMLSpans.before",e,t,n)).replace(/<[^>]+?\/>/gi,(function(e){return r(e)}))).replace(/<([^>]+?)>[\s\S]*?<\/\1>/g,(function(e){return r(e)}))).replace(/<([^>]+?)\s[^>]+?>[\s\S]*?<\/\1>/g,(function(e){return r(e)}))).replace(/<[^>]+?>/gi,(function(e){return r(e)})),e=n.converter._dispatch("hashHTMLSpans.after",e,t,n)})),n.subParser("unhashHTMLSpans",(function(e,t,n){e=n.converter._dispatch("unhashHTMLSpans.before",e,t,n);for(var r=0;r<n.gHtmlSpans.length;++r){for(var i=n.gHtmlSpans[r],o=0;/¨C(\d+)C/.test(i);){var a=RegExp.$1;if(i=i.replace("¨C"+a+"C",n.gHtmlSpans[a]),10===o){console.error("maximum nesting of 10 spans reached!!!");break}++o}e=e.replace("¨C"+r+"C",i)}return e=n.converter._dispatch("unhashHTMLSpans.after",e,t,n)})),n.subParser("hashPreCodeTags",(function(e,t,r){e=r.converter._dispatch("hashPreCodeTags.before",e,t,r);return e=n.helper.replaceRecursiveRegExp(e,(function(e,i,o,a){var s=o+n.subParser("encodeCode")(i,t,r)+a;return"\n\n¨G"+(r.ghCodeBlocks.push({text:e,codeblock:s})-1)+"G\n\n"}),"^ {0,3}<pre\\b[^>]*>\\s*<code\\b[^>]*>","^ {0,3}</code>\\s*</pre>","gim"),e=r.converter._dispatch("hashPreCodeTags.after",e,t,r)})),n.subParser("headers",(function(e,t,r){e=r.converter._dispatch("headers.before",e,t,r);var i=isNaN(parseInt(t.headerLevelStart))?1:parseInt(t.headerLevelStart),o=t.smoothLivePreview?/^(.+)[ \t]*\n={2,}[ \t]*\n+/gm:/^(.+)[ \t]*\n=+[ \t]*\n+/gm,a=t.smoothLivePreview?/^(.+)[ \t]*\n-{2,}[ \t]*\n+/gm:/^(.+)[ \t]*\n-+[ \t]*\n+/gm;e=(e=e.replace(o,(function(e,o){var a=n.subParser("spanGamut")(o,t,r),s=t.noHeaderId?"":' id="'+u(o)+'"',l="<h"+i+s+">"+a+"</h"+i+">";return n.subParser("hashBlock")(l,t,r)}))).replace(a,(function(e,o){var a=n.subParser("spanGamut")(o,t,r),s=t.noHeaderId?"":' id="'+u(o)+'"',l=i+1,c="<h"+l+s+">"+a+"</h"+l+">";return n.subParser("hashBlock")(c,t,r)}));var s=t.requireSpaceBeforeHeadingText?/^(#{1,6})[ \t]+(.+?)[ \t]*#*\n+/gm:/^(#{1,6})[ \t]*(.+?)[ \t]*#*\n+/gm;function u(e){var i,o;if(t.customizedHeaderId){var a=e.match(/\{([^{]+?)}\s*$/);a&&a[1]&&(e=a[1])}return i=e,o=n.helper.isString(t.prefixHeaderId)?t.prefixHeaderId:!0===t.prefixHeaderId?"section-":"",t.rawPrefixHeaderId||(i=o+i),i=t.ghCompatibleHeaderId?i.replace(/ /g,"-").replace(/&amp;/g,"").replace(/¨T/g,"").replace(/¨D/g,"").replace(/[&+$,\/:;=?@"#{}|^¨~\[\]`\\*)(%.!'<>]/g,"").toLowerCase():t.rawHeaderId?i.replace(/ /g,"-").replace(/&amp;/g,"&").replace(/¨T/g,"¨").replace(/¨D/g,"$").replace(/["']/g,"-").toLowerCase():i.replace(/[^\w]/g,"").toLowerCase(),t.rawPrefixHeaderId&&(i=o+i),r.hashLinkCounts[i]?i=i+"-"+r.hashLinkCounts[i]++:r.hashLinkCounts[i]=1,i}return e=e.replace(s,(function(e,o,a){var s=a;t.customizedHeaderId&&(s=a.replace(/\s?\{([^{]+?)}\s*$/,""));var l=n.subParser("spanGamut")(s,t,r),c=t.noHeaderId?"":' id="'+u(a)+'"',f=i-1+o.length,p="<h"+f+c+">"+l+"</h"+f+">";return n.subParser("hashBlock")(p,t,r)})),e=r.converter._dispatch("headers.after",e,t,r)})),n.subParser("horizontalRule",(function(e,t,r){e=r.converter._dispatch("horizontalRule.before",e,t,r);var i=n.subParser("hashBlock")("<hr />",t,r);return e=(e=(e=e.replace(/^ {0,2}( ?-){3,}[ \t]*$/gm,i)).replace(/^ {0,2}( ?\*){3,}[ \t]*$/gm,i)).replace(/^ {0,2}( ?_){3,}[ \t]*$/gm,i),e=r.converter._dispatch("horizontalRule.after",e,t,r)})),n.subParser("images",(function(e,t,r){function i(e,t,i,o,a,s,u,l){var c=r.gUrls,f=r.gTitles,p=r.gDimensions;if(i=i.toLowerCase(),l||(l=""),e.search(/\(<?\s*>? ?(['"].*['"])?\)$/m)>-1)o="";else if(""===o||null===o){if(""!==i&&null!==i||(i=t.toLowerCase().replace(/ ?\n/g," ")),o="#"+i,n.helper.isUndefined(c[i]))return e;o=c[i],n.helper.isUndefined(f[i])||(l=f[i]),n.helper.isUndefined(p[i])||(a=p[i].width,s=p[i].height)}t=t.replace(/"/g,"&quot;").replace(n.helper.regexes.asteriskDashAndColon,n.helper.escapeCharactersCallback);var d='<img src="'+(o=o.replace(n.helper.regexes.asteriskDashAndColon,n.helper.escapeCharactersCallback))+'" alt="'+t+'"';return l&&n.helper.isString(l)&&(d+=' title="'+(l=l.replace(/"/g,"&quot;").replace(n.helper.regexes.asteriskDashAndColon,n.helper.escapeCharactersCallback))+'"'),a&&s&&(d+=' width="'+(a="*"===a?"auto":a)+'"',d+=' height="'+(s="*"===s?"auto":s)+'"'),d+=" />"}return e=(e=(e=(e=(e=(e=r.converter._dispatch("images.before",e,t,r)).replace(/!\[([^\]]*?)] ?(?:\n *)?\[([\s\S]*?)]()()()()()/g,i)).replace(/!\[([^\]]*?)][ \t]*()\([ \t]?<?(data:.+?\/.+?;base64,[A-Za-z0-9+/=\n]+?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(["'])([^"]*?)\6)?[ \t]?\)/g,(function(e,t,n,r,o,a,s,u){return i(e,t,n,r=r.replace(/\s/g,""),o,a,s,u)}))).replace(/!\[([^\]]*?)][ \t]*()\([ \t]?<([^>]*)>(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(?:(["'])([^"]*?)\6))?[ \t]?\)/g,i)).replace(/!\[([^\]]*?)][ \t]*()\([ \t]?<?([\S]+?(?:\([\S]*?\)[\S]*?)?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(["'])([^"]*?)\6)?[ \t]?\)/g,i)).replace(/!\[([^\[\]]+)]()()()()()/g,i),e=r.converter._dispatch("images.after",e,t,r)})),n.subParser("italicsAndBold",(function(e,t,n){function r(e,t,n){return t+e+n}return e=n.converter._dispatch("italicsAndBold.before",e,t,n),e=t.literalMidWordUnderscores?(e=(e=e.replace(/\b___(\S[\s\S]*?)___\b/g,(function(e,t){return r(t,"<strong><em>","</em></strong>")}))).replace(/\b__(\S[\s\S]*?)__\b/g,(function(e,t){return r(t,"<strong>","</strong>")}))).replace(/\b_(\S[\s\S]*?)_\b/g,(function(e,t){return r(t,"<em>","</em>")})):(e=(e=e.replace(/___(\S[\s\S]*?)___/g,(function(e,t){return/\S$/.test(t)?r(t,"<strong><em>","</em></strong>"):e}))).replace(/__(\S[\s\S]*?)__/g,(function(e,t){return/\S$/.test(t)?r(t,"<strong>","</strong>"):e}))).replace(/_([^\s_][\s\S]*?)_/g,(function(e,t){return/\S$/.test(t)?r(t,"<em>","</em>"):e})),e=t.literalMidWordAsterisks?(e=(e=e.replace(/([^*]|^)\B\*\*\*(\S[\s\S]*?)\*\*\*\B(?!\*)/g,(function(e,t,n){return r(n,t+"<strong><em>","</em></strong>")}))).replace(/([^*]|^)\B\*\*(\S[\s\S]*?)\*\*\B(?!\*)/g,(function(e,t,n){return r(n,t+"<strong>","</strong>")}))).replace(/([^*]|^)\B\*(\S[\s\S]*?)\*\B(?!\*)/g,(function(e,t,n){return r(n,t+"<em>","</em>")})):(e=(e=e.replace(/\*\*\*(\S[\s\S]*?)\*\*\*/g,(function(e,t){return/\S$/.test(t)?r(t,"<strong><em>","</em></strong>"):e}))).replace(/\*\*(\S[\s\S]*?)\*\*/g,(function(e,t){return/\S$/.test(t)?r(t,"<strong>","</strong>"):e}))).replace(/\*([^\s*][\s\S]*?)\*/g,(function(e,t){return/\S$/.test(t)?r(t,"<em>","</em>"):e})),e=n.converter._dispatch("italicsAndBold.after",e,t,n)})),n.subParser("lists",(function(e,t,r){function i(e,i){r.gListLevel++,e=e.replace(/\n{2,}$/,"\n");var o=/(\n)?(^ {0,3})([*+-]|\d+[.])[ \t]+((\[(x|X| )?])?[ \t]*[^\r]+?(\n{1,2}))(?=\n*(¨0| {0,3}([*+-]|\d+[.])[ \t]+))/gm,a=/\n[ \t]*\n(?!¨0)/.test(e+="¨0");return t.disableForced4SpacesIndentedSublists&&(o=/(\n)?(^ {0,3})([*+-]|\d+[.])[ \t]+((\[(x|X| )?])?[ \t]*[^\r]+?(\n{1,2}))(?=\n*(¨0|\2([*+-]|\d+[.])[ \t]+))/gm),e=(e=e.replace(o,(function(e,i,o,s,u,l,c){c=c&&""!==c.trim();var f=n.subParser("outdent")(u,t,r),p="";return l&&t.tasklists&&(p=' class="task-list-item" style="list-style-type: none;"',f=f.replace(/^[ \t]*\[(x|X| )?]/m,(function(){var e='<input type="checkbox" disabled style="margin: 0px 0.35em 0.25em -1.6em; vertical-align: middle;"';return c&&(e+=" checked"),e+=">"}))),f=f.replace(/^([-*+]|\d\.)[ \t]+[\S\n ]*/g,(function(e){return"¨A"+e})),i||f.search(/\n{2,}/)>-1?(f=n.subParser("githubCodeBlocks")(f,t,r),f=n.subParser("blockGamut")(f,t,r)):(f=(f=n.subParser("lists")(f,t,r)).replace(/\n$/,""),f=(f=n.subParser("hashHTMLBlocks")(f,t,r)).replace(/\n\n+/g,"\n\n"),f=a?n.subParser("paragraphs")(f,t,r):n.subParser("spanGamut")(f,t,r)),f="<li"+p+">"+(f=f.replace("¨A",""))+"</li>\n"}))).replace(/¨0/g,""),r.gListLevel--,i&&(e=e.replace(/\s+$/,"")),e}function o(e,t){if("ol"===t){var n=e.match(/^ *(\d+)\./);if(n&&"1"!==n[1])return' start="'+n[1]+'"'}return""}function a(e,n,r){var a=t.disableForced4SpacesIndentedSublists?/^ ?\d+\.[ \t]/gm:/^ {0,3}\d+\.[ \t]/gm,s=t.disableForced4SpacesIndentedSublists?/^ ?[*+-][ \t]/gm:/^ {0,3}[*+-][ \t]/gm,u="ul"===n?a:s,l="";if(-1!==e.search(u))!function t(c){var f=c.search(u),p=o(e,n);-1!==f?(l+="\n\n<"+n+p+">\n"+i(c.slice(0,f),!!r)+"</"+n+">\n",u="ul"===(n="ul"===n?"ol":"ul")?a:s,t(c.slice(f))):l+="\n\n<"+n+p+">\n"+i(c,!!r)+"</"+n+">\n"}(e);else{var c=o(e,n);l="\n\n<"+n+c+">\n"+i(e,!!r)+"</"+n+">\n"}return l}return e=r.converter._dispatch("lists.before",e,t,r),e+="¨0",e=(e=r.gListLevel?e.replace(/^(( {0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(¨0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm,(function(e,t,n){return a(t,n.search(/[*+-]/g)>-1?"ul":"ol",!0)})):e.replace(/(\n\n|^\n?)(( {0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(¨0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm,(function(e,t,n,r){return a(n,r.search(/[*+-]/g)>-1?"ul":"ol",!1)}))).replace(/¨0/,""),e=r.converter._dispatch("lists.after",e,t,r)})),n.subParser("metadata",(function(e,t,n){if(!t.metadata)return e;function r(e){n.metadata.raw=e,(e=(e=e.replace(/&/g,"&amp;").replace(/"/g,"&quot;")).replace(/\n {4}/g," ")).replace(/^([\S ]+): +([\s\S]+?)$/gm,(function(e,t,r){return n.metadata.parsed[t]=r,""}))}return e=(e=(e=(e=n.converter._dispatch("metadata.before",e,t,n)).replace(/^\s*«««+(\S*?)\n([\s\S]+?)\n»»»+\n/,(function(e,t,n){return r(n),"¨M"}))).replace(/^\s*---+(\S*?)\n([\s\S]+?)\n---+\n/,(function(e,t,i){return t&&(n.metadata.format=t),r(i),"¨M"}))).replace(/¨M/g,""),e=n.converter._dispatch("metadata.after",e,t,n)})),n.subParser("outdent",(function(e,t,n){return e=(e=(e=n.converter._dispatch("outdent.before",e,t,n)).replace(/^(\t|[ ]{1,4})/gm,"¨0")).replace(/¨0/g,""),e=n.converter._dispatch("outdent.after",e,t,n)})),n.subParser("paragraphs",(function(e,t,r){for(var i=(e=(e=(e=r.converter._dispatch("paragraphs.before",e,t,r)).replace(/^\n+/g,"")).replace(/\n+$/g,"")).split(/\n{2,}/g),o=[],a=i.length,s=0;s<a;s++){var u=i[s];u.search(/¨(K|G)(\d+)\1/g)>=0?o.push(u):u.search(/\S/)>=0&&(u=(u=n.subParser("spanGamut")(u,t,r)).replace(/^([ \t]*)/g,"<p>"),u+="</p>",o.push(u))}for(a=o.length,s=0;s<a;s++){for(var l="",c=o[s],f=!1;/¨(K|G)(\d+)\1/.test(c);){var p=RegExp.$1,d=RegExp.$2;l=(l="K"===p?r.gHtmlBlocks[d]:f?n.subParser("encodeCode")(r.ghCodeBlocks[d].text,t,r):r.ghCodeBlocks[d].codeblock).replace(/\$/g,"$$$$"),c=c.replace(/(\n\n)?¨(K|G)\d+\2(\n\n)?/,l),/^<pre\b[^>]*>\s*<code\b[^>]*>/.test(c)&&(f=!0)}o[s]=c}return e=(e=(e=o.join("\n")).replace(/^\n+/g,"")).replace(/\n+$/g,""),r.converter._dispatch("paragraphs.after",e,t,r)})),n.subParser("runExtension",(function(e,t,n,r){if(e.filter)t=e.filter(t,r.converter,n);else if(e.regex){var i=e.regex;i instanceof RegExp||(i=new RegExp(i,"g")),t=t.replace(i,e.replace)}return t})),n.subParser("spanGamut",(function(e,t,r){return e=r.converter._dispatch("spanGamut.before",e,t,r),e=n.subParser("codeSpans")(e,t,r),e=n.subParser("escapeSpecialCharsWithinTagAttributes")(e,t,r),e=n.subParser("encodeBackslashEscapes")(e,t,r),e=n.subParser("images")(e,t,r),e=n.subParser("anchors")(e,t,r),e=n.subParser("autoLinks")(e,t,r),e=n.subParser("simplifiedAutoLinks")(e,t,r),e=n.subParser("emoji")(e,t,r),e=n.subParser("underline")(e,t,r),e=n.subParser("italicsAndBold")(e,t,r),e=n.subParser("strikethrough")(e,t,r),e=n.subParser("ellipsis")(e,t,r),e=n.subParser("hashHTMLSpans")(e,t,r),e=n.subParser("encodeAmpsAndAngles")(e,t,r),t.simpleLineBreaks?/\n\n¨K/.test(e)||(e=e.replace(/\n+/g,"<br />\n")):e=e.replace(/  +\n/g,"<br />\n"),e=r.converter._dispatch("spanGamut.after",e,t,r)})),n.subParser("strikethrough",(function(e,t,r){return t.strikethrough&&(e=(e=r.converter._dispatch("strikethrough.before",e,t,r)).replace(/(?:~){2}([\s\S]+?)(?:~){2}/g,(function(e,i){return function(e){return t.simplifiedAutoLink&&(e=n.subParser("simplifiedAutoLinks")(e,t,r)),"<del>"+e+"</del>"}(i)})),e=r.converter._dispatch("strikethrough.after",e,t,r)),e})),n.subParser("stripLinkDefinitions",(function(e,t,r){var i=function(i,o,a,s,u,l,c){return o=o.toLowerCase(),e.toLowerCase().split(o).length-1<2?i:(a.match(/^data:.+?\/.+?;base64,/)?r.gUrls[o]=a.replace(/\s/g,""):r.gUrls[o]=n.subParser("encodeAmpsAndAngles")(a,t,r),l?l+c:(c&&(r.gTitles[o]=c.replace(/"|'/g,"&quot;")),t.parseImgDimensions&&s&&u&&(r.gDimensions[o]={width:s,height:u}),""))};return e=(e=(e=(e+="¨0").replace(/^ {0,3}\[([^\]]+)]:[ \t]*\n?[ \t]*<?(data:.+?\/.+?;base64,[A-Za-z0-9+/=\n]+?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*\n?[ \t]*(?:(\n*)["|'(](.+?)["|')][ \t]*)?(?:\n\n|(?=¨0)|(?=\n\[))/gm,i)).replace(/^ {0,3}\[([^\]]+)]:[ \t]*\n?[ \t]*<?([^>\s]+)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*\n?[ \t]*(?:(\n*)["|'(](.+?)["|')][ \t]*)?(?:\n+|(?=¨0))/gm,i)).replace(/¨0/,"")})),n.subParser("tables",(function(e,t,r){if(!t.tables)return e;function i(e,i){return"<td"+i+">"+n.subParser("spanGamut")(e,t,r)+"</td>\n"}function o(e){var o,a=e.split("\n");for(o=0;o<a.length;++o)/^ {0,3}\|/.test(a[o])&&(a[o]=a[o].replace(/^ {0,3}\|/,"")),/\|[ \t]*$/.test(a[o])&&(a[o]=a[o].replace(/\|[ \t]*$/,"")),a[o]=n.subParser("codeSpans")(a[o],t,r);var s,u,l,c,f=a[0].split("|").map((function(e){return e.trim()})),p=a[1].split("|").map((function(e){return e.trim()})),d=[],h=[],g=[],m=[];for(a.shift(),a.shift(),o=0;o<a.length;++o)""!==a[o].trim()&&d.push(a[o].split("|").map((function(e){return e.trim()})));if(f.length<p.length)return e;for(o=0;o<p.length;++o)g.push((s=p[o],/^:[ \t]*--*$/.test(s)?' style="text-align:left;"':/^--*[ \t]*:[ \t]*$/.test(s)?' style="text-align:right;"':/^:[ \t]*--*[ \t]*:$/.test(s)?' style="text-align:center;"':""));for(o=0;o<f.length;++o)n.helper.isUndefined(g[o])&&(g[o]=""),h.push((u=f[o],l=g[o],c=void 0,c="",u=u.trim(),(t.tablesHeaderId||t.tableHeaderId)&&(c=' id="'+u.replace(/ /g,"_").toLowerCase()+'"'),"<th"+c+l+">"+(u=n.subParser("spanGamut")(u,t,r))+"</th>\n"));for(o=0;o<d.length;++o){for(var v=[],y=0;y<h.length;++y)n.helper.isUndefined(d[o][y]),v.push(i(d[o][y],g[y]));m.push(v)}return function(e,t){for(var n="<table>\n<thead>\n<tr>\n",r=e.length,i=0;i<r;++i)n+=e[i];for(n+="</tr>\n</thead>\n<tbody>\n",i=0;i<t.length;++i){n+="<tr>\n";for(var o=0;o<r;++o)n+=t[i][o];n+="</tr>\n"}return n+"</tbody>\n</table>\n"}(h,m)}return e=(e=(e=(e=r.converter._dispatch("tables.before",e,t,r)).replace(/\\(\|)/g,n.helper.escapeCharactersCallback)).replace(/^ {0,3}\|?.+\|.+\n {0,3}\|?[ \t]*:?[ \t]*(?:[-=]){2,}[ \t]*:?[ \t]*\|[ \t]*:?[ \t]*(?:[-=]){2,}[\s\S]+?(?:\n\n|¨0)/gm,o)).replace(/^ {0,3}\|.+\|[ \t]*\n {0,3}\|[ \t]*:?[ \t]*(?:[-=]){2,}[ \t]*:?[ \t]*\|[ \t]*\n( {0,3}\|.+\|[ \t]*\n)*(?:\n|¨0)/gm,o),e=r.converter._dispatch("tables.after",e,t,r)})),n.subParser("underline",(function(e,t,r){return t.underline?(e=r.converter._dispatch("underline.before",e,t,r),e=(e=t.literalMidWordUnderscores?(e=e.replace(/\b___(\S[\s\S]*?)___\b/g,(function(e,t){return"<u>"+t+"</u>"}))).replace(/\b__(\S[\s\S]*?)__\b/g,(function(e,t){return"<u>"+t+"</u>"})):(e=e.replace(/___(\S[\s\S]*?)___/g,(function(e,t){return/\S$/.test(t)?"<u>"+t+"</u>":e}))).replace(/__(\S[\s\S]*?)__/g,(function(e,t){return/\S$/.test(t)?"<u>"+t+"</u>":e}))).replace(/(_)/g,n.helper.escapeCharactersCallback),e=r.converter._dispatch("underline.after",e,t,r)):e})),n.subParser("unescapeSpecialChars",(function(e,t,n){return e=(e=n.converter._dispatch("unescapeSpecialChars.before",e,t,n)).replace(/¨E(\d+)E/g,(function(e,t){var n=parseInt(t);return String.fromCharCode(n)})),e=n.converter._dispatch("unescapeSpecialChars.after",e,t,n)})),n.subParser("makeMarkdown.blockquote",(function(e,t){var r="";if(e.hasChildNodes())for(var i=e.childNodes,o=i.length,a=0;a<o;++a){var s=n.subParser("makeMarkdown.node")(i[a],t);""!==s&&(r+=s)}return r="> "+(r=r.trim()).split("\n").join("\n> ")})),n.subParser("makeMarkdown.codeBlock",(function(e,t){var n=e.getAttribute("language"),r=e.getAttribute("precodenum");return"```"+n+"\n"+t.preList[r]+"\n```"})),n.subParser("makeMarkdown.codeSpan",(function(e){return"`"+e.innerHTML+"`"})),n.subParser("makeMarkdown.emphasis",(function(e,t){var r="";if(e.hasChildNodes()){r+="*";for(var i=e.childNodes,o=i.length,a=0;a<o;++a)r+=n.subParser("makeMarkdown.node")(i[a],t);r+="*"}return r})),n.subParser("makeMarkdown.header",(function(e,t,r){var i=new Array(r+1).join("#"),o="";if(e.hasChildNodes()){o=i+" ";for(var a=e.childNodes,s=a.length,u=0;u<s;++u)o+=n.subParser("makeMarkdown.node")(a[u],t)}return o})),n.subParser("makeMarkdown.hr",(function(){return"---"})),n.subParser("makeMarkdown.image",(function(e){var t="";return e.hasAttribute("src")&&(t+="!["+e.getAttribute("alt")+"](",t+="<"+e.getAttribute("src")+">",e.hasAttribute("width")&&e.hasAttribute("height")&&(t+=" ="+e.getAttribute("width")+"x"+e.getAttribute("height")),e.hasAttribute("title")&&(t+=' "'+e.getAttribute("title")+'"'),t+=")"),t})),n.subParser("makeMarkdown.links",(function(e,t){var r="";if(e.hasChildNodes()&&e.hasAttribute("href")){var i=e.childNodes,o=i.length;r="[";for(var a=0;a<o;++a)r+=n.subParser("makeMarkdown.node")(i[a],t);r+="](",r+="<"+e.getAttribute("href")+">",e.hasAttribute("title")&&(r+=' "'+e.getAttribute("title")+'"'),r+=")"}return r})),n.subParser("makeMarkdown.list",(function(e,t,r){var i="";if(!e.hasChildNodes())return"";for(var o=e.childNodes,a=o.length,s=e.getAttribute("start")||1,u=0;u<a;++u)if(void 0!==o[u].tagName&&"li"===o[u].tagName.toLowerCase()){i+=("ol"===r?s.toString()+". ":"- ")+n.subParser("makeMarkdown.listItem")(o[u],t),++s}return(i+="\n\x3c!-- --\x3e\n").trim()})),n.subParser("makeMarkdown.listItem",(function(e,t){for(var r="",i=e.childNodes,o=i.length,a=0;a<o;++a)r+=n.subParser("makeMarkdown.node")(i[a],t);return/\n$/.test(r)?r=r.split("\n").join("\n    ").replace(/^ {4}$/gm,"").replace(/\n\n+/g,"\n\n"):r+="\n",r})),n.subParser("makeMarkdown.node",(function(e,t,r){r=r||!1;var i="";if(3===e.nodeType)return n.subParser("makeMarkdown.txt")(e,t);if(8===e.nodeType)return"\x3c!--"+e.data+"--\x3e\n\n";if(1!==e.nodeType)return"";switch(e.tagName.toLowerCase()){case"h1":r||(i=n.subParser("makeMarkdown.header")(e,t,1)+"\n\n");break;case"h2":r||(i=n.subParser("makeMarkdown.header")(e,t,2)+"\n\n");break;case"h3":r||(i=n.subParser("makeMarkdown.header")(e,t,3)+"\n\n");break;case"h4":r||(i=n.subParser("makeMarkdown.header")(e,t,4)+"\n\n");break;case"h5":r||(i=n.subParser("makeMarkdown.header")(e,t,5)+"\n\n");break;case"h6":r||(i=n.subParser("makeMarkdown.header")(e,t,6)+"\n\n");break;case"p":r||(i=n.subParser("makeMarkdown.paragraph")(e,t)+"\n\n");break;case"blockquote":r||(i=n.subParser("makeMarkdown.blockquote")(e,t)+"\n\n");break;case"hr":r||(i=n.subParser("makeMarkdown.hr")(e,t)+"\n\n");break;case"ol":r||(i=n.subParser("makeMarkdown.list")(e,t,"ol")+"\n\n");break;case"ul":r||(i=n.subParser("makeMarkdown.list")(e,t,"ul")+"\n\n");break;case"precode":r||(i=n.subParser("makeMarkdown.codeBlock")(e,t)+"\n\n");break;case"pre":r||(i=n.subParser("makeMarkdown.pre")(e,t)+"\n\n");break;case"table":r||(i=n.subParser("makeMarkdown.table")(e,t)+"\n\n");break;case"code":i=n.subParser("makeMarkdown.codeSpan")(e,t);break;case"em":case"i":i=n.subParser("makeMarkdown.emphasis")(e,t);break;case"strong":case"b":i=n.subParser("makeMarkdown.strong")(e,t);break;case"del":i=n.subParser("makeMarkdown.strikethrough")(e,t);break;case"a":i=n.subParser("makeMarkdown.links")(e,t);break;case"img":i=n.subParser("makeMarkdown.image")(e,t);break;default:i=e.outerHTML+"\n\n"}return i})),n.subParser("makeMarkdown.paragraph",(function(e,t){var r="";if(e.hasChildNodes())for(var i=e.childNodes,o=i.length,a=0;a<o;++a)r+=n.subParser("makeMarkdown.node")(i[a],t);return r=r.trim()})),n.subParser("makeMarkdown.pre",(function(e,t){var n=e.getAttribute("prenum");return"<pre>"+t.preList[n]+"</pre>"})),n.subParser("makeMarkdown.strikethrough",(function(e,t){var r="";if(e.hasChildNodes()){r+="~~";for(var i=e.childNodes,o=i.length,a=0;a<o;++a)r+=n.subParser("makeMarkdown.node")(i[a],t);r+="~~"}return r})),n.subParser("makeMarkdown.strong",(function(e,t){var r="";if(e.hasChildNodes()){r+="**";for(var i=e.childNodes,o=i.length,a=0;a<o;++a)r+=n.subParser("makeMarkdown.node")(i[a],t);r+="**"}return r})),n.subParser("makeMarkdown.table",(function(e,t){var r,i,o="",a=[[],[]],s=e.querySelectorAll("thead>tr>th"),u=e.querySelectorAll("tbody>tr");for(r=0;r<s.length;++r){var l=n.subParser("makeMarkdown.tableCell")(s[r],t),c="---";if(s[r].hasAttribute("style"))switch(s[r].getAttribute("style").toLowerCase().replace(/\s/g,"")){case"text-align:left;":c=":---";break;case"text-align:right;":c="---:";break;case"text-align:center;":c=":---:"}a[0][r]=l.trim(),a[1][r]=c}for(r=0;r<u.length;++r){var f=a.push([])-1,p=u[r].getElementsByTagName("td");for(i=0;i<s.length;++i){var d=" ";void 0!==p[i]&&(d=n.subParser("makeMarkdown.tableCell")(p[i],t)),a[f].push(d)}}var h=3;for(r=0;r<a.length;++r)for(i=0;i<a[r].length;++i){var g=a[r][i].length;g>h&&(h=g)}for(r=0;r<a.length;++r){for(i=0;i<a[r].length;++i)1===r?":"===a[r][i].slice(-1)?a[r][i]=n.helper.padEnd(a[r][i].slice(-1),h-1,"-")+":":a[r][i]=n.helper.padEnd(a[r][i],h,"-"):a[r][i]=n.helper.padEnd(a[r][i],h);o+="| "+a[r].join(" | ")+" |\n"}return o.trim()})),n.subParser("makeMarkdown.tableCell",(function(e,t){var r="";if(!e.hasChildNodes())return"";for(var i=e.childNodes,o=i.length,a=0;a<o;++a)r+=n.subParser("makeMarkdown.node")(i[a],t,!0);return r.trim()})),n.subParser("makeMarkdown.txt",(function(e){var t=e.nodeValue;return t=(t=t.replace(/ +/g," ")).replace(/¨NBSP;/g," "),t=(t=(t=(t=(t=(t=(t=(t=(t=n.helper.unescapeHTMLEntities(t)).replace(/([*_~|`])/g,"\\$1")).replace(/^(\s*)>/g,"\\$1>")).replace(/^#/gm,"\\#")).replace(/^(\s*)([-=]{3,})(\s*)$/,"$1\\$2$3")).replace(/^( {0,3}\d+)\./gm,"$1\\.")).replace(/^( {0,3})([+-])/gm,"$1\\$2")).replace(/]([\s]*)\(/g,"\\]$1\\(")).replace(/^ {0,3}\[([\S \t]*?)]:/gm,"\\[$1]:")}));e.exports?e.exports=n:this.showdown=n}).call(Sn)}));function zn(t){let n;return{c(){n=A("div")},m(e,r){y(e,n,r),n.innerHTML=t[0]},p(e,[t]){1&t&&(n.innerHTML=e[0])},i:e,o:e,d(e){e&&b(n)}}}function Vn(e,t,n){let{site:r}=t,{section:i}=t,o="";return O((async()=>{const e=new Gn.Converter,t=await fetch(r);if(t.ok){const r=/\[(.+)\]\(((?!http).+)\)/gi,a=(await t.text()).replace(r,`[$1](#/${i}/$2)`);n(0,o=e.makeHtml(a))}})),e.$$set=e=>{"site"in e&&n(1,r=e.site),"section"in e&&n(2,i=e.section)},[o,r,i]}class Kn extends se{constructor(e){super(),ae(this,e,Vn,zn,a,{site:1,section:2})}}function Zn(t){let n,r,i,o;return n=new Tn({props:{source:"The Paella (pronounced `paeja`) Player is an Open Source Javascript video player capable of playing an unlimited number of audio & video streams synchronously, Live Streaming, Zoom, Captions, contributed user plugins and a lot more. It is easy to install and customize for your own needs.\n\nPaella has been specially designed for lecture recordings, and currently is the default video player of the [Opencast Community](https://opencast.org/). It works with all HTML5 browsers (Chrome, Firefox, Safari and Edge) and within iOS and Android.\n\nHave a look to the [features list](#/features), see them live on our demo page, or browse the source code in Github.\n\nYou may also take your first contact with Paella looking at the next example video."}}),i=new Hn({props:{videoId:"belmar-multiresolution-remote"}}),{c(){re(n.$$.fragment),r=x(),re(i.$$.fragment)},m(e,t){ie(n,e,t),y(e,r,t),ie(i,e,t),o=!0},p:e,i(e){o||(Q(n.$$.fragment,e),Q(i.$$.fragment,e),o=!0)},o(e){J(n.$$.fragment,e),J(i.$$.fragment,e),o=!1},d(e){oe(n,e),e&&b(r),oe(i,e)}}}class Wn extends se{constructor(e){super(),ae(this,e,null,Zn,a,{})}}var Yn="# Download\n\n## Reference player\n\nYou can use our reference player as a base to create your own by [downloading it from our github repository](https://github.com/polimediaupv/paella-player). \n\n## Create your own player from scratch\n\nOur reference player uses the base paella-core library, and a number of extra libraries that provide plugins of different types:\n\n- paella-core (%VERSION(paella-core)%): paella player core library ([git](https://github.com/polimediaupv/paella-core), [npm](https://www.npmjs.com/package/paella-core)).\n- paella-basic-plugins (%VERSION(paella-basic-plugins)%): most commonly used plugins (volume, subtitle selection, video layout change, playback speed, etc.) ([git](https://github.com/polimediaupv/paella-basic-plugins), [npm](https://www.npmjs.com/package/paella-basic-plugins)).\n- paella-slide-plugins  (%VERSION(paella-slide-plugins)%): plugins designed to interact with slide-based presentations ([git](https://github.com/polimediaupv/paella-slide-plugins), [npm](https://www.npmjs.com/package/paella-slide-plugins)).\n- paella-zoom-plugin (%VERSION(paella-zoom-plugin)%): allows you to zoom into the video ([git](https://github.com/polimediaupv/paella-zoom-plugin), [npm](https://www.npmjs.com/package/paella-zoom-plugin)).\n- paella-user tracking (%VERSION(paella-user-tracking)%): integration with usage analysis tools ([git](https://github.com/polimediaupv/paella-user-tracking), [npm](https://www.npmjs.com/package/paella-user-tracking)).\n\nYou can get each of these libraries with npm\n\n```sh\nnpm install --save paella-core paella-basic-plugins paella-slide-plugins paella-zoom-plugin paella-user-tracking\n```\n\nSee the documentation to learn how to use `paella-core` and the plugin libraries.\n";function qn(e){let t,n;return t=new Tn({props:{source:e[0]}}),{c(){re(t.$$.fragment)},m(e,r){ie(t,e,r),n=!0},p(e,[n]){const r={};1&n&&(r.source=e[0]),t.$set(r)},i(e){n||(Q(t.$$.fragment,e),n=!0)},o(e){J(t.$$.fragment,e),n=!1},d(e){oe(t,e)}}}function Xn(e,t,n){let r=Yn;return O((async()=>{const e=/\%VERSION\((.+)\)\%/g;let t,i=Yn;for(;null!==(t=e.exec(Yn));){const e=t[1],n=await ce("polimediaupv",e);i=i.replace(t[0],n)}n(0,r=i)})),[r]}class Qn extends se{constructor(e){super(),ae(this,e,Xn,qn,a,{})}}function Jn(t){let n,r;return n=new Tn({props:{source:"# About Paella Player\n\n## License\n\nPaella Player has been mainly developed by the Universitat Politècnica de València, with portions contributed/copyrighted by others (see the developer credits in the source code itself) and all of it is provided under the terms of the Educational Community License\n\nPaella Player and its documentation are distributed in the hope that they will be useful, but without any warranty; without even the implied warranty of merchantability or fitness for a particular purpose. See the License for more details.\n\n\n## Source code, Contributions and Issues\n\nPaella source code lives in our GitHub site. Pull requests are welcomed.\n\nIf you want to report an issue with paella, please do that there too.\n\n\n## Mailing list\n\nIf you find Paella useful we would like to hear from your experience. You may join the Paella Player mailing list and send your messages to [paellaplayer@upv.es](mailto:paellaplayer@upv.es). Feel free to subscribe to that list.\n"}}),{c(){re(n.$$.fragment)},m(e,t){ie(n,e,t),r=!0},p:e,i(e){r||(Q(n.$$.fragment,e),r=!0)},o(e){J(n.$$.fragment,e),r=!1},d(e){oe(n,e)}}}class er extends se{constructor(e){super(),ae(this,e,null,Jn,a,{})}}function tr(t){let n,r;return n=new Tn({props:{source:"# Paella Main features\n\n- Split-screen player for viewing video and slide content simultaneously\n- Unlimited number of simultaneous video streams\n- Zoom in any video window\n- Automatic slide index\n- Heat maps indicate sections of content most often watched\n- Multiple quality adaptive Streaming support with HTTP Live Streaming (HLS) or MPEG-DASH\n- Live Streaming support\n- Multiple language captions\n- Support for multiple audio tracks\n- REST APIs make it easy to extend to or integrate\n- Easy customization and localization of the player interface\n- ARIA support\n\n… and many more. See the CHANGELOG file in our GitHub Paella site or browse the demos .\n\n## Opencast Support\n\nPaella Player works BOTH as an standalone JavaScript player and as an Opencast video player. So:\n\n- If you are using Opencast >5.0 you have already Paella in your system.\n- If you have an old O\n"}}),{c(){re(n.$$.fragment)},m(e,t){ie(n,e,t),r=!0},p:e,i(e){r||(Q(n.$$.fragment,e),r=!0)},o(e){J(n.$$.fragment,e),r=!1},d(e){oe(n,e)}}}class nr extends se{constructor(e){super(),ae(this,e,null,tr,a,{})}}function rr(t){let n,r,i;return{c(){n=A("h1"),n.textContent="Not found",r=x(),i=A("p"),i.innerHTML='<a href="#/">Home</a>'},m(e,t){y(e,n,t),y(e,r,t),y(e,i,t)},p:e,i:e,o:e,d(e){e&&b(n),e&&b(r),e&&b(i)}}}class ir extends se{constructor(e){super(),ae(this,e,null,rr,a,{})}}function or(e,t,n){const r=e.slice();return r[10]=t[n],r}function ar(e,t,n){const r=e.slice();return r[13]=t[n],r}function sr(e,t,n){const r=e.slice();return r[10]=t[n],r}function ur(e,t,n){const r=e.slice();return r[13]=t[n],r}function lr(e){let t,n,r,i,a,s,u=e[13].name+"";return{c(){t=A("li"),n=A("button"),r=k(u),T(n,"class",i=m(e[13].id==e[1]?"anchor-button disabled":"anchor-button")+" svelte-1pt21bu"),T(t,"class","svelte-1pt21bu")},m(i,u){y(i,t,u),v(t,n),v(n,r),a||(s=C(n,"click",(function(){o(e[3](e[13].id))&&e[3](e[13].id).apply(this,arguments)})),a=!0)},p(t,o){e=t,1&o&&u!==(u=e[13].name+"")&&S(r,u),3&o&&i!==(i=m(e[13].id==e[1]?"anchor-button disabled":"anchor-button")+" svelte-1pt21bu")&&T(n,"class",i)},d(e){e&&b(t),a=!1,s()}}}function cr(e){let t,n,r,i,o,a=e[10].title+"",s=e[10].demos,u=[];for(let t=0;t<s.length;t+=1)u[t]=lr(ur(e,s,t));return{c(){t=A("h2"),n=k(a),r=x(),i=A("ul");for(let e=0;e<u.length;e+=1)u[e].c();o=x(),T(t,"class","svelte-1pt21bu"),T(i,"class","svelte-1pt21bu")},m(e,a){y(e,t,a),v(t,n),y(e,r,a),y(e,i,a);for(let e=0;e<u.length;e+=1)u[e].m(i,null);v(i,o)},p(e,t){if(1&t&&a!==(a=e[10].title+"")&&S(n,a),11&t){let n;for(s=e[10].demos,n=0;n<s.length;n+=1){const r=ur(e,s,n);u[n]?u[n].p(r,t):(u[n]=lr(r),u[n].c(),u[n].m(i,o))}for(;n<u.length;n+=1)u[n].d(1);u.length=s.length}},d(e){e&&b(t),e&&b(r),e&&b(i),w(u,e)}}}function fr(e){let t,n,r=e[13].name+"";return{c(){t=A("h1"),n=k(r)},m(e,r){y(e,t,r),v(t,n)},p(e,t){1&t&&r!==(r=e[13].name+"")&&S(n,r)},d(e){e&&b(t)}}}function pr(e){let t,n=e[13].id===e[1]&&fr(e);return{c(){n&&n.c(),t=E()},m(e,r){n&&n.m(e,r),y(e,t,r)},p(e,r){e[13].id===e[1]?n?n.p(e,r):(n=fr(e),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(e){n&&n.d(e),e&&b(t)}}}function dr(e){let t,n=e[10].demos,r=[];for(let t=0;t<n.length;t+=1)r[t]=pr(ar(e,n,t));return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=E()},m(e,n){for(let t=0;t<r.length;t+=1)r[t].m(e,n);y(e,t,n)},p(e,i){if(3&i){let o;for(n=e[10].demos,o=0;o<n.length;o+=1){const a=ar(e,n,o);r[o]?r[o].p(a,i):(r[o]=pr(a),r[o].c(),r[o].m(t.parentNode,t))}for(;o<r.length;o+=1)r[o].d(1);r.length=n.length}},d(e){w(r,e),e&&b(t)}}}function hr(e){let t,n,r,i,o,a,s,u,l,c,f,p,d,h,g;t=new Tn({props:{source:"\n# Reference player demo.\n\nYou can get this player source code from the [github repository](https://github.com/polimediaupv/paella-player)\n\nCheck the paella player 7 documentation and tutorials [here](https://github.com/polimediaupv/paella-core/blob/main/doc/index.md).\n\n# New feature: Multiple players on single page\n\nIn the following link, you can test the paella-core's new ability to load multiple instances of the player on the same page. Note that this is an experimental feature, and may be problematic in resource-constrained environments, such as on some smartphones.\n\n- [Multiple instances of paella player on a single page](#/demos-all)\n\n# Paella Player demos\n"}});let m=e[0],_=[];for(let t=0;t<m.length;t+=1)_[t]=cr(sr(e,m,t));let k=e[0],E=[];for(let t=0;t<k.length;t+=1)E[t]=dr(or(e,k,t));function S(t){e[7](t)}let R={videoId:e[1],onVideoIdChanged:e[4]};return void 0!==e[2]&&(R.cancelLoad=e[2]),u=new Hn({props:R}),M.push((()=>function(e,t,n){const r=e.$$.props[t];void 0!==r&&(e.$$.bound[r]=n,n(e.$$.ctx[r]))}(u,"cancelLoad",S))),{c(){re(t.$$.fragment),n=x(),r=A("section"),i=A("div");for(let e=0;e<_.length;e+=1)_[e].c();o=x(),a=A("div");for(let e=0;e<E.length;e+=1)E[e].c();s=x(),re(u.$$.fragment),c=x(),f=A("div"),p=A("button"),p.textContent="Download video manifest",T(i,"class","demos-index svelte-1pt21bu"),T(f,"class","demo-actions svelte-1pt21bu"),T(a,"class","demo-player-container svelte-1pt21bu"),T(r,"class","demos-container svelte-1pt21bu")},m(l,m){ie(t,l,m),y(l,n,m),y(l,r,m),v(r,i);for(let e=0;e<_.length;e+=1)_[e].m(i,null);v(r,o),v(r,a);for(let e=0;e<E.length;e+=1)E[e].m(a,null);v(a,s),ie(u,a,null),v(a,c),v(a,f),v(f,p),d=!0,h||(g=C(p,"click",e[8]),h=!0)},p(e,[t]){if(11&t){let n;for(m=e[0],n=0;n<m.length;n+=1){const r=sr(e,m,n);_[n]?_[n].p(r,t):(_[n]=cr(r),_[n].c(),_[n].m(i,null))}for(;n<_.length;n+=1)_[n].d(1);_.length=m.length}if(3&t){let n;for(k=e[0],n=0;n<k.length;n+=1){const r=or(e,k,n);E[n]?E[n].p(r,t):(E[n]=dr(r),E[n].c(),E[n].m(a,s))}for(;n<E.length;n+=1)E[n].d(1);E.length=k.length}const n={};var r;2&t&&(n.videoId=e[1]),!l&&4&t&&(l=!0,n.cancelLoad=e[2],r=()=>l=!1,N.push(r)),u.$set(n)},i(e){d||(Q(t.$$.fragment,e),Q(u.$$.fragment,e),d=!0)},o(e){J(t.$$.fragment,e),J(u.$$.fragment,e),d=!1},d(e){oe(t,e),e&&b(n),e&&b(r),w(_,e),w(E,e),oe(u),h=!1,g()}}}function gr(e,t,n){let r,{params:i={}}=t,o=[],a=i.id||"belmar-multiresolution-remote";O((async()=>{await(async()=>{const e=await fetch("demos/demos.json");if(!e.ok)throw new Error("Error loading demos index.");n(0,o=await e.json())})()}));const s=()=>{window.open(`demos/${a}/data.json`,"__blank")};return e.$$set=e=>{"params"in e&&n(6,i=e.params)},[o,a,r,async e=>{n(1,a=e),location.hash=`#/demos/${e}`,r(e)},e=>{n(1,a=e),location.hash=`#/demos/${e}`},s,i,function(e){r=e,n(2,r)},()=>s()]}class mr extends se{constructor(e){super(),ae(this,e,gr,hr,a,{params:6})}}function vr(t){let n,r;return n=new Tn({props:{source:"# Documentation\n\nOn this page you can find all the documentation for the main `paella-core` branch. The documentation is taken directly from the [github](https://github.com/polimediaupv/paella-core) repository, so you can check it there too, in the `doc` directory.\n\n## Bug tracking and contributions\n\nTo get more info about bug tracking and contributions in `paella-core` and the plugin libraries, [refer to this document](/#/contributions)\n\n\n"}}),{c(){re(n.$$.fragment)},m(e,t){ie(n,e,t),r=!0},p:e,i(e){r||(Q(n.$$.fragment,e),r=!0)},o(e){J(n.$$.fragment,e),r=!1},d(e){oe(n,e)}}}function yr(t){let n;return{c(){n=A("p"),n.innerHTML='<a href="#/doc/index.md">Documentation index</a>'},m(e,t){y(e,n,t)},p:e,i:e,o:e,d(e){e&&b(n)}}}function br(e){let t,n,r,i,o,a,s,u,l;const c=[yr,vr],f=[];t=function(e,t){return"index.md"!==e[0]?0:1}(e),n=f[t]=c[t](e),i=new Kn({props:{site:e[1],section:wr}});let p="index.md"!==e[0]&&function(e){let t;return{c(){t=A("p"),t.innerHTML='<a href="#/doc/index.md">Documentation index</a>'},m(e,n){y(e,t,n)},d(e){e&&b(t)}}}();return{c(){n.c(),r=x(),re(i.$$.fragment),o=x(),a=A("p"),a.innerHTML='This documentation is generated from the <a href="https://github.com/polimediaupv/paella-core/tree/main/doc" target="__blank">paella-core repository at GitHub</a>.',s=x(),p&&p.c(),u=E()},m(e,n){f[t].m(e,n),y(e,r,n),ie(i,e,n),y(e,o,n),y(e,a,n),y(e,s,n),p&&p.m(e,n),y(e,u,n),l=!0},p(e,[t]){n.p(e,t)},i(e){l||(Q(n),Q(i.$$.fragment,e),l=!0)},o(e){J(n),J(i.$$.fragment,e),l=!1},d(e){f[t].d(e),e&&b(r),oe(i,e),e&&b(o),e&&b(a),e&&b(s),p&&p.d(e),e&&b(u)}}}let wr="doc";function Ar(e,t,n){let{params:r={}}=t,i=r.id,o="https://raw.githubusercontent.com/polimediaupv/paella-core/main/doc/"+i;return O((()=>{window.onhashchange=()=>{window.scrollTo(0,0),window.location.reload()}})),e.$$set=e=>{"params"in e&&n(2,r=e.params)},[i,o,r]}class _r extends se{constructor(e){super(),ae(this,e,Ar,br,a,{params:2})}}function kr(e,t,n){const r=e.slice();return r[4]=t[n],r}function xr(e,t,n){const r=e.slice();return r[7]=t[n],r}function Er(e){let t,n,r,i,o,a,s,u=e[7].name+"";return o=new Hn({props:{videoId:e[7].id,containerId:e[7].id,onPlay:e[2]}}),{c(){t=A("h3"),n=k(u),r=x(),i=A("div"),re(o.$$.fragment),a=x(),T(i,"class","demo-player svelte-tz657w")},m(e,u){y(e,t,u),v(t,n),y(e,r,u),y(e,i,u),ie(o,i,null),v(i,a),s=!0},p(e,t){(!s||1&t)&&u!==(u=e[7].name+"")&&S(n,u);const r={};1&t&&(r.videoId=e[7].id),1&t&&(r.containerId=e[7].id),o.$set(r)},i(e){s||(Q(o.$$.fragment,e),s=!0)},o(e){J(o.$$.fragment,e),s=!1},d(e){e&&b(t),e&&b(r),e&&b(i),oe(o)}}}function Cr(e){let t,n,r,i,o,a=e[4].title+"",s=e[4].demos,u=[];for(let t=0;t<s.length;t+=1)u[t]=Er(xr(e,s,t));const l=e=>J(u[e],1,1,(()=>{u[e]=null}));return{c(){t=A("h2"),n=k(a),r=x();for(let e=0;e<u.length;e+=1)u[e].c();i=E()},m(e,a){y(e,t,a),v(t,n),y(e,r,a);for(let t=0;t<u.length;t+=1)u[t].m(e,a);y(e,i,a),o=!0},p(e,t){if((!o||1&t)&&a!==(a=e[4].title+"")&&S(n,a),3&t){let n;for(s=e[4].demos,n=0;n<s.length;n+=1){const r=xr(e,s,n);u[n]?(u[n].p(r,t),Q(u[n],1)):(u[n]=Er(r),u[n].c(),Q(u[n],1),u[n].m(i.parentNode,i))}for(q(),n=s.length;n<u.length;n+=1)l(n);X()}},i(e){if(!o){for(let e=0;e<s.length;e+=1)Q(u[e]);o=!0}},o(e){u=u.filter(Boolean);for(let e=0;e<u.length;e+=1)J(u[e]);o=!1},d(e){e&&b(t),e&&b(r),w(u,e),e&&b(i)}}}function Tr(e){let t,n,r,i;n=new Tn({props:{source:"# Demos on single page\n\nThe same examples are available on this page as on the [demos page](#/demos), but all included on a single page. This is an example of paella-core's new capabilities for working with multiple instances of a player on a single page.\n\nPlease note that this is an experimental feature. Loading more than one player on the same page simultaneously may cause memory issues, especially on more resource-constrained platforms such as smartphones."}});let o=e[0],a=[];for(let t=0;t<o.length;t+=1)a[t]=Cr(kr(e,o,t));const s=e=>J(a[e],1,1,(()=>{a[e]=null}));return{c(){t=A("section"),re(n.$$.fragment),r=x();for(let e=0;e<a.length;e+=1)a[e].c();T(t,"class","demos-container")},m(e,o){y(e,t,o),ie(n,t,null),v(t,r);for(let e=0;e<a.length;e+=1)a[e].m(t,null);i=!0},p(e,[n]){if(3&n){let r;for(o=e[0],r=0;r<o.length;r+=1){const i=kr(e,o,r);a[r]?(a[r].p(i,n),Q(a[r],1)):(a[r]=Cr(i),a[r].c(),Q(a[r],1),a[r].m(t,null))}for(q(),r=o.length;r<a.length;r+=1)s(r);X()}},i(e){if(!i){Q(n.$$.fragment,e);for(let e=0;e<o.length;e+=1)Q(a[e]);i=!0}},o(e){J(n.$$.fragment,e),a=a.filter(Boolean);for(let e=0;e<a.length;e+=1)J(a[e]);i=!1},d(e){e&&b(t),oe(n),w(a,e)}}}function Sr(e,t,n){let r=[];O((async()=>{await(async()=>{const e=await fetch("demos/demos.json");if(!e.ok)throw new Error("Error loading demos index.");n(0,r=await e.json())})()}));const i=e=>{__paella_instances__.forEach((t=>{e!==t&&t.state===Pn.PlayerState.LOADED&&t.pause()}))};return[r,i,e=>i(e)]}class Rr extends se{constructor(e){super(),ae(this,e,Sr,Tr,a,{})}}function Lr(t){let n,r;return n=new Tn({props:{source:"# Bug track\n\nBug tracking in previous versions of Paella Player was very simple, as there was only one repository. With `paella-core` we have come a long way in terms of organising the main library, plugins and the creation of third-party plugin libraries, but on the other hand it has become more complicated to report bugs.\n\nTo find out in which repository you have to report bugs you can follow these tips:\n\n- If you don't know in which library the bug is: keep in mind that `paella-core` and the rest of the plugins are now independent libraries. To get a video player, you have to use the `paella-core` APIs correctly, as well as configure the plugins correctly, which is why we have put a lot of effort into writing all this documentation. For that reason, if you notice a bug in a player that uses `paella-core` and you are not sure what is causing it, you should report the bug in that specific player repository. You can try downloading our [reference player](https://github.com/polimediaupv/paella-player) to see if you see the same bug, or explore the [demos on this website](/#/demos) to see if you can replicate the bug.\n- If your problems are with HLS (m3u8) streams, the vast majority of failures are usually in the configuration of the streaming server, in the encoding of the videos or in the configuration of the HLS plugins. Refer to the documentation for these plugins for more information.: [hls](/#/doc/hls-video-plugin.md), [hlsLive](https://paellaplayer.upv.es/#/doc/hls-live-video-plugin.md).\n- If you know specifically where the bug is: generally if this is your case, you are a developer using `paella-core` or one of its plugins and you have been able to track down the bug. In that case, please go to the corresponding repository to report the bug. We'd also appreciate pull requests if you've managed to fix it. Please note that bugs reported in the `paella-core` repositories and its plugins that cannot be replicated in the reference player, or that are not correctly identified, will be marked as invalid and closed.\n\n    * `paella-core` bug track: [https://github.com/polimediaupv/paella-core/issues](https://github.com/polimediaupv/paella-core/issues).\n    * `paella-basic-plugins` bug track: [https://github.com/polimediaupv/paella-basic-plugins/issues](https://github.com/polimediaupv/paella-basic-plugins/issues).\n    * `paella-slide-plugins` bug track: [https://github.com/polimediaupv/paella-slide-plugins/issues](https://github.com/polimediaupv/paella-slide-plugins/issues).\n    * `paella-zoom-plugin` bug track: [https://github.com/polimediaupv/paella-zoom-plugin/issues](https://github.com/polimediaupv/paella-zoom-plugin/issues).\n    * `paella-user-tracking` bug track: [https://github.com/polimediaupv/paella-user-tracking/issues](https://github.com/polimediaupv/paella-user-tracking/issues).\n\n# Contributions\n\nWe are happy to review any pull request that affects the `paella-core` code or any of the plugins included in our repositories, but we will rarely agree to include new plugins. The plugins we have developed are those we use at the Universidad Politécnica de Valencia, and for that reason we can maintain and update them correctly. Including plugins in our repositories that we do not use in our institution ends up being counterproductive for everyone, because we cannot maintain and update them properly.\n\nIf you have a plugin or plugin package that you think would be useful to the community, we recommend that you reference any of our plugin repositories to create a repository of your own. It will be better for you, because your role in your contribution will be more visible, and it will be easier to debug and update the code.\n\nHaving said that, we would be also glad to know about your plugin, and maybe more people in the community too, so it would be great if you post a notice of it to the paella mailing list: [paellaplayer@upv.es](mailto:paellaplayer@upv.es)\n\n"}}),{c(){re(n.$$.fragment)},m(e,t){ie(n,e,t),r=!0},p:e,i(e){r||(Q(n.$$.fragment,e),r=!0)},o(e){J(n.$$.fragment,e),r=!1},d(e){oe(n,e)}}}class Pr extends se{constructor(e){super(),ae(this,e,null,Lr,a,{})}}const Or=[];function Ir(e,t){return{subscribe:Dr(e,t).subscribe}}function Dr(t,n=e){let r;const i=new Set;function o(e){if(a(t,e)&&(t=e,r)){const e=!Or.length;for(const e of i)e[1](),Or.push(e,t);if(e){for(let e=0;e<Or.length;e+=2)Or[e][0](Or[e+1]);Or.length=0}}}return{set:o,update:function(e){o(e(t))},subscribe:function(a,s=e){const u=[a,s];return i.add(u),1===i.size&&(r=n(o)||e),a(t),()=>{i.delete(u),0===i.size&&(r(),r=null)}}}}function Br(t,n,r){const a=!Array.isArray(t),s=a?[t]:t,u=n.length<2;return Ir(r,(t=>{let r=!1;const l=[];let c=0,f=e;const p=()=>{if(c)return;f();const r=n(a?l[0]:l,t);u?t(r):f=o(r)?r:e},d=s.map(((t,n)=>function(t,...n){if(null==t)return e;const r=t.subscribe(...n);return r.unsubscribe?()=>r.unsubscribe():r}(t,(e=>{l[n]=e,c&=~(1<<n),r&&p()}),(()=>{c|=1<<n}))));return r=!0,p(),function(){i(d),f()}}))}function jr(e){let n,r,i;const o=[e[2]];var a=e[0];function s(e){let n={};for(let e=0;e<o.length;e+=1)n=t(n,o[e]);return{props:n}}return a&&(n=new a(s()),n.$on("routeEvent",e[7])),{c(){n&&re(n.$$.fragment),r=E()},m(e,t){n&&ie(n,e,t),y(e,r,t),i=!0},p(e,t){const i=4&t?te(o,[ne(e[2])]):{};if(a!==(a=e[0])){if(n){q();const e=n;J(e.$$.fragment,1,0,(()=>{oe(e,1)})),X()}a?(n=new a(s()),n.$on("routeEvent",e[7]),re(n.$$.fragment),Q(n.$$.fragment,1),ie(n,r.parentNode,r)):n=null}else a&&n.$set(i)},i(e){i||(n&&Q(n.$$.fragment,e),i=!0)},o(e){n&&J(n.$$.fragment,e),i=!1},d(e){e&&b(r),n&&oe(n,e)}}}function Mr(e){let n,r,i;const o=[{params:e[1]},e[2]];var a=e[0];function s(e){let n={};for(let e=0;e<o.length;e+=1)n=t(n,o[e]);return{props:n}}return a&&(n=new a(s()),n.$on("routeEvent",e[6])),{c(){n&&re(n.$$.fragment),r=E()},m(e,t){n&&ie(n,e,t),y(e,r,t),i=!0},p(e,t){const i=6&t?te(o,[2&t&&{params:e[1]},4&t&&ne(e[2])]):{};if(a!==(a=e[0])){if(n){q();const e=n;J(e.$$.fragment,1,0,(()=>{oe(e,1)})),X()}a?(n=new a(s()),n.$on("routeEvent",e[6]),re(n.$$.fragment),Q(n.$$.fragment,1),ie(n,r.parentNode,r)):n=null}else a&&n.$set(i)},i(e){i||(n&&Q(n.$$.fragment,e),i=!0)},o(e){n&&J(n.$$.fragment,e),i=!1},d(e){e&&b(r),n&&oe(n,e)}}}function Fr(e){let t,n,r,i;const o=[Mr,jr],a=[];function s(e,t){return e[1]?0:1}return t=s(e),n=a[t]=o[t](e),{c(){n.c(),r=E()},m(e,n){a[t].m(e,n),y(e,r,n),i=!0},p(e,[i]){let u=t;t=s(e),t===u?a[t].p(e,i):(q(),J(a[u],1,1,(()=>{a[u]=null})),X(),n=a[t],n?n.p(e,i):(n=a[t]=o[t](e),n.c()),Q(n,1),n.m(r.parentNode,r))},i(e){i||(Q(n),i=!0)},o(e){J(n),i=!1},d(e){a[t].d(e),e&&b(r)}}}function Nr(){const e=window.location.href.indexOf("#/");let t=e>-1?window.location.href.substr(e+1):"/";const n=t.indexOf("?");let r="";return n>-1&&(r=t.substr(n+1),t=t.substr(0,n)),{location:t,querystring:r}}const Ur=Ir(null,(function(e){e(Nr());const t=()=>{e(Nr())};return window.addEventListener("hashchange",t,!1),function(){window.removeEventListener("hashchange",t,!1)}}));Br(Ur,(e=>e.location)),Br(Ur,(e=>e.querystring));const $r=Dr(void 0);function Hr(e,t,n){let{routes:r={}}=t,{prefix:i=""}=t,{restoreScrollState:o=!1}=t;class a{constructor(e,t){if(!t||"function"!=typeof t&&("object"!=typeof t||!0!==t._sveltesparouter))throw Error("Invalid component object");if(!e||"string"==typeof e&&(e.length<1||"/"!=e.charAt(0)&&"*"!=e.charAt(0))||"object"==typeof e&&!(e instanceof RegExp))throw Error('Invalid value for "path" argument - strings must start with / or *');const{pattern:n,keys:r}=function(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var n,r,i,o,a=[],s="",u=e.split("/");for(u[0]||u.shift();i=u.shift();)"*"===(n=i[0])?(a.push("wild"),s+="/(.*)"):":"===n?(r=i.indexOf("?",1),o=i.indexOf(".",1),a.push(i.substring(1,~r?r:~o?o:i.length)),s+=~r&&!~o?"(?:/([^/]+?))?":"/([^/]+?)",~o&&(s+=(~r?"?":"")+"\\"+i.substring(o))):s+="/"+i;return{keys:a,pattern:new RegExp("^"+s+(t?"(?=$|/)":"/?$"),"i")}}(e);this.path=e,"object"==typeof t&&!0===t._sveltesparouter?(this.component=t.component,this.conditions=t.conditions||[],this.userData=t.userData,this.props=t.props||{}):(this.component=()=>Promise.resolve(t),this.conditions=[],this.props={}),this._pattern=n,this._keys=r}match(e){if(i)if("string"==typeof i){if(!e.startsWith(i))return null;e=e.substr(i.length)||"/"}else if(i instanceof RegExp){const t=e.match(i);if(!t||!t[0])return null;e=e.substr(t[0].length)||"/"}const t=this._pattern.exec(e);if(null===t)return null;if(!1===this._keys)return t;const n={};let r=0;for(;r<this._keys.length;){try{n[this._keys[r]]=decodeURIComponent(t[r+1]||"")||null}catch(e){n[this._keys[r]]=null}r++}return n}async checkConditions(e){for(let t=0;t<this.conditions.length;t++)if(!await this.conditions[t](e))return!1;return!0}}const s=[];r instanceof Map?r.forEach(((e,t)=>{s.push(new a(t,e))})):Object.keys(r).forEach((e=>{s.push(new a(e,r[e]))}));let u=null,l=null,c={};const f=D();async function p(e,t){await(H(),U),f(e,t)}let d=null,h=null;o&&(h=e=>{d=e.state&&e.state.__svelte_spa_router_scrollY?e.state:null},window.addEventListener("popstate",h),I((()=>{d?window.scrollTo(d.__svelte_spa_router_scrollX,d.__svelte_spa_router_scrollY):window.scrollTo(0,0)})));let g=null,m=null;const v=Ur.subscribe((async e=>{g=e;let t=0;for(;t<s.length;){const r=s[t].match(e.location);if(!r){t++;continue}const i={route:s[t].path,location:e.location,querystring:e.querystring,userData:s[t].userData,params:r&&"object"==typeof r&&Object.keys(r).length?r:null};if(!await s[t].checkConditions(i))return n(0,u=null),m=null,void p("conditionsFailed",i);p("routeLoading",Object.assign({},i));const o=s[t].component;if(m!=o){o.loading?(n(0,u=o.loading),m=o,n(1,l=o.loadingParams),n(2,c={}),p("routeLoaded",Object.assign({},i,{component:u,name:u.name,params:l}))):(n(0,u=null),m=null);const t=await o();if(e!=g)return;n(0,u=t&&t.default||t),m=o}return r&&"object"==typeof r&&Object.keys(r).length?n(1,l=r):n(1,l=null),n(2,c=s[t].props),void p("routeLoaded",Object.assign({},i,{component:u,name:u.name,params:l})).then((()=>{$r.set(l)}))}n(0,u=null),m=null,$r.set(void 0)}));var y;return y=()=>{v(),h&&window.removeEventListener("popstate",h)},P().$$.on_destroy.push(y),e.$$set=e=>{"routes"in e&&n(3,r=e.routes),"prefix"in e&&n(4,i=e.prefix),"restoreScrollState"in e&&n(5,o=e.restoreScrollState)},e.$$.update=()=>{32&e.$$.dirty&&(history.scrollRestoration=o?"manual":"auto")},[u,l,c,r,i,o,function(t){B.call(this,e,t)},function(t){B.call(this,e,t)}]}class Gr extends se{constructor(e){super(),ae(this,e,Hr,Fr,a,{routes:3,prefix:4,restoreScrollState:5})}}const zr=Dr([]);function Vr(){return Boolean(window.dataLayer).valueOf()&&Array.isArray(window.dataLayer)}function Kr(){window.dataLayer.push(arguments)}function Zr(e,t,n){let{properties:r}=t,{configurations:i={}}=t,{enabled:o=!0}=t;function a(){!function(e,t,n){let r=e.length;function i(){r=--r,r<1&&n()}t()?n():e.forEach((({type:e,url:t,options:n={async:!0,defer:!0}})=>{const r="script"===e,o=document.createElement(r?"script":"link");r?(o.src=t,o.async=n.async,o.defer=n.defer):(o.rel="stylesheet",o.href=t),o.onload=i,document.body.appendChild(o)}))}([{type:"script",url:`//www.googletagmanager.com/gtag/js?id=${r[0]}`}],Vr,s)}function s(){return window.dataLayer=window.dataLayer||[],Kr("js",new Date),r.forEach((e=>{Kr("config",e,i[e]||{})})),zr.subscribe((e=>{let t=e.length&&e.shift();for(;t;){const{event:n,data:r}=t;Kr("event",n,r),t=e.shift()}}))}return O((()=>{o&&a()})),e.$$set=e=>{"properties"in e&&n(0,r=e.properties),"configurations"in e&&n(1,i=e.configurations),"enabled"in e&&n(2,o=e.enabled)},[r,i,o,a]}class Wr extends se{constructor(e){super(),ae(this,e,Zr,null,a,{properties:0,configurations:1,enabled:2,init:3})}get init(){return this.$$.ctx[3]}}function Yr(t){let n,r,o,a,s,u,l,c,f,p,d,h;return{c(){n=A("div"),r=A("h3"),r.textContent="This website uses cookies",o=x(),a=A("p"),a.textContent="Functionality cookies are used for the proper functioning of the website, and cannot be disabled, but neither do they collect any information that is not strictly necessary for the proper functioning of the website.",s=x(),u=A("p"),u.textContent="Statistical cookies help website owners understand how visitors interact with websites by gathering and providing information in an anonymous form. You can choose whether to enable or disable statistical cookies.",l=x(),c=A("button"),c.textContent="Accept statistical cookies",f=x(),p=A("button"),p.textContent="Deny statistical cookies",T(n,"class","rgpd-message svelte-1uf8n1s")},m(e,i){y(e,n,i),v(n,r),v(n,o),v(n,a),v(n,s),v(n,u),v(n,l),v(n,c),v(n,f),v(n,p),d||(h=[C(c,"click",t[3]),C(p,"click",t[4])],d=!0)},p:e,d(e){e&&b(n),d=!1,i(h)}}}function qr(e){let t,n,r,i,o,a,s,u,l,c,f,p;t=new Wr({props:{properties:["UA-26470475-6"],enabled:!1}}),e[5](t),r=new ge({}),s=new Gr({props:{routes:e[2]}}),l=new ve({});let d=e[1]&&Yr(e);return{c(){re(t.$$.fragment),n=x(),re(r.$$.fragment),i=x(),o=A("main"),a=A("section"),re(s.$$.fragment),u=x(),re(l.$$.fragment),c=x(),d&&d.c(),f=E(),T(a,"class","container svelte-1uf8n1s"),T(o,"class","svelte-1uf8n1s")},m(e,h){ie(t,e,h),y(e,n,h),ie(r,e,h),y(e,i,h),y(e,o,h),v(o,a),ie(s,a,null),v(o,u),ie(l,o,null),y(e,c,h),d&&d.m(e,h),y(e,f,h),p=!0},p(e,[n]){t.$set({}),e[1]?d?d.p(e,n):(d=Yr(e),d.c(),d.m(f.parentNode,f)):d&&(d.d(1),d=null)},i(e){p||(Q(t.$$.fragment,e),Q(r.$$.fragment,e),Q(s.$$.fragment,e),Q(l.$$.fragment,e),p=!0)},o(e){J(t.$$.fragment,e),J(r.$$.fragment,e),J(s.$$.fragment,e),J(l.$$.fragment,e),p=!1},d(a){e[5](null),oe(t,a),a&&b(n),oe(r,a),a&&b(i),a&&b(o),oe(s),oe(l),a&&b(c),d&&d.d(a),a&&b(f)}}}function Xr(e,t,n){const r={"/":Wn,"/download":Qn,"/about":er,"/features":nr,"/demos":mr,"/demos/:id":mr,"/contributions":Pr,"/doc/:id":_r,"/demos-all":Rr,"*":ir};let i=null,o=!0;return O((()=>{const e=le("enable-analytics");""===e?n(1,o=!0):"true"===e?(i.init(),n(1,o=!1)):"false"===e&&n(1,o=!1)})),[i,o,r,function(){ue("enable-analytics","true"),i.init(),n(1,o=!1)},function(){ue("enable-analytics","false"),n(1,o=!1)},function(e){M[e?"unshift":"push"]((()=>{i=e,n(0,i)}))}]}return new class extends se{constructor(e){super(),ae(this,e,Xr,qr,a,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
